{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../src/data/dataModel.js","../../src/data/shields.js","../../src/scripts/utils.js","../../src/data/stores.js","../../src/scripts/download.js","../../src/components/WindowEvents.svelte","../../src/scripts/tooltip.js","../../src/components/navigation/Lock.svelte","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../src/components/navigation/Navbar.svelte","../../src/components/navigation/AnimatedCOA.svelte","../../src/components/navigation/About.svelte","../../src/scripts/drag.js","../../src/data/templates.js","../../src/scripts/getTemplate.js","../../src/components/object/Ordinary.svelte","../../src/components/object/Charge.svelte","../../src/components/object/Shield.svelte","../../src/components/editor/Grid.svelte","../../src/components/editor/Positions.svelte","../../src/components/object/COA.svelte","../../src/scripts/generator.js","../../src/scripts/alea.js","../../src/components/navigation/Viewer.svelte","../../src/components/editor/EditorType.svelte","../../src/components/editor/EditorSize.svelte","../../src/components/editor/EditorItem.svelte","../../src/components/editor/EditorTincture.svelte","../../src/components/editor/EditorPattern.svelte","../../src/components/editor/EditorCharge.svelte","../../src/components/editor/EditorDivision.svelte","../../src/components/editor/EditorDivided.svelte","../../src/components/editor/EditorLine.svelte","../../src/components/editor/EditorOrdinary.svelte","../../src/components/editor/Switch.svelte","../../src/components/editor/EditorStroke.svelte","../../src/components/editor/EditorPosition.svelte","../../src/components/editor/EditorShift.svelte","../../src/components/editor/EditorControls.svelte","../../src/components/editor/EditorAbove.svelte","../../src/components/editor/Editor.svelte","../../src/components/navigation/Gallery.svelte","../../src/components/navigation/UploadRaster.svelte","../../src/components/navigation/UploadVector.svelte","../../node_modules/svelte/animate/index.mjs","../../src/components/navigation/Tinctures.svelte","../../src/components/Message.svelte","../../src/components/Patterns.svelte","../../src/components/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.29.4' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","export const defaultTinctures = {\n  field: { metals: 35, colours: 49, stains: 1, patterns: 14 },\n  division: { metals: 35, colours: 49, stains: 1, patterns: 8 },\n  charge: { metals: 16, colours: 24, stains: 1, patterns: 0 },\n  metals: { argent: 3, or: 2 },\n  colours: { gules: 5, azure: 4, sable: 3, purpure: 3, vert: 2 },\n  stains: { murrey: 1, sanguine: 1, tenné: 1 },\n  patterns: { semy: 1, vair: 2, vairInPale: 1, vairEnPointe: 2, ermine: 2, chequy: 5, lozengy: 2, fusily: 1, pally: 4, barry: 4, gemelles: 1, bendy: 3, bendySinister: 2, palyBendy: 1, pappellony: 2, masoned: 3, fretty: 2 }\n}\n\nexport const defaultColors = {\n  argent: \"#fafafa\",\n  or: \"#ffe066\",\n  gules: \"#d7374a\",\n  sable: \"#333333\",\n  azure: \"#377cd7\",\n  vert: \"#26c061\",\n  purpure: \"#522d5b\",\n  murrey: \"#85185b\",\n  sanguine: \"#b63a3a\",\n  tenné: \"#cc7f19\"\n}\n\nexport const positionsSelect = [\n  \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"y\", \"z\",\n  \"kn\", \"bh\", \"df\", \"pq\", \"jo\", \"lm\",\n  \"abc\", \"def\", \"ghi\", \"adg\", \"beh\", \"cfi\",\n  \"jeo\", \"jln\", \"kmo\", \"peq\", \"lem\",\n  \"bhdf\", \"jleh\", \"behdf\", \"acegi\",\n  \"bdefh\", \"kenpq\", \"abcpqh\",\n  \"abcdefgzi\", \"ABCDEFGHIJKL\"\n];\n\nexport const positions = {\n  conventional: { e: 20, abcdefgzi: 3, beh: 3, behdf: 2, acegi: 1, kn: 3, bhdf: 1, jeo: 1, abc: 3, jln: 6, jlh: 3, kmo: 2, jleh: 1, def: 3, abcpqh: 4, ABCDEFGHIJKL: 1 },\n  complex: { e: 40, beh: 1, kn: 1, jeo: 1, abc: 2, jln: 7, jlh: 2, def: 1, abcpqh: 1 },\n  divisions: {\n    perPale: { e: 15, pq: 5, jo: 2, jl: 2, ABCDEFGHIJKL: 1 },\n    perFess: { e: 12, kn: 4, jkl: 2, gizgiz: 1, jlh: 3, kmo: 1, ABCDEFGHIJKL: 1 },\n    perBend: { e: 5, lm: 5, bcfdgh: 1 },\n    perBendSinister: { e: 1, jo: 1 },\n    perCross: { e: 4, jlmo: 1, j: 1, jo: 2, jl: 1 },\n    perChevron: { e: 1, jlh: 1, dfk: 1, dfbh: 2, bdefh: 1 },\n    perChevronReversed: { e: 1, mok: 2, dfh: 2, dfbh: 1, bdefh: 1 },\n    perSaltire: { bhdf: 8, e: 3, abcdefgzi: 1, bh: 1, df: 1, ABCDEFGHIJKL: 1 },\n    perPile: { ee: 3, be: 2, abceh: 1, abcabc: 1, jleh: 1 }\n  },\n  ordinariesOn: {\n    pale: { ee: 12, beh: 10, kn: 3, bb: 1 },\n    fess: { ee: 1, def: 3 },\n    bar: { defdefdef: 1 },\n    fessCotissed: { ee: 1, def: 3 },\n    fessDoubleCotissed: { ee: 1, defdef: 3 },\n    bend: { ee: 2, jo: 1, joe: 1 },\n    bendSinister: { ee: 1, lm: 1, lem: 4 },\n    bendlet: { joejoejoe: 1 },\n    bendletSinister: { lemlemlem: 1 },\n    bordure: { ABCDEFGHIJKL: 1 },\n    chief: { abc: 5, bbb: 1 },\n    quarter: { jjj: 1 },\n    canton: { yyyy: 1 },\n    cross: { eeee: 1, behdfbehdf: 3, behbehbeh: 2 },\n    crossParted: { e: 5, ee: 1 },\n    saltire: { ee: 5, jlemo: 1 },\n    saltireParted: { e: 5, ee: 1 },\n    pall: { ee: 1, jleh: 5, jlhh: 3 },\n    pallReversed: { ee: 1, bemo: 5 },\n    pile: { bbb: 1 },\n    pileInBend: { eeee: 1, eeoo: 1 },\n    pileInBendSinister: { eeee: 1, eemm: 1 }\n  },\n  ordinariesOff: {\n    pale: { yyy: 1 },\n    fess: { abc: 3, abcz: 1 },\n    bar: { abc: 2, abcgzi: 1, jlh: 5, bgi: 2, ach: 1 },\n    gemelle: { abc: 1 },\n    bend: { ccg: 2, ccc: 1 },\n    bendSinister: { aai: 2, aaa: 1 },\n    bendlet: { ccg: 2, ccc: 1 },\n    bendletSinister: { aai: 2, aaa: 1 },\n    bordure: { e: 4, jleh:2, kenken: 1, peqpeq: 1 },\n    orle: { e: 4, jleh: 1, kenken: 1, peqpeq: 1 },\n    chief: { emo: 2, emoz: 1, ez: 2 },\n    terrace: { e: 5, def: 1, bdf: 3 },\n    mount: { e: 5, def: 1, bdf: 3 },\n    point: { e: 2, def: 1, bdf: 3, acbdef: 1 },\n    flaunches: { e: 3, kn: 1, beh: 3 },\n    gyron: { bh: 1 },\n    quarter: { e: 1 },\n    canton: { e: 5, beh: 1, def: 1, bdefh: 1, kn: 1 },\n    cross: { acgi: 1 },\n    pall: { BCKFEILGJbdmfo: 1 },\n    pallReversed: { aczac: 1 },\n    chevron: { ach: 3, hhh: 1 },\n    chevronReversed: { bbb: 1 },\n    pile: { acdfgi: 1, acac: 1 },\n    pileInBend: { cg: 1 },\n    pileInBendSinister: { ai: 1 },\n    label: { defgzi: 2, eh: 3, defdefhmo: 1, egiegi: 1, pqn: 5 }\n  },\n  // charges\n  inescutcheon: { e: 4, jln: 1 },\n  mascle: { e: 15, abcdefgzi: 3, beh: 3, bdefh: 4, acegi: 1, kn: 3, joe: 2, abc: 3, jlh: 8, jleh: 1, df: 3, abcpqh: 4, pqe: 3, eknpq: 3 },\n  lionRampant: { e: 10, def: 2, abc: 2, bdefh: 1, kn: 1, jlh: 2, abcpqh: 1 },\n  lionPassant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  wolfPassant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  greyhoundСourant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  griffinRampant: { e: 10, def: 2, abc: 2, bdefh: 1, kn: 1, jlh: 2, abcpqh: 1 },\n  griffinPassant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  boarRampant: { e: 12, beh: 1, kn: 1, jln: 2 },\n  eagle: { e: 15, beh: 1, kn: 1, abc: 1, jlh: 2, def: 2, pq: 1 },\n  raven: { e: 15, beh: 1, kn: 1, jeo: 1, abc: 3, jln: 3, def: 1 },\n  wyvern: { e: 10, jln: 1 },\n  garb: { e: 1, def: 3, abc: 2, beh: 1, kn: 1, jln: 3, jleh: 1, abcpqh: 1, joe: 1, lme: 1 },\n  crown: { e: 10, abcdefgzi: 1, beh: 3, behdf: 2, acegi: 1, kn: 1, pq: 2, abc: 1, jln: 4, jleh: 1, def: 2, abcpqh: 3 },\n  hand: { e: 10, jln: 2, kn: 1, jeo: 1, abc: 2, pqe: 1 },\n  armillarySphere: {e: 1},\n  tree: {e: 1},\n  lymphad: {e: 1},\n  head: {e: 1},\n  headWreathed: {e: 1},\n  cavalier: {e: 1}\n};\n\nexport const lines = {\n  straight: 50, wavy: 8, engrailed: 4, invecked: 3, rayonne: 3, embattled: 1, raguly: 1, urdy: 1, dancetty: 1, indented: 2,\n  dentilly: 1, bevilled: 1, angled: 1, flechy: 1, barby: 1, enclavy: 1, escartely: 1, arched: 2, archedReversed: 1, nowy: 1, nowyReversed: 1,\n  embattledGhibellin: 1, embattledNotched: 1, embattledGrady: 1, dovetailedIndented: 1, dovetailed: 1,\n  potenty: 1, potentyDexter: 1, potentySinister: 1, nebuly: 2, seaWaves: 1, dragonTeeth: 1, firTrees: 1\n};\n\nexport const divisions = {\n  variants: { perPale: 5, perFess: 5, perBend: 2, perBendSinister: 1, perChevron: 1, perChevronReversed: 1, perCross: 5, perPile: 1, perSaltire: 1, gyronny: 1, chevronny: 1 },\n  perPale: lines,\n  perFess: lines,\n  perBend: lines,\n  perBendSinister: lines,\n  perChevron: lines,\n  perChevronReversed: lines,\n  perCross: { straight: 20, wavy: 5, engrailed: 4, invecked: 3, rayonne: 1, embattled: 1, raguly: 1, urdy: 1, indented: 2, dentilly: 1, bevilled: 1, angled: 1, embattledGhibellin: 1, embattledGrady: 1, dovetailedIndented: 1, dovetailed: 1, potenty: 1, potentyDexter: 1, potentySinister: 1, nebuly: 1 },\n  perPile: lines\n};\n\nexport const ordinaries = {\n  lined: {\n    pale: 7, fess: 5, bend: 3, bendSinister: 2, chief: 5, bar: 2, gemelle: 1, fessCotissed: 1, fessDoubleCotissed: 1,\n    bendlet: 2, bendletSinister: 1, terrace: 3, cross: 6, crossParted: 1, saltire: 2, saltireParted: 1\n  },\n  straight: {\n    bordure: 8, orle: 4, mount: 1, point: 2, flaunches: 1, gore: 1,\n    gyron: 1, quarter: 1, canton: 2, pall: 3, pallReversed: 2, chevron: 4, chevronReversed: 3,\n    pile: 2, pileInBend: 2, pileInBendSinister: 1, piles: 1, pilesInPoint: 2, label: 1\n  },\n  patternable: [\"flaunches\", \"gyron\", \"quarter\", \"canton\", \"pall\", \"pallReversed\", \"pileInBend\", \"pileInBendSinister\"]\n};\n\nexport const charges = {\n  types: { conventional: 30, crosses: 8, animals: 2, animalHeads: 1, birds: 2, aquatic: 1, seafaring: 1, fantastic: 3, plants: 1, agriculture: 1, arms: 3, bodyparts: 1, people: 1, architecture: 1, miscellaneous: 3, inescutcheon: 3, uploaded: 0 },\n  single: { conventional: 12, crosses: 8, plants: 2, animals: 10, animalHeads: 2, birds: 4, aquatic: 2, seafaring: 2, fantastic: 7, agriculture: 1, arms: 6, bodyparts: 1, people: 1, architecture: 1, miscellaneous: 9, inescutcheon: 5, uploaded: 0 },\n  semy: { conventional: 12, crosses: 3, plants: 1 },\n  conventional: {\n    lozenge: 2, fusil: 4, mascle: 4, rustre: 2, lozengeFaceted: 3, lozengePloye: 1, roundel: 4, roundel2: 3, annulet: 4,\n    mullet: 5, mulletPierced: 1, mulletFaceted: 1, mullet4: 3, mullet6: 4, mullet6Pierced: 1, mullet6Faceted: 1, mullet7: 1, mullet8: 1, mullet10: 1,\n    estoile: 1, compassRose: 1, billet: 5, delf: 0, triangle: 3, trianglePierced: 1, goutte: 4, heart: 4, pique: 2, carreau: 1, trefle: 2,\n    fleurDeLis: 6, sun: 3, sunInSplendour: 1, crescent: 5, fountain: 1\n  },\n  inescutcheon: {\n    inescutcheonHeater: 1, inescutcheonSpanish: 1, inescutcheonFrench: 1,\n    inescutcheonHorsehead: 1, inescutcheonHorsehead2: 1, inescutcheonPolish: 1, inescutcheonHessen: 1, inescutcheonSwiss: 1,\n    inescutcheonBoeotian: 1, inescutcheonRoman: 1, inescutcheonKite: 1, inescutcheonOldFrench: 1, inescutcheonRenaissance: 1, inescutcheonBaroque: 1,\n    inescutcheonTarge: 1, inescutcheonTarge2: 1, inescutcheonPavise: 1, inescutcheonWedged: 1,\n    inescutcheonFlag: 1, inescutcheonPennon: 1, inescutcheonGuidon: 1, inescutcheonBanner: 1, inescutcheonDovetail: 1, inescutcheonGonfalon: 1, inescutcheonPennant: 1,\n    inescutcheonRound: 1, inescutcheonOval: 1, inescutcheonVesicaPiscis: 1, inescutcheonSquare: 1, inescutcheonDiamond: 1, inescutcheonNo: 1,\n    inescutcheonFantasy1: 1, inescutcheonFantasy2: 1, inescutcheonFantasy3: 1, inescutcheonFantasy4: 1, inescutcheonFantasy5: 1,\n    inescutcheonNoldor: 1, inescutcheonGondor: 1, inescutcheonEasterling: 1, inescutcheonErebor: 1, inescutcheonIronHills: 1, inescutcheonUrukHai: 1, inescutcheonMoriaOrc: 1\n  },\n  crosses: {\n    crossHummetty: 15, crossVoided: 1, crossPattee: 3, crossPotent: 2, crossClechy: 3, crosslet: 1, crossBottony: 1, crossFleury: 3,\n    crossPatonce: 1, crossPommy: 1, crossGamma: 1, crossArrowed: 1, crossFitchy: 1, crossCercelee: 1, crossMoline: 2, crossFourchy: 1,\n    crossAvellane: 1, crossErminee: 1, crossMaltese: 3, crossCeltic: 1, crossOccitan: 1, crossSaltire: 3, crossTau: 1\n  },\n  animals: {\n    lionRampant: 5, lionPassant: 2, wolfRampant: 1, wolfPassant: 1, wolfStatant: 1, greyhoundCourant: 1, boarRampant: 1,\n    horseRampant: 2, horseSalient: 1, bearRampant: 2, bearPassant: 1, bullPassant: 1, goat: 1, lamb: 1, elephant: 1\n  },\n  animalHeads: {\n    wolfHeadErased: 2, bullHeadCaboshed: 1, deerHeadCaboshed: 1\n  },\n  fantastic: { dragonPassant: 2, dragonRampant: 2, wyvern: 1, wyvernWithWingsDisplayed: 1, griffinPassant: 1, griffinRampant: 1, eagleTwoHeards: 2, unicornRampant: 1, pegasus: 1, serpent: 1 },\n  birds: { eagle: 9, raven: 2, cock: 3, parrot: 1, swan: 2, swanErased: 1, heron: 1 },\n  plants: { tree: 1, cinquefoil: 1, rose: 1 },\n  aquatic: { escallop: 5, pike: 1, cancer: 1, dolphin: 1 },\n  seafaring: { anchor: 6, boat: 2, lymphad: 2, armillarySphere: 1 },\n  agriculture: { garb: 2, rake: 1 },\n  arms: { sword: 5, sabre: 1, sabresCrossed: 1, hatchet: 2, lochaberAxe: 1, mallet: 1, bowWithArrow: 2, bow: 1, arrow: 1, arrowsSheaf: 1 },\n  bodyparts: { hand: 4, head: 1, headWreathed: 1 },\n  people: { cavalier: 1 },\n  architecture: { tower: 1, castle: 1 },\n  miscellaneous: {\n    crown: 3, orb: 1, chalice: 1, key: 1, buckle: 1, bugleHorn: 1, bell: 2, pot: 1, horseshoe: 3, stagsAttires: 1, cowHorns: 2, wing: 1, wingSword: 1,\n    lute: 1, harp: 1, wheel: 2, crosier: 1, log: 1},\n  uploaded: {},\n  natural: { fountain: \"azure\", garb: \"or\", raven: \"sable\" }, // charges to mainly use predefined colours\n  sinister: [\n    \"crossGamma\", \"lionRampant\", \"lionPassant\", \"wolfRampant\", \"wolfPassant\", \"wolfStatant\", \"wolfHeadErased\", \"greyhoundСourant\", \"boarRampant\",\n    \"horseRampant\", \"horseSalient\", \"bullPassant\", \"bearRampant\", \"bearPassant\", \"goat\", \"lamb\", \"elephant\", \"eagle\", \"raven\", \"cock\", \"parrot\",\n    \"swan\", \"swanErased\", \"heron\", \"pike\", \"dragonPassant\", \"dragonRampant\", \"wyvern\", \"wyvernWithWingsDisplayed\", \"griffinPassant\", \"griffinRampant\",\n    \"unicornRampant\", \"pegasus\", \"serpent\", \"hatchet\", \"lochaberAxe\", \"hand\", \"wing\", \"wingSword\", \"lute\", \"harp\", \"bow\", \"head\", \"headWreathed\",\n    \"knight\", \"lymphad\", \"log\", \"crosier\", \"dolphin\", \"sabre\"], // charges that can be sinister\n  reversed: [\"goutte\", \"mullet\", \"mullet7\", \"crescent\", \"crossTau\", \"cancer\", \"sword\", \"sabresCrossed\", \"hand\", \"horseshoe\", \"bowWithArrow\", \"arrow\", \"arrowsSheaf\", \"rake\"], // charges that can be reversed\n  patternable: [\n    \"lozengePloye\", \"roundel\", \"annulet\", \"mullet4\", \"mullet8\", \"delf\", \"triangle\", \"trianglePierced\", \"sun\", \"fountain\",\"inescutcheonRound\", \"inescutcheonSquare\",\n    \"inescutcheonNo\", \"crossHummetty\", \"crossVoided\", \"crossPattee\", \"crossPotent\", \"crossClechy\", \"crosslet\", \"crossBottony\", \"crossFleury\", \"crossPatonce\",\"crossPommy\",\n    \"crossGamma\", \"crossArrowed\", \"crossFitchy\", \"crossCercelee\", \"crossMoline\", \"crossAvellane\", \"crossErminee\", \"crossMaltese\", \"crossCeltic\", \"crossOccitan\", \"crossSaltire\", \"crossTau\"],\n}","export const shields = {\n  types: {basic: 10, regional: 2, historical: 1, specific: 1, banner: 1, simple: 2, fantasy: 1, middleEarth: 0},\n  basic: {heater: 12, spanish: 6, french: 1},\n  regional: {horsehead: 1, horsehead2: 1, polish: 1, hessen: 1, swiss: 1},\n  historical: {boeotian: 1, roman: 2, kite: 1, oldFrench: 5, renaissance: 2, baroque: 2},\n  specific: {targe: 1, targe2: 0, pavise: 5, wedged: 10},\n  banner: {flag: 1, pennon: 0, guidon: 0, banner: 0, dovetail: 1, gonfalon: 5, pennant: 0},\n  simple: {round: 12, oval: 6, vesicaPiscis: 1, square: 1, diamond: 2, no: 0},\n  fantasy: {fantasy1: 2, fantasy2: 2, fantasy3: 1, fantasy4: 1, fantasy5: 3},\n  middleEarth: {noldor: 1, gondor: 1, easterling: 1, erebor: 1, ironHills: 1, urukHai: 1, moriaOrc: 1}\n}\n\nexport const shieldPaths = {\n  heater: \"m25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z\",\n  spanish: \"m25,25 h150 v100 a75,75,0,0,1,-150,0 z\",\n  french: \"m 25,25 h 150 v 139.15 c 0,41.745 -66,18.15 -75,36.3 -9,-18.15 -75,5.445 -75,-36.3 v 0 z\",\n  horsehead: \"m 20,40 c 0,60 40,80 40,100 0,10 -4,15 -0.35,30 C 65,185.7 81,200 100,200 c 19.1,0 35.3,-14.6 40.5,-30.4 C 144.2,155 140,150 140,140 140,120 180,100 180,40 142.72,40 150,15 100,15 55,15 55,40 20,40 Z\",\n  horsehead2: \"M60 20c-5 20-10 35-35 55 25 35 35 65 30 100 20 0 35 10 45 26 10-16 30-26 45-26-5-35 5-65 30-100a87 87 0 01-35-55c-25 3-55 3-80 0z\",\n  polish: \"m 90.3,6.3 c -12.7,0 -20.7,10.9 -40.5,14 0,11.8 -4.9,23.5 -11.4,31.1 0,0 12.7,6 12.7,19.3 C 51.1,90.8 30,90.8 30,90.8 c 0,0 -3.6,7.4 -3.6,22.4 0,34.3 23.1,60.2 40.7,68.2 17.6,8 27.7,11.4 32.9,18.6 5.2,-7.3 15.3,-10.7 32.8,-18.6 17.6,-8 40.7,-33.9 40.7,-68.2 0,-15 -3.6,-22.4 -3.6,-22.4 0,0 -21.1,0 -21.1,-20.1 0,-13.3 12.7,-19.3 12.7,-19.3 C 155.1,43.7 150.2,32.1 150.2,20.3 130.4,17.2 122.5,6.3 109.7,6.3 102.5,6.3 100,10 100,10 c 0,0 -2.5,-3.7 -9.7,-3.7 z\",\n  hessen: \"M170 20c4 5 8 13 15 20 0 0-10 0-10 15 0 100-15 140-75 145-65-5-75-45-75-145 0-15-10-15-10-15l15-20c0 15 10-5 70-5s70 20 70 5z\",\n  swiss: \"m 25,20 c -0.1,0 25.2,8.5 37.6,8.5 C 75.1,28.5 99.1,20 100,20 c 0.6,0 24.9,8.5 37.3,8.5 C 149.8,28.5 174.4,20 175,20 l -0.3,22.6 C 173.2,160.3 100,200 100,200 100,200 26.5,160.9 25.2,42.6 Z\",\n  boeotian: \"M150 115c-5 0-10-5-10-15s5-15 10-15c10 0 7 10 15 10 10 0 0-30 0-30-10-25-30-55-65-55S45 40 35 65c0 0-10 30 0 30 8 0 5-10 15-10 5 0 10 5 10 15s-5 15-10 15c-10 0-7-10-15-10-10 0 0 30 0 30 10 25 30 55 65 55s55-30 65-55c0 0 10-30 0-30-8 0-5 10-15 10z\",\n  roman: \"m 160,170 c -40,20 -80,20 -120,0 V 30 C 80,10 120,10 160,30 Z\",\n  kite: \"m 53.3,46.4 c 0,4.1 1,12.3 1,12.3 7.1,55.7 45.7,141.3 45.7,141.3 0,0 38.6,-85.6 45.7,-141.2 0,0 1,-8.1 1,-12.3 C 146.7,20.9 125.8,0.1 100,0.1 74.2,0.1 53.3,20.9 53.3,46.4 Z\",\n  oldFrench: \"m25,25 h150 v75 a100,100,0,0,1,-75,100 a100,100,0,0,1,-75,-100 z\",\n  renaissance: \"M 25,33.9 C 33.4,50.3 36.2,72.9 36.2,81.7 36.2,109.9 25,122.6 25,141 c 0,29.4 24.9,44.1 40.2,47.7 15.3,3.7 29.3,0 34.8,11.3 5.5,-11.3 19.6,-7.6 34.8,-11.3 C 150.1,185 175,170.3 175,141 c 0,-18.4 -11.2,-31.1 -11.2,-59.3 0,-8.8 2.8,-31.3 11.2,-47.7 L 155.7,14.4 C 138.2,21.8 119.3,25.7 100,25.7 c -19.3,0 -38.2,-3.9 -55.7,-11.3 z\",\n  baroque: \"m 100,25 c 18,0 50,2 75,14 v 37 l -2.7,3.2 c -4.9,5.4 -6.6,9.6 -6.7,16.2 0,6.5 2,11.6 6.9,17.2 l 2.8,3.1 v 10.2 c 0,17.7 -2.2,27.7 -7.8,35.9 -5,7.3 -11.7,11.3 -32.3,19.4 -12.6,5 -20.2,8.8 -28.6,14.5 C 103.3,198 100,200 100,200 c 0,0 -2.8,-2.3 -6.4,-4.7 C 85.6,189.8 78,186 65,180.9 32.4,168.1 26.9,160.9 25.8,129.3 L 25,116 l 3.3,-3.3 c 4.8,-5.2 7,-10.7 7,-17.3 0,-6.8 -1.8,-11.1 -6.5,-16.1 L 25,76 V 39 C 50,27 82,25 100,25 Z\",\n  targe: \"m 20,35 c 15,0 115,-60 155,-10 -5,10 -15,15 -10,50 5,45 10,70 -10,90 C 125,195 75,195 50,175 25,150 30,130 35,85 50,95 65,85 65,70 65,50 50,45 40,50 30,55 27,65 30,70 23,73 20,70 14,70 11,60 20,45 20,35 Z\",\n  targe2: \"m 84,32.2 c 6.2,-1 19.5,-31.4 94.1,-20.2 -30.57,33.64 -21.66,67.37 -11.2,95 20.2,69.5 -41.17549,84.7 -66.88,84.7 C 74.32,191.7071 8.38,168.95 32,105.9 36.88,92.88 31,89 31,82.6 35.15,82.262199 56.79,86.17 56.5,69.8 56.20,52.74 42.2,47.9 25.9,55.2 25.9,51.4 39.8,6.7 84,32.2 Z\",\n  pavise: \"M95 7L39.9 37.3a10 10 0 00-5.1 9.5L46 180c.4 5.2 3.7 10 9 10h90c5.3 0 9.6-4.8 10-10l10.6-133.2a10 10 0 00-5-9.5L105 7c-4.2-2.3-6.2-2.3-10 0z\",\n  wedged: \"m 51.2,19 h 96.4 c 3.1,12.7 10.7,20.9 26.5,20.8 C 175.7,94.5 165.3,144.3 100,200 43.5,154.2 22.8,102.8 25.1,39.7 37,38.9 47.1,34.7 51.2,19 Z\",\n  round: \"m 185,100 a 85,85 0 0 1 -85,85 85,85 0 0 1 -85,-85 85,85 0 0 1 85,-85 85,85 0 0 1 85,85\",\n  oval: \"m 32.3,99.5 a 67.7,93.7 0 1 1 0,1.3 z\",\n  vesicaPiscis: \"M 100,0 C 63.9,20.4 41,58.5 41,100 c 0,41.5 22.9,79.6 59,100 36.1,-20.4 59,-58.5 59,-100 C 159,58.5 136.1,20.4 100,0 Z\",\n  square: \"M 25,25 H 175 V 175 H 25 Z\",\n  diamond: \"M 25,100 100,200 175,100 100,0 Z\",\n  no: \"m0,0 h200 v200 h-200 z\",\n  flag: \"M 10,40 h180 v120 h-180 Z\",\n  pennon: \"M 10,40 l190,60 -190,60 Z\",\n  guidon: \"M 10,40 h190 l-65,60 65,60 h-190 Z\",\n  banner: \"m 25,25 v 170 l 25,-40 25,40 25,-40 25,40 25,-40 25,40 V 25 Z\",\n  dovetail: \"m 25,25 v 175 l 75,-40 75,40 V 25 Z\",\n  gonfalon: \"m 25,25 v 125 l 75,50 75,-50 V 25 Z\",\n  pennant: \"M 25,15 100,200 175,15 Z\",\n  fantasy1: \"M 100,5 C 85,30 40,35 15,40 c 40,35 20,90 40,115 15,25 40,30 45,45 5,-15 30,-20 45,-45 20,-25 0,-80 40,-115 C 160,35 115,30 100,5 Z\",\n  fantasy2: \"m 152,21 c 0,0 -27,14 -52,-4 C 75,35 48,21 48,21 50,45 30,55 30,75 60,75 60,115 32,120 c 3,40 53,50 68,80 15,-30 65,-40 68,-80 -28,-5 -28,-45 2,-45 C 170,55 150,45 152,21 Z\",\n  fantasy3: \"M 167,67 C 165,0 35,0 33,67 c 32,-7 27,53 -3,43 -5,45 60,65 70,90 10,-25 75,-47.51058 70,-90 -30,10 -35,-50 -3,-43 z\",\n  fantasy4: \"M100 9C55 48 27 27 13 39c23 50 3 119 49 150 14 9 28 11 38 11s27-4 38-11c55-39 24-108 49-150-14-12-45 7-87-30z\",\n  fantasy5: \"M 100,0 C 75,25 30,25 30,25 c 0,69 20,145 70,175 50,-30 71,-106 70,-175 0,0 -45,0 -70,-25 z\",\n  noldor: \"m 55,75 h 2 c 3,-25 38,-10 3,20 15,50 30,75 40,105 10,-30 25,-55 40,-105 -35,-30 0,-45 3,-20 h 2 C 150,30 110,20 100,0 90,20 50,30 55,75 Z\",\n  gondor: \"m 100,200 c 15,-15 38,-35 45,-60 h 5 V 30 h -5 C 133,10 67,10 55,30 h -5 v 110 h 5 c 7,25 30,45 45,60 z\",\n  easterling: \"M 160,185 C 120,170 80,170 40,185 V 15 c 40,15 80,15 120,0 z\",\n  erebor: \"M25 135 V60 l22-13 16-37 h75 l15 37 22 13 v75l-22 18-16 37 H63l-16-37z\",\n  ironHills: \"m 30,25 60,-10 10,10 10,-10 60,10 -5,125 -65,50 -65,-50 z\",\n  urukHai: \"M 30,60 C 40,60 60,50 60,20 l -5,-3 45,-17 75,40 -5,5 -35,155 -5,-35 H 70 v 35 z\",\n  moriaOrc: \"M45 35c5 3 7 10 13 9h19c4-2 7-4 9-9 6 1 9 9 16 11 7-2 14 0 21 0 6-3 6-10 10-15 2-5 1-10-2-15-2-4-5-14-4-16 3 6 7 11 12 14 7 3 3 12 7 16 3 6 4 12 9 18 2 4 6 8 5 14 0 6-1 12 3 18-3 6-2 13-1 20 1 6-2 12-1 18 0 6-3 13 0 18 8 4 0 8-5 7-4 3-9 3-13 9-5 5-5 13-8 19 0 6 0 15-7 16-1 6-7 6-10 12-1-6 0-6-2-9l2-19c2-4 5-12-3-12-4-5-11-5-15 1l-13-18c-3-4-2 9-3 12 2 2-4-6-7-5-8-2-8 7-11 11-2 4-5 10-8 9 3-10 3-16 1-23-1-4 2-9-4-11 0-6 1-13-2-19-4-2-9-6-13-7V91c4-7-5-13 0-19-3-7 2-11 2-18-1-6 1-12 3-17v-1z\"\n}\n\nexport const shieldBox = {\n  heater: \"0 10 200 200\",\n  spanish: \"0 10 200 200\",\n  french: \"0 10 200 200\",\n\n  horsehead: \"0 10 200 200\",\n  horsehead2: \"0 10 200 200\",\n  polish: \"0 0 200 200\",\n  hessen: \"0 5 200 200\",\n  swiss: \"0 10 200 200\",\n\n  boeotian: \"0 0 200 200\",\n  roman: \"0 0 200 200\",\n  kite: \"0 0 200 200\",\n  oldFrench: \"0 10 200 200\",\n  renaissance: \"0 5 200 200\",\n  baroque: \"0 10 200 200\",\n\n  targe: \"0 0 200 200\",\n  targe2: \"0 0 200 200\",\n  pavise: \"0 0 200 200\",\n  wedged: \"0 10 200 200\",\n\n  flag: \"0 0 200 200\",\n  pennon: \"2.5 0 200 200\",\n  guidon: \"2.5 0 200 200\",\n  banner: \"0 10 200 200\",\n  dovetail: \"0 10 200 200\",\n  gonfalon: \"0 10 200 200\",\n  pennant: \"0 0 200 200\",\n\n  round: \"0 0 200 200\",\n  oval: \"0 0 200 200\",\n  vesicaPiscis: \"0 0 200 200\",\n  square: \"0 0 200 200\",\n  diamond: \"0 0 200 200\",\n  no: \"0 0 200 200\",\n\n  fantasy1: \"0 0 200 200\",\n  fantasy2: \"0 5 200 200\",\n  fantasy3: \"0 5 200 200\",\n  fantasy4: \"0 5 200 200\",\n  fantasy5: \"0 0 200 200\",\n\n  noldor: \"0 0 200 200\",\n  gondor: \"0 5 200 200\",\n  easterling: \"0 0 200 200\",\n  erebor: \"0 0 200 200\",\n  ironHills: \"0 5 200 200\",\n  urukHai: \"0 0 200 200\",\n  moriaOrc: \"0 0 200 200\"\n}\n\n// size modifier applied for charges, default is 1\nexport const shieldSize = {\n  horsehead: .9, horsehead2: .9, polish: .85, swiss: .95,\n  boeotian: .75, roman: .95, kite: .65, targe2: .9, pavise: .9, wedged: .95,\n  flag: .7, pennon: .5, guidon: .65, banner: .8, dovetail: .8, pennant: .6,\n  oval: .95, vesicaPiscis: .8, diamond: .8, no: 1.2,\n  fantasy1: .8, fantasy2: .7, fantasy3: .7, fantasy5: .9,\n  noldor: .5, gondor: .75, easterling: .8, erebor: .9, urukHai: .8, moriaOrc: .7\n}\n\nexport const shieldPositions = {\n  // shield-specific position: [x, y] (relative to center)\n  heater: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-32.25, 37.5], h: [0, 50], i: [32.25, 37.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-30, 30], n: [0, 42.5], o: [30, 30],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.2, -20], E: [66.2, -20],\n    J: [-55.5, 26], F: [55.5, 26],\n    I: [-33, 62], G: [33, 62],\n    H: [0, 89.5]\n  },\n  spanish: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.4, -20], E: [66.4, -20],\n    J: [-66.4, 26], F: [66.4, 26],\n    I: [-49, 70], G: [49, 70],\n    H: [0, 92]\n  },\n  french: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 65],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.4, -20], E: [66.4, -20],\n    J: [-66.4, 26], F: [66.4, 26],\n    I: [-65.4, 70], G: [65.4, 70],\n    H: [0, 89]\n  },\n  horsehead: {\n    a: [-43.75, -47.5], b: [0, -50], c: [43.75, -47.5],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    h: [0, 50],\n    y: [-50, -50], z: [0, 55],\n    j: [-35, -35], k: [0, -40], l: [35, -35],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-71, -52], B: [-24, -73], C: [24, -73], D: [71, -52],\n    K: [-62, -16], E: [62, -16],\n    J: [-39, 20], F: [39, 20],\n    I: [-33.5, 60], G: [33.5, 60],\n    H: [0, 91.5]\n  },\n  horsehead2: {\n    a: [-37.5, -47.5], b: [0, -50], c: [37.5, -47.5],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    g: [-35, 47.5], h: [0, 50], i: [35, 47.5],\n    y: [-50, -50], z: [0, 55],\n    j: [-30, -30], k: [0, -40], l: [30, -30],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-49, -39], B: [-22, -70], C: [22, -70], D: [49, -39],\n    K: [-51, -2], E: [51, -2],\n    J: [-38.5, 31], F: [38.5, 31],\n    I: [-35, 67], G: [35, 67],\n    H: [0, 85]\n  },\n  polish: {\n    a: [-35, -50], b: [0, -50], c: [35, -50],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-37.5, 50], h: [0, 50], i: [37.5, 50],\n    y: [-50, -50], z: [0, 65],\n    j: [-27.5, -27.5], k: [0, -45], l: [27.5, -27.5],\n    m: [-27.5, 27.5], n: [0, 45], o: [27.5, 27.5],\n    p: [-32.5, 0], q: [32.5, 0],\n    A: [-48, -52], B: [-23, -80], C: [23, -80], D: [48, -52],\n    K: [-47, -10], E: [47, -10],\n    J: [-62, 32], F: [62, 32],\n    I: [-37, 68], G: [37, 68],\n    H: [0, 86]\n  },\n  hessen: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 52.5],\n    j: [-40, -40], k: [0, -40], l: [40, -40],\n    m: [-40, 40], n: [0, 40], o: [40, 40],\n    p: [-40, 0], q: [40, 0],\n    A: [-69, -64], B: [-22, -76], C: [22, -76], D: [69, -64],\n    K: [-66.4, -20], E: [66.4, -20],\n    J: [-62, 26], F: [62, 26],\n    I: [-46, 70], G: [46, 70],\n    H: [0, 91.5]\n  },\n  swiss: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-32, 37.5], h: [0, 50], i: [32, 37.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-32, 32.5], n: [0, 42.5], o: [32, 32.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66], C: [22, -66], D: [66.2, -66.6],\n    K: [-63, -20], E: [63, -20],\n    J: [-50, 26], F: [50, 26],\n    I: [-29, 62], G: [29, 62],\n    H: [0, 89.5]\n  },\n  boeotian: {\n    a: [-37.5, -47.5], b: [0, -47.5], c: [37.5, -47.5],\n    d: [-25, 0], e: [0, 0], f: [25, 0],\n    g: [-37.5, 47.5], h: [0, 47.5], i: [37.5, 47.5],\n    y: [-48, -48], z: [0, 60],\n    j: [-32.5, -37.5], k: [0, -45], l: [32.5, -37.5],\n    m: [-32.5, 37.5], n: [0, 45], o: [32.5, 37.5],\n    p: [-20, 0], q: [20, 0],\n    A: [-45, -55], B: [-20, -77], C: [20, -77], D: [45, -55],\n    K: [-59, -25], E: [59, -25],\n    J: [-58, 27], F: [58, 27],\n    I: [-39, 63], G: [39, 63],\n    H: [0, 81]\n  },\n  roman: {\n    a: [-40, -52.5], b: [0, -52.5], c: [40, -52.5],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 52.5], h: [0, 52.5], i: [40, 52.5],\n    y: [-42.5, -52.5], z: [0, 65],\n    j: [-30, -37.5], k: [0, -37.5], l: [30, -37.5],\n    m: [-30, 37.5], n: [0, 37.5], o: [30, 37.5],\n    p: [-30, 0], q: [30, 0],\n    A: [-51.5, -65], B: [-17, -75], C: [17, -75], D: [51.5, -65],\n    K: [-51.5, -21], E: [51.5, -21],\n    J: [-51.5, 21], F: [51.5, 21],\n    I: [-51.5, 65], G: [51.5, 65],\n    H: [-17, 75], L: [17, 75]\n  },\n  kite: {\n    b: [0, -65], e: [0, -15], h: [0, 35],\n    z: [0, 35], k: [0, -50], n: [0, 20],\n    p: [-20, -15], q: [20, -15],\n    A: [-38, -52], B: [-29, -78], C: [29, -78], D: [38, -52],\n    K: [-33, -20], E: [33, -20],\n    J: [-25, 11], F: [25, 11],\n    I: [-15, 42], G: [15, 42],\n    H: [0, 73], L: [0, -91]\n  },\n  oldFrench: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-37.5, 50], h: [0, 50], i: [37.5, 50],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 45], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.2, -20], E: [66.2, -20],\n    J: [-64, 26], F: [64, 26],\n    I: [-45, 62], G: [45, 62], \n    H: [0, 91],\n  },\n  renaissance: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-41.5, 0], e: [0, 0], f: [41.5, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-61, -55], B: [-23, -67], C: [23, -67], D: [61, -55],\n    K: [-55, -11], E: [55, -11],\n    J: [-65, 31], F: [65, 31],\n    I: [-45, 76], G: [45, 76],\n    H: [0, 87]\n  },\n  baroque: {\n    a: [-43.75, -45], b: [0, -45], c: [43.75, -45],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 60],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-65, -54.5], B: [-22, -65], C: [22, -65], D: [65, -54.5],\n    K: [-58.5, -15], E: [58.5, -15],\n    J: [-65, 31], F: [66, 31],\n    I: [-35, 73], G: [35, 73],\n    H: [0, 89]\n  },\n  targe: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-40, -40], k: [0, -40], l: [40, -40],\n    m: [-40, 40], n: [0, 40], o: [40, 40],\n    p: [-32.5, 0], q: [32.5, 0],\n    A: [-66.2, -60], B: [-22, -77], C: [22, -86], D: [60, -66.6],\n    K: [-28, -20], E: [57, -20],\n    J: [-61, 26], F: [61, 26],\n    I: [-49, 63], G: [49, 59],\n    H: [0, 80]\n  },\n  targe2: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 60],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-32.5, 0], q: [32.5, 0],\n    A: [-55, -59], B: [-15, -59], C: [24, -79], D: [51, -58],\n    K: [-40, -14], E: [51, -14],\n    J: [-64, 26], F: [62, 26],\n    I: [-46, 66], G: [48, 67],\n    H: [0, 83]\n  },\n  pavise: {\n    a: [-40, -52.5], b: [0, -52.5], c: [40, -52.5],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 52.5], h: [0, 52.5], i: [40, 52.5],\n    y: [-42.5, -52.5], z: [0, 60],\n    j: [-30, -35], k: [0, -37.5], l: [30, -35],\n    m: [-30, 35], n: [0, 37.5], o: [30, 35],\n    p: [-30, 0], q: [30, 0],\n    A: [-57, -55], B: [-22, -74], C: [22, -74], D: [57, -55],\n    K: [-54, -11], E: [54, -11],\n    J: [-50, 36], F: [50, 36],\n    I: [-46, 81], G: [46, 81],\n    H: [0, 81]\n  },\n  wedged: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-32.25, 37.5], h: [0, 50], i: [32.25, 37.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-32.5, 32.5], n: [0, 42.5], o: [32.5, 32.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66, -53], B: [-22, -72.5], C: [22, -72.5], D: [66, -53],\n    K: [-62.6, -13], E: [62.6, -13],\n    J: [-50, 26], F: [50, 26],\n    I: [-27, 62], G: [27, 62],\n    H: [0, 87]\n  },\n  flag: {\n    a: [-60, -40], b: [0, -40], c: [60, -40],\n    d: [-60, 0], e: [0, 0], f: [60, 0],\n    g: [-60, 40], h: [0, 40], i: [60, 40],\n    y: [-60, -42.5], z: [0, 40],\n    j: [-45, -30], k: [0, -30], l: [45, -30],\n    m: [-45, 30], n: [0, 30], o: [45, 30],\n    p: [-45, 0], q: [45, 0],\n    A: [-81, -51], B: [-27, -51], C: [27, -51], D: [81, -51],\n    K: [-81, -17], E: [81, -17],\n    J: [-81, 17], F: [81, 17],\n    I: [-81, 51], G: [81, 51],\n    H: [-27, 51], L: [27, 51]\n  },\n  pennon: {\n    a: [-75, -40],\n    d: [-75, 0], e: [-25, 0], f: [25, 0],\n    g: [-75, 40],\n    y: [-70, -42.5],\n    j: [-60, -30],\n    m: [-60, 30],\n    p: [-60, 0], q: [5, 0],\n    A: [-81, -48], B: [-43, -36], C: [-4.5, -24], D: [33, -12],\n    E: [72, 0],\n    F: [33, 12], G: [-4.5, 24], H: [-43, 36], I: [-81, 48], \n    J: [-81, 17], K: [-81, -17]\n  },\n  guidon: {\n    a: [-60, -40], b: [0, -40], c: [60, -40],\n    d: [-60, 0], e: [0, 0],\n    g: [-60, 40], h: [0, 40], i: [60, 40],\n    y: [-60, -42.5], z: [0, 40],\n    j: [-45, -30], k: [0, -30], l: [45, -30],\n    m: [-45, 30], n: [0, 30], o: [45, 30],\n    p: [-45, 0],\n    A: [-81, -51], B: [-27, -51], C: [27, -51], D: [78, -51],\n    K: [-81, -17], E: [40.5, -17],\n    J: [-81, 17], F: [40.5, 17],\n    I: [-81, 51], G: [78, 51],\n    H: [-27, 51], L: [27, 51]\n  },\n  banner: {\n    a: [-50, -50], b: [0, -50], c: [50, -50],\n    d: [-50, 0], e: [0, 0], f: [50, 0],\n    g: [-50, 40], h: [0, 40], i: [50, 40],\n    y: [-50, -50], z: [0, 40],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 27.5], n: [0, 27.5], o: [37.5, 27.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -20], E: [66.5, -20],\n    J: [-66.5, 26], F: [66.5, 26],\n    I: [-66.5, 66.5], G: [66.5, 66.5],\n    H: [-25, 75], L: [25, 75]\n  },\n  dovetail: {\n    a: [-49.75, -50], b: [0, -50], c: [49.75, -50],\n    d: [-49.75, 0], e: [0, 0], f: [49.75, 0],\n    g: [-49.75, 50], i: [49.75, 50],\n    y: [-50, -50], z: [0, 40],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 32.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -16.5], E: [66.5, -16.5],\n    J: [-66.5, 34.5], F: [66.5, 34.5],\n    I: [-66.5, 84.5], G: [66.5, 84.5],\n    H: [-25, 64], L: [25, 64]\n  },\n  gonfalon: {\n    a: [-49.75, -50], b: [0, -50], c: [49.75, -50],\n    d: [-49.75, 0], e: [0, 0], f: [49.75, 0],\n    g: [-49.75, 50], h: [0, 50], i: [49.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -20], E: [66.5, -20],\n    J: [-66.5, 26], F: [66.5, 26],\n    I: [-40, 63], G: [40, 63],\n    H: [0, 88]\n  },\n  pennant: {\n    a: [-45, -50], b: [0, -50], c: [45, -50],\n    e: [0, 0], h: [0, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-32.5, -37.5], k: [0, -37.5], l: [32.5, -37.5],\n    n: [0, 37.5],\n    A: [-60, -76], B: [-22, -76], C: [22, -76], D: [60, -76],\n    K: [-46, -38], E: [46, -38],\n    J: [-31, 0], F: [31, 0],\n    I: [-16, 38], G: [16, 38],\n    H: [0, 76]\n  },\n  round: {\n    a: [-40, -40], b: [0, -40], c: [40, -40],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 40], h: [0, 40], i: [40, 40],\n    y: [-48, -48], z: [0, 57.5],\n    j: [-35.5, -35.5], k: [0, -37.5], l: [35.5, -35.5],\n    m: [-35.5, 35.5], n: [0, 37.5], o: [35.5, 35.5],\n    p: [-36.5, 0], q: [36.5, 0],\n    A: [-59, -48], B: [-23, -73], C: [23, -73], D: [59, -48],\n    K: [-76, -10], E: [76, -10],\n    J: [-70, 31], F: [70, 31],\n    I: [-42, 64], G: [42, 64],\n    H: [0, 77]\n  },\n  oval: {\n    a: [-37.5, -50], b: [0, -50], c: [37.5, -50],\n    d: [-43, 0], e: [0, 0], f: [43, 0],\n    g: [-37.5, 50], h: [0, 50], i: [37.5, 50],\n    y: [-48, -48], z: [0, 60],\n    j: [-35.5, -37.5], k: [0, -37.5], l: [35.5, -37.5],\n    m: [-35.5, 37.5], n: [0, 50], o: [35.5, 37.5],\n    p: [-36.5, 0], q: [36.5, 0],\n    A: [-48, -48], B: [-23, -78], C: [23, -78], D: [48, -48],\n    K: [-59, -10], E: [59, -10],\n    J: [-55, 31], F: [55, 31],\n    I: [-36, 68], G: [36, 68],\n    H: [0, 85]\n  },\n  vesicaPiscis: {\n    a: [-32, -37], b: [0, -50], c: [32, -37],\n    d: [-32, 0], e: [0, 0], f: [32, 0],\n    g: [-32, 37], h: [0, 50], i: [32, 37],\n    y: [-50, -50], z: [0, 62],\n    j: [-27.5, -27.5], k: [0, -37], l: [27.5, -27.5],\n    m: [-27.5, 27.5], n: [0, 42], o: [27.5, 27.5],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-45, -32], B: [-29, -63], C: [29, -63], D: [45, -32],\n    K: [-50, 0], E: [50, 0],\n    J: [-45, 32], F: [45, 32],\n    I: [-29, 63], G: [29, 63],\n    H: [0, 89], L: [0, -89]\n  },\n  square: {\n    a: [-49.75, -50], b: [0, -50], c: [49.75, -50],\n    d: [-49.75, 0], e: [0, 0], f: [49.75, 0],\n    g: [-49.75, 50], h: [0, 50], i: [49.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -20], E: [66.5, -20],\n    J: [-66.5, 26], F: [66.5, 26],\n    I: [-66.5, 66.5], G: [66.5, 66.5],\n    H: [-22, 66.5], L: [22, 66.5]\n  },\n  diamond: {\n    a: [-32, -37], b: [0, -50], c: [32, -37],\n    d: [-43, 0], e: [0, 0], f: [43, 0],\n    g: [-32, 37], h: [0, 50], i: [32, 37],\n    y: [-50, -50], z: [0, 62],\n    j: [-27.5, -27.5], k: [0, -37], l: [27.5, -27.5],\n    m: [-27.5, 27.5], n: [0, 42], o: [27.5, 27.5],\n    p: [-37, 0], q: [37, 0],\n    A: [-43, -28], B: [-22, -56], C: [22, -56], D: [43, -28],\n    K: [-63, 0], E: [63, 0],\n    J: [-42, 28], F: [42, 28],\n    I: [-22, 56], G: [22, 56],\n    H: [0, 83], L: [0, -82]\n  },\n  no: {\n    a: [-66.5, -66.5], b: [0, -66.5], c: [66.5, -66.5],\n    d: [-66.5, 0], e: [0, 0], f: [66.5, 0],\n    g: [-66.5, 66.5], h: [0, 66.5], i: [66.5, 66.5],\n    y: [-50, -50], z: [0, 75],\n    j: [-50, -50], k: [0, -50], l: [50, -50],\n    m: [-50, 50], n: [0, 50], o: [50, 50],\n    p: [-50, 0], q: [50, 0],\n    A: [-91.5, -91.5], B: [-30.5, -91.5], C: [30.5, -91.5], D: [91.5, -91.5],\n    K: [-91.5, -30.5], E: [91.5, -30.5],\n    J: [-91.5, 30.5], F: [91.5, 30.5],\n    I: [-91.5, 91.5], G: [91.5, 91.5],\n    H: [-30.5, 91.5], L: [30.5, 91.5]\n  },\n  fantasy1: {\n    a: [-45, -45], b: [0, -50], c: [45, -45],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-36, 42.5], h: [0, 50], i: [36, 42.5],\n    y: [-50, -50], z: [0, 60],\n    j: [-37, -37], k: [0, -40], l: [37, -37],\n    m: [-32, 32], n: [0, 40], o: [32, 32],\n    p: [-28.5, 0], q: [28.5, 0],\n    A: [-66, -55], B: [-22, -67], C: [22, -67], D: [66, -55],\n    K: [-53, -20], E: [53, -20],\n    J: [-46, 26], F: [46, 26],\n    I: [-29, 62], G: [29, 62],\n    H: [0, 84]\n  },\n  fantasy2: {\n    a: [-45, -45], b: [0, -45], c: [45, -45],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    g: [-36, 42.5], h: [0, 45], i: [36, 42.5],\n    y: [-50, -50], z: [0, 55],\n    j: [-32.5, -32.5], k: [0, -40], l: [32.5, -32.5],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-58, -35], B: [-44, -67], C: [44, -67], D: [58, -35],\n    K: [-39, -5], E: [39, -5],\n    J: [-57, 26], F: [57, 26],\n    I: [-32, 58], G: [32, 58],\n    H: [0, 83], L: [0, -72]\n  },\n  fantasy3: {\n    a: [-40, -45], b: [0, -50], c: [40, -45],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    g: [-36, 42.5], h: [0, 50], i: [36, 42.5],\n    y: [-50, -50], z: [0, 55],\n    j: [-32.5, -32.5], k: [0, -40], l: [32.5, -32.5],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-56, -42], B: [-22, -72], C: [22, -72], D: [56, -42],\n    K: [-37, -11], E: [37, -11],\n    J: [-60, 20], F: [60, 20],\n    I: [-34, 56], G: [34, 56],\n    H: [0, 83]\n  },\n  fantasy4: {\n    a: [-50, -45], b: [0, -50], c: [50, -45],\n    d: [-45, 0], e: [0, 0], f: [45, 0],\n    g: [-40, 45], h: [0, 50], i: [40, 45],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -45], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 45], o: [37.5, 37.5],\n    p: [-35, 0], q: [35, 0],\n    A: [-75, -56], B: [-36, -61], C: [36, -61], D: [75, -56],\n    K: [-67, -12], E: [67, -12],\n    J: [-63, 32], F: [63, 32],\n    I: [-42, 75], G: [42, 75],\n    H: [0, 91.5], L: [0, -79]\n  },\n  fantasy5: {\n    a: [-45, -50], b: [0, -50], c: [45, -50],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-30, 45], h: [0, 50], i: [30, 45],\n    y: [-50, -50], z: [0, 60],\n    j: [-37, -37], k: [0, -40], l: [37, -37],\n    m: [-32, 32], n: [0, 40], o: [32, 32],\n    p: [-28.5, 0], q: [28.5, 0],\n    A: [-61, -67], B: [-22, -76], C: [22, -76], D: [61, -67],\n    K: [-58, -25], E: [58, -25],\n    J: [-48, 20], F: [48, 20],\n    I: [-28.5, 60], G: [28.5, 60],\n    H: [0, 89]\n  },\n  noldor: {\n    b: [0, -65], e: [0, -15], h: [0, 35],\n    z: [0, 35], k: [0, -50], n: [0, 30],\n    p: [-20, -15], q: [20, -15],\n    A: [-34, -47], B: [-20, -68], C: [20, -68], D: [34, -47],\n    K: [-18, -20], E: [18, -20],\n    J: [-26, 11], F: [26, 11],\n    I: [-14, 43], G: [14, 43],\n    H: [0, 74], L: [0, -85]\n  },\n  gondor: {\n    a: [-32.5, -50], b: [0, -50], c: [32.5, -50],\n    d: [-32.5, 0], e: [0, 0], f: [32.5, 0],\n    g: [-32.5, 50], h: [0, 50], i: [32.5, 50],\n    y: [-42.5, -52.5], z: [0, 65],\n    j: [-25, -37.5], k: [0, -37.5], l: [25, -37.5],\n    m: [-25, 30], n: [0, 37.5], o: [25, 30],\n    p: [-25, 0], q: [25, 0],\n    A: [-42, -52], B: [-17, -75], C: [17, -75], D: [42, -52],\n    K: [-42, -15], E: [42, -15],\n    J: [-42, 22], F: [42, 22],\n    I: [-26, 60], G: [26, 60],\n    H: [0, 87]\n  },\n  easterling: {\n    a: [-40, -47.5], b: [0, -47.5], c: [40, -47.5],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 47.5], h: [0, 47.5], i: [40, 47.5],\n    y: [-42.5, -52.5], z: [0, 65],\n    j: [-30, -37.5], k: [0, -37.5], l: [30, -37.5],\n    m: [-30, 37.5], n: [0, 37.5], o: [30, 37.5],\n    p: [-30, 0], q: [30, 0],\n    A: [-52, -72], B: [0, -65], D: [52, -72],\n    K: [-52, -24], E: [52, -24],\n    J: [-52, 24], F: [52, 24],\n    I: [-52, 72], G: [52, 72],\n    H: [0, 65]\n  },\n  erebor: {\n    a: [-40, -40], b: [0, -55], c: [40, -40],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 40], h: [0, 55], i: [40, 40],\n    y: [-50, -50], z: [0, 50],\n    j: [-35, -35], k: [0, -45], l: [35, -35],\n    m: [-35, 35], n: [0, 45], o: [35, 35],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-47, -46], B: [-22, -81], C: [22, -81], D: [47, -46],\n    K: [-66.5, 0], E: [66.5, 0],\n    J: [-47, 46], F: [47, 46],\n    I: [-22, 81], G: [22, 81]\n  },\n  ironHills: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.25, 0], e: [0, 0], f: [43.25, 0],\n    g: [-42.5, 42.5], h: [0, 50], i: [42.5, 42.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-32.5, -32.5], k: [0, -40], l: [32.5, -32.5],\n    m: [-32.5, 32.5], n: [0, 40], o: [32.5, 32.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-61, -67], B: [-22, -74], C: [22, -74], D: [61, -67],\n    K: [-59, -20], E: [59, -20],\n    J: [-57, 26], F: [57, 26],\n    I: [-33, 64], G: [33, 64],\n    H: [0, 88]\n  },\n  urukHai: {\n    a: [-40, -45], b: [0, -45], c: [40, -45],\n    d: [-36, 0], e: [0, 0], f: [36, 0],\n    g: [-32.25, 40], h: [0, 40], i: [32.25, 40],\n    y: [-50, -50], z: [0, 40],\n    j: [-32.5, -32.5], k: [0, -37.5], l: [32.5, -32.5],\n    m: [-27.5, 27.5], n: [0, 32.5], o: [27.5, 27.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-31, -79], B: [-1, -90], C: [31, -74], D: [61, -57],\n    K: [-55, -19], E: [53, -19],\n    J: [-45, 19], F: [45, 19],\n    I: [-33, 57], G: [35, 57],\n    H: [0, 57], L: [-39, -50]\n  },\n  moriaOrc: {\n    a: [-37.5, -37.5], b: [0, -37.5], c: [37.5, -37.5],\n    d: [-37.5, 0], e: [0, 0], f: [37.5, 0],\n    g: [-37.5, 37.5], h: [0, 37.5], i: [37.5, 37.5],\n    y: [-50, -50], z: [0, 40],\n    j: [-30, -30], k: [0, -30], l: [30, -30],\n    m: [-30, 30], n: [0, 30], o: [30, 30],\n    p: [-30, 0], q: [30, 0],\n    A: [-48, -48], B: [-16, -50], C: [16, -46], D: [39, -61],\n    K: [-52, -19], E: [52, -26],\n    J: [-42, 9], F: [52, 9],\n    I: [-31, 40], G: [40, 43],\n    H: [4, 47]\n  }\n}","export function ra(array) {\n  return array[Math.floor(Math.random() * array.length)];\n}\n\n// return random value from weighted array\nexport function rw(object) {\n  if (!object.array) {\n\n    const array = [];\n    for (const key in object) {\n      for (let i = 0; i < object[key]; i++) {\n        array.push(key);\n      }\n    }\n\n    Object.defineProperty(object, \"array\", {enumerable: false, configurable: true, writable: false, value: array});\n  }\n\n  return object.array[Math.floor(Math.random() * object.array.length)];\n}\n\nexport function P(probability) {\n  return Math.random() < probability;\n}\n\nexport function camelize(str) {\n  return str\n    .toLowerCase()\n    .replace(/\\.[^/.]+$/, \"\") // remove extension\n    .replace(/[()]/g, \"\") // remove parentheses\n    .replace(/[^a-zA-Z0-9]+(.)/g, (m, c) => c.toUpperCase())\n    .replace(/^[0-9]/, \"_\"); // first char should not be a number\n}","import { writable } from 'svelte/store';\nimport { defaultTinctures, defaultColors } from './dataModel';\nimport { shields } from './shields';\nimport { ra, rw } from '../scripts/utils';\n\nconst options = defineInitialOptions();\nexport const size = writable(options.size);\nexport const grad = writable(options.grad);\nexport const diaper = writable(options.diaper);\nexport const shield = writable(options.shield);\nexport const colors = writable(options.colors);\nexport const tinctures = writable(options.tinctures);\nexport const background = writable(options.background);\nexport const scale = writable(options.scale);\nexport const border = writable(options.border);\nexport const borderWidth = writable(options.borderWidth);\n\nexport const grid = writable(options.grid);\nexport const showGrid = writable(options.showGrid);\n\nexport const history = writable([]);\nexport const matrices = writable([]);\nexport const matrix = writable(0);\nexport const state = writable({ edit: 0, about: 0, i: 0 });\nexport const message = writable(null);\n\nconst createChangesTracker = () => {\n  const { subscribe, set, update } = writable([undefined, -1]);\n  let history = [], position = -1;\n\n  return {\n    subscribe,\n    refresh: () => set([history[position], position]), // trigger coa refresh\n    length: () => history.length,\n    reset: () => {\n      history = [], position = -1;\n      set([undefined, -1])\n    },\n    add(value) {\n      if (value === history[position]) return; // no change\n      if (position < history.length - 1) history = history.slice(0, position + 1); // cut future history\n      history.push(value);\n      position += 1;\n      set([history[position], position])\n    },\n    undo: () => update(() => {\n      if (position > 0) position -= 1;\n      return [history[position], position];\n    }),\n    redo: () => update(() => {\n      if (position < history.length - 1) position += 1;\n      return [history[position], position];\n    })\n  }\n}\nexport const changes = createChangesTracker();\n\nexport const loadedCharges = writable([]);\nexport const patterns = writable([]);\n\nfunction defineInitialOptions() {\n  const stored = key => {\n    const value = localStorage.getItem(key);\n    if (value === \"null\") return null;\n    return value;\n  };\n  const storedObj = key => localStorage.getItem(key) ? JSON.parse(localStorage.getItem(key)) : null;\n  const getShieldFromURL = () => {\n    const coaParam = (new URL(window.location)).searchParams.get(\"coa\");\n    if (!coaParam) return null;\n    const coa = JSON.parse(coaParam);\n    return coa?.shield;\n  }\n\n  const size = +stored(\"size\") || 200;\n  const diaper = stored(\"diaper\") || \"no\";\n  const grad = stored(\"grad\") || ra([\"luster\", \"spotlight\", \"backlight\"]);\n  const shield = getShieldFromURL() || stored(\"shield\") || rw(shields[rw(shields.types)]);\n  const colors = storedObj(\"colors\") || JSON.parse(JSON.stringify(defaultColors));\n  const tinctures = storedObj(\"tinctures\") || JSON.parse(JSON.stringify(defaultTinctures));\n  const border = stored(\"border\") || \"#333333\";\n  const borderWidth = +stored(\"borderWidth\") || 1;\n  const background = stored(\"background\") || \"#333333\";\n  const scale = +stored(\"scale\") || 2;\n\n  const grid = +stored(\"grid\") || 1;\n  const showGrid = storedObj(\"showGrid\") || 0;\n\n  return { size, diaper, grad, shield, colors, tinctures, border, borderWidth, background, scale, grid, showGrid };\n}","import { get } from 'svelte/store';\nimport { scale, grad, diaper } from '../data/stores';\n\nexport async function download(i, format = \"png\") {\n  const coas = i || i === 0 ? [document.getElementById(\"coa\" + i)] : document.querySelectorAll(\"svg.coa\");\n  let {width, height} = coas[0].getBoundingClientRect();\n  const numberX = coas.length > 1 ? Math.floor(window.innerWidth / width) : 1;\n  const numberY = coas.length > 1 ? Math.ceil(coas.length / numberX) : 1;\n\n  const scaleValue = get(scale);\n  width = Math.round(width * scaleValue);\n  height = Math.round(height * scaleValue);\n\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  canvas.width = width * numberX;\n  canvas.height = height * numberY;\n\n  let loaded = 0;\n  coas.forEach(async function (svg, i) {\n    const url = await getURL(svg, width, height);\n    format === \"svg\" ? downloadVector(url) : downloadRaster(url, i);\n  });\n\n  function downloadVector(url) {\n    const link = document.createElement(\"a\");\n    link.download = `armoria_${getTimestamp()}.svg`;\n    link.href = url;\n    link.click();\n    window.setTimeout(() => window.URL.revokeObjectURL(URL), 5000);\n  }\n\n  function downloadRaster(url, i) {\n    const img = new Image();\n    img.src = url;\n    img.onload = () => {\n      URL.revokeObjectURL(url);\n      ctx.drawImage(img, i % numberX * width, Math.floor(i / numberX) * height, width, height);\n      loaded++;\n      if (loaded === coas.length) drawCanvas(canvas, format);\n    }\n  }\n}\n\nasync function getURL(svg, width, height) {\n  const clone = svg.cloneNode(true); // clone svg\n  clone.setAttribute(\"width\", width);\n  clone.setAttribute(\"height\", height);\n  clone.removeAttribute(\"class\");\n  clone.removeAttribute(\"id\");\n  const d = clone.getElementsByTagName(\"defs\")[0];\n\n  // remove grid if any\n  const grid = clone.getElementById(\"grid\");\n  const gridPattern = clone.getElementById(\"gridPattern\");\n  if (grid) grid.remove();\n  if (gridPattern) gridPattern.remove();\n\n  const gr = get(grad), di = get(diaper);\n  if (gr) d.insertAdjacentHTML(\"beforeend\", defs.getElementById(gr).outerHTML);\n  if (di && di !== \"no\") d.insertAdjacentHTML(\"beforeend\", defs.getElementById(di).outerHTML);\n  clone.querySelectorAll(\".charge[charge]\").forEach(el => {\n    const charge = el.getAttribute(\"charge\");\n    d.insertAdjacentHTML(\"beforeend\", defs.getElementById(charge).outerHTML);\n  });\n  const fieldPattern = clone.getElementById(\"field\").getAttribute(\"fill\").split(\"(#\")[1]?.split(\")\")[0];\n  if (fieldPattern) d.insertAdjacentHTML(\"beforeend\", document.getElementById(fieldPattern).outerHTML);\n  const divisionPattern = clone.getElementById(\"division\")?.querySelector(\"rect\").getAttribute(\"fill\").split(\"(#\")[1]?.split(\")\")[0];\n  if (divisionPattern) d.insertAdjacentHTML(\"beforeend\", document.getElementById(divisionPattern).outerHTML);\n\n  const serialized = (new XMLSerializer()).serializeToString(clone);\n  const blob = new Blob([serialized], { type: 'image/svg+xml;charset=utf-8' });\n  const url = window.URL.createObjectURL(blob);\n  window.setTimeout(() => window.URL.revokeObjectURL(url), 6000);\n  return url;\n}\n\nfunction drawCanvas(canvas, format) {\n  const link = document.createElement(\"a\");\n  link.download = `armoria_${getTimestamp()}.${format}`;\n\n  const URL = canvas.toDataURL(\"image/\" + format, .92);\n  link.href = URL;\n  link.click();\n\n  setTimeout(function() {\n    canvas.remove();\n    window.URL.revokeObjectURL(link.href);\n  }, 5000);\n}\n\nfunction getTimestamp() {\n  const formatTime = time => time < 10 ? \"0\" + time : time;\n  const date = new Date();\n  const year = date.getFullYear();\n  const month = formatTime(date.getMonth() + 1);\n  const day = formatTime(date.getDate());\n  const hour = formatTime(date.getHours());\n  const minutes = formatTime(date.getMinutes());\n  const seconds = formatTime(date.getSeconds());\n  return [year, month, day, hour, minutes, seconds].join('-');\n}\n","<script>\n  import {state, matrix, changes, message} from './../data/stores';\n  import {download} from '../scripts/download';\n  const touch = {startX:0, startY: 0};\n\n  // prevent unwanted refresh\n  if (location.host === \"azgaar.github.io\") window.onbeforeunload = () => \"Are you sure you want to navigate away?\";\n\n  // keyboard shortcuts\n  function handleKeydown(event) {\n    const code = event.code;\n    const ctrl = event.ctrlKey;\n    const reserved = [\"Backspace\", \"Enter\", \"KeyZ\", \"KeyX\", \"KeyS\", \"KeyP\", \"KeyJ\", \"F1\", \"Escape\"];\n    if (!ctrl && !reserved.includes(code)) return;\n\n    const active = document.activeElement.tagName;\n    if (active === \"INPUT\" || active === \"SELECT\" || active === \"TEXTAREA\") return;\n\n    event.preventDefault();\n    if (code === \"Backspace\" && $matrix > 0) $matrix -= 1; else // Rollback\n    if (code === \"Enter\") $matrix += 1; else // Reroll\n    if (code === \"KeyZ\") changes.undo(); else // Undo\n    if (code === \"KeyX\") changes.redo(); else // Redo\n    if (ctrl && code === \"KeyS\") download(null, \"svg\"); else // Download SVG\n    if (ctrl && code === \"KeyP\") download(null, \"png\"); else // Download PNG\n    if (ctrl && code === \"KeyJ\") download(null, \"jpeg\"); else // Download JPEG\n    if (code === \"F1\") $state.about = !$state.about; // About\n    if (code === \"Escape\") close() // Close all windows\n\n    function close() {\n      $state.about = 0;\n      $state.raster = 0;\n      $state.vector = 0;\n      $state.tinctures = 0;\n      $state.edit = 0;\n      $message = null;\n    }\n  }\n\n  function handleTouchStart(e) {\n    touch.startX = e.changedTouches[0].screenX;\n    touch.startY = e.changedTouches[0].screenY;\n  }\n\n  function handleTouchEnd(e) {\n    const menu = document.getElementById(\"menu\");\n    const navbar = document.getElementById(\"navbar\");\n    if (menu?.contains(e.target)) return; // cancel touch event if start area is menu\n    if (navbar?.contains(e.target)) return; // cancel touch event if start area is nav bar\n\n    const diffX = e.changedTouches[0].screenX - touch.startX;\n    const diffY = e.changedTouches[0].screenY - touch.startY;\n    const ratioX = Math.abs(diffX / diffY);\n    const ratioY = Math.abs(diffY / diffX);\n    const absDiff = Math.abs(ratioX > ratioY ? diffX : diffY);\n\n    if (absDiff < 50) return; // ignore small movements\n\n    if (ratioX > ratioY) diffX >= 0 ? swipeRight() : swipeLeft();\n    else diffY >= 0 ? swipeDown() : swipeUp();\n  }\n\n  function swipeRight() {\n    if ($state.edit) changes.redo();\n    else $matrix += 1;\n  }\n\n  function swipeDown() {\n    $matrix += 1;\n  }\n\n  function swipeLeft() {\n    if ($state.edit) changes.undo();\n    else if ($matrix > 0) $matrix -= 1;\n  }\n\n  function swipeUp() {\n    if ($matrix > 0) $matrix -= 1;\n  }\n</script>\n\n<svelte:window on:keydown={handleKeydown} on:touchstart={handleTouchStart} on:touchend={handleTouchEnd}/>","export function tooltip(element) {\n  const touch = 'ontouchstart' in window;\n  let div, title;\n\n  const style = `\n    position: absolute;\n    padding: .5em;\n    pointer-events: none;\n    z-index: 99;\n    color: #fff;\n    background-color: #1e1e1e;\n    border: 1px solid #333;\n    opacity: .9;\n  `;\n\n  function mouseEnter() {\n    title = element.getAttribute(\"title\");\n    element.removeAttribute(\"title\");\n\n    const gesture = element.getAttribute(\"gesture\");\n    const hotkey = element.getAttribute(\"hotkey\");\n\n    div = document.createElement(\"div\");\n    div.textContent = title;\n    if (touch && gesture) div.textContent += \". Gesture: \" + gesture;\n    if (!touch && hotkey) div.textContent += \". Hotkey: \" + hotkey;\n\n    div.style = style;\n    document.body.appendChild(div);\n\n    // remove in 5 seconds\n    setTimeout(() => mouseLeave(), 5000);\n  }\n\n  function mouseMove(event) {\n    div.style.left = `${event.pageX + 10}px`;\n    div.style.top = `${event.pageY + 10}px`;\n  }\n\n  function mouseLeave() {\n    div.remove();\n    element.setAttribute(\"title\", title);\n  }\n\n  element.addEventListener(\"mouseenter\", mouseEnter);\n  element.addEventListener(\"mouseleave\", mouseLeave);\n  element.addEventListener(\"touchend\", mouseLeave);\n  element.addEventListener(\"mousemove\", mouseMove);\n\n  return {\n    destroy() {\n      element.removeEventListener(\"mouseenter\", mouseEnter);\n      element.removeEventListener(\"mouseleave\", mouseLeave);\n      element.removeEventListener(\"touchend\", mouseLeave);\n      element.removeEventListener(\"mousemove\", mouseMove);\n    }\n  };\n}","<script>\n  import {tooltip} from '../../scripts/tooltip';\n  export let key;\n  $: locked = localStorage.getItem(key);\n\n  const cap = key.charAt(0).toUpperCase() + key.slice(1);\n  const tip = cap + \" value is saved and auto-applied. Click to remove saved value and use default settings on load\";\n\n  function unlock(e) {\n    e.stopPropagation();\n    localStorage.removeItem(key);\n    locked = false;\n  }\n</script>\n\n{#if locked}\n  <span style=\"cursor: pointer\" on:click={unlock} title={tip} use:tooltip>🔖</span>\n{/if}","export { identity as linear } from '../internal';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing';\nimport { is_function, assign } from '../internal';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear }) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut }) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut }) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","<script>\n  import Lock from './Lock.svelte';\n  import {fade} from 'svelte/transition';\n  import {download} from './../../scripts/download';\n  import {size, grad, diaper, shield, background, scale, border, borderWidth, matrix, state, changes, message} from './../../data/stores';\n  import {shields, shieldPaths} from './../../data/shields';\n  import {tooltip} from './../../scripts/tooltip';\n\n  let installable = false, prompt = null;\n  const sizes = [[80, \"Giant\"], [100, \"Huge\"], [150, \"Large\"], [200, \"Medium\"], [300, \"Small\"], [400, \"Tiny\"]];\n  const gradients = [\"no\", \"luster\", \"spotlight\", \"backlight\", \"brink\"];\n  const diapers = [\"no\", \"nourse\", \"tessellation\", \"sennwald\", \"sulzbach\"];\n  const wideScreen = window.innerWidth > 600;\n\n  $: position = $changes[1];\n\n  function getIcon(icon, active = \"active\") {\n    if (wideScreen) return `<span class=\"navBarIcon ${active}\">${icon}</span>`;\n    return `<svg class=\"navBarIcon ${active}\"><use href=\"#${icon}-icon\"></use></svg>`;\n  }\n\n  function change(e, store, value, key) {\n    e.stopPropagation();\n    store.set(value);\n    localStorage.setItem(key, value);\n\n    // update coa on shield change\n    if (key === \"shield\" && changes.length()) {\n      const coa = JSON.parse($changes[0]);\n      coa.shield = $shield;\n      changes.add(JSON.stringify(coa));\n    }\n  }\n\n  function getRandomColor() {\n    const l = '0123456789ABCDEF';\n    $background = \"#\"+[0,0,0,0,0,0].map(() => l[Math.floor(Math.random() * 16)]).join(\"\");\n    localStorage.setItem(\"background\", $background);\n  }\n\n  function restoreDefault(e, store, key, value) {\n    e.stopPropagation();\n    store.set(value);\n    localStorage.removeItem(key);\n  }\n\n  function goHome() {\n    location.href = (location.origin + location.pathname);\n  }\n\n  function copyEditLink() {\n    const coa = $changes[0].replaceAll(\"#\", \"%23\");\n    const url = location.origin + location.pathname + \"?coa=\" + coa;\n    copyToClipboard(url, \"Coat of arms link is copied to your clipboard\");\n  }\n\n  function copyAPILink() {\n    const encoded = encodeURI($changes[0]);\n    const API = \"https://armoria.herokuapp.com/\";\n    const url = `${API}?size=500&format=png&coa=${encoded}`;\n    copyToClipboard(url, \"API link is copied to your clipboard\");\n  }\n\n  function copyToClipboard(stringToCopy, response) {\n    $message = null;\n\n    navigator.clipboard.writeText(stringToCopy).then(\n      () => {\n        $message = null;\n        setTimeout(() => {\n          $message = {type: \"sucess\", text: response, timeout: 5000};\n        }, 500);\n      }, err => {\n        const text = \"Cannot copy to the clipboard!\";\n        $message = {type: \"error\", text, timeout: 5000};\n        console.error(err);\n      }\n    );\n  }\n\n  function install() {\n    installable = false;\n    prompt.prompt();\n    prompt.userChoice.then(choise => prompt = null);\n  }\n\n  window.addEventListener(\"beforeinstallprompt\", e => {\n    console.log(\"beforeinstallprompt is fired\");\n    //e.preventDefault(); // no default prompt\n    prompt = e;\n    installable = true;\n  });\n\n  window.addEventListener(\"appinstalled\", e => {\n    console.log(\"App installation: success\");\n    $message = {type: \"sucess\", text: `Armoria application is installed`, timeout: 5000};\n  });\n\n  // values to be always saved\n  $: localStorage.setItem(\"background\", $background);\n  $: localStorage.setItem(\"border\", $border);\n  $: localStorage.setItem(\"borderWidth\", $borderWidth);\n  $: localStorage.setItem(\"scale\", $scale);\n</script>\n\n<nav>\n  <svg on:click={goHome} class=logo width=35 height=35 viewBox=\"-2 -1 55 55\">\n    <path fill=\"#fff\" stroke=\"none\" d=\"m 46,3 0.6,1.4 c -1.5,0.7 -2.6,1.4 -3.3,2.2 -0.7,0.7 -1.2,1.5 -1.5,2.4 -0.3,0.9 -0.4,2.2 -0.4,3.9 0,0.6 0,1.3 0,2.2 l 0.5,23.2 c 0,2.5 0.3,4.2 0.8,5 0.4,0.6 0.8,0.8 1.3,0.8 0.6,0 1.5,-0.6 2.8,-1.8 l 0.9,1.1 -5.8,4.9 -1.9,1.6 C 38.4,49.2 37.2,48.2 36.5,46.9 35.8,45.7 35.3,36.7 35.2,34 c -7.6,0.1 -20.2,0 -20.2,0 0,0 -7.4,9.1 -7.4,11.1 0,0.6 0.2,1.1 0.6,1.8 0.5,0.9 0.8,1.4 0.8,1.7 0,0.4 -0.1,0.7 -0.4,1 -0.3,0.3 -0.6,0.4 -1.1,0.4 -0.5,0 -0.9,-0.2 -1.2,-0.6 -0.5,-0.6 -0.7,-1.3 -0.7,-2.2 0,-1 0.3,-2.1 0.8,-3.3 C 8.8,39.9 11.3,36.7 14.1,32.9 11.1,30.7 9,28.5 7.8,26.4 6.6,24.4 6,22.1 6,19.5 c 0,-3 0.8,-5.7 2.3,-8.3 1.5,-2.5 3.8,-4.5 6.9,-6 3.1,-1.5 6.2,-2.2 9.4,-2.2 4.9,0 9.7,1.7 14.3,5.1 1.1,-1.2 2.2,-2.1 3.2,-2.9 1,-0.8 2.4,-1.5 4,-2.3 z M 30.7,10.2 c -2.6,-1.3 -5.2,-1.9 -7.8,-1.9 -2.7,0 -5.3,0.6 -7.8,1.8 -2.4,1.2 -4.2,2.8 -5.4,4.7 -1.2,1.9 -1.8,3.9 -1.8,5.9 0,4.2 2.3,8 6.9,11.3 L 25.2,17.7 c -1.6,-0.8 -2.9,-1.3 -4.2,-1.3 -1.7,0 -3.1,0.8 -4.2,2.4 -0.4,0.7 -1,0.5 -1.1,-0.2 0,-0.6 0.3,-1.5 1,-2.7 0.7,-1.1 1.6,-2.1 2.9,-2.8 1.3,-0.7 2.6,-1.1 4,-1.1 1.4,0 3.1,0.4 4.9,1.1 z m 4,3.2 C 34,12.4 32.8,11.5 32,11 L 18.4,29.4 h 16.7 z\"/>\n  </svg>\n\n  <div class=\"container\">\n    <bl>{@html getIcon(\"options\")}</bl>\n\n    <div class=\"dropdown level1\">\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each Object.keys(shields.types) as type}\n            <div class=\"container\">\n              <div class=\"dropdown level3 iconed\">\n                {#each Object.keys(shields[type]) as sh}\n                  <bt on:click={e => change(e, shield, sh, \"shield\")}>\n                    <svg class=shield class:selected={sh === $shield} width=26 height=26 viewBox=\"0 0 200 210\">\n                      <path d=\"{shieldPaths[sh]}\"/>\n                    </svg>\n                    {sh.split(/(?=[A-Z])/).join(\" \")}\n                  </bt>\n                {/each}\n              </div>\n\n              <bl>\n                {type.split(/(?=[A-Z])/).join(\" \")}\n              </bl>\n            </div>\n          {/each}\n        </div>\n        <bl title=\"Shield or banner shape. If not set, a random one is selected on reroll\" use:tooltip>\n          {#key $shield}<Lock key=shield/>{/key}\n          <span>Shield</span>\n        </bl>\n      </div>\n\n      <bt on:click={() => $state.tinctures = 1} title=\"Setup tinctures selection chance and hue\" use:tooltip>\n        <Lock key=tinctures/>\n        <Lock key=colors/>\n        <span>Tinctures</span>\n      </bt>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each gradients as g}\n            <bt class:selected={g === $grad} on:click={e => change(e, grad, g, \"grad\")}>{g}</bt>\n          {/each}\n        </div>\n        <bl title=\"Overlay style to be applied on top of coat of arms\" use:tooltip>\n          {#key $grad}<Lock key=grad/>{/key}\n          <span>Gradient</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each diapers as d}\n            <bt class:selected={d === $diaper} on:click={e => change(e, diaper, d, \"diaper\")}>{d}</bt>\n          {/each}\n        </div>\n        <bl title=\"Backing style for coat of arms, also known as diaper\" use:tooltip>\n          {#key $diaper}<Lock key=diaper/>{/key}\n          <span>Damasking</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each sizes as s}\n            <bt class:selected={$size == s[0]} on:click={e => change(e, size, s[0], \"size\")}>{s[1]}</bt>\n          {/each}\n        </div>\n        <bl title=\"Coat of arms gallery size. Change to smaller value to make coat of arms bigger\" use:tooltip>\n          {#key $size}<Lock key=size/>{/key}\n          <span>Gallery</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          <bl>Color\n            {#if $border !== \"#333333\"}\n              <svg on:click={e => restoreDefault(e, border, \"border\", \"#333333\")} class=\"navBarIcon active smaller\" title=\"Restore default color\" use:tooltip>\n                <use href=\"#undo-icon\"></use>\n              </svg>\n            {/if}\n            <input type=\"color\" bind:value={$border}/>\n          </bl>\n          <bl>Width\n            {#if $borderWidth !== 1}\n              <svg on:click={e => restoreDefault(e, borderWidth, \"borderWidth\", \"#333333\")} class=\"navBarIcon active smaller\" title=\"Restore default border width\" use:tooltip>\n                <use href=\"#undo-icon\"></use>\n              </svg>\n            {/if}\n            <input class=\"right\" type=\"number\" min=0 max=4 step=.1 on:input={function(e) {change(e, borderWidth, +this.value, \"borderWidth\")}} value={$borderWidth}/>\n          </bl>\n        </div>\n        <bl title=\"Coat of arms border style\" use:tooltip>\n          <span>Border</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          <bl>Color\n            <svg on:click={getRandomColor} class=\"navBarIcon active smaller\" title=\"Select random color\" use:tooltip>\n              <use href=\"#random-icon\"></use>\n            </svg>\n            {#if $background !== \"#333333\"}\n              <svg on:click={e => restoreDefault(e, background, \"background\", \"#333333\")} class=\"navBarIcon active smaller\" title=\"Restore default color\" use:tooltip>\n                <use href=\"#undo-icon\"></use>\n              </svg>\n            {/if}\n            <input type=\"color\" bind:value={$background}/>\n          </bl>\n        </div>\n        <bl title=\"Window background color\" use:tooltip>\n          <span>Background</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          <bl class=\"wide\">\n            <input type=\"range\" min=1 max=4 step=.1 bind:value={$scale}/>\n            <input type=\"number\" min=1 max=4 step=.1 bind:value={$scale}/>\n          </bl>\n        </div>\n        <bl title=\"Downloaded image size, 1 is default size, 2 - 2x size, etc.\" use:tooltip>\n          <span>Scale</span>\n        </bl>\n      </div>\n    </div>\n  </div>\n\n  {#if $matrix}\n    <bt on:click={() => $matrix -= 1} title=\"Roll to the previous list\" gesture=\"Swipe up\" hotkey=\"Backspace\" use:tooltip>\n      {@html getIcon(\"rollback\")}\n    </bt>\n  {:else}\n    <bd>{@html getIcon(\"rollback\", \"inactive\")}</bd>\n  {/if}\n\n  <bt on:click={() => $matrix += 1} title=\"Regenerate coat of arms\" gesture=\"Swipe down\" hotkey=\"Enter\" use:tooltip>\n    {@html getIcon(\"reroll\")}\n  </bt>\n\n  <div class=\"container\"><bl>{@html getIcon(\"save\")}</bl>\n    <div class=\"dropdown level1\">\n      <bt on:click={() => download(null, \"svg\")} title=\"Download vector image or set of images. Open in browser or load to Map Generator. Size can be set in options\" hotkey=\"ctrl + S\" use:tooltip>\n        <span>Download SVG</span>\n      </bt>\n\n      <bt on:click={() => download(null, \"png\")} title=\"Download as raster image. Size can be set in options\" hotkey=\"ctrl + P\" use:tooltip>\n        <span>Download PNG</span>\n      </bt>\n\n      <bt on:click={() => download(null, \"jpeg\")} title=\"Download a compressed raster image. Size can be set in options\" hotkey=\"ctrl + J\" use:tooltip>\n        <span>Download JPEG</span>\n      </bt>\n\n      {#if $state.edit}\n        <bt on:click={copyEditLink} title=\"Copy link to the coat of arms in Edit mode to your clipbard\" use:tooltip>\n          <span>Copy edit link</span>\n        </bt>\n\n        <bt on:click={copyAPILink} title=\"Copy link to the coat of arms for embedding. Armoria API does not support custom positions and charges\" use:tooltip>\n          <span>Copy API link</span>\n        </bt>\n      {/if}\n    </div>\n  </div>\n\n  <div class=\"container\"><bl>{@html getIcon(\"upload\")}</bl>\n    <div class=\"dropdown level1\">\n      <bt on:click={() => $state.raster = 1} title=\"Upload raster charge (one color, quality loss on scale) from jpg, png or svg image\" use:tooltip>\n        <span>Raster charge</span>\n      </bt>\n\n      <bt on:click={() => $state.vector = 1} title=\"Upload vector charge (multicolor and lossless scalable) from prepared svg\" use:tooltip>\n        <span>Vector charge</span>\n      </bt>\n    </div>\n  </div>\n\n  {#if installable}\n    <bt on:click={() => install()} class=flutter in:fade title=\"Add Armoria application to the desktop or home screen\" use:tooltip>\n      {@html getIcon(\"install\")}\n    </bt>\n  {/if}\n\n  {#if $state.edit}\n    {#if position > 0}\n      <bt on:click={() => changes.undo()} title=\"Revert the latest change\" gesture=\"Swipe left\" hotkey=\"Z\" use:tooltip>\n        {@html getIcon(\"undo\")}\n      </bt>\n    {:else}\n      <bd>{@html getIcon(\"undo\", \"inactive\")}</bd>\n    {/if}\n\n    {#if position < changes.length() - 1}\n      <bt on:click={() => changes.redo()} title=\"Restore the next change\" gesture=\"Swipe right\" hotkey=\"X\" use:tooltip>\n        {@html getIcon(\"redo\")}\n      </bt>\n    {:else}\n      <bd>{@html getIcon(\"redo\", \"inactive\")}</bd>\n    {/if}\n  {/if}\n\n  {#if $state.edit}\n    <bt id=\"back\" on:click={() => $state.edit = 0} transition:fade title=\"Get back to Gallery\" hotkey=\"Escape\" use:tooltip>\n      {@html getIcon(\"back\")}\n    </bt>\n  {/if}\n\n  {#if wideScreen || !$state.edit}\n    <bt on:click={() => $state.about = 1} title=\"Show about screen\" hotkey=\"F1\" use:tooltip>\n      {@html getIcon(\"about\")}\n    </bt>\n  {/if}\n</nav>\n\n<style>\n  nav {\n    top: 0;\n    width: 100%;\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    display: flex;\n    align-items: center;\n    overflow: hidden;\n    background-color: #1b1c1d;\n    z-index: 1;\n    white-space: nowrap;\n  }\n\n  .logo {\n    display: block;\n    margin: 0 .5em 0 1em;\n    background-color: #35bdb2;\n    cursor: pointer;\n  }\n\n  :global(svg.navBarIcon) {\n    width: 1em;\n    height: 1em;\n    fill: #333;\n    stroke: none;\n    vertical-align: middle;\n  }\n\n  :global(svg.navBarIcon.active) {\n    fill: #fff;\n    cursor: pointer;\n  }\n\n  :global(span.navBarIcon) {\n    color: #333;\n  }\n\n  :global(span.navBarIcon.active) {\n    color: #fff;\n  }\n\n  .navBarIcon.smaller {\n    width: .8em;\n    height: .8em;\n  }\n\n  .navBarIcon.smaller:active {\n    transform: translateY(1px);\n  }\n\n  bt, bl, bd {\n    user-select: none;\n    padding: 1em;\n    color: #fff;\n    text-transform: capitalize;\n  }\n\n  bt {\n    cursor: pointer;\n    transition: background-color .1s;\n  }\n\n  bt:hover, bl:hover {\n    background-color: #2d2e2f;\n  }\n\n  bt:active:not(:last-child) {\n    transform: translateY(1px);\n  }\n\n  input[type=\"color\"] {\n    position: absolute;\n    padding: 0;\n    margin: -.3em 0;\n    right: .4em;\n    border: 0;\n    width: 3em;\n    cursor: pointer;\n  }\n\n  input[type=\"range\"] {\n    padding: 0;\n    width: 72%;\n    margin: 0;\n    height: .6em;\n    cursor: pointer;\n  }\n\n  input[type=\"number\"] {\n    padding: 0 0 0 3px;\n    width: 25%;\n    margin: 0;\n    border: 0;\n  }\n\n  input[type=\"number\"].right {\n    position: absolute;\n    padding: 2px;\n    margin: -.25em 0;\n    right: .4em;\n    width: 3em;\n  }\n\n  .dropdown {\n    display: none;\n    position: fixed;\n    background-color: #1b1c1d;\n    min-width: 9em;\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    z-index: 1;\n  }\n\n  .level1 {\n    margin-top: 1em;\n  }\n\n  .level2 {\n    z-index: 1;\n    margin-left: 10.25em;\n  }\n\n  .level3 {\n    z-index: 2;\n    margin-left: 10.25em;\n  }\n\n  .dropdown bt, .dropdown bl {\n    padding: 12px 16px;\n    width: 8em;\n    display: block;\n  }\n\n  .dropdown bl.wide {\n    width: 12em;\n  }\n\n  .container:hover > .dropdown {\n    display: block;\n  }\n\n  .dropdown bt.selected:before {\n    content: '\\2713';\n    display: inline-block;\n    padding: 0 6px 0 0;\n  }\n\n  /* low-width (narrow) screen */\n  @media only screen and (max-width: 720px) {\n    .logo {\n      display: none;\n    }\n\n    .level3 {\n      margin-left: -10.25em;\n      background-color: #222;\n    }\n  }\n\n  /* low-height screen */\n  @media only screen and (max-height: 640px) and (orientation: landscape) {\n    .dropdown bt, .dropdown bl {\n      padding: 6px 16px;\n      width: 7em;\n    }\n\n    .level2 {\n      margin-left: 9.25em;\n    }\n\n    .level3 {\n      margin-left: 9.25em;\n    }\n  }\n  \n\n  @media only screen and (max-height: 640px) and (min-width: 520px) and (orientation: landscape) {\n    .logo {display: none;}\n    .level3 {column-count: 2;}\n  }\n\n  @media only screen and (max-height: 640px) and (min-width: 680px) and (orientation: landscape) {\n    .logo {display: none;}\n    .level3 {column-count: 3;}\n  }\n\n  .dropdown.iconed {\n    text-indent: 1.8em;\n  }\n\n  .shield {\n    position: absolute;\n    fill: none;\n    stroke: #fff;\n    stroke-width: 5px;\n    margin: -0.4em 0 0 -2.2em;\n  }\n\n  .shield.selected {\n    fill: #777;\n    stroke: #333;\n  }\n\n  #back {\n    position: absolute;\n    right: 0;\n  }\n</style>","<script>\n  import {colors} from '../../data/stores';\n  import {fade, draw} from 'svelte/transition';\n  import {rw} from '../../scripts/utils';\n  export let duration;\n  const delay = duration * 2.6;\n\n  const tinctures = {metals: {argent:3, or:2}, colors: {gules:5, sable:3, azure:4, vert:2, purpure:3}};\n  const metal = Math.random() > .5;\n  const t1 = metal ? rw(tinctures.metals) : rw(tinctures.colors);\n  const t2 = metal ? rw(tinctures.colors) : rw(tinctures.metals);\n\n  const division = rw({perPale:2, perFess:2, perBend:2, perBendSinister:1, perCross:6, perChevron:1, perChevronReversed:1, perPile:2, perSaltire:5, gyronny:1, chevronny:1});\n  const paths = {\n    perPale: [\"M100,25 v175\", \"M100,0 v200 h100 v-200 Z\"],\n    perFess: [\"M27.5,100 h145\", \"M0,100 h200 v100 h-200 Z\"],\n    perBend: [\"M0,0 l200,200\", \"M0,0 l200,200 h-200 Z\"],\n    perBendSinister: [\"M200,0 L0,200\", \"M200,0 L0,200 h200 Z\"],\n    perCross: [\"M100,25 v175 M27.5,100 h145\", \"M100,0 v200 h-100 v-100 h200 v-100 Z\"],\n    perChevron: [\"M0,0 l100,100 l100,-100\", \"M0,0 l100,100 l100,-100 Z\"],\n    perChevronReversed: [\"M0,200 l100,-100 l100,100\", \"M0,200 l100,-100 l100,100 Z\"],\n    perPile: [\"M15,0 l85,200 l85,-200\", \"M15,0 l85,200 l85,-200 Z\"],\n    perSaltire: [\"M0,0 L200,200 M200,0 l-200,200\", \"M0,0 L200,200 v-200 l-200,200 Z\"],\n    gyronny: [\"M0,0 l200,200 M200,100 h-200 M100,0 v200 M0,200 l200,-200\", \"M0,0 l200,200 v-100 h-200 h-100 M100,0 v200, h-100 l200,-200 h-100\"],\n    chevronny: [\"\", \"M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z\"],\n  }\n\n  let size = window.innerWidth < 600 ? window.innerWidth * .9 : 500;\n  if (window.innerHeight < 600) size *= .5;\n</script>\n\n<svg width={size} height={size} viewBox=\"0 0 200 200\">\n  <g clip-path=\"url(#heater)\" stroke=\"#fff\" stroke-width=.5>\n    <path stroke-width=1 d=\"M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z\" in:draw=\"{{duration}}\"/>\n    <path d={paths[division][0]} in:draw=\"{{delay: duration}}\"/>\n\n    <g in:fade=\"{{delay, duration}}\" stroke=\"none\">\n      <rect x=0 y=0 width=200 height=200 fill={$colors[t1]}/>\n      <path d={paths[division][1]} fill={$colors[t2]}/>\n      <rect x=0 y=0 width=200 height=200 fill=\"url(#nourse)\"/>\n    </g>\n  </g>\n\n  <g stroke=\"#000\" fill=\"url(#backlight)\">\n    <path d=\"M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z\" in:draw=\"{{delay, duration}}\"/>\n  </g>\n</svg>","<script>\n  import AnimatedCOA from './AnimatedCOA.svelte';\n  import {state} from './../../data/stores';\n  import {fade, fly} from 'svelte/transition';\n  const duration = 1000;\n</script>\n\n<div id=\"about\" transition:fade>\n  <span on:click={() => $state.about = 0} class=\"close\">&times;</span>\n  <div id=\"aboutCont\">\n    <AnimatedCOA {duration}/>\n    <div class=buttons in:fly=\"{{y:200, delay: duration, duration}}\">\n      <a target=_blank href=https://discord.com/invite/X7E84HU><span translate=\"no\">Discord</span></a>\n      <a target=_blank href=https://github.com/Azgaar/Armoria><span translate=\"no\">GitHub</span></a>\n      <a target=_blank href=https://www.patreon.com/azgaar><span translate=\"no\">Patreon</span></a>\n    </div>\n  </div>\n</div>\n\n<style>\n  #about {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: rgba(0,0,0, 0.9);\n    transition: .5s;\n    text-align: center;\n    user-select: none;\n  }\n\n  #aboutCont {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n\n  a, span {\n    display: inline-block;\n    cursor: pointer;\n    color: #ddd;\n  }\n\n  a:hover, span:hover {\n    color: #fff;\n  }\n\n  .buttons > a {\n    margin: 2em;\n    font-size: 1.2em;\n  }\n\n  span.close {\n    position: fixed;\n    top: 0em;\n    right: .5em;\n    font-size: 4em;\n    padding: .2em 0;\n    z-index: 2;\n  }\n</style>","import {get} from \"svelte/store\";\nimport {changes, grid} from \"../data/stores\";\n\nexport function drag(e, c, coa) {\n  const el = e.currentTarget;\n  const [a0, x0, y0] = parseTransform(el.getAttribute(\"transform\"));\n  const x1 = e.x, y1 = e.y;\n  const sizeAdj = +el.closest(\"svg\").getAttribute(\"width\") / 200;\n  document.addEventListener(\"mouseup\", dragStop, { once: true });\n\n  const size = c.size || 1;\n  const angle = c.angle || 0;\n  const rad = -a0 * (Math.PI / 180);\n  const cosAngle = Math.cos(rad);\n  const sinAngle = Math.sin(rad);\n  const gridSize = get(grid);\n\n  if (e.shiftKey) {\n    document.addEventListener(\"mousemove\", resize);\n    document.body.style.cursor = \"ns-resize\";\n  } else if (e.ctrlKey || e.metaKey) {\n    document.addEventListener(\"mousemove\", rotate);\n    document.body.style.cursor = \"ew-resize\";\n  } else {\n    document.addEventListener(\"mousemove\", move);\n    document.body.style.cursor = \"move\";\n  };\n\n  function move(e) {\n    const dx = x0 + (e.x - x1) / sizeAdj;\n    const dy = y0 + (e.y - y1) / sizeAdj;\n\n    const relX = (dx * cosAngle) - (dy * sinAngle);\n    const relY = (dx * sinAngle) + (dy * cosAngle);\n\n    c.x = Math.round(relX / gridSize) * gridSize;\n    c.y = Math.round(relY / gridSize) * gridSize;\n    setTransform(el, c);\n  }\n\n  function resize(e) {\n    const dy = y0 + (e.y - y1) / sizeAdj;\n    c.size = size + Math.round(dy) / -100;\n    setTransform(el, c);\n    if (c.p) changes.add(JSON.stringify(coa));\n  }\n\n  function rotate(e) {\n    const dx = x0 + (e.x - x1) / sizeAdj;\n    let a = angle + Math.round(dx / 1.8);\n    if (a > 180) a = a % 180 - 180;\n    if (a < -179) a = a % 180 + 180;\n    c.angle = a;\n    setTransform(el, c);\n  }\n\n  function setTransform(el, c) {\n    const tr = transform(c);\n    if (tr) el.setAttribute(\"transform\", tr);\n    else el.removeAttribute(\"transform\");\n  }\n\n  function dragStop() {\n    document.removeEventListener(\"mousemove\", move);\n    document.removeEventListener(\"mousemove\", resize);\n    document.removeEventListener(\"mousemove\", rotate);\n    document.body.style.cursor = \"auto\";\n    changes.add(JSON.stringify(coa));\n  }\n}\n\nexport function transform(c) {\n  if (!c.x && !c.y && !c.angle && !c.size) return null;\n\n  // charges have c.p and have size on use level, not on g level\n  const size = c.p ? 1 : c.size;\n  return `rotate(${c.angle||0}) translate(${c.x||0} ${c.y||0}) scale(${size||1})`;\n}\n\nfunction parseTransform(string) {\n  if (!string) { return [0, 0, 0, 0, 0, 1]; }\n  const a = string.replace(/[a-z()]/g, \"\").replace(/[ ]/g, \",\").split(\",\");\n  return [+a[0] || 0, +a[1] || 0, +a[2] || 0, +a[3] || 0, +a[4] || 0, +a[5] || 1];\n}","export const lines = {\n  straight: \"m 0,100 v15 h 200 v -15 z\",\n  engrailed: \"m 0,95 a 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 v 20 H 0 Z\",\n  invecked: \"M0,102.5 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 v12.5 H0 z\",\n  embattled: \"M 0,105 H 2.5 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 2.5 v 10 H 0 Z\",\n  wavy: \"m 200,115 v -15 c -8.9,3.5 -16,3.1 -25,0 -8.9,-3.5 -16,-3.1 -25,0 -8.9,3.5 -16,3.2 -25,0 -8.9,-3.5 -16,-3.2 -25,0 -8.9,3.5 -16,3.1 -25,0 -8.9,-3.5 -16,-3.1 -25,0 -8.9,3.5 -16,3.2 -25,0 -8.9,-3.5 -16,-3.2 -25,0 v 15 z\",\n  raguly: \"m 200,95 h -3 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 H 97 l -5,10 H 82 L 87,95 H 77 l -5,10 H 62 L 67,95 H 57 l -5,10 H 42 L 47,95 H 37 l -5,10 H 22 L 27,95 H 17 l -5,10 H 2 L 7,95 H 0 v 20 h 200 z\",\n  dancetty: \"m 0,105 10,-15 15,20 15,-20 15,20 15,-20 15,20 15,-20 15,20 15,-20 15,20 15,-20 15,20 15,-20 10,15 v 10 H 0 Z\",\n  dentilly: \"M 180,105 170,95 v 10 L 160,95 v 10 L 150,95 v 10 L 140,95 v 10 L 130,95 v 10 L 120,95 v 10 L 110,95 v 10 L 100,95 v 10 L 90,95 v 10 L 80,95 v 10 L 70,95 v 10 L 60,95 v 10 L 50,95 v 10 L 40,95 v 10 L 30,95 v 10 L 20,95 v 10 L 10,95 v 10 L 0,95 v 20 H 200 V 105 L 190,95 v 10 L 180,95 Z\",\n  angled: \"m 0,95 h 100 v 10 h 100 v 10 H 0 Z\",\n  urdy: \"m 200,90 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,6 -5,-6 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,6 -5,-6 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 L 0,90 v 25 h 200\",\n  indented: \"m 100,95 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 v 20 H 0 V 95 l 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 z\",\n  bevilled: \"m 0,92.5 h 110 l -20,15 H 200 V 115 H 0 Z\",\n  nowy: \"m 0,95 h 80 c 0,0 0.1,20.1 20,20 19.9,-0.1 20,-20 20,-20 h 80 v 20 H 0 Z\",\n  nowyReversed: \"m 200,105 h -80 c 0,0 -0.1,-20.1 -20,-20 -19.9,0.1 -20,20 -20,20 H 0 v 10 h 200 z\",\n  potenty: \"m 3,95 v 5 h 5 v 5 H 0 v 10 h 200 l 0.5,-10 H 193 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 H 100.5 93 v -5 h 5 V 95 H 83 v 5 h 5 v 5 H 73 v -5 h 5 V 95 H 63 v 5 h 5 v 5 H 53 v -5 h 5 V 95 H 43 v 5 h 5 v 5 H 33 v -5 h 5 V 95 H 23 v 5 h 5 v 5 H 13 v -5 h 5 v -5 z\",\n  potentyDexter: \"m 200,105 h -2 v -10 0 0 h -10 v 5 h 5 v 5 H 183 V 95 h -10 v 5 h 5 v 5 H 168 V 95 h -10 v 5 h 5 v 5 H 153 V 95 h -10 v 5 h 5 v 5 H 138 V 95 h -10 v 5 h 5 v 5 H 123 V 95 h -10 v 5 h 5 v 5 h -10 v 0 0 -10 H 98 v 5 h 5 v 5 H 93 V 95 H 83 v 5 h 5 v 5 H 78 V 95 H 68 v 5 h 5 v 5 H 63 V 95 H 53 v 5 h 5 v 5 H 48 V 95 H 38 v 5 h 5 v 5 H 33 V 95 H 23 v 5 h 5 v 5 H 18 V 95 H 8 v 5 h 5 v 5 H 3 V 95 H 0 v 20 h 200 z\",\n  potentySinister: \"m 2.5,95 v 10 H 0 v 10 h 202.5 v -15 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 z\",\n  embattledGhibellin: \"M 200,200 V 100 l -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 v 15 h 200\",\n  embattledNotched: \"m 200,105 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 H 90 V 95 l -5,5 -5,-5 v 10 H 75 V 95 l -5,5 -5,-5 v 10 H 60 V 95 l -5,5 -5,-5 v 10 H 45 V 95 l -5,5 -5,-5 v 10 H 30 V 95 l -5,5 -5,-5 v 10 H 15 V 95 l -5,5 -5,-5 v 10 H 0 v 10 h 200\",\n  embattledGrady: \"m 0,95 v 20 H 200 V 95 h -2.5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 z\",\n  dovetailed: \"m 200,95 h -7 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 H 93 l 4,10 H 83 L 87,95 H 73 l 4,10 H 63 L 67,95 H 53 l 4,10 H 43 L 47,95 H 33 l 4,10 H 23 L 27,95 H 13 l 4,10 H 3 L 7,95 H 0 v 20 h 200\",\n  dovetailedIndented: \"m 200,100 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 v 15 h 200\",\n  nebuly: \"m 13.1,89.8 c -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.2,4.5 -7.3,4.5 -0.5,0 -2.2,-0.2 -2.2,-0.2 V 115 h 200 v -10.1 c -3.7,-0.2 -6.7,-2.2 -6.7,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.8,-1.9 1.8,-3.1 0,-2.5 -3.2,-4.5 -7.2,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.8,-1.9 1.8,-3.1 0,-2.5 -3.2,-4.5 -7.2,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 -1.5,4.1 -4.2,4.4 -8.8,4.5 -4.7,-0.1 -8.7,-1.5 -8.9,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 z\",\n  rayonne: \"M0 115l-.1-6 .2.8c1.3-1 2.3-2.5 2.9-4.4.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4A9 9 0 015.5 90c-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 2.1 3.1 3.1 4.6 1 1.6 2.4 3.1 2.7 4.8.3 1.7.3 3.3 0 5.2 1.3-1 2.6-2.7 3.2-4.6.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.75 2.79 2.72 4.08 4.45 5.82L200 115z\",\n  seaWaves: \"m 28.83,94.9 c -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.44,-3.6 3.6,-3.6 0.7,0 1.36,0.17 1.93,0.48 -0.33,-2.03 -2.19,-3.56 -4.45,-3.56 -4.24,0 -6.91,3.13 -8.5,5.13 V 115 h 200 v -14.89 c -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.44,-3.6 3.6,-3.6 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -6.6,3.09 -8.19,5.09 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 z\",\n  dragonTeeth: \"M 9.4,85 C 6.5,88.1 4.1,92.9 3,98.8 1.9,104.6 2.3,110.4 3.8,115 2.4,113.5 0,106.6 0,109.3 v 5.7 h 200 v -5.7 c -1.1,-2.4 -2,-5.1 -2.6,-8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -1.4,-1.5 -2.8,-3.9 -3.8,-6.1 -1.1,-2.4 -2.3,-6.1 -2.6,-7.7 -0.2,-5.9 0.2,-11.7 1.7,-16.3 -3,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1,-5.8 -0.7,-11.6 0.9,-16.2 -3,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.9,-16.2 -3,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 C 63,95.4 63.4,89.6 64.9,85 c -2.9,3.1 -5.3,7.9 -6.3,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1,5.8 -0.6,11.6 0.9,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1,5.8 -0.7,11.6 0.9,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.9,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 C 18.6,95.4 19,89.6 20.5,85 17.6,88.1 15.2,92.9 14.1,98.8 13,104.6 13.4,110.4 14.9,115 12,111.9 9.6,107.1 8.6,101.2 7.5,95.4 7.9,89.6 9.4,85 Z\",\n  firTrees: \"m 3.9,90 -4,7 2,-0.5 L 0,100 v 15 h 200 v -15 l -1.9,-3.5 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4.1,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4.1,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 z\",\n  flechy: \"m 0,100 h 85 l 15,-15 15,15 h 85 v 15 H 0 Z\",\n  barby: \"m 0,100 h 85 l 15,15 15,-15 h 85 v 15 H 0 Z\",\n  enclavy: \"M 0,100 H 85 V 85 h 30 v 15 h 85 v 15 H 0 Z\",\n  escartely: \"m 0,100 h 85 v 15 h 30 v -15 h 85 v 15 H 0 Z\",\n  arched: \"m 100,95 c 40,-0.2 100,20 100,20 H 0 c 0,0 60,-19.8 100,-20 z\",\n  archedReversed: \"m 0,85 c 0,0 60,20.2 100,20 40,-0.2 100,-20 100,-20 v 30 H 0 Z\"\n}\n\nexport const templates = {\n  // straight divisions\n  perFess: `<rect x=\"0\" y=\"100\" width=\"200\" height=\"100\"/>`,\n  perPale: `<rect x=\"100\" y=\"0\" width=\"100\" height=\"200\"/>`,\n  perBend: `<polygon points=\"0,0 200,200 0,200\"/>`,\n  perBendSinister: `<polygon points=\"200,0 0,200 200,200\"/>`,\n  perChevron: `<polygon points=\"0,200 100,100 200,200\"/>`,\n  perChevronReversed: `<polygon points=\"0,0 100,100 200,0\"/>`,\n  perCross: `<rect x=\"100\" y=\"0\" width=\"100\" height=\"100\"/><rect x=\"0\" y=\"100\" width=\"100\" height=\"100\"/>`,\n  perPile: `<polygon points=\"0,0 15,0 100,200 185,0 200,0 200,200 0,200\"/>`,\n  perSaltire: `<polygon points=\"0,0 0,200 200,0 200,200\"/>`,\n  gyronny: `<polygon points=\"0,0 200,200 200,100 0,100\"/><polygon points=\"200,0 0,200 100,200 100,0\"/>`,\n  chevronny: `<path d=\"M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z\"/>`,\n  // lined divisions\n  perFessLined: line => `<path d=\"${line}\"/><rect x=\"0\" y=\"115\" width=\"200\" height=\"85\" shape-rendering=\"crispedges\"/>`,\n  perPaleLined: line => `<path d=\"${line}\" transform=\"rotate(-90 100 100)\"/><rect x=\"115\" y=\"0\" width=\"85\" height=\"200\" shape-rendering=\"crispedges\"/>`,\n  perBendLined: line => `<path d=\"${line}\" transform=\"translate(-10 -10) rotate(45 110 110) scale(1.1)\"/><rect x=\"0\" y=\"115\" width=\"200\" height=\"85\" transform=\"translate(-10 -10) rotate(45 110 110) scale(1.1)\" shape-rendering=\"crispedges\"/>`,\n  perBendSinisterLined: line => `<path d=\"${line}\" transform=\"translate(-10 -10) rotate(-45 110 110) scale(1.1)\"/><rect x=\"0\" y=\"115\" width=\"200\" height=\"85\" transform=\"translate(-10 -10) rotate(-45 110 110) scale(1.1)\" shape-rendering=\"crispedges\"/>`,\n  perChevronLined: line => `<rect x=\"15\" y=\"115\" width=\"200\" height=\"200\" transform=\"translate(70 70) rotate(45 100 100)\"/><path d=\"${line}\" transform=\"translate(129 71) rotate(-45 -100 100) scale(-1 1)\"/><path d=\"${line}\" transform=\"translate(71 71) rotate(45 100 100)\"/>`,\n  perChevronReversedLined: line => `<rect x=\"15\" y=\"115\" width=\"200\" height=\"200\" transform=\"translate(-70 -70) rotate(225.001 100 100)\"/><path d=\"${line}\" transform=\"translate(-70.7 -70.7) rotate(225 100 100) scale(1 1)\"/><path d=\"${line}\" transform=\"translate(270.7 -70.7) rotate(-225 -100 100) scale(-1 1)\"/>`,\n  perCrossLined: line => `<rect x=\"100\" y=\"0\" width=\"100\" height=\"92.5\"/><rect x=\"0\" y=\"107.5\" width=\"100\" height=\"92.5\"/><path d=\"${line}\" transform=\"translate(0 50) scale(.5001)\"/><path d=\"${line}\" transform=\"translate(200 150) scale(-.5)\"/>`,\n  perPileLined: line => `<path d=\"${line}\" transform=\"translate(161.66 10) rotate(66.66 -100 100) scale(-1 1)\"/><path d=\"${line}\" transform=\"translate(38.33 10) rotate(-66.66 100 100)\"/><polygon points=\"-2.15,0 84.15,200 115.85,200 202.15,0 200,200 0,200\"/>`,\n  // straight ordinaries\n  fess: `<rect x=\"0\" y=\"75\" width=\"200\" height=\"50\"/>`,\n  pale: `<rect x=\"75\" y=\"0\" width=\"50\" height=\"200\"/>`,\n  bend: `<polygon points=\"35,0 200,165 200,200 165,200 0,35 0,0\"/>`,\n  bendSinister: `<polygon points=\"0,165 165,0 200,0 200,35 35,200 0,200\"/>`,\n  chief: `<rect width=\"200\" height=\"75\"/>`,\n  bar: `<rect x=\"0\" y=\"87.5\" width=\"200\" height=\"25\"/>`,\n  gemelle: `<rect x=\"0\" y=\"76\" width=\"200\" height=\"16\"/><rect x=\"0\" y=\"108\" width=\"200\" height=\"16\"/>`,\n  fessCotissed: `<rect x=\"0\" y=\"67\" width=\"200\" height=\"8\"/><rect x=\"0\" y=\"83\" width=\"200\" height=\"34\"/><rect x=\"0\" y=\"125\" width=\"200\" height=\"8\"/>`,\n  fessDoubleCotissed: `<rect x=\"0\" y=\"60\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"72.5\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"85\" width=\"200\" height=\"30\"/><rect x=\"0\" y=\"120\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"132.5\" width=\"200\" height=\"7.5\"/>`,\n  bendlet: `<polygon points=\"22,0 200,178 200,200 178,200 0,22 0,0\"/>`,\n  bendletSinister: `<polygon points=\"0,178 178,0 200,0 200,22 22,200 0,200\"/>`,\n  terrace: `<rect x=\"0\" y=\"145\" width=\"200\" height=\"55\"/>`,\n  cross: `<polygon points=\"85,0 85,85 0,85 0,115 85,115 85,200 115,200 115,115 200,115 200,85 115,85 115,0\"/>`,\n  crossParted: `<path d=\"M 80 0 L 80 80 L 0 80 L 0 95 L 80 95 L 80 105 L 0 105 L 0 120 L 80 120 L 80 200 L 95 200 L 95 120 L 105 120 L 105 200 L 120 200 L 120 120 L 200 120 L 200 105 L 120 105 L 120 95 L 200 95 L 200 80 L 120 80 L 120 0 L 105 0 L 105 80 L 95 80 L 95 0 L 80 0 z M 95 95 L 105 95 L 105 105 L 95 105 L 95 95 z\"/>`,\n  saltire: `<path d=\"M 0,21 79,100 0,179 0,200 21,200 100,121 179,200 200,200 200,179 121,100 200,21 200,0 179,0 100,79 21,0 0,0 Z\"/>`,\n  saltireParted: `<path d=\"M 7 0 L 89 82 L 82 89 L 0 7 L 0 28 L 72 100 L 0 172 L 0 193 L 82 111 L 89 118 L 7 200 L 28 200 L 100 128 L 172 200 L 193 200 L 111 118 L 118 111 L 200 193 L 200 172 L 128 100 L 200 28 L 200 7 L 118 89 L 111 82 L 193 0 L 172 0 L 100 72 L 28 0 L 7 0 z M 100 93 L 107 100 L 100 107 L 93 100 L 100 93 z\"/>`,\n  mount: `<path d=\"m0,250 a100,100,0,0,1,200,0\"/>`,\n  point: `<path d=\"M0,200 Q80,180 100,135 Q120,180 200,200\"/>`,\n  flaunches: `<path d=\"M0,0 q120,100 0,200 M200,0 q-120,100 0,200\"/>`,\n  gore: `<path d=\"M20,0 Q30,75 100,100 Q80,150 100,200 L0,200 L0,0 Z\"/>`,\n  pall: `<polygon points=\"0,0 30,0 100,70 170,0 200,0 200,30 122,109 122,200 78,200 78,109 0,30\"/>`,\n  pallReversed: `<polygon points=\"0,200 0,170 78,91 78,0 122,0 122,91 200,170 200,200 170,200 100,130 30,200\"/>`,\n  chevron: `<polygon points=\"0,125 100,60 200,125 200,165 100,100 0,165\"/>`,\n  chevronReversed: `<polygon points=\"0,75 100,140 200,75 200,35 100,100 0,35\"/>`,\n  gyron: `<polygon points=\"0,0 100,100 0,100\"/>`,\n  quarter: `<rect width=\"50%\" height=\"50%\"/>`,\n  canton: `<rect width=\"37.5%\" height=\"37.5%\"/>`,\n  pile: `<polygon points=\"70,0 100,175 130,0\"/>`,\n  pileInBend: `<polygon points=\"200,200 200,144 25,25 145,200\"/>`,\n  pileInBendSinister: `<polygon points=\"0,200 0,144 175,25 55,200\"/>`,\n  piles: `<polygon points=\"46,0 75,175 103,0\"/><polygon points=\"95,0 125,175 154,0\"/>`,\n  pilesInPoint: `<path d=\"M15,0 100,200 60,0Z M80,0 100,200 120,0Z M140,0 100,200 185,0Z\"/>`,\n  label: `<path d=\"m 46,54.8 6.6,-15.6 95.1,0 5.9,15.5 -16.8,0.1 4.5,-11.8 L 104,43 l 4.3,11.9 -16.8,0 4.3,-11.8 -37.2,0 4.5,11.8 -16.9,0 z\"/>`,\n  // lined ordinaries\n  fessLined: line => `<path d=\"${line}\" transform=\"translate(0 -25)\"/><path d=\"${line}\" transform=\"translate(0 25) rotate(180 100 100)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" stroke=\"none\"/>`,\n  paleLined: line => `<path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0 -25)\"/><path d=\"${line}\" transform=\"rotate(90 100 100) translate(0 -25)\"/><rect x=\"88\" y=\"0\" width=\"24\" height=\"200\" stroke=\"none\"/>`,\n  bendLined: line => `<path d=\"${line}\" transform=\"translate(8 -18) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-28 18) rotate(225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" transform=\"translate(-10 0) rotate(45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  bendSinisterLined: line => `<path d=\"${line}\" transform=\"translate(-28 -18) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(8 18) rotate(-225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" transform=\"translate(-10 0) rotate(-45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  chiefLined: line => `<path d=\"${line}\" transform=\"translate(0,-25) rotate(180.00001 100 100)\"/><rect width=\"200\" height=\"62\" stroke=\"none\"/>`,\n  barLined: line => `<path d=\"${line}\" transform=\"translate(0,-12.5)\"/><path d=\"${line}\" transform=\"translate(0,12.5) rotate(180.00001 100 100)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" stroke=\"none\"/>`,\n  gemelleLined: line => `<path d=\"${line}\" transform=\"translate(0,-22.5)\"/><path d=\"${line}\" transform=\"translate(0,22.5) rotate(180.00001 100 100)\"/>`,\n  fessCotissedLined: line => `<path d=\"${line}\" transform=\"translate(0 15) scale(1 .5)\"/><path d=\"${line}\" transform=\"translate(0 85) rotate(180 100 50) scale(1 .5)\"/><rect x=\"0\" y=\"80\" width=\"200\" height=\"40\"/>`,\n  fessDoubleCotissedLined: line => `<rect x=\"0\" y=\"85\" width=\"200\" height=\"30\"/><rect x=\"0\" y=\"72.5\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"120\" width=\"200\" height=\"7.5\"/><path d=\"${line}\" transform=\"translate(0 10) scale(1 .5)\"/><path d=\"${line}\" transform=\"translate(0 90) rotate(180 100 50) scale(1 .5)\"/>`,\n  bendletLined: line => `<path d=\"${line}\" transform=\"translate(2 -12) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-22 12) rotate(225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" transform=\"translate(-10 0) rotate(45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  bendletSinisterLined: line => `<path d=\"${line}\" transform=\"translate(-22 -12) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(2 12) rotate(-225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" transform=\"translate(-10 0) rotate(-45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  terraceLined: line => `<path d=\"${line}\" transform=\"translate(0,50)\"/><rect x=\"0\" y=\"164\" width=\"200\" height=\"36\" stroke=\"none\"/>`,\n  crossLined: line => `<path d=\"${line}\" transform=\"translate(0,-14.5)\"/><path d=\"${line}\" transform=\"rotate(180 100 100) translate(0,-14.5)\"/><path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0,-14.5)\"/><path d=\"${line}\" transform=\"rotate(-270 100 100) translate(0,-14.5)\"/>`,\n  crossPartedLined: line => `<path d=\"${line}\" transform=\"translate(0,-20)\"/><path d=\"${line}\" transform=\"rotate(180 100 100) translate(0,-20)\"/><path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0,-20)\"/><path d=\"${line}\" transform=\"rotate(-270 100 100) translate(0,-20)\"/>`,\n  saltireLined: line => `<path d=\"${line}\" transform=\"translate(0 -10) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-20 10) rotate(225 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-20 -10) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(0 10) rotate(-225 110 100) scale(1.1 1)\"/>`,\n  saltirePartedLined: line => `<path d=\"${line}\" transform=\"translate(3 -13) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-23 13) rotate(225 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-23 -13) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(3 13) rotate(-225 110 100) scale(1.1 1)\"/>`\n}\n\nexport const patterns = {\n  semy: (p, c1, c2, size, chargeId) => `<pattern id=\"${p}\" width=\"${size * .134}\" height=\"${size * .1787}\" viewBox=\"0 0 150 200\" stroke=\"#000\"><rect width=\"150\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><g fill=\"${c2}\"><g transform=\"translate(-60,-50)\"><use href=\"#${chargeId}\"/></g><g transform=\"translate(10,50)\"><use href=\"#${chargeId}\"/></g></g></pattern>`,\n  vair: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 25 50\" stroke=\"#000\" stroke-width=\".2\"><rect width=\"25\" height=\"25\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c1}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m25,25 l-6.25,6.25 v12.5 l-6.25,6.25 l-6.25,-6.25 v-12.5 l-6.25,-6.25 z\" fill=\"${c2}\"/><path d=\"M0 50 h25\" fill=\"none\"/></pattern>`,\n  counterVair: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 25 50\" stroke=\"#000\" stroke-width=\".2\"><rect width=\"25\" height=\"50\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m 12.5,0 6.25,6.25 v 12.5 L 25,25 18.75,31.25 v 12.5 L 12.5,50 6.25,43.75 V 31.25 L 0,25 6.25,18.75 V 6.25 Z\" fill=\"${c1}\"/></pattern>`,\n  vairInPale: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 25 25\"><rect width=\"25\" height=\"25\" fill=\"${c2}\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c1}\" stroke=\"#000\" stroke-width=\".2\"/></pattern>`,\n  vairEnPointe: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 25 50\"><rect width=\"25\" height=\"25\" fill=\"${c2}\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c1}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\" stroke-width=\"1\" stroke=\"${c1}\"/><path d=\"m12.5,25 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c2}\"/></pattern>`,\n  vairAncien: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><path fill=\"${c2}\" stroke=\"none\" d=\"m 0,90 c 10,0 25,-5 25,-40 0,-25 10,-40 25,-40 15,0 25,15 25,40 0,35 15,40 25,40 v 10 H 0 Z\"/><path fill=\"none\" stroke=\"#000\" d=\"M 0,90 c 10,0 25,-5 25,-40 0,-35 15,-40 25,-40 10,0 25,5 25,40 0,35 15,40 25,40 M0,100 h100\"/></pattern>`,\n  potent: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .25}\" height=\"${size * .25}\" viewBox=\"0 0 200 200\" stroke=\"#000\"><rect width=\"200\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><rect y=\"100\" width=\"200\" height=\"100\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m25 50h50v-50h50v50h50v50h-150z\" fill=\"${c2}\"/><path d=\"m25 100v50h50v50h50v-50h50v-50z\" fill=\"${c1}\"/><path d=\"m0 0h200 M0 100h200\" fill=\"none\"/></pattern>`,\n  counterPotent: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .25}\" height=\"${size * .25}\" viewBox=\"0 0 200 200\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"200\" height=\"200\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m25 50h50v-50h50v50h50v100h-50v50h-50v-50h-50v-50z\" fill=\"${c1}\"/><path d=\"m0 0h200 M0 100h200 M0 200h200\"/></pattern>`,\n  potentInPale: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .25}\" height=\"${size * .125}\" viewBox=\"0 0 200 100\" stroke-width=\"2\"><rect width=\"200\" height=\"100\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m25 50h50v-50h50v50h50v50h-150z\" fill=\"${c1}\" stroke=\"#000\"/><path d=\"m0 0h200 M0 100h200\" fill=\"none\" stroke=\"#000\"/></pattern>`,\n  potentEnPointe: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .235}\" height=\"${size * .235}\" viewBox=\"0 0 200 200\" stroke=\"none\"><rect width=\"200\" height=\"200\" fill=\"${c1}\"/><path d=\"m50 50h50v-50h50v50h50v100h-50v-50h-50v50h-50v50h-50v-100h50\" fill=\"${c2}\"/></pattern>`,\n  ermine: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 25 25\" fill=\"${c2}\"><rect width=\"25\" height=\"25\" fill=\"${c1}\"/><path d=\"m19.1,14.8 c-0.7,2.9 -2.1,5 -3.5,6.5 0.6,-0.1 1.3,-0.6 2,-0.9 -0.4,0.8 -0.8,1.4 -1.2,2.1 0.2,-0.1 1,-0.8 2,-1.8 0.2,1.4 0.4,2.9 0.7,3.9 0.3,-0.9 0.5,-2.5 0.7,-3.9 0.6,0.6 1.2,1.3 2.1,1.8 l -1.2,-2.2 c 0.6,0.3 1.3,0.8 1.9,1 -1.5,-1.6 -2.8,-3.6 -3.5,-6.5z\"/><path d=\"m16.1,14.9 c-0.1,-0.2 -1,0.4 -1.5,-0.8 1.2,1.1 2.5,-1.2 3.5,0.4 0.3,0.7 -1.1,1.8 -2,0.4z\"/><path d=\"m21.9,14.9 c.1,-.2 1,0.4 1.5,-0.8 -1.2,1.1 -2.5,-1.2 -3.5,0.4 -0.3,0.7 1.1,1.8 2,0.4z\"/><path d=\"m19.4,12.4 c-0.2,-0.1 0.7,-0.7 -0.6,-1.4 1.1,1.2 -2,1.7 -0.3,2.9 0.7,0.4 2.4,-0.5 0.9,-1.5z\"/><path d=\"M5.8,4.6 C5.1,7.5 3.7,9.5 2.3,11 2.9,10.9 3.6,10.5 4.2,10.1 3.8,10.9 3.4,11.5 3,12.2 3.3,12.1 4,11.4 5.1,10.4 c 0.2,1.4 0.4,2.9 0.7,3.9 0.3,-0.9 0.5,-2.5 0.7,-3.9 0.6,0.6 1.2,1.3 2.1,1.8 L 7.3,10 c 0.6,0.3 1.3,0.8 1.9,1 C7.7,9.5 6.4,7.5 5.8,4.6Z\"/><path d=\"M2.9,4.7 C2.8,4.6 1.9,5.1 1.3,4 2.6,5.1 3.8,2.8 4.9,4.3 5.2,5 3.8,6.1 2.9,4.7Z\"/><path d=\"M8.6,4.7 C8.7,4.5 9.6,5.1 10.1,3.9 8.9,5.1 7.6,2.7 6.6,4.3 6.3,5 7.7,6.1 8.6,4.7Z\"/><path d=\"M6.1,2.2 C 5.9,2.1 6.8,1.5 5.5,0.8 6.6,2.1 3.5,2.6 5.2,3.7 5.9,4.1 7.6,3.3 6.1,2.2Z\"/></pattern>`,\n  chequy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .25}\" height=\"${size * .25}\" viewBox=\"0 0 50 50\" fill=\"${c2}\"><rect width=\"50\" height=\"50\"/><rect width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"25\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  lozengy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" fill=\"${c1}\"/><polygon points=\"25,0 50,25 25,50 0,25\" fill=\"${c2}\"/></pattern>`,\n  fusily: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 50 100\"><rect width=\"50\" height=\"100\" fill=\"${c1}\"/><polygon points=\"25,0 50,50 25,100 0,50\" fill=\"${c2}\"/></pattern>`,\n  pally: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .5}\" height=\"${size * .125}\" viewBox=\"0 0 100 25\"><rect width=\"100\" height=\"25\" fill=\"${c2}\"/><rect x=\"25\" y=\"0\" width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"75\" y=\"0\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  barry: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .5}\" viewBox=\"0 0 25 100\"><rect width=\"25\" height=\"100\" fill=\"${c2}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"0\" y=\"75\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  gemelles: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .5}\" viewBox=\"0 0 25 100\"><rect width=\"25\" height=\"100\" fill=\"${c2}\"/><rect x=\"0\" y=\"35\" width=\"25\" height=\"10\" fill=\"${c1}\"/><rect x=\"0\" y=\"55\" width=\"25\" height=\"10\" fill=\"${c1}\"/></pattern>`,\n  bendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .5}\" height=\"${size * .5}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><polygon points=\"0,25 75,100 25,100 0,75\" fill=\"${c2}\"/><polygon points=\"25,0 75,0 100,25 100,75\" fill=\"${c2}\"/></pattern>`,\n  bendySinister: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .5}\" height=\"${size * .5}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c2}\"/><polygon points=\"0,25 25,0 75,0 0,75\" fill=\"${c1}\"/><polygon points=\"25,100 100,25 100,75 75,100\" fill=\"${c1}\"/></pattern>`,\n  palyBendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .6258}\" height=\"${size * .3576}\" viewBox=\"0 0 175 100\"><rect y=\"0\" x=\"0\" width=\"175\" height=\"100\" fill=\"${c2}\"/><g fill=\"${c1}\"><path d=\"m0 20 35 30v50l-35-30z\"/><path d=\"m35 0 35 30v50l-35-30z\"/><path d=\"m70 0h23l12 10v50l-35-30z\"/><path d=\"m70 80 23 20h-23z\"/><path d=\"m105 60 35 30v10h-35z\"/><path d=\"m105 0h35v40l-35-30z\"/><path d=\"m140 40 35 30v30l-23.42-0.07063-11.58-9.929z\"/><path d=\"m175 0v20l-23-20z\"/></g></pattern>`,\n  barryBendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .3572}\" height=\"${size * .6251}\" viewBox=\"0 0 100 175\"><rect width=\"100\" height=\"175\" fill=\"${c2}\"/><g fill=\"${c1}\"><path d=\"m20 0 30 35h50l-30-35z\"/><path d=\"m0 35 30 35h50l-30-35z\"/><path d=\"m0 70v23l10 12h50l-30-35z\"/><path d=\"m80 70 20 23v-23z\"/><path d=\"m60 105 30 35h10v-35z\"/><path d=\"m0 105v35h40l-30-35z\"/><path d=\"m40 140 30 35h30l-0.07063-23.42-9.929-11.58z\"/><path d=\"m0 175h20l-20-23z\"/></g></pattern>`,\n  pappellony: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><circle cx=\"0\" cy=\"51\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/><circle cx=\"100\" cy=\"51\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/><circle cx=\"50\" cy=\"1\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/></pattern>`,\n  pappellony2: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"100\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><circle cy=\"50\" r=\"49\" fill=\"${c2}\"/><circle cx=\"100\" cy=\"50\" r=\"49\" fill=\"${c2}\"/><circle cx=\"50\" cy=\"0\" r=\"49\" fill=\"${c1}\"/></pattern>`,\n  scaly: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\" stroke=\"#000\"><rect width=\"100\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><path d=\"M 0,84 C -40,84 -50,49 -50,49 -50,79 -27,99 0,99 27,99 50,79 50,49 50,49 40,84 0,84 Z\" fill=\"${c2}\"/><path d=\"M 100,84 C 60,84 50,49 50,49 c 0,30 23,50 50,50 27,0 50,-20 50,-50 0,0 -10,35 -50,35 z\" fill=\"${c2}\"/><path d=\"M 50,35 C 10,35 0,0 0,0 0,30 23,50 50,50 77,50 100,30 100,0 100,0 90,35 50,35 Z\" fill=\"${c2}\"/></pattern>`,\n  plumetty: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 50 100\" stroke-width=\".8\"><rect width=\"50\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><path fill=\"${c2}\" stroke=\"none\" d=\"M 25,100 C 44,88 49.5,74 50,50 33.5,40 25,25 25,4e-7 25,25 16.5,40 0,50 0.5,74 6,88 25,100 Z\"/><path fill=\"none\" stroke=\"${c1}\" d=\"m17 40c5.363 2.692 10.7 2.641 16 0m-19 7c7.448 4.105 14.78 3.894 22 0m-27 7c6-2 10.75 3.003 16 3 5.412-0.0031 10-5 16-3m-35 9c4-7 12 3 19 2 7 1 15-9 19-2m-35 6c6-2 11 3 16 3s10-5 16-3m-30 7c8 0 8 3 14 3s7-3 14-3m-25 8c7.385 4.048 14.72 3.951 22 0m-19 8c5.455 2.766 10.78 2.566 16 0m-8 6v-78\"/><g fill=\"none\" stroke=\"${c2}\"><path d=\"m42 90c2.678 1.344 5.337 2.004 8 2m-11 5c3.686 2.032 7.344 3.006 10.97 3m0.0261-1.2e-4v-30\"/><path d=\"m0 92c2.689 0.0045 5.328-0.6687 8-2m-8 10c3.709-0.0033 7.348-1.031 11-3m-11 3v-30\"/><path d=\"m0 7c5.412-0.0031 10-5 16-3m-16 11c7 1 15-9 19-2m-19 9c5 0 10-5 16-3m-16 10c6 0 7-3 14-3m-14.02 11c3.685-0.002185 7.357-1.014 11.02-3m-11 10c2.694-0.01117 5.358-0.7036 7.996-2m-8 6v-48\"/><path d=\"m34 4c6-2 10.75 3.003 16 3m-19 6c4-7 12 3 19 2m-16 4c6-2 11 3 16 3m-14 4c8 0 8 3 14 3m-11 5c3.641 1.996 7.383 2.985 11 3m-8 5c2.762 1.401 5.303 2.154 8.002 2.112m-0.00154 3.888v-48\"/></g></pattern>`,\n  masoned: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\" fill=\"none\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><rect width=\"100\" height=\"50\" stroke=\"${c2}\" stroke-width=\"4\"/><line x1=\"50\" y1=\"50\" x2=\"50\" y2=\"100\" stroke=\"${c2}\" stroke-width=\"5\"/></pattern>`,\n  fretty: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .2}\" height=\"${size * .2}\" viewBox=\"0 0 140 140\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"140\" height=\"140\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m-15 5 150 150 20-20-150-150z\" fill=\"${c2}\"/><path d=\"m10 150 140-140-20-20-140 140z\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m0 120 20 20 120-120-20-20z\" fill=\"none\"/></pattern>`,\n  grillage: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .25}\" height=\"${size * .25}\" viewBox=\"0 0 200 200\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"200\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m205 65v-30h-210v30z\" fill=\"${c2}\"/><path d=\"m65-5h-30v210h30z\" fill=\"${c2}\"/><path d=\"m205 165v-30h-210v30z\" fill=\"${c2}\"/><path d=\"m165,65h-30v140h30z\" fill=\"${c2}\"/><path d=\"m 165,-5h-30v40h30z\" fill=\"${c2}\"/></pattern>`,\n  chainy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .167}\" height=\"${size * .167}\" viewBox=\"0 0 200 200\" stroke=\"#000\" stroke-width=\"2\"><rect x=\"-6.691e-6\" width=\"200\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m155-5-20-20-160 160 20 20z\" fill=\"${c2}\"/><path d=\"m45 205 160-160 20 20-160 160z\" fill=\"${c2}\"/><path d=\"m45-5 20-20 160 160-20 20-160-160\" fill=\"${c2}\"/><path d=\"m-5 45-20 20 160 160 20-20-160-160\" fill=\"${c2}\"/></pattern>`,\n  maily: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .167}\" height=\"${size * .167}\" viewBox=\"0 0 200 200\" stroke=\"#000\" stroke-width=\"1.2\"><path fill=\"${c1}\" stroke=\"none\" d=\"M0 0h200v200H0z\"/><g fill=\"${c2}\"><path d=\"m80-2c-5.27e-4 2.403-0.1094 6.806-0.3262 9.199 5.014-1.109 10.1-1.768 15.19-2.059 0.09325-1.712 0.1401-5.426 0.1406-7.141z\"/><path d=\"m100 5a95 95 0 0 0-95 95 95 95 0 0 0 95 95 95 95 0 0 0 95-95 95 95 0 0 0-95-95zm0 15a80 80 0 0 1 80 80 80 80 0 0 1-80 80 80 80 0 0 1-80-80 80 80 0 0 1 80-80z\"/><path d=\"m92.8 20.33c-5.562 0.4859-11.04 1.603-16.34 3.217-7.793 25.31-27.61 45.12-52.91 52.91-5.321 1.638-10.8 2.716-16.34 3.217-2.394 0.2168-6.796 0.3256-9.199 0.3262v15c1.714-4.79e-4 5.429-0.04737 7.141-0.1406 5.109-0.2761 10.19-0.9646 15.19-2.059 36.24-7.937 64.54-36.24 72.47-72.47z\"/><path d=\"m202 80c-2.403-5.31e-4 -6.806-0.1094-9.199-0.3262 1.109 5.014 1.768 10.1 2.059 15.19 1.712 0.09326 5.426 0.1401 7.141 0.1406z\"/><path d=\"m179.7 92.8c-0.4859-5.562-1.603-11.04-3.217-16.34-25.31-7.793-45.12-27.61-52.91-52.91-1.638-5.321-2.716-10.8-3.217-16.34-0.2168-2.394-0.3256-6.796-0.3262-9.199h-15c4.8e-4 1.714 0.0474 5.429 0.1406 7.141 0.2761 5.109 0.9646 10.19 2.059 15.19 7.937 36.24 36.24 64.54 72.47 72.47z\"/><path d=\"m120 202c5.3e-4 -2.403 0.1094-6.806 0.3262-9.199-5.014 1.109-10.1 1.768-15.19 2.059-0.0933 1.712-0.1402 5.426-0.1406 7.141z\"/><path d=\"m107.2 179.7c5.562-0.4859 11.04-1.603 16.34-3.217 7.793-25.31 27.61-45.12 52.91-52.91 5.321-1.638 10.8-2.716 16.34-3.217 2.394-0.2168 6.796-0.3256 9.199-0.3262v-15c-1.714 4.7e-4 -5.429 0.0474-7.141 0.1406-5.109 0.2761-10.19 0.9646-15.19 2.059-36.24 7.937-64.54 36.24-72.47 72.47z\"/><path d=\"m -2,120 c 2.403,5.4e-4 6.806,0.1094 9.199,0.3262 -1.109,-5.014 -1.768,-10.1 -2.059,-15.19 -1.712,-0.0933 -5.426,-0.1402 -7.141,-0.1406 z\"/><path d=\"m 20.33,107.2 c 0.4859,5.562 1.603,11.04 3.217,16.34 25.31,7.793 45.12,27.61 52.91,52.91 1.638,5.321 2.716,10.8 3.217,16.34 0.2168,2.394 0.3256,6.796 0.3262,9.199 L 95,202 c -4.8e-4,-1.714 -0.0472,-5.44 -0.1404,-7.152 -0.2761,-5.109 -0.9646,-10.19 -2.059,-15.19 -7.937,-36.24 -36.24,-64.54 -72.47,-72.47 z\"/></g></pattern>`,\n  honeycombed: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .143}\" height=\"${size * .24514}\" viewBox=\"0 0 70 120\"><rect width=\"70\" height=\"120\" fill=\"${c1}\"/><path d=\"M 70,0 V 20 L 35,40 m 35,80 V 100 L 35,80 M 0,120 V 100 L 35,80 V 40 L 0,20 V 0\" stroke=\"${c2}\" fill=\"none\" stroke-width=\"3\"/></pattern>`\n}\n","import {templates, lines} from \"../data/templates\";\n\nexport const getTemplate = (id, line) => {\n  const linedId = id+\"Lined\";\n  if (!line || line === \"straight\" || !templates[linedId]) return templates[id];\n  const linePath = lines[line];\n  return templates[linedId](linePath);\n}","<script>\n  import {drag, transform} from \"../../scripts/drag\";\n  import {getTemplate} from \"../../scripts/getTemplate\";\n  export let coa, ordinary, i, shieldPath, t, type;\n\n  let stroke, width;\n  $: {\n    stroke = ordinary.stroke || \"none\";\n    width = ordinary.strokeWidth || 1;\n  }\n\n  function addDrag(event) {\n    if (type !== \"Edit\") return;\n    drag(event, ordinary, coa);\n  }\n</script>\n\n{#if ordinary.ordinary === \"bordure\"}\n  <g class=\"ordinary\" {i} transform={transform(ordinary)} transform-origin=\"center\" on:mousedown={addDrag}>\n    <path d={shieldPath} fill=\"none\" stroke={t} stroke-width=\"16.7%\"/>\n  </g>\n{:else if ordinary.ordinary === \"orle\"}\n  <g class=\"ordinary\" {i} transform={transform(ordinary)} transform-origin=\"center\" on:mousedown={addDrag}>\n    <path d={shieldPath} fill=\"none\" stroke={t} stroke-width=\"5%\" transform=\"scale(.85)\" transform-origin=\"center\"/>\n  </g>\n{:else}\n  <g class=\"ordinary\" {i} transform={transform(ordinary)} transform-origin=\"center\" fill={t} {stroke} stroke-width={width} on:mousedown={addDrag}>\n    {@html getTemplate(ordinary.ordinary, ordinary.line)}\n  </g>\n{/if}","<script>\n  import {shieldPaths, shieldPositions, shieldSize} from '../../data/shields';\n  import {loadedCharges} from \"../../data/stores\";\n  import {drag, transform} from \"../../scripts/drag\";\n  export let coa, charge, i, shield, t, type;\n  let chargeId, positions, size, stroke;\n\n  const defs = document.getElementById(\"charges\");\n\n  $: {\n    positions = shieldPositions[shield] || shieldPositions.spanish;\n    size = shieldSize[shield] || 1;\n    stroke = charge.stroke || \"#000\";\n\n    chargeId = charge.charge;\n    // select shield shape if charge is just 'inescutcheon'\n    if (chargeId === \"inescutcheon\") chargeId = \"inescutcheon\" + shield.charAt(0).toUpperCase() + shield.slice(1);\n  }\n\n  function getCharge(charge) {\n    if ($loadedCharges[charge] || defs.querySelector(\"#\"+charge)) return charge;\n    if (charge.slice(0, 12) === \"inescutcheon\") {\n      getInescutcheon(charge);\n      return charge;\n    }\n    $loadedCharges[charge] = 1;\n\n    fetch(\"charges/\"+charge+\".svg\").then(response => response.text()).then(text => {\n      const el = document.createElement(\"html\");\n      el.innerHTML = text;\n      defs.insertAdjacentHTML(\"beforeend\", el.querySelector(\"g\").outerHTML);\n    });\n    return charge;\n  }\n\n  function getInescutcheon(id) {\n    const shield = id.slice(12, 13).toLowerCase() + id.slice(13);\n    const d = shieldPaths[shield];\n    const g = `<g id=${id}><path transform=\"scale(.33)\" transform-origin=\"center\" d=\"${d}\"/></g>`\n    defs.insertAdjacentHTML(\"beforeend\", g);\n  }\n\n  function getElTransform(positions, c, p) {\n    const [x, y] = positions[p];\n    const s = (c.size || 1) * size;\n    const scale = c.sinister || c.reversed ? `${c.sinister ? \"-\" : \"\"}${s}, ${c.reversed ? \"-\" : \"\"}${s}` : s;\n    return `translate(${x} ${y}) scale(${scale})`;\n  }\n\n  function addDrag(event) {\n    if (type !== \"Edit\") return;\n    drag(event, charge, coa);\n  }\n</script>\n\n<g class=\"charge\" {i} charge={getCharge(chargeId)} transform=\"{transform(charge)}\" transform-origin=\"center\" {stroke} on:mousedown={addDrag}>\n  {#each [...new Set(charge.p)].filter(p => positions[p]) as p}\n    <use href=\"#{chargeId}\" transform=\"{getElTransform(positions, charge, p)}\" transform-origin=\"center\" fill=\"{t}\"></use>\n  {/each}\n</g>","<script>\n  import Ordinary from './Ordinary.svelte';\n  import Charge from './Charge.svelte';\n  import {charges as chargesData, ordinaries as ordinariesData} from \"./../../data/dataModel\";\n  import {shield, colors, patterns, grad, diaper} from '../../data/stores';\n  import {shieldPaths} from '../../data/shields';\n  import {getTemplate} from \"../../scripts/getTemplate\";\n  export let coa, i, border, borderWidth, type;\n\n  const {division, ordinaries = [], charges = []} = coa;\n  const ordinariesRegular = ordinaries.filter(o => !o.above);\n  const ordinariesAboveCharges = ordinaries.filter(o => o.above);\n\n  let shieldPath, coaDiaper, diaperType;\n  $: {\n    shieldPath = shieldPaths[$shield];\n    coaDiaper = type === \"menuItem\" ? null : coa.diaper || $diaper;\n    diaperType = getDieperType();\n  }\n\n  function getDieperType() {\n    if (!coaDiaper || coaDiaper === \"no\") return null;\n    const f = !coa.t1.includes(\"-\");\n    const d = !division?.t.includes(\"-\");\n    if (f && d) return \"overall\";\n    if (f) return \"field\";\n    if (d) return \"division\";\n    return null;\n  }\n\n  // if charge doesn't support pattern, return basic tincture\n  function counterChange(t, charge) {\n    if (!(/-/).test(t)) return clr(t); // not a pattern\n    if (chargesData.patternable.includes(charge)) return clr(t); // patternable\n    if (ordinariesData.patternable.includes(charge)) return clr(t); // patternable\n    return clr(t.split(\"-\")[1]); // not patternable, return basic color\n  }\n\n  // get color or link to pattern\n  function clr(tincture) {\n    if ($colors[tincture]) return $colors[tincture];\n    $patterns[$patterns.length] = tincture;\n    return \"url(#\"+tincture+\")\";\n  }\n</script>\n\n<defs>\n  <clipPath id=\"shield{i}\">\n    <path d=\"{shieldPath}\"/>\n  </clipPath>\n  {#if division && division.division !== \"no\"}\n    <clipPath id=\"divisionClip{i}\">\n      {@html getTemplate(division.division, division.line)}\n    </clipPath>\n  {/if}\n</defs>\n\n<g id=shield clip-path=\"url(#shield{i})\">\n\n  <!-- Field -->\n  <rect id=field x=0 y=0 width=200 height=200 fill=\"{clr(coa.t1)}\"/>\n\n  {#if division && division.division !== \"no\"}\n    <!-- In field part -->\n    {#each ordinariesRegular as ordinary, i}\n      {#if ordinary.divided === \"field\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n      {:else if ordinary.divided === \"counter\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(division.t, ordinary.ordinary)} {type}/>\n      {/if}\n    {/each}\n\n    {#if diaperType === \"field\"}\n      <rect class=diaper x=0 y=0 width=200 height=200 fill=\"url(#{coaDiaper})\" style=\"pointer-events: none\"/>\n    {/if}\n\n    {#each charges as charge, i}\n      {#if charge.divided === \"field\"}\n        <Charge {coa} {charge} {i} shield={$shield} t={clr(charge.t)} {type}/>\n      {:else if charge.divided === \"counter\"}\n        <Charge {coa} {charge} {i} shield={$shield} t={counterChange(division.t, charge.charge)} {type}/>\n      {/if}\n    {/each}\n\n    {#each ordinariesAboveCharges as ordinary, i}\n      {#if ordinary.divided === \"field\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n      {:else if ordinary.divided === \"counter\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(division.t, ordinary.ordinary)} {type}/>\n      {/if}\n    {/each}\n\n    <!-- In division part -->\n    <g id=division clip-path=\"url(#divisionClip{i})\">\n      <rect x=0 y=0 width=200 height=200 fill=\"{clr(division.t)}\"/>\n\n      {#each ordinariesRegular as ordinary, i}\n        {#if ordinary.divided === \"division\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n        {:else if ordinary.divided === \"counter\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(coa.t1, ordinary.ordinary)} {type}/>\n        {/if}\n      {/each}\n\n      {#if diaperType === \"division\"}\n        <rect class=diaper x=0 y=0 width=200 height=200 fill=\"url(#{coaDiaper})\" style=\"pointer-events: none\"/>\n      {/if}\n\n      {#each charges as charge, i}\n        {#if charge.divided === \"division\"}\n          <Charge {coa} {charge} {i} shield={$shield} t={clr(charge.t)} {type}/>\n        {:else if charge.divided === \"counter\"}\n          <Charge {coa} {charge} {i} shield={$shield} t={counterChange(coa.t1, charge.charge)} {type}/>\n        {/if}\n      {/each}\n\n      {#each ordinariesAboveCharges as ordinary, i}\n        {#if ordinary.divided === \"division\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n        {:else if ordinary.divided === \"counter\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(coa.t1, ordinary.ordinary)} {type}/>\n        {/if}\n      {/each}\n    </g>\n  {/if}\n\n  <!-- Overall -->\n  {#each ordinariesRegular as ordinary, i}\n    {#if !ordinary.divided}\n      <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n    {/if}\n  {/each}\n\n  {#if diaperType === \"overall\"}\n    <rect class=diaper x=0 y=0 width=200 height=200 fill=\"url(#{coaDiaper})\" style=\"pointer-events: none\"/>\n  {/if}\n\n  {#each charges as charge, i}\n    {#if !charge.divided || !division}\n      <Charge {coa} {charge} {i} shield={$shield} t={clr(charge.t)} {type}/>\n    {/if}\n  {/each}\n\n  {#each ordinariesAboveCharges as ordinary, i}\n    {#if !ordinary.divided}\n      <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n    {/if}\n  {/each}\n</g>\n\n<path class=grad d={shieldPath} fill=\"url(#{$grad})\" stroke={border} stroke-width={borderWidth} style=\"pointer-events: none\"/>","<script>\n  import {state, grid, showGrid} from \"./../../data/stores\";\n  import {fade} from 'svelte/transition';\n\n  $: transform = $state.transform || null;\n</script>\n\n{#if $showGrid}\n  <pattern id=gridPattern width={$grid} height={$grid} patternUnits=\"userSpaceOnUse\">\n    <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"#000\" opacity=.2 stroke-width=.5/>\n  </pattern>\n  <g id=grid style=\"pointer-events: none\" {transform} transform-origin=center transition:fade|local>\n    <rect x=-200 y=-200 width=400 height=400 fill=\"url(#gridPattern)\"/>\n  </g>\n{/if}","<script>\n  import {state, shield} from \"./../../data/stores\";\n  import {shieldPositions} from \"./../../data/shields\";\n  import {fade} from 'svelte/transition';\n\n  // on shield change\n  $: points = shieldPositions[$shield] ? Object.entries(shieldPositions[$shield]) : Object.entries(shieldPositions.spanish);\n\n  function getClass(p) {\n    if (\"abcdefghi\".includes(p)) return \"green\";\n    if (\"ABCDEFGHIJKL\".includes(p)) return \"red\";\n    if (\"zy\".includes(p)) return \"yellow\";\n    return \"blue\";\n  }\n</script>\n\n{#if $state.positions}\n  <g transform={$state.transform || null} transform-origin=center>\n    <g id=positions transform=\"translate(100, 100)\" transition:fade|local>\n      {#each points as p}\n        <g id={p[0]} class={getClass(p[0])}>\n          <circle cx={p[1][0]} cy={p[1][1]} r=3 class:active={$state.positions.includes(p[0])}/>\n          <text style=\"dominant-baseline: central\" x={p[1][0]} y={p[1][1]} class:active={$state.positions.includes(p[0])}>{p[0]}</text>\n        </g>\n      {/each}\n    </g>\n  </g>\n{/if}\n\n<style>\n  circle {\n    opacity: .6;\n  }\n\n  circle.active {\n    opacity: 1;\n  }\n\n  text {\n    font-family: monospace;\n    text-anchor: middle;\n    font-size: 5px;\n    fill: #ddd;\n  }\n\n  text.active {\n    fill: #fff;\n  }\n\n  .green {\n    fill: rgb(12, 80, 12);\n  }\n\n  .blue {\n    fill: rgb(12, 12, 80);\n  }\n\n  .red {\n    fill: rgb(80, 12, 12);\n  }\n\n  .yellow {\n    fill: rgb(84, 84, 0);\n  }\n</style>","<script>\n  import Shield from './Shield.svelte';\n  import Grid from './../editor/Grid.svelte';\n  import Positions from './../editor/Positions.svelte';\n  import {shield, border, borderWidth} from './../../data/stores';\n  import {shieldBox} from './../../data/shields';\n  export let coa, i, w, h;\n  $: viewBox = shieldBox[$shield] || \"0 0 200 200\";\n</script>\n\n<svg id=\"coa{i}\" class=\"coa\" xmlns=\"http://www.w3.org/2000/svg\" width={w} height={h} {viewBox}>\n  <Shield {coa} {i} border={$border} borderWidth={$borderWidth} type={i}/>\n  {#if i === \"Edit\"}\n    <Grid/>\n    <Positions/>\n  {/if}\n</svg>","import {get} from 'svelte/store';\nimport {aleaPRNG} from './alea';\nimport {rw, P} from './utils';\nimport {charges, divisions, lines, ordinaries, positions} from \"../data/dataModel\";\nimport {tinctures} from '../data/stores';\n\n// main generation routine\nexport const generate = function(seed = Math.floor(Math.random() * 1e9)) {\n  Math.random = aleaPRNG(seed);\n\n  // reset parameters to default\n  let usedPattern = null, usedTinctures = [];\n  const tData = get(tinctures); // tinctures data\n\n  const coa = {seed, t1: getTincture(\"field\")};\n\n  let charge = P(usedPattern ? .5 : .93) ? true : false; // 80% for charge\n  const linedOrdinary = charge && P(.3) || P(.5) ? rw(ordinaries.lined) : null;\n  const ordinary = !charge && P(.65) || P(.3) ? linedOrdinary ? linedOrdinary : rw(ordinaries.straight) : null; // 36% for ordinary\n  const rareDivided = [\"chief\", \"terrace\", \"chevron\", \"quarter\", \"flaunches\"].includes(ordinary);\n  const divisioned = rareDivided ? P(.03) : charge && ordinary ? P(.03) : charge ? P(.3) : ordinary ? P(.7) : P(.995); // 33% for division\n  const division = divisioned ? rw(divisions.variants) : null;\n  if (charge) charge = selectCharge();\n\n  if (division) {\n    const t = getTincture(\"division\", usedTinctures, P(.98) ? coa.t1 : null);\n    coa.division = {division, t};\n    if (divisions[division]) coa.division.line = usedPattern || (ordinary && P(.7)) ? \"straight\" : rw(divisions[division]);\n  }\n\n  if (ordinary) {\n    coa.ordinaries = [{ordinary, t: getTincture(\"charge\", usedTinctures, coa.t1)}];\n    if (linedOrdinary) coa.ordinaries[0].line = usedPattern || (division && P(.7)) ? \"straight\" : rw(lines);\n    if (division && !charge && !usedPattern && P(.5) && ordinary !== \"bordure\" && ordinary !== \"orle\") {\n      if (P(.8)) coa.ordinaries[0].divided = \"counter\"; // 40%\n      else if (P(.6)) coa.ordinaries[0].divided = \"field\"; // 6%\n      else coa.ordinaries[0].divided = \"division\"; // 4%\n    }\n  }\n\n  if (charge) {\n    let p = \"e\", t = \"gules\";\n    const ordinaryT = coa.ordinaries ? coa.ordinaries[0].t : null;\n    if (positions.ordinariesOn[ordinary] && P(.8)) {\n      // place charge over ordinary (use tincture of field type)\n      p = rw(positions.ordinariesOn[ordinary]);\n      while (charges.natural[charge] === ordinaryT) charge = selectCharge();\n      t = !usedPattern && P(.3) ? coa.t1 : getTincture(\"charge\", [], ordinaryT);\n    } else if (positions.ordinariesOff[ordinary] && P(.95)) {\n      // place charge out of ordinary (use tincture of ordinary type)\n      p = rw(positions.ordinariesOff[ordinary]);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge();\n      t = !usedPattern && P(.3) ? ordinaryT : getTincture(\"charge\", usedTinctures, coa.t1);\n    } else if (positions.divisions[division]) {\n      // place charge in fields made by division\n      p = rw(positions.divisions[division]);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge();\n      t = getTincture(\"charge\", ordinaryT ? usedTinctures.concat(ordinaryT) : usedTinctures, coa.t1);\n    } else if (positions[charge]) {\n      // place charge-suitable position\n      p = rw(positions[charge]);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge();\n      t = getTincture(\"charge\", usedTinctures, coa.t1);\n    } else {\n      // place in standard position (use new tincture)\n      p = usedPattern ? \"e\" : charges.conventional[charge] ? rw(positions.conventional) : rw(positions.complex);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge();\n      t = getTincture(\"charge\", usedTinctures.concat(ordinaryT), coa.t1);\n    }\n\n    if (charges.natural[charge]) t = charges.natural[charge]; // natural tincture\n    coa.charges = [{charge, t, p}];\n\n    if (p === \"ABCDEFGHIKL\" && P(.95)) {\n      // add central charge if charge is in bordure\n      coa.charges[0].charge = rw(charges.conventional);\n      const charge = selectCharge(charges.single);\n      const t = getTincture(\"charge\", usedTinctures, coa.t1);\n      coa.charges.push({charge, t, p: \"e\"});\n    } else if (P(.8) && charge === \"inescutcheon\") {\n      // add charge to inescutcheon\n      const charge = selectCharge(charges.types);\n      const t2 = getTincture(\"charge\", [], t);\n      coa.charges.push({charge, t: t2, p, size:.5});\n    } else if (division && !ordinary) {\n      const allowCounter = !usedPattern && (!coa.line || coa.line === \"straight\");\n\n      // dimidiation: second charge at division basic positons\n      if (P(.3) && [\"perPale\", \"perFess\"].includes(division) && coa.line === \"straight\") {\n        coa.charges[0].divided = \"field\";\n        if (P(.95)) {\n          const p2 = p === \"e\" || P(.5) ? \"e\" : rw(positions.divisions[division]);\n          const charge = selectCharge(charges.single);\n          const t = getTincture(\"charge\", usedTinctures, coa.division.t);\n          coa.charges.push({charge, t, p: p2, divided: \"division\"});\n        }\n      }\n      else if (allowCounter && P(.4)) coa.charges[0].divided = \"counter\"; // counterchanged, 40%\n      else if ([\"perPale\", \"perFess\", \"perBend\", \"perBendSinister\"].includes(division) && P(.8)) { // place 2 charges in division standard positions\n        const [p1, p2] = division === \"perPale\" ? [\"p\", \"q\"] :\n                         division === \"perFess\" ? [\"k\", \"n\"] :\n                         division === \"perBend\" ? [\"l\", \"m\"] :\n                        [\"j\", \"o\"]; // perBendSinister\n        coa.charges[0].p = p1;\n\n        const charge = selectCharge(charges.single);\n        const t = getTincture(\"charge\", usedTinctures, coa.division.t);\n        coa.charges.push({charge, t, p: p2});\n      }\n      else if ([\"perCross\", \"perSaltire\"].includes(division) && P(.5)) { // place 4 charges in division standard positions\n        const [p1, p2, p3, p4] = division === \"perCross\" ? [\"j\", \"l\", \"m\", \"o\"] : [\"b\", \"d\", \"f\", \"h\"];\n        coa.charges[0].p = p1;\n\n        const c2 = selectCharge(charges.single);\n        const t2 = getTincture(\"charge\", [], coa.division.t);\n\n        const c3 = selectCharge(charges.single);\n        const t3 = getTincture(\"charge\", [], coa.division.t);\n\n        const c4 = selectCharge(charges.single);\n        const t4 = getTincture(\"charge\", [], coa.t1);\n        coa.charges.push({charge: c2, t: t2, p: p2}, {charge: c3, t: t3, p: p3}, {charge: c4, t: t4, p: p4});\n      }\n      else if (allowCounter && p.length > 1) coa.charges[0].divided = \"counter\"; // counterchanged, 40%\n    }\n\n    coa.charges.forEach(c => defineChargeAttributes(c));\n    function defineChargeAttributes(c) {\n      // define size\n      c.size = (c.size || 1) * getSize(c.p, ordinary, division);\n\n      // clean-up position\n      c.p = [...new Set(c.p)].join(\"\");\n\n      // define orientation\n      if (P(.02) && charges.sinister.includes(c.charge)) c.sinister = 1;\n      if (P(.02) && charges.reversed.includes(c.charge)) c.reversed = 1;\n    }\n  }\n\n  function selectCharge(set) {\n    const type = set ? rw(set) : ordinary || divisioned ? rw(charges.types): rw(charges.single);\n    return type === \"inescutcheon\" ? \"inescutcheon\" : rw(charges[type]);\n  }\n\n  // select tincture: element type (field, division, charge), used field tinctures, field type to follow RoT\n  function getTincture(element, fields = [], RoT) {\n    const base = RoT ? RoT.includes(\"-\") ? RoT.split(\"-\")[1] : RoT : null;\n\n    let type = rw(tData[element]); // metals, colours, stains, patterns\n    if (RoT && type !== \"patterns\") type = getType(base) === \"metals\" ? \"colours\" : \"metals\"; // follow RoT\n    if (type === \"metals\" && fields.includes(\"or\") && fields.includes(\"argent\")) type = \"colours\"; // exclude metals overuse\n    let tincture = rw(tData[type]);\n\n    while (tincture === base || fields.includes(tincture)) {tincture = rw(tData[type]);} // follow RoT\n\n    if (type !== \"patterns\" && element !== \"charge\") usedTinctures.push(tincture); // add field tincture\n\n    if (type === \"patterns\") {\n      usedPattern = tincture;\n      tincture = definePattern(tincture, element);\n    }\n\n    return tincture;\n  }\n\n  function getType(t) {\n    const tincture = t.includes(\"-\") ? t.split(\"-\")[1] : t;\n    if (Object.keys(tData.metals).includes(tincture)) return \"metals\";\n    if (Object.keys(tData.colours).includes(tincture)) return \"colours\";\n    if (Object.keys(tData.stains).includes(tincture)) return \"stains\";\n    debugger; // exception\n  }\n\n  function definePattern(pattern, element, size = \"\") {\n    let t1 = null, t2 = null;\n    if (P(.15)) size = \"-small\";\n    else if (P(.05)) size = \"-smaller\";\n    else if (P(.035)) size = \"-big\";\n    else if (P(.001)) size = \"-smallest\";\n\n    // apply standard tinctures\n    if (P(.5) && [\"vair\", \"vairInPale\", \"vairEnPointe\"].includes(pattern)) {t1 = \"azure\"; t2 = \"argent\";}\n    else if (P(.8) && pattern === \"ermine\") {t1 = \"argent\"; t2 = \"sable\";}\n    else if (pattern === \"pappellony\") {\n      if (P(.2)) {t1 = \"gules\"; t2 = \"or\";}\n      else if (P(.2)) {t1 = \"argent\"; t2 = \"sable\";}\n      else if (P(.2)) {t1 = \"azure\"; t2 = \"argent\";}\n    }\n    else if (pattern === \"masoned\") {\n      if (P(.3)) {t1 = \"gules\"; t2 = \"argent\";}\n      else if (P(.3)) {t1 = \"argent\"; t2 = \"sable\";}\n      else if (P(.1)) {t1 = \"or\"; t2 = \"sable\";}\n    }\n    else if (pattern === \"fretty\") {\n      if (t2 === \"sable\" || P(.35)) {t1 = \"argent\"; t2 = \"gules\";}\n      else if (P(.25)) {t1 = \"sable\"; t2 = \"or\";}\n      else if (P(.15)) {t1 = \"gules\"; t2 = \"argent\";}\n    }\n    else if (pattern === \"semy\") pattern += \"_of_\" + selectCharge(charges.semy);\n\n\n    if (!t1 || !t2) {\n      const startWithMetal = P(.7);\n      t1 = startWithMetal ? rw(tData.metals) : rw(tData.colours);\n      t2 = startWithMetal ? rw(tData.colours) : rw(tData.metals);\n    }\n\n    // division should not be the same tincture as base field\n    if (element === \"division\") {\n      if (usedTinctures.includes(t1)) t1 = replaceTincture(t1);\n      if (usedTinctures.includes(t2)) t2 = replaceTincture(t2);\n    }\n\n    usedTinctures.push(t1, t2);\n    return `${pattern}-${t1}-${t2}${size}`;\n  }\n\n  function replaceTincture(t, n) {\n    const type = getType(t);\n    while (!n || n === t) {n = rw(tData[type]);}\n    return n;\n  }\n\n  return coa;\n}\n\nexport const getSize = (p, o = null, d = null) => {\n  if (p === \"e\" && (o === \"bordure\" || o === \"orle\")) return 1.1;\n  if (p === \"e\") return 1.5;\n  if (p === \"jln\" || p === \"jlh\") return .7;\n  if (p === \"abcpqh\" || p === \"ez\" || p === \"be\") return .5;\n  if ([\"a\", \"b\", \"c\", \"d\", \"f\", \"g\", \"h\", \"i\", \"bh\", \"df\"].includes(p)) return .5;\n  if ([\"j\", \"l\", \"m\", \"o\", \"jlmo\"].includes(p) && d === \"perCross\") return .6;\n  if (p.length > 10) return .18; // >10 (bordure)\n  if (p.length > 7) return .3; // 8, 9, 10\n  if (p.length > 4) return .4; // 5, 6, 7\n  if (p.length > 2) return .5; // 3, 4\n  return .7; // 1, 2\n}","/*///////////////////////////////////////////////////////////////////////////////////////////////////\naleaPRNG 1.1\n/////////////////////////////////////////////////////////////////////////////////////////////////////\nhttps://github.com/macmcmeans/aleaPRNG/blob/master/aleaPRNG-1.1.js\n/////////////////////////////////////////////////////////////////////////////////////////////////////\nOriginal work copyright © 2010 Johannes Baagøe, under MIT license\nThis is a derivative work copyright (c) 2017-2020, W. Mac\" McMeans, under BSD license.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n///////////////////////////////////////////////////////////////////////////////////////////////////*/\nexport function aleaPRNG() {\n  return (function (args) {\n    \"use strict\";\n\n    const version = \"aleaPRNG 1.1.0\";\n\n    var s0,\n      s1,\n      s2,\n      c,\n      uinta = new Uint32Array(3),\n      initialArgs,\n      mashver = \"\";\n    /* private: initializes generator with specified seed */\n    function _initState(_internalSeed) {\n      var mash = Mash();\n\n      // internal state of generator\n      s0 = mash(\" \");\n      s1 = mash(\" \");\n      s2 = mash(\" \");\n\n      c = 1;\n\n      for (var i = 0; i < _internalSeed.length; i++) {\n        s0 -= mash(_internalSeed[i]);\n        if (s0 < 0) {\n          s0 += 1;\n        }\n\n        s1 -= mash(_internalSeed[i]);\n        if (s1 < 0) {\n          s1 += 1;\n        }\n\n        s2 -= mash(_internalSeed[i]);\n        if (s2 < 0) {\n          s2 += 1;\n        }\n      }\n\n      mashver = mash.version;\n\n      mash = null;\n    }\n\n    /* private: dependent string hash function */\n    function Mash() {\n      var n = 4022871197; // 0xefc8249d\n\n      var mash = function (data) {\n        data = data.toString();\n\n        // cache the length\n        for (var i = 0, l = data.length; i < l; i++) {\n          n += data.charCodeAt(i);\n\n          var h = 0.02519603282416938 * n;\n\n          n = h >>> 0;\n          h -= n;\n          h *= n;\n          n = h >>> 0;\n          h -= n;\n          n += h * 4294967296; // 0x100000000      2^32\n        }\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n      };\n\n      mash.version = \"Mash 0.9\";\n      return mash;\n    }\n\n    /* private: check if number is integer */\n    function _isInteger(_int) {\n      return parseInt(_int, 10) === _int;\n    }\n\n    /* public: return a 32-bit fraction in the range [0, 1]\n      This is the main function returned when aleaPRNG is instantiated\n      */\n    var random = function () {\n      var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n\n      s0 = s1;\n      s1 = s2;\n\n      return (s2 = t - (c = t | 0));\n    };\n\n    /* public: return a 53-bit fraction in the range [0, 1] */\n    random.fract53 = function () {\n      return random() + ((random() * 0x200000) | 0) * 1.1102230246251565e-16; // 2^-53\n    };\n\n    /* public: return an unsigned integer in the range [0, 2^32] */\n    random.int32 = function () {\n      return random() * 0x100000000; // 2^32\n    };\n\n    /* public: advance the generator the specified amount of cycles */\n    random.cycle = function (_run) {\n      _run = typeof _run === \"undefined\" ? 1 : +_run;\n      if (_run < 1) {\n        _run = 1;\n      }\n      for (var i = 0; i < _run; i++) {\n        random();\n      }\n    };\n\n    /* public: return inclusive range */\n    random.range = function () {\n      var loBound, hiBound;\n\n      if (arguments.length === 1) {\n        loBound = 0;\n        hiBound = arguments[0];\n      } else {\n        loBound = arguments[0];\n        hiBound = arguments[1];\n      }\n\n      if (arguments[0] > arguments[1]) {\n        loBound = arguments[1];\n        hiBound = arguments[0];\n      }\n\n      // return integer\n      if (_isInteger(loBound) && _isInteger(hiBound)) {\n        return Math.floor(random() * (hiBound - loBound + 1)) + loBound;\n\n        // return float\n      } else {\n        return random() * (hiBound - loBound) + loBound;\n      }\n    };\n\n    /* public: initialize generator with the seed values used upon instantiation */\n    random.restart = function () {\n      _initState(initialArgs);\n    };\n\n    /* public: seeding function */\n    random.seed = function () {\n      _initState(Array.prototype.slice.call(arguments));\n    };\n\n    /* public: show the version of the RNG */\n    random.version = function () {\n      return version;\n    };\n\n    /* public: show the version of the RNG and the Mash string hasher */\n    random.versions = function () {\n      return version + \", \" + mashver;\n    };\n\n    // when no seed is specified, create a random one from Windows Crypto (Monte Carlo application)\n    if (args.length === 0) {\n      window.crypto.getRandomValues(uinta);\n      args = [uinta[0], uinta[1], uinta[2]];\n    }\n\n    // store the seed used when the RNG was instantiated, if any\n    initialArgs = args;\n\n    // initialize the RNG\n    _initState(args);\n\n    return random;\n  })(Array.prototype.slice.call(arguments));\n}\n","<script>\n  import COA from './../object/COA.svelte';\n  import {history} from './../../data/stores';\n\timport {generate} from './../../scripts/generator';\n  export let c, seed, coaSize;\n  let coa = $history[c] || generate(seed || undefined); // on load\n\n  function edit() {\n    if (/noedit/i.test(window.location.search)) return;\n    const URL = window.location.href.replace(\"view=1\", \"view=0\");\n    const win = window.open(URL, \"_blank\");\n    win.focus();\n  }\n</script>\n\n<div id=viewer on:click={edit}>\n  <COA {coa} i=View w={coaSize} h={coaSize}/>\n</div>","<script>\n  export let type;\n</script>\n\nType:\n<select bind:value={type}>\n  <option value=\"tincture\">Tincture</option>\n  <option value=\"pattern\">Pattern</option>\n  <option value=\"semy\">Semy</option>\n</select>","<script>\n  export let size;\n</script>\n\n<span style=\"margin-left: 1em\">Size:</span>\n<select bind:value={size}>\n  <option value=\"big\">Big</option>\n  <option value=\"standard\">Standard</option>\n  <option value=\"small\">Small</option>\n  <option value=\"smaller\">Smaller</option>\n  <option value=\"smallest\">Smallest</option>\n</select>","<script>\n  import Shield from './../object/Shield.svelte';\n  import {tooltip} from './../../scripts/tooltip';\n  export let coa, tip, itemSize;\n  const i = Math.floor(1e6 * Math.random());\n\n  $: title = cap(tip);\n\n  function cap(string) {\n    return string\n      .replace(/_/g, \" \")\n      .replace(/(?<!_)(?=[A-Z])/g, \" \")\n      .replace(/\\w\\S*/g, s => s.charAt(0).toUpperCase() + s.substr(1).toLowerCase());\n  }\n</script>\n\n<svg class=menuItem xmlns=http://www.w3.org/2000/svg width={itemSize} height={itemSize} viewBox=\"0 0 200 200\" {title} use:tooltip>\n  <Shield {coa} {i} border=#333 borderWidth=2 type=menuItem/>\n</svg>","<script>\n  import EditorItem from './EditorItem.svelte';\n  import {tinctures} from './../../data/stores';\n  export let t1, itemSize;\n\n  const coas = [\"metals\", \"colours\", \"stains\"].map(type => {\n      return Object.keys($tinctures[type]).map(t => {\n        return {t1: t, tip: `${type.slice(0, -1)}: ${t}`};\n      });\n    }).flat();\n</script>\n\n<div>Tincture:</div>\n{#each coas as coa}\n  <div class=item class:selected={t1 === coa.t1} on:click={() => t1 = coa.t1}>\n    <EditorItem {coa} tip={coa.tip} {itemSize}/>\n  </div>\n{/each}","<script>\n  import EditorItem from './EditorItem.svelte';\n  export let pattern, t1, t2, size, itemSize;\n  const patterns = [\"vair\", \"vairInPale\", \"vairEnPointe\", \"ermine\", \"chequy\", \"lozengy\", \"fusily\", \"pally\", \"barry\", \"gemelles\", \"bendy\", \"bendySinister\", \"palyBendy\", \"pappellony\", \"masoned\", \"fretty\"];\n  $: coas = patterns.map(p => new Object({pattern: p, t1: `${p}-${t1}-${t2}-${size}`}));\n</script>\n\n<div>Pattern:</div>\n{#each coas as coa}\n  <div class=item class:selected={pattern === coa.pattern} on:click={() => pattern = coa.pattern}>\n    <EditorItem {coa} tip={coa.pattern} {itemSize}/>\n  </div>\n{/each}","<script>\n  import EditorItem from './EditorItem.svelte';\n  import {charges} from \"./../../data/dataModel\";\n  export let charge, type, category, t1, t2, size = null, sinister = null, reversed = null, division = false, itemSize;\n  let coas = [], query, queryOld;\n\n  const categories = Object.keys(charges.types);\n  const allCharges = categories.map(category => Object.keys(charges[category])).flat();\n  const cap = string => string.charAt(0).toUpperCase() + string.slice(1);\n\n  $: update(category, t1, t2, size, sinister, reversed);\n  $: showResults(query);\n\n  function update() {\n    const chargeList = Object.keys(charges[category]);\n    coas = chargeList.map(c => new Object({c, t1: getTincture(c), charges: getCharge(c)}));\n  }\n\n  function showResults(query) {\n    if (!query && query !== queryOld) update();\n    queryOld = query;\n    if (!query) return;\n\n    const regEx = new RegExp(query.replaceAll(\" \", \"\"), \"i\");\n    const results = allCharges.filter(c => regEx.test(c));\n    coas = results.map(c => new Object({c, t1: getTincture(c), charges: getCharge(c)}));\n  }\n\n  function getTincture(c) {\n    if (type === \"semy\") return `semy_of_${c}-${t1}-${t2}-${size}`;\n    return t1;\n  }\n\n  function getCharge(c) {\n    if (type === \"semy\") return [];\n    return [{charge:c, t: t2, p: \"e\", size: 1.5, sinister, reversed}];\n  }\n\n  function getTip(c) {\n    if (type === \"semy\") return `Semy of ${c}`;\n    return `Charge: ${c}`;\n  }\n</script>\n\n{#if type === \"semy\"}\n  <span>Charge:</span>\n{:else}\n  <span class:indented={division}>Category:</span>\n{/if}\n<select bind:value={category} class:inactive={query} on:input={() => query = \"\"}>\n  {#each categories as type}\n    <option value={type}>{cap(type)}</option>\n  {/each}\n</select>\n\n<span class:indented={true}>Search:</span>\n<input bind:value={query} class:inactive={!query}/>\n\n<div>\n  {#each coas as coa (coa)}\n    <div class=item class:selected={charge === coa.c} on:click={() => charge = coa.c}>\n      <EditorItem {coa} tip={getTip(coa.c)} {itemSize}/>\n    </div>\n  {/each}\n</div>\n\n<style>\n  input {\n    width: 10em;\n  }\n\n  .inactive {\n    background-color: #ddd;\n  }\n\n  .indented {\n    margin-left: 1em;\n  }\n</style>","<script>\n  import EditorItem from './EditorItem.svelte';\n  import {divisions} from \"./../../data/dataModel\";\n  export let division, t1, t, line, itemSize;\n\n  const divisionList = [\"no\"].concat(Object.keys(divisions.variants));\n  $: coas = divisionList.map(division => new Object({d: division, t1, division: {division, t, line}}));\n</script>\n\n{#each coas as coa (coa)}\n  <div class=item class:selected={division === coa.d} on:click={() => division = coa.d}>\n    <EditorItem {coa} tip={\"Division: \" + coa.d} {itemSize}/>\n  </div>\n{/each}","<script>\n  export let divided, raster = null;\n</script>\n\n<span>Divided:</span>\n<select bind:value={divided}>\n  <option value=\"\">No (standard)</option>\n  <option value=\"field\">Crop by main field</option>\n  <option value=\"division\">Crop by division</option>\n  {#if !raster}\n    <option value=\"counter\">Сounterchanged</option>\n  {/if}\n</select>","<script>\n  import EditorItem from './EditorItem.svelte';\n  import {lines} from \"./../../data/dataModel\";\n  export let line, division = null, ordinary = null, t1, t, itemSize;\n\n  const lineList = Object.keys(lines);\n  $: coas = division ? \n    lineList.map(line => new Object({line, t1, division: {division, t, line}})) :\n    lineList.map(line => new Object({line, t1, ordinaries: [{ordinary, t, line}]})); \n  const getTip = l => division ? \"Division line: \" + l : \"Ordinary line: \" + l;\n</script>\n\n<div>Line:</div>\n{#each coas as coa (coa)}\n  <div class=item class:selected={line === coa.line} on:click={() => line = coa.line}>\n    <EditorItem {coa} tip={getTip(coa.line)} {itemSize}/>\n  </div>\n{/each}","<script>\n  import EditorItem from './EditorItem.svelte';\n  import {ordinaries} from \"./../../data/dataModel\";\n  export let ordinary, line, t1, t, itemSize;\n\n  const ordinariesList = Object.keys(ordinaries.lined).concat(Object.keys(ordinaries.straight));\n  $: coas = ordinariesList.map(ordinary => new Object({ordinary, t1, ordinaries: [{ordinary, line, t}]}));\n</script>\n\n{#each coas as coa (coa)}\n  <div class=item class:selected={ordinary === coa.ordinary} on:click={() => ordinary = coa.ordinary}>\n    <EditorItem {coa} tip=\"Ordinary: {coa.ordinary}\" {itemSize}/>\n  </div>\n{/each}","<script>\n  export let checked = false;\n  const id = \"switch\" + Math.floor(1e6 * Math.random());\n</script>\n\n<div class=switch>\n  <input id={id} class=switch-input type=checkbox bind:checked/>\n  <label for={id} class=switch-label>Switch</label>\n</div>\n\n<style>\n  .switch {\n    position: relative;\n    display: inline-block;\n    top: -5px;\n  }\n\n  .switch-input {\n    display: none;\n  }\n\n  .switch-label {\n    display: block;\n    width: 48px;\n    height: 24px;\n    color: transparent;\n  }\n\n  .switch-label::before, .switch-label::after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    cursor: pointer;\n  }\n\n  .switch-label::before {\n    width: 100%;\n    height: 100%;\n    background-color: #dedede;\n    border-radius: 9999em;\n    -webkit-transition: background-color 0.25s ease;\n    transition: background-color 0.25s ease;\n  }\n\n  .switch-label::after {\n    top: 0;\n    left: 0;\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    background-color: #fff;\n    box-shadow: 0 0 2px rgba(0, 0, 0, 0.45);\n    -webkit-transition: left 0.25s ease;\n    transition: left 0.25s ease;\n  }\n\n  .switch-input:checked + .switch-label::before {\n    background-color: #89c12d;\n  }\n\n  .switch-input:checked + .switch-label::after {\n    left: 24px;\n  }\n</style>","<script>\n  import Switch from './Switch.svelte';\n  import {tooltip} from './../../scripts/tooltip';\n  export let element;\n</script>\n\n<span title=\"Element stroke. Check to render and select a color\" use:tooltip>\n  <span>Stroke:</span>\n  <Switch bind:checked={element.showStroke}/>\n  {#if element.showStroke}\n    <span style=\"margin-left: 1em\">Color:</span>\n    <input type=color bind:value={element.stroke}/>\n\n    {#if element.ordinary}\n      <span style=\"margin-left: 1em\">Width:</span>\n      <input type=number min=.1 max=5 step=.1 bind:value={element.strokeWidth}/>\n    {/if}\n  {/if}\n</span>\n\n<style>\n  input[type=color] {\n    margin: 0 0 0 .2em;\n    padding: 0;\n    cursor: pointer;\n  }\n\n  input[type=number] {\n    width: 4em;\n  }\n</style>","<script>\n  import Switch from './Switch.svelte';\n  import {state} from './../../data/stores';\n  import {positionsSelect} from \"./../../data/dataModel\";\n  import {getSize} from './../../scripts/generator';\n  import {tooltip} from './../../scripts/tooltip';\n  export let charge;\n\n  function showPositions() {\n    $state.transform = `rotate(${charge.angle||0}) translate(${charge.x||0}, ${charge.y||0})`;\n    $state.positions = charge.p;\n  }\n\n  function hidePositions() {\n    $state.positions = 0;\n  }\n\n  function changePosition() {\n    showPositions();\n    charge.size = getSize(charge.p);\n  }\n</script>\n\n<span title=\"Points on shield to place a charge\" use:tooltip>\n  Positions:\n  <input bind:value={charge.p} on:input={showPositions} on:focus={showPositions} on:blur={hidePositions}/>\n  <select bind:value={charge.p} on:change={changePosition} on:focus={showPositions} on:blur={hidePositions}>\n    {#each positionsSelect as position}\n      <option value={position}>{position}</option>\n    {/each}\n  </select>\n</span>\n\n<span title=\"Turn charge to the left\" use:tooltip>\n  <span style=\"margin-left: 1em\">Sinister:</span>\n  <Switch bind:checked={charge.sinister}/>\n</span>\n\n<span title=\"Show charge upside down\" use:tooltip>\n  <span style=\"margin-left: 1em\">Reversed:</span>\n  <Switch bind:checked={charge.reversed}/>\n</span>\n\n<style>\n  span > span {\n    margin-left: 1em;\n  }\n\n  input {\n    width: 8.6em;\n  }\n\n  select {\n    width: 1.3em;\n    margin-left: -1.6em;\n    border: 0;\n  }\n</style>","<script>\n  import Switch from './Switch.svelte';\n  import {grid, showGrid, state} from './../../data/stores';\n  import {tooltip} from './../../scripts/tooltip';\n  export let e;\n\n  function updateGrid() {\n    $state.transform = `rotate(${e.angle||0})`;\n  }\n</script>\n\n<span title=\"Element size in percents\" use:tooltip>\n  Size:\n  <input type=number min=1 max=500 step=1 value={e.size * 100 | 0} on:input={function() {e.size = this.value / 100}}/>\n</span>\n\n<span title=\"Element rotation angle in degrees\" use:tooltip>\n  <span>Rotation:</span>\n  <input type=number min=-180 max=180 bind:value={e.angle} on:change={updateGrid}/>\n</span>\n\n<span title=\"Element shift in pixels\" use:tooltip>\n  <span>Shift:</span>\n  <input type=number min=-100 max=100 step={$grid} bind:value={e.x}/>\n  <input type=number min=-100 max=100 step={$grid} bind:value={e.y}/>\n</span>\n\n<span title=\"Grid size: define position shift and drag step in pixels\" use:tooltip>\n  <span>Step:</span>\n  <input type=number min=1 max=50 bind:value={$grid}/>\n  <Switch bind:checked={$showGrid}/>\n</span>\n\n<style>\n  span > span {\n    margin-left: 1em;\n  }\n\n  input[type=number] {\n    width: 4em;\n  }\n</style>","<script>\n  import {tooltip} from './../../scripts/tooltip';\n  export let els, el, i;\n\n  const remove = e => {\n    els = els.filter((e, n) => n !== i);\n    e.stopPropagation();\n  }\n\n  const clone = e => {\n    els = [...els, JSON.parse(JSON.stringify(el))];\n    e.stopPropagation();\n  }\n\n  const forward = e => {\n    [els[i], els[i+1]] = [els[i+1], els[i]];\n    e.stopPropagation();\n  }\n\n  const backward = e => {\n    [els[i], els[i-1]] = [els[i-1], els[i]];\n    e.stopPropagation();\n  }\n</script>\n\n<span>\n  <svg on:click={clone} title=\"Clone\" use:tooltip>\n    <use href=\"#clone-icon\"></use>\n  </svg>\n  {#if els.length > 1}\n    {#if i}\n      <svg on:click={backward} title=\"Send backward\" use:tooltip>\n        <use href=\"#up-icon\"></use>\n      </svg>\n    {/if}\n    {#if i+1 < els.length}\n      <svg on:click={forward} title=\"Bring forward\" use:tooltip>\n        <use href=\"#down-icon\"></use>\n      </svg>\n    {/if}\n  {/if}\n  <svg on:click={remove} title=\"Remove\" use:tooltip>\n    <use href=\"#remove-icon\"></use>\n  </svg>\n</span>\n\n<style>\n  svg {\n    width: .8em;\n    height: .8em;\n    fill: #fff;\n  }\n\n  svg:active {\n    transform: translateY(1px);\n  }\n</style>","<script>\n  import Switch from './Switch.svelte';\n  import {tooltip} from './../../scripts/tooltip';\n  export let above;\n</script>\n\n<span title=\"Check to render ordinary above charges\" use:tooltip>\n  <span style=\"margin-left: 1em\">Above charges:</span>\n  <Switch bind:checked={above}/>\n</span>","<script>\n  import COA from './../object/COA.svelte';\n  import EditorType from './EditorType.svelte';\n  import EditorSize from './EditorSize.svelte';\n  import EditorTincture from './EditorTincture.svelte';\n  import EditorPattern from './EditorPattern.svelte';\n  import EditorCharge from './EditorCharge.svelte';\n  import EditorDivision from './EditorDivision.svelte';\n  import EditorDivided from './EditorDivided.svelte';\n  import EditorLine from './EditorLine.svelte';\n  import EditorOrdinary from './EditorOrdinary.svelte';\n  import EditorStroke from './EditorStroke.svelte';\n  import EditorPosition from './EditorPosition.svelte';\n  import EditorShift from \"./EditorShift.svelte\";\n  import EditorControls from \"./EditorControls.svelte\";\n  import EditorAbove from \"./EditorAbove.svelte\";\n  import {slide, fly} from 'svelte/transition';\n  import {history, changes, tinctures, state, grid, showGrid, message, shield} from './../../data/stores';\n  import {charges, divisions, ordinaries} from \"./../../data/dataModel\";\n  import {generate} from './../../scripts/generator';\n  import {rw, ra} from './../../scripts/utils';\n  export let c, seed;\n  let menu = {}, section = {field: 0, division: 0, ordinary: [], charge: []};\n\n  const ratio = window.innerHeight / window.innerWidth;\n  const coaSize = window.innerWidth > window.innerHeight ? Math.round(window.innerHeight * .9) : \"100%\";\n  let width = window.innerWidth < 600 || ratio > 1 ? 100 : Math.round((1.06 - ratio) * 100);\n  if (width / 100 * window.innerWidth < 300) width = 100;\n  let itemSize = Math.floor(width / 1000 * window.innerWidth - 5); // 10 items in row\n  if (window.innerWidth < 600) itemSize *= 2; // 5 items in row for narrow screens\n\n  $state.transform = null;\n  $state.positions = null;\n\n  let coa = $history[c] || generate(seed || undefined); // on load\n  $: restore($changes); // on undo/redo\n  $: reroll(c); // on reroll\n  $: update(menu); // on menu update\n  $: edit(coa); // on edit\n  $: localStorage.setItem(\"grid\", $grid); // on grid change\n  $: localStorage.setItem(\"showGrid\", $showGrid); // on grid change\n\n  function reroll(c) {\n    coa = $history[c] || generate(seed || undefined);\n    if (!$history[c]) $history.push(coa);\n    changes.reset();\n    defineMenuState();\n  }\n\n  function edit(coa) {\n    if (!coa.shield) coa.shield = $shield;\n    changes.add(JSON.stringify(coa));\n  }\n\n  // get coa from menu on menu change\n  function update() {\n    // remove see reference as it would be confusing\n    delete coa.seed;\n\n    // field attributes changed\n    if (menu.field.type === \"tincture\") coa.t1 = menu.field.t1; else {\n      const type = menu.field.type === \"semy\" ? \"semy_of_\" + menu.field.charge : menu.field.pattern;\n      const attibutes = [type, menu.field.t1, menu.field.t2];\n      if (menu.field.size !== \"standard\") attibutes.push(menu.field.size);\n      coa.t1 = attibutes.join(\"-\");\n    }\n\n    // division attributes changed\n    if (menu.division.division && menu.division.division !== \"no\") {\n      coa.division = {division: menu.division.division};\n      if (divisions[menu.division.division]) coa.division.line = menu.division.line;\n      if (menu.division.type === \"tincture\") coa.division.t = menu.division.t1;\n      else {\n        const attr0 = menu.division.type === \"semy\" ? \"semy_of_\" + menu.division.charge : menu.division.pattern;\n        const attibutes = [attr0, menu.division.t1, menu.division.t2];\n        if (menu.division.size !== \"standard\") attibutes.push(menu.division.size);\n        coa.division.t = attibutes.join(\"-\");\n      }\n    } else delete coa.division;\n\n    // ordinary attributes changed\n    if (menu.ordinaries.length) {\n      coa.ordinaries = menu.ordinaries.map(o => {\n        const item = {ordinary: o.ordinary, t: o.t};\n        if (ordinaries.lined[o.ordinary]) item.line = o.line;\n        if (coa.division && o.divided) item.divided = o.divided;\n        if (o.showStroke) item.stroke = o.stroke;\n        if (o.showStroke && o.strokeWidth !== 1) item.strokeWidth = o.strokeWidth;\n        if (o.size && o.size !== 1) item.size = o.size;\n        if (o.x || o.y) {item.x = o.x; item.y = o.y;}\n        if (o.angle) item.angle = o.angle;\n        if (o.above) item.above = 1;\n        return item;\n      });\n    } else delete coa.ordinaries;\n\n    // charges attributes changed\n    if (menu.charges.length) {\n      coa.charges = menu.charges.map(c => {\n        const item = {charge: c.charge, t: c.t, p: c.p, size: c.size};\n        if (!c.showStroke) item.stroke = \"none\";\n        if (c.stroke !== \"#000000\") item.stroke = c.stroke;\n        if (c.divided) item.divided = c.divided;\n        if (c.sinister) item.sinister = 1;\n        if (c.reversed) item.reversed = 1;\n        if (c.x || c.y) {item.x = c.x; item.y = c.y;}\n        if (c.angle) item.angle = c.angle;\n        return item;\n      });\n    } else delete coa.charges;\n  }\n\n  function restore() {\n    if (!changes.length()) return;\n    coa = JSON.parse($changes[0]);\n    defineMenuState();\n  }\n\n  // define initial menu state\n  function defineMenuState() {\n    // Shield\n    if (coa.shield) $shield = coa.shield;\n\n    // Field\n    menu.field = getField();\n    function getField() {\n      const type = isSemy(coa.t1) ? \"semy\" : isPattern(coa.t1) ? \"pattern\" : \"tincture\";\n      let t1, t2, pattern = \"vair\", charge = \"lozenge\", semy = \"conventional\", size = \"standard\";\n\n      const field = coa.t1.split(\"-\"); // parsed field tincture\n\n      if (type === \"tincture\") {\n        t1 = coa.t1;\n        t2 = selectSecondTincture(coa.t1);\n      } else {\n        t1 = field[1];\n        t2 = field[2];\n        size = field[3] || \"standard\"\n      }\n\n      if (type === \"pattern\") pattern = field[0];\n      else if (type === \"semy\") {\n        charge = getSemyCharge(field);\n        semy = getSemyType(field);\n      }\n\n      return {type, t1, t2, pattern, charge, semy, size}\n    }\n\n    // Division\n    menu.division = getDivision();\n    function getDivision() {\n      let type = \"tincture\", division = \"no\", line = \"straight\", t1, t2, pattern = \"vair\", charge = \"lozenge\", semy = \"conventional\", size = \"standard\";\n\n      if (coa.division) {\n        const tSplit = coa.division.t.split(\"-\"); // parsed division tincture\n        type = isSemy(coa.division.t) ? \"semy\" : isPattern(coa.division.t) ? \"pattern\" : \"tincture\";\n\n        division = coa.division.division;\n        line = coa.division.line || \"straight\";\n        t1 = type === \"tincture\" ? coa.division.t : tSplit[1];\n        t2 = type === \"tincture\" ? selectSecondTincture(t1) : tSplit[2];\n        if (type === \"pattern\") pattern = tSplit[0];\n        if (type === \"semy\") {\n          charge = getSemyCharge(tSplit);\n          semy = getSemyType(tSplit);\n        }\n        size = tSplit[3] || \"standard\";\n      } else {\n        t1 = selectSecondTincture(menu.field.t1);\n        t2 = selectSecondTincture(t1);\n      }\n\n      return {division, line, type, t1, t2, pattern, charge, semy, size};\n    }\n\n    // Ordinaries\n    menu.ordinaries = getOrdinaries();\n    function getOrdinaries() {\n      if (!coa.ordinaries) return [];\n\n      const ordinaries = coa.ordinaries.map(o => {\n        const {ordinary, t} = o;\n        const line = o.line || \"straight\";\n        const showStroke = Boolean(o.stroke);\n        const stroke = o.stroke || \"#000000\";\n        const strokeWidth = o.strokeWidth || 1;\n        const size = o.size || 1;\n        const x = o.x || 0;\n        const y = o.y || 0;\n        const angle = o.angle || 0;\n        const divided = o.divided || \"\";\n        const above = o.above || 0;\n        if (angle) $state.transform = `rotate(${angle})`;\n        return {ordinary, t, line, showStroke, stroke, strokeWidth, size, x, y, angle, divided, above};\n      });\n\n      return ordinaries;\n    }\n\n    // Charges\n    menu.charges = getCharges();\n    function getCharges() {\n      if (!coa.charges) return [];\n      const charges = coa.charges.map(c => {\n        const {charge, t, p, size} = c;\n        const type = getChargeCategory(charge);\n        const showStroke = c.stroke !== \"none\";\n        const stroke = c.stroke || \"#000000\";\n        const divided = c.divided || \"\";\n        const sinister = c.sinister || false;\n        const reversed = c.reversed || false;\n        const x = c.x || 0;\n        const y = c.y || 0;\n        const angle = c.angle || 0;\n        if (angle) $state.transform = `rotate(${angle})`;\n        return {charge, type, showStroke, stroke, divided, t, p, size, sinister, reversed, x, y, angle};\n      });\n\n      return charges;\n    }\n\n    function isPattern(string) {\n      return string?.includes(\"-\");\n    }\n\n    function isSemy(string) {\n      return string?.slice(0,4) === \"semy\";\n    }\n\n    function getSemyCharge(array) {\n      return array[0].split(\"_of_\")[1];\n    }\n\n    function getChargeCategory(charge) {\n      const type = Object.keys(charges.types).find(type => charges[type][charge] !== undefined)\n      return type || charge;\n    }\n\n    function getSemyType(array) {\n      const charge = getSemyCharge(array);\n      return getChargeCategory(charge);\n    }\n\n    function selectSecondTincture(t1) {\n      const metal = t1 === \"argent\" || t1 === \"or\";\n      return rw(metal ? $tinctures.colours : $tinctures.metals);\n    }\n\n    return menu;\n  }\n\n  function addOrdinary() {\n    const ordinariesList = Object.keys(ordinaries.lined).concat(Object.keys(ordinaries.straight));\n    const ordinary = ra(ordinariesList);\n    const t = rw($tinctures[rw($tinctures.charge)]);\n    const o = {ordinary, t, showStroke: false, stroke: \"#000000\", strokeWidth: 1, line: \"straight\", size: 1, x: 0, y: 0, angle: 0, divided: \"\"};\n    menu.ordinaries = [...menu.ordinaries, o];\n  }\n\n  function addCharge() {\n    const type = rw(charges.single);\n    const charge = rw(charges[type]);\n    const t = rw($tinctures[rw($tinctures.charge)]);\n    const с = {charge, t, p: \"e\", showStroke: true, stroke: \"#000000\", type, size: 1.5, sinister: false, reversed: false, x: 0, y: 0, angle: 0, divided: \"\"};\n    menu.charges = [...menu.charges, с];\n  }\n\n  if (!isTouchDevice() && (coa.ordinaries || coa.charges)) {\n    if (!$message) $message = {type: \"info\", text: \"Drag to move, hold SHIFT and drag vertically to resize, hold CONTROL and drag horizontally to rotate\", timeout: 4000};\n  }\n\n  function isTouchDevice() {\n    return 'ontouchstart' in window;\n  }\n\n  function isRaster(charge) {\n    const el = document.getElementById(charge);\n    return el ? el.tagName === \"image\" : false;\n  }\n\n  function cap(string = \"no\") {\n    const split = string.split(/(?=[A-Z])/).join(\" \");\n    return split.charAt(0).toUpperCase() + split.slice(1);\n  }\n</script>\n\n<div id=editor>\n  {#key coa}\n    <COA {coa} i=Edit w={coaSize} h={coaSize}/>\n  {/key}\n  <div id=menu in:fly={{x: 1000, duration: 1000}} style=\"width:{width}%\">\n    <!-- Field -->\n    <div class=section class:expanded={section.field} on:click={() => section.field = !section.field}>Field</div>\n    {#if section.field}\n      <div class=panel transition:slide>\n        <div class=subsection>\n          <EditorType bind:type={menu.field.type}/>\n          {#if menu.field.type !== \"tincture\"}\n            <EditorSize bind:size={menu.field.size}/>\n          {/if}\n        </div>\n\n        <div class=subsection>\n          <EditorTincture bind:t1={menu.field.t1} {itemSize}/>\n        </div>\n\n        {#if menu.field.type !== \"tincture\"}\n          <div class=subsection>\n            <EditorTincture bind:t1={menu.field.t2} {itemSize}/>\n          </div>\n        {/if}\n\n        {#if menu.field.type === \"pattern\"}\n          <div class=subsection>\n            <EditorPattern bind:pattern={menu.field.pattern} t1={menu.field.t1} t2={menu.field.t2} size={menu.field.size} {itemSize}/>\n          </div>\n        {/if}\n\n        {#if menu.field.type === \"semy\"}\n          <div class=subsection>\n            <EditorCharge type=semy bind:charge={menu.field.charge} bind:category={menu.field.semy} t1={menu.field.t1} t2={menu.field.t2} size={menu.field.size} {itemSize}/>\n          </div>\n        {/if}\n      </div>\n    {/if}\n\n    <!-- Division -->\n    <div class=section class:expanded={section.division} on:click={() => section.division = !section.division}>Division: {cap(menu.division.division)}</div>\n    {#if section.division}\n      <div class=panel transition:slide>\n        <div class=subsection>\n          <EditorDivision bind:division={menu.division.division} t1={coa.t1} t={coa.division ? coa.division.t : menu.division.t1} line={menu.division.line} {itemSize}/>\n        </div>\n\n        {#if divisions[coa.division?.division]}\n          <div class=subsection>\n            <EditorLine bind:line={menu.division.line} division={menu.division.division} t1={coa.t1} t={coa.division ? coa.division.t : menu.division.t1} {itemSize}/>\n          </div>\n        {/if}\n\n        {#if coa.division}\n          <div class=subsection>\n            <EditorType bind:type={menu.division.type}/>\n            {#if menu.division.type !== \"tincture\"}\n              <EditorSize bind:size={menu.division.size}/>\n            {/if}\n          </div>\n\n          <div class=subsection>\n            <EditorTincture bind:t1={menu.division.t1} {itemSize}/>\n          </div>\n\n          {#if menu.division.type !== \"tincture\"}\n            <div class=subsection>\n              <EditorTincture bind:t1={menu.division.t2} {itemSize}/>\n            </div>\n          {/if}\n\n          {#if menu.division.type === \"pattern\"}\n            <div class=subsection>\n              <EditorPattern bind:pattern={menu.division.pattern} t1={menu.division.t1} t2={menu.division.t2} size={menu.division.size} {itemSize}/>\n            </div>\n          {/if}\n\n          {#if menu.division.type === \"semy\"}\n            <div class=subsection>\n              <EditorCharge type=semy bind:charge={menu.division.charge} bind:category={menu.division.semy} t1={menu.division.t1} t2={menu.division.t2} size={menu.division.size} {itemSize}/>\n            </div>\n          {/if}\n        {/if}\n      </div>\n    {/if}\n\n    <!-- Ordinaries -->\n    {#each menu.ordinaries as o, i}\n      <div class=section transition:slide class:expanded={section.ordinary[i]} on:click={() => section.ordinary[i] = !section.ordinary[i]}>\n        Ordinary{menu.ordinaries.length > 1 ? \" \" + (i+1) : \"\"}: {cap(o.ordinary)}\n        {#if o.above}\n          <i>[above charges]</i>\n        {/if}\n        <EditorControls bind:els={menu.ordinaries} el={o} {i}/>\n      </div>\n      {#if section.ordinary[i]}\n        <div class=panel transition:slide>\n          {#if coa.division}\n            <div class=subsection>\n              <EditorDivided bind:divided={o.divided}/>\n            </div>\n          {/if}\n\n          <div class=subsection>\n            <EditorOrdinary bind:ordinary={o.ordinary} t1={coa.t1} line={o.line} t={o.t} {itemSize}/>\n          </div>\n\n          {#if ordinaries.lined[o.ordinary]}\n            <div class=subsection>\n              <EditorLine bind:line={o.line} ordinary={o.ordinary} t1={coa.t1} t={o.t} {itemSize}/>\n            </div>\n          {/if}\n\n          {#if o.divided !== \"counter\"}\n            <div class=subsection>\n              <EditorTincture bind:t1={o.t} {itemSize}/>\n            </div>\n          {/if}\n\n          <div class=subsection>\n            {#if ![\"bordure\", \"orle\"].includes(o.ordinary)}\n              <EditorStroke bind:element={o}/>\n            {/if}\n            <EditorAbove bind:above={o.above}/>\n          </div>\n\n          <div class=subsection>\n            <EditorShift bind:e={o}/>\n          </div>\n        </div>\n      {/if}\n    {/each}\n\n    <!-- Charges -->\n    {#each menu.charges as charge, i}\n      <div class=section transition:slide class:expanded={section.charge[i]} on:click={() => section.charge[i] = !section.charge[i]}>\n        Charge{menu.charges.length > 1 ? \" \" + (i+1) : \"\"}: {cap(charge.charge)}\n        <EditorControls bind:els={menu.charges} el={charge} {i}/>\n      </div>\n      {#if section.charge[i]}\n        <div class=panel transition:slide>\n\n          <div class=subsection>\n            {#if coa.division}\n              <EditorDivided bind:divided={charge.divided} raster={isRaster(charge.charge)}/>\n            {/if}\n            <EditorCharge type=charge bind:charge={charge.charge} bind:category={charge.type} t1={coa.t1} t2={charge.t} sinister={charge.sinister} reversed={charge.reversed} division={coa.division} {itemSize}/>\n          </div>\n\n          {#if !isRaster(charge.charge) && charge.divided !== \"counter\"}\n            <div class=subsection>\n              <EditorTincture bind:t1={charge.t} {itemSize}/>\n            </div>\n          {/if}\n\n          <div class=subsection>\n            <EditorStroke bind:element={charge}/>\n          </div>\n\n          <div class=subsection>\n            <EditorPosition bind:charge/>\n          </div>\n\n          <div class=subsection>\n            <EditorShift bind:e={charge}/>\n          </div>\n        </div>\n      {/if}\n    {/each}\n\n    <div class=buttonLine on:click={addOrdinary}>Add Ordinary</div>\n    <div class=buttonLine on:click={addCharge}>Add Charge</div>\n  </div>\n</div>\n\n<style>\n  #editor {\n    width: 100%;\n    height: calc(100% - 45px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    user-select: none;\n    flex-direction: row;\n  }\n\n  #menu {\n    overflow-x: hidden;\n    overflow-y: auto;\n    scrollbar-width: thin;\n    transition: .5s;\n    background-color: #11111180;\n    height: 100%;\n  }\n\n  @media only screen and (orientation: portrait) {\n    #editor {\n      flex-direction: column;\n    }\n  }\n\n  #menu::-webkit-scrollbar {\n    width: 6px;\n    background-color: #cccccc80;\n  }\n\n  #menu::-webkit-scrollbar-thumb {\n    background-color: #111;\n  }\n\n  .section {\n    padding: 1em 1.14em;\n    color: #fff;\n    background-color: #00000060;\n    cursor: pointer;\n    transition: background-color .1s ease;\n    overflow-x: hidden;\n  }\n\n  .section:hover {\n    background-color: #00000080;\n  }\n\n  .section:after {\n    content: \"\\276F\";\n    transition: .2s ease-out;\n    margin-top: -.1em;\n    float: right;\n  }\n\n  .expanded:after {\n    transform: rotate(90deg);\n  }\n\n  :global(.section > span) {\n    transition: 1s ease-out;\n    opacity: 0;\n    margin-left: .6em;\n  }\n\n  :global(.section:hover > span) {\n    opacity: 1;\n  }\n\n  .section > i {\n    font-size: smaller;\n  }\n\n  .panel {\n    min-width: 100%;\n    max-width: max-content;\n    background-color: #13131320;\n    overflow: hidden;\n  }\n\n  .subsection {\n    color: #fff;\n    padding: .5em 1em;\n  }\n\n  .buttonLine {\n    padding: 1em 1.14em;\n    color: #fff;\n    background-color: #00000040;\n    cursor: pointer;\n    transition: background-color .1s ease;\n  }\n\n  .buttonLine:hover {\n    background-color: #00000080;\n  }\n\n  :global(.item) {\n    display: inline-block;\n    cursor: pointer;\n    transition: background-color .2s ease;\n  }\n\n  :global(.item:hover) {\n    background-color: #ffffff10;\n  }\n\n  :global(.item:active) {\n    transform: translateY(1px);\n  }\n\n  :global(.item.selected) {\n    background-color: #ffffff15;\n  }\n</style>","<script>\n\timport COA from './../object/COA.svelte';\n  import {fade} from 'svelte/transition';\n\timport {generate} from './../../scripts/generator';\n  import {download} from './../../scripts/download';\n  import {history, matrices, matrix, state} from './../../data/stores';\n  export let gallery, w, h;\n\n  $: font = Math.max(Math.min(Math.ceil(w / 20), 12), 6);\n\n  $: coas = gallery.map(c => {\n    let coa = $history[c] || generate();\n    if (!$history[c]) $history[c] = coa;\n    return coa;\n  });\n\n  function regenerate(i) {\n    $state.i = i;\n    $matrix++;\n    $matrices[$matrix] = $matrices[$matrix-1].slice();\n    $matrices[$matrix][$state.i] = $history.length;\n  }\n\n  function editCOA(i) {\n    $state.edit = 1;\n    $state.c = gallery[i];\n    $state.i = i;\n  }\n</script>\n\n<div id=gallery style=\"font-size: {font}px\" transition:fade>\n  {#each coas as coa, i}\n    <div>\n      {#key coa}\n        <COA {coa} {i} {w} {h}/>\n      {/key}\n      <div class=control>\n        <svg on:click={() => regenerate(i)}><use href=\"#dice-icon\"></use></svg>\n        <svg on:click={() => editCOA(i)}><use href=\"#pencil-icon\"></use></svg>\n        <svg on:click={() => download(i)}><use href=\"#download-icon\"></use></svg>\n      </div>\n    </div>\n  {/each}\n</div>\n\n<style>\n  div {\n    display: inline-table;\n  }\n\n  #gallery > div {\n    display: inline-block;\n    position: relative;\n    user-select: none;\n    transition: background .5s ease;\n  }\n\n  #gallery > div:hover {\n    background: #00000020;\n  }\n\n  .control {\n    display: block;\n    position: absolute;\n    opacity: 0;\n    transition: .5s ease-in-out;\n    transform: translate(-50%, -150%);\n    left: 50%;\n    font-size: 2.4em;\n    white-space: nowrap;\n  }\n\n  #gallery > div:hover > .control {\n    opacity: 1;\n  }\n\n  .control > svg {\n    width: 1.2em;\n    height: 1.2em;\n    fill: #f1f1f1;\n    stroke: #333;\n    stroke-width: .5em;\n    vertical-align: middle;\n    margin: 0 .5em;\n  }\n\n  .control > svg:hover {\n    fill: #fff;\n    cursor: pointer;\n  }\n\n  .control > svg:active {\n    transform: translateY(1px);\n  }\n</style>","<script>\n  import {state, message} from './../../data/stores';\n  import {charges} from './../../data/dataModel';\n  import {camelize} from './../../scripts/utils';\n  let dragging = false, selected = false;\n  let size = 50, offsetX = 0, offsetY = 0;\n  let name, category = \"uploaded\";\n\n  const onFile = (getFilesFunction) => (event) => {\n    dragging = false;\n    const files = getFilesFunction(event);\n    const file = files.length ? files[0] : [];\n\n    if (!file.type.match(/image.*/)) {\n      $message = {type: \"error\", text: \"Not an image file!\"};\n      return;\n    }\n\n    selected = true;\n    $message = {type: \"info\", text: \"Fit image into the rectangle for best result\"};\n    name = camelize(file.name);\n    loadImage(file);\n  };\n\n  function getFilesFromDropEvent({ dataTransfer: { files, items } }) {\n    return files.length ? [...files] : items.filter(({ kind }) => kind === \"file\").map(({ getAsFile }) => getAsFile());\n  }\n\n  function getFilesFromInputEvent({ target }) {\n    const files = target.files ? [...target.files] : [];\n    target.value = \"\";\n    return files;\n  }\n\n  function loadImage(file) {\n    const reader = new FileReader();\n    reader.onload = function (readerEvent) {\n      const dataURL = readerEvent.target.result;\n      const image = document.getElementById(\"rasterUpload\").querySelector(\"svg image\");\n      image.setAttribute(\"href\", dataURL);\n    };\n    reader.readAsDataURL(file);\n  }\n\n  function addCharge() {\n    const allCharges = Object.keys(charges.types).map(type => Object.keys(charges[type])).flat();\n    name = camelize(name);\n\n    if (!name || document.getElementById(name) || allCharges.includes(name)) {\n      $message = {type: \"error\", text: \"Name must be unique id!\"};\n      return;\n    }\n\n    if (!charges.types[category]) charges.types[category] = 6;\n    if (!charges.single[category]) charges.single[category] = 6;\n    charges[category][name] = 5;\n\n    // remove stored weighted arrays\n    delete charges.types.array;\n    delete charges.single.array;\n    delete charges[category ].array;\n  \n    const image = document.getElementById(\"rasterUpload\").querySelector(\"svg image\").cloneNode(true);\n    image.id = name;\n    document.getElementById(\"charges\").appendChild(image);\n\n    selected = false;\n    $state.raster = 0;\n  }\n</script>\n\n<div id=rasterUpload\n  on:drop|preventDefault={onFile(getFilesFromDropEvent)}\n  on:dragover|preventDefault={() => (dragging = true)}\n  on:dragleave|preventDefault={() => (dragging = false)}>\n  <span on:click={() => $state.raster = 0} class=\"close\">&times;</span>\n  <div class=container>\n    {#if selected}\n      <div class=input>\n        <div><div class=label>Size:</div><input type=number bind:value={size}/></div>\n        <div><div class=label>Offset X:</div><input type=number bind:value={offsetX}/></div>\n        <div><div class=label>Offset Y:</div><input type=number bind:value={offsetY}/></div>\n      </div>\n\n      <div class=exampleCOA>\n        <svg width=100% height=100% viewBox=\"0 0 200 200\">\n          <g clip-path=\"url(#heater)\" stroke=\"#fff\" stroke-width=.5>\n            <rect x=0 y=0 width=100% height=100% fill=#377cd7/>\n            <image id=imageLoaded x={(100 - size) / 2 + offsetX}% y={(100 - size) / 2 + offsetY}% width={size}% height={size}%/>\n            <rect x=30% y=30% width=40% height=40% fill=none stroke=#000 stroke-width=.5/>\n            <g stroke=#000 fill=\"url(#backlight)\">\n              <path d=\"M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z\"/>\n            </g>\n          </g>\n        </svg>\n      </div>\n\n      <div class=output>\n        <div><div class=label>Name:</div><input placeholder=\"Charge name\" required bind:value={name}/></div>\n        <div><div class=label>Category:</div>\n          <select bind:value={category}>\n            {#each Object.keys(charges.types) as c}\n              <option value={c}>{c}</option>\n            {/each}\n          </select>\n        </div>\n        <div class=buttons>\n          <button on:click={addCharge}>Add</button>\n          <button on:click={() => selected = false}>Cancel</button>\n        </div>\n      </div>\n    {:else}\n      <label class=dragging>\n        <slot {dragging}>\n          <div>Drag &amp; Drop image here or <b>browse</b></div>\n        </slot>\n        <input type=file accept=image/* on:input={onFile(getFilesFromInputEvent)}/>\n      </label>\n    {/if}\n  </div>\n</div>\n\n<style>\n  #rasterUpload {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: rgba(0, 0, 0, 0.9);\n    transition: 0.5s;\n    user-select: none;\n  }\n\n  .container {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    color: #ddd;\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: center;\n  }\n\n  @media only screen and (orientation: portrait) {\n    .container {\n      flex-flow: column;\n    }\n  }\n\n  .exampleCOA {\n    text-align: center;\n    width: max-content;\n  }\n\n  .buttons {\n    text-align: center;\n  }\n\n  input, select {\n    width: 10em;\n  }\n\n  .buttons > button {\n    cursor: pointer;\n    margin: 1em .1em;\n    width: 4em;\n  }\n\n  input[type=\"file\"] {\n    display: none;\n  }\n\n  .close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    display: inline-block;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  label:hover,\n  span:hover {\n    cursor: pointer;\n    color: #fff;\n  }\n\n  .dragging {\n    width: max-content;\n  }\n</style>\n","<script>\n  import {state, colors, tinctures, message} from './../../data/stores';\n  import {charges} from './../../data/dataModel';\n  import {camelize} from './../../scripts/utils';\n  import {tooltip} from './../../scripts/tooltip';\n  let dragging = false, selected = false;\n  let svg, transform = {a:1, b:0, c:0, d:1, e:0, f:0}, name, category = \"uploaded\", color = \"#d7374a\";\n  const tinctureList = [\"metals\", \"colours\", \"stains\"].map(type => Object.keys($tinctures[type])).flat();\n\n  $: updateTransform(transform);\n  $: updateId(name);\n\n  function updateTransform(transform) {\n    if (!svg) return; // on component on load\n    const el = document.createElement(\"html\");\n    el.innerHTML = svg;\n    const g = el.querySelector(\"g\");\n    const transformString = Object.values(transform).join(\" \");\n    if (transformString === \"1 0 0 1 0 0\") g.removeAttribute(\"transform\");\n    else g.setAttribute(\"transform\", \"matrix(\" + transformString+ \")\");\n    svg = g.outerHTML;\n  }\n\n  function updateId(name) {\n    if (!svg) return; // on component on load\n    const el = document.createElement(\"html\");\n    el.innerHTML = svg;\n    const g = el.querySelector(\"g\");\n    g.setAttribute(\"id\", name);\n    svg = g.outerHTML;\n  }\n\n  const onFile = (getFilesFunction) => (event) => {\n    dragging = false;\n    const files = getFilesFunction(event);\n    const file = files.length ? files[0] : [];\n\n    if (!file.type.match(/text.*|svg.*/)) {\n      $message = {type: \"error\", text: \"File must be text or svg!\"};\n      return;\n    }\n\n    selected = true;\n    name = camelize(file.name);\n    loadImage(file);\n  };\n\n  function getFilesFromDropEvent({ dataTransfer: { files, items } }) {\n    return files.length ? [...files] : items.filter(({ kind }) => kind === \"file\").map(({ getAsFile }) => getAsFile());\n  }\n\n  function getFilesFromInputEvent({ target }) {\n    const files = target.files ? [...target.files] : [];\n    target.value = \"\";\n    return files;\n  }\n\n  function loadImage(file) {\n    const reader = new FileReader();\n    reader.onload = function (readerEvent) {\n      const svgText = readerEvent.target.result;\n      const el = document.createElement(\"html\");\n      el.innerHTML = svgText;\n      const g = el.querySelector(\"g\");\n\n      if (!g) {\n        $message = {type: \"error\", text: \"File must be prepared svg. Download template for guidance!\"};\n        selected = false;\n        return;\n      }\n\n      const consolidated = g.transform.baseVal.consolidate();\n      if (consolidated) {\n        const {a, b, c, d, e, f} = consolidated.matrix;\n        const fix = n => +n.toFixed(4);\n        transform = Object.assign(transform, {a:fix(a), b:fix(b), c:fix(c), d:fix(d), e:fix(e), f:fix(f)});\n      }\n      svg = g.outerHTML;\n    };\n    reader.readAsText(file);\n  }\n\n  function addCharge() {\n    const allCharges = Object.keys(charges.types).map(type => Object.keys(charges[type])).flat();\n    name = camelize(name);\n\n    if (!name || document.getElementById(name) || allCharges.includes(name)) {\n      $message = {type: \"error\", text: \"Name must be unique id!\"};\n      return;\n    }\n\n    if (!charges.types[category]) charges.types[category] = 6;\n    if (!charges.single[category]) charges.single[category] = 6;\n    charges[category][name] = 5;\n\n    const el = document.createElement(\"html\");\n    el.innerHTML = svg;\n    const image = el.querySelector(\"g\");\n    image.id = name;\n    defs.insertAdjacentHTML(\"beforeend\", image.outerHTML);\n\n    selected = false;\n    $state.vector = 0;\n  }\n\n  function downloadTemplate() {\n    fetch(\"charges/template.svg\").then(text => {\n      return text.blob().then(blob => {\n        const a = document.createElement(\"a\");\n        a.href = URL.createObjectURL(blob);\n        a.setAttribute(\"download\", \"armoriaChargeTemplate.txt\");\n        a.click();\n      });\n    });\n  }\n</script>\n\n<div id=vectorUpload\n  on:drop|preventDefault={onFile(getFilesFromDropEvent)}\n  on:dragover|preventDefault={() => dragging = true}\n  on:dragleave|preventDefault={() => dragging = false}>\n  <span on:click={() => $state.vector = 0} class=\"close\">&times;</span>\n  <div class=container>\n    {#if selected}\n      <div class=input>\n        <div class=label>SVG Markup:</div>\n        <textarea rows=18 cols=22 bind:value={svg}/>\n        <div>\n          <button on:click={downloadTemplate}>Download Template</button>\n        </div>\n      </div>\n\n      <div class=exampleCOA title=\"For best result charge must fit into the inner rectangle\" use:tooltip>\n        <svg width=100% height=100% fill={color} stroke=#000 stroke-width=1 viewBox=\"0 0 200 200\">\n          <g fill=\"#fff\" fill-opacity=\".05\" stroke=\"#fff\" stroke-width=\".5\">\n            <path d=\"m25 25h150v50a150 150 0 0 1-75 125 150 150 0 0 1-75-125z\"/>\n            <rect x=\"60\" y=\"60\" width=\"80\" height=\"80\"/>\n          </g>\n          <g>\n            {@html svg}\n          </g>\n        </svg>\n      </div>\n\n      <div class=output>\n        <div title=\"Charge translate: X and Y px\" use:tooltip>\n          <div class=label>Translate:</div>\n          <input type=number step=.1 class=paired bind:value={transform.e}/>\n          <input type=number step=.1 class=paired bind:value={transform.f}/>\n        </div>\n\n        <div title=\"Charge scale: X and Y, where 1 is default size\" use:tooltip>\n          <div class=label>Scale:</div>\n          <input type=number step=.01 class=paired bind:value={transform.a}/>\n          <input type=number step=.01 class=paired bind:value={transform.d}/>\n        </div>\n\n        <div title=\"Tincture preview color, does not affect uploaded actual color. Charges must not have exact color defined. In this case charge will support all tunctures\" use:tooltip>\n          <div class=label>Tincture:</div>\n          <select bind:value={color}>\n            {#each tinctureList as tincture}\n              <option value={$colors[tincture]}>{tincture}</option>\n            {/each}\n          </select>\n        </div>\n\n        <div title=\"Charge ID, must be unique\" use:tooltip>\n          <div class=label>Name:</div>\n          <input placeholder=\"Charge name\" required bind:value={name}/>\n        </div>\n\n        <div title=\"Category where charge will be added\" use:tooltip>\n          <div class=label>Category:</div>\n          <select bind:value={category}>\n            {#each Object.keys(charges.types) as c}\n              <option value={c}>{c}</option>\n            {/each}\n          </select>\n        </div>\n\n        <div>\n          <button on:click={addCharge}>Upload</button>\n          <button on:click={() => selected = false}>Cancel</button>\n        </div>\n      </div>\n    {:else}\n      <label class=dragging>\n        <slot {dragging}>\n          <div>Drag &amp; Drop svg file here or <b>browse</b></div>\n        </slot>\n        <input type=file accept=\".svg\" on:input={onFile(getFilesFromInputEvent)}/>\n      </label>\n      <button class=template on:click={downloadTemplate}>Download Template</button>\n    {/if}\n  </div>\n</div>\n\n<style>\n  #vectorUpload {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: rgba(0, 0, 0, 0.9);\n    transition: 0.5s;\n    user-select: none;\n  }\n\n  .container {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    color: #ddd;\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: center;\n  }\n\n  .exampleCOA {\n    width: max-content;\n  }\n\n  @media only screen and (orientation: portrait) {\n    .container {\n      flex-flow: column;\n    }\n\n    .exampleCOA {\n      height: 20vh;\n      width: 20vh;\n    }\n  }\n\n  textarea {\n    font-size: .8em;\n    font-family: 'Courier New', Courier, monospace;\n  }\n\n  input, select {\n    width: 10em;\n  }\n\n  input.paired {\n    width: 4.85em;\n  }\n\n  input[type=\"file\"] {\n    display: none;\n  }\n\n  .close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    display: inline-block;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  label:hover,\n  span:hover {\n    cursor: pointer;\n    color: #fff;\n  }\n\n  .dragging {\n    width: max-content;\n  }\n\n  .template {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-top: 2.5em;\n    transform: translate(-50%, -50%);\n  }\n</style>\n","import { cubicOut } from '../easing';\nimport { is_function } from '../internal';\n\nfunction flip(node, animation, params) {\n    const style = getComputedStyle(node);\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const scaleX = animation.from.width / node.clientWidth;\n    const scaleY = animation.from.height / node.clientHeight;\n    const dx = (animation.from.left - animation.to.left) / scaleX;\n    const dy = (animation.from.top - animation.to.top) / scaleY;\n    const d = Math.sqrt(dx * dx + dy * dy);\n    const { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n    return {\n        delay,\n        duration: is_function(duration) ? duration(d) : duration,\n        easing,\n        css: (_t, u) => `transform: ${transform} translate(${u * dx}px, ${u * dy}px);`\n    };\n}\n\nexport { flip };\n","<script>\n  import { fade } from 'svelte/transition';\n  import { flip } from 'svelte/animate';\n  import { colors, tinctures, state, message, changes } from '../../data/stores';\n  import { defaultTinctures, defaultColors } from '../../data/dataModel';\n  import { camelize } from '../../scripts/utils';\n  import { tooltip } from '../../scripts/tooltip';\n\n  let add = {show: false, name: \"\", type: \"colours\", color: \"#96C8FA\", chance: 3};\n\n  // remove stored weighted array\n  for (const key in $tinctures) {delete $tinctures[key].array};\n\n  $: tData = [\"metals\", \"colours\", \"stains\"].map(type => {\n      return Object.keys($tinctures[type]).map(t => {\n        return {t, type};\n      });\n    }).flat();\n\n  $: lock(\"tinctures\", $tinctures);\n  $: lock(\"colors\", $colors);\n  $: updateCOAonColorChange($colors);\n\n  // don't lock options on load\n  let loaded = [];\n  function lock(key, value) {\n    if (loaded.includes(key)) localStorage.setItem(key, JSON.stringify(value));\n    else loaded.push(key);\n  }\n\n  function updateCOAonColorChange() {\n    changes.refresh();\n  }\n\n  function getTotalChance(type) {\n    return Object.entries($tinctures[type]).reduce((a, b) => a + b[1], 0);\n  }\n\n  function removeTincture(t) {\n    if (t.type === \"metals\" || t.type === \"colours\") {\n      const typeItems = Object.keys($tinctures[t.type]);\n      if (typeItems.length < 3) {\n        $message = {type: \"error\", text: `There should be at least 2 tinctures of type '${t.type}'!`};\n        return;\n      }\n    }\n\n    delete $tinctures[t.type][t.t];\n    $tinctures = $tinctures;\n  }\n\n  function addTincture() {\n    add.show = true;\n    $message = {type: \"warn\", text: `Set tincture name, type, color and chance and then click on 'Apply Tincture'`, timeout: 8000};\n  }\n\n  function cancelAddTincture() {\n    add.show = false;\n  }\n\n  function applyAddTincture() {\n    const name = camelize(add.name);\n\n    if (!name || $colors[name]) {\n      $message = {type: \"error\", text: `Tincture name must be unique!`};\n      return;\n    }\n\n    $tinctures[add.type][name] = add.chance;\n    $colors[name] = add.color;\n    add.show = false;\n    $message = {type: \"info\", text: `Tincture ${name} is added`};\n  }\n\n  function restoreDefault() {\n    $tinctures = JSON.parse(JSON.stringify(defaultTinctures));\n    $colors = JSON.parse(JSON.stringify(defaultColors));\n    localStorage.removeItem(\"tinctures\");\n    localStorage.removeItem(\"colors\");\n    loaded = [];\n    $message = {type: \"info\", text: `Default values are restored`};\n  }\n</script>\n\n<div id=\"tinctures\" transition:fade|local>\n  <span on:click={() => $state.tinctures = 0} class=\"close\">&times;</span>\n  <div id=\"tincturesCont\">\n\n    <div id=left>\n      <table>\n        <thead>\n          <tr>\n            <th>Element</th>\n            <th>Metals</th>\n            <th>Colours</th>\n            <th>Stains</th>\n            <th>Patterns</th>\n          </tr>\n        </thead>\n        <tbody>\n            <tr>\n              <td>Field</td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.field.metals}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.field.colours}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.field.stains}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.field.patterns}/></td>\n            </tr>\n            <tr>\n              <td>Division</td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.division.metals}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.division.colours}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.division.stains}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.division.patterns}/></td>\n            </tr>\n            <tr>\n              <td>Charge</td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.charge.metals}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.charge.colours}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.charge.stains}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.charge.patterns}/></td>\n            </tr>\n        </tbody>\n      </table>\n\n      <div class=contolButtons>\n        {#if add.show}\n          <button on:click={applyAddTincture}>Apply Tincture</button>\n        {:else}\n          <button on:click={addTincture}>Add Tincture</button>\n        {/if}\n        <button on:click={restoreDefault}>Restore Default</button>\n      </div>\n    </div>\n\n    <div id=right>\n      <table id=tincturesTable>\n        <thead>\n          <tr>\n            <th>Tincture</th>\n            <th>Type</th>\n            <th>Color</th>\n            <th>Chance</th>\n            <th>Remove</th>\n          </tr>\n        </thead>\n        <tbody>\n          {#if add.show}\n            <tr transition:fade>\n              <td>\n                <input type=text placeholder=Tincture bind:value={add.name}/>\n              </td>\n              <td>\n                <select bind:value={add.type}>\n                  <option value=metals>Metals</option>\n                  <option value=colours>Colours</option>\n                  <option value=stains>Stains</option>\n                </select>\n              </td>\n              <td>\n                <input type=color bind:value={add.color}/>\n              </td>\n              <td>\n                <input type=number min=0 max=100 step=1 bind:value={add.chance}/>\n              </td>\n              <td>\n                <span class=actionButton on:click={cancelAddTincture}>&times;</span>\n              </td>\n            </tr>\n          {/if}\n          {#each tData as t (t.t)}\n            <tr animate:flip>\n              <td>{t.t}</td>\n              <td>{t.type}</td>\n              <td>\n                <input type=color bind:value={$colors[t.t]}/>\n                {#if defaultColors[t.t] && $colors[t.t] !== defaultColors[t.t]}\n                  <svg on:click={() => $colors[t.t] = defaultColors[t.t]} width=12 height=12 fill=#fff title=\"Restore default color\" use:tooltip>\n                    <use href=\"#undo-icon\"></use>\n                  </svg>\n                {/if}\n              </td>\n              <td>\n                <input type=number min=0 max=100 step=1 bind:value={$tinctures[t.type][t.t]}/>\n                <span class=totalChance>/ {getTotalChance(t.type)}</span>\n              </td>\n              <td>\n                <span class=actionButton on:click={() => removeTincture(t)}>&times;</span>\n              </td>\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n\n<style>\n  #tinctures {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: rgba(0,0,0, 0.9);\n    transition: .5s;\n    text-align: center;\n    user-select: none;\n  }\n\n  #tincturesCont {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    overflow: auto;\n    scrollbar-width: thin;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  #tincturesCont::-webkit-scrollbar {\n    width: 6px;\n    background-color: #cccccc80;\n  }\n\n  #tincturesCont::-webkit-scrollbar-thumb {\n    background-color: #111;\n  }\n\n  @media only screen and (orientation: portrait) {\n    #tincturesCont {\n      flex-direction: column;\n    }\n  }\n\n  span.close {\n    position: fixed;\n    top: 0em;\n    right: .5em;\n    font-size: 4em;\n    padding: .2em 0;\n    cursor: pointer;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  .close:hover, .actionButton:hover {\n    color: #fff;\n  }\n\n  table {\n    color: #ddd;\n    text-transform: capitalize;\n    min-width: 350px;\n    max-width: 80vw;\n    display: block;\n    max-height: 80vh;\n  }\n\n  td {\n    width: 4em;\n  }\n\n  #tincturesTable td:nth-child(3) {\n    width: 5em;\n  }\n\n  input[type=\"color\"] {\n    padding: 0;\n    border: 0;\n    cursor: pointer;\n  }\n\n  input[type=\"text\"] {\n    width: 6em;\n  }\n\n  input[type=\"number\"] {\n    width: 4em;\n  }\n\n  .totalChance {\n    position: absolute;\n    margin: .1em 0 0 -2.1em;\n    color: #333;\n    user-select: none;\n    pointer-events: none;\n    font-size: .6em;\n  }\n\n  .actionButton {\n    font-size: 2em;\n    cursor: pointer;\n  }\n\n  .contolButtons > button {\n    width: 9em;\n    margin: 1em .1em;\n  }\n</style>","<script>\n  import {onMount} from 'svelte';\n  import {fly, fade} from 'svelte/transition';\n  import {message} from './../data/stores';\n  const {text, type = \"info\", timeout = 4000} = $message;\n\n  onMount(async () => {\n    const text = $message.text;\n    setTimeout(() => {\n      if ($message?.text === text) $message = null;\n    }, timeout);\n  });\n\n  function hideMessage() {\n    $message = null;\n  }\n</script>\n\n<div class={type} in:fly={{y:200, duration: 500}} out:fade={{duration: 300}} on:click={hideMessage}>\n  {text}\n</div>\n\n<style>\n  div {\n    position: absolute;\n    bottom: 0%;\n    left: 50%;\n    line-height: 1.4em;\n    padding: .8em;\n    transform: translate(-50%, -50%);\n    z-index: 99;\n    max-width: 80%;\n    width: max-content;\n    user-select: none;\n    background-color: #00000095;\n  }\n\n  .error {\n    color: #e90000;\n  }\n\n  .warn {\n    color: #dd7200;\n  }\n\n  .info {\n    color: #fff;\n  }\n\n  .tip {\n    color: #fff;\n    border-radius: 10px;\n  }\n\n  .sucess {\n    color: #0fc63a;\n  }\n</style>","<script>\n  import {colors, patterns} from \"./../data/stores\";\n\n  let patternData = [];\n  $: {\n    patternData = [...new Set($patterns)].map(id => {\n      const [element, t1, t2, size] = id.split(\"-\");\n      const [type, charge] = element.split(\"_of_\");\n      const mod = getSizeModified(size);\n      return {id, type, t1, t2, mod, charge};\n    });\n  }\n\n  function getSizeModified(size) {\n    if (size === \"small\") return .5;\n    if (size === \"smaller\") return .25;\n    if (size === \"smallest\") return .125;\n    if (size === \"big\") return 2;\n    return 1;\n  }\n\n  const defs = document.getElementById(\"charges\");\n  async function getCharge(p) {\n    let html = \"\";\n    const internal = defs.querySelector(\"#\"+p.charge);\n\n    if (internal) {\n      html = internal.outerHTML;\n    } else {\n      const extSVG = await fetch(\"charges/\"+p.charge+\".svg\");\n      const text = await extSVG.text();\n      const el = document.createElement(\"html\");\n      el.innerHTML = text;\n      html = el.querySelector(\"g\").outerHTML;\n      defs.insertAdjacentHTML(\"beforeend\", html);\n    }\n    return html;\n  }\n</script>\n\n<div id=\"patterns\" style=\"position: absolute\">\n  <svg width=0 height=0>\n    <defs>\n      {#each patternData as p}\n        {#if p.type === \"semy\"}\n        <pattern id={p.id} width={.134 * p.mod} height={.1787 * p.mod} viewBox=\"0 0 150 200\" stroke=\"#000\">\n          <rect x=0 y=0 width=150 height=200 fill={$colors[p.t1]} stroke=\"none\"/>\n          <g fill={$colors[p.t2]}>\n            {#await getCharge(p) then charge}\n              <g transform=\"translate(-60,-50)\">{@html charge}</g>\n              <g transform=\"translate(10,50)\">{@html charge}</g>\n            {/await}\n          </g>\n        </pattern>\n        {:else if p.type === \"vair\"}\n          <pattern id={p.id} width={.125 * p.mod} height={.25 * p.mod} viewBox=\"0 0 25 50\" stroke=\"#000\" stroke-width=.2>\n            <rect x=0 y=0 width=25 height=25 fill={$colors[p.t2]} stroke=\"none\"/>\n            <path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill={$colors[p.t1]}/>\n            <rect x=0 y=25 width=25 height=25 fill={$colors[p.t1]} stroke-width=1 stroke=\"none\"/>\n            <path d=\"m25,25 l-6.25,6.25 v12.5 l-6.25,6.25 l-6.25,-6.25 v-12.5 l-6.25,-6.25 z\" fill={$colors[p.t2]}/>\n          </pattern>\n        {:else if p.type === \"vairInPale\"}\n          <pattern id={p.id} width={.125 * p.mod} height={.125 * p.mod} viewBox=\"0 0 25 25\">\n            <rect x=0 y=0 width=200 height=200 fill={$colors[p.t2]}/>\n            <path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill={$colors[p.t1]} stroke=\"#000\" stroke-width=\".2\"/>\n          </pattern>\n        {:else if p.type === \"vairEnPointe\"}\n          <pattern id={p.id} width={.125 * p.mod} height={.25 * p.mod} viewBox=\"0 0 25 50\">\n            <rect x=0 y=0 width=25 height=25 fill={$colors[p.t2]}/>\n            <path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill={$colors[p.t1]}/>\n            <rect x=0 y=25 width=25 height=25 fill={$colors[p.t1]} stroke-width=1 stroke={$colors[p.t1]}/>\n            <path d=\"m12.5,25 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill={$colors[p.t2]}/>\n          </pattern>\n        {:else if p.type === \"ermine\"}\n          <pattern id={p.id} width={.125 * p.mod} height={.125 * p.mod} viewBox=\"0 0 25 25\" fill={$colors[p.t2]}>\n            <rect x=0 y=0 width=25 height=25 fill={$colors[p.t1]}/>\n            <path d=\"m19.1,14.8 c-0.7,2.9 -2.1,5 -3.5,6.5 0.6,-0.1 1.3,-0.6 2,-0.9 -0.4,0.8 -0.8,1.4 -1.2,2.1 0.2,-0.1 1,-0.8 2,-1.8 0.2,1.4 0.4,2.9 0.7,3.9 0.3,-0.9 0.5,-2.5 0.7,-3.9 0.6,0.6 1.2,1.3 2.1,1.8 l -1.2,-2.2 c 0.6,0.3 1.3,0.8 1.9,1 -1.5,-1.6 -2.8,-3.6 -3.5,-6.5z\"/>\n            <path d=\"m16.1,14.9 c-0.1,-0.2 -1,0.4 -1.5,-0.8 1.2,1.1 2.5,-1.2 3.5,0.4 0.3,0.7 -1.1,1.8 -2,0.4z\"/>\n            <path d=\"m21.9,14.9 c.1,-.2 1,0.4 1.5,-0.8 -1.2,1.1 -2.5,-1.2 -3.5,0.4 -0.3,0.7 1.1,1.8 2,0.4z\"/>\n            <path d=\"m19.4,12.4 c-0.2,-0.1 0.7,-0.7 -0.6,-1.4 1.1,1.2 -2,1.7 -0.3,2.9 0.7,0.4 2.4,-0.5 0.9,-1.5z\"/>\n            <path d=\"M5.8,4.6 C5.1,7.5 3.7,9.5 2.3,11 2.9,10.9 3.6,10.5 4.2,10.1 3.8,10.9 3.4,11.5 3,12.2 3.3,12.1 4,11.4 5.1,10.4 c 0.2,1.4 0.4,2.9 0.7,3.9 0.3,-0.9 0.5,-2.5 0.7,-3.9 0.6,0.6 1.2,1.3 2.1,1.8 L 7.3,10 c 0.6,0.3 1.3,0.8 1.9,1 C7.7,9.5 6.4,7.5 5.8,4.6Z\"/>\n            <path d=\"M2.9,4.7 C2.8,4.6 1.9,5.1 1.3,4 2.6,5.1 3.8,2.8 4.9,4.3 5.2,5 3.8,6.1 2.9,4.7Z\"/>\n            <path d=\"M8.6,4.7 C8.7,4.5 9.6,5.1 10.1,3.9 8.9,5.1 7.6,2.7 6.6,4.3 6.3,5 7.7,6.1 8.6,4.7Z\"/>\n            <path d=\"M6.1,2.2 C 5.9,2.1 6.8,1.5 5.5,0.8 6.6,2.1 3.5,2.6 5.2,3.7 5.9,4.1 7.6,3.3 6.1,2.2Z\"/>\n          </pattern>\n        {:else if p.type === \"chequy\"}\n          <pattern id={p.id} width={.25 * p.mod} height={.25 * p.mod} viewBox=\"0 0 50 50\" fill={$colors[p.t2]}>\n            <rect x=0 y=0 width=50 height=50 />\n            <rect x=0 y=0 width=25 height=25 fill={$colors[p.t1]}/>\n            <rect x=25 y=25 width=25 height=25 fill={$colors[p.t1]}/>\n          </pattern>\n        {:else if p.type === \"lozengy\"}\n          <pattern id={p.id} width={.125 * p.mod} height={.125 * p.mod} viewBox=\"0 0 50 50\">\n            <rect x=0 y=0 width=50 height=50 fill={$colors[p.t1]}/>\n            <polygon points=\"25,0 50,25 25,50 0,25\" fill={$colors[p.t2]}/>\n          </pattern>\n        {:else if p.type === \"fusily\"}\n          <pattern id={p.id} width={.125 * p.mod} height={.25 * p.mod} viewBox=\"0 0 50 100\">\n            <rect x=0 y=0 width=50 height=100 fill={$colors[p.t1]}/>\n            <polygon points=\"25,0 50,50 25,100 0,50\" fill={$colors[p.t2]}/>\n          </pattern>\n        {:else if p.type === \"pally\"}\n          <pattern id={p.id} width={.5 * p.mod} height={.125 * p.mod} viewBox=\"0 0 100 25\">\n            <rect x=0 y=0 width=100 height=25 fill={$colors[p.t1]}/>\n            <rect x=25 y=0 width=25 height=25 fill={$colors[p.t2]}/>\n            <rect x=75 y=0 width=25 height=25 fill={$colors[p.t2]}/>\n          </pattern>\n        {:else if p.type === \"barry\"}\n          <pattern id={p.id} width={.125 * p.mod} height={.5 * p.mod} viewBox=\"0 0 25 100\">\n            <rect x=0 y=0 width=25 height=100 fill={$colors[p.t2]}/>\n            <rect x=0 y=25 width=25 height=25 fill={$colors[p.t1]}/>\n            <rect x=0 y=75 width=25 height=25 fill={$colors[p.t1]}/>\n          </pattern>\n        {:else if p.type === \"gemelles\"}\n          <pattern id={p.id} width={.125 * p.mod} height={.5 * p.mod} viewBox=\"0 0 25 100\">\n            <rect x=0 y=0 width=25 height=100 fill={$colors[p.t2]}/>\n            <rect x=0 y=35 width=25 height=10 fill={$colors[p.t1]}/>\n            <rect x=0 y=55 width=25 height=10 fill={$colors[p.t1]}/>\n          </pattern>\n        {:else if p.type === \"bendy\"}\n          <pattern id={p.id} width={.36 * p.mod} height={.36 * p.mod} viewBox=\"0 0 50 50\" patternTransform=\"rotate(45)\">\n            <rect x=0 y=0 width=50 height=50 fill={$colors[p.t2]}/>\n            <line x1=0 y1=37.5 x2=50 y2=37.5 stroke={$colors[p.t1]} stroke-width=25 />\n          </pattern>\n        {:else if p.type === \"bendySinister\"}\n          <pattern id={p.id} width={.36 * p.mod} height={.36 * p.mod} viewBox=\"0 0 50 50\" patternTransform=\"rotate(-45)\">\n            <rect x=0 y=0 width=50 height=50 fill={$colors[p.t2]}/>\n            <line x1=0 y1=37.5 x2=50 y2=37.5 stroke={$colors[p.t1]} stroke-width=25 />\n          </pattern>\n        {:else if p.type === \"palyBendy\"}\n          <pattern id={p.id} width={.125 * p.mod} height={.25 * p.mod} viewBox=\"0 0 50 100\" patternTransform=\"translate(22,44) rotate(-26.5)\">\n            <rect x=0 y=0 width=50 height=100 fill={$colors[p.t1]}/>\n            <polygon points=\"25,0 50,50 25,100 0,50\" fill={$colors[p.t2]}/>\n          </pattern>\n        {:else if p.type === \"pappellony\"}\n          <pattern id={p.id} width={.125 * p.mod} height={.125 * p.mod} viewBox=\"0 0 100 100\">\n            <rect x=0 y=0 width=100 height=100 fill={$colors[p.t1]}/>\n            <circle cx=0 cy=51 r=45 stroke={$colors[p.t2]} fill={$colors[p.t1]} stroke-width=10></circle>\n            <circle cx=100 cy=51 r=45 stroke={$colors[p.t2]} fill={$colors[p.t1]} stroke-width=10></circle>\n            <circle cx=50 cy=1 r=45 stroke={$colors[p.t2]} fill={$colors[p.t1]} stroke-width=10></circle>\n          </pattern>\n        {:else if p.type === \"masoned\"}\n          <pattern id={p.id} width={.125 * p.mod} height={.125 * p.mod} viewBox=\"0 0 100 100\" fill=\"none\">\n            <rect x=0 y=0 width=100 height=100 fill={$colors[p.t1]}/>\n            <rect x=0 y=0 width=100 height=50 stroke={$colors[p.t2]} stroke-width=4 />\n            <line x1=50 y1=50 x2=50 y2=100 stroke={$colors[p.t2]} stroke-width=5 />\n          </pattern>\n        {:else if p.type === \"fretty\"}\n          <pattern id={p.id} width={.28 * p.mod} height={.28 * p.mod} viewBox=\"0 0 200 200\" patternTransform=\"translate(-19,21) rotate(45)\" stroke=\"#000\" stroke-width=2>\n            <rect x=0 y=0 width=200 height=200 stroke=\"none\" fill={$colors[p.t1]}/>\n            <rect x=0 y=35 width=200 height=30 stroke=\"none\" fill={$colors[p.t2]}/>\n            <rect x=0 y=135 width=200 height=30 stroke=\"none\" fill={$colors[p.t2]}/>\n            <rect x=35 y=0 width=30 height=200 stroke=\"none\" fill={$colors[p.t2]}/>\n            <rect x=135 y=0 width=30 height=200 stroke=\"none\" fill={$colors[p.t2]}/>\n            <line x1=0 y1=35 x2=35 y2=35 /><line x1=0 y1=65 x2=35 y2=65 />\n            <line x1=35 y1=165 x2=35 y2=200 /><line x1=65 y1=165 x2=65 y2=200 />\n            <line x1=135 y1=0 x2=135 y2=35 /><line x1=165 y1=0 x2=165 y2=35 />\n            <line x1=135 y1=65 x2=135 y2=200 /><line x1=165 y1=65 x2=165 y2=200 />\n            <line x1=35 y1=0 x2=35 y2=135 /><line x1=65 y1=0 x2=65 y2=135 />\n            <line x1=65 y1=35 x2=200 y2=35 /><line x1=65 y1=65 x2=200 y2=65 />\n            <line x1=0 y1=135 x2=135 y2=135 /><line x1=0 y1=165 x2=135 y2=165 />\n            <line x1=165 y1=135 x2=200 y2=135 /><line x1=165 y1=165 x2=200 y2=165 />\n          </pattern>\n        {/if}\n      {/each}\n    </defs>\n  </svg>\n</div>","<script>\n  import WindowEvents from './WindowEvents.svelte';\n  import Navbar from './navigation/Navbar.svelte';\n  import About from './navigation/About.svelte';\n  import Viewer from './navigation/Viewer.svelte';\n  import Editor from './editor/Editor.svelte';\n  import Gallery from './navigation/Gallery.svelte';\n  import UploadRaster from './navigation/UploadRaster.svelte';\n  import UploadVector from './navigation/UploadVector.svelte';\n  import Tinctures from './navigation/Tinctures.svelte';\n  import Message from './Message.svelte';\n  import Patterns from './Patterns.svelte';\n  import {background, size, history, matrices, matrix, state, message, shield} from '../data/stores';\n  import {shields} from '../data/shields';\n  import {rw} from '../scripts/utils';\n  let n, w, h, gallery = [], seed, coaSize = 200;\n\n  checkLoadParameters(); // on load\n  $: [n, w, h] = defineGallerySize($size);\n  $: handleMatrixChange($matrix, $size);\n\n  function handleMatrixChange() {\n    const l = $history.length;\n\n    // reroll is clicked\n    if (!$matrices[$matrix]) {\n      if ($state.edit) {\n        // generate new coa\n        $matrices[$matrix] = $matrices[$matrix-1].slice();\n        $matrices[$matrix][$state.i] = l;\n        seed = undefined; // use once\n      } else {\n        // reroll gallery\n        $matrices[$matrix] = Array.from({length: n}, (_, i) => l+i++);\n      }\n\n      // change shield if it's not locked (manually selected)\n      if (!localStorage.getItem(\"shield\")) {\n        $shield = rw(shields[rw(shields.types)]);\n      }\n    }\n\n    // add additional coas to matrix if size is smaller\n    if ($matrices[$matrix].length < n) {\n      const m = $matrices[$matrix];\n      $matrices[$matrix] = [...Array(n).keys()].map(i => m[i] !== undefined ? m[i] : l+i);\n    }\n    gallery = $matrices[$matrix].slice(0, n); // trim gallery if size was bigger\n\n    // on coa edit or view mode\n    if ($state.edit || $state.view) $state.c = $matrices[$matrix][$state.i];\n  }\n\n  function checkLoadParameters() {\n    const url = new URL(window.location);\n    const viewParam = url.searchParams.get(\"view\") == 1;\n    const sizeParam = +url.searchParams.get(\"size\");\n    const coaParam = url.searchParams.get(\"coa\");\n    const seedParam = url.searchParams.get(\"seed\");\n    const from = url.searchParams.get(\"from\");\n\n    if (!coaParam && !seedParam) return; // no predefined coa, regular flow (generate gallery)\n\n    if (coaParam) {\n      // exact coa to render\n      if (!validateJSON(coaParam)) return;\n      $history.push(JSON.parse(coaParam));\n    } else if (seedParam) {\n      // exact seed to use\n      seed = isNaN(+seedParam) ? seedParam : +seedParam;\n    }\n\n    if (coaParam || seedParam) {\n      if (from === \"FMG\") {\n        const text = \"Configure emblem, save it in SVG format and then load back to the Fantasy Map Generator\";\n        $message = {type: \"info\", text, timeout: 10000};\n      }\n      $matrices[0] = [0];\n      if (viewParam) {\n        if (sizeParam) coaSize = sizeParam;\n        $state.view = 1; // open in view only mode\n      } else $state.edit = 1; // open in edit mode\n    }\n  }\n\n  function validateJSON(text) {\n    try {\n      JSON.parse(text);\n      return true;\n    } catch(e) {\n      console.error(e);\n      $message = {type: \"error\", text: `URL error: ${e.message}`, timeout: 5000};\n      return false;\n    }\n  }\n\n  // define number and size of coas to display\n  function defineGallerySize(desiredSize) {\n    const width = window.innerWidth;\n    const height = window.innerHeight - 60;\n    const numberX = Math.ceil(width / desiredSize);\n    const w = Math.floor(width / numberX);\n    const numberY = Math.floor(height / w);\n    const h = Math.floor(height / numberY);\n    return [numberX * numberY, w, h];\n  }\n</script>\n\n{#if $state.view}\n  <Viewer c={$state.c} {seed} {coaSize}/>\n{:else}\n  <main style=\"background-color: {$background}\">\n    <Navbar/>\n    {#if $state.about}<About/>{/if}\n    {#if $state.raster}<UploadRaster/>{/if}\n    {#if $state.vector}<UploadVector/>{/if}\n    {#if $state.tinctures}<Tinctures/>{/if}\n    {#if $state.edit}<Editor c={$state.c} {seed}/>\n    {:else}<Gallery {gallery} {w} {h}/>{/if}\n    {#if $message}<Message/>{/if}\n  </main>\n{/if}\n<WindowEvents/>\n<Patterns/>\n\n<style>\n  main {\n    background-image: url(\"data:image/svg+xml,%3Csvg width='84' height='84' viewBox='0 0 84 84' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none'%3E%3Cg fill='%23222' fill-opacity='.2'%3E%3Cpath d='M84 23c-4.417 0-8-3.584-8-7.998V8h-7.002C64.58 8 61 4.42 61 0H23c0 4.417-3.584 8-7.998 8H8v7.002C8 19.42 4.42 23 0 23v38c4.417 0 8 3.584 8 7.998V76h7.002C19.42 76 23 79.58 23 84h38c0-4.417 3.584-8 7.998-8H76v-7.002C76 64.58 79.58 61 84 61V23zM59.05 83H43V66.95c5.054-.5 9-4.764 9-9.948V52h5.002c5.18 0 9.446-3.947 9.95-9H83v16.05c-5.054.5-9 4.764-9 9.948V74h-5.002c-5.18 0-9.446 3.947-9.95 9zm-34.1 0H41V66.95c-5.053-.502-9-4.768-9-9.948V52h-5.002c-5.184 0-9.447-3.946-9.95-9H1v16.05c5.053.502 9 4.768 9 9.948V74h5.002c5.184 0 9.447 3.946 9.95 9zm0-82H41v16.05c-5.054.5-9 4.764-9 9.948V32h-5.002c-5.18 0-9.446 3.947-9.95 9H1V24.95c5.054-.5 9-4.764 9-9.948V10h5.002c5.18 0 9.446-3.947 9.95-9zm34.1 0H43v16.05c5.053.502 9 4.768 9 9.948V32h5.002c5.184 0 9.447 3.946 9.95 9H83V24.95c-5.053-.502-9-4.768-9-9.948V10h-5.002c-5.184 0-9.447-3.946-9.95-9zM50 50v7.002C50 61.42 46.42 65 42 65c-4.417 0-8-3.584-8-7.998V50h-7.002C22.58 50 19 46.42 19 42c0-4.417 3.584-8 7.998-8H34v-7.002C34 22.58 37.58 19 42 19c4.417 0 8 3.584 8 7.998V34h7.002C61.42 34 65 37.58 65 42c0 4.417-3.584 8-7.998 8H50z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  }\n</style>","import App from \"./components/App.svelte\";\n\n// register serviceWorker\nif (\"serviceWorker\" in navigator && location.hostname !== \"localhost\") {\n  navigator.serviceWorker.register('./sw.js');\n}\n\nconst app = new App({\n  target: document.body,\n  props: {}\n});\n\nexport default app;"],"names":["noop","identity","x","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","tar","src","k","assign","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","null_to_empty","set_store_value","ret","set","action_destroyer","action_result","destroy","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","loop","promise","Promise","fulfill","add","[object Object]","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","attr","attribute","removeAttribute","getAttribute","setAttribute","to_number","set_data","wholeText","set_input_value","input","set_style","key","important","style","setProperty","select_option","select","option","__value","selected","select_value","selected_option","querySelector","toggle_class","toggle","classList","active_docs","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","t","rule","str","hash","charCodeAt","doc","ownerDocument","stylesheet","__svelte_stylesheet","head","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","delete_rule","previous","split","next","filter","anim","indexOf","deleted","join","deleteRule","clear","fix_position","getComputedStyle","position","width","height","getBoundingClientRect","left","top","transform","add_transform","set_current_component","get_current_component","Error","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flushing","seen_callbacks","flush","update","pop","has","fragment","before_update","after_update","wait","then","dispatch","direction","kind","dispatchEvent","type","detail","e","createEvent","initCustomEvent","custom_event","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","params","animation_name","config","running","cleanup","go","easing","tick","css","start_time","end_time","abort","started","create_bidirectional_transition","intro","running_program","pending_program","clear_animation","init","program","abs","start","end","group","handle_promise","info","token","index","resolved","child_ctx","current","needs_flush","blocks","m","mount","error","catch","hasCatch","pending","globals","globalThis","global","outro_and_destroy_block","lookup","fix_and_destroy_block","destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","get_context","n","old_indexes","new_blocks","new_lookup","Map","deltas","get","will_move","did_move","first","new_block","old_block","new_key","old_key","bind","props","bound","create_component","mount_component","on_mount","new_on_destroy","map","destroy_component","make_dirty","fill","instance","create_fragment","not_equal","parent_component","prop_values","context","skip_bound","ready","rest","hydrate","nodes","Array","from","childNodes","children","l","SvelteComponent","$destroy","splice","$$props","obj","$$set","keys","subscriber_queue","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","defaultTinctures","field","metals","colours","stains","patterns","division","charge","argent","or","gules","azure","sable","purpure","vert","murrey","sanguine","tenné","semy","vair","vairInPale","vairEnPointe","ermine","chequy","lozengy","fusily","pally","barry","gemelles","bendy","bendySinister","palyBendy","pappellony","masoned","fretty","defaultColors","positionsSelect","positions","conventional","abcdefgzi","beh","behdf","acegi","kn","bhdf","jeo","abc","jln","jlh","kmo","jleh","def","abcpqh","ABCDEFGHIJKL","complex","divisions","perPale","pq","jo","jl","perFess","jkl","gizgiz","perBend","lm","bcfdgh","perBendSinister","perCross","jlmo","j","perChevron","dfk","dfbh","bdefh","perChevronReversed","mok","dfh","perSaltire","bh","df","perPile","ee","be","abceh","abcabc","ordinariesOn","pale","bb","fess","bar","defdefdef","fessCotissed","fessDoubleCotissed","defdef","bend","joe","bendSinister","lem","bendlet","joejoejoe","bendletSinister","lemlemlem","bordure","chief","bbb","quarter","jjj","canton","yyyy","cross","eeee","behdfbehdf","behbehbeh","crossParted","saltire","jlemo","saltireParted","pall","jlhh","pallReversed","bemo","pile","pileInBend","eeoo","pileInBendSinister","eemm","ordinariesOff","yyy","abcz","abcgzi","bgi","ach","gemelle","ccg","ccc","aai","aaa","kenken","peqpeq","orle","emo","emoz","ez","terrace","bdf","point","acbdef","flaunches","gyron","acgi","BCKFEILGJbdmfo","aczac","chevron","hhh","chevronReversed","acdfgi","acac","cg","ai","label","defgzi","eh","defdefhmo","egiegi","pqn","inescutcheon","mascle","pqe","eknpq","lionRampant","lionPassant","wolfPassant","greyhoundСourant","griffinRampant","griffinPassant","boarRampant","eagle","raven","wyvern","garb","lme","crown","hand","armillarySphere","tree","lymphad","headWreathed","cavalier","lines","straight","wavy","engrailed","invecked","rayonne","embattled","raguly","urdy","dancetty","indented","dentilly","bevilled","angled","flechy","barby","enclavy","escartely","arched","archedReversed","nowy","nowyReversed","embattledGhibellin","embattledNotched","embattledGrady","dovetailedIndented","dovetailed","potenty","potentyDexter","potentySinister","nebuly","seaWaves","dragonTeeth","firTrees","variants","gyronny","chevronny","ordinaries","lined","gore","piles","pilesInPoint","patternable","charges","types","crosses","animals","animalHeads","birds","aquatic","seafaring","fantastic","plants","agriculture","arms","bodyparts","people","architecture","miscellaneous","uploaded","single","lozenge","fusil","rustre","lozengeFaceted","lozengePloye","roundel","roundel2","annulet","mullet","mulletPierced","mulletFaceted","mullet4","mullet6","mullet6Pierced","mullet6Faceted","mullet7","mullet8","mullet10","estoile","compassRose","billet","delf","triangle","trianglePierced","goutte","heart","pique","carreau","trefle","fleurDeLis","sun","sunInSplendour","crescent","fountain","inescutcheonHeater","inescutcheonSpanish","inescutcheonFrench","inescutcheonHorsehead","inescutcheonHorsehead2","inescutcheonPolish","inescutcheonHessen","inescutcheonSwiss","inescutcheonBoeotian","inescutcheonRoman","inescutcheonKite","inescutcheonOldFrench","inescutcheonRenaissance","inescutcheonBaroque","inescutcheonTarge","inescutcheonTarge2","inescutcheonPavise","inescutcheonWedged","inescutcheonFlag","inescutcheonPennon","inescutcheonGuidon","inescutcheonBanner","inescutcheonDovetail","inescutcheonGonfalon","inescutcheonPennant","inescutcheonRound","inescutcheonOval","inescutcheonVesicaPiscis","inescutcheonSquare","inescutcheonDiamond","inescutcheonNo","inescutcheonFantasy1","inescutcheonFantasy2","inescutcheonFantasy3","inescutcheonFantasy4","inescutcheonFantasy5","inescutcheonNoldor","inescutcheonGondor","inescutcheonEasterling","inescutcheonErebor","inescutcheonIronHills","inescutcheonUrukHai","inescutcheonMoriaOrc","crossHummetty","crossVoided","crossPattee","crossPotent","crossClechy","crosslet","crossBottony","crossFleury","crossPatonce","crossPommy","crossGamma","crossArrowed","crossFitchy","crossCercelee","crossMoline","crossFourchy","crossAvellane","crossErminee","crossMaltese","crossCeltic","crossOccitan","crossSaltire","crossTau","wolfRampant","wolfStatant","greyhoundCourant","horseRampant","horseSalient","bearRampant","bearPassant","bullPassant","goat","lamb","elephant","wolfHeadErased","bullHeadCaboshed","deerHeadCaboshed","dragonPassant","dragonRampant","wyvernWithWingsDisplayed","eagleTwoHeards","unicornRampant","pegasus","serpent","cock","parrot","swan","swanErased","heron","cinquefoil","rose","escallop","pike","cancer","dolphin","boat","rake","sword","sabre","sabresCrossed","hatchet","lochaberAxe","mallet","bowWithArrow","bow","arrow","arrowsSheaf","tower","castle","orb","chalice","buckle","bugleHorn","bell","pot","horseshoe","stagsAttires","cowHorns","wing","wingSword","lute","harp","wheel","crosier","log","natural","sinister","reversed","shields","basic","regional","historical","specific","banner","simple","fantasy","middleEarth","heater","spanish","french","horsehead","horsehead2","polish","hessen","swiss","boeotian","roman","kite","oldFrench","renaissance","baroque","targe","targe2","pavise","wedged","flag","pennon","guidon","dovetail","gonfalon","pennant","round","oval","vesicaPiscis","square","diamond","no","fantasy1","fantasy2","fantasy3","fantasy4","fantasy5","noldor","gondor","easterling","erebor","ironHills","urukHai","moriaOrc","shieldPaths","shieldBox","shieldSize","shieldPositions","g","h","y","z","q","A","B","C","D","K","E","J","F","I","G","H","L","ra","array","floor","random","rw","object","defineProperty","enumerable","configurable","P","probability","camelize","toLowerCase","replace","toUpperCase","stored","localStorage","getItem","storedObj","JSON","parse","diaper","grad","shield","coaParam","URL","location","searchParams","getShieldFromURL","colors","stringify","tinctures","border","borderWidth","background","scale","grid","showGrid","defineInitialOptions","history","matrices","matrix","state","edit","about","message","changes","refresh","reset","undo","redo","createChangesTracker","loadedCharges","async","download","format","coas","getElementById","querySelectorAll","numberX","innerWidth","numberY","ceil","scaleValue","canvas","getContext","loaded","svg","url","clone","cloneNode","getElementsByTagName","gridPattern","remove","gr","di","insertAdjacentHTML","defs","outerHTML","el","fieldPattern","divisionPattern","serialized","XMLSerializer","serializeToString","blob","Blob","createObjectURL","setTimeout","revokeObjectURL","getURL","link","getTimestamp","href","click","downloadVector","img","Image","onload","drawImage","toDataURL","drawCanvas","downloadRaster","formatTime","time","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","touch","startX","startY","host","onbeforeunload","code","ctrl","ctrlKey","includes","activeElement","tagName","$matrix","$state","raster","vector","$message","changedTouches","screenX","screenY","menu","navbar","contains","diffX","diffY","ratioX","ratioY","tooltip","div","title","mouseEnter","gesture","hotkey","textContent","body","mouseLeave","mouseMove","pageX","pageY","tip","charAt","locked","stopPropagation","removeItem","cubicInOut","pow","cubicOut","fade","linear","opacity","fly","target_opacity","od","u","slide","parseFloat","padding_top","paddingTop","padding_bottom","paddingBottom","margin_top","marginTop","margin_bottom","marginBottom","border_top_width","borderTopWidth","border_bottom_width","borderBottomWidth","min","draw","speed","getTotalLength","goHome","restoreDefault","origin","pathname","installable","prompt","wideScreen","change","setItem","coa","$changes","$shield","copyToClipboard","stringToCopy","response","navigator","clipboard","writeText","timeout","err","console","install","userChoice","choise","$background","$border","$borderWidth","$scale","icon","replaceAll","encodeURI","sh","metal","t1","t2","innerHeight","drag","currentTarget","a0","x0","y0","string","parseTransform","x1","y1","sizeAdj","closest","move","resize","rotate","cursor","once","angle","rad","PI","cosAngle","cos","sinAngle","sin","gridSize","dx","dy","relX","relY","setTransform","tr","shiftKey","metaKey","templates","perFessLined","line","perPaleLined","perBendLined","perBendSinisterLined","perChevronLined","perChevronReversedLined","perCrossLined","perPileLined","fessLined","paleLined","bendLined","bendSinisterLined","chiefLined","barLined","gemelleLined","fessCotissedLined","fessDoubleCotissedLined","bendletLined","bendletSinisterLined","terraceLined","crossLined","crossPartedLined","saltireLined","saltirePartedLined","getTemplate","id","linedId","linePath","ordinary","stroke","shieldPath","strokeWidth","chargeId","$loadedCharges","getInescutcheon","fetch","innerHTML","divided","ordinariesRegular","above","ordinariesAboveCharges","coaDiaper","diaperType","clr","tincture","$colors","$patterns","$diaper","getDieperType","test","chargesData","ordinariesData","getClass","points","entries","w","viewBox","generate","seed","args","version","s0","s1","s2","initialArgs","uinta","Uint32Array","mashver","_initState","_internalSeed","mash","toString","Mash","_isInteger","_int","parseInt","fract53","int32","cycle","_run","range","loBound","hiBound","arguments","restart","prototype","versions","crypto","getRandomValues","aleaPRNG","usedPattern","usedTinctures","tData","getTincture","linedOrdinary","divisioned","selectCharge","ordinaryT","concat","allowCounter","p2","p1","p3","p4","c2","c3","t3","c4","t4","getSize","defineChargeAttributes","fields","RoT","base","getType","pattern","startWithMetal","replaceTincture","definePattern","search","open","focus","coaSize","$history","itemSize","substr","$tinctures","flat","query","queryOld","category","categories","allCharges","chargeList","getCharge","regEx","RegExp","results","showResults","divisionList","lineList","ordinariesList","checked","showStroke","showPositions","$grid","$showGrid","els","cap","isRaster","section","ratio","defineMenuState","isPattern","isSemy","getSemyCharge","getChargeCategory","find","getSemyType","selectSecondTincture","getField","tSplit","getDivision","Boolean","getOrdinaries","getCharges","reroll","attibutes","item","с","gallery","regenerate","$matrices","editCOA","font","getFilesFromInputEvent","getFilesFromDropEvent","dataTransfer","files","items","getAsFile","dragging","offsetX","offsetY","getFilesFunction","file","match","reader","FileReader","readerEvent","dataURL","result","readAsDataURL","loadImage","image","downloadTemplate","color","tinctureList","transformString","values","updateTransform","updateId","svgText","consolidated","baseVal","consolidate","fix","toFixed","readAsText","flip","scaleX","clientWidth","scaleY","clientHeight","to","sqrt","_t","chance","right","bottom","show","lock","removeTincture","reduce","mod","patternData","getSizeModified","html","internal","extSVG","view","viewParam","sizeParam","seedParam","validateJSON","isNaN","checkLoadParameters","desiredSize","defineGallerySize","$size","handleMatrixChange","hostname","serviceWorker","register"],"mappings":"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"}