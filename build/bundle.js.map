{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../src/data/dataModel.js","../../src/data/shields.js","../../src/scripts/utils.js","../../src/data/stores.js","../../src/scripts/download.js","../../src/components/WindowEvents.svelte","../../src/scripts/tooltip.js","../../src/components/navigation/Lock.svelte","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../src/components/navigation/Navbar.svelte","../../src/components/navigation/AnimatedCOA.svelte","../../src/components/navigation/About.svelte","../../src/components/navigation/License.svelte","../../src/scripts/drag.js","../../src/data/templates.js","../../src/scripts/getters.js","../../src/components/object/Ordinary.svelte","../../src/components/object/Charge.svelte","../../src/components/object/Shield.svelte","../../src/components/editor/Grid.svelte","../../src/components/editor/Positions.svelte","../../src/components/object/COA.svelte","../../src/scripts/generator.js","../../src/scripts/alea.js","../../src/components/navigation/Viewer.svelte","../../src/components/editor/EditorType.svelte","../../src/components/editor/EditorSize.svelte","../../src/components/editor/EditorItem.svelte","../../src/components/editor/EditorTincture.svelte","../../src/components/editor/EditorPattern.svelte","../../src/components/editor/EditorCharge.svelte","../../src/components/editor/EditorDivision.svelte","../../src/components/editor/EditorDivided.svelte","../../src/components/editor/EditorLine.svelte","../../src/components/editor/EditorOrdinary.svelte","../../src/components/editor/Switch.svelte","../../src/components/editor/EditorStroke.svelte","../../src/components/editor/EditorPosition.svelte","../../src/components/editor/EditorShift.svelte","../../src/components/editor/EditorControls.svelte","../../src/components/editor/EditorAbove.svelte","../../src/components/editor/Editor.svelte","../../src/components/navigation/Gallery.svelte","../../src/components/navigation/LicenseList.svelte","../../src/components/navigation/UploadRaster.svelte","../../src/components/navigation/UploadVector.svelte","../../node_modules/svelte/animate/index.mjs","../../src/components/navigation/Tinctures.svelte","../../src/components/Message.svelte","../../src/components/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value = ret) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction claim_element(nodes, name, attributes, svg) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeName === name) {\n            let j = 0;\n            const remove = [];\n            while (j < node.attributes.length) {\n                const attribute = node.attributes[j++];\n                if (!attributes[attribute.name]) {\n                    remove.push(attribute.name);\n                }\n            }\n            for (let k = 0; k < remove.length; k++) {\n                node.removeAttribute(remove[k]);\n            }\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return svg ? svg_element(name) : element(name);\n}\nfunction claim_text(nodes, data) {\n    for (let i = 0; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 3) {\n            node.data = '' + data;\n            return nodes.splice(i, 1)[0];\n        }\n    }\n    return text(data);\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    const z_index = (parseInt(computed_style.zIndex) || 0) - 1;\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        `overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: ${z_index};`);\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, false, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor(anchor = null) {\n        this.a = anchor;\n        this.e = this.n = null;\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.h(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = node.ownerDocument;\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = doc.head.appendChild(element('style')).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        callbacks.slice().forEach(fn => fn(event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = program.b - t;\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            info.blocks[i] = null;\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${String(value).replace(/\"/g, '&#34;').replace(/'/g, '&#39;')}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(parent_component ? parent_component.$$.context : []),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, options = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, options);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    // onMount happens before the initial afterUpdate\n    add_render_callback(() => {\n        const new_on_destroy = on_mount.map(run).filter(is_function);\n        if (on_destroy) {\n            on_destroy.push(...new_on_destroy);\n        }\n        else {\n            // Edge case - component was destroyed immediately,\n            // most likely as a result of a binding initialising\n            run_all(new_on_destroy);\n        }\n        component.$$.on_mount = [];\n    });\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const prop_values = options.props || {};\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(parent_component ? parent_component.$$.context : []),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false\n    };\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, prop_values, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor);\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.29.4' }, detail)));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, SvelteComponent, SvelteComponentDev, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, assign, attr, attr_dev, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_space, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, escape, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getContext, get_binding_group_value, get_current_component, get_slot_changes, get_slot_context, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, has_prop, identity, init, insert, insert_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, update_keyed_each, update_slot, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal';\nexport { get_store_value as get } from '../internal';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = [];\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (let i = 0; i < subscribers.length; i += 1) {\n                    const s = subscribers[i];\n                    s[1]();\n                    subscriber_queue.push(s, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.push(subscriber);\n        if (subscribers.length === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            const index = subscribers.indexOf(subscriber);\n            if (index !== -1) {\n                subscribers.splice(index, 1);\n            }\n            if (subscribers.length === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","export const defaultTinctures = {\n  field: { metals: 35, colours: 49, stains: 1, patterns: 14 },\n  division: { metals: 35, colours: 49, stains: 1, patterns: 8 },\n  charge: { metals: 16, colours: 24, stains: 1, patterns: 0 },\n  metals: { argent: 3, or: 2 },\n  colours: { gules: 5, azure: 4, sable: 3, purpure: 3, vert: 2 },\n  stains: { murrey: 1, sanguine: 1, tenné: 1 },\n  patterns: {\n    semy: 8, ermine: 6,\n    vair: 4, counterVair: 1, vairInPale: 1, vairEnPointe: 2, vairAncien: 2,\n    potent: 2, counterPotent: 1, potentInPale: 1, potentEnPointe: 1,\n    chequy: 8, lozengy: 5, fusily: 2, pally: 8, barry: 10, gemelles: 1,\n    bendy: 8, bendySinister: 4, palyBendy: 2, barryBendy: 1,\n    pappellony: 2, pappellony2: 3, scaly: 1, plumetty: 1,\n    masoned: 6, fretty: 3, grillage: 1, chainy: 1, maily: 2, honeycombed: 1 }\n}\n\nexport const defaultColors = {\n  argent: \"#fafafa\",\n  or: \"#ffe066\",\n  gules: \"#d7374a\",\n  sable: \"#333333\",\n  azure: \"#377cd7\",\n  vert: \"#26c061\",\n  purpure: \"#522d5b\",\n  murrey: \"#85185b\",\n  sanguine: \"#b63a3a\",\n  tenné: \"#cc7f19\"\n}\n\nexport const positionsSelect = [\n  \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"y\", \"z\",\n  \"kn\", \"bh\", \"df\", \"pq\", \"jo\", \"lm\",\n  \"abc\", \"def\", \"ghi\", \"adg\", \"beh\", \"cfi\",\n  \"jeo\", \"jln\", \"kmo\", \"peq\", \"lem\",\n  \"bhdf\", \"jleh\", \"behdf\", \"acegi\",\n  \"bdefh\", \"kenpq\", \"abcpqh\",\n  \"abcdefgzi\", \"ABCDEFGHIJKL\"\n];\n\nexport const positions = {\n  conventional: { e: 20, abcdefgzi: 3, beh: 3, behdf: 2, acegi: 1, kn: 3, bhdf: 1, jeo: 1, abc: 3, jln: 6, jlh: 3, kmo: 2, jleh: 1, def: 3, abcpqh: 4, ABCDEFGHIJKL: 1 },\n  complex: { e: 40, beh: 1, kn: 1, jeo: 1, abc: 2, jln: 7, jlh: 2, def: 1, abcpqh: 1 },\n  divisions: {\n    perPale: { e: 15, pq: 5, jo: 2, jl: 2, ABCDEFGHIJKL: 1 },\n    perFess: { e: 12, kn: 4, jkl: 2, gizgiz: 1, jlh: 3, kmo: 1, ABCDEFGHIJKL: 1 },\n    perBend: { e: 5, lm: 5, bcfdgh: 1 },\n    perBendSinister: { e: 1, jo: 1 },\n    perCross: { e: 4, jlmo: 1, j: 1, jo: 2, jl: 1 },\n    perChevron: { e: 1, jlh: 1, dfk: 1, dfbh: 2, bdefh: 1 },\n    perChevronReversed: { e: 1, mok: 2, dfh: 2, dfbh: 1, bdefh: 1 },\n    perSaltire: { bhdf: 8, e: 3, abcdefgzi: 1, bh: 1, df: 1, ABCDEFGHIJKL: 1 },\n    perPile: { ee: 3, be: 2, abceh: 1, abcabc: 1, jleh: 1 }\n  },\n  ordinariesOn: {\n    pale: { ee: 12, beh: 10, kn: 3, bb: 1 },\n    fess: { ee: 1, def: 3 },\n    bar: { defdefdef: 1 },\n    fessCotissed: { ee: 1, def: 3 },\n    fessDoubleCotissed: { ee: 1, defdef: 3 },\n    bend: { ee: 2, jo: 1, joe: 1 },\n    bendSinister: { ee: 1, lm: 1, lem: 4 },\n    bendlet: { joejoejoe: 1 },\n    bendletSinister: { lemlemlem: 1 },\n    bordure: { ABCDEFGHIJKL: 1 },\n    chief: { abc: 5, bbb: 1 },\n    quarter: { jjj: 1 },\n    canton: { yyyy: 1 },\n    cross: { eeee: 1, behdfbehdf: 3, behbehbeh: 2 },\n    crossParted: { e: 5, ee: 1 },\n    saltire: { ee: 5, jlemo: 1 },\n    saltireParted: { e: 5, ee: 1 },\n    pall: { ee: 1, jleh: 5, jlhh: 3 },\n    pallReversed: { ee: 1, bemo: 5 },\n    pile: { bbb: 1 },\n    pileInBend: { eeee: 1, eeoo: 1 },\n    pileInBendSinister: { eeee: 1, eemm: 1 }\n  },\n  ordinariesOff: {\n    pale: { yyy: 1 },\n    fess: { abc: 3, abcz: 1 },\n    bar: { abc: 2, abcgzi: 1, jlh: 5, bgi: 2, ach: 1 },\n    gemelle: { abc: 1 },\n    bend: { ccg: 2, ccc: 1 },\n    bendSinister: { aai: 2, aaa: 1 },\n    bendlet: { ccg: 2, ccc: 1 },\n    bendletSinister: { aai: 2, aaa: 1 },\n    bordure: { e: 4, jleh:2, kenken: 1, peqpeq: 1 },\n    orle: { e: 4, jleh: 1, kenken: 1, peqpeq: 1 },\n    chief: { emo: 2, emoz: 1, ez: 2 },\n    terrace: { e: 5, def: 1, bdf: 3 },\n    mount: { e: 5, def: 1, bdf: 3 },\n    point: { e: 2, def: 1, bdf: 3, acbdef: 1 },\n    flaunches: { e: 3, kn: 1, beh: 3 },\n    gyron: { bh: 1 },\n    quarter: { e: 1 },\n    canton: { e: 5, beh: 1, def: 1, bdefh: 1, kn: 1 },\n    cross: { acgi: 1 },\n    pall: { BCKFEILGJbdmfo: 1 },\n    pallReversed: { aczac: 1 },\n    chevron: { ach: 3, hhh: 1 },\n    chevronReversed: { bbb: 1 },\n    pile: { acdfgi: 1, acac: 1 },\n    pileInBend: { cg: 1 },\n    pileInBendSinister: { ai: 1 },\n    label: { defgzi: 2, eh: 3, defdefhmo: 1, egiegi: 1, pqn: 5 }\n  },\n  // charges\n  inescutcheon: { e: 4, jln: 1 },\n  mascle: { e: 15, abcdefgzi: 3, beh: 3, bdefh: 4, acegi: 1, kn: 3, joe: 2, abc: 3, jlh: 8, jleh: 1, df: 3, abcpqh: 4, pqe: 3, eknpq: 3 },\n  lionRampant: { e: 10, def: 2, abc: 2, bdefh: 1, kn: 1, jlh: 2, abcpqh: 1 },\n  lionPassant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  wolfPassant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  greyhoundСourant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  griffinRampant: { e: 10, def: 2, abc: 2, bdefh: 1, kn: 1, jlh: 2, abcpqh: 1 },\n  griffinPassant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  boarRampant: { e: 12, beh: 1, kn: 1, jln: 2 },\n  eagle: { e: 15, beh: 1, kn: 1, abc: 1, jlh: 2, def: 2, pq: 1 },\n  raven: { e: 15, beh: 1, kn: 1, jeo: 1, abc: 3, jln: 3, def: 1 },\n  wyvern: { e: 10, jln: 1 },\n  garb: { e: 1, def: 3, abc: 2, beh: 1, kn: 1, jln: 3, jleh: 1, abcpqh: 1, joe: 1, lme: 1 },\n  crown: { e: 10, abcdefgzi: 1, beh: 3, behdf: 2, acegi: 1, kn: 1, pq: 2, abc: 1, jln: 4, jleh: 1, def: 2, abcpqh: 3 },\n  hand: { e: 10, jln: 2, kn: 1, jeo: 1, abc: 2, pqe: 1 },\n  armillarySphere: {e: 1},\n  tree: {e: 1},\n  lymphad: {e: 1},\n  head: {e: 1},\n  headWreathed: {e: 1},\n  cavalier: {e: 1}\n};\n\nexport const lines = {\n  straight: 50, wavy: 8, engrailed: 4, invecked: 3, rayonne: 3, embattled: 1, raguly: 1, urdy: 1, dancetty: 1, indented: 2,\n  dentilly: 1, bevilled: 1, angled: 1, flechy: 1, barby: 1, enclavy: 1, escartely: 1, arched: 2, archedReversed: 1, nowy: 1, nowyReversed: 1,\n  embattledGhibellin: 1, embattledNotched: 1, embattledGrady: 1, dovetailedIndented: 1, dovetailed: 1,\n  potenty: 1, potentyDexter: 1, potentySinister: 1, nebuly: 2, seaWaves: 1, dragonTeeth: 1, firTrees: 1\n};\n\nexport const divisions = {\n  variants: { perPale: 5, perFess: 5, perBend: 2, perBendSinister: 1, perChevron: 1, perChevronReversed: 1, perCross: 5, perPile: 1, perSaltire: 1, gyronny: 1, chevronny: 1 },\n  perPale: lines,\n  perFess: lines,\n  perBend: lines,\n  perBendSinister: lines,\n  perChevron: lines,\n  perChevronReversed: lines,\n  perCross: { straight: 20, wavy: 5, engrailed: 4, invecked: 3, rayonne: 1, embattled: 1, raguly: 1, urdy: 1, indented: 2, dentilly: 1, bevilled: 1, angled: 1, embattledGhibellin: 1, embattledGrady: 1, dovetailedIndented: 1, dovetailed: 1, potenty: 1, potentyDexter: 1, potentySinister: 1, nebuly: 1 },\n  perPile: lines\n};\n\nexport const ordinaries = {\n  lined: {\n    pale: 7, fess: 5, bend: 3, bendSinister: 2, chief: 5, bar: 2, gemelle: 1, fessCotissed: 1, fessDoubleCotissed: 1,\n    bendlet: 2, bendletSinister: 1, terrace: 3, cross: 6, crossParted: 1, saltire: 2, saltireParted: 1\n  },\n  straight: {\n    bordure: 8, orle: 4, mount: 1, point: 2, flaunches: 1, gore: 1,\n    gyron: 1, quarter: 1, canton: 2, pall: 3, pallReversed: 2, chevron: 4, chevronReversed: 3,\n    pile: 2, pileInBend: 2, pileInBendSinister: 1, piles: 1, pilesInPoint: 2, label: 1\n  },\n  patternable: [\"flaunches\", \"gyron\", \"quarter\", \"canton\", \"pall\", \"pallReversed\", \"pileInBend\", \"pileInBendSinister\"]\n};\n\nexport const charges = {\n  types: { conventional: 30, crosses: 8, animals: 2, animalHeads: 1, birds: 2, aquatic: 1, seafaring: 1, fantastic: 3, plants: 1, agriculture: 1, arms: 3, bodyparts: 1, people: 1, architecture: 1, miscellaneous: 3, inescutcheon: 3, uploaded: 0 },\n  single: { conventional: 12, crosses: 8, plants: 2, animals: 10, animalHeads: 2, birds: 4, aquatic: 2, seafaring: 2, fantastic: 7, agriculture: 1, arms: 6, bodyparts: 1, people: 1, architecture: 1, miscellaneous: 9, inescutcheon: 5, uploaded: 0 },\n  semy: { conventional: 12, crosses: 3, plants: 1 },\n  conventional: {\n    lozenge: 2, fusil: 4, mascle: 4, rustre: 2, lozengeFaceted: 3, lozengePloye: 1, roundel: 4, roundel2: 3, annulet: 4,\n    mullet: 5, mulletPierced: 1, mulletFaceted: 1, mullet4: 3, mullet6: 4, mullet6Pierced: 1, mullet6Faceted: 1, mullet7: 1, mullet8: 1, mullet10: 1,\n    estoile: 1, compassRose: 1, billet: 5, delf: 0, triangle: 3, trianglePierced: 1, goutte: 4, heart: 4, pique: 2, carreau: 1, trefle: 2,\n    fleurDeLis: 6, sun: 3, sunInSplendour: 1, crescent: 5, fountain: 1\n  },\n  inescutcheon: {\n    inescutcheonHeater: 1, inescutcheonSpanish: 1, inescutcheonFrench: 1,\n    inescutcheonHorsehead: 1, inescutcheonHorsehead2: 1, inescutcheonPolish: 1, inescutcheonHessen: 1, inescutcheonSwiss: 1,\n    inescutcheonBoeotian: 1, inescutcheonRoman: 1, inescutcheonKite: 1, inescutcheonOldFrench: 1, inescutcheonRenaissance: 1, inescutcheonBaroque: 1,\n    inescutcheonTarge: 1, inescutcheonTarge2: 1, inescutcheonPavise: 1, inescutcheonWedged: 1,\n    inescutcheonFlag: 1, inescutcheonPennon: 1, inescutcheonGuidon: 1, inescutcheonBanner: 1, inescutcheonDovetail: 1, inescutcheonGonfalon: 1, inescutcheonPennant: 1,\n    inescutcheonRound: 1, inescutcheonOval: 1, inescutcheonVesicaPiscis: 1, inescutcheonSquare: 1, inescutcheonDiamond: 1, inescutcheonNo: 1,\n    inescutcheonFantasy1: 1, inescutcheonFantasy2: 1, inescutcheonFantasy3: 1, inescutcheonFantasy4: 1, inescutcheonFantasy5: 1,\n    inescutcheonNoldor: 1, inescutcheonGondor: 1, inescutcheonEasterling: 1, inescutcheonErebor: 1, inescutcheonIronHills: 1, inescutcheonUrukHai: 1, inescutcheonMoriaOrc: 1\n  },\n  crosses: {\n    crossHummetty: 15, crossVoided: 1, crossPattee: 3, crossPotent: 2, crossClechy: 3, crosslet: 1, crossBottony: 1, crossFleury: 3,\n    crossPatonce: 1, crossPommy: 1, crossGamma: 1, crossArrowed: 1, crossFitchy: 1, crossCercelee: 1, crossMoline: 2, crossFourchy: 1,\n    crossAvellane: 1, crossErminee: 1, crossMaltese: 3, crossCeltic: 1, crossOccitan: 1, crossSaltire: 3, crossTau: 1\n  },\n  animals: {\n    lionRampant: 5, lionPassant: 2, wolfRampant: 1, wolfPassant: 1, wolfStatant: 1, greyhoundCourant: 1, boarRampant: 1,\n    horseRampant: 2, horseSalient: 1, bearRampant: 2, bearPassant: 1, bullPassant: 1, goat: 1, lamb: 1, elephant: 1\n  },\n  animalHeads: {\n    wolfHeadErased: 2, bullHeadCaboshed: 1, deerHeadCaboshed: 1\n  },\n  fantastic: { dragonPassant: 2, dragonRampant: 2, wyvern: 1, wyvernWithWingsDisplayed: 1, griffinPassant: 1, griffinRampant: 1, eagleTwoHeards: 2, unicornRampant: 1, pegasus: 1, serpent: 1 },\n  birds: { eagle: 9, raven: 2, cock: 3, parrot: 1, swan: 2, swanErased: 1, heron: 1 },\n  plants: { tree: 1, cinquefoil: 1, rose: 1 },\n  aquatic: { escallop: 5, pike: 1, cancer: 1, dolphin: 1 },\n  seafaring: { anchor: 6, boat: 2, lymphad: 2, armillarySphere: 1 },\n  agriculture: { garb: 2, rake: 1 },\n  arms: { sword: 5, sabre: 1, sabresCrossed: 1, hatchet: 2, lochaberAxe: 1, mallet: 1, bowWithArrow: 2, bow: 1, arrow: 1, arrowsSheaf: 1 },\n  bodyparts: { hand: 4, head: 1, headWreathed: 1 },\n  people: { cavalier: 1 },\n  architecture: { tower: 1, castle: 1 },\n  miscellaneous: {\n    crown: 3, orb: 1, chalice: 1, key: 1, buckle: 1, bugleHorn: 1, bell: 2, pot: 1, horseshoe: 3, stagsAttires: 1, cowHorns: 2, wing: 1, wingSword: 1,\n    lute: 1, harp: 1, wheel: 2, crosier: 1, log: 1},\n  uploaded: {},\n  natural: { fountain: \"azure\", garb: \"or\", raven: \"sable\" }, // charges to mainly use predefined colours\n  sinister: [\n    \"crossGamma\", \"lionRampant\", \"lionPassant\", \"wolfRampant\", \"wolfPassant\", \"wolfStatant\", \"wolfHeadErased\", \"greyhoundСourant\", \"boarRampant\",\n    \"horseRampant\", \"horseSalient\", \"bullPassant\", \"bearRampant\", \"bearPassant\", \"goat\", \"lamb\", \"elephant\", \"eagle\", \"raven\", \"cock\", \"parrot\",\n    \"swan\", \"swanErased\", \"heron\", \"pike\", \"dragonPassant\", \"dragonRampant\", \"wyvern\", \"wyvernWithWingsDisplayed\", \"griffinPassant\", \"griffinRampant\",\n    \"unicornRampant\", \"pegasus\", \"serpent\", \"hatchet\", \"lochaberAxe\", \"hand\", \"wing\", \"wingSword\", \"lute\", \"harp\", \"bow\", \"head\", \"headWreathed\",\n    \"knight\", \"lymphad\", \"log\", \"crosier\", \"dolphin\", \"sabre\"], // charges that can be sinister\n  reversed: [\"goutte\", \"mullet\", \"mullet7\", \"crescent\", \"crossTau\", \"cancer\", \"sword\", \"sabresCrossed\", \"hand\", \"horseshoe\", \"bowWithArrow\", \"arrow\", \"arrowsSheaf\", \"rake\"], // charges that can be reversed\n  patternable: [\n    \"lozengePloye\", \"roundel\", \"annulet\", \"mullet4\", \"mullet8\", \"delf\", \"triangle\", \"trianglePierced\", \"sun\", \"fountain\",\"inescutcheonRound\", \"inescutcheonSquare\",\n    \"inescutcheonNo\", \"crossHummetty\", \"crossVoided\", \"crossPattee\", \"crossPotent\", \"crossClechy\", \"crosslet\", \"crossBottony\", \"crossFleury\", \"crossPatonce\",\"crossPommy\",\n    \"crossGamma\", \"crossArrowed\", \"crossFitchy\", \"crossCercelee\", \"crossMoline\", \"crossAvellane\", \"crossErminee\", \"crossMaltese\", \"crossCeltic\", \"crossOccitan\", \"crossSaltire\", \"crossTau\"],\n}","export const shields = {\n  types: {basic: 10, regional: 2, historical: 1, specific: 1, banner: 1, simple: 2, fantasy: 1, middleEarth: 0},\n  basic: {heater: 12, spanish: 6, french: 1},\n  regional: {horsehead: 1, horsehead2: 1, polish: 1, hessen: 1, swiss: 1},\n  historical: {boeotian: 1, roman: 2, kite: 1, oldFrench: 5, renaissance: 2, baroque: 2},\n  specific: {targe: 1, targe2: 0, pavise: 5, wedged: 10},\n  banner: {flag: 1, pennon: 0, guidon: 0, banner: 0, dovetail: 1, gonfalon: 5, pennant: 0},\n  simple: {round: 12, oval: 6, vesicaPiscis: 1, square: 1, diamond: 2, no: 0},\n  fantasy: {fantasy1: 2, fantasy2: 2, fantasy3: 1, fantasy4: 1, fantasy5: 3},\n  middleEarth: {noldor: 1, gondor: 1, easterling: 1, erebor: 1, ironHills: 1, urukHai: 1, moriaOrc: 1}\n}\n\nexport const shieldPaths = {\n  heater: \"m25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z\",\n  spanish: \"m25,25 h150 v100 a75,75,0,0,1,-150,0 z\",\n  french: \"m 25,25 h 150 v 139.15 c 0,41.745 -66,18.15 -75,36.3 -9,-18.15 -75,5.445 -75,-36.3 v 0 z\",\n  horsehead: \"m 20,40 c 0,60 40,80 40,100 0,10 -4,15 -0.35,30 C 65,185.7 81,200 100,200 c 19.1,0 35.3,-14.6 40.5,-30.4 C 144.2,155 140,150 140,140 140,120 180,100 180,40 142.72,40 150,15 100,15 55,15 55,40 20,40 Z\",\n  horsehead2: \"M60 20c-5 20-10 35-35 55 25 35 35 65 30 100 20 0 35 10 45 26 10-16 30-26 45-26-5-35 5-65 30-100a87 87 0 01-35-55c-25 3-55 3-80 0z\",\n  polish: \"m 90.3,6.3 c -12.7,0 -20.7,10.9 -40.5,14 0,11.8 -4.9,23.5 -11.4,31.1 0,0 12.7,6 12.7,19.3 C 51.1,90.8 30,90.8 30,90.8 c 0,0 -3.6,7.4 -3.6,22.4 0,34.3 23.1,60.2 40.7,68.2 17.6,8 27.7,11.4 32.9,18.6 5.2,-7.3 15.3,-10.7 32.8,-18.6 17.6,-8 40.7,-33.9 40.7,-68.2 0,-15 -3.6,-22.4 -3.6,-22.4 0,0 -21.1,0 -21.1,-20.1 0,-13.3 12.7,-19.3 12.7,-19.3 C 155.1,43.7 150.2,32.1 150.2,20.3 130.4,17.2 122.5,6.3 109.7,6.3 102.5,6.3 100,10 100,10 c 0,0 -2.5,-3.7 -9.7,-3.7 z\",\n  hessen: \"M170 20c4 5 8 13 15 20 0 0-10 0-10 15 0 100-15 140-75 145-65-5-75-45-75-145 0-15-10-15-10-15l15-20c0 15 10-5 70-5s70 20 70 5z\",\n  swiss: \"m 25,20 c -0.1,0 25.2,8.5 37.6,8.5 C 75.1,28.5 99.1,20 100,20 c 0.6,0 24.9,8.5 37.3,8.5 C 149.8,28.5 174.4,20 175,20 l -0.3,22.6 C 173.2,160.3 100,200 100,200 100,200 26.5,160.9 25.2,42.6 Z\",\n  boeotian: \"M150 115c-5 0-10-5-10-15s5-15 10-15c10 0 7 10 15 10 10 0 0-30 0-30-10-25-30-55-65-55S45 40 35 65c0 0-10 30 0 30 8 0 5-10 15-10 5 0 10 5 10 15s-5 15-10 15c-10 0-7-10-15-10-10 0 0 30 0 30 10 25 30 55 65 55s55-30 65-55c0 0 10-30 0-30-8 0-5 10-15 10z\",\n  roman: \"m 160,170 c -40,20 -80,20 -120,0 V 30 C 80,10 120,10 160,30 Z\",\n  kite: \"m 53.3,46.4 c 0,4.1 1,12.3 1,12.3 7.1,55.7 45.7,141.3 45.7,141.3 0,0 38.6,-85.6 45.7,-141.2 0,0 1,-8.1 1,-12.3 C 146.7,20.9 125.8,0.1 100,0.1 74.2,0.1 53.3,20.9 53.3,46.4 Z\",\n  oldFrench: \"m25,25 h150 v75 a100,100,0,0,1,-75,100 a100,100,0,0,1,-75,-100 z\",\n  renaissance: \"M 25,33.9 C 33.4,50.3 36.2,72.9 36.2,81.7 36.2,109.9 25,122.6 25,141 c 0,29.4 24.9,44.1 40.2,47.7 15.3,3.7 29.3,0 34.8,11.3 5.5,-11.3 19.6,-7.6 34.8,-11.3 C 150.1,185 175,170.3 175,141 c 0,-18.4 -11.2,-31.1 -11.2,-59.3 0,-8.8 2.8,-31.3 11.2,-47.7 L 155.7,14.4 C 138.2,21.8 119.3,25.7 100,25.7 c -19.3,0 -38.2,-3.9 -55.7,-11.3 z\",\n  baroque: \"m 100,25 c 18,0 50,2 75,14 v 37 l -2.7,3.2 c -4.9,5.4 -6.6,9.6 -6.7,16.2 0,6.5 2,11.6 6.9,17.2 l 2.8,3.1 v 10.2 c 0,17.7 -2.2,27.7 -7.8,35.9 -5,7.3 -11.7,11.3 -32.3,19.4 -12.6,5 -20.2,8.8 -28.6,14.5 C 103.3,198 100,200 100,200 c 0,0 -2.8,-2.3 -6.4,-4.7 C 85.6,189.8 78,186 65,180.9 32.4,168.1 26.9,160.9 25.8,129.3 L 25,116 l 3.3,-3.3 c 4.8,-5.2 7,-10.7 7,-17.3 0,-6.8 -1.8,-11.1 -6.5,-16.1 L 25,76 V 39 C 50,27 82,25 100,25 Z\",\n  targe: \"m 20,35 c 15,0 115,-60 155,-10 -5,10 -15,15 -10,50 5,45 10,70 -10,90 C 125,195 75,195 50,175 25,150 30,130 35,85 50,95 65,85 65,70 65,50 50,45 40,50 30,55 27,65 30,70 23,73 20,70 14,70 11,60 20,45 20,35 Z\",\n  targe2: \"m 84,32.2 c 6.2,-1 19.5,-31.4 94.1,-20.2 -30.57,33.64 -21.66,67.37 -11.2,95 20.2,69.5 -41.17549,84.7 -66.88,84.7 C 74.32,191.7071 8.38,168.95 32,105.9 36.88,92.88 31,89 31,82.6 35.15,82.262199 56.79,86.17 56.5,69.8 56.20,52.74 42.2,47.9 25.9,55.2 25.9,51.4 39.8,6.7 84,32.2 Z\",\n  pavise: \"M95 7L39.9 37.3a10 10 0 00-5.1 9.5L46 180c.4 5.2 3.7 10 9 10h90c5.3 0 9.6-4.8 10-10l10.6-133.2a10 10 0 00-5-9.5L105 7c-4.2-2.3-6.2-2.3-10 0z\",\n  wedged: \"m 51.2,19 h 96.4 c 3.1,12.7 10.7,20.9 26.5,20.8 C 175.7,94.5 165.3,144.3 100,200 43.5,154.2 22.8,102.8 25.1,39.7 37,38.9 47.1,34.7 51.2,19 Z\",\n  round: \"m 185,100 a 85,85 0 0 1 -85,85 85,85 0 0 1 -85,-85 85,85 0 0 1 85,-85 85,85 0 0 1 85,85\",\n  oval: \"m 32.3,99.5 a 67.7,93.7 0 1 1 0,1.3 z\",\n  vesicaPiscis: \"M 100,0 C 63.9,20.4 41,58.5 41,100 c 0,41.5 22.9,79.6 59,100 36.1,-20.4 59,-58.5 59,-100 C 159,58.5 136.1,20.4 100,0 Z\",\n  square: \"M 25,25 H 175 V 175 H 25 Z\",\n  diamond: \"M 25,100 100,200 175,100 100,0 Z\",\n  no: \"m0,0 h200 v200 h-200 z\",\n  flag: \"M 10,40 h180 v120 h-180 Z\",\n  pennon: \"M 10,40 l190,60 -190,60 Z\",\n  guidon: \"M 10,40 h190 l-65,60 65,60 h-190 Z\",\n  banner: \"m 25,25 v 170 l 25,-40 25,40 25,-40 25,40 25,-40 25,40 V 25 Z\",\n  dovetail: \"m 25,25 v 175 l 75,-40 75,40 V 25 Z\",\n  gonfalon: \"m 25,25 v 125 l 75,50 75,-50 V 25 Z\",\n  pennant: \"M 25,15 100,200 175,15 Z\",\n  fantasy1: \"M 100,5 C 85,30 40,35 15,40 c 40,35 20,90 40,115 15,25 40,30 45,45 5,-15 30,-20 45,-45 20,-25 0,-80 40,-115 C 160,35 115,30 100,5 Z\",\n  fantasy2: \"m 152,21 c 0,0 -27,14 -52,-4 C 75,35 48,21 48,21 50,45 30,55 30,75 60,75 60,115 32,120 c 3,40 53,50 68,80 15,-30 65,-40 68,-80 -28,-5 -28,-45 2,-45 C 170,55 150,45 152,21 Z\",\n  fantasy3: \"M 167,67 C 165,0 35,0 33,67 c 32,-7 27,53 -3,43 -5,45 60,65 70,90 10,-25 75,-47.51058 70,-90 -30,10 -35,-50 -3,-43 z\",\n  fantasy4: \"M100 9C55 48 27 27 13 39c23 50 3 119 49 150 14 9 28 11 38 11s27-4 38-11c55-39 24-108 49-150-14-12-45 7-87-30z\",\n  fantasy5: \"M 100,0 C 75,25 30,25 30,25 c 0,69 20,145 70,175 50,-30 71,-106 70,-175 0,0 -45,0 -70,-25 z\",\n  noldor: \"m 55,75 h 2 c 3,-25 38,-10 3,20 15,50 30,75 40,105 10,-30 25,-55 40,-105 -35,-30 0,-45 3,-20 h 2 C 150,30 110,20 100,0 90,20 50,30 55,75 Z\",\n  gondor: \"m 100,200 c 15,-15 38,-35 45,-60 h 5 V 30 h -5 C 133,10 67,10 55,30 h -5 v 110 h 5 c 7,25 30,45 45,60 z\",\n  easterling: \"M 160,185 C 120,170 80,170 40,185 V 15 c 40,15 80,15 120,0 z\",\n  erebor: \"M25 135 V60 l22-13 16-37 h75 l15 37 22 13 v75l-22 18-16 37 H63l-16-37z\",\n  ironHills: \"m 30,25 60,-10 10,10 10,-10 60,10 -5,125 -65,50 -65,-50 z\",\n  urukHai: \"M 30,60 C 40,60 60,50 60,20 l -5,-3 45,-17 75,40 -5,5 -35,155 -5,-35 H 70 v 35 z\",\n  moriaOrc: \"M45 35c5 3 7 10 13 9h19c4-2 7-4 9-9 6 1 9 9 16 11 7-2 14 0 21 0 6-3 6-10 10-15 2-5 1-10-2-15-2-4-5-14-4-16 3 6 7 11 12 14 7 3 3 12 7 16 3 6 4 12 9 18 2 4 6 8 5 14 0 6-1 12 3 18-3 6-2 13-1 20 1 6-2 12-1 18 0 6-3 13 0 18 8 4 0 8-5 7-4 3-9 3-13 9-5 5-5 13-8 19 0 6 0 15-7 16-1 6-7 6-10 12-1-6 0-6-2-9l2-19c2-4 5-12-3-12-4-5-11-5-15 1l-13-18c-3-4-2 9-3 12 2 2-4-6-7-5-8-2-8 7-11 11-2 4-5 10-8 9 3-10 3-16 1-23-1-4 2-9-4-11 0-6 1-13-2-19-4-2-9-6-13-7V91c4-7-5-13 0-19-3-7 2-11 2-18-1-6 1-12 3-17v-1z\"\n}\n\nexport const shieldBox = {\n  heater: \"0 10 200 200\",\n  spanish: \"0 10 200 200\",\n  french: \"0 10 200 200\",\n\n  horsehead: \"0 10 200 200\",\n  horsehead2: \"0 10 200 200\",\n  polish: \"0 0 200 200\",\n  hessen: \"0 5 200 200\",\n  swiss: \"0 10 200 200\",\n\n  boeotian: \"0 0 200 200\",\n  roman: \"0 0 200 200\",\n  kite: \"0 0 200 200\",\n  oldFrench: \"0 10 200 200\",\n  renaissance: \"0 5 200 200\",\n  baroque: \"0 10 200 200\",\n\n  targe: \"0 0 200 200\",\n  targe2: \"0 0 200 200\",\n  pavise: \"0 0 200 200\",\n  wedged: \"0 10 200 200\",\n\n  flag: \"0 0 200 200\",\n  pennon: \"2.5 0 200 200\",\n  guidon: \"2.5 0 200 200\",\n  banner: \"0 10 200 200\",\n  dovetail: \"0 10 200 200\",\n  gonfalon: \"0 10 200 200\",\n  pennant: \"0 0 200 200\",\n\n  round: \"0 0 200 200\",\n  oval: \"0 0 200 200\",\n  vesicaPiscis: \"0 0 200 200\",\n  square: \"0 0 200 200\",\n  diamond: \"0 0 200 200\",\n  no: \"0 0 200 200\",\n\n  fantasy1: \"0 0 200 200\",\n  fantasy2: \"0 5 200 200\",\n  fantasy3: \"0 5 200 200\",\n  fantasy4: \"0 5 200 200\",\n  fantasy5: \"0 0 200 200\",\n\n  noldor: \"0 0 200 200\",\n  gondor: \"0 5 200 200\",\n  easterling: \"0 0 200 200\",\n  erebor: \"0 0 200 200\",\n  ironHills: \"0 5 200 200\",\n  urukHai: \"0 0 200 200\",\n  moriaOrc: \"0 0 200 200\"\n}\n\n// size modifier applied for charges, default is 1\nexport const shieldSize = {\n  horsehead: .9, horsehead2: .9, polish: .85, swiss: .95,\n  boeotian: .75, roman: .95, kite: .65, targe2: .9, pavise: .9, wedged: .95,\n  flag: .7, pennon: .5, guidon: .65, banner: .8, dovetail: .8, pennant: .6,\n  oval: .95, vesicaPiscis: .8, diamond: .8, no: 1.2,\n  fantasy1: .8, fantasy2: .7, fantasy3: .7, fantasy5: .9,\n  noldor: .5, gondor: .75, easterling: .8, erebor: .9, urukHai: .8, moriaOrc: .7\n}\n\nexport const shieldPositions = {\n  // shield-specific position: [x, y] (relative to center)\n  heater: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-32.25, 37.5], h: [0, 50], i: [32.25, 37.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-30, 30], n: [0, 42.5], o: [30, 30],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.2, -20], E: [66.2, -20],\n    J: [-55.5, 26], F: [55.5, 26],\n    I: [-33, 62], G: [33, 62],\n    H: [0, 89.5]\n  },\n  spanish: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.4, -20], E: [66.4, -20],\n    J: [-66.4, 26], F: [66.4, 26],\n    I: [-49, 70], G: [49, 70],\n    H: [0, 92]\n  },\n  french: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 65],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.4, -20], E: [66.4, -20],\n    J: [-66.4, 26], F: [66.4, 26],\n    I: [-65.4, 70], G: [65.4, 70],\n    H: [0, 89]\n  },\n  horsehead: {\n    a: [-43.75, -47.5], b: [0, -50], c: [43.75, -47.5],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    h: [0, 50],\n    y: [-50, -50], z: [0, 55],\n    j: [-35, -35], k: [0, -40], l: [35, -35],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-71, -52], B: [-24, -73], C: [24, -73], D: [71, -52],\n    K: [-62, -16], E: [62, -16],\n    J: [-39, 20], F: [39, 20],\n    I: [-33.5, 60], G: [33.5, 60],\n    H: [0, 91.5]\n  },\n  horsehead2: {\n    a: [-37.5, -47.5], b: [0, -50], c: [37.5, -47.5],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    g: [-35, 47.5], h: [0, 50], i: [35, 47.5],\n    y: [-50, -50], z: [0, 55],\n    j: [-30, -30], k: [0, -40], l: [30, -30],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-49, -39], B: [-22, -70], C: [22, -70], D: [49, -39],\n    K: [-51, -2], E: [51, -2],\n    J: [-38.5, 31], F: [38.5, 31],\n    I: [-35, 67], G: [35, 67],\n    H: [0, 85]\n  },\n  polish: {\n    a: [-35, -50], b: [0, -50], c: [35, -50],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-37.5, 50], h: [0, 50], i: [37.5, 50],\n    y: [-50, -50], z: [0, 65],\n    j: [-27.5, -27.5], k: [0, -45], l: [27.5, -27.5],\n    m: [-27.5, 27.5], n: [0, 45], o: [27.5, 27.5],\n    p: [-32.5, 0], q: [32.5, 0],\n    A: [-48, -52], B: [-23, -80], C: [23, -80], D: [48, -52],\n    K: [-47, -10], E: [47, -10],\n    J: [-62, 32], F: [62, 32],\n    I: [-37, 68], G: [37, 68],\n    H: [0, 86]\n  },\n  hessen: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 52.5],\n    j: [-40, -40], k: [0, -40], l: [40, -40],\n    m: [-40, 40], n: [0, 40], o: [40, 40],\n    p: [-40, 0], q: [40, 0],\n    A: [-69, -64], B: [-22, -76], C: [22, -76], D: [69, -64],\n    K: [-66.4, -20], E: [66.4, -20],\n    J: [-62, 26], F: [62, 26],\n    I: [-46, 70], G: [46, 70],\n    H: [0, 91.5]\n  },\n  swiss: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-32, 37.5], h: [0, 50], i: [32, 37.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-32, 32.5], n: [0, 42.5], o: [32, 32.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66], C: [22, -66], D: [66.2, -66.6],\n    K: [-63, -20], E: [63, -20],\n    J: [-50, 26], F: [50, 26],\n    I: [-29, 62], G: [29, 62],\n    H: [0, 89.5]\n  },\n  boeotian: {\n    a: [-37.5, -47.5], b: [0, -47.5], c: [37.5, -47.5],\n    d: [-25, 0], e: [0, 0], f: [25, 0],\n    g: [-37.5, 47.5], h: [0, 47.5], i: [37.5, 47.5],\n    y: [-48, -48], z: [0, 60],\n    j: [-32.5, -37.5], k: [0, -45], l: [32.5, -37.5],\n    m: [-32.5, 37.5], n: [0, 45], o: [32.5, 37.5],\n    p: [-20, 0], q: [20, 0],\n    A: [-45, -55], B: [-20, -77], C: [20, -77], D: [45, -55],\n    K: [-59, -25], E: [59, -25],\n    J: [-58, 27], F: [58, 27],\n    I: [-39, 63], G: [39, 63],\n    H: [0, 81]\n  },\n  roman: {\n    a: [-40, -52.5], b: [0, -52.5], c: [40, -52.5],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 52.5], h: [0, 52.5], i: [40, 52.5],\n    y: [-42.5, -52.5], z: [0, 65],\n    j: [-30, -37.5], k: [0, -37.5], l: [30, -37.5],\n    m: [-30, 37.5], n: [0, 37.5], o: [30, 37.5],\n    p: [-30, 0], q: [30, 0],\n    A: [-51.5, -65], B: [-17, -75], C: [17, -75], D: [51.5, -65],\n    K: [-51.5, -21], E: [51.5, -21],\n    J: [-51.5, 21], F: [51.5, 21],\n    I: [-51.5, 65], G: [51.5, 65],\n    H: [-17, 75], L: [17, 75]\n  },\n  kite: {\n    b: [0, -65], e: [0, -15], h: [0, 35],\n    z: [0, 35], k: [0, -50], n: [0, 20],\n    p: [-20, -15], q: [20, -15],\n    A: [-38, -52], B: [-29, -78], C: [29, -78], D: [38, -52],\n    K: [-33, -20], E: [33, -20],\n    J: [-25, 11], F: [25, 11],\n    I: [-15, 42], G: [15, 42],\n    H: [0, 73], L: [0, -91]\n  },\n  oldFrench: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-37.5, 50], h: [0, 50], i: [37.5, 50],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 45], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.2, -20], E: [66.2, -20],\n    J: [-64, 26], F: [64, 26],\n    I: [-45, 62], G: [45, 62], \n    H: [0, 91],\n  },\n  renaissance: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-41.5, 0], e: [0, 0], f: [41.5, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-61, -55], B: [-23, -67], C: [23, -67], D: [61, -55],\n    K: [-55, -11], E: [55, -11],\n    J: [-65, 31], F: [65, 31],\n    I: [-45, 76], G: [45, 76],\n    H: [0, 87]\n  },\n  baroque: {\n    a: [-43.75, -45], b: [0, -45], c: [43.75, -45],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 60],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-65, -54.5], B: [-22, -65], C: [22, -65], D: [65, -54.5],\n    K: [-58.5, -15], E: [58.5, -15],\n    J: [-65, 31], F: [66, 31],\n    I: [-35, 73], G: [35, 73],\n    H: [0, 89]\n  },\n  targe: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-40, -40], k: [0, -40], l: [40, -40],\n    m: [-40, 40], n: [0, 40], o: [40, 40],\n    p: [-32.5, 0], q: [32.5, 0],\n    A: [-66.2, -60], B: [-22, -77], C: [22, -86], D: [60, -66.6],\n    K: [-28, -20], E: [57, -20],\n    J: [-61, 26], F: [61, 26],\n    I: [-49, 63], G: [49, 59],\n    H: [0, 80]\n  },\n  targe2: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 60],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-32.5, 0], q: [32.5, 0],\n    A: [-55, -59], B: [-15, -59], C: [24, -79], D: [51, -58],\n    K: [-40, -14], E: [51, -14],\n    J: [-64, 26], F: [62, 26],\n    I: [-46, 66], G: [48, 67],\n    H: [0, 83]\n  },\n  pavise: {\n    a: [-40, -52.5], b: [0, -52.5], c: [40, -52.5],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 52.5], h: [0, 52.5], i: [40, 52.5],\n    y: [-42.5, -52.5], z: [0, 60],\n    j: [-30, -35], k: [0, -37.5], l: [30, -35],\n    m: [-30, 35], n: [0, 37.5], o: [30, 35],\n    p: [-30, 0], q: [30, 0],\n    A: [-57, -55], B: [-22, -74], C: [22, -74], D: [57, -55],\n    K: [-54, -11], E: [54, -11],\n    J: [-50, 36], F: [50, 36],\n    I: [-46, 81], G: [46, 81],\n    H: [0, 81]\n  },\n  wedged: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-32.25, 37.5], h: [0, 50], i: [32.25, 37.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-32.5, 32.5], n: [0, 42.5], o: [32.5, 32.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66, -53], B: [-22, -72.5], C: [22, -72.5], D: [66, -53],\n    K: [-62.6, -13], E: [62.6, -13],\n    J: [-50, 26], F: [50, 26],\n    I: [-27, 62], G: [27, 62],\n    H: [0, 87]\n  },\n  flag: {\n    a: [-60, -40], b: [0, -40], c: [60, -40],\n    d: [-60, 0], e: [0, 0], f: [60, 0],\n    g: [-60, 40], h: [0, 40], i: [60, 40],\n    y: [-60, -42.5], z: [0, 40],\n    j: [-45, -30], k: [0, -30], l: [45, -30],\n    m: [-45, 30], n: [0, 30], o: [45, 30],\n    p: [-45, 0], q: [45, 0],\n    A: [-81, -51], B: [-27, -51], C: [27, -51], D: [81, -51],\n    K: [-81, -17], E: [81, -17],\n    J: [-81, 17], F: [81, 17],\n    I: [-81, 51], G: [81, 51],\n    H: [-27, 51], L: [27, 51]\n  },\n  pennon: {\n    a: [-75, -40],\n    d: [-75, 0], e: [-25, 0], f: [25, 0],\n    g: [-75, 40],\n    y: [-70, -42.5],\n    j: [-60, -30],\n    m: [-60, 30],\n    p: [-60, 0], q: [5, 0],\n    A: [-81, -48], B: [-43, -36], C: [-4.5, -24], D: [33, -12],\n    E: [72, 0],\n    F: [33, 12], G: [-4.5, 24], H: [-43, 36], I: [-81, 48], \n    J: [-81, 17], K: [-81, -17]\n  },\n  guidon: {\n    a: [-60, -40], b: [0, -40], c: [60, -40],\n    d: [-60, 0], e: [0, 0],\n    g: [-60, 40], h: [0, 40], i: [60, 40],\n    y: [-60, -42.5], z: [0, 40],\n    j: [-45, -30], k: [0, -30], l: [45, -30],\n    m: [-45, 30], n: [0, 30], o: [45, 30],\n    p: [-45, 0],\n    A: [-81, -51], B: [-27, -51], C: [27, -51], D: [78, -51],\n    K: [-81, -17], E: [40.5, -17],\n    J: [-81, 17], F: [40.5, 17],\n    I: [-81, 51], G: [78, 51],\n    H: [-27, 51], L: [27, 51]\n  },\n  banner: {\n    a: [-50, -50], b: [0, -50], c: [50, -50],\n    d: [-50, 0], e: [0, 0], f: [50, 0],\n    g: [-50, 40], h: [0, 40], i: [50, 40],\n    y: [-50, -50], z: [0, 40],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 27.5], n: [0, 27.5], o: [37.5, 27.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -20], E: [66.5, -20],\n    J: [-66.5, 26], F: [66.5, 26],\n    I: [-66.5, 66.5], G: [66.5, 66.5],\n    H: [-25, 75], L: [25, 75]\n  },\n  dovetail: {\n    a: [-49.75, -50], b: [0, -50], c: [49.75, -50],\n    d: [-49.75, 0], e: [0, 0], f: [49.75, 0],\n    g: [-49.75, 50], i: [49.75, 50],\n    y: [-50, -50], z: [0, 40],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 32.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -16.5], E: [66.5, -16.5],\n    J: [-66.5, 34.5], F: [66.5, 34.5],\n    I: [-66.5, 84.5], G: [66.5, 84.5],\n    H: [-25, 64], L: [25, 64]\n  },\n  gonfalon: {\n    a: [-49.75, -50], b: [0, -50], c: [49.75, -50],\n    d: [-49.75, 0], e: [0, 0], f: [49.75, 0],\n    g: [-49.75, 50], h: [0, 50], i: [49.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -20], E: [66.5, -20],\n    J: [-66.5, 26], F: [66.5, 26],\n    I: [-40, 63], G: [40, 63],\n    H: [0, 88]\n  },\n  pennant: {\n    a: [-45, -50], b: [0, -50], c: [45, -50],\n    e: [0, 0], h: [0, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-32.5, -37.5], k: [0, -37.5], l: [32.5, -37.5],\n    n: [0, 37.5],\n    A: [-60, -76], B: [-22, -76], C: [22, -76], D: [60, -76],\n    K: [-46, -38], E: [46, -38],\n    J: [-31, 0], F: [31, 0],\n    I: [-16, 38], G: [16, 38],\n    H: [0, 76]\n  },\n  round: {\n    a: [-40, -40], b: [0, -40], c: [40, -40],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 40], h: [0, 40], i: [40, 40],\n    y: [-48, -48], z: [0, 57.5],\n    j: [-35.5, -35.5], k: [0, -37.5], l: [35.5, -35.5],\n    m: [-35.5, 35.5], n: [0, 37.5], o: [35.5, 35.5],\n    p: [-36.5, 0], q: [36.5, 0],\n    A: [-59, -48], B: [-23, -73], C: [23, -73], D: [59, -48],\n    K: [-76, -10], E: [76, -10],\n    J: [-70, 31], F: [70, 31],\n    I: [-42, 64], G: [42, 64],\n    H: [0, 77]\n  },\n  oval: {\n    a: [-37.5, -50], b: [0, -50], c: [37.5, -50],\n    d: [-43, 0], e: [0, 0], f: [43, 0],\n    g: [-37.5, 50], h: [0, 50], i: [37.5, 50],\n    y: [-48, -48], z: [0, 60],\n    j: [-35.5, -37.5], k: [0, -37.5], l: [35.5, -37.5],\n    m: [-35.5, 37.5], n: [0, 50], o: [35.5, 37.5],\n    p: [-36.5, 0], q: [36.5, 0],\n    A: [-48, -48], B: [-23, -78], C: [23, -78], D: [48, -48],\n    K: [-59, -10], E: [59, -10],\n    J: [-55, 31], F: [55, 31],\n    I: [-36, 68], G: [36, 68],\n    H: [0, 85]\n  },\n  vesicaPiscis: {\n    a: [-32, -37], b: [0, -50], c: [32, -37],\n    d: [-32, 0], e: [0, 0], f: [32, 0],\n    g: [-32, 37], h: [0, 50], i: [32, 37],\n    y: [-50, -50], z: [0, 62],\n    j: [-27.5, -27.5], k: [0, -37], l: [27.5, -27.5],\n    m: [-27.5, 27.5], n: [0, 42], o: [27.5, 27.5],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-45, -32], B: [-29, -63], C: [29, -63], D: [45, -32],\n    K: [-50, 0], E: [50, 0],\n    J: [-45, 32], F: [45, 32],\n    I: [-29, 63], G: [29, 63],\n    H: [0, 89], L: [0, -89]\n  },\n  square: {\n    a: [-49.75, -50], b: [0, -50], c: [49.75, -50],\n    d: [-49.75, 0], e: [0, 0], f: [49.75, 0],\n    g: [-49.75, 50], h: [0, 50], i: [49.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -20], E: [66.5, -20],\n    J: [-66.5, 26], F: [66.5, 26],\n    I: [-66.5, 66.5], G: [66.5, 66.5],\n    H: [-22, 66.5], L: [22, 66.5]\n  },\n  diamond: {\n    a: [-32, -37], b: [0, -50], c: [32, -37],\n    d: [-43, 0], e: [0, 0], f: [43, 0],\n    g: [-32, 37], h: [0, 50], i: [32, 37],\n    y: [-50, -50], z: [0, 62],\n    j: [-27.5, -27.5], k: [0, -37], l: [27.5, -27.5],\n    m: [-27.5, 27.5], n: [0, 42], o: [27.5, 27.5],\n    p: [-37, 0], q: [37, 0],\n    A: [-43, -28], B: [-22, -56], C: [22, -56], D: [43, -28],\n    K: [-63, 0], E: [63, 0],\n    J: [-42, 28], F: [42, 28],\n    I: [-22, 56], G: [22, 56],\n    H: [0, 83], L: [0, -82]\n  },\n  no: {\n    a: [-66.5, -66.5], b: [0, -66.5], c: [66.5, -66.5],\n    d: [-66.5, 0], e: [0, 0], f: [66.5, 0],\n    g: [-66.5, 66.5], h: [0, 66.5], i: [66.5, 66.5],\n    y: [-50, -50], z: [0, 75],\n    j: [-50, -50], k: [0, -50], l: [50, -50],\n    m: [-50, 50], n: [0, 50], o: [50, 50],\n    p: [-50, 0], q: [50, 0],\n    A: [-91.5, -91.5], B: [-30.5, -91.5], C: [30.5, -91.5], D: [91.5, -91.5],\n    K: [-91.5, -30.5], E: [91.5, -30.5],\n    J: [-91.5, 30.5], F: [91.5, 30.5],\n    I: [-91.5, 91.5], G: [91.5, 91.5],\n    H: [-30.5, 91.5], L: [30.5, 91.5]\n  },\n  fantasy1: {\n    a: [-45, -45], b: [0, -50], c: [45, -45],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-36, 42.5], h: [0, 50], i: [36, 42.5],\n    y: [-50, -50], z: [0, 60],\n    j: [-37, -37], k: [0, -40], l: [37, -37],\n    m: [-32, 32], n: [0, 40], o: [32, 32],\n    p: [-28.5, 0], q: [28.5, 0],\n    A: [-66, -55], B: [-22, -67], C: [22, -67], D: [66, -55],\n    K: [-53, -20], E: [53, -20],\n    J: [-46, 26], F: [46, 26],\n    I: [-29, 62], G: [29, 62],\n    H: [0, 84]\n  },\n  fantasy2: {\n    a: [-45, -45], b: [0, -45], c: [45, -45],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    g: [-36, 42.5], h: [0, 45], i: [36, 42.5],\n    y: [-50, -50], z: [0, 55],\n    j: [-32.5, -32.5], k: [0, -40], l: [32.5, -32.5],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-58, -35], B: [-44, -67], C: [44, -67], D: [58, -35],\n    K: [-39, -5], E: [39, -5],\n    J: [-57, 26], F: [57, 26],\n    I: [-32, 58], G: [32, 58],\n    H: [0, 83], L: [0, -72]\n  },\n  fantasy3: {\n    a: [-40, -45], b: [0, -50], c: [40, -45],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    g: [-36, 42.5], h: [0, 50], i: [36, 42.5],\n    y: [-50, -50], z: [0, 55],\n    j: [-32.5, -32.5], k: [0, -40], l: [32.5, -32.5],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-56, -42], B: [-22, -72], C: [22, -72], D: [56, -42],\n    K: [-37, -11], E: [37, -11],\n    J: [-60, 20], F: [60, 20],\n    I: [-34, 56], G: [34, 56],\n    H: [0, 83]\n  },\n  fantasy4: {\n    a: [-50, -45], b: [0, -50], c: [50, -45],\n    d: [-45, 0], e: [0, 0], f: [45, 0],\n    g: [-40, 45], h: [0, 50], i: [40, 45],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -45], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 45], o: [37.5, 37.5],\n    p: [-35, 0], q: [35, 0],\n    A: [-75, -56], B: [-36, -61], C: [36, -61], D: [75, -56],\n    K: [-67, -12], E: [67, -12],\n    J: [-63, 32], F: [63, 32],\n    I: [-42, 75], G: [42, 75],\n    H: [0, 91.5], L: [0, -79]\n  },\n  fantasy5: {\n    a: [-45, -50], b: [0, -50], c: [45, -50],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-30, 45], h: [0, 50], i: [30, 45],\n    y: [-50, -50], z: [0, 60],\n    j: [-37, -37], k: [0, -40], l: [37, -37],\n    m: [-32, 32], n: [0, 40], o: [32, 32],\n    p: [-28.5, 0], q: [28.5, 0],\n    A: [-61, -67], B: [-22, -76], C: [22, -76], D: [61, -67],\n    K: [-58, -25], E: [58, -25],\n    J: [-48, 20], F: [48, 20],\n    I: [-28.5, 60], G: [28.5, 60],\n    H: [0, 89]\n  },\n  noldor: {\n    b: [0, -65], e: [0, -15], h: [0, 35],\n    z: [0, 35], k: [0, -50], n: [0, 30],\n    p: [-20, -15], q: [20, -15],\n    A: [-34, -47], B: [-20, -68], C: [20, -68], D: [34, -47],\n    K: [-18, -20], E: [18, -20],\n    J: [-26, 11], F: [26, 11],\n    I: [-14, 43], G: [14, 43],\n    H: [0, 74], L: [0, -85]\n  },\n  gondor: {\n    a: [-32.5, -50], b: [0, -50], c: [32.5, -50],\n    d: [-32.5, 0], e: [0, 0], f: [32.5, 0],\n    g: [-32.5, 50], h: [0, 50], i: [32.5, 50],\n    y: [-42.5, -52.5], z: [0, 65],\n    j: [-25, -37.5], k: [0, -37.5], l: [25, -37.5],\n    m: [-25, 30], n: [0, 37.5], o: [25, 30],\n    p: [-25, 0], q: [25, 0],\n    A: [-42, -52], B: [-17, -75], C: [17, -75], D: [42, -52],\n    K: [-42, -15], E: [42, -15],\n    J: [-42, 22], F: [42, 22],\n    I: [-26, 60], G: [26, 60],\n    H: [0, 87]\n  },\n  easterling: {\n    a: [-40, -47.5], b: [0, -47.5], c: [40, -47.5],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 47.5], h: [0, 47.5], i: [40, 47.5],\n    y: [-42.5, -52.5], z: [0, 65],\n    j: [-30, -37.5], k: [0, -37.5], l: [30, -37.5],\n    m: [-30, 37.5], n: [0, 37.5], o: [30, 37.5],\n    p: [-30, 0], q: [30, 0],\n    A: [-52, -72], B: [0, -65], D: [52, -72],\n    K: [-52, -24], E: [52, -24],\n    J: [-52, 24], F: [52, 24],\n    I: [-52, 72], G: [52, 72],\n    H: [0, 65]\n  },\n  erebor: {\n    a: [-40, -40], b: [0, -55], c: [40, -40],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 40], h: [0, 55], i: [40, 40],\n    y: [-50, -50], z: [0, 50],\n    j: [-35, -35], k: [0, -45], l: [35, -35],\n    m: [-35, 35], n: [0, 45], o: [35, 35],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-47, -46], B: [-22, -81], C: [22, -81], D: [47, -46],\n    K: [-66.5, 0], E: [66.5, 0],\n    J: [-47, 46], F: [47, 46],\n    I: [-22, 81], G: [22, 81]\n  },\n  ironHills: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.25, 0], e: [0, 0], f: [43.25, 0],\n    g: [-42.5, 42.5], h: [0, 50], i: [42.5, 42.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-32.5, -32.5], k: [0, -40], l: [32.5, -32.5],\n    m: [-32.5, 32.5], n: [0, 40], o: [32.5, 32.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-61, -67], B: [-22, -74], C: [22, -74], D: [61, -67],\n    K: [-59, -20], E: [59, -20],\n    J: [-57, 26], F: [57, 26],\n    I: [-33, 64], G: [33, 64],\n    H: [0, 88]\n  },\n  urukHai: {\n    a: [-40, -45], b: [0, -45], c: [40, -45],\n    d: [-36, 0], e: [0, 0], f: [36, 0],\n    g: [-32.25, 40], h: [0, 40], i: [32.25, 40],\n    y: [-50, -50], z: [0, 40],\n    j: [-32.5, -32.5], k: [0, -37.5], l: [32.5, -32.5],\n    m: [-27.5, 27.5], n: [0, 32.5], o: [27.5, 27.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-31, -79], B: [-1, -90], C: [31, -74], D: [61, -57],\n    K: [-55, -19], E: [53, -19],\n    J: [-45, 19], F: [45, 19],\n    I: [-33, 57], G: [35, 57],\n    H: [0, 57], L: [-39, -50]\n  },\n  moriaOrc: {\n    a: [-37.5, -37.5], b: [0, -37.5], c: [37.5, -37.5],\n    d: [-37.5, 0], e: [0, 0], f: [37.5, 0],\n    g: [-37.5, 37.5], h: [0, 37.5], i: [37.5, 37.5],\n    y: [-50, -50], z: [0, 40],\n    j: [-30, -30], k: [0, -30], l: [30, -30],\n    m: [-30, 30], n: [0, 30], o: [30, 30],\n    p: [-30, 0], q: [30, 0],\n    A: [-48, -48], B: [-16, -50], C: [16, -46], D: [39, -61],\n    K: [-52, -19], E: [52, -26],\n    J: [-42, 9], F: [52, 9],\n    I: [-31, 40], G: [40, 43],\n    H: [4, 47]\n  }\n}","export function ra(array) {\n  return array[Math.floor(Math.random() * array.length)];\n}\n\n// return random value from weighted array\nexport function rw(object) {\n  if (!object.array) {\n\n    const array = [];\n    for (const key in object) {\n      for (let i = 0; i < object[key]; i++) {\n        array.push(key);\n      }\n    }\n\n    Object.defineProperty(object, \"array\", {enumerable: false, configurable: true, writable: false, value: array});\n  }\n\n  return object.array[Math.floor(Math.random() * object.array.length)];\n}\n\nexport function P(probability) {\n  return Math.random() < probability;\n}\n\nexport function camelize(str) {\n  return str\n    .toLowerCase()\n    .replace(/\\.[^/.]+$/, \"\") // remove extension\n    .replace(/[()]/g, \"\") // remove parentheses\n    .replace(/[^a-zA-Z0-9]+(.)/g, (m, c) => c.toUpperCase())\n    .replace(/^[0-9]/, \"_\"); // first char should not be a number\n}","import { writable } from 'svelte/store';\nimport { defaultTinctures, defaultColors } from './dataModel';\nimport { shields } from './shields';\nimport { ra, rw } from '../scripts/utils';\n\nconst options = defineInitialOptions();\nexport const size = writable(options.size);\nexport const grad = writable(options.grad);\nexport const diaper = writable(options.diaper);\nexport const shield = writable(options.shield);\nexport const colors = writable(options.colors);\nexport const tinctures = writable(options.tinctures);\nexport const background = writable(options.background);\nexport const scale = writable(options.scale);\nexport const border = writable(options.border);\nexport const borderWidth = writable(options.borderWidth);\n\nexport const grid = writable(options.grid);\nexport const showGrid = writable(options.showGrid);\n\nexport const history = writable([]);\nexport const matrices = writable([]);\nexport const matrix = writable(0);\nexport const state = writable({ edit: 0, about: 0, i: 0 });\nexport const message = writable(null);\n\nconst createChangesTracker = () => {\n  const { subscribe, set, update } = writable([undefined, -1]);\n  let history = [], position = -1;\n\n  return {\n    subscribe,\n    refresh: () => set([history[position], position]), // trigger coa refresh\n    length: () => history.length,\n    reset: () => {\n      history = [], position = -1;\n      set([undefined, -1])\n    },\n    add(value) {\n      if (value === history[position]) return; // no change\n      if (position < history.length - 1) history = history.slice(0, position + 1); // cut future history\n      history.push(value);\n      position += 1;\n      set([history[position], position])\n    },\n    undo: () => update(() => {\n      if (position > 0) position -= 1;\n      return [history[position], position];\n    }),\n    redo: () => update(() => {\n      if (position < history.length - 1) position += 1;\n      return [history[position], position];\n    })\n  }\n}\nexport const changes = createChangesTracker();\n\nfunction defineInitialOptions() {\n  const stored = key => {\n    const value = localStorage.getItem(key);\n    if (value === \"null\") return null;\n    return value;\n  };\n  const storedObj = key => localStorage.getItem(key) ? JSON.parse(localStorage.getItem(key)) : null;\n  const getShieldFromURL = () => {\n    const coaParam = (new URL(window.location)).searchParams.get(\"coa\");\n    if (!coaParam) return null;\n    const coa = JSON.parse(coaParam);\n    return coa?.shield;\n  }\n\n  const size = +stored(\"size\") || 200;\n  const diaper = stored(\"diaper\") || \"no\";\n  const grad = stored(\"grad\") || ra([\"luster\", \"spotlight\", \"backlight\"]);\n  const shield = getShieldFromURL() || stored(\"shield\") || rw(shields[rw(shields.types)]);\n  const colors = storedObj(\"colors\") || JSON.parse(JSON.stringify(defaultColors));\n  const tinctures = storedObj(\"tinctures\") || JSON.parse(JSON.stringify(defaultTinctures));\n  const border = stored(\"border\") || \"#333333\";\n  const borderWidth = +stored(\"borderWidth\") || 1;\n  const background = stored(\"background\") || \"#333333\";\n  const scale = +stored(\"scale\") || 2;\n\n  const grid = +stored(\"grid\") || 1;\n  const showGrid = storedObj(\"showGrid\") || 0;\n\n  return { size, diaper, grad, shield, colors, tinctures, border, borderWidth, background, scale, grid, showGrid };\n}","import { get } from 'svelte/store';\nimport { scale, grad, diaper } from '../data/stores';\n\nexport async function download(i, format = \"png\") {\n  const coas = i || i === 0 ? [document.getElementById(\"coa\" + i)] : document.querySelectorAll(\"svg.coa\");\n  let {width, height} = coas[0].getBoundingClientRect();\n  const numberX = coas.length > 1 ? Math.floor(window.innerWidth / width) : 1;\n  const numberY = coas.length > 1 ? Math.ceil(coas.length / numberX) : 1;\n\n  const scaleValue = get(scale);\n  width = Math.round(width * scaleValue);\n  height = Math.round(height * scaleValue);\n\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  canvas.width = width * numberX;\n  canvas.height = height * numberY;\n\n  let loaded = 0;\n  coas.forEach(async function (svg, i) {\n    const url = await getURL(svg, width, height);\n    format === \"svg\" ? downloadVector(url) : downloadRaster(url, i);\n  });\n\n  function downloadVector(url) {\n    const link = document.createElement(\"a\");\n    link.download = `armoria_${getTimestamp()}.svg`;\n    link.href = url;\n    link.click();\n    window.setTimeout(() => window.URL.revokeObjectURL(URL), 5000);\n  }\n\n  function downloadRaster(url, i) {\n    const img = new Image();\n    img.src = url;\n    img.onload = () => {\n      URL.revokeObjectURL(url);\n      ctx.drawImage(img, i % numberX * width, Math.floor(i / numberX) * height, width, height);\n      loaded++;\n      if (loaded === coas.length) drawCanvas(canvas, format);\n    }\n  }\n}\n\nasync function getURL(svg, width, height) {\n  const addedElements = {};\n  const clone = svg.cloneNode(true); // clone svg\n  clone.setAttribute(\"width\", width);\n  clone.setAttribute(\"height\", height);\n  clone.removeAttribute(\"class\");\n  clone.removeAttribute(\"id\");\n  const d = clone.getElementsByTagName(\"defs\")[0];\n\n  // remove grid if any\n  const grid = clone.getElementById(\"grid\");\n  const gridPattern = clone.getElementById(\"gridPattern\");\n  if (grid) grid.remove();\n  if (gridPattern) gridPattern.remove();\n\n  const gr = get(grad), di = get(diaper);\n  if (gr && gr !== \"no\") d.insertAdjacentHTML(\"beforeend\", defs.getElementById(gr).outerHTML);\n  if (di && di !== \"no\") d.insertAdjacentHTML(\"beforeend\", defs.getElementById(di).outerHTML);\n  clone.querySelectorAll(\".charge[charge]\").forEach(el => {\n    const charge = el.getAttribute(\"charge\");\n    if (addedElements[charge]) return;\n    d.insertAdjacentHTML(\"beforeend\", defs.getElementById(charge).outerHTML);\n    addedElements[charge] = true;\n  });\n  const fieldPattern = clone.getElementById(\"field\").getAttribute(\"fill\").split(\"(#\")[1]?.split(\")\")[0];\n  if (fieldPattern) addPattern(fieldPattern, d);\n  const divisionPattern = clone.getElementById(\"division\")?.querySelector(\"rect\").getAttribute(\"fill\").split(\"(#\")[1]?.split(\")\")[0];\n  if (divisionPattern) addPattern(divisionPattern, d);\n\n  function addPattern(pattern, d) {\n    if (addedElements[pattern]) return;\n    d.insertAdjacentHTML(\"beforeend\", document.getElementById(pattern).outerHTML);\n  \n    if (pattern.slice(0, 4) === \"semy\") {\n      const charge = pattern.match(/semy_of_(.*?)-/)[1];\n      if (!addedElements[charge]) {\n        d.insertAdjacentHTML(\"beforeend\", document.getElementById(charge).outerHTML);\n        addedElements[charge] = true;\n      }\n    }\n    addedElements[pattern] = true;\n  }\n\n  const serialized = (new XMLSerializer()).serializeToString(clone);\n  const blob = new Blob([serialized], { type: 'image/svg+xml;charset=utf-8' });\n  const url = window.URL.createObjectURL(blob);\n  window.setTimeout(() => window.URL.revokeObjectURL(url), 6000);\n  return url;\n}\n\nfunction drawCanvas(canvas, format) {\n  const link = document.createElement(\"a\");\n  link.download = `armoria_${getTimestamp()}.${format}`;\n\n  const URL = canvas.toDataURL(\"image/\" + format, .92);\n  link.href = URL;\n  link.click();\n\n  setTimeout(function() {\n    canvas.remove();\n    window.URL.revokeObjectURL(link.href);\n  }, 5000);\n}\n\nfunction getTimestamp() {\n  const formatTime = time => time < 10 ? \"0\" + time : time;\n  const date = new Date();\n  const year = date.getFullYear();\n  const month = formatTime(date.getMonth() + 1);\n  const day = formatTime(date.getDate());\n  const hour = formatTime(date.getHours());\n  const minutes = formatTime(date.getMinutes());\n  const seconds = formatTime(date.getSeconds());\n  return [year, month, day, hour, minutes, seconds].join('-');\n}\n","<script>\n  import {state, matrix, changes, message} from './../data/stores';\n  import {download} from '../scripts/download';\n  const touch = {startX:0, startY: 0};\n\n  // prevent unwanted refresh\n  if (location.host === \"azgaar.github.io\" && !navigator.userAgent.includes(\"Electron\")) {\n    window.onbeforeunload = () => \"Are you sure you want to navigate away?\";\n  }\n  \n  // keyboard shortcuts\n  function handleKeydown(event) {\n    const code = event.code;\n    const ctrl = event.ctrlKey;\n    const reserved = [\"Backspace\", \"Enter\", \"KeyZ\", \"KeyX\", \"KeyS\", \"KeyP\", \"KeyJ\", \"F1\", \"Escape\"];\n    if (!ctrl && !reserved.includes(code)) return;\n\n    const active = document.activeElement.tagName;\n    if (active === \"INPUT\" || active === \"SELECT\" || active === \"TEXTAREA\") return;\n\n    event.preventDefault();\n    if (code === \"Backspace\" && $matrix > 0) $matrix -= 1; else // Rollback\n    if (code === \"Enter\") $matrix += 1; else // Reroll\n    if (code === \"KeyZ\") changes.undo(); else // Undo\n    if (code === \"KeyX\") changes.redo(); else // Redo\n    if (ctrl && code === \"KeyS\") download(null, \"svg\"); else // Download SVG\n    if (ctrl && code === \"KeyP\") download(null, \"png\"); else // Download PNG\n    if (ctrl && code === \"KeyJ\") download(null, \"jpeg\"); else // Download JPEG\n    if (code === \"F1\") $state.about = !$state.about; // About\n    if (code === \"Escape\") close() // Close all windows\n\n    function close() {\n      $state.about = 0;\n      $state.raster = 0;\n      $state.vector = 0;\n      $state.tinctures = 0;\n      $state.edit = 0;\n      $message = null;\n    }\n  }\n\n  function handleTouchStart(e) {\n    touch.startX = e.changedTouches[0].screenX;\n    touch.startY = e.changedTouches[0].screenY;\n  }\n\n  function handleTouchEnd(e) {\n    const menu = document.getElementById(\"menu\");\n    const navbar = document.getElementById(\"navbar\");\n    if (menu?.contains(e.target)) return; // cancel touch event if start area is menu\n    if (navbar?.contains(e.target)) return; // cancel touch event if start area is nav bar\n\n    const diffX = e.changedTouches[0].screenX - touch.startX;\n    const diffY = e.changedTouches[0].screenY - touch.startY;\n    const ratioX = Math.abs(diffX / diffY);\n    const ratioY = Math.abs(diffY / diffX);\n    const absDiff = Math.abs(ratioX > ratioY ? diffX : diffY);\n\n    if (absDiff < 50) return; // ignore small movements\n\n    if (ratioX > ratioY) diffX >= 0 ? swipeRight() : swipeLeft();\n    else diffY >= 0 ? swipeDown() : swipeUp();\n  }\n\n  function swipeRight() {\n    if ($state.edit) changes.redo();\n    else $matrix += 1;\n  }\n\n  function swipeDown() {\n    $matrix += 1;\n  }\n\n  function swipeLeft() {\n    if ($state.edit) changes.undo();\n    else if ($matrix > 0) $matrix -= 1;\n  }\n\n  function swipeUp() {\n    if ($matrix > 0) $matrix -= 1;\n  }\n</script>\n\n<svelte:window on:keydown={handleKeydown} on:touchstart={handleTouchStart} on:touchend={handleTouchEnd}/>","export function tooltip(element) {\n  const touch = 'ontouchstart' in window;\n  let div, title, limit;\n\n  function mouseEnter() {\n    const oldTips = document.getElementsByClassName(\"tooltip\");\n    for (const tip of oldTips) {\n      tip.remove();\n    }\n\n    title = element.getAttribute(\"title\");\n    element.removeAttribute(\"title\");\n\n    const gesture = element.getAttribute(\"gesture\");\n    const hotkey = element.getAttribute(\"hotkey\");\n\n    div = document.createElement(\"div\");\n    div.textContent = title;\n    if (touch && gesture) div.textContent += \". Gesture: \" + gesture;\n    if (!touch && hotkey) div.textContent += \". Hotkey: \" + hotkey;\n    div.className = \"tooltip\";\n    document.body.appendChild(div);\n\n    const bbox = div.getBoundingClientRect();\n    limit = [window.innerWidth - bbox.width, window.innerHeight - bbox.height];\n    setTimeout(() => mouseLeave(), 5000); // remove in 5 seconds\n  }\n\n  function mouseMove(event) {\n    div.style.left = `${Math.min(event.pageX + 10, limit[0])}px`;\n    div.style.top = `${Math.min(event.pageY + 10, limit[1])}px`;\n  }\n\n  function mouseLeave() {\n    element.setAttribute(\"title\", title);\n    if (div) div.remove();\n  }\n\n  element.addEventListener(\"mouseenter\", mouseEnter);\n  element.addEventListener(\"mouseleave\", mouseLeave);\n  element.addEventListener(\"mousemove\", mouseMove);\n\n  return {\n    destroy() {\n      element.removeEventListener(\"mouseenter\", mouseEnter);\n      element.removeEventListener(\"mouseleave\", mouseLeave);\n      element.removeEventListener(\"mousemove\", mouseMove);\n    }\n  };\n}","<script>\n  import {tooltip} from '../../scripts/tooltip';\n  export let key;\n  $: locked = localStorage.getItem(key);\n\n  const cap = key.charAt(0).toUpperCase() + key.slice(1);\n  const tip = cap + \" value is saved and auto-applied. Click to remove saved value and use default settings on load\";\n\n  function unlock(e) {\n    e.stopPropagation();\n    localStorage.removeItem(key);\n    locked = false;\n  }\n</script>\n\n{#if locked}\n  <span style=\"cursor: pointer\" on:click={unlock} title={tip} use:tooltip>🔖</span>\n{/if}","export { identity as linear } from '../internal';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing';\nimport { is_function, assign } from '../internal';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation. All rights reserved.\r\nLicensed under the Apache License, Version 2.0 (the \"License\"); you may not use\r\nthis file except in compliance with the License. You may obtain a copy of the\r\nLicense at http://www.apache.org/licenses/LICENSE-2.0\r\n\r\nTHIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\r\nKIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED\r\nWARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,\r\nMERCHANTABLITY OR NON-INFRINGEMENT.\r\n\r\nSee the Apache Version 2.0 License for specific language governing permissions\r\nand limitations under the License.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear }) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut }) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 }) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut }) {\n    const len = node.getTotalLength();\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","<script>\n  import Lock from './Lock.svelte';\n  import {fade} from 'svelte/transition';\n  import {download} from './../../scripts/download';\n  import {size, grad, diaper, shield, background, scale, border, borderWidth, matrix, state, changes, message} from './../../data/stores';\n  import {shields, shieldPaths} from './../../data/shields';\n  import {tooltip} from './../../scripts/tooltip';\n\n  let installable = false, prompt = null;\n  const sizes = [[80, \"Giant\"], [100, \"Huge\"], [150, \"Large\"], [200, \"Medium\"], [300, \"Small\"], [400, \"Tiny\"]];\n  const gradients = [\"no\", \"luster\", \"spotlight\", \"backlight\", \"brink\"];\n  const diapers = [\"no\", \"nourse\", \"tessellation\", \"sennwald\", \"sulzbach\"];\n  const wideScreen = window.innerWidth > 600;\n\n  $: position = $changes[1];\n\n  function getIcon(icon, active = \"active\") {\n    if (wideScreen) return `<span class=\"navBarIcon ${active}\">${icon}</span>`;\n    return `<svg class=\"navBarIcon ${active}\"><use href=\"#${icon}-icon\"></use></svg>`;\n  }\n\n  function change(e, store, value, key) {\n    e.stopPropagation();\n    store.set(value);\n    localStorage.setItem(key, value);\n\n    // update coa on shield change\n    if (key === \"shield\" && changes.length()) {\n      const coa = JSON.parse($changes[0]);\n      coa.shield = $shield;\n      changes.add(JSON.stringify(coa));\n    }\n  }\n\n  function getRandomColor() {\n    const l = '0123456789ABCDEF';\n    $background = \"#\"+[0,0,0,0,0,0].map(() => l[Math.floor(Math.random() * 16)]).join(\"\");\n    localStorage.setItem(\"background\", $background);\n  }\n\n  function restoreDefault(e, store, key, value) {\n    e.stopPropagation();\n    store.set(value);\n    localStorage.removeItem(key);\n  }\n\n  function goHome() {\n    location.href = (location.origin + location.pathname);\n  }\n\n  function copyEditLink() {\n    const coa = $changes[0].replaceAll(\"#\", \"%23\");\n    const url = location.origin + location.pathname + \"?coa=\" + coa;\n    copyToClipboard(url, \"Coat of arms link is copied to your clipboard\");\n  }\n\n  function copyAPILink() {\n    const encoded = encodeURI($changes[0]);\n    const API = \"https://armoria.herokuapp.com/\";\n    const url = `${API}?size=500&format=png&coa=${encoded}`;\n    copyToClipboard(url, \"API link is copied to your clipboard\");\n  }\n\n  function copyToClipboard(stringToCopy, response) {\n    $message = null;\n\n    navigator.clipboard.writeText(stringToCopy).then(\n      () => {\n        $message = null;\n        setTimeout(() => {\n          $message = {type: \"success\", text: response, timeout: 5000};\n        }, 500);\n      }, err => {\n        const text = \"Cannot copy to the clipboard!\";\n        $message = {type: \"error\", text, timeout: 5000};\n        console.error(err);\n      }\n    );\n  }\n\n  function install() {\n    installable = false;\n    prompt.prompt();\n    prompt.userChoice.then(choise => prompt = null);\n  }\n\n  window.addEventListener(\"beforeinstallprompt\", e => {\n    console.log(\"beforeinstallprompt is fired\");\n    //e.preventDefault(); // no default prompt\n    prompt = e;\n    installable = true;\n  });\n\n  window.addEventListener(\"appinstalled\", e => {\n    console.log(\"App installation: success\");\n    $message = {type: \"success\", text: `Armoria application is installed`, timeout: 5000};\n  });\n\n  // values to be always saved\n  $: localStorage.setItem(\"background\", $background);\n  $: localStorage.setItem(\"border\", $border);\n  $: localStorage.setItem(\"borderWidth\", $borderWidth);\n  $: localStorage.setItem(\"scale\", $scale);\n</script>\n\n<nav>\n  <svg on:click={goHome} class=logo width=35 height=35 viewBox=\"-2 -1 55 55\">\n    <path fill=\"#fff\" stroke=\"none\" d=\"m 46,3 0.6,1.4 c -1.5,0.7 -2.6,1.4 -3.3,2.2 -0.7,0.7 -1.2,1.5 -1.5,2.4 -0.3,0.9 -0.4,2.2 -0.4,3.9 0,0.6 0,1.3 0,2.2 l 0.5,23.2 c 0,2.5 0.3,4.2 0.8,5 0.4,0.6 0.8,0.8 1.3,0.8 0.6,0 1.5,-0.6 2.8,-1.8 l 0.9,1.1 -5.8,4.9 -1.9,1.6 C 38.4,49.2 37.2,48.2 36.5,46.9 35.8,45.7 35.3,36.7 35.2,34 c -7.6,0.1 -20.2,0 -20.2,0 0,0 -7.4,9.1 -7.4,11.1 0,0.6 0.2,1.1 0.6,1.8 0.5,0.9 0.8,1.4 0.8,1.7 0,0.4 -0.1,0.7 -0.4,1 -0.3,0.3 -0.6,0.4 -1.1,0.4 -0.5,0 -0.9,-0.2 -1.2,-0.6 -0.5,-0.6 -0.7,-1.3 -0.7,-2.2 0,-1 0.3,-2.1 0.8,-3.3 C 8.8,39.9 11.3,36.7 14.1,32.9 11.1,30.7 9,28.5 7.8,26.4 6.6,24.4 6,22.1 6,19.5 c 0,-3 0.8,-5.7 2.3,-8.3 1.5,-2.5 3.8,-4.5 6.9,-6 3.1,-1.5 6.2,-2.2 9.4,-2.2 4.9,0 9.7,1.7 14.3,5.1 1.1,-1.2 2.2,-2.1 3.2,-2.9 1,-0.8 2.4,-1.5 4,-2.3 z M 30.7,10.2 c -2.6,-1.3 -5.2,-1.9 -7.8,-1.9 -2.7,0 -5.3,0.6 -7.8,1.8 -2.4,1.2 -4.2,2.8 -5.4,4.7 -1.2,1.9 -1.8,3.9 -1.8,5.9 0,4.2 2.3,8 6.9,11.3 L 25.2,17.7 c -1.6,-0.8 -2.9,-1.3 -4.2,-1.3 -1.7,0 -3.1,0.8 -4.2,2.4 -0.4,0.7 -1,0.5 -1.1,-0.2 0,-0.6 0.3,-1.5 1,-2.7 0.7,-1.1 1.6,-2.1 2.9,-2.8 1.3,-0.7 2.6,-1.1 4,-1.1 1.4,0 3.1,0.4 4.9,1.1 z m 4,3.2 C 34,12.4 32.8,11.5 32,11 L 18.4,29.4 h 16.7 z\"/>\n  </svg>\n\n  <div class=\"container\">\n    <bl>{@html getIcon(\"options\")}</bl>\n\n    <div class=\"dropdown level1\">\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each Object.keys(shields.types) as type}\n            <div class=\"container\">\n              <div class=\"dropdown level3 iconed\">\n                {#each Object.keys(shields[type]) as sh}\n                  <bt on:click={e => change(e, shield, sh, \"shield\")}>\n                    <svg class=shield class:selected={sh === $shield} width=26 height=26 viewBox=\"0 0 200 210\">\n                      <path d=\"{shieldPaths[sh]}\"/>\n                    </svg>\n                    {sh.split(/(?=[A-Z])/).join(\" \")}\n                  </bt>\n                {/each}\n              </div>\n\n              <bl>\n                {type.split(/(?=[A-Z])/).join(\" \")}\n              </bl>\n            </div>\n          {/each}\n        </div>\n        <bl title=\"Shield or banner shape. If not set, a random one is selected on reroll\" use:tooltip>\n          {#key $shield}<Lock key=shield/>{/key}\n          <span>Shield</span>\n        </bl>\n      </div>\n\n      <bt on:click={() => $state.tinctures = 1} title=\"Setup tinctures selection chance and hue\" use:tooltip>\n        <Lock key=tinctures/>\n        <Lock key=colors/>\n        <span>Tinctures</span>\n      </bt>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each gradients as g}\n            <bt class:selected={g === $grad} on:click={e => change(e, grad, g, \"grad\")}>{g}</bt>\n          {/each}\n        </div>\n        <bl title=\"Overlay style to be applied on top of coat of arms\" use:tooltip>\n          {#key $grad}<Lock key=grad/>{/key}\n          <span>Gradient</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each diapers as d}\n            <bt class:selected={d === $diaper} on:click={e => change(e, diaper, d, \"diaper\")}>{d}</bt>\n          {/each}\n        </div>\n        <bl title=\"Backing style for coat of arms, also known as diaper\" use:tooltip>\n          {#key $diaper}<Lock key=diaper/>{/key}\n          <span>Damasking</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each sizes as s}\n            <bt class:selected={$size == s[0]} on:click={e => change(e, size, s[0], \"size\")}>{s[1]}</bt>\n          {/each}\n        </div>\n        <bl title=\"Coat of arms gallery size. Change to smaller value to make coat of arms bigger\" use:tooltip>\n          {#key $size}<Lock key=size/>{/key}\n          <span>Gallery</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          <bl>Color\n            {#if $border !== \"#333333\"}\n              <svg on:click={e => restoreDefault(e, border, \"border\", \"#333333\")} class=\"navBarIcon active smaller\" title=\"Restore default color\" use:tooltip>\n                <use href=\"#undo-icon\"></use>\n              </svg>\n            {/if}\n            <input type=\"color\" bind:value={$border}/>\n          </bl>\n          <bl>Width\n            {#if $borderWidth !== 1}\n              <svg on:click={e => restoreDefault(e, borderWidth, \"borderWidth\", \"#333333\")} class=\"navBarIcon active smaller\" title=\"Restore default border width\" use:tooltip>\n                <use href=\"#undo-icon\"></use>\n              </svg>\n            {/if}\n            <input class=\"right\" type=\"number\" min=0 max=4 step=.1 on:input={function(e) {change(e, borderWidth, +this.value, \"borderWidth\")}} value={$borderWidth}/>\n          </bl>\n        </div>\n        <bl title=\"Coat of arms border style\" use:tooltip>\n          <span>Border</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          <bl>Color\n            <svg on:click={getRandomColor} class=\"navBarIcon active smaller\" title=\"Select random color\" use:tooltip>\n              <use href=\"#random-icon\"></use>\n            </svg>\n            {#if $background !== \"#333333\"}\n              <svg on:click={e => restoreDefault(e, background, \"background\", \"#333333\")} class=\"navBarIcon active smaller\" title=\"Restore default color\" use:tooltip>\n                <use href=\"#undo-icon\"></use>\n              </svg>\n            {/if}\n            <input type=\"color\" bind:value={$background}/>\n          </bl>\n        </div>\n        <bl title=\"Window background color\" use:tooltip>\n          <span>Background</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          <bl class=\"wide\">\n            <input type=\"range\" min=1 max=4 step=.1 bind:value={$scale}/>\n            <input type=\"number\" min=1 max=4 step=.1 bind:value={$scale}/>\n          </bl>\n        </div>\n        <bl title=\"Downloaded image size, 1 is default size, 2 - 2x size, etc.\" use:tooltip>\n          <span>Scale</span>\n        </bl>\n      </div>\n\n      {#if !wideScreen && $state.edit}\n        <bt on:click={() => $state.license = 1} title=\"Show information about license\" use:tooltip>\n          License\n        </bt>\n      {/if}\n    </div>\n  </div>\n\n  {#if $matrix}\n    <bt on:click={() => $matrix -= 1} title=\"Roll to the previous list\" gesture=\"Swipe up\" hotkey=\"Backspace\" use:tooltip>\n      {@html getIcon(\"rollback\")}\n    </bt>\n  {:else}\n    <bd>{@html getIcon(\"rollback\", \"inactive\")}</bd>\n  {/if}\n\n  <bt on:click={() => $matrix += 1} title=\"Regenerate coat of arms\" gesture=\"Swipe down\" hotkey=\"Enter\" use:tooltip>\n    {@html getIcon(\"reroll\")}\n  </bt>\n\n  <div class=\"container\"><bl>{@html getIcon(\"save\")}</bl>\n    <div class=\"dropdown level1\">\n      <bt on:click={() => download(null, \"svg\")} title=\"Download vector image or set of images. Open in browser or load to Map Generator. Size can be set in options\" hotkey=\"ctrl + S\" use:tooltip>\n        <span>Download SVG</span>\n      </bt>\n\n      <bt on:click={() => download(null, \"png\")} title=\"Download as raster image. Size can be set in options\" hotkey=\"ctrl + P\" use:tooltip>\n        <span>Download PNG</span>\n      </bt>\n\n      <bt on:click={() => download(null, \"jpeg\")} title=\"Download a compressed raster image. Size can be set in options\" hotkey=\"ctrl + J\" use:tooltip>\n        <span>Download JPEG</span>\n      </bt>\n\n      {#if $state.edit}\n        <bt on:click={copyEditLink} title=\"Copy link to the coat of arms in Edit mode to your clipbard\" use:tooltip>\n          <span>Copy edit link</span>\n        </bt>\n\n        <bt on:click={copyAPILink} title=\"Copy link to the coat of arms for embedding. Armoria API does not support custom positions and charges\" use:tooltip>\n          <span>Copy API link</span>\n        </bt>\n      {/if}\n    </div>\n  </div>\n\n  <div class=\"container\"><bl>{@html getIcon(\"upload\")}</bl>\n    <div class=\"dropdown level1\">\n      <bt on:click={() => $state.raster = 1} title=\"Upload raster charge (one color, quality loss on scale) from jpg, png or svg image\" use:tooltip>\n        <span>Raster charge</span>\n      </bt>\n\n      <bt on:click={() => $state.vector = 1} title=\"Upload vector charge (multicolor and lossless scalable) from prepared svg\" use:tooltip>\n        <span>Vector charge</span>\n      </bt>\n    </div>\n  </div>\n\n  {#if installable}\n    <bt on:click={() => install()} class=flutter in:fade title=\"Add Armoria application to the desktop or home screen\" use:tooltip>\n      {@html getIcon(\"install\")}\n    </bt>\n  {/if}\n\n  {#if $state.edit}\n    {#if position > 0}\n      <bt on:click={() => changes.undo()} title=\"Revert the latest change\" gesture=\"Swipe left\" hotkey=\"Z\" use:tooltip>\n        {@html getIcon(\"undo\")}\n      </bt>\n    {:else}\n      <bd>{@html getIcon(\"undo\", \"inactive\")}</bd>\n    {/if}\n\n    {#if position < changes.length() - 1}\n      <bt on:click={() => changes.redo()} title=\"Restore the next change\" gesture=\"Swipe right\" hotkey=\"X\" use:tooltip>\n        {@html getIcon(\"redo\")}\n      </bt>\n    {:else}\n      <bd>{@html getIcon(\"redo\", \"inactive\")}</bd>\n    {/if}\n  {/if}\n\n  {#if $state.edit}\n    <bt id=\"back\" on:click={() => $state.edit = 0} transition:fade title=\"Get back to Gallery\" hotkey=\"Escape\" use:tooltip>\n      {@html getIcon(\"back\")}\n    </bt>\n  {/if}\n\n  {#if wideScreen || !$state.edit}\n    <bt on:click={() => $state.license = 1} title=\"Show information about license\" use:tooltip>\n      {@html getIcon(\"license\")}\n    </bt>\n    <bt on:click={() => $state.about = 1} title=\"Show about screen\" hotkey=\"F1\" use:tooltip>\n      {@html getIcon(\"about\")}\n    </bt>\n  {/if}\n</nav>\n\n<style>\n  nav {\n    top: 0;\n    width: 100%;\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    display: flex;\n    align-items: center;\n    overflow: hidden;\n    background-color: #1b1c1d;\n    z-index: 1;\n    white-space: nowrap;\n  }\n\n  .logo {\n    display: block;\n    margin: 0 .5em 0 1em;\n    background-color: #35bdb2;\n    cursor: pointer;\n  }\n\n  :global(svg.navBarIcon) {\n    width: 1em;\n    height: 1em;\n    fill: #333;\n    stroke: none;\n    vertical-align: middle;\n  }\n\n  :global(svg.navBarIcon.active) {\n    fill: #fff;\n    cursor: pointer;\n  }\n\n  :global(span.navBarIcon) {\n    color: #333;\n  }\n\n  :global(span.navBarIcon.active) {\n    color: #fff;\n  }\n\n  .navBarIcon.smaller {\n    width: .8em;\n    height: .8em;\n  }\n\n  .navBarIcon.smaller:active {\n    transform: translateY(1px);\n  }\n\n  bt, bl, bd {\n    user-select: none;\n    padding: 1em;\n    color: #fff;\n    text-transform: capitalize;\n  }\n\n  bt {\n    cursor: pointer;\n    transition: background-color .1s;\n  }\n\n  bt:hover, bl:hover {\n    background-color: #2d2e2f;\n  }\n\n  bt:active:not(:last-child) {\n    transform: translateY(1px);\n  }\n\n  input[type=\"color\"] {\n    position: absolute;\n    padding: 0;\n    margin: -.3em 0;\n    right: .4em;\n    border: 0;\n    width: 3em;\n    cursor: pointer;\n  }\n\n  input[type=\"range\"] {\n    padding: 0;\n    width: 72%;\n    margin: 0;\n    height: .6em;\n    cursor: pointer;\n  }\n\n  input[type=\"number\"] {\n    padding: 0 0 0 3px;\n    width: 25%;\n    margin: 0;\n    border: 0;\n  }\n\n  input[type=\"number\"].right {\n    position: absolute;\n    padding: 2px;\n    margin: -.25em 0;\n    right: .4em;\n    width: 3em;\n  }\n\n  .dropdown {\n    display: none;\n    position: fixed;\n    background-color: #1b1c1d;\n    min-width: 9em;\n    box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);\n    z-index: 1;\n  }\n\n  .level1 {\n    margin-top: 1em;\n  }\n\n  .level2 {\n    z-index: 1;\n    margin-left: 10.25em;\n  }\n\n  .level3 {\n    z-index: 2;\n    margin-left: 10.25em;\n  }\n\n  .dropdown bt, .dropdown bl {\n    padding: 12px 16px;\n    width: 8em;\n    display: block;\n  }\n\n  .dropdown bl.wide {\n    width: 12em;\n  }\n\n  .container:hover > .dropdown {\n    display: block;\n  }\n\n  .dropdown bt.selected:before {\n    content: '\\2713';\n    display: inline-block;\n    padding: 0 6px 0 0;\n  }\n\n  /* low-width (narrow) screen */\n  @media only screen and (max-width: 720px) {\n    .logo {\n      display: none;\n    }\n\n    .level3 {\n      margin-left: -10.25em;\n      background-color: #222;\n    }\n  }\n\n  /* low-height screen */\n  @media only screen and (max-height: 640px) and (orientation: landscape) {\n    .dropdown bt, .dropdown bl {\n      padding: 6px 16px;\n      width: 7em;\n    }\n\n    .level2 {\n      margin-left: 9.25em;\n    }\n\n    .level3 {\n      margin-left: 9.25em;\n    }\n  }\n  \n\n  @media only screen and (max-height: 640px) and (min-width: 520px) and (orientation: landscape) {\n    .logo {display: none;}\n    .level3 {column-count: 2;}\n  }\n\n  @media only screen and (max-height: 640px) and (min-width: 680px) and (orientation: landscape) {\n    .logo {display: none;}\n    .level3 {column-count: 3;}\n  }\n\n  .dropdown.iconed {\n    text-indent: 1.8em;\n  }\n\n  .shield {\n    position: absolute;\n    fill: none;\n    stroke: #fff;\n    stroke-width: 5px;\n    margin: -0.4em 0 0 -2.2em;\n  }\n\n  .shield.selected {\n    fill: #777;\n    stroke: #333;\n  }\n\n  #back {\n    position: absolute;\n    right: 0;\n  }\n</style>","<script>\n  import {colors} from './../../data/stores';\n  import {shieldPaths} from './../../data/shields'\n  import {fade, draw} from 'svelte/transition';\n  import {rw} from './../../scripts/utils';\n  export let duration;\n  const delay = duration * 2.6;\n\n  const tinctures = {metals: {argent:3, or:2}, colors: {gules:5, sable:3, azure:4, vert:2, purpure:3}};\n  const metal = Math.random() > .5;\n  const t1 = metal ? rw(tinctures.metals) : rw(tinctures.colors);\n  const t2 = metal ? rw(tinctures.colors) : rw(tinctures.metals);\n\n  const division = rw({perPale:2, perFess:2, perBend:2, perBendSinister:1, perCross:6, perChevron:1, perChevronReversed:1, perPile:2, perSaltire:5, gyronny:1, chevronny:1});\n  const paths = {\n    perPale: [\"M100,25 v175\", \"M100,0 v200 h100 v-200 Z\"],\n    perFess: [\"M27.5,100 h145\", \"M0,100 h200 v100 h-200 Z\"],\n    perBend: [\"M0,0 l200,200\", \"M0,0 l200,200 h-200 Z\"],\n    perBendSinister: [\"M200,0 L0,200\", \"M200,0 L0,200 h200 Z\"],\n    perCross: [\"M100,25 v175 M27.5,100 h145\", \"M100,0 v200 h-100 v-100 h200 v-100 Z\"],\n    perChevron: [\"M0,0 l100,100 l100,-100\", \"M0,0 l100,100 l100,-100 Z\"],\n    perChevronReversed: [\"M0,200 l100,-100 l100,100\", \"M0,200 l100,-100 l100,100 Z\"],\n    perPile: [\"M15,0 l85,200 l85,-200\", \"M15,0 l85,200 l85,-200 Z\"],\n    perSaltire: [\"M0,0 L200,200 M200,0 l-200,200\", \"M0,0 L200,200 v-200 l-200,200 Z\"],\n    gyronny: [\"M0,0 l200,200 M200,100 h-200 M100,0 v200 M0,200 l200,-200\", \"M0,0 l200,200 v-100 h-200 h-100 M100,0 v200, h-100 l200,-200 h-100\"],\n    chevronny: [\"\", \"M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z\"],\n  }\n\n  let size = window.innerWidth < 600 ? window.innerWidth * .9 : 500;\n  if (window.innerHeight < 600) size *= .5;\n</script>\n\n<svg width={size} height={size} viewBox=\"0 0 200 200\">\n  <clipPath id=\"shieldAbout\">\n    <path d=\"{shieldPaths.heater}\"/>\n  </clipPath>\n\n  <g clip-path=\"url(#shieldAbout)\" stroke=\"#fff\" stroke-width=.5>\n    <path stroke-width=1 d=\"M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z\" in:draw=\"{{duration}}\"/>\n    <path d={paths[division][0]} in:draw=\"{{delay: duration}}\"/>\n\n    <g in:fade=\"{{delay, duration}}\" stroke=\"none\">\n      <rect x=0 y=0 width=200 height=200 fill={$colors[t1]}/>\n      <path d={paths[division][1]} fill={$colors[t2]}/>\n      <rect x=0 y=0 width=200 height=200 fill=\"url(#nourse)\"/>\n    </g>\n  </g>\n\n  <g stroke=\"#000\" fill=\"url(#backlight)\">\n    <path d=\"{shieldPaths.heater}\" in:draw=\"{{delay, duration}}\"/>\n  </g>\n</svg>","<script>\n  import AnimatedCOA from './AnimatedCOA.svelte';\n  import {state} from './../../data/stores';\n  import {fade, fly} from 'svelte/transition';\n  const duration = 1000;\n</script>\n\n<div id=\"about\" transition:fade>\n  <span on:click={() => $state.about = 0} class=\"close\">&times;</span>\n  <div id=\"aboutCont\">\n    <AnimatedCOA {duration}/>\n    <div class=buttons in:fly=\"{{y:200, delay: duration, duration}}\">\n      <a target=_blank href=https://discord.com/invite/X7E84HU><span translate=\"no\">Discord</span></a>\n      <a target=_blank href=https://github.com/Azgaar/Armoria><span translate=\"no\">GitHub</span></a>\n      <a target=_blank href=https://github.com/Azgaar/armoria-api#readme><span translate=\"no\">API</span></a>\n      <a target=_blank href=https://www.patreon.com/azgaar><span translate=\"no\">Patreon</span></a>\n    </div>\n  </div>\n</div>\n\n<style>\n  #about {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: rgba(0,0,0, 0.9);\n    transition: .5s;\n    text-align: center;\n    user-select: none;\n  }\n\n  #aboutCont {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n  }\n\n  a, span {\n    display: inline-block;\n    cursor: pointer;\n    color: #ddd;\n  }\n\n  a:hover, span:hover {\n    color: #fff;\n  }\n\n  .buttons > a {\n    margin: 2em;\n    font-size: 1.2em;\n  }\n\n  span.close {\n    position: fixed;\n    top: 0em;\n    right: .5em;\n    font-size: 4em;\n    padding: .2em 0;\n    z-index: 2;\n  }\n</style>","<script>\n  import {state, shield} from './../../data/stores';\n  import {fade} from 'svelte/transition';\n\n  const wetaShield = shield => [\"noldor\", \"gondor\", \"easterling\", \"ironHills\", \"urukHai\", \"moriaOrc\"].includes(shield);\n\n  const coas = Array.from(document.querySelectorAll(\"svg.coa\"));\n  const charges = coas.map(coa => Array.from(coa.querySelectorAll(\".charge[charge]\")).map(el => el.getAttribute(\"charge\"))).flat();\n  const chargeData = [...new Set(charges)].map(charge => {\n    const el = document.getElementById(charge);\n    const license = el.getAttribute(\"license\");\n    const licenseName = license ? getLicenseName(license) : null;\n    const source = el.getAttribute(\"source\");\n    let author = el.getAttribute(\"author\");\n    if (source && !author) author = new URL(source).host;\n\n    return {charge: cap(charge), license, licenseName, author, source}\n  }).sort((a, b) => a.licenseName < b.licenseName ? -1 : 1);\n  const sameChargeLicense = [...new Set(chargeData.map(d => [d.license, d.author].join(\",\")))].length === 1;\n\n  // get mainly Creative Commons short names from license link\n  function getLicenseName(license) {\n    if (license.includes(\"publicdomain\")) return \"public domain\";\n    if (license.includes(\"by-nc-sa\")) return \"CC BY-NC-SA\";\n    if (license.includes(\"by-nc-nd\")) return \"CC BY-NC-ND\";\n    if (license.includes(\"by-nc\")) return \"CC BY-NC\";\n    if (license.includes(\"by-nd\")) return \"CC BY-ND\";\n    if (license.includes(\"by-sa\")) return \"CC BY-SA\";\n    if (license.includes(\"by\")) return \"CC BY\";\n    if (license.includes(\"Fair\")) return \"fair use\";\n    return license;\n  }\n\n  function cap(string) {\n    return string\n      .replace(/_/g, \" \")\n      .replace(/(?<!_)(?=[A-Z])/g, \" \")\n      .replace(/\\w\\S*/g, s => s.charAt(0).toUpperCase() + s.substr(1).toLowerCase());\n  }\n\n  function link(url, text) {\n    return `<a target=_blank href=\"${url}\">${text}</a>`;\n  }\n</script>\n\n<div id=\"license\" transition:fade>\n  <span on:click={() => $state.license = 0} class=\"close\">&times;</span>\n  <div id=\"licenseCont\">\n    <h1>Armoria License</h1>\n    <hr>\n\n    <h2>Currently displayed Coat of Arms</h2>\n      {#if sameChargeLicense}\n        <h3>\n          {#if chargeData.length > 1}Charges: \n          {:else}{chargeData[0].charge}: {/if}\n          {#if chargeData[0].license}<a href=\"{chargeData[0].license}\">{chargeData[0].licenseName}</a>{:else}no license data{/if},\n          {#if chargeData[0].source}<a href=\"{chargeData[0].source}\">{chargeData[0].author}</a>\n          {:else if chargeData[0].author}{chargeData[0].author}\n          {:else}no source data{/if}\n        </h3>\n      {:else}\n        <div class=\"chargesList\">\n        {#each chargeData as charge}\n          <div>{charge.charge}: \n            {#if charge.license}<a href=\"{charge.license}\">{charge.licenseName}</a>{:else}no license data{/if},\n            {#if charge.source}<a href=\"{charge.source}\">{charge.author}</a>{:else if charge.author}{charge.author}{:else}no source data{/if}\n          </div>\n        {/each}\n        </div>\n    {/if}\n\n    {#if wetaShield($shield)}\n    <p>\n      As per my information, shield shape close to <i>{cap($shield)}</i> is designed for the Lord of the Rings film series by <a target=_blank href=\"www.wetanz.com\">Weta Workshop</a>.\n      The shape itself is drawn by Azgaar, but as design itself may be protected and owned by {@html link(\"https://www.middleearth.com\", \"Middle-earth Enterprises\")} or {@html link(\"https://www.warnerbros.com/company/divisions/motion-pictures\", \"New Line Productions\")}, it is recommended to not use this shape for any purposes outside of the {@html link(\"https://en.wikipedia.org/wiki/Fair_use\", \"fair use\")} concept.\n    </p>\n    {/if}\n\n    <hr>\n    <h2>Code: MIT License, {@html link(\"https://github.com/Azgaar/Armoria\", \"Azgaar\")}</h2>\n    <p>\n      Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n      The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n    </p>\n    <p>\n      The software is provided \"As is\", without warranty of any kind, express or implied, including but not limited to the warranties of merchantability, fitness for a particular purpose and noninfringement. In no event shall the authors or copyright holders be liable for any claim, damages or other liability, whether in an action of contract, tort or otherwise, arising from, out of or in connection with the software or the use or other dealings in the software.\n    </p>\n\n    <hr>\n    <h2>Icons: {@html link(\"https://creativecommons.org/licenses/by/4.0\", \"CC BY 4.0\")}, {@html link(\"https://fontawesome.com/license/free\", \"Font Awesome\")}</h2>\n    <br>\n  </div>\n</div>\n\n<style>\n  #license {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: #000000e6;\n    transition: .5s;\n    color: #ddd;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: auto;\n    scrollbar-width: thin;\n  }\n\n  #license::-webkit-scrollbar {\n    width: 6px;\n    background-color: #cccccc80;\n  }\n\n  #license::-webkit-scrollbar-thumb {\n    background-color: #111;\n  }\n\n  #licenseCont {\n    width: 90%;\n    max-width: 800px;\n    max-height: 100%;\n  }\n\n  hr {\n    border: none;\n    border-top: 3px double #333;\n    color: #333;\n    overflow: visible;\n    text-align: center;\n    height: 5px;\n  }\n\n  hr:after {\n    content: '§';\n    position: relative;\n    top: -12px;\n  }\n\n  span.close {\n    position: fixed;\n    top: 0em;\n    right: .5em;\n    font-size: 4em;\n    padding: .2em 0;\n    z-index: 2;\n    cursor: pointer;\n  }\n\n  .chargesList {\n    column-count: 2;\n    column-gap: 7em;\n    text-align: left;\n    margin: 0 2em;\n  }\n\n  @media only screen and (orientation: portrait) {\n    .chargesList {\n      column-gap: normal;\n      text-align: center;\n    }\n  }\n</style>","import {get} from \"svelte/store\";\nimport {changes, grid} from \"../data/stores\";\n\nexport function drag(e, c, coa) {\n  const el = e.currentTarget;\n  const {x, y, a} = parseTransform(el.getAttribute(\"transform\"));\n  const x1 = e.x, y1 = e.y;\n  const sizeAdj = +el.closest(\"svg\").getAttribute(\"width\") / 200;\n  document.addEventListener(\"mouseup\", dragStop, { once: true });\n\n  const size = c.size || 1;\n  const angle = c.angle || 0;\n  const rad = -a * (Math.PI / 180);\n  const cosAngle = Math.cos(rad);\n  const sinAngle = Math.sin(rad);\n  const gridSize = get(grid);\n\n  if (e.shiftKey) {\n    document.addEventListener(\"mousemove\", resize);\n    document.body.style.cursor = \"ns-resize\";\n  } else if (e.ctrlKey || e.metaKey) {\n    document.addEventListener(\"mousemove\", rotate);\n    document.body.style.cursor = \"ew-resize\";\n  } else {\n    document.addEventListener(\"mousemove\", move);\n    document.body.style.cursor = \"move\";\n  };\n\n  function move(e) {\n    const dx = x + (e.x - x1) / sizeAdj;\n    const dy = y + (e.y - y1) / sizeAdj;\n\n    const relX = (dx * cosAngle) - (dy * sinAngle);\n    const relY = (dx * sinAngle) + (dy * cosAngle);\n\n    c.x = Math.round(relX / gridSize) * gridSize;\n    c.y = Math.round(relY / gridSize) * gridSize;\n    setTransform(el, c);\n  }\n\n  function resize(e) {\n    const dy = y + (e.y - y1) / sizeAdj;\n    c.size = size + Math.round(dy) / -100;\n    setTransform(el, c);\n    if (c.p) changes.add(JSON.stringify(coa));\n  }\n\n  function rotate(e) {\n    const dx = x + (e.x - x1) / sizeAdj;\n    let a = angle + Math.round(dx / 1.8);\n    if (a > 180) a = a % 180 - 180;\n    if (a < -179) a = a % 180 + 180;\n    c.angle = a;\n    setTransform(el, c);\n  }\n\n  function setTransform(el, c) {\n    const tr = transform(c);\n    if (tr) el.setAttribute(\"transform\", tr);\n    else el.removeAttribute(\"transform\");\n  }\n\n  function dragStop() {\n    document.removeEventListener(\"mousemove\", move);\n    document.removeEventListener(\"mousemove\", resize);\n    document.removeEventListener(\"mousemove\", rotate);\n    document.body.style.cursor = \"auto\";\n    changes.add(JSON.stringify(coa));\n  }\n}\n\nexport function transform(charge) {\n  let {x = 0, y = 0, angle = 0, size = 1, p} = charge;\n  if (p) size = 1; // size is defined on use element level\n\n  if (!x && !y && !angle && size === 1) return null;\n\n  let transform = \"\";\n  if (x || y) transform += `translate(${x} ${y})`;\n  if (angle) transform += ` rotate(${angle})`;\n  if (size !== 1) transform += `scale(${size})`;\n\n  return transform.trim();\n}\n\nfunction parseTransform(string) {\n  if (!string) { return {x: 0, y: 0, a: 0, s: 1}; }\n  const a = string.replace(/[a-z()]/g, \"\").replace(/[ ]/g, \",\").split(\",\");\n  return {x: +a[0] || 0, y: +a[1] || 0, a: +a[2] || 0, s: +a[3] || 1};\n}","export const lines = {\n  straight: \"m 0,100 v15 h 200 v -15 z\",\n  engrailed: \"m 0,95 a 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 v 20 H 0 Z\",\n  invecked: \"M0,102.5 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 v12.5 H0 z\",\n  embattled: \"M 0,105 H 2.5 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 2.5 v 10 H 0 Z\",\n  wavy: \"m 200,115 v -15 c -8.9,3.5 -16,3.1 -25,0 -8.9,-3.5 -16,-3.1 -25,0 -8.9,3.5 -16,3.2 -25,0 -8.9,-3.5 -16,-3.2 -25,0 -8.9,3.5 -16,3.1 -25,0 -8.9,-3.5 -16,-3.1 -25,0 -8.9,3.5 -16,3.2 -25,0 -8.9,-3.5 -16,-3.2 -25,0 v 15 z\",\n  raguly: \"m 200,95 h -3 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 H 97 l -5,10 H 82 L 87,95 H 77 l -5,10 H 62 L 67,95 H 57 l -5,10 H 42 L 47,95 H 37 l -5,10 H 22 L 27,95 H 17 l -5,10 H 2 L 7,95 H 0 v 20 h 200 z\",\n  dancetty: \"m 0,105 10,-15 15,20 15,-20 15,20 15,-20 15,20 15,-20 15,20 15,-20 15,20 15,-20 15,20 15,-20 10,15 v 10 H 0 Z\",\n  dentilly: \"M 180,105 170,95 v 10 L 160,95 v 10 L 150,95 v 10 L 140,95 v 10 L 130,95 v 10 L 120,95 v 10 L 110,95 v 10 L 100,95 v 10 L 90,95 v 10 L 80,95 v 10 L 70,95 v 10 L 60,95 v 10 L 50,95 v 10 L 40,95 v 10 L 30,95 v 10 L 20,95 v 10 L 10,95 v 10 L 0,95 v 20 H 200 V 105 L 190,95 v 10 L 180,95 Z\",\n  angled: \"m 0,95 h 100 v 10 h 100 v 10 H 0 Z\",\n  urdy: \"m 200,90 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,6 -5,-6 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,6 -5,-6 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 L 0,90 v 25 h 200\",\n  indented: \"m 100,95 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 v 20 H 0 V 95 l 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 z\",\n  bevilled: \"m 0,92.5 h 110 l -20,15 H 200 V 115 H 0 Z\",\n  nowy: \"m 0,95 h 80 c 0,0 0.1,20.1 20,20 19.9,-0.1 20,-20 20,-20 h 80 v 20 H 0 Z\",\n  nowyReversed: \"m 200,105 h -80 c 0,0 -0.1,-20.1 -20,-20 -19.9,0.1 -20,20 -20,20 H 0 v 10 h 200 z\",\n  potenty: \"m 3,95 v 5 h 5 v 5 H 0 v 10 h 200 l 0.5,-10 H 193 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 H 100.5 93 v -5 h 5 V 95 H 83 v 5 h 5 v 5 H 73 v -5 h 5 V 95 H 63 v 5 h 5 v 5 H 53 v -5 h 5 V 95 H 43 v 5 h 5 v 5 H 33 v -5 h 5 V 95 H 23 v 5 h 5 v 5 H 13 v -5 h 5 v -5 z\",\n  potentyDexter: \"m 200,105 h -2 v -10 0 0 h -10 v 5 h 5 v 5 H 183 V 95 h -10 v 5 h 5 v 5 H 168 V 95 h -10 v 5 h 5 v 5 H 153 V 95 h -10 v 5 h 5 v 5 H 138 V 95 h -10 v 5 h 5 v 5 H 123 V 95 h -10 v 5 h 5 v 5 h -10 v 0 0 -10 H 98 v 5 h 5 v 5 H 93 V 95 H 83 v 5 h 5 v 5 H 78 V 95 H 68 v 5 h 5 v 5 H 63 V 95 H 53 v 5 h 5 v 5 H 48 V 95 H 38 v 5 h 5 v 5 H 33 V 95 H 23 v 5 h 5 v 5 H 18 V 95 H 8 v 5 h 5 v 5 H 3 V 95 H 0 v 20 h 200 z\",\n  potentySinister: \"m 2.5,95 v 10 H 0 v 10 h 202.5 v -15 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 z\",\n  embattledGhibellin: \"M 200,200 V 100 l -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 v 15 h 200\",\n  embattledNotched: \"m 200,105 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 H 90 V 95 l -5,5 -5,-5 v 10 H 75 V 95 l -5,5 -5,-5 v 10 H 60 V 95 l -5,5 -5,-5 v 10 H 45 V 95 l -5,5 -5,-5 v 10 H 30 V 95 l -5,5 -5,-5 v 10 H 15 V 95 l -5,5 -5,-5 v 10 H 0 v 10 h 200\",\n  embattledGrady: \"m 0,95 v 20 H 200 V 95 h -2.5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 z\",\n  dovetailed: \"m 200,95 h -7 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 H 93 l 4,10 H 83 L 87,95 H 73 l 4,10 H 63 L 67,95 H 53 l 4,10 H 43 L 47,95 H 33 l 4,10 H 23 L 27,95 H 13 l 4,10 H 3 L 7,95 H 0 v 20 h 200\",\n  dovetailedIndented: \"m 200,100 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 v 15 h 200\",\n  nebuly: \"m 13.1,89.8 c -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.2,4.5 -7.3,4.5 -0.5,0 -2.2,-0.2 -2.2,-0.2 V 115 h 200 v -10.1 c -3.7,-0.2 -6.7,-2.2 -6.7,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.8,-1.9 1.8,-3.1 0,-2.5 -3.2,-4.5 -7.2,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.8,-1.9 1.8,-3.1 0,-2.5 -3.2,-4.5 -7.2,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 -1.5,4.1 -4.2,4.4 -8.8,4.5 -4.7,-0.1 -8.7,-1.5 -8.9,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 z\",\n  rayonne: \"M0 115l-.1-6 .2.8c1.3-1 2.3-2.5 2.9-4.4.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4A9 9 0 015.5 90c-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 2.1 3.1 3.1 4.6 1 1.6 2.4 3.1 2.7 4.8.3 1.7.3 3.3 0 5.2 1.3-1 2.6-2.7 3.2-4.6.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.75 2.79 2.72 4.08 4.45 5.82L200 115z\",\n  seaWaves: \"m 28.83,94.9 c -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.44,-3.6 3.6,-3.6 0.7,0 1.36,0.17 1.93,0.48 -0.33,-2.03 -2.19,-3.56 -4.45,-3.56 -4.24,0 -6.91,3.13 -8.5,5.13 V 115 h 200 v -14.89 c -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.44,-3.6 3.6,-3.6 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -6.6,3.09 -8.19,5.09 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 z\",\n  dragonTeeth: \"M 9.4,85 C 6.5,88.1 4.1,92.9 3,98.8 1.9,104.6 2.3,110.4 3.8,115 2.4,113.5 0,106.6 0,109.3 v 5.7 h 200 v -5.7 c -1.1,-2.4 -2,-5.1 -2.6,-8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -1.4,-1.5 -2.8,-3.9 -3.8,-6.1 -1.1,-2.4 -2.3,-6.1 -2.6,-7.7 -0.2,-5.9 0.2,-11.7 1.7,-16.3 -3,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1,-5.8 -0.7,-11.6 0.9,-16.2 -3,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.9,-16.2 -3,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 C 63,95.4 63.4,89.6 64.9,85 c -2.9,3.1 -5.3,7.9 -6.3,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1,5.8 -0.6,11.6 0.9,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1,5.8 -0.7,11.6 0.9,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.9,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 C 18.6,95.4 19,89.6 20.5,85 17.6,88.1 15.2,92.9 14.1,98.8 13,104.6 13.4,110.4 14.9,115 12,111.9 9.6,107.1 8.6,101.2 7.5,95.4 7.9,89.6 9.4,85 Z\",\n  firTrees: \"m 3.9,90 -4,7 2,-0.5 L 0,100 v 15 h 200 v -15 l -1.9,-3.5 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4.1,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4.1,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 z\",\n  flechy: \"m 0,100 h 85 l 15,-15 15,15 h 85 v 15 H 0 Z\",\n  barby: \"m 0,100 h 85 l 15,15 15,-15 h 85 v 15 H 0 Z\",\n  enclavy: \"M 0,100 H 85 V 85 h 30 v 15 h 85 v 15 H 0 Z\",\n  escartely: \"m 0,100 h 85 v 15 h 30 v -15 h 85 v 15 H 0 Z\",\n  arched: \"m 100,95 c 40,-0.2 100,20 100,20 H 0 c 0,0 60,-19.8 100,-20 z\",\n  archedReversed: \"m 0,85 c 0,0 60,20.2 100,20 40,-0.2 100,-20 100,-20 v 30 H 0 Z\"\n}\n\nexport const templates = {\n  // straight divisions\n  perFess: `<rect x=\"0\" y=\"100\" width=\"200\" height=\"100\"/>`,\n  perPale: `<rect x=\"100\" y=\"0\" width=\"100\" height=\"200\"/>`,\n  perBend: `<polygon points=\"0,0 200,200 0,200\"/>`,\n  perBendSinister: `<polygon points=\"200,0 0,200 200,200\"/>`,\n  perChevron: `<polygon points=\"0,200 100,100 200,200\"/>`,\n  perChevronReversed: `<polygon points=\"0,0 100,100 200,0\"/>`,\n  perCross: `<rect x=\"100\" y=\"0\" width=\"100\" height=\"100\"/><rect x=\"0\" y=\"100\" width=\"100\" height=\"100\"/>`,\n  perPile: `<polygon points=\"0,0 15,0 100,200 185,0 200,0 200,200 0,200\"/>`,\n  perSaltire: `<polygon points=\"0,0 0,200 200,0 200,200\"/>`,\n  gyronny: `<polygon points=\"0,0 200,200 200,100 0,100\"/><polygon points=\"200,0 0,200 100,200 100,0\"/>`,\n  chevronny: `<path d=\"M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z\"/>`,\n  // lined divisions\n  perFessLined: line => `<path d=\"${line}\"/><rect x=\"0\" y=\"115\" width=\"200\" height=\"85\" shape-rendering=\"crispedges\"/>`,\n  perPaleLined: line => `<path d=\"${line}\" transform=\"rotate(-90 100 100)\"/><rect x=\"115\" y=\"0\" width=\"85\" height=\"200\" shape-rendering=\"crispedges\"/>`,\n  perBendLined: line => `<path d=\"${line}\" transform=\"translate(-10 -10) rotate(45 110 110) scale(1.1)\"/><rect x=\"0\" y=\"115\" width=\"200\" height=\"85\" transform=\"translate(-10 -10) rotate(45 110 110) scale(1.1)\" shape-rendering=\"crispedges\"/>`,\n  perBendSinisterLined: line => `<path d=\"${line}\" transform=\"translate(-10 -10) rotate(-45 110 110) scale(1.1)\"/><rect x=\"0\" y=\"115\" width=\"200\" height=\"85\" transform=\"translate(-10 -10) rotate(-45 110 110) scale(1.1)\" shape-rendering=\"crispedges\"/>`,\n  perChevronLined: line => `<rect x=\"15\" y=\"115\" width=\"200\" height=\"200\" transform=\"translate(70 70) rotate(45 100 100)\"/><path d=\"${line}\" transform=\"translate(129 71) rotate(-45 -100 100) scale(-1 1)\"/><path d=\"${line}\" transform=\"translate(71 71) rotate(45 100 100)\"/>`,\n  perChevronReversedLined: line => `<rect x=\"15\" y=\"115\" width=\"200\" height=\"200\" transform=\"translate(-70 -70) rotate(225.001 100 100)\"/><path d=\"${line}\" transform=\"translate(-70.7 -70.7) rotate(225 100 100) scale(1 1)\"/><path d=\"${line}\" transform=\"translate(270.7 -70.7) rotate(-225 -100 100) scale(-1 1)\"/>`,\n  perCrossLined: line => `<rect x=\"100\" y=\"0\" width=\"100\" height=\"92.5\"/><rect x=\"0\" y=\"107.5\" width=\"100\" height=\"92.5\"/><path d=\"${line}\" transform=\"translate(0 50) scale(.5001)\"/><path d=\"${line}\" transform=\"translate(200 150) scale(-.5)\"/>`,\n  perPileLined: line => `<path d=\"${line}\" transform=\"translate(161.66 10) rotate(66.66 -100 100) scale(-1 1)\"/><path d=\"${line}\" transform=\"translate(38.33 10) rotate(-66.66 100 100)\"/><polygon points=\"-2.15,0 84.15,200 115.85,200 202.15,0 200,200 0,200\"/>`,\n  // straight ordinaries\n  fess: `<rect x=\"0\" y=\"75\" width=\"200\" height=\"50\"/>`,\n  pale: `<rect x=\"75\" y=\"0\" width=\"50\" height=\"200\"/>`,\n  bend: `<polygon points=\"35,0 200,165 200,200 165,200 0,35 0,0\"/>`,\n  bendSinister: `<polygon points=\"0,165 165,0 200,0 200,35 35,200 0,200\"/>`,\n  chief: `<rect width=\"200\" height=\"75\"/>`,\n  bar: `<rect x=\"0\" y=\"87.5\" width=\"200\" height=\"25\"/>`,\n  gemelle: `<rect x=\"0\" y=\"76\" width=\"200\" height=\"16\"/><rect x=\"0\" y=\"108\" width=\"200\" height=\"16\"/>`,\n  fessCotissed: `<rect x=\"0\" y=\"67\" width=\"200\" height=\"8\"/><rect x=\"0\" y=\"83\" width=\"200\" height=\"34\"/><rect x=\"0\" y=\"125\" width=\"200\" height=\"8\"/>`,\n  fessDoubleCotissed: `<rect x=\"0\" y=\"60\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"72.5\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"85\" width=\"200\" height=\"30\"/><rect x=\"0\" y=\"120\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"132.5\" width=\"200\" height=\"7.5\"/>`,\n  bendlet: `<polygon points=\"22,0 200,178 200,200 178,200 0,22 0,0\"/>`,\n  bendletSinister: `<polygon points=\"0,178 178,0 200,0 200,22 22,200 0,200\"/>`,\n  terrace: `<rect x=\"0\" y=\"145\" width=\"200\" height=\"55\"/>`,\n  cross: `<polygon points=\"85,0 85,85 0,85 0,115 85,115 85,200 115,200 115,115 200,115 200,85 115,85 115,0\"/>`,\n  crossParted: `<path d=\"M 80 0 L 80 80 L 0 80 L 0 95 L 80 95 L 80 105 L 0 105 L 0 120 L 80 120 L 80 200 L 95 200 L 95 120 L 105 120 L 105 200 L 120 200 L 120 120 L 200 120 L 200 105 L 120 105 L 120 95 L 200 95 L 200 80 L 120 80 L 120 0 L 105 0 L 105 80 L 95 80 L 95 0 L 80 0 z M 95 95 L 105 95 L 105 105 L 95 105 L 95 95 z\"/>`,\n  saltire: `<path d=\"M 0,21 79,100 0,179 0,200 21,200 100,121 179,200 200,200 200,179 121,100 200,21 200,0 179,0 100,79 21,0 0,0 Z\"/>`,\n  saltireParted: `<path d=\"M 7 0 L 89 82 L 82 89 L 0 7 L 0 28 L 72 100 L 0 172 L 0 193 L 82 111 L 89 118 L 7 200 L 28 200 L 100 128 L 172 200 L 193 200 L 111 118 L 118 111 L 200 193 L 200 172 L 128 100 L 200 28 L 200 7 L 118 89 L 111 82 L 193 0 L 172 0 L 100 72 L 28 0 L 7 0 z M 100 93 L 107 100 L 100 107 L 93 100 L 100 93 z\"/>`,\n  mount: `<path d=\"m0,250 a100,100,0,0,1,200,0\"/>`,\n  point: `<path d=\"M0,200 Q80,180 100,135 Q120,180 200,200\"/>`,\n  flaunches: `<path d=\"M0,0 q120,100 0,200 M200,0 q-120,100 0,200\"/>`,\n  gore: `<path d=\"M20,0 Q30,75 100,100 Q80,150 100,200 L0,200 L0,0 Z\"/>`,\n  pall: `<polygon points=\"0,0 30,0 100,70 170,0 200,0 200,30 122,109 122,200 78,200 78,109 0,30\"/>`,\n  pallReversed: `<polygon points=\"0,200 0,170 78,91 78,0 122,0 122,91 200,170 200,200 170,200 100,130 30,200\"/>`,\n  chevron: `<polygon points=\"0,125 100,60 200,125 200,165 100,100 0,165\"/>`,\n  chevronReversed: `<polygon points=\"0,75 100,140 200,75 200,35 100,100 0,35\"/>`,\n  gyron: `<polygon points=\"0,0 100,100 0,100\"/>`,\n  quarter: `<rect width=\"50%\" height=\"50%\"/>`,\n  canton: `<rect width=\"37.5%\" height=\"37.5%\"/>`,\n  pile: `<polygon points=\"70,0 100,175 130,0\"/>`,\n  pileInBend: `<polygon points=\"200,200 200,144 25,25 145,200\"/>`,\n  pileInBendSinister: `<polygon points=\"0,200 0,144 175,25 55,200\"/>`,\n  piles: `<polygon points=\"46,0 75,175 103,0\"/><polygon points=\"95,0 125,175 154,0\"/>`,\n  pilesInPoint: `<path d=\"M15,0 100,200 60,0Z M80,0 100,200 120,0Z M140,0 100,200 185,0Z\"/>`,\n  label: `<path d=\"m 46,54.8 6.6,-15.6 95.1,0 5.9,15.5 -16.8,0.1 4.5,-11.8 L 104,43 l 4.3,11.9 -16.8,0 4.3,-11.8 -37.2,0 4.5,11.8 -16.9,0 z\"/>`,\n  // lined ordinaries\n  fessLined: line => `<path d=\"${line}\" transform=\"translate(0 -25)\"/><path d=\"${line}\" transform=\"translate(0 25) rotate(180 100 100)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" stroke=\"none\"/>`,\n  paleLined: line => `<path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0 -25)\"/><path d=\"${line}\" transform=\"rotate(90 100 100) translate(0 -25)\"/><rect x=\"88\" y=\"0\" width=\"24\" height=\"200\" stroke=\"none\"/>`,\n  bendLined: line => `<path d=\"${line}\" transform=\"translate(8 -18) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-28 18) rotate(225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" transform=\"translate(-10 0) rotate(45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  bendSinisterLined: line => `<path d=\"${line}\" transform=\"translate(-28 -18) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(8 18) rotate(-225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" transform=\"translate(-10 0) rotate(-45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  chiefLined: line => `<path d=\"${line}\" transform=\"translate(0,-25) rotate(180.00001 100 100)\"/><rect width=\"200\" height=\"62\" stroke=\"none\"/>`,\n  barLined: line => `<path d=\"${line}\" transform=\"translate(0,-12.5)\"/><path d=\"${line}\" transform=\"translate(0,12.5) rotate(180.00001 100 100)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" stroke=\"none\"/>`,\n  gemelleLined: line => `<path d=\"${line}\" transform=\"translate(0,-22.5)\"/><path d=\"${line}\" transform=\"translate(0,22.5) rotate(180.00001 100 100)\"/>`,\n  fessCotissedLined: line => `<path d=\"${line}\" transform=\"translate(0 15) scale(1 .5)\"/><path d=\"${line}\" transform=\"translate(0 85) rotate(180 100 50) scale(1 .5)\"/><rect x=\"0\" y=\"80\" width=\"200\" height=\"40\"/>`,\n  fessDoubleCotissedLined: line => `<rect x=\"0\" y=\"85\" width=\"200\" height=\"30\"/><rect x=\"0\" y=\"72.5\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"120\" width=\"200\" height=\"7.5\"/><path d=\"${line}\" transform=\"translate(0 10) scale(1 .5)\"/><path d=\"${line}\" transform=\"translate(0 90) rotate(180 100 50) scale(1 .5)\"/>`,\n  bendletLined: line => `<path d=\"${line}\" transform=\"translate(2 -12) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-22 12) rotate(225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" transform=\"translate(-10 0) rotate(45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  bendletSinisterLined: line => `<path d=\"${line}\" transform=\"translate(-22 -12) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(2 12) rotate(-225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" transform=\"translate(-10 0) rotate(-45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  terraceLined: line => `<path d=\"${line}\" transform=\"translate(0,50)\"/><rect x=\"0\" y=\"164\" width=\"200\" height=\"36\" stroke=\"none\"/>`,\n  crossLined: line => `<path d=\"${line}\" transform=\"translate(0,-14.5)\"/><path d=\"${line}\" transform=\"rotate(180 100 100) translate(0,-14.5)\"/><path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0,-14.5)\"/><path d=\"${line}\" transform=\"rotate(-270 100 100) translate(0,-14.5)\"/>`,\n  crossPartedLined: line => `<path d=\"${line}\" transform=\"translate(0,-20)\"/><path d=\"${line}\" transform=\"rotate(180 100 100) translate(0,-20)\"/><path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0,-20)\"/><path d=\"${line}\" transform=\"rotate(-270 100 100) translate(0,-20)\"/>`,\n  saltireLined: line => `<path d=\"${line}\" transform=\"translate(0 -10) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-20 10) rotate(225 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-20 -10) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(0 10) rotate(-225 110 100) scale(1.1 1)\"/>`,\n  saltirePartedLined: line => `<path d=\"${line}\" transform=\"translate(3 -13) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-23 13) rotate(225 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-23 -13) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(3 13) rotate(-225 110 100) scale(1.1 1)\"/>`\n}\n\nexport const patterns = {\n  semy: (p, c1, c2, size, chargeId) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 200 200\" stroke=\"#000\"><rect width=\"200\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><g fill=\"${c2}\"><use transform=\"translate(-100 -50)\" href=\"#${chargeId}\"/><use transform=\"translate(100 -50)\" href=\"#${chargeId}\"/><use transform=\"translate(0 50)\" href=\"#${chargeId}\"/></g></pattern>`,\n  vair: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 25 50\" stroke=\"#000\" stroke-width=\".2\"><rect width=\"25\" height=\"25\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c2}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m25,25 l-6.25,6.25 v12.5 l-6.25,6.25 l-6.25,-6.25 v-12.5 l-6.25,-6.25 z\" fill=\"${c1}\"/><path d=\"M0 50 h25\" fill=\"none\"/></pattern>`,\n  counterVair: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 25 50\" stroke=\"#000\" stroke-width=\".2\"><rect width=\"25\" height=\"50\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m 12.5,0 6.25,6.25 v 12.5 L 25,25 18.75,31.25 v 12.5 L 12.5,50 6.25,43.75 V 31.25 L 0,25 6.25,18.75 V 6.25 Z\" fill=\"${c1}\"/></pattern>`,\n  vairInPale: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 25 25\"><rect width=\"25\" height=\"25\" fill=\"${c1}\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c2}\" stroke=\"#000\" stroke-width=\".2\"/></pattern>`,\n  vairEnPointe: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 25 50\"><rect width=\"25\" height=\"25\" fill=\"${c2}\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c1}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\" stroke-width=\"1\" stroke=\"${c1}\"/><path d=\"m12.5,25 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c2}\"/></pattern>`,\n  vairAncien: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><path fill=\"${c2}\" stroke=\"none\" d=\"m 0,90 c 10,0 25,-5 25,-40 0,-25 10,-40 25,-40 15,0 25,15 25,40 0,35 15,40 25,40 v 10 H 0 Z\"/><path fill=\"none\" stroke=\"#000\" d=\"M 0,90 c 10,0 25,-5 25,-40 0,-35 15,-40 25,-40 10,0 25,5 25,40 0,35 15,40 25,40 M0,100 h100\"/></pattern>`,\n  potent: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 200 200\" stroke=\"#000\"><rect width=\"200\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><rect y=\"100\" width=\"200\" height=\"100\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m25 50h50v-50h50v50h50v50h-150z\" fill=\"${c2}\"/><path d=\"m25 100v50h50v50h50v-50h50v-50z\" fill=\"${c1}\"/><path d=\"m0 0h200 M0 100h200\" fill=\"none\"/></pattern>`,\n  counterPotent: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 200 200\" stroke=\"none\"><rect width=\"200\" height=\"200\" fill=\"${c1}\"/><path d=\"m25 50h50v-50h50v50h50v100h-50v50h-50v-50h-50v-50z\" fill=\"${c2}\"/><path d=\"m0 0h200 M0 100h200 M0 200h200\"/></pattern>`,\n  potentInPale: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .0625}\" viewBox=\"0 0 200 100\" stroke-width=\"1\"><rect width=\"200\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m25 50h50v-50h50v50h50v50h-150z\" fill=\"${c2}\" stroke=\"#000\"/><path d=\"m0 0h200 M0 100h200\" fill=\"none\" stroke=\"#000\"/></pattern>`,\n  potentEnPointe: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 200 200\" stroke=\"none\"><rect width=\"200\" height=\"200\" fill=\"${c1}\"/><path d=\"m0 0h25v50h50v50h50v-50h50v-50h25v100h-25v50h-50v50h-50v-50h-50v-50h-25v-100\" fill=\"${c2}\"/></pattern>`,\n  ermine: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 200 200\" fill=\"${c2}\"><rect width=\"200\" height=\"200\" fill=\"${c1}\"/><g stroke=\"none\" fill=\"${c2}\"><g transform=\"translate(-100 -50)\"><path d=\"m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z\"/><path d=\"m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z\"/><path d=\"m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z\"/><path d=\"m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z\"/></g><g transform=\"translate(100 -50)\"><path d=\"m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z\"/><path d=\"m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z\"/><path d=\"m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z\"/><path d=\"m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z\"/></g><g transform=\"translate(0 50)\"><path d=\"m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z\"/><path d=\"m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z\"/><path d=\"m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z\"/><path d=\"m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z\"/></g></g></pattern>`,\n  chequy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .25}\" height=\"${size * .25}\" viewBox=\"0 0 50 50\" fill=\"${c2}\"><rect width=\"50\" height=\"50\"/><rect width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"25\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  lozengy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" fill=\"${c1}\"/><polygon points=\"25,0 50,25 25,50 0,25\" fill=\"${c2}\"/></pattern>`,\n  fusily: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 50 100\"><rect width=\"50\" height=\"100\" fill=\"${c2}\"/><polygon points=\"25,0 50,50 25,100 0,50\" fill=\"${c1}\"/></pattern>`,\n  pally: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .5}\" height=\"${size * .125}\" viewBox=\"0 0 100 25\"><rect width=\"100\" height=\"25\" fill=\"${c2}\"/><rect x=\"25\" y=\"0\" width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"75\" y=\"0\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  barry: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .5}\" viewBox=\"0 0 25 100\"><rect width=\"25\" height=\"100\" fill=\"${c2}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"0\" y=\"75\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  gemelles: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" fill=\"${c1}\"/><rect y=\"5\" width=\"50\" height=\"10\" fill=\"${c2}\"/><rect y=\"40\" width=\"50\" height=\"10\" fill=\"${c2}\"/></pattern>`,\n  bendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .5}\" height=\"${size * .5}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><polygon points=\"0,25 75,100 25,100 0,75\" fill=\"${c2}\"/><polygon points=\"25,0 75,0 100,25 100,75\" fill=\"${c2}\"/></pattern>`,\n  bendySinister: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .5}\" height=\"${size * .5}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c2}\"/><polygon points=\"0,25 25,0 75,0 0,75\" fill=\"${c1}\"/><polygon points=\"25,100 100,25 100,75 75,100\" fill=\"${c1}\"/></pattern>`,\n  palyBendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .6258}\" height=\"${size * .3576}\" viewBox=\"0 0 175 100\"><rect y=\"0\" x=\"0\" width=\"175\" height=\"100\" fill=\"${c2}\"/><g fill=\"${c1}\"><path d=\"m0 20 35 30v50l-35-30z\"/><path d=\"m35 0 35 30v50l-35-30z\"/><path d=\"m70 0h23l12 10v50l-35-30z\"/><path d=\"m70 80 23 20h-23z\"/><path d=\"m105 60 35 30v10h-35z\"/><path d=\"m105 0h35v40l-35-30z\"/><path d=\"m 140,40 35,30 v 30 h -23 l -12,-10z\"/><path d=\"M 175,0 V 20 L 152,0 Z\"/></g></pattern>`,\n  barryBendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .3572}\" height=\"${size * .6251}\" viewBox=\"0 0 100 175\"><rect width=\"100\" height=\"175\" fill=\"${c2}\"/><g fill=\"${c1}\"><path d=\"m20 0 30 35h50l-30-35z\"/><path d=\"m0 35 30 35h50l-30-35z\"/><path d=\"m0 70v23l10 12h50l-30-35z\"/><path d=\"m80 70 20 23v-23z\"/><path d=\"m60 105 30 35h10v-35z\"/><path d=\"m0 105v35h40l-30-35z\"/><path d=\"m 40,140 30,35 h 30 v -23 l -10,-12 z\"/><path d=\"m0 175h20l-20-23z\"/></g></pattern>`,\n  pappellony: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><circle cx=\"0\" cy=\"51\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/><circle cx=\"100\" cy=\"51\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/><circle cx=\"50\" cy=\"1\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/></pattern>`,\n  pappellony2: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"100\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><circle cy=\"50\" r=\"49\" fill=\"${c2}\"/><circle cx=\"100\" cy=\"50\" r=\"49\" fill=\"${c2}\"/><circle cx=\"50\" cy=\"0\" r=\"49\" fill=\"${c1}\"/></pattern>`,\n  scaly: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\" stroke=\"#000\"><rect width=\"100\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><path d=\"M 0,84 C -40,84 -50,49 -50,49 -50,79 -27,99 0,99 27,99 50,79 50,49 50,49 40,84 0,84 Z\" fill=\"${c2}\"/><path d=\"M 100,84 C 60,84 50,49 50,49 c 0,30 23,50 50,50 27,0 50,-20 50,-50 0,0 -10,35 -50,35 z\" fill=\"${c2}\"/><path d=\"M 50,35 C 10,35 0,0 0,0 0,30 23,50 50,50 77,50 100,30 100,0 100,0 90,35 50,35 Z\" fill=\"${c2}\"/></pattern>`,\n  plumetty: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 50 100\" stroke-width=\".8\"><rect width=\"50\" height=\"100\" fill=\"${c2}\" stroke=\"none\"/><path fill=\"${c1}\" stroke=\"none\" d=\"M 25,100 C 44,88 49.5,74 50,50 33.5,40 25,25 25,4e-7 25,25 16.5,40 0,50 0.5,74 6,88 25,100 Z\"/><path fill=\"none\" stroke=\"${c2}\" d=\"m17 40c5.363 2.692 10.7 2.641 16 0m-19 7c7.448 4.105 14.78 3.894 22 0m-27 7c6-2 10.75 3.003 16 3 5.412-0.0031 10-5 16-3m-35 9c4-7 12 3 19 2 7 1 15-9 19-2m-35 6c6-2 11 3 16 3s10-5 16-3m-30 7c8 0 8 3 14 3s7-3 14-3m-25 8c7.385 4.048 14.72 3.951 22 0m-19 8c5.455 2.766 10.78 2.566 16 0m-8 6v-78\"/><g fill=\"none\" stroke=\"${c1}\"><path d=\"m42 90c2.678 1.344 5.337 2.004 8 2m-11 5c3.686 2.032 7.344 3.006 10.97 3m0.0261-1.2e-4v-30\"/><path d=\"m0 92c2.689 0.0045 5.328-0.6687 8-2m-8 10c3.709-0.0033 7.348-1.031 11-3m-11 3v-30\"/><path d=\"m0 7c5.412-0.0031 10-5 16-3m-16 11c7 1 15-9 19-2m-19 9c5 0 10-5 16-3m-16 10c6 0 7-3 14-3m-14.02 11c3.685-0.002185 7.357-1.014 11.02-3m-11 10c2.694-0.01117 5.358-0.7036 7.996-2m-8 6v-48\"/><path d=\"m34 4c6-2 10.75 3.003 16 3m-19 6c4-7 12 3 19 2m-16 4c6-2 11 3 16 3m-14 4c8 0 8 3 14 3m-11 5c3.641 1.996 7.383 2.985 11 3m-8 5c2.762 1.401 5.303 2.154 8.002 2.112m-0.00154 3.888v-48\"/></g></pattern>`,\n  masoned: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\" fill=\"none\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><rect width=\"100\" height=\"50\" stroke=\"${c2}\" stroke-width=\"4\"/><line x1=\"50\" y1=\"50\" x2=\"50\" y2=\"100\" stroke=\"${c2}\" stroke-width=\"5\"/></pattern>`,\n  fretty: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .2}\" height=\"${size * .2}\" viewBox=\"0 0 140 140\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"140\" height=\"140\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m-15 5 150 150 20-20-150-150z\" fill=\"${c2}\"/><path d=\"m10 150 140-140-20-20-140 140z\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m0 120 20 20 120-120-20-20z\" fill=\"none\"/></pattern>`,\n  grillage: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .25}\" height=\"${size * .25}\" viewBox=\"0 0 200 200\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"200\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m205 65v-30h-210v30z\" fill=\"${c2}\"/><path d=\"m65-5h-30v210h30z\" fill=\"${c2}\"/><path d=\"m205 165v-30h-210v30z\" fill=\"${c2}\"/><path d=\"m165,65h-30v140h30z\" fill=\"${c2}\"/><path d=\"m 165,-5h-30v40h30z\" fill=\"${c2}\"/></pattern>`,\n  chainy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .167}\" height=\"${size * .167}\" viewBox=\"0 0 200 200\" stroke=\"#000\" stroke-width=\"2\"><rect x=\"-6.691e-6\" width=\"200\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m155-5-20-20-160 160 20 20z\" fill=\"${c2}\"/><path d=\"m45 205 160-160 20 20-160 160z\" fill=\"${c2}\"/><path d=\"m45-5 20-20 160 160-20 20-160-160\" fill=\"${c2}\"/><path d=\"m-5 45-20 20 160 160 20-20-160-160\" fill=\"${c2}\"/></pattern>`,\n  maily: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .167}\" height=\"${size * .167}\" viewBox=\"0 0 200 200\" stroke=\"#000\" stroke-width=\"1.2\"><path fill=\"${c1}\" stroke=\"none\" d=\"M0 0h200v200H0z\"/><g fill=\"${c2}\"><path d=\"m80-2c-5.27e-4 2.403-0.1094 6.806-0.3262 9.199 5.014-1.109 10.1-1.768 15.19-2.059 0.09325-1.712 0.1401-5.426 0.1406-7.141z\"/><path d=\"m100 5a95 95 0 0 0-95 95 95 95 0 0 0 95 95 95 95 0 0 0 95-95 95 95 0 0 0-95-95zm0 15a80 80 0 0 1 80 80 80 80 0 0 1-80 80 80 80 0 0 1-80-80 80 80 0 0 1 80-80z\"/><path d=\"m92.8 20.33c-5.562 0.4859-11.04 1.603-16.34 3.217-7.793 25.31-27.61 45.12-52.91 52.91-5.321 1.638-10.8 2.716-16.34 3.217-2.394 0.2168-6.796 0.3256-9.199 0.3262v15c1.714-4.79e-4 5.429-0.04737 7.141-0.1406 5.109-0.2761 10.19-0.9646 15.19-2.059 36.24-7.937 64.54-36.24 72.47-72.47z\"/><path d=\"m202 80c-2.403-5.31e-4 -6.806-0.1094-9.199-0.3262 1.109 5.014 1.768 10.1 2.059 15.19 1.712 0.09326 5.426 0.1401 7.141 0.1406z\"/><path d=\"m179.7 92.8c-0.4859-5.562-1.603-11.04-3.217-16.34-25.31-7.793-45.12-27.61-52.91-52.91-1.638-5.321-2.716-10.8-3.217-16.34-0.2168-2.394-0.3256-6.796-0.3262-9.199h-15c4.8e-4 1.714 0.0474 5.429 0.1406 7.141 0.2761 5.109 0.9646 10.19 2.059 15.19 7.937 36.24 36.24 64.54 72.47 72.47z\"/><path d=\"m120 202c5.3e-4 -2.403 0.1094-6.806 0.3262-9.199-5.014 1.109-10.1 1.768-15.19 2.059-0.0933 1.712-0.1402 5.426-0.1406 7.141z\"/><path d=\"m107.2 179.7c5.562-0.4859 11.04-1.603 16.34-3.217 7.793-25.31 27.61-45.12 52.91-52.91 5.321-1.638 10.8-2.716 16.34-3.217 2.394-0.2168 6.796-0.3256 9.199-0.3262v-15c-1.714 4.7e-4 -5.429 0.0474-7.141 0.1406-5.109 0.2761-10.19 0.9646-15.19 2.059-36.24 7.937-64.54 36.24-72.47 72.47z\"/><path d=\"m -2,120 c 2.403,5.4e-4 6.806,0.1094 9.199,0.3262 -1.109,-5.014 -1.768,-10.1 -2.059,-15.19 -1.712,-0.0933 -5.426,-0.1402 -7.141,-0.1406 z\"/><path d=\"m 20.33,107.2 c 0.4859,5.562 1.603,11.04 3.217,16.34 25.31,7.793 45.12,27.61 52.91,52.91 1.638,5.321 2.716,10.8 3.217,16.34 0.2168,2.394 0.3256,6.796 0.3262,9.199 L 95,202 c -4.8e-4,-1.714 -0.0472,-5.44 -0.1404,-7.152 -0.2761,-5.109 -0.9646,-10.19 -2.059,-15.19 -7.937,-36.24 -36.24,-64.54 -72.47,-72.47 z\"/></g></pattern>`,\n  honeycombed: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .143}\" height=\"${size * .24514}\" viewBox=\"0 0 70 120\"><rect width=\"70\" height=\"120\" fill=\"${c1}\"/><path d=\"M 70,0 V 20 L 35,40 m 35,80 V 100 L 35,80 M 0,120 V 100 L 35,80 V 40 L 0,20 V 0\" stroke=\"${c2}\" fill=\"none\" stroke-width=\"3\"/></pattern>`\n}\n","import {get} from 'svelte/store';\nimport {templates, lines, patterns} from './../data/templates';\nimport {shieldPaths} from './../data/shields';\nimport {colors, shield} from './../data/stores';\n\nconst chargesGroup = document.getElementById(\"charges\");\nconst colorsData = get(colors);\nconst loadedCharges = {};\n\nexport const getTemplate = (id, line) => {\n  const linedId = id+\"Lined\";\n  if (!line || line === \"straight\" || !templates[linedId]) return templates[id];\n  const linePath = lines[line];\n  return templates[linedId](linePath);\n}\n\nexport const addPattern = patternId => {\n  if (document.getElementById(patternId)) return; // already added;\n\n  const [pattern, t1, t2, size] = patternId.split(\"-\");\n  const charge = semy(patternId);\n  if (charge) addCharge(charge);\n\n  const html = patterns[charge ? \"semy\" : pattern](patternId, clr(t1), clr(t2), getSizeMod(size), charge);\n  document.getElementById(\"patterns\").insertAdjacentHTML(\"beforeend\", html);\n}\n\nfunction semy(string) {\n  const isSemy = /^semy/.test(string);\n  if (!isSemy) return false;\n  return string.match(/semy_of_(.*?)-/)[1];\n}\n\nexport function addCharge(charge) {\n  charge.slice(0, 12) === \"inescutcheon\" ? addInescutcheon(charge) : fetchCharge(charge);\n}\n\nfunction addInescutcheon(charge) {\n  const shieldName = charge.length > 12 ? charge.slice(12, 13).toLowerCase() + charge.slice(13) : get(shield);\n  const id = charge.length > 12 ? charge : \"inescutcheon\" + shieldName.charAt(0).toUpperCase() + shieldName.slice(1);\n\n  if (loadedCharges[id]) return; // already added\n  loadedCharges[id] = true;\n\n  const licenseAttrs = [\"noldor\", \"gondor\", \"easterling\", \"ironHills\", \"urukHai\", \"moriaOrc\"].includes(shieldName) ?\n    `author=\"Weta Workshop\" source=\"www.wetanz.com\" license=\"https://en.wikipedia.org/wiki/Fair_use\"` :\n    `author=Azgaar license=\"https://creativecommons.org/publicdomain/zero/1.0\"`;\n  const g = `<g id=${id} ${licenseAttrs}><path transform=\"translate(67 67) scale(.33)\" d=\"${shieldPaths[shieldName]}\"/></g>`\n  chargesGroup.insertAdjacentHTML(\"beforeend\", g);\n}\n\nfunction fetchCharge(charge) {\n  if (loadedCharges[charge]) return; // already added\n  loadedCharges[charge] = true;\n\n  fetch(\"charges/\"+charge+\".svg\").then(res => {\n    if (res.ok) return res.text();\n    else throw new Error(\"Cannot fetch charge\");\n  }).then(text => {\n    const el = document.createElement(\"html\");\n    el.innerHTML = text;\n    const g = el.querySelector(\"g\");\n    const metadata = el.getElementsByTagName(\"metadata\")[0];\n\n    if (metadata) {\n      const author = metadata.getAttribute(\"author\");\n      const source = metadata.getAttribute(\"source\");\n      const license = metadata.getAttribute(\"license\");\n      if (author) g.setAttribute(\"author\", author);\n      if (source) g.setAttribute(\"source\", source);\n      if (license) g.setAttribute(\"license\", license);\n    }\n\n    chargesGroup.insertAdjacentHTML(\"beforeend\", g.outerHTML);\n  }).catch(err => console.error(err));\n}\n\nfunction clr(tincture) {\n  if (!colorsData[tincture]) throw new error(`Tincture ${tincture} is not available in ${tincture}`);\n  return colorsData[tincture];\n}\n\nfunction getSizeMod(size) {\n  if (size === \"small\") return .8;\n  if (size === \"smaller\") return .5;\n  if (size === \"smallest\") return .25;\n  if (size === \"big\") return 1.6;\n  if (size === \"bigger\") return 2;\n  return 1;\n}","<script>\n  import {drag, transform} from \"../../scripts/drag\";\n  import {getTemplate} from \"../../scripts/getters\";\n  export let coa, ordinary, i, shieldPath, t, type;\n\n  let stroke, width;\n  $: {\n    stroke = ordinary.stroke || \"none\";\n    width = ordinary.strokeWidth || 1;\n  }\n\n  function addDrag(event) {\n    if (type !== \"Edit\") return;\n    drag(event, ordinary, coa);\n  }\n</script>\n\n{#if ordinary.ordinary === \"bordure\"}\n  <g class=\"ordinary\" {i} transform={transform(ordinary)} transform-origin=\"center\" on:mousedown={addDrag}>\n    <path d={shieldPath} fill=\"none\" stroke={t} stroke-width=\"16.7%\"/>\n  </g>\n{:else if ordinary.ordinary === \"orle\"}\n  <g class=\"ordinary\" {i} transform={transform(ordinary)} transform-origin=\"center\" on:mousedown={addDrag}>\n    <path d={shieldPath} fill=\"none\" stroke={t} stroke-width=\"5%\" transform=\"scale(.85)\" transform-origin=\"center\"/>\n  </g>\n{:else}\n  <g class=\"ordinary\" {i} transform={transform(ordinary)} transform-origin=\"center\" fill={t} {stroke} stroke-width={width} on:mousedown={addDrag}>\n    {@html getTemplate(ordinary.ordinary, ordinary.line)}\n  </g>\n{/if}","<script>\n  import {shieldPositions, shieldSize} from '../../data/shields';\n  import {drag, transform} from \"../../scripts/drag\";\n  export let coa, charge, i, shield, t, type;\n  let chargeId, positions, sizeModifier, stroke;\n\n  $: {\n    positions = shieldPositions[shield] || shieldPositions.spanish;\n    sizeModifier = shieldSize[shield] || 1;\n    stroke = charge.stroke || \"#000\";\n\n    chargeId = charge.charge;\n    // select shield shape if charge is just 'inescutcheon'\n    if (chargeId === \"inescutcheon\") chargeId = \"inescutcheon\" + shield.charAt(0).toUpperCase() + shield.slice(1);\n  }\n\n  function round(n) {\n    return Math.round(n * 100) / 100;\n  }\n\n  function getElTransform(c, p) {\n    const s = round((c.size || 1) * sizeModifier);\n    const sx = c.sinister ? -s : s;\n    const sy = c.reversed ? -s : s;\n    let [x, y] = positions[p];\n    x = round(x - 100 * (sx - 1));\n    y = round(y - 100 * (sy - 1));\n\n    const translate = x || y ? `translate(${x} ${y})` : null;\n    const scale = sx !== 1 || sy !== 1 ? sx === sy ? `scale(${s})` : `scale(${sx} ${sy})` : null;\n    return translate && scale ? `${translate} ${scale}` : translate ? translate : scale ? scale : null;\n  }\n\n  function addDrag(event) {\n    if (type !== \"Edit\") return;\n    drag(event, charge, coa);\n  }\n</script>\n\n<g class=\"charge\" {i} charge={chargeId} fill=\"{t}\" transform=\"{transform(charge)}\" {stroke} on:mousedown={addDrag}>\n  {#each [...new Set(charge.p)].filter(p => positions[p]) as p}\n    <use xlink:href=\"#{chargeId}\" transform=\"{getElTransform(charge, p)}\"/>\n  {/each}\n</g>","<script>\n  import Ordinary from './Ordinary.svelte';\n  import Charge from './Charge.svelte';\n  import {charges as chargesData, ordinaries as ordinariesData} from \"./../../data/dataModel\";\n  import {shield, colors, grad, diaper} from '../../data/stores';\n  import {shieldPaths} from '../../data/shields';\n  import {getTemplate, addPattern, addCharge} from \"../../scripts/getters\";\n  export let coa, i, border, borderWidth, type;\n\n  const {division, ordinaries = [], charges = []} = coa;\n  const ordinariesRegular = ordinaries.filter(o => !o.above);\n  const ordinariesAboveCharges = ordinaries.filter(o => o.above);\n  charges.forEach(charge => addCharge(charge.charge));\n\n  let shieldPath, coaDiaper, diaperType;\n  $: {\n    shieldPath = shieldPaths[$shield];\n    coaDiaper = type === \"menuItem\" ? null : coa.diaper || $diaper;\n    diaperType = getDieperType();\n  }\n\n  function getDieperType() {\n    if (!coaDiaper || coaDiaper === \"no\") return null;\n    const f = !coa.t1.includes(\"-\");\n    const d = !division?.t.includes(\"-\");\n    if (f && d) return \"overall\";\n    if (f) return \"field\";\n    if (d) return \"division\";\n    return null;\n  }\n\n  // if charge doesn't support pattern, return basic tincture\n  function counterChange(t, charge) {\n    if (!(/-/).test(t)) return clr(t); // not a pattern\n    if (chargesData.patternable.includes(charge)) return clr(t); // patternable\n    if (ordinariesData.patternable.includes(charge)) return clr(t); // patternable\n    return clr(t.split(\"-\")[1]); // not patternable, return basic color\n  }\n\n  // get color or link to pattern\n  function clr(tincture) {\n    if ($colors[tincture]) return $colors[tincture];\n    addPattern(tincture);\n    return \"url(#\"+tincture+\")\";\n  }\n</script>\n\n<defs>\n  <clipPath id=\"shield{i}\">\n    <path d=\"{shieldPath}\"/>\n  </clipPath>\n  {#if division && division.division !== \"no\"}\n    <clipPath id=\"divisionClip{i}\">\n      {@html getTemplate(division.division, division.line)}\n    </clipPath>\n  {/if}\n</defs>\n\n<g id=shield clip-path=\"url(#shield{i})\">\n\n  <!-- Field -->\n  <rect id=field x=0 y=0 width=200 height=200 fill=\"{clr(coa.t1)}\"/>\n\n  {#if division && division.division !== \"no\"}\n    <!-- In field part -->\n    {#each ordinariesRegular as ordinary, i}\n      {#if ordinary.divided === \"field\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n      {:else if ordinary.divided === \"counter\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(division.t, ordinary.ordinary)} {type}/>\n      {/if}\n    {/each}\n\n    {#if diaperType === \"field\"}\n      <rect class=diaper x=0 y=0 width=200 height=200 fill=\"url(#{coaDiaper})\" style=\"pointer-events: none\"/>\n    {/if}\n\n    {#each charges as charge, i}\n      {#if charge.divided === \"field\"}\n        <Charge {coa} {charge} {i} shield={$shield} t={clr(charge.t)} {type}/>\n      {:else if charge.divided === \"counter\"}\n        <Charge {coa} {charge} {i} shield={$shield} t={counterChange(division.t, charge.charge)} {type}/>\n      {/if}\n    {/each}\n\n    {#each ordinariesAboveCharges as ordinary, i}\n      {#if ordinary.divided === \"field\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n      {:else if ordinary.divided === \"counter\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(division.t, ordinary.ordinary)} {type}/>\n      {/if}\n    {/each}\n\n    <!-- In division part -->\n    <g id=division clip-path=\"url(#divisionClip{i})\">\n      <rect x=0 y=0 width=200 height=200 fill=\"{clr(division.t)}\"/>\n\n      {#each ordinariesRegular as ordinary, i}\n        {#if ordinary.divided === \"division\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n        {:else if ordinary.divided === \"counter\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(coa.t1, ordinary.ordinary)} {type}/>\n        {/if}\n      {/each}\n\n      {#if diaperType === \"division\"}\n        <rect class=diaper x=0 y=0 width=200 height=200 fill=\"url(#{coaDiaper})\" style=\"pointer-events: none\"/>\n      {/if}\n\n      {#each charges as charge, i}\n        {#if charge.divided === \"division\"}\n          <Charge {coa} {charge} {i} shield={$shield} t={clr(charge.t)} {type}/>\n        {:else if charge.divided === \"counter\"}\n          <Charge {coa} {charge} {i} shield={$shield} t={counterChange(coa.t1, charge.charge)} {type}/>\n        {/if}\n      {/each}\n\n      {#each ordinariesAboveCharges as ordinary, i}\n        {#if ordinary.divided === \"division\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n        {:else if ordinary.divided === \"counter\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(coa.t1, ordinary.ordinary)} {type}/>\n        {/if}\n      {/each}\n    </g>\n  {/if}\n\n  <!-- Overall -->\n  {#each ordinariesRegular as ordinary, i}\n    {#if !ordinary.divided}\n      <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n    {/if}\n  {/each}\n\n  {#if diaperType === \"overall\"}\n    <rect class=diaper x=0 y=0 width=200 height=200 fill=\"url(#{coaDiaper})\" style=\"pointer-events: none\"/>\n  {/if}\n\n  {#each charges as charge, i}\n    {#if !charge.divided || !division}\n      <Charge {coa} {charge} {i} shield={$shield} t={clr(charge.t)} {type}/>\n    {/if}\n  {/each}\n\n  {#each ordinariesAboveCharges as ordinary, i}\n    {#if !ordinary.divided}\n      <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type}/>\n    {/if}\n  {/each}\n</g>\n\n<path class=grad d={shieldPath} fill=\"url(#{$grad})\" stroke={border} stroke-width={borderWidth} style=\"pointer-events: none\"/>","<script>\n  import {state, grid, showGrid} from \"./../../data/stores\";\n  import {fade} from 'svelte/transition';\n\n  $: transform = $state.transform || null;\n</script>\n\n{#if $showGrid}\n  <pattern id=gridPattern width={$grid} height={$grid} patternUnits=\"userSpaceOnUse\">\n    <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"#000\" opacity=.2 stroke-width=.5/>\n  </pattern>\n  <g id=grid style=\"pointer-events: none\" {transform} transform-origin=center transition:fade|local>\n    <rect x=-200 y=-200 width=400 height=400 fill=\"url(#gridPattern)\"/>\n  </g>\n{/if}","<script>\n  import {state, shield} from \"./../../data/stores\";\n  import {shieldPositions} from \"./../../data/shields\";\n  import {fade} from 'svelte/transition';\n\n  // on shield change\n  $: points = shieldPositions[$shield] ? Object.entries(shieldPositions[$shield]) : Object.entries(shieldPositions.spanish);\n\n  function getClass(p) {\n    if (\"abcdefghi\".includes(p)) return \"green\";\n    if (\"ABCDEFGHIJKL\".includes(p)) return \"red\";\n    if (\"zy\".includes(p)) return \"yellow\";\n    return \"blue\";\n  }\n</script>\n\n{#if $state.positions}\n  <g transform={$state.transform || null} transform-origin=center>\n    <g id=positions transform=\"translate(100, 100)\" transition:fade|local>\n      {#each points as p}\n        <g id={p[0]} class={getClass(p[0])}>\n          <circle cx={p[1][0]} cy={p[1][1]} r=3 class:active={$state.positions.includes(p[0])}/>\n          <text style=\"dominant-baseline: central\" x={p[1][0]} y={p[1][1]} class:active={$state.positions.includes(p[0])}>{p[0]}</text>\n        </g>\n      {/each}\n    </g>\n  </g>\n{/if}\n\n<style>\n  circle {\n    opacity: .6;\n  }\n\n  circle.active {\n    opacity: 1;\n  }\n\n  text {\n    font-family: monospace;\n    text-anchor: middle;\n    font-size: 5px;\n    fill: #ddd;\n  }\n\n  text.active {\n    fill: #fff;\n  }\n\n  .green {\n    fill: rgb(12, 80, 12);\n  }\n\n  .blue {\n    fill: rgb(12, 12, 80);\n  }\n\n  .red {\n    fill: rgb(80, 12, 12);\n  }\n\n  .yellow {\n    fill: rgb(84, 84, 0);\n  }\n</style>","<script>\n  import Shield from './Shield.svelte';\n  import Grid from './../editor/Grid.svelte';\n  import Positions from './../editor/Positions.svelte';\n  import {shield, border, borderWidth} from './../../data/stores';\n  import {shieldBox} from './../../data/shields';\n  export let coa, i, w, h;\n  $: viewBox = shieldBox[$shield] || \"0 0 200 200\";\n</script>\n\n<svg id=\"coa{i}\" class=\"coa\" width={w} height={h} {viewBox} xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n  <Shield {coa} {i} border={$border} borderWidth={$borderWidth} type={i}/>\n  {#if i === \"Edit\"}\n    <Grid/>\n    <Positions/>\n  {/if}\n</svg>","import {get} from 'svelte/store';\nimport {aleaPRNG} from './alea';\nimport {rw, P} from './utils';\nimport {charges, divisions, lines, ordinaries, positions} from \"../data/dataModel\";\nimport {tinctures} from '../data/stores';\n\n// main generation routine\nexport const generate = function(seed = Math.floor(Math.random() * 1e9)) {\n  Math.random = aleaPRNG(seed);\n\n  // reset parameters to default\n  let usedPattern = null, usedTinctures = [];\n  const tData = get(tinctures); // tinctures data\n\n  const coa = {seed, t1: getTincture(\"field\")};\n\n  let charge = P(usedPattern ? .5 : .93) ? true : false; // 80% for charge\n  const linedOrdinary = charge && P(.3) || P(.5) ? rw(ordinaries.lined) : null;\n  const ordinary = !charge && P(.65) || P(.3) ? linedOrdinary ? linedOrdinary : rw(ordinaries.straight) : null; // 36% for ordinary\n  const rareDivided = [\"chief\", \"terrace\", \"chevron\", \"quarter\", \"flaunches\"].includes(ordinary);\n  const divisioned = rareDivided ? P(.03) : charge && ordinary ? P(.03) : charge ? P(.3) : ordinary ? P(.7) : P(.995); // 33% for division\n  const division = divisioned ? rw(divisions.variants) : null;\n  if (charge) charge = selectCharge();\n\n  if (division) {\n    const t = getTincture(\"division\", usedTinctures, P(.98) ? coa.t1 : null);\n    coa.division = {division, t};\n    if (divisions[division]) coa.division.line = usedPattern || (ordinary && P(.7)) ? \"straight\" : rw(divisions[division]);\n  }\n\n  if (ordinary) {\n    coa.ordinaries = [{ordinary, t: getTincture(\"charge\", usedTinctures, coa.t1)}];\n    if (linedOrdinary) coa.ordinaries[0].line = usedPattern || (division && P(.7)) ? \"straight\" : rw(lines);\n    if (division && !charge && !usedPattern && P(.5) && ordinary !== \"bordure\" && ordinary !== \"orle\") {\n      if (P(.8)) coa.ordinaries[0].divided = \"counter\"; // 40%\n      else if (P(.6)) coa.ordinaries[0].divided = \"field\"; // 6%\n      else coa.ordinaries[0].divided = \"division\"; // 4%\n    }\n  }\n\n  if (charge) {\n    let p = \"e\", t = \"gules\";\n    const ordinaryT = coa.ordinaries ? coa.ordinaries[0].t : null;\n    if (positions.ordinariesOn[ordinary] && P(.8)) {\n      // place charge over ordinary (use tincture of field type)\n      p = rw(positions.ordinariesOn[ordinary]);\n      while (charges.natural[charge] === ordinaryT) charge = selectCharge();\n      t = !usedPattern && P(.3) ? coa.t1 : getTincture(\"charge\", [], ordinaryT);\n    } else if (positions.ordinariesOff[ordinary] && P(.95)) {\n      // place charge out of ordinary (use tincture of ordinary type)\n      p = rw(positions.ordinariesOff[ordinary]);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge();\n      t = !usedPattern && P(.3) ? ordinaryT : getTincture(\"charge\", usedTinctures, coa.t1);\n    } else if (positions.divisions[division]) {\n      // place charge in fields made by division\n      p = rw(positions.divisions[division]);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge();\n      t = getTincture(\"charge\", ordinaryT ? usedTinctures.concat(ordinaryT) : usedTinctures, coa.t1);\n    } else if (positions[charge]) {\n      // place charge-suitable position\n      p = rw(positions[charge]);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge();\n      t = getTincture(\"charge\", usedTinctures, coa.t1);\n    } else {\n      // place in standard position (use new tincture)\n      p = usedPattern ? \"e\" : charges.conventional[charge] ? rw(positions.conventional) : rw(positions.complex);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge();\n      t = getTincture(\"charge\", usedTinctures.concat(ordinaryT), coa.t1);\n    }\n\n    if (charges.natural[charge]) t = charges.natural[charge]; // natural tincture\n    coa.charges = [{charge, t, p}];\n\n    if (p === \"ABCDEFGHIKL\" && P(.95)) {\n      // add central charge if charge is in bordure\n      coa.charges[0].charge = rw(charges.conventional);\n      const charge = selectCharge(charges.single);\n      const t = getTincture(\"charge\", usedTinctures, coa.t1);\n      coa.charges.push({charge, t, p: \"e\"});\n    } else if (P(.8) && charge === \"inescutcheon\") {\n      // add charge to inescutcheon\n      const charge = selectCharge(charges.types);\n      const t2 = getTincture(\"charge\", [], t);\n      coa.charges.push({charge, t: t2, p, size:.5});\n    } else if (division && !ordinary) {\n      const allowCounter = !usedPattern && (!coa.line || coa.line === \"straight\");\n\n      // dimidiation: second charge at division basic positons\n      if (P(.3) && [\"perPale\", \"perFess\"].includes(division) && coa.line === \"straight\") {\n        coa.charges[0].divided = \"field\";\n        if (P(.95)) {\n          const p2 = p === \"e\" || P(.5) ? \"e\" : rw(positions.divisions[division]);\n          const charge = selectCharge(charges.single);\n          const t = getTincture(\"charge\", usedTinctures, coa.division.t);\n          coa.charges.push({charge, t, p: p2, divided: \"division\"});\n        }\n      }\n      else if (allowCounter && P(.4)) coa.charges[0].divided = \"counter\"; // counterchanged, 40%\n      else if ([\"perPale\", \"perFess\", \"perBend\", \"perBendSinister\"].includes(division) && P(.8)) { // place 2 charges in division standard positions\n        const [p1, p2] = division === \"perPale\" ? [\"p\", \"q\"] :\n                         division === \"perFess\" ? [\"k\", \"n\"] :\n                         division === \"perBend\" ? [\"l\", \"m\"] :\n                        [\"j\", \"o\"]; // perBendSinister\n        coa.charges[0].p = p1;\n\n        const charge = selectCharge(charges.single);\n        const t = getTincture(\"charge\", usedTinctures, coa.division.t);\n        coa.charges.push({charge, t, p: p2});\n      }\n      else if ([\"perCross\", \"perSaltire\"].includes(division) && P(.5)) { // place 4 charges in division standard positions\n        const [p1, p2, p3, p4] = division === \"perCross\" ? [\"j\", \"l\", \"m\", \"o\"] : [\"b\", \"d\", \"f\", \"h\"];\n        coa.charges[0].p = p1;\n\n        const c2 = selectCharge(charges.single);\n        const t2 = getTincture(\"charge\", [], coa.division.t);\n\n        const c3 = selectCharge(charges.single);\n        const t3 = getTincture(\"charge\", [], coa.division.t);\n\n        const c4 = selectCharge(charges.single);\n        const t4 = getTincture(\"charge\", [], coa.t1);\n        coa.charges.push({charge: c2, t: t2, p: p2}, {charge: c3, t: t3, p: p3}, {charge: c4, t: t4, p: p4});\n      }\n      else if (allowCounter && p.length > 1) coa.charges[0].divided = \"counter\"; // counterchanged, 40%\n    }\n\n    coa.charges.forEach(c => defineChargeAttributes(c));\n    function defineChargeAttributes(c) {\n      // define size\n      c.size = (c.size || 1) * getSize(c.p, ordinary, division);\n\n      // clean-up position\n      c.p = [...new Set(c.p)].join(\"\");\n\n      // define orientation\n      if (P(.02) && charges.sinister.includes(c.charge)) c.sinister = 1;\n      if (P(.02) && charges.reversed.includes(c.charge)) c.reversed = 1;\n    }\n  }\n\n  function selectCharge(set) {\n    const type = set ? rw(set) : ordinary || divisioned ? rw(charges.types): rw(charges.single);\n    return type === \"inescutcheon\" ? \"inescutcheon\" : rw(charges[type]);\n  }\n\n  // select tincture: element type (field, division, charge), used field tinctures, field type to follow RoT\n  function getTincture(element, fields = [], RoT) {\n    const base = RoT ? RoT.includes(\"-\") ? RoT.split(\"-\")[1] : RoT : null;\n\n    let type = rw(tData[element]); // metals, colours, stains, patterns\n    if (RoT && type !== \"patterns\") type = getType(base) === \"metals\" ? \"colours\" : \"metals\"; // follow RoT\n    if (type === \"metals\" && fields.includes(\"or\") && fields.includes(\"argent\")) type = \"colours\"; // exclude metals overuse\n    let tincture = rw(tData[type]);\n\n    while (tincture === base || fields.includes(tincture)) {tincture = rw(tData[type]);} // follow RoT\n\n    if (type !== \"patterns\" && element !== \"charge\") usedTinctures.push(tincture); // add field tincture\n\n    if (type === \"patterns\") {\n      usedPattern = tincture;\n      tincture = definePattern(tincture, element);\n    }\n\n    return tincture;\n  }\n\n  function getType(t) {\n    const tincture = t.includes(\"-\") ? t.split(\"-\")[1] : t;\n    if (Object.keys(tData.metals).includes(tincture)) return \"metals\";\n    if (Object.keys(tData.colours).includes(tincture)) return \"colours\";\n    if (Object.keys(tData.stains).includes(tincture)) return \"stains\";\n    debugger; // exception\n  }\n\n  function definePattern(pattern, element, size = \"\") {\n    let t1 = null, t2 = null;\n    if (P(.1)) size = \"-small\";\n    else if (P(.1)) size = \"-smaller\";\n    else if (P(.03)) size = \"-big\";\n    else if (P(.005)) size = \"-smallest\";\n\n    // apply standard tinctures\n    if (P(.5) && (pattern.includes(\"air\") || pattern.includes(\"otent\"))) {t1 = \"argent\"; t2 = \"azure\";}\n    else if (pattern === \"ermine\") {\n      if (P(.7)) {t1 = \"argent\"; t2 = \"sable\";}\n      else if (P(.3)) {t1 = \"sable\"; t2 = \"argent\";}\n      else if (P(.1)) {t1 = \"or\"; t2 = \"sable\";}\n      else if (P(.1)) {t1 = \"sable\"; t2 = \"or\";}\n      else if (P(.1)) {t1 = \"gules\"; t2 = \"argent\";}\n    }\n    else if (pattern.includes(\"pappellony\") || pattern === \"scaly\") {\n      if (P(.2)) {t1 = \"gules\"; t2 = \"or\";}\n      else if (P(.2)) {t1 = \"sable\"; t2 = \"argent\";}\n      else if (P(.2)) {t1 = \"argent\"; t2 = \"sable\";}\n      else if (P(.2)) {t1 = \"azure\"; t2 = \"argent\";}\n    }\n    else if (P(.2) && pattern === \"plumetty\") {t1 = \"gules\"; t2 = \"or\";}\n    else if (pattern === \"masoned\") {\n      if (P(.3)) {t1 = \"gules\"; t2 = \"argent\";}\n      else if (P(.3)) {t1 = \"argent\"; t2 = \"sable\";}\n      else if (P(.1)) {t1 = \"or\"; t2 = \"sable\";}\n    }\n    else if (pattern === \"fretty\" || pattern === \"grillage\" || pattern === \"chainy\") {\n      if (P(.35)) {t1 = \"argent\"; t2 = \"gules\";}\n      else if (P(.1)) {t1 = \"sable\"; t2 = \"or\";}\n      else if (P(.2)) {t1 = \"gules\"; t2 = \"argent\";}\n    }\n    else if (pattern === \"honeycombed\") {\n      if (P(.4)) {t1 = \"sable\"; t2 = \"or\";}\n      else if (P(.3)) {t1 = \"or\"; t2 = \"sable\";}\n    }\n    else if (pattern === \"semy\") pattern += \"_of_\" + selectCharge(charges.semy);\n\n    if (!t1 || !t2) {\n      const startWithMetal = P(.7);\n      t1 = startWithMetal ? rw(tData.metals) : rw(tData.colours);\n      t2 = startWithMetal ? rw(tData.colours) : rw(tData.metals);\n    }\n\n    // division should not be the same tincture as base field\n    if (element === \"division\") {\n      if (usedTinctures.includes(t1)) t1 = replaceTincture(t1);\n      if (usedTinctures.includes(t2)) t2 = replaceTincture(t2);\n    }\n\n    usedTinctures.push(t1, t2);\n    return `${pattern}-${t1}-${t2}${size}`;\n  }\n\n  function replaceTincture(t, n) {\n    const type = getType(t);\n    while (!n || n === t) {n = rw(tData[type]);}\n    return n;\n  }\n\n  return coa;\n}\n\nexport const getSize = (p, o = null, d = null) => {\n  if (p === \"e\" && (o === \"bordure\" || o === \"orle\")) return 1.1;\n  if (p === \"e\") return 1.5;\n  if (p === \"jln\" || p === \"jlh\") return .7;\n  if (p === \"abcpqh\" || p === \"ez\" || p === \"be\") return .5;\n  if ([\"a\", \"b\", \"c\", \"d\", \"f\", \"g\", \"h\", \"i\", \"bh\", \"df\"].includes(p)) return .5;\n  if ([\"j\", \"l\", \"m\", \"o\", \"jlmo\"].includes(p) && d === \"perCross\") return .6;\n  if (p.length > 10) return .18; // >10 (bordure)\n  if (p.length > 7) return .3; // 8, 9, 10\n  if (p.length > 4) return .4; // 5, 6, 7\n  if (p.length > 2) return .5; // 3, 4\n  return .7; // 1, 2\n}","/*///////////////////////////////////////////////////////////////////////////////////////////////////\naleaPRNG 1.1\n/////////////////////////////////////////////////////////////////////////////////////////////////////\nhttps://github.com/macmcmeans/aleaPRNG/blob/master/aleaPRNG-1.1.js\n/////////////////////////////////////////////////////////////////////////////////////////////////////\nOriginal work copyright © 2010 Johannes Baagøe, under MIT license\nThis is a derivative work copyright (c) 2017-2020, W. Mac\" McMeans, under BSD license.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n///////////////////////////////////////////////////////////////////////////////////////////////////*/\nexport function aleaPRNG() {\n  return (function (args) {\n    \"use strict\";\n\n    const version = \"aleaPRNG 1.1.0\";\n\n    var s0,\n      s1,\n      s2,\n      c,\n      uinta = new Uint32Array(3),\n      initialArgs,\n      mashver = \"\";\n    /* private: initializes generator with specified seed */\n    function _initState(_internalSeed) {\n      var mash = Mash();\n\n      // internal state of generator\n      s0 = mash(\" \");\n      s1 = mash(\" \");\n      s2 = mash(\" \");\n\n      c = 1;\n\n      for (var i = 0; i < _internalSeed.length; i++) {\n        s0 -= mash(_internalSeed[i]);\n        if (s0 < 0) {\n          s0 += 1;\n        }\n\n        s1 -= mash(_internalSeed[i]);\n        if (s1 < 0) {\n          s1 += 1;\n        }\n\n        s2 -= mash(_internalSeed[i]);\n        if (s2 < 0) {\n          s2 += 1;\n        }\n      }\n\n      mashver = mash.version;\n\n      mash = null;\n    }\n\n    /* private: dependent string hash function */\n    function Mash() {\n      var n = 4022871197; // 0xefc8249d\n\n      var mash = function (data) {\n        data = data.toString();\n\n        // cache the length\n        for (var i = 0, l = data.length; i < l; i++) {\n          n += data.charCodeAt(i);\n\n          var h = 0.02519603282416938 * n;\n\n          n = h >>> 0;\n          h -= n;\n          h *= n;\n          n = h >>> 0;\n          h -= n;\n          n += h * 4294967296; // 0x100000000      2^32\n        }\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n      };\n\n      mash.version = \"Mash 0.9\";\n      return mash;\n    }\n\n    /* private: check if number is integer */\n    function _isInteger(_int) {\n      return parseInt(_int, 10) === _int;\n    }\n\n    /* public: return a 32-bit fraction in the range [0, 1]\n      This is the main function returned when aleaPRNG is instantiated\n      */\n    var random = function () {\n      var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n\n      s0 = s1;\n      s1 = s2;\n\n      return (s2 = t - (c = t | 0));\n    };\n\n    /* public: return a 53-bit fraction in the range [0, 1] */\n    random.fract53 = function () {\n      return random() + ((random() * 0x200000) | 0) * 1.1102230246251565e-16; // 2^-53\n    };\n\n    /* public: return an unsigned integer in the range [0, 2^32] */\n    random.int32 = function () {\n      return random() * 0x100000000; // 2^32\n    };\n\n    /* public: advance the generator the specified amount of cycles */\n    random.cycle = function (_run) {\n      _run = typeof _run === \"undefined\" ? 1 : +_run;\n      if (_run < 1) {\n        _run = 1;\n      }\n      for (var i = 0; i < _run; i++) {\n        random();\n      }\n    };\n\n    /* public: return inclusive range */\n    random.range = function () {\n      var loBound, hiBound;\n\n      if (arguments.length === 1) {\n        loBound = 0;\n        hiBound = arguments[0];\n      } else {\n        loBound = arguments[0];\n        hiBound = arguments[1];\n      }\n\n      if (arguments[0] > arguments[1]) {\n        loBound = arguments[1];\n        hiBound = arguments[0];\n      }\n\n      // return integer\n      if (_isInteger(loBound) && _isInteger(hiBound)) {\n        return Math.floor(random() * (hiBound - loBound + 1)) + loBound;\n\n        // return float\n      } else {\n        return random() * (hiBound - loBound) + loBound;\n      }\n    };\n\n    /* public: initialize generator with the seed values used upon instantiation */\n    random.restart = function () {\n      _initState(initialArgs);\n    };\n\n    /* public: seeding function */\n    random.seed = function () {\n      _initState(Array.prototype.slice.call(arguments));\n    };\n\n    /* public: show the version of the RNG */\n    random.version = function () {\n      return version;\n    };\n\n    /* public: show the version of the RNG and the Mash string hasher */\n    random.versions = function () {\n      return version + \", \" + mashver;\n    };\n\n    // when no seed is specified, create a random one from Windows Crypto (Monte Carlo application)\n    if (args.length === 0) {\n      window.crypto.getRandomValues(uinta);\n      args = [uinta[0], uinta[1], uinta[2]];\n    }\n\n    // store the seed used when the RNG was instantiated, if any\n    initialArgs = args;\n\n    // initialize the RNG\n    _initState(args);\n\n    return random;\n  })(Array.prototype.slice.call(arguments));\n}\n","<script>\n  import COA from './../object/COA.svelte';\n  import {history} from './../../data/stores';\n\timport {generate} from './../../scripts/generator';\n  export let c, seed, coaSize;\n  let coa = $history[c] || generate(seed || undefined); // on load\n\n  function edit() {\n    if (/noedit/i.test(window.location.search)) return;\n    const URL = window.location.href.replace(\"view=1\", \"view=0\");\n    const win = window.open(URL, \"_blank\");\n    win.focus();\n  }\n</script>\n\n<div id=viewer on:click={edit}>\n  <COA {coa} i=View w={coaSize} h={coaSize}/>\n</div>","<script>\n  export let type;\n</script>\n\nType:\n<select bind:value={type}>\n  <option value=\"tincture\">Tincture</option>\n  <option value=\"pattern\">Pattern</option>\n  <option value=\"semy\">Semy</option>\n</select>","<script>\n  export let size;\n</script>\n\n<span style=\"margin-left: 1em\">Size:</span>\n<select bind:value={size}>\n  <option value=\"bigger\">Bigger</option>\n  <option value=\"big\">Big</option>\n  <option value=\"standard\">Standard</option>\n  <option value=\"small\">Small</option>\n  <option value=\"smaller\">Smaller</option>\n  <option value=\"smallest\">Smallest</option>\n</select>","<script>\n  import Shield from './../object/Shield.svelte';\n  import {tooltip} from './../../scripts/tooltip';\n  export let coa, tip, itemSize;\n  const i = Math.floor(1e6 * Math.random());\n\n  $: title = cap(tip);\n\n  function cap(string) {\n    return string\n      .replace(/_/g, \" \")\n      .replace(/(?<!_)(?=[A-Z])/g, \" \")\n      .replace(/\\w\\S*/g, s => s.charAt(0).toUpperCase() + s.substr(1).toLowerCase());\n  }\n</script>\n\n<svg class=menuItem xmlns=http://www.w3.org/2000/svg width={itemSize} height={itemSize} viewBox=\"0 0 200 200\" {title} use:tooltip>\n  <Shield {coa} {i} border=#333 borderWidth=2 type=menuItem/>\n</svg>","<script>\n  import EditorItem from './EditorItem.svelte';\n  import {tinctures} from './../../data/stores';\n  export let t1, itemSize;\n\n  const coas = [\"metals\", \"colours\", \"stains\"].map(type => {\n      return Object.keys($tinctures[type]).map(t => {\n        return {t1: t, tip: `${type.slice(0, -1)}: ${t}`};\n      });\n    }).flat();\n</script>\n\n<div>Tincture:</div>\n{#each coas as coa}\n  <div class=item class:selected={t1 === coa.t1} on:click={() => t1 = coa.t1}>\n    <EditorItem {coa} tip={coa.tip} {itemSize}/>\n  </div>\n{/each}","<script>\n  import EditorItem from './EditorItem.svelte';\n  import {defaultTinctures} from \"./../../data/dataModel\";\n  export let pattern, t1, t2, size, itemSize;\n  const patterns = Object.keys(defaultTinctures.patterns).filter(pattern => pattern !== \"semy\");\n\n  // clean group\n  document.getElementById(\"patterns\").innerHTML = \"\";\n\n  $: coas = patterns.map(pattern => {\n    let tincture = `${pattern}-${t1}-${t2}`;\n    if (size !== \"standard\") tincture += `-${size}`;\n    return {pattern, t1: tincture};\n  });\n</script>\n\n<div>Pattern:</div>\n{#each coas as coa}\n  <div class=item class:selected={pattern === coa.pattern} on:click={() => pattern = coa.pattern}>\n    <EditorItem {coa} tip={coa.pattern} {itemSize}/>\n  </div>\n{/each}","<script>\n  import EditorItem from './EditorItem.svelte';\n  import {charges} from \"./../../data/dataModel\";\n  export let charge, type, category, t1, t2, size = null, sinister = null, reversed = null, division = false, itemSize;\n  let coas = [], query, queryOld;\n\n  const categories = Object.keys(charges.types);\n  const allCharges = categories.map(category => Object.keys(charges[category])).flat();\n  const cap = string => string.charAt(0).toUpperCase() + string.slice(1);\n\n  $: update(category, t1, t2, size, sinister, reversed);\n  $: showResults(query);\n\n  function update() {\n    const chargeList = Object.keys(charges[category]);\n    coas = chargeList.map(c => new Object({c, t1: getTincture(c), charges: getCharge(c)}));\n  }\n\n  function showResults(query) {\n    if (!query && query !== queryOld) update();\n    queryOld = query;\n    if (!query) return;\n\n    const regEx = new RegExp(query.replaceAll(\" \", \"\"), \"i\");\n    const results = allCharges.filter(c => regEx.test(c));\n    coas = results.map(c => new Object({c, t1: getTincture(c), charges: getCharge(c)}));\n  }\n\n  function getTincture(c) {\n    if (type === \"semy\") return `semy_of_${c}-${t1}-${t2}-${size}`;\n    return t1;\n  }\n\n  function getCharge(c) {\n    if (type === \"semy\") return [];\n    return [{charge:c, t: t2, p: \"e\", size: 1.5, sinister, reversed}];\n  }\n\n  function getTip(c) {\n    if (type === \"semy\") return `Semy of ${c}`;\n    return `Charge: ${c}`;\n  }\n</script>\n\n{#if type === \"semy\"}\n  <span>Charge:</span>\n{:else}\n  <span class:indented={division}>Category:</span>\n{/if}\n<select bind:value={category} class:inactive={query} on:input={() => query = \"\"}>\n  {#each categories as type}\n    <option value={type}>{cap(type)}</option>\n  {/each}\n</select>\n\n<span class:indented={true}>Search:</span>\n<input bind:value={query} class:inactive={!query}/>\n\n<div>\n  {#each coas as coa (coa)}\n    <div class=item class:selected={charge === coa.c} on:click={() => charge = coa.c}>\n      <EditorItem {coa} tip={getTip(coa.c)} {itemSize}/>\n    </div>\n  {/each}\n</div>\n\n<style>\n  input {\n    width: 10em;\n  }\n\n  .inactive {\n    background-color: #ddd;\n  }\n\n  .indented {\n    margin-left: 1em;\n  }\n</style>","<script>\n  import EditorItem from './EditorItem.svelte';\n  import {divisions} from \"./../../data/dataModel\";\n  export let division, t1, t, line, itemSize;\n\n  const divisionList = [\"no\"].concat(Object.keys(divisions.variants));\n  $: coas = divisionList.map(division => new Object({d: division, t1, division: {division, t, line}}));\n</script>\n\n{#each coas as coa (coa)}\n  <div class=item class:selected={division === coa.d} on:click={() => division = coa.d}>\n    <EditorItem {coa} tip={\"Division: \" + coa.d} {itemSize}/>\n  </div>\n{/each}","<script>\n  export let divided, raster = null;\n</script>\n\n<span>Divided:</span>\n<select bind:value={divided}>\n  <option value=\"\">No (standard)</option>\n  <option value=\"field\">Crop by main field</option>\n  <option value=\"division\">Crop by division</option>\n  {#if !raster}\n    <option value=\"counter\">Сounterchanged</option>\n  {/if}\n</select>","<script>\n  import EditorItem from './EditorItem.svelte';\n  import {lines} from \"./../../data/dataModel\";\n  export let line, division = null, ordinary = null, t1, t, itemSize;\n\n  const lineList = Object.keys(lines);\n  $: coas = division ? \n    lineList.map(line => new Object({line, t1, division: {division, t, line}})) :\n    lineList.map(line => new Object({line, t1, ordinaries: [{ordinary, t, line}]})); \n  const getTip = l => division ? \"Division line: \" + l : \"Ordinary line: \" + l;\n</script>\n\n<div>Line:</div>\n{#each coas as coa (coa)}\n  <div class=item class:selected={line === coa.line} on:click={() => line = coa.line}>\n    <EditorItem {coa} tip={getTip(coa.line)} {itemSize}/>\n  </div>\n{/each}","<script>\n  import EditorItem from './EditorItem.svelte';\n  import {ordinaries} from \"./../../data/dataModel\";\n  export let ordinary, line, t1, t, itemSize;\n\n  const ordinariesList = Object.keys(ordinaries.lined).concat(Object.keys(ordinaries.straight));\n  $: coas = ordinariesList.map(ordinary => new Object({ordinary, t1, ordinaries: [{ordinary, line, t}]}));\n</script>\n\n{#each coas as coa (coa)}\n  <div class=item class:selected={ordinary === coa.ordinary} on:click={() => ordinary = coa.ordinary}>\n    <EditorItem {coa} tip=\"Ordinary: {coa.ordinary}\" {itemSize}/>\n  </div>\n{/each}","<script>\n  export let checked = false;\n  const id = \"switch\" + Math.floor(1e6 * Math.random());\n</script>\n\n<div class=switch>\n  <input id={id} class=switch-input type=checkbox bind:checked/>\n  <label for={id} class=switch-label>Switch</label>\n</div>\n\n<style>\n  .switch {\n    position: relative;\n    display: inline-block;\n    top: -5px;\n  }\n\n  .switch-input {\n    display: none;\n  }\n\n  .switch-label {\n    display: block;\n    width: 48px;\n    height: 24px;\n    color: transparent;\n  }\n\n  .switch-label::before, .switch-label::after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    cursor: pointer;\n  }\n\n  .switch-label::before {\n    width: 100%;\n    height: 100%;\n    background-color: #dedede;\n    border-radius: 9999em;\n    -webkit-transition: background-color 0.25s ease;\n    transition: background-color 0.25s ease;\n  }\n\n  .switch-label::after {\n    top: 0;\n    left: 0;\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    background-color: #fff;\n    box-shadow: 0 0 2px rgba(0, 0, 0, 0.45);\n    -webkit-transition: left 0.25s ease;\n    transition: left 0.25s ease;\n  }\n\n  .switch-input:checked + .switch-label::before {\n    background-color: #89c12d;\n  }\n\n  .switch-input:checked + .switch-label::after {\n    left: 24px;\n  }\n</style>","<script>\n  import Switch from './Switch.svelte';\n  import {tooltip} from './../../scripts/tooltip';\n  export let element;\n</script>\n\n<span title=\"Element stroke. Check to render and select a color\" use:tooltip>\n  <span>Stroke:</span>\n  <Switch bind:checked={element.showStroke}/>\n  {#if element.showStroke}\n    <span style=\"margin-left: 1em\">Color:</span>\n    <input type=color bind:value={element.stroke}/>\n\n    {#if element.ordinary}\n      <span style=\"margin-left: 1em\">Width:</span>\n      <input type=number min=.1 max=5 step=.1 bind:value={element.strokeWidth}/>\n    {/if}\n  {/if}\n</span>\n\n<style>\n  input[type=color] {\n    margin: 0 0 0 .2em;\n    padding: 0;\n    cursor: pointer;\n  }\n\n  input[type=number] {\n    width: 4em;\n  }\n</style>","<script>\n  import Switch from './Switch.svelte';\n  import {state} from './../../data/stores';\n  import {positionsSelect} from \"./../../data/dataModel\";\n  import {getSize} from './../../scripts/generator';\n  import {tooltip} from './../../scripts/tooltip';\n  export let charge;\n\n  function showPositions() {\n    $state.transform = `rotate(${charge.angle||0}) translate(${charge.x||0}, ${charge.y||0})`;\n    $state.positions = charge.p;\n  }\n\n  function hidePositions() {\n    $state.positions = 0;\n  }\n\n  function changePosition() {\n    showPositions();\n    charge.size = getSize(charge.p);\n  }\n</script>\n\n<span title=\"Points on shield to place a charge\" use:tooltip>\n  Positions:\n  <input bind:value={charge.p} on:input={showPositions} on:focus={showPositions} on:blur={hidePositions}/>\n  <select bind:value={charge.p} on:change={changePosition} on:focus={showPositions} on:blur={hidePositions}>\n    {#each positionsSelect as position}\n      <option value={position}>{position}</option>\n    {/each}\n  </select>\n</span>\n\n<span title=\"Turn charge to the left\" use:tooltip>\n  <span style=\"margin-left: 1em\">Sinister:</span>\n  <Switch bind:checked={charge.sinister}/>\n</span>\n\n<span title=\"Show charge upside down\" use:tooltip>\n  <span style=\"margin-left: 1em\">Reversed:</span>\n  <Switch bind:checked={charge.reversed}/>\n</span>\n\n<style>\n  span > span {\n    margin-left: 1em;\n  }\n\n  input {\n    width: 8.6em;\n  }\n\n  select {\n    width: 1.3em;\n    margin-left: -1.6em;\n    border: 0;\n  }\n</style>","<script>\n  import Switch from './Switch.svelte';\n  import {grid, showGrid, state} from './../../data/stores';\n  import {tooltip} from './../../scripts/tooltip';\n  export let e;\n\n  function updateGrid() {\n    $state.transform = `rotate(${e.angle||0})`;\n  }\n</script>\n\n<span title=\"Element size in percents\" use:tooltip>\n  Size:\n  <input type=number min=1 max=500 step=1 value={e.size * 100 | 0} on:input={function() {e.size = this.value / 100}}/>\n</span>\n\n<span title=\"Element rotation angle in degrees\" use:tooltip>\n  <span>Rotation:</span>\n  <input type=number min=-180 max=180 bind:value={e.angle} on:change={updateGrid}/>\n</span>\n\n<span title=\"Element shift in pixels\" use:tooltip>\n  <span>Shift:</span>\n  <input type=number min=-100 max=100 step={$grid} bind:value={e.x}/>\n  <input type=number min=-100 max=100 step={$grid} bind:value={e.y}/>\n</span>\n\n<span title=\"Grid size: define position shift and drag step in pixels\" use:tooltip>\n  <span>Step:</span>\n  <input type=number min=1 max=50 bind:value={$grid}/>\n  <Switch bind:checked={$showGrid}/>\n</span>\n\n<style>\n  span > span {\n    margin-left: 1em;\n  }\n\n  input[type=number] {\n    width: 4em;\n  }\n</style>","<script>\n  import {tooltip} from './../../scripts/tooltip';\n  export let els, el, i;\n\n  const remove = e => {\n    els = els.filter((e, n) => n !== i);\n    e.stopPropagation();\n  }\n\n  const clone = e => {\n    els = [...els, JSON.parse(JSON.stringify(el))];\n    e.stopPropagation();\n  }\n\n  const forward = e => {\n    [els[i], els[i+1]] = [els[i+1], els[i]];\n    e.stopPropagation();\n  }\n\n  const backward = e => {\n    [els[i], els[i-1]] = [els[i-1], els[i]];\n    e.stopPropagation();\n  }\n</script>\n\n<span>\n  <svg on:click={clone} title=\"Clone\" use:tooltip>\n    <use href=\"#clone-icon\"></use>\n  </svg>\n  {#if els.length > 1}\n    {#if i}\n      <svg on:click={backward} title=\"Send backward\" use:tooltip>\n        <use href=\"#up-icon\"></use>\n      </svg>\n    {/if}\n    {#if i+1 < els.length}\n      <svg on:click={forward} title=\"Bring forward\" use:tooltip>\n        <use href=\"#down-icon\"></use>\n      </svg>\n    {/if}\n  {/if}\n  <svg on:click={remove} title=\"Remove\" use:tooltip>\n    <use href=\"#remove-icon\"></use>\n  </svg>\n</span>\n\n<style>\n  svg {\n    width: .8em;\n    height: .8em;\n    fill: #fff;\n  }\n\n  svg:active {\n    transform: translateY(1px);\n  }\n</style>","<script>\n  import Switch from './Switch.svelte';\n  import {tooltip} from './../../scripts/tooltip';\n  export let above;\n</script>\n\n<span title=\"Check to render ordinary above charges\" use:tooltip>\n  <span style=\"margin-left: 1em\">Above charges:</span>\n  <Switch bind:checked={above}/>\n</span>","<script>\n  import COA from './../object/COA.svelte';\n  import EditorType from './EditorType.svelte';\n  import EditorSize from './EditorSize.svelte';\n  import EditorTincture from './EditorTincture.svelte';\n  import EditorPattern from './EditorPattern.svelte';\n  import EditorCharge from './EditorCharge.svelte';\n  import EditorDivision from './EditorDivision.svelte';\n  import EditorDivided from './EditorDivided.svelte';\n  import EditorLine from './EditorLine.svelte';\n  import EditorOrdinary from './EditorOrdinary.svelte';\n  import EditorStroke from './EditorStroke.svelte';\n  import EditorPosition from './EditorPosition.svelte';\n  import EditorShift from \"./EditorShift.svelte\";\n  import EditorControls from \"./EditorControls.svelte\";\n  import EditorAbove from \"./EditorAbove.svelte\";\n  import {slide, fly} from 'svelte/transition';\n  import {history, changes, tinctures, state, grid, showGrid, message, shield} from './../../data/stores';\n  import {charges, divisions, ordinaries} from \"./../../data/dataModel\";\n  import {generate} from './../../scripts/generator';\n  import {rw, ra} from './../../scripts/utils';\n  export let c, seed;\n  let menu = {}, section = {field: 0, division: 0, ordinary: [], charge: []};\n\n  const ratio = window.innerHeight / window.innerWidth;\n  const coaSize = window.innerWidth > window.innerHeight ? Math.round(window.innerHeight * .9) : \"100%\";\n  let width = window.innerWidth < 600 || ratio > 1 ? 100 : Math.round((1.06 - ratio) * 100);\n  if (width / 100 * window.innerWidth < 300) width = 100;\n  let itemSize = Math.floor(width / 1000 * window.innerWidth - 5); // 10 items in row\n  if (window.innerWidth < 600) itemSize *= 2; // 5 items in row for narrow screens\n\n  $state.transform = null;\n  $state.positions = null;\n\n  let coa = $history[c] || generate(seed || undefined); // on load\n  $: restore($changes); // on undo/redo\n  $: reroll(c); // on reroll\n  $: update(menu); // on menu update\n  $: edit(coa); // on edit\n  $: localStorage.setItem(\"grid\", $grid); // on grid change\n  $: localStorage.setItem(\"showGrid\", $showGrid); // on grid change\n\n  function reroll(c) {\n    coa = $history[c] || generate(seed || undefined);\n    if (!$history[c]) $history.push(coa);\n    changes.reset();\n    defineMenuState();\n  }\n\n  function edit(coa) {\n    if (!coa.shield) coa.shield = $shield;\n    changes.add(JSON.stringify(coa));\n  }\n\n  // get coa from menu on menu change\n  function update() {\n    // remove see reference as it would be confusing\n    delete coa.seed;\n\n    // field attributes changed\n    if (menu.field.type === \"tincture\") coa.t1 = menu.field.t1; else {\n      const type = menu.field.type === \"semy\" ? \"semy_of_\" + menu.field.charge : menu.field.pattern;\n      const attibutes = [type, menu.field.t1, menu.field.t2];\n      if (menu.field.size !== \"standard\") attibutes.push(menu.field.size);\n      coa.t1 = attibutes.join(\"-\");\n    }\n\n    // division attributes changed\n    if (menu.division.division && menu.division.division !== \"no\") {\n      coa.division = {division: menu.division.division};\n      if (divisions[menu.division.division]) coa.division.line = menu.division.line;\n      if (menu.division.type === \"tincture\") coa.division.t = menu.division.t1;\n      else {\n        const attr0 = menu.division.type === \"semy\" ? \"semy_of_\" + menu.division.charge : menu.division.pattern;\n        const attibutes = [attr0, menu.division.t1, menu.division.t2];\n        if (menu.division.size !== \"standard\") attibutes.push(menu.division.size);\n        coa.division.t = attibutes.join(\"-\");\n      }\n    } else delete coa.division;\n\n    // ordinary attributes changed\n    if (menu.ordinaries.length) {\n      coa.ordinaries = menu.ordinaries.map(o => {\n        const item = {ordinary: o.ordinary, t: o.t};\n        if (ordinaries.lined[o.ordinary]) item.line = o.line;\n        if (coa.division && o.divided) item.divided = o.divided;\n        if (o.showStroke) item.stroke = o.stroke;\n        if (o.showStroke && o.strokeWidth !== 1) item.strokeWidth = o.strokeWidth;\n        if (o.size && o.size !== 1) item.size = o.size;\n        if (o.x || o.y) {item.x = o.x; item.y = o.y;}\n        if (o.angle) item.angle = o.angle;\n        if (o.above) item.above = 1;\n        return item;\n      });\n    } else delete coa.ordinaries;\n\n    // charges attributes changed\n    if (menu.charges.length) {\n      coa.charges = menu.charges.map(c => {\n        const item = {charge: c.charge, t: c.t, p: c.p, size: c.size};\n        if (!c.showStroke) item.stroke = \"none\";\n        if (c.stroke !== \"#000000\") item.stroke = c.stroke;\n        if (c.divided) item.divided = c.divided;\n        if (c.sinister) item.sinister = 1;\n        if (c.reversed) item.reversed = 1;\n        if (c.x || c.y) {item.x = c.x; item.y = c.y;}\n        if (c.angle) item.angle = c.angle;\n        return item;\n      });\n    } else delete coa.charges;\n  }\n\n  function restore() {\n    if (!changes.length()) return;\n    coa = JSON.parse($changes[0]);\n    defineMenuState();\n  }\n\n  // define initial menu state\n  function defineMenuState() {\n    // Shield\n    if (coa.shield) $shield = coa.shield;\n\n    // Field\n    menu.field = getField();\n    function getField() {\n      const type = isSemy(coa.t1) ? \"semy\" : isPattern(coa.t1) ? \"pattern\" : \"tincture\";\n      let t1, t2, pattern = \"vair\", charge = \"lozenge\", semy = \"conventional\", size = \"standard\";\n\n      const field = coa.t1.split(\"-\"); // parsed field tincture\n\n      if (type === \"tincture\") {\n        t1 = coa.t1;\n        t2 = selectSecondTincture(coa.t1);\n      } else {\n        t1 = field[1];\n        t2 = field[2];\n        size = field[3] || \"standard\"\n      }\n\n      if (type === \"pattern\") pattern = field[0];\n      else if (type === \"semy\") {\n        charge = getSemyCharge(field);\n        semy = getSemyType(field);\n      }\n\n      return {type, t1, t2, pattern, charge, semy, size}\n    }\n\n    // Division\n    menu.division = getDivision();\n    function getDivision() {\n      let type = \"tincture\", division = \"no\", line = \"straight\", t1, t2, pattern = \"vair\", charge = \"lozenge\", semy = \"conventional\", size = \"standard\";\n\n      if (coa.division) {\n        const tSplit = coa.division.t.split(\"-\"); // parsed division tincture\n        type = isSemy(coa.division.t) ? \"semy\" : isPattern(coa.division.t) ? \"pattern\" : \"tincture\";\n\n        division = coa.division.division;\n        line = coa.division.line || \"straight\";\n        t1 = type === \"tincture\" ? coa.division.t : tSplit[1];\n        t2 = type === \"tincture\" ? selectSecondTincture(t1) : tSplit[2];\n        if (type === \"pattern\") pattern = tSplit[0];\n        if (type === \"semy\") {\n          charge = getSemyCharge(tSplit);\n          semy = getSemyType(tSplit);\n        }\n        size = tSplit[3] || \"standard\";\n      } else {\n        t1 = selectSecondTincture(menu.field.t1);\n        t2 = selectSecondTincture(t1);\n      }\n\n      return {division, line, type, t1, t2, pattern, charge, semy, size};\n    }\n\n    // Ordinaries\n    menu.ordinaries = getOrdinaries();\n    function getOrdinaries() {\n      if (!coa.ordinaries) return [];\n\n      const ordinaries = coa.ordinaries.map(o => {\n        const {ordinary, t} = o;\n        const line = o.line || \"straight\";\n        const showStroke = Boolean(o.stroke);\n        const stroke = o.stroke || \"#000000\";\n        const strokeWidth = o.strokeWidth || 1;\n        const size = o.size || 1;\n        const x = o.x || 0;\n        const y = o.y || 0;\n        const angle = o.angle || 0;\n        const divided = o.divided || \"\";\n        const above = o.above || 0;\n        if (angle) $state.transform = `rotate(${angle})`;\n        return {ordinary, t, line, showStroke, stroke, strokeWidth, size, x, y, angle, divided, above};\n      });\n\n      return ordinaries;\n    }\n\n    // Charges\n    menu.charges = getCharges();\n    function getCharges() {\n      if (!coa.charges) return [];\n      const charges = coa.charges.map(c => {\n        const {charge, t, p, size} = c;\n        const type = getChargeCategory(charge);\n        const showStroke = c.stroke !== \"none\";\n        const stroke = c.stroke || \"#000000\";\n        const divided = c.divided || \"\";\n        const sinister = c.sinister || false;\n        const reversed = c.reversed || false;\n        const x = c.x || 0;\n        const y = c.y || 0;\n        const angle = c.angle || 0;\n        if (angle) $state.transform = `rotate(${angle})`;\n        return {charge, type, showStroke, stroke, divided, t, p, size, sinister, reversed, x, y, angle};\n      });\n\n      return charges;\n    }\n\n    function isPattern(string) {\n      return string?.includes(\"-\");\n    }\n\n    function isSemy(string) {\n      return string?.slice(0,4) === \"semy\";\n    }\n\n    function getSemyCharge(array) {\n      return array[0].split(\"_of_\")[1];\n    }\n\n    function getChargeCategory(charge) {\n      const type = Object.keys(charges.types).find(type => charges[type][charge] !== undefined)\n      return type || charge;\n    }\n\n    function getSemyType(array) {\n      const charge = getSemyCharge(array);\n      return getChargeCategory(charge);\n    }\n\n    function selectSecondTincture(t1) {\n      const metal = t1 === \"argent\" || t1 === \"or\";\n      return rw(metal ? $tinctures.colours : $tinctures.metals);\n    }\n\n    return menu;\n  }\n\n  function addOrdinary() {\n    const ordinariesList = Object.keys(ordinaries.lined).concat(Object.keys(ordinaries.straight));\n    const ordinary = ra(ordinariesList);\n    const t = rw($tinctures[rw($tinctures.charge)]);\n    const o = {ordinary, t, showStroke: false, stroke: \"#000000\", strokeWidth: 1, line: \"straight\", size: 1, x: 0, y: 0, angle: 0, divided: \"\"};\n    menu.ordinaries = [...menu.ordinaries, o];\n  }\n\n  function addCharge() {\n    const type = rw(charges.single);\n    const charge = rw(charges[type]);\n    const t = rw($tinctures[rw($tinctures.charge)]);\n    const с = {charge, t, p: \"e\", showStroke: true, stroke: \"#000000\", type, size: 1.5, sinister: false, reversed: false, x: 0, y: 0, angle: 0, divided: \"\"};\n    menu.charges = [...menu.charges, с];\n  }\n\n  if (!isTouchDevice() && (coa.ordinaries || coa.charges)) {\n    if (!$message) $message = {type: \"info\", text: \"Drag to move, hold SHIFT and drag vertically to resize, hold CONTROL and drag horizontally to rotate\", timeout: 4000};\n  }\n\n  function isTouchDevice() {\n    return 'ontouchstart' in window;\n  }\n\n  function isRaster(charge) {\n    const el = document.getElementById(charge);\n    return el ? el.tagName === \"image\" : false;\n  }\n\n  function cap(string = \"no\") {\n    const split = string.split(/(?=[A-Z])/).join(\" \");\n    return split.charAt(0).toUpperCase() + split.slice(1);\n  }\n</script>\n\n<div id=editor>\n  {#key coa}\n    <COA {coa} i=Edit w={coaSize} h={coaSize}/>\n  {/key}\n  <div id=menu in:fly={{x: 1000, duration: 1000}} style=\"width:{width}%\">\n    <!-- Field -->\n    <div class=section class:expanded={section.field} on:click={() => section.field = !section.field}>Field</div>\n    {#if section.field}\n      <div class=panel transition:slide>\n        <div class=subsection>\n          <EditorType bind:type={menu.field.type}/>\n          {#if menu.field.type !== \"tincture\"}\n            <EditorSize bind:size={menu.field.size}/>\n          {/if}\n        </div>\n\n        <div class=subsection>\n          <EditorTincture bind:t1={menu.field.t1} {itemSize}/>\n        </div>\n\n        {#if menu.field.type !== \"tincture\"}\n          <div class=subsection>\n            <EditorTincture bind:t1={menu.field.t2} {itemSize}/>\n          </div>\n        {/if}\n\n        {#if menu.field.type === \"pattern\"}\n          <div class=subsection>\n            <EditorPattern bind:pattern={menu.field.pattern} t1={menu.field.t1} t2={menu.field.t2} size={menu.field.size} {itemSize}/>\n          </div>\n        {/if}\n\n        {#if menu.field.type === \"semy\"}\n          <div class=subsection>\n            <EditorCharge type=semy bind:charge={menu.field.charge} bind:category={menu.field.semy} t1={menu.field.t1} t2={menu.field.t2} size={menu.field.size} {itemSize}/>\n          </div>\n        {/if}\n      </div>\n    {/if}\n\n    <!-- Division -->\n    <div class=section class:expanded={section.division} on:click={() => section.division = !section.division}>Division: {cap(menu.division.division)}</div>\n    {#if section.division}\n      <div class=panel transition:slide>\n        <div class=subsection>\n          <EditorDivision bind:division={menu.division.division} t1={coa.t1} t={coa.division ? coa.division.t : menu.division.t1} line={menu.division.line} {itemSize}/>\n        </div>\n\n        {#if divisions[coa.division?.division]}\n          <div class=subsection>\n            <EditorLine bind:line={menu.division.line} division={menu.division.division} t1={coa.t1} t={coa.division ? coa.division.t : menu.division.t1} {itemSize}/>\n          </div>\n        {/if}\n\n        {#if coa.division}\n          <div class=subsection>\n            <EditorType bind:type={menu.division.type}/>\n            {#if menu.division.type !== \"tincture\"}\n              <EditorSize bind:size={menu.division.size}/>\n            {/if}\n          </div>\n\n          <div class=subsection>\n            <EditorTincture bind:t1={menu.division.t1} {itemSize}/>\n          </div>\n\n          {#if menu.division.type !== \"tincture\"}\n            <div class=subsection>\n              <EditorTincture bind:t1={menu.division.t2} {itemSize}/>\n            </div>\n          {/if}\n\n          {#if menu.division.type === \"pattern\"}\n            <div class=subsection>\n              <EditorPattern bind:pattern={menu.division.pattern} t1={menu.division.t1} t2={menu.division.t2} size={menu.division.size} {itemSize}/>\n            </div>\n          {/if}\n\n          {#if menu.division.type === \"semy\"}\n            <div class=subsection>\n              <EditorCharge type=semy bind:charge={menu.division.charge} bind:category={menu.division.semy} t1={menu.division.t1} t2={menu.division.t2} size={menu.division.size} {itemSize}/>\n            </div>\n          {/if}\n        {/if}\n      </div>\n    {/if}\n\n    <!-- Ordinaries -->\n    {#each menu.ordinaries as o, i}\n      <div class=section transition:slide class:expanded={section.ordinary[i]} on:click={() => section.ordinary[i] = !section.ordinary[i]}>\n        Ordinary{menu.ordinaries.length > 1 ? \" \" + (i+1) : \"\"}: {cap(o.ordinary)}\n        {#if o.above}\n          <i>[above charges]</i>\n        {/if}\n        <EditorControls bind:els={menu.ordinaries} el={o} {i}/>\n      </div>\n      {#if section.ordinary[i]}\n        <div class=panel transition:slide>\n          {#if coa.division}\n            <div class=subsection>\n              <EditorDivided bind:divided={o.divided}/>\n            </div>\n          {/if}\n\n          <div class=subsection>\n            <EditorOrdinary bind:ordinary={o.ordinary} t1={coa.t1} line={o.line} t={o.t} {itemSize}/>\n          </div>\n\n          {#if ordinaries.lined[o.ordinary]}\n            <div class=subsection>\n              <EditorLine bind:line={o.line} ordinary={o.ordinary} t1={coa.t1} t={o.t} {itemSize}/>\n            </div>\n          {/if}\n\n          {#if o.divided !== \"counter\"}\n            <div class=subsection>\n              <EditorTincture bind:t1={o.t} {itemSize}/>\n            </div>\n          {/if}\n\n          <div class=subsection>\n            {#if ![\"bordure\", \"orle\"].includes(o.ordinary)}\n              <EditorStroke bind:element={o}/>\n            {/if}\n            <EditorAbove bind:above={o.above}/>\n          </div>\n\n          <div class=subsection>\n            <EditorShift bind:e={o}/>\n          </div>\n        </div>\n      {/if}\n    {/each}\n\n    <!-- Charges -->\n    {#each menu.charges as charge, i}\n      <div class=section transition:slide class:expanded={section.charge[i]} on:click={() => section.charge[i] = !section.charge[i]}>\n        Charge{menu.charges.length > 1 ? \" \" + (i+1) : \"\"}: {cap(charge.charge)}\n        <EditorControls bind:els={menu.charges} el={charge} {i}/>\n      </div>\n      {#if section.charge[i]}\n        <div class=panel transition:slide>\n\n          <div class=subsection>\n            {#if coa.division}\n              <EditorDivided bind:divided={charge.divided} raster={isRaster(charge.charge)}/>\n            {/if}\n            <EditorCharge type=charge bind:charge={charge.charge} bind:category={charge.type} t1={coa.t1} t2={charge.t} sinister={charge.sinister} reversed={charge.reversed} division={coa.division} {itemSize}/>\n          </div>\n\n          {#if !isRaster(charge.charge) && charge.divided !== \"counter\"}\n            <div class=subsection>\n              <EditorTincture bind:t1={charge.t} {itemSize}/>\n            </div>\n          {/if}\n\n          <div class=subsection>\n            <EditorStroke bind:element={charge}/>\n          </div>\n\n          <div class=subsection>\n            <EditorPosition bind:charge/>\n          </div>\n\n          <div class=subsection>\n            <EditorShift bind:e={charge}/>\n          </div>\n        </div>\n      {/if}\n    {/each}\n\n    <div class=buttonLine on:click={addOrdinary}>Add Ordinary</div>\n    <div class=buttonLine on:click={addCharge}>Add Charge</div>\n  </div>\n</div>\n\n<style>\n  #editor {\n    width: 100%;\n    height: calc(100% - 45px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    user-select: none;\n    flex-direction: row;\n  }\n\n  #menu {\n    overflow-x: hidden;\n    overflow-y: auto;\n    scrollbar-width: thin;\n    transition: .5s;\n    background-color: #11111180;\n    height: 100%;\n  }\n\n  @media only screen and (orientation: portrait) {\n    #editor {\n      flex-direction: column;\n    }\n  }\n\n  #menu::-webkit-scrollbar {\n    width: 6px;\n    background-color: #cccccc80;\n  }\n\n  #menu::-webkit-scrollbar-thumb {\n    background-color: #111;\n  }\n\n  .section {\n    padding: 1em 1.14em;\n    color: #fff;\n    background-color: #00000060;\n    cursor: pointer;\n    transition: background-color .1s ease;\n    overflow-x: hidden;\n  }\n\n  .section:hover {\n    background-color: #00000080;\n  }\n\n  .section:after {\n    content: \"\\276F\";\n    transition: .2s ease-out;\n    margin-top: -.1em;\n    float: right;\n  }\n\n  .expanded:after {\n    transform: rotate(90deg);\n  }\n\n  :global(.section > span) {\n    transition: 1s ease-out;\n    opacity: 0;\n    margin-left: .6em;\n  }\n\n  :global(.section:hover > span) {\n    opacity: 1;\n  }\n\n  .section > i {\n    font-size: smaller;\n  }\n\n  .panel {\n    min-width: 100%;\n    max-width: max-content;\n    background-color: #13131320;\n    overflow: hidden;\n  }\n\n  .subsection {\n    color: #fff;\n    padding: .5em 1em;\n  }\n\n  .buttonLine {\n    padding: 1em 1.14em;\n    color: #fff;\n    background-color: #00000040;\n    cursor: pointer;\n    transition: background-color .1s ease;\n  }\n\n  .buttonLine:hover {\n    background-color: #00000080;\n  }\n\n  :global(.item) {\n    display: inline-block;\n    cursor: pointer;\n    transition: background-color .2s ease;\n  }\n\n  :global(.item:hover) {\n    background-color: #ffffff10;\n  }\n\n  :global(.item:active) {\n    transform: translateY(1px);\n  }\n\n  :global(.item.selected) {\n    background-color: #ffffff15;\n  }\n</style>","<script>\n\timport COA from './../object/COA.svelte';\n  import {fade} from 'svelte/transition';\n\timport {generate} from './../../scripts/generator';\n  import {download} from './../../scripts/download';\n  import {history, matrices, matrix, state} from './../../data/stores';\n  export let gallery, w, h;\n\n  $: font = Math.max(Math.min(Math.ceil(w / 20), 12), 6);\n\n  $: coas = gallery.map(c => {\n    let coa = $history[c] || generate();\n    if (!$history[c]) $history[c] = coa;\n    return coa;\n  });\n\n  function regenerate(i) {\n    $state.i = i;\n    $matrix++;\n    $matrices[$matrix] = $matrices[$matrix-1].slice();\n    $matrices[$matrix][$state.i] = $history.length;\n  }\n\n  function editCOA(i) {\n    $state.edit = 1;\n    $state.c = gallery[i];\n    $state.i = i;\n  }\n</script>\n\n<div id=gallery style=\"font-size: {font}px\" transition:fade>\n  {#each coas as coa, i}\n    <div>\n      {#key coa}\n        <COA {coa} {i} {w} {h}/>\n      {/key}\n      <div class=control>\n        <svg on:click={() => regenerate(i)}><use href=\"#dice-icon\"></use></svg>\n        <svg on:click={() => editCOA(i)}><use href=\"#pencil-icon\"></use></svg>\n        <svg on:click={() => download(i)}><use href=\"#download-icon\"></use></svg>\n      </div>\n    </div>\n  {/each}\n</div>\n\n<style>\n  div {\n    display: inline-table;\n  }\n\n  #gallery > div {\n    display: inline-block;\n    position: relative;\n    user-select: none;\n    transition: background .5s ease;\n  }\n\n  #gallery > div:hover {\n    background: #00000020;\n  }\n\n  .control {\n    display: block;\n    position: absolute;\n    opacity: 0;\n    transition: .5s ease-in-out;\n    transform: translate(-50%, -150%);\n    left: 50%;\n    font-size: 2.4em;\n    white-space: nowrap;\n  }\n\n  #gallery > div:hover > .control {\n    opacity: 1;\n  }\n\n  .control > svg {\n    width: 1.2em;\n    height: 1.2em;\n    fill: #f1f1f1;\n    stroke: #333;\n    stroke-width: .5em;\n    vertical-align: middle;\n    margin: 0 .5em;\n  }\n\n  .control > svg:hover {\n    fill: #fff;\n    cursor: pointer;\n  }\n\n  .control > svg:active {\n    transform: translateY(1px);\n  }\n</style>","<script>\n  export let license;\n</script>\n\n<select bind:value={license} style=\"width: 10em\">\n  <option value=\"Unknown\" selected>Unknown</option>\n  <option value=\"Proprietary\">Proprietary</option>\n  <option value=\"Copyright Free\">Copyright Free</option>\n  <option value=\"https://creativecommons.org/publicdomain/zero/1.0\">Public Domain</option>\n  <option value=\"https://creativecommons.org/licenses/by/4.0\">CC BY</option>\n  <option value=\"https://creativecommons.org/licenses/by-sa/4.0\">CC BY-SA</option>\n  <option value=\"https://creativecommons.org/licenses/by-nc/4.0\">CC BY-NC</option>\n  <option value=\"https://creativecommons.org/licenses/by-nd/4.0\">CC BY-ND</option>\n  <option value=\"https://creativecommons.org/licenses/by-nc-sa/4.0\">CC BY-NC-SA</option>\n  <option value=\"https://creativecommons.org/licenses/by-nc-nd/4.0\">CC BY-NC-ND</option>\n</select>","<script>\n\timport LicenseList from './LicenseList.svelte';\n  import {state, message, shield} from './../../data/stores';\n  import {charges} from './../../data/dataModel';\n  import {shieldPaths} from '../../data/shields';\n  import {tooltip} from './../../scripts/tooltip';\n  import {camelize} from './../../scripts/utils';\n  let dragging = false, selected = false;\n  let size = 50, offsetX = 0, offsetY = 0;\n  let name, category = \"uploaded\", source, license, author;\n\n  const onFile = (getFilesFunction) => (event) => {\n    dragging = false;\n    const files = getFilesFunction(event);\n    const file = files.length ? files[0] : [];\n\n    if (!file.type.match(/image.*/)) {\n      $message = {type: \"error\", text: \"Not an image file!\"};\n      return;\n    }\n\n    selected = true;\n    $message = {type: \"info\", text: \"Fit image into the rectangle for best result\"};\n    name = camelize(file.name);\n    loadImage(file);\n  };\n\n  function getFilesFromDropEvent({ dataTransfer: { files, items } }) {\n    return files.length ? [...files] : items.filter(({ kind }) => kind === \"file\").map(({ getAsFile }) => getAsFile());\n  }\n\n  function getFilesFromInputEvent({ target }) {\n    const files = target.files ? [...target.files] : [];\n    target.value = \"\";\n    return files;\n  }\n\n  function loadImage(file) {\n    const reader = new FileReader();\n    reader.onload = function (readerEvent) {\n      const dataURL = readerEvent.target.result;\n      const image = document.getElementById(\"rasterUpload\").querySelector(\"svg image\");\n      image.setAttribute(\"href\", dataURL);\n    };\n    reader.readAsDataURL(file);\n  }\n\n  function addCharge() {\n    const allCharges = Object.keys(charges.types).map(type => Object.keys(charges[type])).flat();\n    name = camelize(name);\n\n    if (!name || document.getElementById(name) || allCharges.includes(name)) {\n      $message = {type: \"error\", text: \"Name must be unique id!\"};\n      return;\n    }\n\n    if (!charges.types[category]) charges.types[category] = 6;\n    if (!charges.single[category]) charges.single[category] = 6;\n    charges[category][name] = 5;\n\n    // remove stored weighted arrays\n    delete charges.types.array;\n    delete charges.single.array;\n    delete charges[category].array;\n  \n    const image = document.getElementById(\"rasterUpload\").querySelector(\"svg image\").cloneNode(true);\n    image.id = name;\n    if (source) image.setAttribute(\"source\", source);\n    if (license) image.setAttribute(\"license\", license);\n    if (author) image.setAttribute(\"author\", author);\n\n    document.getElementById(\"charges\").appendChild(image);\n\n    selected = false;\n    $state.raster = 0;\n    $message = {type: \"success\", text: `Charge \"${name}\" is added to the category \"${category}\"`};\n  }\n</script>\n\n<div id=rasterUpload\n  on:drop|preventDefault={onFile(getFilesFromDropEvent)}\n  on:dragover|preventDefault={() => (dragging = true)}\n  on:dragleave|preventDefault={() => (dragging = false)}>\n  <span on:click={() => $state.raster = 0} class=\"close\">&times;</span>\n  <div class=container>\n    {#if selected}\n      <svg width=100% height=100% stroke=#000 stroke-width=1 viewBox=\"0 0 200 200\" title=\"Fit image into the rectangle for best result\" use:tooltip>\n        <g fill=\"#fff\" fill-opacity=\".05\" stroke=\"#fff\" stroke-width=\".5\">\n          <image id=imageLoaded x={(100 - size) / 2 + offsetX}% y={(100 - size) / 2 + offsetY}% width={size}% height={size}%/>\n          <path d=\"{shieldPaths[$shield]}\"/>\n          <rect x=\"60\" y=\"60\" width=\"80\" height=\"80\"/>\n        </g>\n      </svg>\n\n      <div class=inputs>\n        <div title=\"Image size in percents\" use:tooltip><div class=label>Size:</div><input type=number bind:value={size}/></div>\n        <div title=\"Offset by X axis in pixels\" use:tooltip><div class=label>Offset X:</div><input type=number bind:value={offsetX}/></div>\n        <div title=\"Offset by Y axis in pixels\" use:tooltip><div class=label>Offset Y:</div><input type=number bind:value={offsetY}/></div>\n        <div title=\"Link to the image source\" use:tooltip><div class=label>Source:</div><input bind:value={source}/></div>\n        <div title=\"Image author or source portal name\" use:tooltip><div class=label>Author:</div><input bind:value={author}/></div>\n        <div title=\"Image license\" use:tooltip><div class=label>License:</div><LicenseList bind:license/></div>\n        <div title=\"Charge unique name (id)\" use:tooltip><div class=label>Name:</div><input placeholder=\"Charge id\" required bind:value={name}/></div>\n        <div title=\"Category to put a charge\" use:tooltip><div class=label>Category:</div>\n          <select bind:value={category}>\n            {#each Object.keys(charges.types) as c}\n              <option value={c}>{c}</option>\n            {/each}\n          </select>\n        </div>\n        <div class=buttons>\n          <button on:click={addCharge}>Add</button>\n          <button on:click={() => selected = false}>Cancel</button>\n        </div>\n      </div>\n    {:else}\n      <label class=dragging>\n        <slot {dragging}>\n          <div>Drag &amp; Drop image here or <b>browse</b></div>\n        </slot>\n        <input type=file accept=image/* on:input={onFile(getFilesFromInputEvent)}/>\n      </label>\n    {/if}\n  </div>\n</div>\n\n<style>\n  #rasterUpload {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: #000000e6;\n    transition: 0.5s;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: center;\n    overflow: auto;\n  }\n\n  .container {\n    color: #ddd;\n    max-height: 90%;\n    max-width: 90%;\n  }\n\n  .inputs {\n    column-count: 3;\n  }\n\n  input, select {\n    width: 10em;\n  }\n\n  .buttons > button {\n    cursor: pointer;\n    margin: 1.18em 0;\n    width: 4.8em;\n  }\n\n  @media only screen and (orientation: portrait) {\n    .inputs {\n      column-count: 2;\n    }\n\n    .buttons {\n      column-span: all;\n    }\n  }\n\n  input[type=\"file\"] {\n    display: none;\n  }\n\n  .close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    display: inline-block;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  label:hover,\n  span:hover {\n    cursor: pointer;\n    color: #fff;\n  }\n\n  .dragging {\n    width: max-content;\n  }\n</style>\n","<script>\n  import LicenseList from './LicenseList.svelte';\n  import {state, colors, tinctures, message, shield} from './../../data/stores';\n  import {charges} from './../../data/dataModel';\n  import {shieldPaths} from '../../data/shields';\n  import {camelize} from './../../scripts/utils';\n  import {tooltip} from './../../scripts/tooltip';\n  let dragging = false, selected = false;\n  let svg, transform = {a:1, b:0, c:0, d:1, e:0, f:0}, name, category = \"uploaded\", color = \"#d7374a\";\n  let source, license, author;\n  const tinctureList = [\"metals\", \"colours\", \"stains\"].map(type => Object.keys($tinctures[type])).flat();\n\n  $: updateTransform(transform);\n\n  function updateTransform(transform) {\n    if (!svg) return; // on component on load\n    const el = document.createElement(\"html\");\n    el.innerHTML = svg;\n    const g = el.querySelector(\"g\");\n    const transformString = Object.values(transform).join(\" \");\n    if (transformString === \"1 0 0 1 0 0\") g.removeAttribute(\"transform\");\n    else g.setAttribute(\"transform\", \"matrix(\" + transformString+ \")\");\n    svg = g.outerHTML;\n  }\n\n  const onFile = (getFilesFunction) => (event) => {\n    dragging = false;\n    const files = getFilesFunction(event);\n    const file = files.length ? files[0] : [];\n\n    if (!file.type.match(/text.*|svg.*/)) {\n      $message = {type: \"error\", text: \"File must be text or svg!\"};\n      return;\n    }\n\n    selected = true;\n    name = camelize(file.name);\n    loadImage(file);\n  };\n\n  function getFilesFromDropEvent({ dataTransfer: { files, items } }) {\n    return files.length ? [...files] : items.filter(({ kind }) => kind === \"file\").map(({ getAsFile }) => getAsFile());\n  }\n\n  function getFilesFromInputEvent({ target }) {\n    const files = target.files ? [...target.files] : [];\n    target.value = \"\";\n    return files;\n  }\n\n  function loadImage(file) {\n    const reader = new FileReader();\n    reader.onload = function (readerEvent) {\n      const svgText = readerEvent.target.result;\n      const el = document.createElement(\"html\");\n      el.innerHTML = svgText;\n      const g = el.querySelector(\"g\");\n\n      if (!g) {\n        $message = {type: \"error\", text: \"File must be prepared svg. Download template for guidance!\"};\n        selected = false;\n        return;\n      }\n\n      const consolidated = g.transform.baseVal.consolidate();\n      if (consolidated) {\n        const {a, b, c, d, e, f} = consolidated.matrix;\n        const fix = n => +n.toFixed(4);\n        transform = Object.assign(transform, {a:fix(a), b:fix(b), c:fix(c), d:fix(d), e:fix(e), f:fix(f)});\n      }\n      g.removeAttribute(\"id\");\n      svg = g.outerHTML;\n    };\n    reader.readAsText(file);\n  }\n\n  function addCharge() {\n    const allCharges = Object.keys(charges.types).map(type => Object.keys(charges[type])).flat();\n    name = camelize(name);\n\n    if (!name || document.getElementById(name) || allCharges.includes(name)) {\n      $message = {type: \"error\", text: \"Name must be unique id!\"};\n      return;\n    }\n\n    if (!charges.types[category]) charges.types[category] = 6;\n    if (!charges.single[category]) charges.single[category] = 6;\n    charges[category][name] = 5;\n\n    const el = document.createElement(\"html\");\n    el.innerHTML = svg;\n    const image = el.querySelector(\"g\");\n    image.id = name;\n\n    if (source) image.setAttribute(\"source\", source);\n    if (license) image.setAttribute(\"license\", license);\n    if (author) image.setAttribute(\"author\", author);\n\n    defs.insertAdjacentHTML(\"beforeend\", image.outerHTML);\n\n    selected = false;\n    $state.vector = 0;\n    $message = {type: \"success\", text: `Charge \"${name}\" is added to the category \"${category}\"`};\n  }\n\n  function downloadTemplate() {\n    fetch(\"charges/template.svg\").then(text => {\n      return text.blob().then(blob => {\n        const a = document.createElement(\"a\");\n        a.href = URL.createObjectURL(blob);\n        a.setAttribute(\"download\", \"armoriaChargeTemplate.txt\");\n        a.click();\n      });\n    });\n  }\n</script>\n\n<div id=vectorUpload\n  on:drop|preventDefault={onFile(getFilesFromDropEvent)}\n  on:dragover|preventDefault={() => dragging = true}\n  on:dragleave|preventDefault={() => dragging = false}>\n  <span on:click={() => $state.vector = 0} class=\"close\">&times;</span>\n  <div class=container>\n    {#if selected}\n      <svg width=100% height=100% fill={color} stroke=#000 stroke-width=1 viewBox=\"0 0 200 200\" title=\"Fit image into the rectangle for best result\" use:tooltip>\n        <g fill=\"#fff\" fill-opacity=\".05\" stroke=\"#fff\" stroke-width=\".5\">\n          <path d=\"{shieldPaths[$shield]}\"/>\n          <rect x=\"60\" y=\"60\" width=\"80\" height=\"80\"/>\n        </g>\n        <g>{@html svg}</g>\n      </svg>\n\n      <div>\n        <div class=label>SVG Markup:</div><textarea rows=5 bind:value={svg}/>\n      </div>\n\n      <div class=inputs>\n        <div title=\"Charge translate: X and Y px\" use:tooltip>\n          <div class=label>Translate:</div>\n          <input type=number step=.1 class=paired bind:value={transform.e}/>\n          <input type=number step=.1 class=paired bind:value={transform.f}/>\n        </div>\n\n        <div title=\"Charge scale: X and Y, where 1 is default size\" use:tooltip>\n          <div class=label>Scale:</div>\n          <input type=number step=.01 class=paired bind:value={transform.a}/>\n          <input type=number step=.01 class=paired bind:value={transform.d}/>\n        </div>\n\n        <div title=\"Tincture preview color, does not affect uploaded actual color. Charges must not have exact color defined. In this case charge will support all tunctures\" use:tooltip>\n          <div class=label>Tincture:</div>\n          <select bind:value={color}>\n            {#each tinctureList as tincture}\n              <option value={$colors[tincture]}>{tincture}</option>\n            {/each}\n          </select>\n        </div>\n\n        <div title=\"Link to the image source\" use:tooltip>\n          <div class=label>Source:</div><input bind:value={source}/>\n        </div>\n        <div title=\"Image author or source portal name\" use:tooltip>\n          <div class=label>Author:</div><input bind:value={author}/>\n        </div>\n        <div title=\"Image license\" use:tooltip>\n          <div class=label>License:</div><LicenseList bind:license/>\n        </div>\n        <div title=\"Charge unique name (id)\" use:tooltip>\n          <div class=label>Name:</div><input placeholder=\"Charge id\" required bind:value={name}/>\n        </div>\n        <div title=\"Category to put a charge\" use:tooltip>\n          <div class=label>Category:</div>\n          <select bind:value={category}>\n            {#each Object.keys(charges.types) as c}\n              <option value={c}>{c}</option>\n            {/each}\n          </select>\n        </div>\n\n        <div class=buttons>\n          <button on:click={addCharge}>Upload</button>\n          <button on:click={() => selected = false}>Cancel</button>\n        </div>\n      </div>\n    {:else}\n      <label class=dragging>\n        <slot {dragging}>\n          <div>Drag &amp; Drop svg file here or <b>browse</b></div>\n        </slot>\n        <input type=file accept=\".svg\" on:input={onFile(getFilesFromInputEvent)}/>\n      </label>\n      <button class=template on:click={downloadTemplate}>Download Template</button>\n    {/if}\n  </div>\n</div>\n\n<style>\n  #vectorUpload {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: #000000e6;\n    transition: 0.5s;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: center;\n    overflow: auto;\n  }\n\n  .container {\n    color: #ddd;\n    max-height: 100%;\n    max-width: 90%;\n  }\n\n  .inputs {\n    column-count: 3;\n  }\n\n\n  textarea {\n    width: 100%;\n    font-size: .8em;\n    font-family: 'Courier New', Courier, monospace;\n  }\n\n  input, select {\n    width: 10em;\n  }\n\n  input.paired {\n    width: 4.85em;\n  }\n\n  input[type=\"file\"] {\n    display: none;\n  }\n\n  .close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    display: inline-block;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  label:hover,\n  span:hover {\n    cursor: pointer;\n    color: #fff;\n  }\n\n  .dragging {\n    width: max-content;\n  }\n\n  .template {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-top: 2.5em;\n    transform: translate(-50%, -50%);\n  }\n\n  .buttons > button {\n    cursor: pointer;\n    margin: 1.18em 0;\n    width: 4.8em;\n  }\n\n  @media only screen and (orientation: portrait) {\n    .inputs {\n      column-count: 2;\n    }\n\n    .buttons {\n      column-span: all;\n    }\n  }\n</style>\n","import { cubicOut } from '../easing';\nimport { is_function } from '../internal';\n\nfunction flip(node, animation, params) {\n    const style = getComputedStyle(node);\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const scaleX = animation.from.width / node.clientWidth;\n    const scaleY = animation.from.height / node.clientHeight;\n    const dx = (animation.from.left - animation.to.left) / scaleX;\n    const dy = (animation.from.top - animation.to.top) / scaleY;\n    const d = Math.sqrt(dx * dx + dy * dy);\n    const { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n    return {\n        delay,\n        duration: is_function(duration) ? duration(d) : duration,\n        easing,\n        css: (_t, u) => `transform: ${transform} translate(${u * dx}px, ${u * dy}px);`\n    };\n}\n\nexport { flip };\n","<script>\n  import { fade } from 'svelte/transition';\n  import { flip } from 'svelte/animate';\n  import { colors, tinctures, state, message, changes } from '../../data/stores';\n  import { defaultTinctures, defaultColors } from '../../data/dataModel';\n  import { camelize } from '../../scripts/utils';\n  import { tooltip } from '../../scripts/tooltip';\n\n  let add = {show: false, name: \"\", type: \"colours\", color: \"#96C8FA\", chance: 3};\n\n  // remove stored weighted array\n  for (const key in $tinctures) {delete $tinctures[key].array};\n\n  $: tData = [\"metals\", \"colours\", \"stains\"].map(type => {\n      return Object.keys($tinctures[type]).map(t => {\n        return {t, type};\n      });\n    }).flat();\n\n  $: lock(\"tinctures\", $tinctures);\n  $: lock(\"colors\", $colors);\n  $: updateCOAonColorChange($colors);\n\n  // don't lock options on load\n  let loaded = [];\n  function lock(key, value) {\n    if (loaded.includes(key)) localStorage.setItem(key, JSON.stringify(value));\n    else loaded.push(key);\n  }\n\n  function updateCOAonColorChange() {\n    changes.refresh();\n  }\n\n  function getTotalChance(type) {\n    return Object.entries($tinctures[type]).reduce((a, b) => a + b[1], 0);\n  }\n\n  function removeTincture(t) {\n    if (t.type === \"metals\" || t.type === \"colours\") {\n      const typeItems = Object.keys($tinctures[t.type]);\n      if (typeItems.length < 3) {\n        $message = {type: \"error\", text: `There should be at least 2 tinctures of type '${t.type}'!`};\n        return;\n      }\n    }\n\n    delete $tinctures[t.type][t.t];\n    $tinctures = $tinctures;\n  }\n\n  function addTincture() {\n    add.show = true;\n    $message = {type: \"warn\", text: `Set tincture name, type, color and chance and then click on 'Apply Tincture'`, timeout: 8000};\n  }\n\n  function cancelAddTincture() {\n    add.show = false;\n  }\n\n  function applyAddTincture() {\n    const name = camelize(add.name);\n\n    if (!name || $colors[name]) {\n      $message = {type: \"error\", text: `Tincture name must be unique!`};\n      return;\n    }\n\n    $tinctures[add.type][name] = add.chance;\n    $colors[name] = add.color;\n    add.show = false;\n    $message = {type: \"info\", text: `Tincture ${name} is added`};\n  }\n\n  function restoreDefault() {\n    $tinctures = JSON.parse(JSON.stringify(defaultTinctures));\n    $colors = JSON.parse(JSON.stringify(defaultColors));\n    localStorage.removeItem(\"tinctures\");\n    localStorage.removeItem(\"colors\");\n    loaded = [];\n    $message = {type: \"info\", text: `Default values are restored`};\n  }\n</script>\n\n<div id=\"tinctures\" transition:fade|local>\n  <span on:click={() => $state.tinctures = 0} class=\"close\">&times;</span>\n  <div id=\"tincturesCont\">\n\n    <div id=left>\n      <table>\n        <thead>\n          <tr>\n            <th>Element</th>\n            <th>Metals</th>\n            <th>Colours</th>\n            <th>Stains</th>\n            <th>Patterns</th>\n          </tr>\n        </thead>\n        <tbody>\n            <tr>\n              <td>Field</td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.field.metals}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.field.colours}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.field.stains}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.field.patterns}/></td>\n            </tr>\n            <tr>\n              <td>Division</td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.division.metals}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.division.colours}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.division.stains}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.division.patterns}/></td>\n            </tr>\n            <tr>\n              <td>Charge</td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.charge.metals}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.charge.colours}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.charge.stains}/></td>\n              <td><input type=number min=0 max=100 step=1 bind:value={$tinctures.charge.patterns}/></td>\n            </tr>\n        </tbody>\n      </table>\n\n      <div class=contolButtons>\n        {#if add.show}\n          <button on:click={applyAddTincture}>Apply Tincture</button>\n        {:else}\n          <button on:click={addTincture}>Add Tincture</button>\n        {/if}\n        <button on:click={restoreDefault}>Restore Default</button>\n      </div>\n    </div>\n\n    <div id=right>\n      <table id=tincturesTable>\n        <thead>\n          <tr>\n            <th>Tincture</th>\n            <th>Type</th>\n            <th>Color</th>\n            <th>Chance</th>\n            <th>Remove</th>\n          </tr>\n        </thead>\n        <tbody>\n          {#if add.show}\n            <tr transition:fade>\n              <td>\n                <input type=text placeholder=Tincture bind:value={add.name}/>\n              </td>\n              <td>\n                <select bind:value={add.type}>\n                  <option value=metals>Metals</option>\n                  <option value=colours>Colours</option>\n                  <option value=stains>Stains</option>\n                </select>\n              </td>\n              <td>\n                <input type=color bind:value={add.color}/>\n              </td>\n              <td>\n                <input type=number min=0 max=100 step=1 bind:value={add.chance}/>\n              </td>\n              <td>\n                <span class=actionButton on:click={cancelAddTincture}>&times;</span>\n              </td>\n            </tr>\n          {/if}\n          {#each tData as t (t.t)}\n            <tr animate:flip>\n              <td>{t.t}</td>\n              <td>{t.type}</td>\n              <td>\n                <input type=color bind:value={$colors[t.t]}/>\n                {#if defaultColors[t.t] && $colors[t.t] !== defaultColors[t.t]}\n                  <svg on:click={() => $colors[t.t] = defaultColors[t.t]} width=12 height=12 fill=#fff title=\"Restore default color\" use:tooltip>\n                    <use href=\"#undo-icon\"></use>\n                  </svg>\n                {/if}\n              </td>\n              <td>\n                <input type=number min=0 max=100 step=1 bind:value={$tinctures[t.type][t.t]}/>\n                <span class=totalChance>/ {getTotalChance(t.type)}</span>\n              </td>\n              <td>\n                <span class=actionButton on:click={() => removeTincture(t)}>&times;</span>\n              </td>\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n\n<style>\n  #tinctures {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: rgba(0,0,0, 0.9);\n    transition: .5s;\n    text-align: center;\n    user-select: none;\n  }\n\n  #tincturesCont {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    overflow: auto;\n    scrollbar-width: thin;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  #tincturesCont::-webkit-scrollbar {\n    width: 6px;\n    background-color: #cccccc80;\n  }\n\n  #tincturesCont::-webkit-scrollbar-thumb {\n    background-color: #111;\n  }\n\n  @media only screen and (orientation: portrait) {\n    #tincturesCont {\n      flex-direction: column;\n    }\n  }\n\n  span.close {\n    position: fixed;\n    top: 0em;\n    right: .5em;\n    font-size: 4em;\n    padding: .2em 0;\n    cursor: pointer;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  .close:hover, .actionButton:hover {\n    color: #fff;\n  }\n\n  table {\n    color: #ddd;\n    text-transform: capitalize;\n    min-width: 350px;\n    max-width: 80vw;\n    display: block;\n    max-height: 80vh;\n  }\n\n  td {\n    width: 4em;\n  }\n\n  #tincturesTable td:nth-child(3) {\n    width: 5em;\n  }\n\n  input[type=\"color\"] {\n    padding: 0;\n    border: 0;\n    cursor: pointer;\n  }\n\n  input[type=\"text\"] {\n    width: 6em;\n  }\n\n  input[type=\"number\"] {\n    width: 4em;\n  }\n\n  .totalChance {\n    position: absolute;\n    margin: .1em 0 0 -2.1em;\n    color: #333;\n    user-select: none;\n    pointer-events: none;\n    font-size: .6em;\n  }\n\n  .actionButton {\n    font-size: 2em;\n    cursor: pointer;\n  }\n\n  .contolButtons > button {\n    width: 9em;\n    margin: 1em .1em;\n  }\n</style>","<script>\n  import {onMount} from 'svelte';\n  import {fly, fade} from 'svelte/transition';\n  import {message} from './../data/stores';\n  const {text, type = \"info\", timeout = 4000} = $message;\n\n  onMount(async () => {\n    const text = $message.text;\n    setTimeout(() => {\n      if ($message?.text === text) $message = null;\n    }, timeout);\n  });\n\n  function hideMessage() {\n    $message = null;\n  }\n</script>\n\n<div class={type} in:fly={{y:200, duration: 500}} out:fade={{duration: 300}} on:click={hideMessage}>\n  {text}\n</div>\n\n<style>\n  div {\n    position: absolute;\n    bottom: 0%;\n    left: 50%;\n    line-height: 1.4em;\n    padding: .8em;\n    transform: translate(-50%, -50%);\n    z-index: 99;\n    max-width: 80%;\n    width: max-content;\n    user-select: none;\n    background-color: #00000095;\n  }\n\n  .error {\n    color: #e90000;\n  }\n\n  .warn {\n    color: #dd7200;\n  }\n\n  .info {\n    color: #fff;\n  }\n\n  .tip {\n    color: #fff;\n    border-radius: 10px;\n  }\n\n  .success {\n    color: #0fc63a;\n  }\n</style>","<script>\n  import WindowEvents from './WindowEvents.svelte';\n  import Navbar from './navigation/Navbar.svelte';\n  import About from './navigation/About.svelte';\n  import License from './navigation/License.svelte';\n  import Viewer from './navigation/Viewer.svelte';\n  import Editor from './editor/Editor.svelte';\n  import Gallery from './navigation/Gallery.svelte';\n  import UploadRaster from './navigation/UploadRaster.svelte';\n  import UploadVector from './navigation/UploadVector.svelte';\n  import Tinctures from './navigation/Tinctures.svelte';\n  import Message from './Message.svelte';\n  import {background, size, history, matrices, matrix, state, message, shield} from '../data/stores';\n  import {shields} from '../data/shields';\n  import {rw} from '../scripts/utils';\n  let n, w, h, gallery = [], seed, coaSize = 200;\n\n  checkLoadParameters(); // on load\n  $: [n, w, h] = defineGallerySize($size);\n  $: handleMatrixChange($matrix, $size);\n\n  function handleMatrixChange() {\n    const l = $history.length;\n\n    // reroll is clicked\n    if (!$matrices[$matrix]) {\n      if ($state.edit) {\n        // generate new coa\n        $matrices[$matrix] = $matrices[$matrix-1].slice();\n        $matrices[$matrix][$state.i] = l;\n        seed = undefined; // use once\n      } else {\n        // reroll gallery\n        $matrices[$matrix] = Array.from({length: n}, (_, i) => l+i++);\n      }\n\n      // change shield if it's not locked (manually selected)\n      if (!localStorage.getItem(\"shield\")) {\n        $shield = rw(shields[rw(shields.types)]);\n      }\n    }\n\n    // add additional coas to matrix if size is smaller\n    if ($matrices[$matrix].length < n) {\n      const m = $matrices[$matrix];\n      $matrices[$matrix] = [...Array(n).keys()].map(i => m[i] !== undefined ? m[i] : l+i);\n    }\n    gallery = $matrices[$matrix].slice(0, n); // trim gallery if size was bigger\n\n    // on coa edit or view mode\n    if ($state.edit || $state.view) $state.c = $matrices[$matrix][$state.i];\n  }\n\n  function checkLoadParameters() {\n    const url = new URL(window.location);\n    const viewParam = url.searchParams.get(\"view\") == 1;\n    const sizeParam = +url.searchParams.get(\"size\");\n    const coaParam = url.searchParams.get(\"coa\");\n    const seedParam = url.searchParams.get(\"seed\");\n    const from = url.searchParams.get(\"from\");\n\n    if (!coaParam && !seedParam) return; // no predefined coa, regular flow (generate gallery)\n\n    if (coaParam) {\n      // exact coa to render\n      if (!validateJSON(coaParam)) return;\n      $history.push(JSON.parse(coaParam));\n    } else if (seedParam) {\n      // exact seed to use\n      seed = isNaN(+seedParam) ? seedParam : +seedParam;\n    }\n\n    if (coaParam || seedParam) {\n      if (from === \"FMG\") {\n        const text = \"Configure emblem, save it in SVG format and then load back to the Fantasy Map Generator\";\n        $message = {type: \"info\", text, timeout: 10000};\n      }\n      $matrices[0] = [0];\n      if (viewParam) {\n        if (sizeParam) coaSize = sizeParam;\n        $state.view = 1; // open in view only mode\n      } else $state.edit = 1; // open in edit mode\n    }\n  }\n\n  function validateJSON(text) {\n    try {\n      JSON.parse(text);\n      return true;\n    } catch(e) {\n      console.error(e);\n      $message = {type: \"error\", text: `URL error: ${e.message}`, timeout: 5000};\n      return false;\n    }\n  }\n\n  // define number and size of coas to display\n  function defineGallerySize(desiredSize) {\n    const width = window.innerWidth;\n    const height = window.innerHeight - 60;\n    const numberX = Math.ceil(width / desiredSize);\n    const w = Math.floor(width / numberX);\n    const numberY = Math.floor(height / w);\n    const h = Math.floor(height / numberY);\n    return [numberX * numberY, w, h];\n  }\n</script>\n\n{#if $state.view}\n  <Viewer c={$state.c} {seed} {coaSize}/>\n{:else}\n  <main style=\"background-color: {$background}\">\n    <Navbar/>\n    {#if $state.about}<About/>{/if}\n    {#if $state.license}<License/>{/if}\n    {#if $state.raster}<UploadRaster/>{/if}\n    {#if $state.vector}<UploadVector/>{/if}\n    {#if $state.tinctures}<Tinctures/>{/if}\n    {#if $state.edit}<Editor c={$state.c} {seed}/>\n    {:else}<Gallery {gallery} {w} {h}/>{/if}\n    {#if $message}<Message/>{/if}\n  </main>\n{/if}\n<WindowEvents/>\n\n<style>\n  main {\n    background-image: url(\"data:image/svg+xml,%3Csvg width='84' height='84' viewBox='0 0 84 84' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none'%3E%3Cg fill='%23222' fill-opacity='.2'%3E%3Cpath d='M84 23c-4.417 0-8-3.584-8-7.998V8h-7.002C64.58 8 61 4.42 61 0H23c0 4.417-3.584 8-7.998 8H8v7.002C8 19.42 4.42 23 0 23v38c4.417 0 8 3.584 8 7.998V76h7.002C19.42 76 23 79.58 23 84h38c0-4.417 3.584-8 7.998-8H76v-7.002C76 64.58 79.58 61 84 61V23zM59.05 83H43V66.95c5.054-.5 9-4.764 9-9.948V52h5.002c5.18 0 9.446-3.947 9.95-9H83v16.05c-5.054.5-9 4.764-9 9.948V74h-5.002c-5.18 0-9.446 3.947-9.95 9zm-34.1 0H41V66.95c-5.053-.502-9-4.768-9-9.948V52h-5.002c-5.184 0-9.447-3.946-9.95-9H1v16.05c5.053.502 9 4.768 9 9.948V74h5.002c5.184 0 9.447 3.946 9.95 9zm0-82H41v16.05c-5.054.5-9 4.764-9 9.948V32h-5.002c-5.18 0-9.446 3.947-9.95 9H1V24.95c5.054-.5 9-4.764 9-9.948V10h5.002c5.18 0 9.446-3.947 9.95-9zm34.1 0H43v16.05c5.053.502 9 4.768 9 9.948V32h5.002c5.184 0 9.447 3.946 9.95 9H83V24.95c-5.053-.502-9-4.768-9-9.948V10h-5.002c-5.184 0-9.447-3.946-9.95-9zM50 50v7.002C50 61.42 46.42 65 42 65c-4.417 0-8-3.584-8-7.998V50h-7.002C22.58 50 19 46.42 19 42c0-4.417 3.584-8 7.998-8H34v-7.002C34 22.58 37.58 19 42 19c4.417 0 8 3.584 8 7.998V34h7.002C61.42 34 65 37.58 65 42c0 4.417-3.584 8-7.998 8H50z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  }\n</style>","import App from \"./components/App.svelte\";\n\n// register serviceWorker\nif (\"serviceWorker\" in navigator && location.hostname !== \"localhost\") {\n  navigator.serviceWorker.register('./sw.js');\n}\n\nconst app = new App({\n  target: document.body,\n  props: {}\n});\n\nexport default app;"],"names":["noop","identity","x","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","tar","src","k","assign","slice","update_slot","slot","slot_definition","dirty","get_slot_changes_fn","get_slot_context_fn","slot_changes","lets","undefined","merged","len","Math","max","length","i","get_slot_changes","slot_context","p","null_to_empty","set_store_value","ret","set","action_destroyer","action_result","destroy","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","loop","promise","Promise","fulfill","add","[object Object]","append","target","node","appendChild","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","element","name","document","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","attr","attribute","removeAttribute","getAttribute","setAttribute","xlink_attr","setAttributeNS","to_number","set_data","wholeText","set_input_value","input","set_style","key","important","style","setProperty","select_option","select","option","__value","selected","select_value","selected_option","querySelector","toggle_class","toggle","classList","HtmlTag","e","n","html","nodeName","t","h","innerHTML","Array","from","childNodes","active_docs","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","rule","str","hash","charCodeAt","doc","ownerDocument","stylesheet","__svelte_stylesheet","head","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","delete_rule","previous","split","next","filter","anim","indexOf","deleted","join","deleteRule","clear","fix_position","getComputedStyle","position","width","height","getBoundingClientRect","left","top","transform","add_transform","set_current_component","onMount","Error","get_current_component","on_mount","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flushing","seen_callbacks","flush","update","pop","has","fragment","before_update","after_update","wait","then","dispatch","direction","kind","dispatchEvent","type","detail","createEvent","initCustomEvent","custom_event","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","params","animation_name","config","running","cleanup","go","easing","tick","css","start_time","end_time","abort","started","create_bidirectional_transition","intro","running_program","pending_program","clear_animation","init","program","abs","start","end","group","globals","globalThis","global","outro_and_destroy_block","lookup","fix_and_destroy_block","destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","get_context","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","will_move","did_move","m","first","new_block","old_block","new_key","old_key","bind","index","props","bound","create_component","mount_component","new_on_destroy","map","destroy_component","make_dirty","fill","instance","create_fragment","not_equal","parent_component","prop_values","context","skip_bound","ready","rest","hydrate","nodes","children","l","SvelteComponent","$destroy","splice","$$props","obj","$$set","keys","subscriber_queue","writable","stop","subscribers","new_value","run_queue","s","invalidate","subscriber","defaultTinctures","field","metals","colours","stains","patterns","division","charge","argent","or","gules","azure","sable","purpure","vert","murrey","sanguine","tenné","semy","ermine","vair","counterVair","vairInPale","vairEnPointe","vairAncien","potent","counterPotent","potentInPale","potentEnPointe","chequy","lozengy","fusily","pally","barry","gemelles","bendy","bendySinister","palyBendy","barryBendy","pappellony","pappellony2","scaly","plumetty","masoned","fretty","grillage","chainy","maily","honeycombed","defaultColors","positionsSelect","positions","conventional","abcdefgzi","beh","behdf","acegi","kn","bhdf","jeo","abc","jln","jlh","kmo","jleh","def","abcpqh","ABCDEFGHIJKL","complex","divisions","perPale","pq","jo","jl","perFess","jkl","gizgiz","perBend","lm","bcfdgh","perBendSinister","perCross","jlmo","j","perChevron","dfk","dfbh","bdefh","perChevronReversed","mok","dfh","perSaltire","bh","df","perPile","ee","be","abceh","abcabc","ordinariesOn","pale","bb","fess","bar","defdefdef","fessCotissed","fessDoubleCotissed","defdef","bend","joe","bendSinister","lem","bendlet","joejoejoe","bendletSinister","lemlemlem","bordure","chief","bbb","quarter","jjj","canton","yyyy","cross","eeee","behdfbehdf","behbehbeh","crossParted","saltire","jlemo","saltireParted","pall","jlhh","pallReversed","bemo","pile","pileInBend","eeoo","pileInBendSinister","eemm","ordinariesOff","yyy","abcz","abcgzi","bgi","ach","gemelle","ccg","ccc","aai","aaa","kenken","peqpeq","orle","emo","emoz","ez","terrace","bdf","mount","point","acbdef","flaunches","gyron","acgi","BCKFEILGJbdmfo","aczac","chevron","hhh","chevronReversed","acdfgi","acac","cg","ai","label","defgzi","eh","defdefhmo","egiegi","pqn","inescutcheon","mascle","pqe","eknpq","lionRampant","lionPassant","wolfPassant","greyhoundСourant","griffinRampant","griffinPassant","boarRampant","eagle","raven","wyvern","garb","lme","crown","hand","armillarySphere","tree","lymphad","headWreathed","cavalier","lines","straight","wavy","engrailed","invecked","rayonne","embattled","raguly","urdy","dancetty","indented","dentilly","bevilled","angled","flechy","barby","enclavy","escartely","arched","archedReversed","nowy","nowyReversed","embattledGhibellin","embattledNotched","embattledGrady","dovetailedIndented","dovetailed","potenty","potentyDexter","potentySinister","nebuly","seaWaves","dragonTeeth","firTrees","variants","gyronny","chevronny","ordinaries","lined","gore","piles","pilesInPoint","patternable","charges","types","crosses","animals","animalHeads","birds","aquatic","seafaring","fantastic","plants","agriculture","arms","bodyparts","people","architecture","miscellaneous","uploaded","single","lozenge","fusil","rustre","lozengeFaceted","lozengePloye","roundel","roundel2","annulet","mullet","mulletPierced","mulletFaceted","mullet4","mullet6","mullet6Pierced","mullet6Faceted","mullet7","mullet8","mullet10","estoile","compassRose","billet","delf","triangle","trianglePierced","goutte","heart","pique","carreau","trefle","fleurDeLis","sun","sunInSplendour","crescent","fountain","inescutcheonHeater","inescutcheonSpanish","inescutcheonFrench","inescutcheonHorsehead","inescutcheonHorsehead2","inescutcheonPolish","inescutcheonHessen","inescutcheonSwiss","inescutcheonBoeotian","inescutcheonRoman","inescutcheonKite","inescutcheonOldFrench","inescutcheonRenaissance","inescutcheonBaroque","inescutcheonTarge","inescutcheonTarge2","inescutcheonPavise","inescutcheonWedged","inescutcheonFlag","inescutcheonPennon","inescutcheonGuidon","inescutcheonBanner","inescutcheonDovetail","inescutcheonGonfalon","inescutcheonPennant","inescutcheonRound","inescutcheonOval","inescutcheonVesicaPiscis","inescutcheonSquare","inescutcheonDiamond","inescutcheonNo","inescutcheonFantasy1","inescutcheonFantasy2","inescutcheonFantasy3","inescutcheonFantasy4","inescutcheonFantasy5","inescutcheonNoldor","inescutcheonGondor","inescutcheonEasterling","inescutcheonErebor","inescutcheonIronHills","inescutcheonUrukHai","inescutcheonMoriaOrc","crossHummetty","crossVoided","crossPattee","crossPotent","crossClechy","crosslet","crossBottony","crossFleury","crossPatonce","crossPommy","crossGamma","crossArrowed","crossFitchy","crossCercelee","crossMoline","crossFourchy","crossAvellane","crossErminee","crossMaltese","crossCeltic","crossOccitan","crossSaltire","crossTau","wolfRampant","wolfStatant","greyhoundCourant","horseRampant","horseSalient","bearRampant","bearPassant","bullPassant","goat","lamb","elephant","wolfHeadErased","bullHeadCaboshed","deerHeadCaboshed","dragonPassant","dragonRampant","wyvernWithWingsDisplayed","eagleTwoHeards","unicornRampant","pegasus","serpent","cock","parrot","swan","swanErased","heron","cinquefoil","rose","escallop","pike","cancer","dolphin","boat","rake","sword","sabre","sabresCrossed","hatchet","lochaberAxe","mallet","bowWithArrow","bow","arrow","arrowsSheaf","tower","castle","orb","chalice","buckle","bugleHorn","bell","pot","horseshoe","stagsAttires","cowHorns","wing","wingSword","lute","harp","wheel","crosier","log","natural","sinister","reversed","shields","basic","regional","historical","specific","banner","simple","fantasy","middleEarth","heater","spanish","french","horsehead","horsehead2","polish","hessen","swiss","boeotian","roman","kite","oldFrench","renaissance","baroque","targe","targe2","pavise","wedged","flag","pennon","guidon","dovetail","gonfalon","pennant","round","oval","vesicaPiscis","square","diamond","no","fantasy1","fantasy2","fantasy3","fantasy4","fantasy5","noldor","gondor","easterling","erebor","ironHills","urukHai","moriaOrc","shieldPaths","shieldBox","shieldSize","shieldPositions","g","y","z","q","A","B","C","D","K","E","J","F","I","G","H","L","ra","array","floor","random","rw","object","defineProperty","enumerable","configurable","P","probability","camelize","toLowerCase","replace","toUpperCase","stored","localStorage","getItem","storedObj","JSON","parse","diaper","grad","shield","coaParam","URL","location","searchParams","getShieldFromURL","colors","stringify","tinctures","border","borderWidth","background","scale","grid","showGrid","defineInitialOptions","history","matrices","matrix","state","edit","about","message","changes","refresh","reset","undo","redo","createChangesTracker","async","download","format","coas","getElementById","querySelectorAll","numberX","innerWidth","numberY","ceil","scaleValue","canvas","getContext","loaded","svg","url","addedElements","clone","cloneNode","getElementsByTagName","gridPattern","remove","gr","di","insertAdjacentHTML","defs","outerHTML","el","fieldPattern","addPattern","divisionPattern","pattern","match","serialized","XMLSerializer","serializeToString","blob","Blob","createObjectURL","setTimeout","revokeObjectURL","getURL","link","getTimestamp","href","click","downloadVector","img","Image","onload","drawImage","toDataURL","drawCanvas","downloadRaster","formatTime","time","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","touch","startX","startY","host","navigator","userAgent","includes","onbeforeunload","code","ctrl","ctrlKey","activeElement","tagName","$matrix","$state","raster","vector","$message","changedTouches","screenX","screenY","menu","navbar","contains","diffX","diffY","ratioX","ratioY","tooltip","div","title","limit","mouseEnter","oldTips","getElementsByClassName","tip","gesture","hotkey","textContent","className","body","bbox","innerHeight","mouseLeave","mouseMove","min","pageX","pageY","charAt","locked","stopPropagation","removeItem","cubicInOut","pow","cubicOut","fade","linear","opacity","fly","target_opacity","od","u","slide","parseFloat","padding_top","paddingTop","padding_bottom","paddingBottom","margin_top","marginTop","margin_bottom","marginBottom","border_top_width","borderTopWidth","border_bottom_width","borderBottomWidth","draw","speed","getTotalLength","goHome","restoreDefault","origin","pathname","installable","prompt","wideScreen","change","setItem","coa","$changes","$shield","copyToClipboard","stringToCopy","response","clipboard","writeText","timeout","err","console","error","install","userChoice","choise","$background","$border","$borderWidth","$scale","icon","replaceAll","encodeURI","sh","license","metal","t1","t2","source","author","licenseName","cap","string","substr","flat","chargeData","getLicenseName","sort","sameChargeLicense","drag","currentTarget","parseTransform","x1","y1","sizeAdj","closest","move","resize","rotate","cursor","once","angle","rad","PI","cosAngle","cos","sinAngle","sin","gridSize","dx","dy","relX","relY","setTransform","tr","shiftKey","metaKey","trim","templates","perFessLined","line","perPaleLined","perBendLined","perBendSinisterLined","perChevronLined","perChevronReversedLined","perCrossLined","perPileLined","fessLined","paleLined","bendLined","bendSinisterLined","chiefLined","barLined","gemelleLined","fessCotissedLined","fessDoubleCotissedLined","bendletLined","bendletSinisterLined","terraceLined","crossLined","crossPartedLined","saltireLined","saltirePartedLined","c1","c2","chargeId","chargesGroup","colorsData","loadedCharges","getTemplate","id","linedId","linePath","patternId","test","addCharge","clr","getSizeMod","shieldName","licenseAttrs","addInescutcheon","fetch","res","ok","metadata","catch","fetchCharge","tincture","ordinary","stroke","shieldPath","strokeWidth","sizeModifier","sx","sy","translate","divided","ordinariesRegular","above","ordinariesAboveCharges","coaDiaper","diaperType","$colors","$diaper","getDieperType","chargesData","ordinariesData","getClass","points","entries","w","viewBox","generate","seed","args","version","s0","s1","s2","initialArgs","uinta","Uint32Array","mashver","_initState","_internalSeed","mash","toString","Mash","_isInteger","_int","parseInt","fract53","int32","cycle","_run","range","loBound","hiBound","arguments","restart","prototype","versions","crypto","getRandomValues","aleaPRNG","usedPattern","usedTinctures","tData","getTincture","linedOrdinary","divisioned","selectCharge","ordinaryT","concat","allowCounter","p2","p1","p3","p4","c3","t3","c4","t4","getSize","defineChargeAttributes","fields","RoT","base","getType","startWithMetal","replaceTincture","definePattern","search","open","focus","coaSize","$history","itemSize","$tinctures","query","queryOld","category","categories","allCharges","chargeList","getCharge","regEx","RegExp","results","showResults","divisionList","lineList","ordinariesList","checked","showStroke","showPositions","$grid","$showGrid","els","isRaster","section","ratio","defineMenuState","isPattern","isSemy","getSemyCharge","getChargeCategory","find","getSemyType","selectSecondTincture","getField","tSplit","getDivision","Boolean","getOrdinaries","getCharges","reroll","attibutes","item","с","gallery","regenerate","$matrices","editCOA","font","getFilesFromInputEvent","getFilesFromDropEvent","dataTransfer","files","items","getAsFile","dragging","offsetX","offsetY","getFilesFunction","file","reader","FileReader","readerEvent","dataURL","result","readAsDataURL","loadImage","image","downloadTemplate","color","tinctureList","transformString","values","updateTransform","svgText","consolidated","baseVal","consolidate","fix","toFixed","readAsText","flip","scaleX","clientWidth","scaleY","clientHeight","to","sqrt","_t","chance","right","bottom","show","lock","removeTincture","reduce","view","viewParam","sizeParam","seedParam","validateJSON","isNaN","checkLoadParameters","desiredSize","defineGallerySize","$size","handleMatrixChange","hostname","serviceWorker","register"],"mappings":"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"}