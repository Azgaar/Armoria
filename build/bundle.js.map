{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../node_modules/svelte/store/index.mjs","../../src/data/dataModel.js","../../src/data/shields.js","../../src/scripts/utils.ts","../../src/data/stores.js","../../src/scripts/download.js","../../src/components/WindowEvents.svelte","../../src/scripts/tooltip.ts","../../src/components/navigation/Lock.svelte","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../src/config/options.js","../../src/components/navigation/Navbar.svelte","../../src/components/navigation/AnimatedCOA.svelte","../../src/components/navigation/About.svelte","../../src/components/navigation/License.svelte","../../src/scripts/drag.js","../../src/data/templates.js","../../src/scripts/getters.js","../../src/components/object/Ordinary.svelte","../../src/components/object/Charge.svelte","../../src/components/object/Shield.svelte","../../src/components/editor/Grid.svelte","../../src/components/editor/Positions.svelte","../../src/components/object/COA.svelte","../../src/scripts/generator.js","../../src/scripts/alea.js","../../src/components/navigation/Viewer.svelte","../../src/components/editor/EditorType.svelte","../../src/components/editor/EditorSize.svelte","../../src/components/editor/EditorItem.svelte","../../src/components/editor/EditorTincture.svelte","../../src/components/editor/EditorPattern.svelte","../../src/components/editor/EditorCharge.svelte","../../src/components/editor/EditorDivision.svelte","../../src/components/editor/EditorDivided.svelte","../../src/components/editor/EditorLine.svelte","../../src/components/editor/EditorOrdinary.svelte","../../src/components/editor/Switch.svelte","../../src/components/editor/EditorStroke.svelte","../../src/components/editor/EditorPosition.svelte","../../src/components/editor/EditorShift.svelte","../../src/components/editor/EditorControls.svelte","../../src/components/editor/EditorAbove.svelte","../../src/components/editor/Editor.svelte","../../src/components/navigation/Gallery.svelte","../../src/components/navigation/LicenseList.svelte","../../src/components/navigation/UploadRaster.svelte","../../src/components/navigation/UploadVector.svelte","../../node_modules/svelte/animate/index.mjs","../../src/components/navigation/Tinctures.svelte","../../src/components/Message.svelte","../../src/components/App.svelte","../../src/scripts/aliases.ts","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.44.2' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","export const defaultTinctures = {\n  field: { metals: 35, colours: 49, stains: 1, patterns: 14 },\n  division: { metals: 35, colours: 49, stains: 1, patterns: 8 },\n  charge: { metals: 16, colours: 24, stains: 1, patterns: 0 },\n  metals: { argent: 3, or: 2 },\n  colours: { gules: 5, azure: 4, sable: 3, purpure: 3, vert: 2 },\n  stains: { murrey: 1, sanguine: 1, tenné: 1 },\n  patterns: {\n    semy: 8, ermine: 6,\n    vair: 4, counterVair: 1, vairInPale: 1, vairEnPointe: 2, vairAncien: 2,\n    potent: 2, counterPotent: 1, potentInPale: 1, potentEnPointe: 1,\n    chequy: 8, lozengy: 5, fusily: 2, pally: 8, barry: 10, gemelles: 1,\n    bendy: 8, bendySinister: 4, palyBendy: 2, barryBendy: 1,\n    pappellony: 2, pappellony2: 3, scaly: 1, plumetty: 1,\n    masoned: 6, fretty: 3, grillage: 1, chainy: 1, maily: 2, honeycombed: 1 }\n}\n\nexport const defaultColors = {\n  argent: \"#fafafa\",\n  or: \"#ffe066\",\n  gules: \"#d7374a\",\n  sable: \"#333333\",\n  azure: \"#377cd7\",\n  vert: \"#26c061\",\n  purpure: \"#522d5b\",\n  murrey: \"#85185b\",\n  sanguine: \"#b63a3a\",\n  tenné: \"#cc7f19\"\n}\n\nexport const positionsSelect = [\n  \"a\", \"b\", \"c\", \"d\", \"e\", \"f\", \"g\", \"h\", \"i\", \"y\", \"z\",\n  \"kn\", \"bh\", \"df\", \"pq\", \"jo\", \"lm\",\n  \"abc\", \"def\", \"ghi\", \"adg\", \"beh\", \"cfi\",\n  \"jeo\", \"jln\", \"kmo\", \"peq\", \"lem\",\n  \"bhdf\", \"jleh\", \"behdf\", \"acegi\",\n  \"bdefh\", \"kenpq\", \"abcpqh\",\n  \"abcdefgzi\", \"ABCDEFGHIJKL\"\n];\n\nexport const positions = {\n  conventional: { e: 20, abcdefgzi: 3, beh: 3, behdf: 2, acegi: 1, kn: 3, bhdf: 1, jeo: 1, abc: 3, jln: 6, jlh: 3, kmo: 2, jleh: 1, def: 3, abcpqh: 4, ABCDEFGHIJKL: 1 },\n  complex: { e: 40, beh: 1, kn: 1, jeo: 1, abc: 2, jln: 7, jlh: 2, def: 1, abcpqh: 1 },\n  divisions: {\n    perPale: { e: 15, pq: 5, jo: 2, jl: 2, ABCDEFGHIJKL: 1 },\n    perFess: { e: 12, kn: 4, jkl: 2, gizgiz: 1, jlh: 3, kmo: 1, ABCDEFGHIJKL: 1 },\n    perBend: { e: 5, lm: 5, bcfdgh: 1 },\n    perBendSinister: { e: 1, jo: 1 },\n    perCross: { e: 4, jlmo: 1, j: 1, jo: 2, jl: 1 },\n    perChevron: { e: 1, jlh: 1, dfk: 1, dfbh: 2, bdefh: 1 },\n    perChevronReversed: { e: 1, mok: 2, dfh: 2, dfbh: 1, bdefh: 1 },\n    perSaltire: { bhdf: 8, e: 3, abcdefgzi: 1, bh: 1, df: 1, ABCDEFGHIJKL: 1 },\n    perPile: { ee: 3, be: 2, abceh: 1, abcabc: 1, jleh: 1 }\n  },\n  ordinariesOn: {\n    pale: { ee: 12, beh: 10, kn: 3, bb: 1 },\n    fess: { ee: 1, def: 3 },\n    bar: { defdefdef: 1 },\n    fessCotissed: { ee: 1, def: 3 },\n    fessDoubleCotissed: { ee: 1, defdef: 3 },\n    bend: { ee: 2, jo: 1, joe: 1 },\n    bendSinister: { ee: 1, lm: 1, lem: 4 },\n    bendlet: { joejoejoe: 1 },\n    bendletSinister: { lemlemlem: 1 },\n    bordure: { ABCDEFGHIJKL: 1 },\n    chief: { abc: 5, bbb: 1 },\n    quarter: { jjj: 1 },\n    canton: { yyyy: 1 },\n    cross: { eeee: 1, behdfbehdf: 3, behbehbeh: 2 },\n    crossParted: { e: 5, ee: 1 },\n    saltire: { ee: 5, jlemo: 1 },\n    saltireParted: { e: 5, ee: 1 },\n    pall: { ee: 1, jleh: 5, jlhh: 3 },\n    pallReversed: { ee: 1, bemo: 5 },\n    pile: { bbb: 1 },\n    pileInBend: { eeee: 1, eeoo: 1 },\n    pileInBendSinister: { eeee: 1, eemm: 1 }\n  },\n  ordinariesOff: {\n    pale: { yyy: 1 },\n    fess: { abc: 3, abcz: 1 },\n    bar: { abc: 2, abcgzi: 1, jlh: 5, bgi: 2, ach: 1 },\n    gemelle: { abc: 1 },\n    bend: { ccg: 2, ccc: 1 },\n    bendSinister: { aai: 2, aaa: 1 },\n    bendlet: { ccg: 2, ccc: 1 },\n    bendletSinister: { aai: 2, aaa: 1 },\n    bordure: { e: 4, jleh:2, kenken: 1, peqpeq: 1 },\n    orle: { e: 4, jleh: 1, kenken: 1, peqpeq: 1 },\n    chief: { emo: 2, emoz: 1, ez: 2 },\n    terrace: { e: 5, def: 1, bdf: 3 },\n    mount: { e: 5, def: 1, bdf: 3 },\n    point: { e: 2, def: 1, bdf: 3, acbdef: 1 },\n    flaunches: { e: 3, kn: 1, beh: 3 },\n    gyron: { bh: 1 },\n    quarter: { e: 1 },\n    canton: { e: 5, beh: 1, def: 1, bdefh: 1, kn: 1 },\n    cross: { acgi: 1 },\n    pall: { BCKFEILGJbdmfo: 1 },\n    pallReversed: { aczac: 1 },\n    chevron: { ach: 3, hhh: 1 },\n    chevronReversed: { bbb: 1 },\n    pile: { acdfgi: 1, acac: 1 },\n    pileInBend: { cg: 1 },\n    pileInBendSinister: { ai: 1 },\n    label: { defgzi: 2, eh: 3, defdefhmo: 1, egiegi: 1, pqn: 5 }\n  },\n  // charges\n  inescutcheon: { e: 4, jln: 1 },\n  mascle: { e: 15, abcdefgzi: 3, beh: 3, bdefh: 4, acegi: 1, kn: 3, joe: 2, abc: 3, jlh: 8, jleh: 1, df: 3, abcpqh: 4, pqe: 3, eknpq: 3 },\n  lionRampant: { e: 10, def: 2, abc: 2, bdefh: 1, kn: 1, jlh: 2, abcpqh: 1 },\n  lionPassant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  wolfPassant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  greyhoundСourant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  griffinRampant: { e: 10, def: 2, abc: 2, bdefh: 1, kn: 1, jlh: 2, abcpqh: 1 },\n  griffinPassant: { e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1 },\n  boarRampant: { e: 12, beh: 1, kn: 1, jln: 2 },\n  eagle: { e: 15, beh: 1, kn: 1, abc: 1, jlh: 2, def: 2, pq: 1 },\n  raven: { e: 15, beh: 1, kn: 1, jeo: 1, abc: 3, jln: 3, def: 1 },\n  wyvern: { e: 10, jln: 1 },\n  garb: { e: 1, def: 3, abc: 2, beh: 1, kn: 1, jln: 3, jleh: 1, abcpqh: 1, joe: 1, lme: 1 },\n  crown: { e: 10, abcdefgzi: 1, beh: 3, behdf: 2, acegi: 1, kn: 1, pq: 2, abc: 1, jln: 4, jleh: 1, def: 2, abcpqh: 3 },\n  hand: { e: 10, jln: 2, kn: 1, jeo: 1, abc: 2, pqe: 1 },\n  armillarySphere: {e: 1},\n  tree: {e: 1},\n  lymphad: {e: 1},\n  head: {e: 1},\n  headWreathed: {e: 1},\n  cavalier: {e: 1},\n  angel: {e: 1}\n};\n\nexport const lines = {\n  straight: 50, wavy: 8, engrailed: 4, invecked: 3, rayonne: 3, embattled: 1, raguly: 1, urdy: 1, dancetty: 1, indented: 2,\n  dentilly: 1, bevilled: 1, angled: 1, flechy: 1, barby: 1, enclavy: 1, escartely: 1, arched: 2, archedReversed: 1, nowy: 1, nowyReversed: 1,\n  embattledGhibellin: 1, embattledNotched: 1, embattledGrady: 1, dovetailedIndented: 1, dovetailed: 1,\n  potenty: 1, potentyDexter: 1, potentySinister: 1, nebuly: 2, seaWaves: 1, dragonTeeth: 1, firTrees: 1\n};\n\nexport const divisions = {\n  variants: { perPale: 5, perFess: 5, perBend: 2, perBendSinister: 1, perChevron: 1, perChevronReversed: 1, perCross: 5, perPile: 1, perSaltire: 1, gyronny: 1, chevronny: 1 },\n  perPale: lines,\n  perFess: lines,\n  perBend: lines,\n  perBendSinister: lines,\n  perChevron: lines,\n  perChevronReversed: lines,\n  perCross: { straight: 20, wavy: 5, engrailed: 4, invecked: 3, rayonne: 1, embattled: 1, raguly: 1, urdy: 1, indented: 2, dentilly: 1, bevilled: 1, angled: 1, embattledGhibellin: 1, embattledGrady: 1, dovetailedIndented: 1, dovetailed: 1, potenty: 1, potentyDexter: 1, potentySinister: 1, nebuly: 1 },\n  perPile: lines\n};\n\nexport const ordinaries = {\n  lined: {\n    pale: 7, fess: 5, bend: 3, bendSinister: 2, chief: 5, bar: 2, gemelle: 1, fessCotissed: 1, fessDoubleCotissed: 1,\n    bendlet: 2, bendletSinister: 1, terrace: 3, cross: 6, crossParted: 1, saltire: 2, saltireParted: 1\n  },\n  straight: {\n    bordure: 8, orle: 4, mount: 1, point: 2, flaunches: 1, gore: 1,\n    gyron: 1, quarter: 1, canton: 2, pall: 3, pallReversed: 2, chevron: 4, chevronReversed: 3,\n    pile: 2, pileInBend: 2, pileInBendSinister: 1, piles: 1, pilesInPoint: 2, label: 1\n  },\n  patternable: [\"flaunches\", \"gyron\", \"quarter\", \"canton\", \"pall\", \"pallReversed\", \"pileInBend\", \"pileInBendSinister\"]\n};\n\nexport const charges = {\n  types: { conventional: 30, crosses: 10, animals: 2, animalHeads: 1, birds: 2, aquatic: 1, seafaring: 1, fantastic: 3, plants: 1, agriculture: 1, arms: 3, bodyparts: 1, people: 1, architecture: 1, miscellaneous: 3, inescutcheon: 3, uploaded: 0 },\n  single: { conventional: 12, crosses: 8, plants: 2, animals: 10, animalHeads: 2, birds: 4, aquatic: 2, seafaring: 2, fantastic: 7, agriculture: 1, arms: 6, bodyparts: 1, people: 2, architecture: 1, miscellaneous: 10, inescutcheon: 5, uploaded: 0 },\n  semy: { conventional: 4, crosses: 1 },\n  conventional: {\n    lozenge: 2, fusil: 4, mascle: 4, rustre: 2, lozengeFaceted: 3, lozengePloye: 1, roundel: 4, roundel2: 3, annulet: 4,\n    mullet: 5, mulletPierced: 1, mulletFaceted: 1, mullet4: 3, mullet6: 4, mullet6Pierced: 1, mullet6Faceted: 1, mullet7: 1, mullet8: 1, mullet10: 1,\n    estoile: 1, compassRose: 1, billet: 5, delf: 0, triangle: 3, trianglePierced: 1, goutte: 4, heart: 4, pique: 2, carreau: 1, trefle: 2,\n    fleurDeLis: 6, sun: 3, sunInSplendour: 1, crescent: 5, fountain: 1\n  },\n  inescutcheon: {\n    inescutcheonHeater: 1, inescutcheonSpanish: 1, inescutcheonFrench: 1,\n    inescutcheonHorsehead: 1, inescutcheonHorsehead2: 1, inescutcheonPolish: 1, inescutcheonHessen: 1, inescutcheonSwiss: 1,\n    inescutcheonBoeotian: 1, inescutcheonRoman: 1, inescutcheonKite: 1, inescutcheonOldFrench: 1, inescutcheonRenaissance: 1, inescutcheonBaroque: 1,\n    inescutcheonTarge: 1, inescutcheonTarge2: 1, inescutcheonPavise: 1, inescutcheonWedged: 1,\n    inescutcheonFlag: 1, inescutcheonPennon: 1, inescutcheonGuidon: 1, inescutcheonBanner: 1, inescutcheonDovetail: 1, inescutcheonGonfalon: 1, inescutcheonPennant: 1,\n    inescutcheonRound: 1, inescutcheonOval: 1, inescutcheonVesicaPiscis: 1, inescutcheonSquare: 1, inescutcheonDiamond: 1, inescutcheonNo: 1,\n    inescutcheonFantasy1: 1, inescutcheonFantasy2: 1, inescutcheonFantasy3: 1, inescutcheonFantasy4: 1, inescutcheonFantasy5: 1,\n    inescutcheonNoldor: 1, inescutcheonGondor: 1, inescutcheonEasterling: 1, inescutcheonErebor: 1, inescutcheonIronHills: 1, inescutcheonUrukHai: 1, inescutcheonMoriaOrc: 1\n  },\n  crosses: {\n    crossHummetty: 15, crossVoided: 1, crossPattee: 2, crossPatteeAlisee: 1, crossFormee: 1, crossFormee2: 2, crossPotent: 2, crossJerusalem:1,\n    crosslet: 1, crossClechy: 3, crossBottony: 1, crossFleury: 3, crossPatonce: 1, crossPommy: 1, crossGamma: 1, crossArrowed: 1, crossFitchy: 1,\n    crossCercelee: 1, crossMoline: 2, crossFourchy: 1, crossAvellane: 1, crossErminee: 1, crossBiparted: 1, crossMaltese: 3, crossTemplar: 2,\n    crossCeltic: 1, crossCeltic2: 1, crossTriquetra: 1, crossCarolingian: 1, crossOccitan: 1, crossSaltire: 3, crossBurgundy: 1,\n    crossLatin: 3, crossPatriarchal: 1, crossOrthodox: 1, crossCalvary: 1, crossDouble: 1, crossTau: 1, crossSantiago: 1, crossAnkh: 1\n  },\n  animals: {\n    lionRampant: 5, lionPassant: 2, lionPassantGuardant: 1, wolfRampant: 1, wolfPassant: 1, wolfStatant: 1, greyhoundCourant: 1, boarRampant: 1,\n    horseRampant: 2, horseSalient: 1, bearRampant: 2, bearPassant: 1, bullPassant: 1, goat: 1, lamb: 1, elephant: 1, camel: 1\n  },\n  animalHeads: { wolfHeadErased: 2, bullHeadCaboshed: 1, deerHeadCaboshed: 1, lionHeadCaboshed: 2},\n  fantastic: {\n    dragonPassant: 2, dragonRampant: 2, wyvern: 1, wyvernWithWingsDisplayed: 1, griffinPassant: 1, griffinRampant: 1,\n    eagleTwoHeards: 2, unicornRampant: 1, pegasus: 1, serpent: 1\n  },\n  birds: { eagle: 9, raven: 2, cock: 3, parrot: 1, swan: 2, swanErased: 1, heron: 1, owl: 1 },\n  plants: { tree: 1, oak: 1, cinquefoil: 1, rose: 1 },\n  aquatic: { escallop: 5, pike: 1, cancer: 1, dolphin: 1 },\n  seafaring: { anchor: 6, boat: 2, boat2: 1, lymphad: 2, armillarySphere: 1 },\n  agriculture: { garb: 2, rake: 1 },\n  arms: { sword: 5, sabre: 1, sabresCrossed: 1, hatchet: 2, axe: 2, lochaberAxe: 1, mallet: 1, bowWithArrow: 2, bow: 1, arrow: 1, arrowsSheaf: 1, helmet: 2 },\n  bodyparts: { hand: 4, head: 1, headWreathed: 1 },\n  people: { cavalier: 3, monk: 1, angel: 2 },\n  architecture: { tower: 1, castle: 1 },\n  miscellaneous: {\n    crown: 3, orb: 1, chalice: 1, key: 1, buckle: 1, bugleHorn: 1, bugleHorn2: 1, bell: 2, pot: 1, bucket: 1, horseshoe: 3,\n    attire: 1, stagsAttires: 1, ramsHorn: 1, cowHorns: 2, wing: 1, wingSword: 1, lute: 1, harp: 1, wheel: 2, crosier: 1, fasces: 1, log: 1\n  },\n  uploaded: {},\n  natural: { fountain: \"azure\", garb: \"or\", raven: \"sable\" }, // charges to mainly use predefined colours\n  sinister: [ // charges that can be sinister\n    \"crossGamma\", \"lionRampant\", \"lionPassant\", \"wolfRampant\", \"wolfPassant\", \"wolfStatant\", \"wolfHeadErased\", \"greyhoundСourant\", \"boarRampant\",\n    \"horseRampant\", \"horseSalient\", \"bullPassant\", \"bearRampant\", \"bearPassant\", \"goat\", \"lamb\", \"elephant\", \"eagle\", \"raven\", \"cock\", \"parrot\",\n    \"swan\", \"swanErased\", \"heron\", \"pike\", \"dragonPassant\", \"dragonRampant\", \"wyvern\", \"wyvernWithWingsDisplayed\", \"griffinPassant\", \"griffinRampant\",\n    \"unicornRampant\", \"pegasus\", \"serpent\", \"hatchet\", \"lochaberAxe\", \"hand\", \"wing\", \"wingSword\", \"lute\", \"harp\", \"bow\", \"head\", \"headWreathed\",\n    \"knight\", \"lymphad\", \"log\", \"crosier\", \"dolphin\", \"sabre\", \"monk\", \"owl\", \"axe\", \"camel\", \"fasces\", \"lionPassantGuardant\", \"helmet\"],\n  reversed: [ // charges that can be reversed\n    \"goutte\", \"mullet\", \"mullet7\", \"crescent\", \"crossTau\", \"cancer\", \"sword\", \"sabresCrossed\", \"hand\",\n    \"horseshoe\", \"bowWithArrow\", \"arrow\", \"arrowsSheaf\", \"rake\", \"crossTriquetra\", \"crossLatin\", \"crossTau\"\n  ],\n  patternable: [ // charges that can have pattern tincture when counterchanged\n    \"lozengePloye\", \"roundel\", \"annulet\", \"mullet4\", \"mullet8\", \"delf\", \"triangle\", \"trianglePierced\",\n    \"sun\", \"fountain\",\"inescutcheonRound\", \"inescutcheonSquare\", \"inescutcheonNo\",\n    \"crossHummetty\", \"crossVoided\", \"crossPattee\", \"crossPatteeAlisee\", \"crossFormee\", \"crossFormee2\",\n    \"crossPotent\", \"crossJerusalem\", \"crosslet\", \"crossClechy\", \"crossBottony\", \"crossFleury\",\n    \"crossPatonce\", \"crossPommy\", \"crossGamma\", \"crossArrowed\", \"crossFitchy\", \"crossCercelee\", \"crossMoline\",\n    \"crossAvellane\", \"crossErminee\", \"crossBiparted\", \"crossMaltese\", \"crossTemplar\", \"crossCeltic\", \"crossCeltic2\", \"crossTau\"\n  ],\n}\n\nexport const patternSize = {standard: 154, small: 20, smaller: 20, big: 5, smallest: 1};","export const shields = {\n  types: {basic: 10, regional: 2, historical: 1, specific: 1, banner: 1, simple: 2, fantasy: 1, middleEarth: 0},\n  basic: {heater: 12, spanish: 6, french: 1},\n  regional: {horsehead: 1, horsehead2: 1, polish: 1, hessen: 1, swiss: 1},\n  historical: {boeotian: 1, roman: 2, kite: 1, oldFrench: 5, renaissance: 2, baroque: 2},\n  specific: {targe: 1, targe2: 0, pavise: 5, wedged: 10},\n  banner: {flag: 1, pennon: 0, guidon: 0, banner: 0, dovetail: 1, gonfalon: 5, pennant: 0},\n  simple: {round: 12, oval: 6, vesicaPiscis: 1, square: 1, diamond: 2, no: 0},\n  fantasy: {fantasy1: 2, fantasy2: 2, fantasy3: 1, fantasy4: 1, fantasy5: 3},\n  middleEarth: {noldor: 1, gondor: 1, easterling: 1, erebor: 1, ironHills: 1, urukHai: 1, moriaOrc: 1}\n}\n\nexport const shieldPaths = {\n  heater: \"m25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z\",\n  spanish: \"m25,25 h150 v100 a75,75,0,0,1,-150,0 z\",\n  french: \"m 25,25 h 150 v 139.15 c 0,41.745 -66,18.15 -75,36.3 -9,-18.15 -75,5.445 -75,-36.3 v 0 z\",\n  horsehead: \"m 20,40 c 0,60 40,80 40,100 0,10 -4,15 -0.35,30 C 65,185.7 81,200 100,200 c 19.1,0 35.3,-14.6 40.5,-30.4 C 144.2,155 140,150 140,140 140,120 180,100 180,40 142.72,40 150,15 100,15 55,15 55,40 20,40 Z\",\n  horsehead2: \"M60 20c-5 20-10 35-35 55 25 35 35 65 30 100 20 0 35 10 45 26 10-16 30-26 45-26-5-35 5-65 30-100a87 87 0 01-35-55c-25 3-55 3-80 0z\",\n  polish: \"m 90.3,6.3 c -12.7,0 -20.7,10.9 -40.5,14 0,11.8 -4.9,23.5 -11.4,31.1 0,0 12.7,6 12.7,19.3 C 51.1,90.8 30,90.8 30,90.8 c 0,0 -3.6,7.4 -3.6,22.4 0,34.3 23.1,60.2 40.7,68.2 17.6,8 27.7,11.4 32.9,18.6 5.2,-7.3 15.3,-10.7 32.8,-18.6 17.6,-8 40.7,-33.9 40.7,-68.2 0,-15 -3.6,-22.4 -3.6,-22.4 0,0 -21.1,0 -21.1,-20.1 0,-13.3 12.7,-19.3 12.7,-19.3 C 155.1,43.7 150.2,32.1 150.2,20.3 130.4,17.2 122.5,6.3 109.7,6.3 102.5,6.3 100,10 100,10 c 0,0 -2.5,-3.7 -9.7,-3.7 z\",\n  hessen: \"M170 20c4 5 8 13 15 20 0 0-10 0-10 15 0 100-15 140-75 145-65-5-75-45-75-145 0-15-10-15-10-15l15-20c0 15 10-5 70-5s70 20 70 5z\",\n  swiss: \"m 25,20 c -0.1,0 25.2,8.5 37.6,8.5 C 75.1,28.5 99.1,20 100,20 c 0.6,0 24.9,8.5 37.3,8.5 C 149.8,28.5 174.4,20 175,20 l -0.3,22.6 C 173.2,160.3 100,200 100,200 100,200 26.5,160.9 25.2,42.6 Z\",\n  boeotian: \"M150 115c-5 0-10-5-10-15s5-15 10-15c10 0 7 10 15 10 10 0 0-30 0-30-10-25-30-55-65-55S45 40 35 65c0 0-10 30 0 30 8 0 5-10 15-10 5 0 10 5 10 15s-5 15-10 15c-10 0-7-10-15-10-10 0 0 30 0 30 10 25 30 55 65 55s55-30 65-55c0 0 10-30 0-30-8 0-5 10-15 10z\",\n  roman: \"m 160,170 c -40,20 -80,20 -120,0 V 30 C 80,10 120,10 160,30 Z\",\n  kite: \"m 53.3,46.4 c 0,4.1 1,12.3 1,12.3 7.1,55.7 45.7,141.3 45.7,141.3 0,0 38.6,-85.6 45.7,-141.2 0,0 1,-8.1 1,-12.3 C 146.7,20.9 125.8,0.1 100,0.1 74.2,0.1 53.3,20.9 53.3,46.4 Z\",\n  oldFrench: \"m25,25 h150 v75 a100,100,0,0,1,-75,100 a100,100,0,0,1,-75,-100 z\",\n  renaissance: \"M 25,33.9 C 33.4,50.3 36.2,72.9 36.2,81.7 36.2,109.9 25,122.6 25,141 c 0,29.4 24.9,44.1 40.2,47.7 15.3,3.7 29.3,0 34.8,11.3 5.5,-11.3 19.6,-7.6 34.8,-11.3 C 150.1,185 175,170.3 175,141 c 0,-18.4 -11.2,-31.1 -11.2,-59.3 0,-8.8 2.8,-31.3 11.2,-47.7 L 155.7,14.4 C 138.2,21.8 119.3,25.7 100,25.7 c -19.3,0 -38.2,-3.9 -55.7,-11.3 z\",\n  baroque: \"m 100,25 c 18,0 50,2 75,14 v 37 l -2.7,3.2 c -4.9,5.4 -6.6,9.6 -6.7,16.2 0,6.5 2,11.6 6.9,17.2 l 2.8,3.1 v 10.2 c 0,17.7 -2.2,27.7 -7.8,35.9 -5,7.3 -11.7,11.3 -32.3,19.4 -12.6,5 -20.2,8.8 -28.6,14.5 C 103.3,198 100,200 100,200 c 0,0 -2.8,-2.3 -6.4,-4.7 C 85.6,189.8 78,186 65,180.9 32.4,168.1 26.9,160.9 25.8,129.3 L 25,116 l 3.3,-3.3 c 4.8,-5.2 7,-10.7 7,-17.3 0,-6.8 -1.8,-11.1 -6.5,-16.1 L 25,76 V 39 C 50,27 82,25 100,25 Z\",\n  targe: \"m 20,35 c 15,0 115,-60 155,-10 -5,10 -15,15 -10,50 5,45 10,70 -10,90 C 125,195 75,195 50,175 25,150 30,130 35,85 50,95 65,85 65,70 65,50 50,45 40,50 30,55 27,65 30,70 23,73 20,70 14,70 11,60 20,45 20,35 Z\",\n  targe2: \"m 84,32.2 c 6.2,-1 19.5,-31.4 94.1,-20.2 -30.57,33.64 -21.66,67.37 -11.2,95 20.2,69.5 -41.17549,84.7 -66.88,84.7 C 74.32,191.7071 8.38,168.95 32,105.9 36.88,92.88 31,89 31,82.6 35.15,82.262199 56.79,86.17 56.5,69.8 56.20,52.74 42.2,47.9 25.9,55.2 25.9,51.4 39.8,6.7 84,32.2 Z\",\n  pavise: \"M95 7L39.9 37.3a10 10 0 00-5.1 9.5L46 180c.4 5.2 3.7 10 9 10h90c5.3 0 9.6-4.8 10-10l10.6-133.2a10 10 0 00-5-9.5L105 7c-4.2-2.3-6.2-2.3-10 0z\",\n  wedged: \"m 51.2,19 h 96.4 c 3.1,12.7 10.7,20.9 26.5,20.8 C 175.7,94.5 165.3,144.3 100,200 43.5,154.2 22.8,102.8 25.1,39.7 37,38.9 47.1,34.7 51.2,19 Z\",\n  round: \"m 185,100 a 85,85 0 0 1 -85,85 85,85 0 0 1 -85,-85 85,85 0 0 1 85,-85 85,85 0 0 1 85,85\",\n  oval: \"m 32.3,99.5 a 67.7,93.7 0 1 1 0,1.3 z\",\n  vesicaPiscis: \"M 100,0 C 63.9,20.4 41,58.5 41,100 c 0,41.5 22.9,79.6 59,100 36.1,-20.4 59,-58.5 59,-100 C 159,58.5 136.1,20.4 100,0 Z\",\n  square: \"M 25,25 H 175 V 175 H 25 Z\",\n  diamond: \"M 25,100 100,200 175,100 100,0 Z\",\n  no: \"m0,0 h200 v200 h-200 z\",\n  flag: \"M 10,40 h180 v120 h-180 Z\",\n  pennon: \"M 10,40 l190,60 -190,60 Z\",\n  guidon: \"M 10,40 h190 l-65,60 65,60 h-190 Z\",\n  banner: \"m 25,25 v 170 l 25,-40 25,40 25,-40 25,40 25,-40 25,40 V 25 Z\",\n  dovetail: \"m 25,25 v 175 l 75,-40 75,40 V 25 Z\",\n  gonfalon: \"m 25,25 v 125 l 75,50 75,-50 V 25 Z\",\n  pennant: \"M 25,15 100,200 175,15 Z\",\n  fantasy1: \"M 100,5 C 85,30 40,35 15,40 c 40,35 20,90 40,115 15,25 40,30 45,45 5,-15 30,-20 45,-45 20,-25 0,-80 40,-115 C 160,35 115,30 100,5 Z\",\n  fantasy2: \"m 152,21 c 0,0 -27,14 -52,-4 C 75,35 48,21 48,21 50,45 30,55 30,75 60,75 60,115 32,120 c 3,40 53,50 68,80 15,-30 65,-40 68,-80 -28,-5 -28,-45 2,-45 C 170,55 150,45 152,21 Z\",\n  fantasy3: \"M 167,67 C 165,0 35,0 33,67 c 32,-7 27,53 -3,43 -5,45 60,65 70,90 10,-25 75,-47.51058 70,-90 -30,10 -35,-50 -3,-43 z\",\n  fantasy4: \"M100 9C55 48 27 27 13 39c23 50 3 119 49 150 14 9 28 11 38 11s27-4 38-11c55-39 24-108 49-150-14-12-45 7-87-30z\",\n  fantasy5: \"M 100,0 C 75,25 30,25 30,25 c 0,69 20,145 70,175 50,-30 71,-106 70,-175 0,0 -45,0 -70,-25 z\",\n  noldor: \"m 55,75 h 2 c 3,-25 38,-10 3,20 15,50 30,75 40,105 10,-30 25,-55 40,-105 -35,-30 0,-45 3,-20 h 2 C 150,30 110,20 100,0 90,20 50,30 55,75 Z\",\n  gondor: \"m 100,200 c 15,-15 38,-35 45,-60 h 5 V 30 h -5 C 133,10 67,10 55,30 h -5 v 110 h 5 c 7,25 30,45 45,60 z\",\n  easterling: \"M 160,185 C 120,170 80,170 40,185 V 15 c 40,15 80,15 120,0 z\",\n  erebor: \"M25 135 V60 l22-13 16-37 h75 l15 37 22 13 v75l-22 18-16 37 H63l-16-37z\",\n  ironHills: \"m 30,25 60,-10 10,10 10,-10 60,10 -5,125 -65,50 -65,-50 z\",\n  urukHai: \"M 30,60 C 40,60 60,50 60,20 l -5,-3 45,-17 75,40 -5,5 -35,155 -5,-35 H 70 v 35 z\",\n  moriaOrc: \"M45 35c5 3 7 10 13 9h19c4-2 7-4 9-9 6 1 9 9 16 11 7-2 14 0 21 0 6-3 6-10 10-15 2-5 1-10-2-15-2-4-5-14-4-16 3 6 7 11 12 14 7 3 3 12 7 16 3 6 4 12 9 18 2 4 6 8 5 14 0 6-1 12 3 18-3 6-2 13-1 20 1 6-2 12-1 18 0 6-3 13 0 18 8 4 0 8-5 7-4 3-9 3-13 9-5 5-5 13-8 19 0 6 0 15-7 16-1 6-7 6-10 12-1-6 0-6-2-9l2-19c2-4 5-12-3-12-4-5-11-5-15 1l-13-18c-3-4-2 9-3 12 2 2-4-6-7-5-8-2-8 7-11 11-2 4-5 10-8 9 3-10 3-16 1-23-1-4 2-9-4-11 0-6 1-13-2-19-4-2-9-6-13-7V91c4-7-5-13 0-19-3-7 2-11 2-18-1-6 1-12 3-17v-1z\"\n}\n\nexport const shieldBox = {\n  heater: \"0 10 200 200\",\n  spanish: \"0 10 200 200\",\n  french: \"0 10 200 200\",\n\n  horsehead: \"0 10 200 200\",\n  horsehead2: \"0 10 200 200\",\n  polish: \"0 0 200 200\",\n  hessen: \"0 5 200 200\",\n  swiss: \"0 10 200 200\",\n\n  boeotian: \"0 0 200 200\",\n  roman: \"0 0 200 200\",\n  kite: \"0 0 200 200\",\n  oldFrench: \"0 10 200 200\",\n  renaissance: \"0 5 200 200\",\n  baroque: \"0 10 200 200\",\n\n  targe: \"0 0 200 200\",\n  targe2: \"0 0 200 200\",\n  pavise: \"0 0 200 200\",\n  wedged: \"0 10 200 200\",\n\n  flag: \"0 0 200 200\",\n  pennon: \"2.5 0 200 200\",\n  guidon: \"2.5 0 200 200\",\n  banner: \"0 10 200 200\",\n  dovetail: \"0 10 200 200\",\n  gonfalon: \"0 10 200 200\",\n  pennant: \"0 0 200 200\",\n\n  round: \"0 0 200 200\",\n  oval: \"0 0 200 200\",\n  vesicaPiscis: \"0 0 200 200\",\n  square: \"0 0 200 200\",\n  diamond: \"0 0 200 200\",\n  no: \"0 0 200 200\",\n\n  fantasy1: \"0 0 200 200\",\n  fantasy2: \"0 5 200 200\",\n  fantasy3: \"0 5 200 200\",\n  fantasy4: \"0 5 200 200\",\n  fantasy5: \"0 0 200 200\",\n\n  noldor: \"0 0 200 200\",\n  gondor: \"0 5 200 200\",\n  easterling: \"0 0 200 200\",\n  erebor: \"0 0 200 200\",\n  ironHills: \"0 5 200 200\",\n  urukHai: \"0 0 200 200\",\n  moriaOrc: \"0 0 200 200\"\n}\n\n// size modifier applied for charges, default is 1\nexport const shieldSize = {\n  horsehead: .9, horsehead2: .9, polish: .85, swiss: .95,\n  boeotian: .75, roman: .95, kite: .65, targe2: .9, pavise: .9, wedged: .95,\n  flag: .7, pennon: .5, guidon: .65, banner: .8, dovetail: .8, pennant: .6,\n  oval: .95, vesicaPiscis: .8, diamond: .8, no: 1.2,\n  fantasy1: .8, fantasy2: .7, fantasy3: .7, fantasy5: .9,\n  noldor: .5, gondor: .75, easterling: .8, erebor: .9, urukHai: .8, moriaOrc: .7\n}\n\nexport const shieldPositions = {\n  // shield-specific position: [x, y] (relative to center)\n  heater: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-32.25, 37.5], h: [0, 50], i: [32.25, 37.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-30, 30], n: [0, 42.5], o: [30, 30],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.2, -20], E: [66.2, -20],\n    J: [-55.5, 26], F: [55.5, 26],\n    I: [-33, 62], G: [33, 62],\n    H: [0, 89.5]\n  },\n  spanish: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.4, -20], E: [66.4, -20],\n    J: [-66.4, 26], F: [66.4, 26],\n    I: [-49, 70], G: [49, 70],\n    H: [0, 92]\n  },\n  french: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 65],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.4, -20], E: [66.4, -20],\n    J: [-66.4, 26], F: [66.4, 26],\n    I: [-65.4, 70], G: [65.4, 70],\n    H: [0, 89]\n  },\n  horsehead: {\n    a: [-43.75, -47.5], b: [0, -50], c: [43.75, -47.5],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    h: [0, 50],\n    y: [-50, -50], z: [0, 55],\n    j: [-35, -35], k: [0, -40], l: [35, -35],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-71, -52], B: [-24, -73], C: [24, -73], D: [71, -52],\n    K: [-62, -16], E: [62, -16],\n    J: [-39, 20], F: [39, 20],\n    I: [-33.5, 60], G: [33.5, 60],\n    H: [0, 91.5]\n  },\n  horsehead2: {\n    a: [-37.5, -47.5], b: [0, -50], c: [37.5, -47.5],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    g: [-35, 47.5], h: [0, 50], i: [35, 47.5],\n    y: [-50, -50], z: [0, 55],\n    j: [-30, -30], k: [0, -40], l: [30, -30],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-49, -39], B: [-22, -70], C: [22, -70], D: [49, -39],\n    K: [-51, -2], E: [51, -2],\n    J: [-38.5, 31], F: [38.5, 31],\n    I: [-35, 67], G: [35, 67],\n    H: [0, 85]\n  },\n  polish: {\n    a: [-35, -50], b: [0, -50], c: [35, -50],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-37.5, 50], h: [0, 50], i: [37.5, 50],\n    y: [-50, -50], z: [0, 65],\n    j: [-27.5, -27.5], k: [0, -45], l: [27.5, -27.5],\n    m: [-27.5, 27.5], n: [0, 45], o: [27.5, 27.5],\n    p: [-32.5, 0], q: [32.5, 0],\n    A: [-48, -52], B: [-23, -80], C: [23, -80], D: [48, -52],\n    K: [-47, -10], E: [47, -10],\n    J: [-62, 32], F: [62, 32],\n    I: [-37, 68], G: [37, 68],\n    H: [0, 86]\n  },\n  hessen: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 52.5],\n    j: [-40, -40], k: [0, -40], l: [40, -40],\n    m: [-40, 40], n: [0, 40], o: [40, 40],\n    p: [-40, 0], q: [40, 0],\n    A: [-69, -64], B: [-22, -76], C: [22, -76], D: [69, -64],\n    K: [-66.4, -20], E: [66.4, -20],\n    J: [-62, 26], F: [62, 26],\n    I: [-46, 70], G: [46, 70],\n    H: [0, 91.5]\n  },\n  swiss: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-32, 37.5], h: [0, 50], i: [32, 37.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-32, 32.5], n: [0, 42.5], o: [32, 32.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66], C: [22, -66], D: [66.2, -66.6],\n    K: [-63, -20], E: [63, -20],\n    J: [-50, 26], F: [50, 26],\n    I: [-29, 62], G: [29, 62],\n    H: [0, 89.5]\n  },\n  boeotian: {\n    a: [-37.5, -47.5], b: [0, -47.5], c: [37.5, -47.5],\n    d: [-25, 0], e: [0, 0], f: [25, 0],\n    g: [-37.5, 47.5], h: [0, 47.5], i: [37.5, 47.5],\n    y: [-48, -48], z: [0, 60],\n    j: [-32.5, -37.5], k: [0, -45], l: [32.5, -37.5],\n    m: [-32.5, 37.5], n: [0, 45], o: [32.5, 37.5],\n    p: [-20, 0], q: [20, 0],\n    A: [-45, -55], B: [-20, -77], C: [20, -77], D: [45, -55],\n    K: [-59, -25], E: [59, -25],\n    J: [-58, 27], F: [58, 27],\n    I: [-39, 63], G: [39, 63],\n    H: [0, 81]\n  },\n  roman: {\n    a: [-40, -52.5], b: [0, -52.5], c: [40, -52.5],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 52.5], h: [0, 52.5], i: [40, 52.5],\n    y: [-42.5, -52.5], z: [0, 65],\n    j: [-30, -37.5], k: [0, -37.5], l: [30, -37.5],\n    m: [-30, 37.5], n: [0, 37.5], o: [30, 37.5],\n    p: [-30, 0], q: [30, 0],\n    A: [-51.5, -65], B: [-17, -75], C: [17, -75], D: [51.5, -65],\n    K: [-51.5, -21], E: [51.5, -21],\n    J: [-51.5, 21], F: [51.5, 21],\n    I: [-51.5, 65], G: [51.5, 65],\n    H: [-17, 75], L: [17, 75]\n  },\n  kite: {\n    b: [0, -65], e: [0, -15], h: [0, 35],\n    z: [0, 35], k: [0, -50], n: [0, 20],\n    p: [-20, -15], q: [20, -15],\n    A: [-38, -52], B: [-29, -78], C: [29, -78], D: [38, -52],\n    K: [-33, -20], E: [33, -20],\n    J: [-25, 11], F: [25, 11],\n    I: [-15, 42], G: [15, 42],\n    H: [0, 73], L: [0, -91]\n  },\n  oldFrench: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-37.5, 50], h: [0, 50], i: [37.5, 50],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 45], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.2, -66.6], B: [-22, -66.6], C: [22, -66.6], D: [66.2, -66.6],\n    K: [-66.2, -20], E: [66.2, -20],\n    J: [-64, 26], F: [64, 26],\n    I: [-45, 62], G: [45, 62], \n    H: [0, 91],\n  },\n  renaissance: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-41.5, 0], e: [0, 0], f: [41.5, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-61, -55], B: [-23, -67], C: [23, -67], D: [61, -55],\n    K: [-55, -11], E: [55, -11],\n    J: [-65, 31], F: [65, 31],\n    I: [-45, 76], G: [45, 76],\n    H: [0, 87]\n  },\n  baroque: {\n    a: [-43.75, -45], b: [0, -45], c: [43.75, -45],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 60],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-65, -54.5], B: [-22, -65], C: [22, -65], D: [65, -54.5],\n    K: [-58.5, -15], E: [58.5, -15],\n    J: [-65, 31], F: [66, 31],\n    I: [-35, 73], G: [35, 73],\n    H: [0, 89]\n  },\n  targe: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-40, -40], k: [0, -40], l: [40, -40],\n    m: [-40, 40], n: [0, 40], o: [40, 40],\n    p: [-32.5, 0], q: [32.5, 0],\n    A: [-66.2, -60], B: [-22, -77], C: [22, -86], D: [60, -66.6],\n    K: [-28, -20], E: [57, -20],\n    J: [-61, 26], F: [61, 26],\n    I: [-49, 63], G: [49, 59],\n    H: [0, 80]\n  },\n  targe2: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-43.75, 50], h: [0, 50], i: [43.75, 50],\n    y: [-50, -50], z: [0, 60],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-32.5, 0], q: [32.5, 0],\n    A: [-55, -59], B: [-15, -59], C: [24, -79], D: [51, -58],\n    K: [-40, -14], E: [51, -14],\n    J: [-64, 26], F: [62, 26],\n    I: [-46, 66], G: [48, 67],\n    H: [0, 83]\n  },\n  pavise: {\n    a: [-40, -52.5], b: [0, -52.5], c: [40, -52.5],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 52.5], h: [0, 52.5], i: [40, 52.5],\n    y: [-42.5, -52.5], z: [0, 60],\n    j: [-30, -35], k: [0, -37.5], l: [30, -35],\n    m: [-30, 35], n: [0, 37.5], o: [30, 35],\n    p: [-30, 0], q: [30, 0],\n    A: [-57, -55], B: [-22, -74], C: [22, -74], D: [57, -55],\n    K: [-54, -11], E: [54, -11],\n    J: [-50, 36], F: [50, 36],\n    I: [-46, 81], G: [46, 81],\n    H: [0, 81]\n  },\n  wedged: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.75, 0], e: [0, 0], f: [43.75, 0],\n    g: [-32.25, 37.5], h: [0, 50], i: [32.25, 37.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-32.5, 32.5], n: [0, 42.5], o: [32.5, 32.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66, -53], B: [-22, -72.5], C: [22, -72.5], D: [66, -53],\n    K: [-62.6, -13], E: [62.6, -13],\n    J: [-50, 26], F: [50, 26],\n    I: [-27, 62], G: [27, 62],\n    H: [0, 87]\n  },\n  flag: {\n    a: [-60, -40], b: [0, -40], c: [60, -40],\n    d: [-60, 0], e: [0, 0], f: [60, 0],\n    g: [-60, 40], h: [0, 40], i: [60, 40],\n    y: [-60, -42.5], z: [0, 40],\n    j: [-45, -30], k: [0, -30], l: [45, -30],\n    m: [-45, 30], n: [0, 30], o: [45, 30],\n    p: [-45, 0], q: [45, 0],\n    A: [-81, -51], B: [-27, -51], C: [27, -51], D: [81, -51],\n    K: [-81, -17], E: [81, -17],\n    J: [-81, 17], F: [81, 17],\n    I: [-81, 51], G: [81, 51],\n    H: [-27, 51], L: [27, 51]\n  },\n  pennon: {\n    a: [-75, -40],\n    d: [-75, 0], e: [-25, 0], f: [25, 0],\n    g: [-75, 40],\n    y: [-70, -42.5],\n    j: [-60, -30],\n    m: [-60, 30],\n    p: [-60, 0], q: [5, 0],\n    A: [-81, -48], B: [-43, -36], C: [-4.5, -24], D: [33, -12],\n    E: [72, 0],\n    F: [33, 12], G: [-4.5, 24], H: [-43, 36], I: [-81, 48], \n    J: [-81, 17], K: [-81, -17]\n  },\n  guidon: {\n    a: [-60, -40], b: [0, -40], c: [60, -40],\n    d: [-60, 0], e: [0, 0],\n    g: [-60, 40], h: [0, 40], i: [60, 40],\n    y: [-60, -42.5], z: [0, 40],\n    j: [-45, -30], k: [0, -30], l: [45, -30],\n    m: [-45, 30], n: [0, 30], o: [45, 30],\n    p: [-45, 0],\n    A: [-81, -51], B: [-27, -51], C: [27, -51], D: [78, -51],\n    K: [-81, -17], E: [40.5, -17],\n    J: [-81, 17], F: [40.5, 17],\n    I: [-81, 51], G: [78, 51],\n    H: [-27, 51], L: [27, 51]\n  },\n  banner: {\n    a: [-50, -50], b: [0, -50], c: [50, -50],\n    d: [-50, 0], e: [0, 0], f: [50, 0],\n    g: [-50, 40], h: [0, 40], i: [50, 40],\n    y: [-50, -50], z: [0, 40],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 27.5], n: [0, 27.5], o: [37.5, 27.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -20], E: [66.5, -20],\n    J: [-66.5, 26], F: [66.5, 26],\n    I: [-66.5, 66.5], G: [66.5, 66.5],\n    H: [-25, 75], L: [25, 75]\n  },\n  dovetail: {\n    a: [-49.75, -50], b: [0, -50], c: [49.75, -50],\n    d: [-49.75, 0], e: [0, 0], f: [49.75, 0],\n    g: [-49.75, 50], i: [49.75, 50],\n    y: [-50, -50], z: [0, 40],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 32.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -16.5], E: [66.5, -16.5],\n    J: [-66.5, 34.5], F: [66.5, 34.5],\n    I: [-66.5, 84.5], G: [66.5, 84.5],\n    H: [-25, 64], L: [25, 64]\n  },\n  gonfalon: {\n    a: [-49.75, -50], b: [0, -50], c: [49.75, -50],\n    d: [-49.75, 0], e: [0, 0], f: [49.75, 0],\n    g: [-49.75, 50], h: [0, 50], i: [49.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -20], E: [66.5, -20],\n    J: [-66.5, 26], F: [66.5, 26],\n    I: [-40, 63], G: [40, 63],\n    H: [0, 88]\n  },\n  pennant: {\n    a: [-45, -50], b: [0, -50], c: [45, -50],\n    e: [0, 0], h: [0, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-32.5, -37.5], k: [0, -37.5], l: [32.5, -37.5],\n    n: [0, 37.5],\n    A: [-60, -76], B: [-22, -76], C: [22, -76], D: [60, -76],\n    K: [-46, -38], E: [46, -38],\n    J: [-31, 0], F: [31, 0],\n    I: [-16, 38], G: [16, 38],\n    H: [0, 76]\n  },\n  round: {\n    a: [-40, -40], b: [0, -40], c: [40, -40],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 40], h: [0, 40], i: [40, 40],\n    y: [-48, -48], z: [0, 57.5],\n    j: [-35.5, -35.5], k: [0, -37.5], l: [35.5, -35.5],\n    m: [-35.5, 35.5], n: [0, 37.5], o: [35.5, 35.5],\n    p: [-36.5, 0], q: [36.5, 0],\n    A: [-59, -48], B: [-23, -73], C: [23, -73], D: [59, -48],\n    K: [-76, -10], E: [76, -10],\n    J: [-70, 31], F: [70, 31],\n    I: [-42, 64], G: [42, 64],\n    H: [0, 77]\n  },\n  oval: {\n    a: [-37.5, -50], b: [0, -50], c: [37.5, -50],\n    d: [-43, 0], e: [0, 0], f: [43, 0],\n    g: [-37.5, 50], h: [0, 50], i: [37.5, 50],\n    y: [-48, -48], z: [0, 60],\n    j: [-35.5, -37.5], k: [0, -37.5], l: [35.5, -37.5],\n    m: [-35.5, 37.5], n: [0, 50], o: [35.5, 37.5],\n    p: [-36.5, 0], q: [36.5, 0],\n    A: [-48, -48], B: [-23, -78], C: [23, -78], D: [48, -48],\n    K: [-59, -10], E: [59, -10],\n    J: [-55, 31], F: [55, 31],\n    I: [-36, 68], G: [36, 68],\n    H: [0, 85]\n  },\n  vesicaPiscis: {\n    a: [-32, -37], b: [0, -50], c: [32, -37],\n    d: [-32, 0], e: [0, 0], f: [32, 0],\n    g: [-32, 37], h: [0, 50], i: [32, 37],\n    y: [-50, -50], z: [0, 62],\n    j: [-27.5, -27.5], k: [0, -37], l: [27.5, -27.5],\n    m: [-27.5, 27.5], n: [0, 42], o: [27.5, 27.5],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-45, -32], B: [-29, -63], C: [29, -63], D: [45, -32],\n    K: [-50, 0], E: [50, 0],\n    J: [-45, 32], F: [45, 32],\n    I: [-29, 63], G: [29, 63],\n    H: [0, 89], L: [0, -89]\n  },\n  square: {\n    a: [-49.75, -50], b: [0, -50], c: [49.75, -50],\n    d: [-49.75, 0], e: [0, 0], f: [49.75, 0],\n    g: [-49.75, 50], h: [0, 50], i: [49.75, 50],\n    y: [-50, -50], z: [0, 50],\n    j: [-37.5, -37.5], k: [0, -37.5], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 37.5], o: [37.5, 37.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-66.5, -66.5], B: [-22, -66.5], C: [22, -66.5], D: [66.5, -66.5],\n    K: [-66.5, -20], E: [66.5, -20],\n    J: [-66.5, 26], F: [66.5, 26],\n    I: [-66.5, 66.5], G: [66.5, 66.5],\n    H: [-22, 66.5], L: [22, 66.5]\n  },\n  diamond: {\n    a: [-32, -37], b: [0, -50], c: [32, -37],\n    d: [-43, 0], e: [0, 0], f: [43, 0],\n    g: [-32, 37], h: [0, 50], i: [32, 37],\n    y: [-50, -50], z: [0, 62],\n    j: [-27.5, -27.5], k: [0, -37], l: [27.5, -27.5],\n    m: [-27.5, 27.5], n: [0, 42], o: [27.5, 27.5],\n    p: [-37, 0], q: [37, 0],\n    A: [-43, -28], B: [-22, -56], C: [22, -56], D: [43, -28],\n    K: [-63, 0], E: [63, 0],\n    J: [-42, 28], F: [42, 28],\n    I: [-22, 56], G: [22, 56],\n    H: [0, 83], L: [0, -82]\n  },\n  no: {\n    a: [-66.5, -66.5], b: [0, -66.5], c: [66.5, -66.5],\n    d: [-66.5, 0], e: [0, 0], f: [66.5, 0],\n    g: [-66.5, 66.5], h: [0, 66.5], i: [66.5, 66.5],\n    y: [-50, -50], z: [0, 75],\n    j: [-50, -50], k: [0, -50], l: [50, -50],\n    m: [-50, 50], n: [0, 50], o: [50, 50],\n    p: [-50, 0], q: [50, 0],\n    A: [-91.5, -91.5], B: [-30.5, -91.5], C: [30.5, -91.5], D: [91.5, -91.5],\n    K: [-91.5, -30.5], E: [91.5, -30.5],\n    J: [-91.5, 30.5], F: [91.5, 30.5],\n    I: [-91.5, 91.5], G: [91.5, 91.5],\n    H: [-30.5, 91.5], L: [30.5, 91.5]\n  },\n  fantasy1: {\n    a: [-45, -45], b: [0, -50], c: [45, -45],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-36, 42.5], h: [0, 50], i: [36, 42.5],\n    y: [-50, -50], z: [0, 60],\n    j: [-37, -37], k: [0, -40], l: [37, -37],\n    m: [-32, 32], n: [0, 40], o: [32, 32],\n    p: [-28.5, 0], q: [28.5, 0],\n    A: [-66, -55], B: [-22, -67], C: [22, -67], D: [66, -55],\n    K: [-53, -20], E: [53, -20],\n    J: [-46, 26], F: [46, 26],\n    I: [-29, 62], G: [29, 62],\n    H: [0, 84]\n  },\n  fantasy2: {\n    a: [-45, -45], b: [0, -45], c: [45, -45],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    g: [-36, 42.5], h: [0, 45], i: [36, 42.5],\n    y: [-50, -50], z: [0, 55],\n    j: [-32.5, -32.5], k: [0, -40], l: [32.5, -32.5],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-58, -35], B: [-44, -67], C: [44, -67], D: [58, -35],\n    K: [-39, -5], E: [39, -5],\n    J: [-57, 26], F: [57, 26],\n    I: [-32, 58], G: [32, 58],\n    H: [0, 83], L: [0, -72]\n  },\n  fantasy3: {\n    a: [-40, -45], b: [0, -50], c: [40, -45],\n    d: [-35, 0], e: [0, 0], f: [35, 0],\n    g: [-36, 42.5], h: [0, 50], i: [36, 42.5],\n    y: [-50, -50], z: [0, 55],\n    j: [-32.5, -32.5], k: [0, -40], l: [32.5, -32.5],\n    m: [-30, 30], n: [0, 40], o: [30, 30],\n    p: [-27.5, 0], q: [27.5, 0],\n    A: [-56, -42], B: [-22, -72], C: [22, -72], D: [56, -42],\n    K: [-37, -11], E: [37, -11],\n    J: [-60, 20], F: [60, 20],\n    I: [-34, 56], G: [34, 56],\n    H: [0, 83]\n  },\n  fantasy4: {\n    a: [-50, -45], b: [0, -50], c: [50, -45],\n    d: [-45, 0], e: [0, 0], f: [45, 0],\n    g: [-40, 45], h: [0, 50], i: [40, 45],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-37.5, -37.5], k: [0, -45], l: [37.5, -37.5],\n    m: [-37.5, 37.5], n: [0, 45], o: [37.5, 37.5],\n    p: [-35, 0], q: [35, 0],\n    A: [-75, -56], B: [-36, -61], C: [36, -61], D: [75, -56],\n    K: [-67, -12], E: [67, -12],\n    J: [-63, 32], F: [63, 32],\n    I: [-42, 75], G: [42, 75],\n    H: [0, 91.5], L: [0, -79]\n  },\n  fantasy5: {\n    a: [-45, -50], b: [0, -50], c: [45, -50],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-30, 45], h: [0, 50], i: [30, 45],\n    y: [-50, -50], z: [0, 60],\n    j: [-37, -37], k: [0, -40], l: [37, -37],\n    m: [-32, 32], n: [0, 40], o: [32, 32],\n    p: [-28.5, 0], q: [28.5, 0],\n    A: [-61, -67], B: [-22, -76], C: [22, -76], D: [61, -67],\n    K: [-58, -25], E: [58, -25],\n    J: [-48, 20], F: [48, 20],\n    I: [-28.5, 60], G: [28.5, 60],\n    H: [0, 89]\n  },\n  noldor: {\n    b: [0, -65], e: [0, -15], h: [0, 35],\n    z: [0, 35], k: [0, -50], n: [0, 30],\n    p: [-20, -15], q: [20, -15],\n    A: [-34, -47], B: [-20, -68], C: [20, -68], D: [34, -47],\n    K: [-18, -20], E: [18, -20],\n    J: [-26, 11], F: [26, 11],\n    I: [-14, 43], G: [14, 43],\n    H: [0, 74], L: [0, -85]\n  },\n  gondor: {\n    a: [-32.5, -50], b: [0, -50], c: [32.5, -50],\n    d: [-32.5, 0], e: [0, 0], f: [32.5, 0],\n    g: [-32.5, 50], h: [0, 50], i: [32.5, 50],\n    y: [-42.5, -52.5], z: [0, 65],\n    j: [-25, -37.5], k: [0, -37.5], l: [25, -37.5],\n    m: [-25, 30], n: [0, 37.5], o: [25, 30],\n    p: [-25, 0], q: [25, 0],\n    A: [-42, -52], B: [-17, -75], C: [17, -75], D: [42, -52],\n    K: [-42, -15], E: [42, -15],\n    J: [-42, 22], F: [42, 22],\n    I: [-26, 60], G: [26, 60],\n    H: [0, 87]\n  },\n  easterling: {\n    a: [-40, -47.5], b: [0, -47.5], c: [40, -47.5],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 47.5], h: [0, 47.5], i: [40, 47.5],\n    y: [-42.5, -52.5], z: [0, 65],\n    j: [-30, -37.5], k: [0, -37.5], l: [30, -37.5],\n    m: [-30, 37.5], n: [0, 37.5], o: [30, 37.5],\n    p: [-30, 0], q: [30, 0],\n    A: [-52, -72], B: [0, -65], D: [52, -72],\n    K: [-52, -24], E: [52, -24],\n    J: [-52, 24], F: [52, 24],\n    I: [-52, 72], G: [52, 72],\n    H: [0, 65]\n  },\n  erebor: {\n    a: [-40, -40], b: [0, -55], c: [40, -40],\n    d: [-40, 0], e: [0, 0], f: [40, 0],\n    g: [-40, 40], h: [0, 55], i: [40, 40],\n    y: [-50, -50], z: [0, 50],\n    j: [-35, -35], k: [0, -45], l: [35, -35],\n    m: [-35, 35], n: [0, 45], o: [35, 35],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-47, -46], B: [-22, -81], C: [22, -81], D: [47, -46],\n    K: [-66.5, 0], E: [66.5, 0],\n    J: [-47, 46], F: [47, 46],\n    I: [-22, 81], G: [22, 81]\n  },\n  ironHills: {\n    a: [-43.75, -50], b: [0, -50], c: [43.75, -50],\n    d: [-43.25, 0], e: [0, 0], f: [43.25, 0],\n    g: [-42.5, 42.5], h: [0, 50], i: [42.5, 42.5],\n    y: [-50, -50], z: [0, 62.5],\n    j: [-32.5, -32.5], k: [0, -40], l: [32.5, -32.5],\n    m: [-32.5, 32.5], n: [0, 40], o: [32.5, 32.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-61, -67], B: [-22, -74], C: [22, -74], D: [61, -67],\n    K: [-59, -20], E: [59, -20],\n    J: [-57, 26], F: [57, 26],\n    I: [-33, 64], G: [33, 64],\n    H: [0, 88]\n  },\n  urukHai: {\n    a: [-40, -45], b: [0, -45], c: [40, -45],\n    d: [-36, 0], e: [0, 0], f: [36, 0],\n    g: [-32.25, 40], h: [0, 40], i: [32.25, 40],\n    y: [-50, -50], z: [0, 40],\n    j: [-32.5, -32.5], k: [0, -37.5], l: [32.5, -32.5],\n    m: [-27.5, 27.5], n: [0, 32.5], o: [27.5, 27.5],\n    p: [-37.5, 0], q: [37.5, 0],\n    A: [-31, -79], B: [-1, -90], C: [31, -74], D: [61, -57],\n    K: [-55, -19], E: [53, -19],\n    J: [-45, 19], F: [45, 19],\n    I: [-33, 57], G: [35, 57],\n    H: [0, 57], L: [-39, -50]\n  },\n  moriaOrc: {\n    a: [-37.5, -37.5], b: [0, -37.5], c: [37.5, -37.5],\n    d: [-37.5, 0], e: [0, 0], f: [37.5, 0],\n    g: [-37.5, 37.5], h: [0, 37.5], i: [37.5, 37.5],\n    y: [-50, -50], z: [0, 40],\n    j: [-30, -30], k: [0, -30], l: [30, -30],\n    m: [-30, 30], n: [0, 30], o: [30, 30],\n    p: [-30, 0], q: [30, 0],\n    A: [-48, -48], B: [-16, -50], C: [16, -46], D: [39, -61],\n    K: [-52, -19], E: [52, -26],\n    J: [-42, 9], F: [52, 9],\n    I: [-31, 40], G: [40, 43],\n    H: [4, 47]\n  }\n}","export const forEach = (selector, callback) => {\n    Array.from(document.querySelectorAll(selector)).forEach(element => {\n        callback(element);\n    });\n};\nexport function ra(array) {\n    return array[Math.floor(Math.random() * array.length)];\n}\n// return random value from weighted array\nexport function rw(object, save = true) {\n    if (!object.array) {\n        const array = [];\n        for (const key in object) {\n            for (let i = 0; i < object[key]; i++) {\n                array.push(key);\n            }\n        }\n        save &&\n            Object.defineProperty(object, \"array\", {\n                enumerable: false,\n                configurable: true,\n                writable: false,\n                value: array\n            });\n    }\n    return object.array[Math.floor(Math.random() * object.array.length)];\n}\nexport function P(probability) {\n    return Math.random() < probability;\n}\nexport function camelize(str) {\n    return str\n        .toLowerCase()\n        .replace(/\\.[^/.]+$/, \"\") // remove extension\n        .replace(/[()]/g, \"\") // remove parentheses\n        .replace(/[^a-zA-Z0-9]+(.)/g, (m, c) => c.toUpperCase())\n        .replace(/^[0-9]/, \"_\"); // first char should not be a number\n}\nexport function capitalize(string) {\n    return string\n        .replace(/_/g, \" \")\n        .replace(/(?<!_)(?=[A-Z])/g, \" \")\n        .replace(/\\w\\S*/g, s => s.charAt(0).toUpperCase() + s.substr(1).toLowerCase());\n}\nexport function link(url, text) {\n    return `<a href=\"${url}\" target=\"_blank\">${text}</a>`;\n}\n","import {writable} from \"svelte/store\";\nimport {defaultTinctures, defaultColors} from \"./dataModel\";\nimport {shields} from \"./shields\";\nimport {ra, rw} from \"scripts/utils\";\n\nconst options = defineInitialOptions();\nexport const size = writable(options.size);\nexport const grad = writable(options.grad);\nexport const diaper = writable(options.diaper);\nexport const shield = writable(options.shield);\nexport const colors = writable(options.colors);\nexport const tinctures = writable(options.tinctures);\nexport const background = writable(options.background);\nexport const scale = writable(options.scale);\nexport const border = writable(options.border);\nexport const borderWidth = writable(options.borderWidth);\n\nexport const grid = writable(options.grid);\nexport const showGrid = writable(options.showGrid);\n\nexport const history = writable([]);\nexport const matrices = writable([]);\nexport const matrix = writable(0);\nexport const state = writable({edit: 0, about: 0, i: 0});\nexport const message = writable(null);\n\nconst createChangesTracker = () => {\n  const {subscribe, set, update} = writable([undefined, -1]);\n  let history = [];\n  let position = -1;\n\n  return {\n    subscribe,\n    refresh: () => set([history[position], position]), // trigger coa refresh\n    length: () => history.length,\n    reset: () => {\n      (history = []), (position = -1);\n      set([undefined, -1]);\n    },\n    add(value) {\n      if (value === history[position]) return; // no change\n      if (position < history.length - 1) history = history.slice(0, position + 1); // cut future history\n      history.push(value);\n      position += 1;\n      set([history[position], position]);\n    },\n    undo: () =>\n      update(() => {\n        if (position > 0) position -= 1;\n        return [history[position], position];\n      }),\n    redo: () =>\n      update(() => {\n        if (position < history.length - 1) position += 1;\n        return [history[position], position];\n      })\n  };\n};\nexport const changes = createChangesTracker();\n\nfunction defineInitialOptions() {\n  const stored = key => {\n    const value = localStorage.getItem(key);\n    if (value === \"null\") return null;\n    return value;\n  };\n\n  const storedObj = key => (localStorage.getItem(key) ? JSON.parse(localStorage.getItem(key)) : null);\n\n  const getShieldFromURL = () => {\n    const coaParam = new URL(window.location).searchParams.get(\"coa\");\n    if (!coaParam) return null;\n    const coa = JSON.parse(coaParam);\n    return coa?.shield;\n  };\n\n  const size = +stored(\"size\") || 200;\n  const diaper = stored(\"diaper\") || \"no\";\n  const grad = stored(\"grad\") || ra([\"luster\", \"spotlight\", \"backlight\"]);\n  const shield = getShieldFromURL() || stored(\"shield\") || rw(shields[rw(shields.types)]);\n  const colors = storedObj(\"colors\") || JSON.parse(JSON.stringify(defaultColors));\n  const tinctures = storedObj(\"tinctures\") || JSON.parse(JSON.stringify(defaultTinctures));\n  const border = stored(\"border\") || \"#333333\";\n  const borderWidth = +stored(\"borderWidth\") || 1;\n  const background = stored(\"background\") || \"#333333\";\n  const scale = +stored(\"scale\") || 2;\n\n  const grid = +stored(\"grid\") || 1;\n  const showGrid = storedObj(\"showGrid\") || 0;\n\n  return {\n    size,\n    diaper,\n    grad,\n    shield,\n    colors,\n    tinctures,\n    border,\n    borderWidth,\n    background,\n    scale,\n    grid,\n    showGrid\n  };\n}\n","import {get} from \"svelte/store\";\nimport {scale, grad, diaper} from \"data/stores\";\n\nconst isFirefox = navigator.userAgent.includes(\"Firefox\");\n\nexport async function download(i, format = \"png\") {\n  const coas = i || i === 0 ? [document.getElementById(\"coa\" + i)] : document.querySelectorAll(\"svg.coa\");\n  let {width, height} = coas[0].getBoundingClientRect();\n  const numberX = coas.length > 1 ? Math.floor(window.innerWidth / width) : 1;\n  const numberY = coas.length > 1 ? Math.ceil(coas.length / numberX) : 1;\n\n  const scaleValue = get(scale);\n  width = Math.round(width * scaleValue);\n  height = Math.round(height * scaleValue);\n\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  canvas.width = width * numberX;\n  canvas.height = height * numberY;\n\n  let loaded = 0;\n  coas.forEach(async function (svg, i) {\n    const url = await getURL(svg, width, height);\n    format === \"svg\" ? downloadVector(url) : downloadRaster(url, i);\n  });\n\n  function downloadVector(url) {\n    const link = document.createElement(\"a\");\n    link.download = `armoria_${getTimestamp()}.svg`;\n    link.href = url;\n    link.click();\n    window.setTimeout(() => window.URL.revokeObjectURL(URL), 5000);\n  }\n\n  function downloadRaster(url, i) {\n    const img = new Image();\n    img.src = url;\n    img.onload = () => {\n      URL.revokeObjectURL(url);\n      ctx.drawImage(img, (i % numberX) * width, Math.floor(i / numberX) * height, width, height);\n      loaded++;\n      if (loaded === coas.length) drawCanvas(canvas, format);\n    };\n  }\n}\n\nasync function getURL(svg, width, height) {\n  const addedElements = {};\n  const clone = svg.cloneNode(true); // clone svg\n  clone.setAttribute(\"width\", width);\n  clone.setAttribute(\"height\", height);\n  clone.removeAttribute(\"class\");\n  clone.removeAttribute(\"id\");\n  const d = clone.getElementsByTagName(\"defs\")[0];\n\n  // remove grid if any\n  const grid = clone.getElementById(\"grid\");\n  const gridPattern = clone.getElementById(\"gridPattern\");\n  if (grid) grid.remove();\n  if (gridPattern) gridPattern.remove();\n\n  const gr = get(grad),\n    di = get(diaper);\n  if (gr && gr !== \"no\") d.insertAdjacentHTML(\"beforeend\", defs.getElementById(gr).outerHTML);\n  if (di && di !== \"no\") d.insertAdjacentHTML(\"beforeend\", defs.getElementById(di).outerHTML);\n  clone.querySelectorAll(\".charge[charge]\").forEach(el => {\n    const charge = el.getAttribute(\"charge\");\n    if (addedElements[charge]) return;\n    d.insertAdjacentHTML(\"beforeend\", defs.getElementById(charge).outerHTML);\n    addedElements[charge] = true;\n  });\n  const fieldPattern = clone.getElementsByClassName(\"field\")[0].getAttribute(\"fill\").split(\"(#\")[1]?.split(\")\")[0];\n  if (fieldPattern) addPattern(fieldPattern, d);\n  const divisionPattern = clone.getElementsByClassName(\"division\")[0]?.querySelector(\"rect\").getAttribute(\"fill\").split(\"(#\")[1]?.split(\")\")[0];\n  if (divisionPattern) addPattern(divisionPattern, d);\n\n  function addPattern(pattern, d) {\n    if (addedElements[pattern]) return;\n    d.insertAdjacentHTML(\"beforeend\", document.getElementById(pattern).outerHTML);\n\n    if (pattern.slice(0, 4) === \"semy\") {\n      const charge = pattern.match(/semy_of_(.*?)-/)[1];\n      if (!addedElements[charge]) {\n        d.insertAdjacentHTML(\"beforeend\", document.getElementById(charge).outerHTML);\n        addedElements[charge] = true;\n      }\n    }\n    addedElements[pattern] = true;\n  }\n\n  const serialized = new XMLSerializer().serializeToString(clone);\n  const pretty = isFirefox ? serialized : prettify(serialized); // don't prettify in Firefox\n  const blob = new Blob([pretty], {type: \"image/svg+xml;charset=utf-8\"});\n  const url = window.URL.createObjectURL(blob);\n  window.setTimeout(() => window.URL.revokeObjectURL(url), 6000);\n  return url;\n}\n\nfunction drawCanvas(canvas, format) {\n  const link = document.createElement(\"a\");\n  link.download = `armoria_${getTimestamp()}.${format}`;\n\n  const URL = canvas.toDataURL(\"image/\" + format, 0.92);\n  link.href = URL;\n  link.click();\n\n  setTimeout(function () {\n    canvas.remove();\n    window.URL.revokeObjectURL(link.href);\n  }, 5000);\n}\n\nfunction getTimestamp() {\n  const formatTime = time => (time < 10 ? \"0\" + time : time);\n  const date = new Date();\n  const year = date.getFullYear();\n  const month = formatTime(date.getMonth() + 1);\n  const day = formatTime(date.getDate());\n  const hour = formatTime(date.getHours());\n  const minutes = formatTime(date.getMinutes());\n  const seconds = formatTime(date.getSeconds());\n  return [year, month, day, hour, minutes, seconds].join(\"-\");\n}\n\nfunction prettify(source) {\n  const xmlDoc = new DOMParser().parseFromString(source, \"image/svg+xml\");\n  const xsltDoc = new DOMParser().parseFromString(\n    [\n      '<xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">',\n      '  <xsl:strip-space elements=\"*\"/>',\n      '  <xsl:template match=\"para[content-style][not(text())]\">',\n      '    <xsl:value-of select=\"normalize-space(.)\"/>',\n      \"  </xsl:template>\",\n      '  <xsl:template match=\"node()|@*\">',\n      '    <xsl:copy><xsl:apply-templates select=\"node()|@*\"/></xsl:copy>',\n      \"  </xsl:template>\",\n      '  <xsl:output indent=\"yes\"/>',\n      \"</xsl:stylesheet>\"\n    ].join(\"\\n\"),\n    \"application/xml\"\n  );\n\n  const xsltProcessor = new XSLTProcessor();\n  xsltProcessor.importStylesheet(xsltDoc);\n  const resultDoc = xsltProcessor.transformToDocument(xmlDoc);\n  const resultXml = new XMLSerializer().serializeToString(resultDoc);\n  return resultXml;\n}\n","<script>\n  import {state, matrix, changes, message} from \"data/stores\";\n  import {download} from \"scripts/download\";\n  const touch = {startX: 0, startY: 0};\n\n  // prevent unwanted refresh\n  if (location.host === \"azgaar.github.io\" && !navigator.userAgent.includes(\"Electron\")) {\n    window.onbeforeunload = () => \"Are you sure you want to navigate away?\";\n  }\n\n  // keyboard shortcuts\n  function handleKeydown(event) {\n    const code = event.code;\n    const ctrl = event.ctrlKey;\n    const reserved = [\"Backspace\", \"Enter\", \"KeyZ\", \"KeyX\", \"KeyS\", \"KeyP\", \"KeyJ\", \"F1\", \"Escape\"];\n    if (!ctrl && !reserved.includes(code)) return;\n\n    const active = document.activeElement.tagName;\n    if (active === \"INPUT\" || active === \"SELECT\" || active === \"TEXTAREA\") return;\n\n    event.preventDefault();\n    if (code === \"Backspace\" && $matrix > 0) $matrix -= 1;\n    // Rollback\n    else if (code === \"Enter\") $matrix += 1;\n    // Reroll\n    else if (code === \"KeyZ\") changes.undo();\n    // Undo\n    else if (code === \"KeyX\") changes.redo();\n    // Redo\n    else if (ctrl && code === \"KeyS\") download(null, \"svg\");\n    // Download SVG\n    else if (ctrl && code === \"KeyP\") download(null, \"png\");\n    // Download PNG\n    else if (ctrl && code === \"KeyJ\") download(null, \"jpeg\");\n    // Download JPEG\n    else if (code === \"F1\") $state.about = !$state.about; // About\n    if (code === \"Escape\") close(); // Close all windows\n\n    function close() {\n      $state.about = 0;\n      $state.raster = 0;\n      $state.vector = 0;\n      $state.tinctures = 0;\n      $state.edit = 0;\n      $message = null;\n    }\n  }\n\n  function handleTouchStart(e) {\n    touch.startX = e.changedTouches[0].screenX;\n    touch.startY = e.changedTouches[0].screenY;\n  }\n\n  function handleTouchEnd(e) {\n    const menu = document.getElementById(\"menu\");\n    const navbar = document.getElementById(\"navbar\");\n    if (menu?.contains(e.target)) return; // cancel touch event if start area is menu\n    if (navbar?.contains(e.target)) return; // cancel touch event if start area is nav bar\n\n    const diffX = e.changedTouches[0].screenX - touch.startX;\n    const diffY = e.changedTouches[0].screenY - touch.startY;\n    const ratioX = Math.abs(diffX / diffY);\n    const ratioY = Math.abs(diffY / diffX);\n    const absDiff = Math.abs(ratioX > ratioY ? diffX : diffY);\n\n    if (absDiff < 50) return; // ignore small movements\n\n    if (ratioX > ratioY) diffX >= 0 ? swipeRight() : swipeLeft();\n    else diffY >= 0 ? swipeDown() : swipeUp();\n  }\n\n  function swipeRight() {\n    if ($state.edit) changes.redo();\n    else $matrix += 1;\n  }\n\n  function swipeDown() {\n    $matrix += 1;\n  }\n\n  function swipeLeft() {\n    if ($state.edit) changes.undo();\n    else if ($matrix > 0) $matrix -= 1;\n  }\n\n  function swipeUp() {\n    if ($matrix > 0) $matrix -= 1;\n  }\n</script>\n\n<svelte:window on:keydown={handleKeydown} on:touchstart={handleTouchStart} on:touchend={handleTouchEnd} />\n","import { forEach } from \"./utils\";\nconst removalDelay = 20000;\nexport const tooltip = (element) => {\n    const isTouchAvailable = \"ontouchstart\" in window;\n    const tooltip = element.dataset.tooltip;\n    const div = document.createElement(\"div\");\n    let limit;\n    function mouseEnter() {\n        forEach(\".tooltip\", el => el.remove());\n        const gesture = element.getAttribute(\"gesture\");\n        const hotkey = element.getAttribute(\"hotkey\");\n        let text = tooltip;\n        if (isTouchAvailable && gesture)\n            text += \". Gesture: \" + gesture;\n        if (!isTouchAvailable && hotkey)\n            text += \". Hotkey: \" + hotkey;\n        div.textContent = text;\n        div.className = \"tooltip\";\n        document.body.appendChild(div);\n        const bbox = div.getBoundingClientRect();\n        limit = [window.innerWidth - bbox.width, window.innerHeight - bbox.height];\n        setTimeout(mouseLeave, removalDelay);\n    }\n    function mouseMove(event) {\n        div.style.left = `${Math.min(event.pageX + 10, limit[0])}px`;\n        div.style.top = `${Math.min(event.pageY + 10, limit[1])}px`;\n    }\n    function mouseLeave() {\n        if (div)\n            div.remove();\n    }\n    element.on(\"mouseenter\", mouseEnter);\n    element.on(\"mouseleave\", mouseLeave);\n    element.on(\"mousemove\", mouseMove);\n    return {\n        destroy() {\n            element.off(\"mouseenter\", mouseEnter);\n            element.off(\"mouseleave\", mouseLeave);\n            element.off(\"mousemove\", mouseMove);\n        }\n    };\n};\n","<script lang=\"ts\">\n  import {tooltip} from \"scripts/tooltip\";\n  import {capitalize} from \"scripts/utils\";\n  export let key: string;\n\n  $: locked = localStorage.getItem(key);\n\n  const tip = capitalize(key) + \" value is saved and auto-applied. Click to remove saved value and use default settings on load\";\n\n  function unlock(event: Event) {\n    event.stopPropagation();\n    localStorage.removeItem(key);\n    locked = \"\";\n  }\n</script>\n\n{#if Boolean(locked)}\n  <span on:click={unlock} data-tooltip={tip} use:tooltip>🔖</span>\n{/if}\n\n<style>\n  span {\n    cursor: pointer;\n  }\n</style>\n","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { is_function, assign } from '../internal/index.mjs';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    let len = node.getTotalLength();\n    const style = getComputedStyle(node);\n    if (style.strokeLinecap !== 'butt') {\n        len += parseInt(style.strokeWidth);\n    }\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","export const sizes = [\n  [80, \"Giant\"],\n  [100, \"Huge\"],\n  [150, \"Large\"],\n  [200, \"Medium\"],\n  [300, \"Small\"],\n  [400, \"Tiny\"]\n];\n\nexport const gradients = [\"no\", \"luster\", \"spotlight\", \"backlight\", \"brink\"];\n\nexport const diapers = [\"no\", \"nourse\", \"tessellation\", \"sennwald\", \"sulzbach\"];\n","<script>\n  import Lock from \"./Lock.svelte\";\n  import {fade} from \"svelte/transition\";\n  import {download} from \"scripts/download\";\n  import {sizes, gradients, diapers} from \"config/options\";\n  import {size, grad, diaper, shield, background, scale, border, borderWidth, matrix, state, changes, message} from \"data/stores\";\n  import {shields, shieldPaths} from \"data/shields\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  let installable = false;\n  let prompt = null;\n\n  const wideScreen = window.innerWidth > 600;\n\n  $: position = $changes[1];\n\n  function getIcon(icon, active = \"active\") {\n    if (wideScreen) return `<span class=\"navBarIcon ${active}\">${icon}</span>`;\n    return `<svg class=\"navBarIcon ${active}\"><use href=\"#${icon}-icon\"></use></svg>`;\n  }\n\n  function change(e, store, value, key) {\n    e.stopPropagation();\n    store.set(value);\n    localStorage.setItem(key, value);\n\n    // update coa on shield change\n    if (key === \"shield\" && changes.length()) {\n      const coa = JSON.parse($changes[0]);\n      coa.shield = $shield;\n      changes.add(JSON.stringify(coa));\n    }\n  }\n\n  function getRandomColor() {\n    const l = \"0123456789ABCDEF\";\n    $background = \"#\" + [0, 0, 0, 0, 0, 0].map(() => l[Math.floor(Math.random() * 16)]).join(\"\");\n    localStorage.setItem(\"background\", $background);\n  }\n\n  function restoreDefault(e, store, key, value) {\n    e.stopPropagation();\n    store.set(value);\n    localStorage.removeItem(key);\n  }\n\n  function goHome() {\n    location.href = location.origin + location.pathname;\n  }\n\n  function copyEditLink() {\n    const coa = $changes[0].replaceAll(\"#\", \"%23\");\n    const url = location.origin + location.pathname + \"?coa=\" + coa;\n    copyToClipboard(url, \"Coat of arms link is copied to your clipboard\");\n  }\n\n  function copyAPILink() {\n    const encoded = encodeURI($changes[0]);\n    const API = \"https://armoria.herokuapp.com/\";\n    const url = `${API}?size=500&format=png&coa=${encoded}`;\n    copyToClipboard(url, \"API link is copied to your clipboard\");\n  }\n\n  function copyCOA() {\n    const encoded = encodeURI($changes[0]);\n    copyToClipboard(encoded, \"Encoded COA string is copied to your clipboard\");\n  }\n\n  function copyToClipboard(stringToCopy, response) {\n    $message = null;\n\n    navigator.clipboard.writeText(stringToCopy).then(\n      () => {\n        $message = null;\n        setTimeout(() => {\n          $message = {type: \"success\", text: response, timeout: 5000};\n        }, 500);\n      },\n      err => {\n        const text = \"Cannot copy to the clipboard!\";\n        $message = {type: \"error\", text, timeout: 5000};\n        console.error(err);\n      }\n    );\n  }\n\n  function install() {\n    installable = false;\n    prompt.prompt();\n    prompt.userChoice.then(choise => (prompt = null));\n  }\n\n  window.addEventListener(\"beforeinstallprompt\", e => {\n    console.log(\"beforeinstallprompt is fired\");\n    //e.preventDefault(); // no default prompt\n    prompt = e;\n    installable = true;\n  });\n\n  window.addEventListener(\"appinstalled\", e => {\n    console.log(\"App installation: success\");\n    $message = {type: \"success\", text: `Armoria application is installed`, timeout: 5000};\n  });\n\n  // values to be always saved\n  $: localStorage.setItem(\"background\", $background);\n  $: localStorage.setItem(\"border\", $border);\n  $: localStorage.setItem(\"borderWidth\", $borderWidth);\n  $: localStorage.setItem(\"scale\", $scale);\n</script>\n\n<nav>\n  <svg on:click={goHome} class=\"logo\" width=\"35\" height=\"35\" viewBox=\"-2 -1 55 55\">\n    <path\n      fill=\"#fff\"\n      stroke=\"none\"\n      d=\"m 46,3 0.6,1.4 c -1.5,0.7 -2.6,1.4 -3.3,2.2 -0.7,0.7 -1.2,1.5 -1.5,2.4 -0.3,0.9 -0.4,2.2 -0.4,3.9 0,0.6 0,1.3 0,2.2 l 0.5,23.2 c 0,2.5 0.3,4.2 0.8,5 0.4,0.6 0.8,0.8 1.3,0.8 0.6,0 1.5,-0.6 2.8,-1.8 l 0.9,1.1 -5.8,4.9 -1.9,1.6 C 38.4,49.2 37.2,48.2 36.5,46.9 35.8,45.7 35.3,36.7 35.2,34 c -7.6,0.1 -20.2,0 -20.2,0 0,0 -7.4,9.1 -7.4,11.1 0,0.6 0.2,1.1 0.6,1.8 0.5,0.9 0.8,1.4 0.8,1.7 0,0.4 -0.1,0.7 -0.4,1 -0.3,0.3 -0.6,0.4 -1.1,0.4 -0.5,0 -0.9,-0.2 -1.2,-0.6 -0.5,-0.6 -0.7,-1.3 -0.7,-2.2 0,-1 0.3,-2.1 0.8,-3.3 C 8.8,39.9 11.3,36.7 14.1,32.9 11.1,30.7 9,28.5 7.8,26.4 6.6,24.4 6,22.1 6,19.5 c 0,-3 0.8,-5.7 2.3,-8.3 1.5,-2.5 3.8,-4.5 6.9,-6 3.1,-1.5 6.2,-2.2 9.4,-2.2 4.9,0 9.7,1.7 14.3,5.1 1.1,-1.2 2.2,-2.1 3.2,-2.9 1,-0.8 2.4,-1.5 4,-2.3 z M 30.7,10.2 c -2.6,-1.3 -5.2,-1.9 -7.8,-1.9 -2.7,0 -5.3,0.6 -7.8,1.8 -2.4,1.2 -4.2,2.8 -5.4,4.7 -1.2,1.9 -1.8,3.9 -1.8,5.9 0,4.2 2.3,8 6.9,11.3 L 25.2,17.7 c -1.6,-0.8 -2.9,-1.3 -4.2,-1.3 -1.7,0 -3.1,0.8 -4.2,2.4 -0.4,0.7 -1,0.5 -1.1,-0.2 0,-0.6 0.3,-1.5 1,-2.7 0.7,-1.1 1.6,-2.1 2.9,-2.8 1.3,-0.7 2.6,-1.1 4,-1.1 1.4,0 3.1,0.4 4.9,1.1 z m 4,3.2 C 34,12.4 32.8,11.5 32,11 L 18.4,29.4 h 16.7 z\"\n    />\n  </svg>\n\n  <div class=\"container\">\n    <bl>{@html getIcon(\"options\")}</bl>\n\n    <div class=\"dropdown level1\">\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each Object.keys(shields.types) as type}\n            <div class=\"container\">\n              <div class=\"dropdown level3 iconed\">\n                {#each Object.keys(shields[type]) as sh}\n                  <bt on:click={e => change(e, shield, sh, \"shield\")}>\n                    <svg class=\"shield\" class:selected={sh === $shield} width=\"26\" height=\"26\" viewBox=\"0 0 200 210\">\n                      <path d={shieldPaths[sh]} />\n                    </svg>\n                    {sh.split(/(?=[A-Z])/).join(\" \")}\n                  </bt>\n                {/each}\n              </div>\n\n              <bl>\n                {type.split(/(?=[A-Z])/).join(\" \")}\n              </bl>\n            </div>\n          {/each}\n        </div>\n        <bl data-tooltip=\"Shield or banner shape. If not set, a random one is selected on reroll\" use:tooltip>\n          {#key $shield}<Lock key=\"shield\" />{/key}\n          <span>Shield</span>\n        </bl>\n      </div>\n\n      <bt on:click={() => ($state.tinctures = 1)} data-tooltip=\"Setup tinctures selection chance and hue\" use:tooltip>\n        <Lock key=\"tinctures\" />\n        <Lock key=\"colors\" />\n        <span>Tinctures</span>\n      </bt>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each gradients as g}\n            <bt class:selected={g === $grad} on:click={e => change(e, grad, g, \"grad\")}>{g}</bt>\n          {/each}\n        </div>\n        <bl data-tooltip=\"Overlay style to be applied on top of coat of arms\" use:tooltip>\n          {#key $grad}<Lock key=\"grad\" />{/key}\n          <span>Gradient</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each diapers as d}\n            <bt class:selected={d === $diaper} on:click={e => change(e, diaper, d, \"diaper\")}>{d}</bt>\n          {/each}\n        </div>\n        <bl data-tooltip=\"Backing style for coat of arms, also known as diaper\" use:tooltip>\n          {#key $diaper}<Lock key=\"diaper\" />{/key}\n          <span>Damasking</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          {#each sizes as s}\n            <bt class:selected={$size == s[0]} on:click={e => change(e, size, s[0], \"size\")}>{s[1]}</bt>\n          {/each}\n        </div>\n        <bl data-tooltip=\"Coat of arms gallery size. Change to smaller value to make coat of arms bigger\" use:tooltip>\n          {#key $size}<Lock key=\"size\" />{/key}\n          <span>Gallery</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          <bl\n            >Color\n            {#if $border !== \"#333333\"}\n              <svg\n                on:click={e => restoreDefault(e, border, \"border\", \"#333333\")}\n                class=\"navBarIcon active smaller\"\n                data-tooltip=\"Restore default color\"\n                use:tooltip\n              >\n                <use href=\"#undo-icon\" />\n              </svg>\n            {/if}\n            <input type=\"color\" bind:value={$border} />\n          </bl>\n          <bl\n            >Width\n            {#if $borderWidth !== 1}\n              <svg\n                on:click={e => restoreDefault(e, borderWidth, \"borderWidth\", \"#333333\")}\n                class=\"navBarIcon active smaller\"\n                data-tooltip=\"Restore default border width\"\n                use:tooltip\n              >\n                <use href=\"#undo-icon\" />\n              </svg>\n            {/if}\n            <input\n              class=\"right\"\n              type=\"number\"\n              min=\"0\"\n              max=\"4\"\n              step=\".1\"\n              on:input={function (e) {\n                change(e, borderWidth, +this.value, \"borderWidth\");\n              }}\n              value={$borderWidth}\n            />\n          </bl>\n        </div>\n        <bl data-tooltip=\"Coat of arms border style\" use:tooltip>\n          <span>Border</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          <bl\n            >Color\n            <svg on:click={getRandomColor} class=\"navBarIcon active smaller\" data-tooltip=\"Select random color\" use:tooltip>\n              <use href=\"#random-icon\" />\n            </svg>\n            {#if $background !== \"#333333\"}\n              <svg\n                on:click={e => restoreDefault(e, background, \"background\", \"#333333\")}\n                class=\"navBarIcon active smaller\"\n                data-tooltip=\"Restore default color\"\n                use:tooltip\n              >\n                <use href=\"#undo-icon\" />\n              </svg>\n            {/if}\n            <input type=\"color\" bind:value={$background} />\n          </bl>\n        </div>\n        <bl data-tooltip=\"Window background color\" use:tooltip>\n          <span>Background</span>\n        </bl>\n      </div>\n\n      <div class=\"container\">\n        <div class=\"dropdown level2\">\n          <bl class=\"wide\">\n            <input type=\"range\" min=\"1\" max=\"4\" step=\".1\" bind:value={$scale} />\n            <input type=\"number\" min=\"1\" max=\"4\" step=\".1\" bind:value={$scale} />\n          </bl>\n        </div>\n        <bl data-tooltip=\"Downloaded image size, 1 is default size, 2 - 2x size, etc.\" use:tooltip>\n          <span>Scale</span>\n        </bl>\n      </div>\n\n      {#if !wideScreen && $state.edit}\n        <bt on:click={() => ($state.license = 1)} data-tooltip=\"Show information about license\" use:tooltip> License </bt>\n      {/if}\n    </div>\n  </div>\n\n  {#if $matrix}\n    <bt on:click={() => ($matrix -= 1)} data-tooltip=\"Roll to the previous list\" gesture=\"Swipe up\" hotkey=\"Backspace\" use:tooltip>\n      {@html getIcon(\"rollback\")}\n    </bt>\n  {:else}\n    <bd>{@html getIcon(\"rollback\", \"inactive\")}</bd>\n  {/if}\n\n  <bt on:click={() => ($matrix += 1)} data-tooltip=\"Regenerate coat of arms\" gesture=\"Swipe down\" hotkey=\"Enter\" use:tooltip>\n    {@html getIcon(\"reroll\")}\n  </bt>\n\n  <div class=\"container\">\n    <bl>{@html getIcon(\"save\")}</bl>\n    <div class=\"dropdown level1\">\n      <bt\n        on:click={() => download(null, \"svg\")}\n        data-tooltip=\"Download vector image or set of images. Open in browser or load to Map Generator. Size can be set in options\"\n        hotkey=\"Ctrl + S\"\n        use:tooltip\n      >\n        <span>Download SVG</span>\n      </bt>\n\n      <bt on:click={() => download(null, \"png\")} data-tooltip=\"Download as raster image. Size can be set in options\" hotkey=\"Ctrl + P\" use:tooltip>\n        <span>Download PNG</span>\n      </bt>\n\n      <bt on:click={() => download(null, \"jpeg\")} data-tooltip=\"Download a compressed raster image. Size can be set in options\" hotkey=\"Ctrl + J\" use:tooltip>\n        <span>Download JPEG</span>\n      </bt>\n\n      {#if $state.edit}\n        <bt on:click={copyEditLink} data-tooltip=\"Copy link to the coat of arms in Edit mode to your clipbard\" use:tooltip>\n          <span>Copy edit link</span>\n        </bt>\n\n        <bt on:click={copyAPILink} data-tooltip=\"Copy link to the coat of arms for embedding. Armoria API does not support custom charges\" use:tooltip>\n          <span>Copy API link</span>\n        </bt>\n\n        <bt\n          on:click={copyCOA}\n          data-tooltip=\"Copy coa object as encoded string to use in Armoria API or in Watabou's Medieval Fantasy City Generator\"\n          use:tooltip\n        >\n          <span>Copy COA string</span>\n        </bt>\n      {/if}\n    </div>\n  </div>\n\n  <div class=\"container\">\n    <bl>{@html getIcon(\"upload\")}</bl>\n    <div class=\"dropdown level1\">\n      <bt on:click={() => ($state.raster = 1)} data-tooltip=\"Upload raster charge (one color, quality loss on scale) from jpg, png or svg image\" use:tooltip>\n        <span>Raster charge</span>\n      </bt>\n\n      <bt on:click={() => ($state.vector = 1)} data-tooltip=\"Upload vector charge (multicolor and lossless scalable) from prepared svg\" use:tooltip>\n        <span>Vector charge</span>\n      </bt>\n    </div>\n  </div>\n\n  {#if installable}\n    <bt on:click={() => install()} class=\"flutter\" in:fade data-tooltip=\"Add Armoria application to the desktop or home screen\" use:tooltip>\n      {@html getIcon(\"install\")}\n    </bt>\n  {/if}\n\n  {#if $state.edit}\n    {#if position > 0}\n      <bt on:click={() => changes.undo()} data-tooltip=\"Revert the latest change\" gesture=\"Swipe left\" hotkey=\"Z\" use:tooltip>\n        {@html getIcon(\"undo\")}\n      </bt>\n    {:else}\n      <bd>{@html getIcon(\"undo\", \"inactive\")}</bd>\n    {/if}\n\n    {#if position < changes.length() - 1}\n      <bt on:click={() => changes.redo()} data-tooltip=\"Restore the next change\" gesture=\"Swipe right\" hotkey=\"X\" use:tooltip>\n        {@html getIcon(\"redo\")}\n      </bt>\n    {:else}\n      <bd>{@html getIcon(\"redo\", \"inactive\")}</bd>\n    {/if}\n  {/if}\n\n  {#if $state.edit}\n    <bt id=\"back\" on:click={() => ($state.edit = 0)} transition:fade data-tooltip=\"Get back to Gallery\" hotkey=\"Escape\" use:tooltip>\n      {@html getIcon(\"back\")}\n    </bt>\n  {/if}\n\n  {#if wideScreen || !$state.edit}\n    <bt on:click={() => ($state.license = 1)} data-tooltip=\"Show information about license\" use:tooltip>\n      {@html getIcon(\"license\")}\n    </bt>\n    <bt on:click={() => ($state.about = 1)} data-tooltip=\"Show about screen\" hotkey=\"F1\" use:tooltip>\n      {@html getIcon(\"about\")}\n    </bt>\n    <bt on:click={() => window.open(\"https://www.patreon.com/azgaar\", \"_blank\")} data-tooltip=\"Support the project on Patreon\" use:tooltip>\n      {@html getIcon(\"support\")}\n    </bt>\n  {/if}\n</nav>\n\n<style>\n  nav {\n    top: 0;\n    width: 100%;\n    list-style-type: none;\n    margin: 0;\n    padding: 0;\n    display: flex;\n    align-items: center;\n    overflow: hidden;\n    background-color: #1b1c1d;\n    z-index: 1;\n    white-space: nowrap;\n  }\n\n  .logo {\n    display: block;\n    margin: 0 0.5em 0 1em;\n    background-color: #35bdb2;\n    cursor: pointer;\n  }\n\n  :global(svg.navBarIcon) {\n    width: 1em;\n    height: 1em;\n    fill: #333;\n    stroke: none;\n    vertical-align: middle;\n  }\n\n  :global(svg.navBarIcon.active) {\n    fill: #fff;\n    cursor: pointer;\n  }\n\n  :global(span.navBarIcon) {\n    color: #333;\n  }\n\n  :global(span.navBarIcon.active) {\n    color: #fff;\n  }\n\n  .navBarIcon.smaller {\n    width: 0.8em;\n    height: 0.8em;\n  }\n\n  .navBarIcon.smaller:active {\n    transform: translateY(1px);\n  }\n\n  bt,\n  bl,\n  bd {\n    user-select: none;\n    padding: 1em;\n    color: #fff;\n    text-transform: capitalize;\n  }\n\n  bt {\n    cursor: pointer;\n    transition: background-color 0.1s;\n  }\n\n  bt:hover,\n  bl:hover {\n    background-color: #2d2e2f;\n  }\n\n  bt:active:not(:last-child) {\n    transform: translateY(1px);\n  }\n\n  input[type=\"color\"] {\n    position: absolute;\n    padding: 0;\n    margin: -0.3em 0;\n    right: 0.4em;\n    border: 0;\n    width: 3em;\n    cursor: pointer;\n  }\n\n  input[type=\"range\"] {\n    padding: 0;\n    width: 72%;\n    margin: 0;\n    height: 0.6em;\n    cursor: pointer;\n  }\n\n  input[type=\"number\"] {\n    padding: 0 0 0 3px;\n    width: 25%;\n    margin: 0;\n    border: 0;\n  }\n\n  input[type=\"number\"].right {\n    position: absolute;\n    padding: 2px;\n    margin: -0.25em 0;\n    right: 0.4em;\n    width: 3em;\n  }\n\n  .dropdown {\n    display: none;\n    position: fixed;\n    background-color: #1b1c1d;\n    min-width: 9em;\n    box-shadow: 0px 8px 16px 0px rgba(0, 0, 0, 0.2);\n    z-index: 1;\n  }\n\n  .level1 {\n    margin-top: 1em;\n  }\n\n  .level2 {\n    z-index: 1;\n    margin-left: 10.25em;\n  }\n\n  .level3 {\n    z-index: 2;\n    margin-left: 10.25em;\n  }\n\n  .dropdown bt,\n  .dropdown bl {\n    padding: 12px 16px;\n    width: 8em;\n    display: block;\n  }\n\n  .dropdown bl.wide {\n    width: 12em;\n  }\n\n  .container:hover > .dropdown {\n    display: block;\n  }\n\n  .dropdown bt.selected:before {\n    content: \"\\2713\";\n    display: inline-block;\n    padding: 0 6px 0 0;\n  }\n\n  /* low-width (narrow) screen */\n  @media only screen and (max-width: 720px) {\n    .logo {\n      display: none;\n    }\n\n    .level3 {\n      margin-left: -10.25em;\n      background-color: #222;\n    }\n  }\n\n  /* low-height screen */\n  @media only screen and (max-height: 640px) and (orientation: landscape) {\n    .dropdown bt,\n    .dropdown bl {\n      padding: 6px 16px;\n      width: 7em;\n    }\n\n    .level2 {\n      margin-left: 9.25em;\n    }\n\n    .level3 {\n      margin-left: 9.25em;\n    }\n  }\n\n  @media only screen and (max-height: 640px) and (min-width: 520px) and (orientation: landscape) {\n    .logo {\n      display: none;\n    }\n    .level3 {\n      column-count: 2;\n    }\n  }\n\n  @media only screen and (max-height: 640px) and (min-width: 680px) and (orientation: landscape) {\n    .logo {\n      display: none;\n    }\n    .level3 {\n      column-count: 3;\n    }\n  }\n\n  .dropdown.iconed {\n    text-indent: 1.8em;\n  }\n\n  .shield {\n    position: absolute;\n    fill: none;\n    stroke: #fff;\n    stroke-width: 5px;\n    margin: -0.4em 0 0 -2.2em;\n  }\n\n  .shield.selected {\n    fill: #777;\n    stroke: #333;\n  }\n\n  #back {\n    position: absolute;\n    right: 0;\n  }\n</style>\n","<script>\n  import {colors} from \"data//stores\";\n  import {shieldPaths} from \"data//shields\";\n  import {fade, draw} from \"svelte/transition\";\n  import {rw} from \"scripts/utils\";\n  export let duration;\n\n  const delay = duration * 2.6;\n\n  const tinctures = {metals: {argent: 3, or: 2}, colors: {gules: 5, sable: 3, azure: 4, vert: 2, purpure: 3}};\n  const metal = Math.random() > 0.5;\n  const t1 = metal ? rw(tinctures.metals) : rw(tinctures.colors);\n  const t2 = metal ? rw(tinctures.colors) : rw(tinctures.metals);\n\n  const division = rw({\n    perPale: 2,\n    perFess: 2,\n    perBend: 2,\n    perBendSinister: 1,\n    perCross: 6,\n    perChevron: 1,\n    perChevronReversed: 1,\n    perPile: 2,\n    perSaltire: 5,\n    gyronny: 1,\n    chevronny: 1\n  });\n\n  const paths = {\n    perPale: [\"M100,25 v175\", \"M100,0 v200 h100 v-200 Z\"],\n    perFess: [\"M27.5,100 h145\", \"M0,100 h200 v100 h-200 Z\"],\n    perBend: [\"M0,0 l200,200\", \"M0,0 l200,200 h-200 Z\"],\n    perBendSinister: [\"M200,0 L0,200\", \"M200,0 L0,200 h200 Z\"],\n    perCross: [\"M100,25 v175 M27.5,100 h145\", \"M100,0 v200 h-100 v-100 h200 v-100 Z\"],\n    perChevron: [\"M0,0 l100,100 l100,-100\", \"M0,0 l100,100 l100,-100 Z\"],\n    perChevronReversed: [\"M0,200 l100,-100 l100,100\", \"M0,200 l100,-100 l100,100 Z\"],\n    perPile: [\"M15,0 l85,200 l85,-200\", \"M15,0 l85,200 l85,-200 Z\"],\n    perSaltire: [\"M0,0 L200,200 M200,0 l-200,200\", \"M0,0 L200,200 v-200 l-200,200 Z\"],\n    gyronny: [\"M0,0 l200,200 M200,100 h-200 M100,0 v200 M0,200 l200,-200\", \"M0,0 l200,200 v-100 h-200 h-100 M100,0 v200, h-100 l200,-200 h-100\"],\n    chevronny: [\"\", \"M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z\"]\n  };\n\n  let size = window.innerWidth < 600 ? window.innerWidth * 0.9 : 500;\n  if (window.innerHeight < 600) size *= 0.5;\n</script>\n\n<svg width={size} height={size} viewBox=\"0 0 200 200\">\n  <clipPath id=\"shieldAbout\">\n    <path d={shieldPaths.heater} />\n  </clipPath>\n\n  <g clip-path=\"url(#shieldAbout)\" stroke=\"#fff\" stroke-width=\".5\">\n    <path stroke-width=\"1\" d=\"M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z\" in:draw={{duration}} />\n    <path d={paths[division][0]} in:draw={{delay: duration}} />\n\n    <g in:fade={{delay, duration}} stroke=\"none\">\n      <rect x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill={$colors[t1]} />\n      <path d={paths[division][1]} fill={$colors[t2]} />\n      <rect x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill=\"url(#nourse)\" />\n    </g>\n  </g>\n\n  <g stroke=\"#000\" fill=\"url(#backlight)\">\n    <path d={shieldPaths.heater} in:draw={{delay, duration}} />\n  </g>\n</svg>\n","<script>\n  import AnimatedCOA from \"./AnimatedCOA.svelte\";\n  import {state} from \"data//stores\";\n  import {fade, fly} from \"svelte/transition\";\n\n  const duration = 1000;\n  const handleClose = () => {\n    $state.about = 0;\n  };\n</script>\n\n<div id=\"about\" transition:fade>\n  <span on:click={handleClose} class=\"close\">&times;</span>\n  <AnimatedCOA {duration} />\n  <div class=\"buttons\" in:fly={{y: 200, delay: duration, duration}}>\n    <a target=\"_blank\" href=\"https://github.com/Azgaar/Armoria/wiki/Armoria-Tutorial\"><span translate=\"no\">Tutorial</span></a>\n    <a target=\"_blank\" href=\"https://discord.com/invite/X7E84HU\"><span translate=\"no\">Discord</span></a>\n    <a target=\"_blank\" href=\"https://github.com/Azgaar/Armoria\"><span translate=\"no\">GitHub</span></a>\n    <a target=\"_blank\" href=\"https://github.com/Azgaar/armoria-api#readme\"><span translate=\"no\">API</span></a>\n    <a target=\"_blank\" href=\"https://www.patreon.com/azgaar\"><span translate=\"no\">Patreon</span></a>\n  </div>\n</div>\n\n<style>\n  #about {\n    position: fixed;\n    inset: 0;\n    z-index: 1;\n    background-color: rgba(0, 0, 0, 0.9);\n    transition: 0.5s;\n    text-align: center;\n    user-select: none;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n  }\n\n  a:hover,\n  span:hover {\n    color: #fff;\n    text-decoration: none;\n  }\n\n  .buttons {\n    display: flex;\n    justify-content: space-evenly;\n    width: min(100%, 80vw);\n    font-size: 1.2em;\n  }\n\n  .buttons > a {\n    margin: 0.5em;\n    color: #ddd;\n  }\n\n  .buttons > a:hover {\n    color: #fff;\n    text-decoration: none;\n  }\n\n  @media (max-width: 600px) {\n    .buttons {\n      flex-direction: column;\n    }\n  }\n\n  span.close {\n    position: absolute;\n    top: 0;\n    right: 1.2rem;\n    font-size: 4em;\n    cursor: pointer;\n    color: #ddd;\n  }\n\n  span.close:hover {\n    color: #fff;\n  }\n</style>\n","<script lang=\"ts\">\n  import {fade} from \"svelte/transition\";\n  import {shield, state} from \"data/stores\";\n  import {capitalize, link} from \"scripts/utils\";\n\n  const wetaShield = (shield: string) => [\"noldor\", \"gondor\", \"easterling\", \"ironHills\", \"urukHai\", \"moriaOrc\"].includes(shield);\n\n  const coas = Array.from(document.querySelectorAll(\"svg.coa\"));\n  const charges = coas.map(coa => Array.from(coa.querySelectorAll(\".charge[charge]\")).map(el => el.getAttribute(\"charge\"))).flat();\n\n  const chargeData = [...new Set(charges)]\n    .map(charge => {\n      const el = document.getElementById(charge);\n      const licenseURL = el.getAttribute(\"license\");\n      const licenseName = getLicenseName(licenseURL);\n      const sourceURL = el.getAttribute(\"source\");\n      const author = el.getAttribute(\"author\") || (sourceURL ? new URL(sourceURL).host : null);\n\n      const license = licenseURL && licenseName ? link(licenseURL, licenseName) : \"no license data\";\n      const source = sourceURL ? link(sourceURL, author) : author || \"no source data\";\n\n      return {charge: capitalize(charge), license, source};\n    })\n    .sort((a, b) => (a.license < b.license ? -1 : 1));\n\n  const isLicenseSame = [...new Set(chargeData.map(d => [d.license, d.source].join(\",\")))].length === 1;\n  const charge = isLicenseSame ? chargeData[0] : null;\n\n  // get mainly Creative Commons short names from license link\n  function getLicenseName(license: string) {\n    if (!license) return null;\n    if (license.includes(\"publicdomain\")) return \"public domain\";\n    if (license.includes(\"by-nc-sa\")) return \"CC BY-NC-SA\";\n    if (license.includes(\"by-nc-nd\")) return \"CC BY-NC-ND\";\n    if (license.includes(\"by-nc\")) return \"CC BY-NC\";\n    if (license.includes(\"by-nd\")) return \"CC BY-ND\";\n    if (license.includes(\"by-sa\")) return \"CC BY-SA\";\n    if (license.includes(\"by\")) return \"CC BY\";\n    if (license.includes(\"Fair\")) return \"fair use\";\n    return license;\n  }\n</script>\n\n<div id=\"license\" transition:fade>\n  <span on:click={() => ($state.license = 0)} class=\"close\">&times;</span>\n  <div id=\"licenseContainer\">\n    <h1>Armoria License</h1>\n\n    {#if chargeData.length}\n      <hr />\n      <h2>Currently displayed Coat of Arms</h2>\n    {/if}\n\n    {#if isLicenseSame}\n      <h3>{chargeData.length > 1 ? \"Charges\" : charge.charge}: {@html charge.license}, {@html charge.source}</h3>\n    {:else}\n      <div class=\"chargesList\">\n        {#each chargeData as {charge, license, source}}\n          <div>{charge}: {@html license}, {@html source}</div>\n        {/each}\n      </div>\n    {/if}\n\n    {#if wetaShield($shield)}\n      <p>\n        As per my information, shield shape close to <i>{capitalize($shield)}</i> is designed for the Lord of the Rings film series by\n        <a target=\"_blank\" href=\"www.wetanz.com\">Weta Workshop</a>. The shape itself is drawn by Azgaar, but as design itself may be protected and owned by {@html link(\n          \"https://www.middleearth.com\",\n          \"Middle-earth Enterprises\"\n        )} or {@html link(\"https://www.warnerbros.com/company/divisions/motion-pictures\", \"New Line Productions\")}, it is recommended to not use this shape for\n        any purposes outside of the {@html link(\"https://en.wikipedia.org/wiki/Fair_use\", \"fair use\")} concept.\n      </p>\n    {/if}\n\n    <hr />\n    <h2>Code: MIT License, {@html link(\"https://github.com/Azgaar/Armoria\", \"Azgaar\")}</h2>\n    <p>\n      Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal\n      in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n      copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions: The above copyright notice\n      and this permission notice shall be included in all copies or substantial portions of the Software.\n    </p>\n    <p>\n      The software is provided \"As is\", without warranty of any kind, express or implied, including but not limited to the warranties of merchantability,\n      fitness for a particular purpose and noninfringement. In no event shall the authors or copyright holders be liable for any claim, damages or other\n      liability, whether in an action of contract, tort or otherwise, arising from, out of or in connection with the software or the use or other dealings in\n      the software.\n    </p>\n\n    <hr />\n    <h2>\n      Icons: {@html link(\"https://creativecommons.org/licenses/by/4.0\", \"CC BY 4.0\")}, {@html link(\"https://fontawesome.com/license/free\", \"Font Awesome\")}\n    </h2>\n    <br />\n  </div>\n</div>\n\n<style>\n  #license {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: #000000e6;\n    transition: 0.5s;\n    color: #ddd;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: auto;\n    scrollbar-width: thin;\n  }\n\n  #license::-webkit-scrollbar {\n    width: 6px;\n    background-color: #cccccc80;\n  }\n\n  #license::-webkit-scrollbar-thumb {\n    background-color: #111;\n  }\n\n  #licenseContainer {\n    width: 90%;\n    max-width: 800px;\n    max-height: 100%;\n  }\n\n  hr {\n    border: none;\n    border-top: 3px double #333;\n    color: #333;\n    overflow: visible;\n    text-align: center;\n    height: 5px;\n  }\n\n  hr:after {\n    content: \"§\";\n    position: relative;\n    top: -12px;\n  }\n\n  span.close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    z-index: 2;\n    cursor: pointer;\n  }\n\n  .chargesList {\n    column-count: 2;\n    column-gap: 7em;\n    text-align: left;\n    margin: 0 2em;\n  }\n\n  @media only screen and (orientation: portrait) {\n    .chargesList {\n      column-gap: normal;\n      text-align: center;\n    }\n  }\n</style>\n","import {get} from \"svelte/store\";\nimport {changes, grid} from \"data/stores\";\n\nexport function drag(e, c, coa) {\n  const el = e.currentTarget;\n  const x0 = e.x,\n    y0 = e.y;\n  const sizeAdj = +el.closest(\"svg\").getAttribute(\"width\") / 200;\n  document.addEventListener(\"mouseup\", dragStop, {once: true});\n\n  const x = c.x || 0;\n  const y = c.y || 0;\n  const size = c.size || 1;\n  const angle = c.angle || 0;\n  const gridSize = get(grid);\n\n  if (e.shiftKey) {\n    document.addEventListener(\"mousemove\", resize);\n    document.body.style.cursor = \"ns-resize\";\n  } else if (e.ctrlKey || e.metaKey) {\n    document.addEventListener(\"mousemove\", rotate);\n    document.body.style.cursor = \"ew-resize\";\n  } else {\n    document.addEventListener(\"mousemove\", move);\n    document.body.style.cursor = \"move\";\n  }\n\n  function move(e) {\n    const dx = x + (e.x - x0) / sizeAdj;\n    const dy = y + (e.y - y0) / sizeAdj;\n\n    c.x = Math.round(dx / gridSize) * gridSize;\n    c.y = Math.round(dy / gridSize) * gridSize;\n    setTransform(el, c);\n  }\n\n  function resize(e) {\n    const dy = y + (e.y - y0) / sizeAdj;\n    c.size = round(size + dy / -100);\n    setTransform(el, c);\n    if (c.p) changes.add(JSON.stringify(coa));\n  }\n\n  function rotate(e) {\n    const cx = x + 100,\n      cy = y + 100;\n    const x1 = e.x / sizeAdj,\n      y1 = e.y / sizeAdj;\n\n    let a = 90 + (Math.atan2(y1 - cy, x1 - cx) * 180) / Math.PI;\n    if (a > 180) a = (a % 180) - 180;\n    if (a < -179) a = (a % 180) + 180;\n\n    c.angle = Math.round(a / gridSize) * gridSize;\n    setTransform(el, c);\n  }\n\n  function setTransform(el, c) {\n    const tr = transform(c);\n    if (tr) el.setAttribute(\"transform\", tr);\n    else el.removeAttribute(\"transform\");\n  }\n\n  function dragStop() {\n    document.removeEventListener(\"mousemove\", move);\n    document.removeEventListener(\"mousemove\", resize);\n    document.removeEventListener(\"mousemove\", rotate);\n    document.body.style.cursor = \"auto\";\n    changes.add(JSON.stringify(coa));\n  }\n}\n\nfunction round(n) {\n  return Math.round(n * 100) / 100;\n}\n\nexport function transform(charge) {\n  let {x = 0, y = 0, angle = 0, size = 1, p} = charge;\n  if (p) size = 1; // size is defined on use element level\n\n  if (size !== 1) {\n    x = round(x + 100 - size * 100);\n    y = round(y + 100 - size * 100);\n  }\n\n  let transform = \"\";\n  if (x || y) transform += `translate(${x} ${y})`;\n  if (angle) transform += ` rotate(${angle} ${size * 100} ${size * 100})`;\n  if (size !== 1) transform += ` scale(${size})`;\n\n  return transform ? transform.trim() : null;\n}\n","export const lines = {\n  straight: \"m 0,100 v15 h 200 v -15 z\",\n  engrailed: \"m 0,95 a 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 6.25,6.25 0 0 0 12.5,0 v 20 H 0 Z\",\n  invecked: \"M0,102.5 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 a6.25,6.25,0,0,1,12.5,0 v12.5 H0 z\",\n  embattled: \"M 0,105 H 2.5 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 15 V 95 h 15 v 10 h 2.5 v 10 H 0 Z\",\n  wavy: \"m 200,115 v -15 c -8.9,3.5 -16,3.1 -25,0 -8.9,-3.5 -16,-3.1 -25,0 -8.9,3.5 -16,3.2 -25,0 -8.9,-3.5 -16,-3.2 -25,0 -8.9,3.5 -16,3.1 -25,0 -8.9,-3.5 -16,-3.1 -25,0 -8.9,3.5 -16,3.2 -25,0 -8.9,-3.5 -16,-3.2 -25,0 v 15 z\",\n  raguly: \"m 200,95 h -3 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 h -10 l -5,10 h -10 l 5,-10 H 97 l -5,10 H 82 L 87,95 H 77 l -5,10 H 62 L 67,95 H 57 l -5,10 H 42 L 47,95 H 37 l -5,10 H 22 L 27,95 H 17 l -5,10 H 2 L 7,95 H 0 v 20 h 200 z\",\n  dancetty: \"m 0,105 10,-15 15,20 15,-20 15,20 15,-20 15,20 15,-20 15,20 15,-20 15,20 15,-20 15,20 15,-20 10,15 v 10 H 0 Z\",\n  dentilly: \"M 180,105 170,95 v 10 L 160,95 v 10 L 150,95 v 10 L 140,95 v 10 L 130,95 v 10 L 120,95 v 10 L 110,95 v 10 L 100,95 v 10 L 90,95 v 10 L 80,95 v 10 L 70,95 v 10 L 60,95 v 10 L 50,95 v 10 L 40,95 v 10 L 30,95 v 10 L 20,95 v 10 L 10,95 v 10 L 0,95 v 20 H 200 V 105 L 190,95 v 10 L 180,95 Z\",\n  angled: \"m 0,95 h 100 v 10 h 100 v 10 H 0 Z\",\n  urdy: \"m 200,90 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,6 -5,-6 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,6 -5,-6 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 l -5,-5 -5,5 v 10 l -5,5 -5,-5 V 95 L 0,90 v 25 h 200\",\n  indented: \"m 100,95 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 v 20 H 0 V 95 l 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 5,-10 5,10 z\",\n  bevilled: \"m 0,92.5 h 110 l -20,15 H 200 V 115 H 0 Z\",\n  nowy: \"m 0,95 h 80 c 0,0 0.1,20.1 20,20 19.9,-0.1 20,-20 20,-20 h 80 v 20 H 0 Z\",\n  nowyReversed: \"m 200,105 h -80 c 0,0 -0.1,-20.1 -20,-20 -19.9,0.1 -20,20 -20,20 H 0 v 10 h 200 z\",\n  potenty: \"m 3,95 v 5 h 5 v 5 H 0 v 10 h 200 l 0.5,-10 H 193 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 h -15 v -5 h 5 v -5 h -15 v 5 h 5 v 5 H 100.5 93 v -5 h 5 V 95 H 83 v 5 h 5 v 5 H 73 v -5 h 5 V 95 H 63 v 5 h 5 v 5 H 53 v -5 h 5 V 95 H 43 v 5 h 5 v 5 H 33 v -5 h 5 V 95 H 23 v 5 h 5 v 5 H 13 v -5 h 5 v -5 z\",\n  potentyDexter: \"m 200,105 h -2 v -10 0 0 h -10 v 5 h 5 v 5 H 183 V 95 h -10 v 5 h 5 v 5 H 168 V 95 h -10 v 5 h 5 v 5 H 153 V 95 h -10 v 5 h 5 v 5 H 138 V 95 h -10 v 5 h 5 v 5 H 123 V 95 h -10 v 5 h 5 v 5 h -10 v 0 0 -10 H 98 v 5 h 5 v 5 H 93 V 95 H 83 v 5 h 5 v 5 H 78 V 95 H 68 v 5 h 5 v 5 H 63 V 95 H 53 v 5 h 5 v 5 H 48 V 95 H 38 v 5 h 5 v 5 H 33 V 95 H 23 v 5 h 5 v 5 H 18 V 95 H 8 v 5 h 5 v 5 H 3 V 95 H 0 v 20 h 200 z\",\n  potentySinister: \"m 2.5,95 v 10 H 0 v 10 h 202.5 v -15 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 h -10 v 10 h -10 v -5 h 5 v -5 z\",\n  embattledGhibellin: \"M 200,200 V 100 l -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 -5,-5 v 10 l -5,-5 -5,5 V 95 l -5,5 v 15 h 200\",\n  embattledNotched: \"m 200,105 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 h -5 V 95 l -5,5 -5,-5 v 10 H 90 V 95 l -5,5 -5,-5 v 10 H 75 V 95 l -5,5 -5,-5 v 10 H 60 V 95 l -5,5 -5,-5 v 10 H 45 V 95 l -5,5 -5,-5 v 10 H 30 V 95 l -5,5 -5,-5 v 10 H 15 V 95 l -5,5 -5,-5 v 10 H 0 v 10 h 200\",\n  embattledGrady: \"m 0,95 v 20 H 200 V 95 h -2.5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 h -5 v 5 h -5 v 5 h -5 v -5 h -5 v -5 z\",\n  dovetailed: \"m 200,95 h -7 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 h -14 l 4,10 h -14 l 4,-10 H 93 l 4,10 H 83 L 87,95 H 73 l 4,10 H 63 L 67,95 H 53 l 4,10 H 43 L 47,95 H 33 l 4,10 H 23 L 27,95 H 13 l 4,10 H 3 L 7,95 H 0 v 20 h 200\",\n  dovetailedIndented: \"m 200,100 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 -7,-5 4,10 -7,-5 -7,5 4,-10 -7,5 v 15 h 200\",\n  nebuly: \"m 13.1,89.8 c -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.2,4.5 -7.3,4.5 -0.5,0 -2.2,-0.2 -2.2,-0.2 V 115 h 200 v -10.1 c -3.7,-0.2 -6.7,-2.2 -6.7,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.8,-1.9 1.8,-3.1 0,-2.5 -3.2,-4.5 -7.2,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.8,-1.9 1.8,-3.1 0,-2.5 -3.2,-4.5 -7.2,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 -1.5,4.1 -4.2,4.4 -8.8,4.5 -4.7,-0.1 -8.7,-1.5 -8.9,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 -4.1,0 -7.3,2 -7.3,4.5 0,1.2 0.7,2.3 1.8,3.1 1.2,0.7 1.9,1.8 1.9,3 0,2.5 -3.3,4.5 -7.3,4.5 -4,0 -7.3,-2 -7.3,-4.5 0,-1.2 0.7,-2.3 1.9,-3 1.2,-0.8 1.9,-1.9 1.9,-3.1 0,-2.5 -3.3,-4.5 -7.3,-4.5 z\",\n  rayonne: \"M0 115l-.1-6 .2.8c1.3-1 2.3-2.5 2.9-4.4.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4A9 9 0 015.5 90c-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 2.1 3.1 3.1 4.6 1 1.6 2.4 3.1 2.7 4.8.3 1.7.3 3.3 0 5.2 1.3-1 2.6-2.7 3.2-4.6.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.75 2.79 2.72 4.08 4.45 5.82L200 115z\",\n  seaWaves: \"m 28.83,94.9 c -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.44,-3.6 3.6,-3.6 0.7,0 1.36,0.17 1.93,0.48 -0.33,-2.03 -2.19,-3.56 -4.45,-3.56 -4.24,0 -6.91,3.13 -8.5,5.13 V 115 h 200 v -14.89 c -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.44,-3.6 3.6,-3.6 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -6.6,3.09 -8.19,5.09 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.2,-3.55 -4.46,-3.55 -4.25,0 -7.16,3.17 -8.75,5.18 -1.59,2.01 -4.5,5.18 -8.75,5.18 -2.16,0 -3.91,-1.63 -3.91,-3.64 0,-2.01 1.75,-3.64 3.91,-3.64 0.7,0 1.36,0.17 1.93,0.48 -0.34,-2.01 -2.21,-3.55 -4.46,-3.55 z\",\n  dragonTeeth: \"M 9.4,85 C 6.5,88.1 4.1,92.9 3,98.8 1.9,104.6 2.3,110.4 3.8,115 2.4,113.5 0,106.6 0,109.3 v 5.7 h 200 v -5.7 c -1.1,-2.4 -2,-5.1 -2.6,-8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.9 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.9 -0.7,11.6 0.8,16.2 -1.4,-1.5 -2.8,-3.9 -3.8,-6.1 -1.1,-2.4 -2.3,-6.1 -2.6,-7.7 -0.2,-5.9 0.2,-11.7 1.7,-16.3 -3,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1,-5.8 -0.7,-11.6 0.9,-16.2 -3,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.9,-16.2 -3,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -2.9,-3.1 -5.3,-7.9 -6.4,-13.8 C 63,95.4 63.4,89.6 64.9,85 c -2.9,3.1 -5.3,7.9 -6.3,13.8 -1.1,5.8 -0.7,11.6 0.8,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1,5.8 -0.6,11.6 0.9,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1,5.8 -0.7,11.6 0.9,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 -1.1,-5.8 -0.7,-11.6 0.8,-16.2 -2.9,3.1 -5.3,7.9 -6.4,13.8 -1.1,5.8 -0.7,11.6 0.9,16.2 -3,-3.1 -5.3,-7.9 -6.4,-13.8 C 18.6,95.4 19,89.6 20.5,85 17.6,88.1 15.2,92.9 14.1,98.8 13,104.6 13.4,110.4 14.9,115 12,111.9 9.6,107.1 8.6,101.2 7.5,95.4 7.9,89.6 9.4,85 Z\",\n  firTrees: \"m 3.9,90 -4,7 2,-0.5 L 0,100 v 15 h 200 v -15 l -1.9,-3.5 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4.1,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4.1,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 -4,-7 -4,7 2,-0.5 -4,7 2,-0.5 -4,7 -4,-7 2,0.5 -4,-7 2,0.5 z\",\n  flechy: \"m 0,100 h 85 l 15,-15 15,15 h 85 v 15 H 0 Z\",\n  barby: \"m 0,100 h 85 l 15,15 15,-15 h 85 v 15 H 0 Z\",\n  enclavy: \"M 0,100 H 85 V 85 h 30 v 15 h 85 v 15 H 0 Z\",\n  escartely: \"m 0,100 h 85 v 15 h 30 v -15 h 85 v 15 H 0 Z\",\n  arched: \"m 100,95 c 40,-0.2 100,20 100,20 H 0 c 0,0 60,-19.8 100,-20 z\",\n  archedReversed: \"m 0,85 c 0,0 60,20.2 100,20 40,-0.2 100,-20 100,-20 v 30 H 0 Z\"\n}\n\nexport const templates = {\n  // straight divisions\n  perFess: `<rect x=\"0\" y=\"100\" width=\"200\" height=\"100\"/>`,\n  perPale: `<rect x=\"100\" y=\"0\" width=\"100\" height=\"200\"/>`,\n  perBend: `<polygon points=\"0,0 200,200 0,200\"/>`,\n  perBendSinister: `<polygon points=\"200,0 0,200 200,200\"/>`,\n  perChevron: `<polygon points=\"0,200 100,100 200,200\"/>`,\n  perChevronReversed: `<polygon points=\"0,0 100,100 200,0\"/>`,\n  perCross: `<rect x=\"100\" y=\"0\" width=\"100\" height=\"100\"/><rect x=\"0\" y=\"100\" width=\"100\" height=\"100\"/>`,\n  perPile: `<polygon points=\"0,0 15,0 100,200 185,0 200,0 200,200 0,200\"/>`,\n  perSaltire: `<polygon points=\"0,0 0,200 200,0 200,200\"/>`,\n  gyronny: `<polygon points=\"0,0 200,200 200,100 0,100\"/><polygon points=\"200,0 0,200 100,200 100,0\"/>`,\n  chevronny: `<path d=\"M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z\"/>`,\n  // lined divisions\n  perFessLined: line => `<path d=\"${line}\"/><rect x=\"0\" y=\"115\" width=\"200\" height=\"85\" shape-rendering=\"crispedges\"/>`,\n  perPaleLined: line => `<path d=\"${line}\" transform=\"rotate(-90 100 100)\"/><rect x=\"115\" y=\"0\" width=\"85\" height=\"200\" shape-rendering=\"crispedges\"/>`,\n  perBendLined: line => `<path d=\"${line}\" transform=\"translate(-10 -10) rotate(45 110 110) scale(1.1)\"/><rect x=\"0\" y=\"115\" width=\"200\" height=\"85\" transform=\"translate(-10 -10) rotate(45 110 110) scale(1.1)\" shape-rendering=\"crispedges\"/>`,\n  perBendSinisterLined: line => `<path d=\"${line}\" transform=\"translate(-10 -10) rotate(-45 110 110) scale(1.1)\"/><rect x=\"0\" y=\"115\" width=\"200\" height=\"85\" transform=\"translate(-10 -10) rotate(-45 110 110) scale(1.1)\" shape-rendering=\"crispedges\"/>`,\n  perChevronLined: line => `<rect x=\"15\" y=\"115\" width=\"200\" height=\"200\" transform=\"translate(70 70) rotate(45 100 100)\"/><path d=\"${line}\" transform=\"translate(129 71) rotate(-45 -100 100) scale(-1 1)\"/><path d=\"${line}\" transform=\"translate(71 71) rotate(45 100 100)\"/>`,\n  perChevronReversedLined: line => `<rect x=\"15\" y=\"115\" width=\"200\" height=\"200\" transform=\"translate(-70 -70) rotate(225.001 100 100)\"/><path d=\"${line}\" transform=\"translate(-70.7 -70.7) rotate(225 100 100) scale(1 1)\"/><path d=\"${line}\" transform=\"translate(270.7 -70.7) rotate(-225 -100 100) scale(-1 1)\"/>`,\n  perCrossLined: line => `<rect x=\"100\" y=\"0\" width=\"100\" height=\"92.5\"/><rect x=\"0\" y=\"107.5\" width=\"100\" height=\"92.5\"/><path d=\"${line}\" transform=\"translate(0 50) scale(.5001)\"/><path d=\"${line}\" transform=\"translate(200 150) scale(-.5)\"/>`,\n  perPileLined: line => `<path d=\"${line}\" transform=\"translate(161.66 10) rotate(66.66 -100 100) scale(-1 1)\"/><path d=\"${line}\" transform=\"translate(38.33 10) rotate(-66.66 100 100)\"/><polygon points=\"-2.15,0 84.15,200 115.85,200 202.15,0 200,200 0,200\"/>`,\n  // straight ordinaries\n  fess: `<rect x=\"0\" y=\"75\" width=\"200\" height=\"50\"/>`,\n  pale: `<rect x=\"75\" y=\"0\" width=\"50\" height=\"200\"/>`,\n  bend: `<polygon points=\"35,0 200,165 200,200 165,200 0,35 0,0\"/>`,\n  bendSinister: `<polygon points=\"0,165 165,0 200,0 200,35 35,200 0,200\"/>`,\n  chief: `<rect width=\"200\" height=\"75\"/>`,\n  bar: `<rect x=\"0\" y=\"87.5\" width=\"200\" height=\"25\"/>`,\n  gemelle: `<rect x=\"0\" y=\"76\" width=\"200\" height=\"16\"/><rect x=\"0\" y=\"108\" width=\"200\" height=\"16\"/>`,\n  fessCotissed: `<rect x=\"0\" y=\"67\" width=\"200\" height=\"8\"/><rect x=\"0\" y=\"83\" width=\"200\" height=\"34\"/><rect x=\"0\" y=\"125\" width=\"200\" height=\"8\"/>`,\n  fessDoubleCotissed: `<rect x=\"0\" y=\"60\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"72.5\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"85\" width=\"200\" height=\"30\"/><rect x=\"0\" y=\"120\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"132.5\" width=\"200\" height=\"7.5\"/>`,\n  bendlet: `<polygon points=\"22,0 200,178 200,200 178,200 0,22 0,0\"/>`,\n  bendletSinister: `<polygon points=\"0,178 178,0 200,0 200,22 22,200 0,200\"/>`,\n  terrace: `<rect x=\"0\" y=\"145\" width=\"200\" height=\"55\"/>`,\n  cross: `<polygon points=\"85,0 85,85 0,85 0,115 85,115 85,200 115,200 115,115 200,115 200,85 115,85 115,0\"/>`,\n  crossParted: `<path d=\"M 80 0 L 80 80 L 0 80 L 0 95 L 80 95 L 80 105 L 0 105 L 0 120 L 80 120 L 80 200 L 95 200 L 95 120 L 105 120 L 105 200 L 120 200 L 120 120 L 200 120 L 200 105 L 120 105 L 120 95 L 200 95 L 200 80 L 120 80 L 120 0 L 105 0 L 105 80 L 95 80 L 95 0 L 80 0 z M 95 95 L 105 95 L 105 105 L 95 105 L 95 95 z\"/>`,\n  saltire: `<path d=\"M 0,21 79,100 0,179 0,200 21,200 100,121 179,200 200,200 200,179 121,100 200,21 200,0 179,0 100,79 21,0 0,0 Z\"/>`,\n  saltireParted: `<path d=\"M 7 0 L 89 82 L 82 89 L 0 7 L 0 28 L 72 100 L 0 172 L 0 193 L 82 111 L 89 118 L 7 200 L 28 200 L 100 128 L 172 200 L 193 200 L 111 118 L 118 111 L 200 193 L 200 172 L 128 100 L 200 28 L 200 7 L 118 89 L 111 82 L 193 0 L 172 0 L 100 72 L 28 0 L 7 0 z M 100 93 L 107 100 L 100 107 L 93 100 L 100 93 z\"/>`,\n  mount: `<path d=\"m0,250 a100,100,0,0,1,200,0\"/>`,\n  point: `<path d=\"M0,200 Q80,180 100,135 Q120,180 200,200\"/>`,\n  flaunches: `<path d=\"M0,0 q120,100 0,200 M200,0 q-120,100 0,200\"/>`,\n  gore: `<path d=\"M20,0 Q30,75 100,100 Q80,150 100,200 L0,200 L0,0 Z\"/>`,\n  pall: `<polygon points=\"0,0 30,0 100,70 170,0 200,0 200,30 122,109 122,200 78,200 78,109 0,30\"/>`,\n  pallReversed: `<polygon points=\"0,200 0,170 78,91 78,0 122,0 122,91 200,170 200,200 170,200 100,130 30,200\"/>`,\n  chevron: `<polygon points=\"0,125 100,60 200,125 200,165 100,100 0,165\"/>`,\n  chevronReversed: `<polygon points=\"0,75 100,140 200,75 200,35 100,100 0,35\"/>`,\n  gyron: `<polygon points=\"0,0 100,100 0,100\"/>`,\n  quarter: `<rect width=\"50%\" height=\"50%\"/>`,\n  canton: `<rect width=\"37.5%\" height=\"37.5%\"/>`,\n  pile: `<polygon points=\"70,0 100,175 130,0\"/>`,\n  pileInBend: `<polygon points=\"200,200 200,144 25,25 145,200\"/>`,\n  pileInBendSinister: `<polygon points=\"0,200 0,144 175,25 55,200\"/>`,\n  piles: `<polygon points=\"46,0 75,175 103,0\"/><polygon points=\"95,0 125,175 154,0\"/>`,\n  pilesInPoint: `<path d=\"M15,0 100,200 60,0Z M80,0 100,200 120,0Z M140,0 100,200 185,0Z\"/>`,\n  label: `<path d=\"m 46,54.8 6.6,-15.6 95.1,0 5.9,15.5 -16.8,0.1 4.5,-11.8 L 104,43 l 4.3,11.9 -16.8,0 4.3,-11.8 -37.2,0 4.5,11.8 -16.9,0 z\"/>`,\n  // lined ordinaries\n  fessLined: line => `<path d=\"${line}\" transform=\"translate(0 -25)\"/><path d=\"${line}\" transform=\"translate(0 25) rotate(180 100 100)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" stroke=\"none\"/>`,\n  paleLined: line => `<path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0 -25)\"/><path d=\"${line}\" transform=\"rotate(90 100 100) translate(0 -25)\"/><rect x=\"88\" y=\"0\" width=\"24\" height=\"200\" stroke=\"none\"/>`,\n  bendLined: line => `<path d=\"${line}\" transform=\"translate(8 -18) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-28 18) rotate(225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" transform=\"translate(-10 0) rotate(45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  bendSinisterLined: line => `<path d=\"${line}\" transform=\"translate(-28 -18) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(8 18) rotate(-225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" transform=\"translate(-10 0) rotate(-45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  chiefLined: line => `<path d=\"${line}\" transform=\"translate(0,-25) rotate(180.00001 100 100)\"/><rect width=\"200\" height=\"62\" stroke=\"none\"/>`,\n  barLined: line => `<path d=\"${line}\" transform=\"translate(0,-12.5)\"/><path d=\"${line}\" transform=\"translate(0,12.5) rotate(180.00001 100 100)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" stroke=\"none\"/>`,\n  gemelleLined: line => `<path d=\"${line}\" transform=\"translate(0,-22.5)\"/><path d=\"${line}\" transform=\"translate(0,22.5) rotate(180.00001 100 100)\"/>`,\n  fessCotissedLined: line => `<path d=\"${line}\" transform=\"translate(0 15) scale(1 .5)\"/><path d=\"${line}\" transform=\"translate(0 85) rotate(180 100 50) scale(1 .5)\"/><rect x=\"0\" y=\"80\" width=\"200\" height=\"40\"/>`,\n  fessDoubleCotissedLined: line => `<rect x=\"0\" y=\"85\" width=\"200\" height=\"30\"/><rect x=\"0\" y=\"72.5\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"120\" width=\"200\" height=\"7.5\"/><path d=\"${line}\" transform=\"translate(0 10) scale(1 .5)\"/><path d=\"${line}\" transform=\"translate(0 90) rotate(180 100 50) scale(1 .5)\"/>`,\n  bendletLined: line => `<path d=\"${line}\" transform=\"translate(2 -12) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-22 12) rotate(225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" transform=\"translate(-10 0) rotate(45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  bendletSinisterLined: line => `<path d=\"${line}\" transform=\"translate(-22 -12) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(2 12) rotate(-225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" transform=\"translate(-10 0) rotate(-45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  terraceLined: line => `<path d=\"${line}\" transform=\"translate(0,50)\"/><rect x=\"0\" y=\"164\" width=\"200\" height=\"36\" stroke=\"none\"/>`,\n  crossLined: line => `<path d=\"${line}\" transform=\"translate(0 -14.5)\"/><path d=\"${line}\" transform=\"rotate(180 100 100) translate(0 -14.5)\"/><path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0 -14.5)\"/><path d=\"${line}\" transform=\"rotate(-270 100 100) translate(0 -14.5)\"/>`,\n  crossPartedLined: line => `<path d=\"${line}\" transform=\"translate(0 -20)\"/><path d=\"${line}\" transform=\"rotate(180 100 100) translate(0 -20)\"/><path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0 -20)\"/><path d=\"${line}\" transform=\"rotate(-270 100 100) translate(0 -20)\"/>`,\n  saltireLined: line => `<path d=\"${line}\" transform=\"translate(0 -10) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-20 10) rotate(225 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-20 -10) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(0 10) rotate(-225 110 100) scale(1.1 1)\"/>`,\n  saltirePartedLined: line => `<path d=\"${line}\" transform=\"translate(3 -13) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-23 13) rotate(225 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-23 -13) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(3 13) rotate(-225 110 100) scale(1.1 1)\"/>`\n}\n\nexport const patterns = {\n  semy: (p, c1, c2, size, chargeId) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 200 200\" stroke=\"#000\"><rect width=\"200\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><g fill=\"${c2}\"><use transform=\"translate(-100 -50)\" href=\"#${chargeId}\"/><use transform=\"translate(100 -50)\" href=\"#${chargeId}\"/><use transform=\"translate(0 50)\" href=\"#${chargeId}\"/></g></pattern>`,\n  vair: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 25 50\" stroke=\"#000\" stroke-width=\".2\"><rect width=\"25\" height=\"25\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c2}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m25,25 l-6.25,6.25 v12.5 l-6.25,6.25 l-6.25,-6.25 v-12.5 l-6.25,-6.25 z\" fill=\"${c1}\"/><path d=\"M0 50 h25\" fill=\"none\"/></pattern>`,\n  counterVair: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 25 50\" stroke=\"#000\" stroke-width=\".2\"><rect width=\"25\" height=\"50\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m 12.5,0 6.25,6.25 v 12.5 L 25,25 18.75,31.25 v 12.5 L 12.5,50 6.25,43.75 V 31.25 L 0,25 6.25,18.75 V 6.25 Z\" fill=\"${c1}\"/></pattern>`,\n  vairInPale: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 25 25\"><rect width=\"25\" height=\"25\" fill=\"${c1}\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c2}\" stroke=\"#000\" stroke-width=\".2\"/></pattern>`,\n  vairEnPointe: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 25 50\"><rect width=\"25\" height=\"25\" fill=\"${c2}\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c1}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\" stroke-width=\"1\" stroke=\"${c1}\"/><path d=\"m12.5,25 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c2}\"/></pattern>`,\n  vairAncien: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><path fill=\"${c2}\" stroke=\"none\" d=\"m 0,90 c 10,0 25,-5 25,-40 0,-25 10,-40 25,-40 15,0 25,15 25,40 0,35 15,40 25,40 v 10 H 0 Z\"/><path fill=\"none\" stroke=\"#000\" d=\"M 0,90 c 10,0 25,-5 25,-40 0,-35 15,-40 25,-40 10,0 25,5 25,40 0,35 15,40 25,40 M0,100 h100\"/></pattern>`,\n  potent: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 200 200\" stroke=\"#000\"><rect width=\"200\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><rect y=\"100\" width=\"200\" height=\"100\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m25 50h50v-50h50v50h50v50h-150z\" fill=\"${c2}\"/><path d=\"m25 100v50h50v50h50v-50h50v-50z\" fill=\"${c1}\"/><path d=\"m0 0h200 M0 100h200\" fill=\"none\"/></pattern>`,\n  counterPotent: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 200 200\" stroke=\"none\"><rect width=\"200\" height=\"200\" fill=\"${c1}\"/><path d=\"m25 50h50v-50h50v50h50v100h-50v50h-50v-50h-50v-50z\" fill=\"${c2}\"/><path d=\"m0 0h200 M0 100h200 M0 200h200\"/></pattern>`,\n  potentInPale: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .0625}\" viewBox=\"0 0 200 100\" stroke-width=\"1\"><rect width=\"200\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m25 50h50v-50h50v50h50v50h-150z\" fill=\"${c2}\" stroke=\"#000\"/><path d=\"m0 0h200 M0 100h200\" fill=\"none\" stroke=\"#000\"/></pattern>`,\n  potentEnPointe: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 200 200\" stroke=\"none\"><rect width=\"200\" height=\"200\" fill=\"${c1}\"/><path d=\"m0 0h25v50h50v50h50v-50h50v-50h25v100h-25v50h-50v50h-50v-50h-50v-50h-25v-100\" fill=\"${c2}\"/></pattern>`,\n  ermine: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 200 200\" fill=\"${c2}\"><rect width=\"200\" height=\"200\" fill=\"${c1}\"/><g stroke=\"none\" fill=\"${c2}\"><g transform=\"translate(-100 -50)\"><path d=\"m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z\"/><path d=\"m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z\"/><path d=\"m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z\"/><path d=\"m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z\"/></g><g transform=\"translate(100 -50)\"><path d=\"m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z\"/><path d=\"m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z\"/><path d=\"m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z\"/><path d=\"m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z\"/></g><g transform=\"translate(0 50)\"><path d=\"m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z\"/><path d=\"m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z\"/><path d=\"m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z\"/><path d=\"m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z\"/></g></g></pattern>`,\n  chequy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .25}\" height=\"${size * .25}\" viewBox=\"0 0 50 50\" fill=\"${c2}\"><rect width=\"50\" height=\"50\"/><rect width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"25\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  lozengy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" fill=\"${c1}\"/><polygon points=\"25,0 50,25 25,50 0,25\" fill=\"${c2}\"/></pattern>`,\n  fusily: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 50 100\"><rect width=\"50\" height=\"100\" fill=\"${c2}\"/><polygon points=\"25,0 50,50 25,100 0,50\" fill=\"${c1}\"/></pattern>`,\n  pally: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .5}\" height=\"${size * .125}\" viewBox=\"0 0 100 25\"><rect width=\"100\" height=\"25\" fill=\"${c2}\"/><rect x=\"25\" y=\"0\" width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"75\" y=\"0\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  barry: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .5}\" viewBox=\"0 0 25 100\"><rect width=\"25\" height=\"100\" fill=\"${c2}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"0\" y=\"75\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  gemelles: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 50 50\"><rect width=\"50\" height=\"50\" fill=\"${c1}\"/><rect y=\"5\" width=\"50\" height=\"10\" fill=\"${c2}\"/><rect y=\"40\" width=\"50\" height=\"10\" fill=\"${c2}\"/></pattern>`,\n  bendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .5}\" height=\"${size * .5}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><polygon points=\"0,25 75,100 25,100 0,75\" fill=\"${c2}\"/><polygon points=\"25,0 75,0 100,25 100,75\" fill=\"${c2}\"/></pattern>`,\n  bendySinister: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .5}\" height=\"${size * .5}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c2}\"/><polygon points=\"0,25 25,0 75,0 0,75\" fill=\"${c1}\"/><polygon points=\"25,100 100,25 100,75 75,100\" fill=\"${c1}\"/></pattern>`,\n  palyBendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .6258}\" height=\"${size * .3576}\" viewBox=\"0 0 175 100\"><rect y=\"0\" x=\"0\" width=\"175\" height=\"100\" fill=\"${c2}\"/><g fill=\"${c1}\"><path d=\"m0 20 35 30v50l-35-30z\"/><path d=\"m35 0 35 30v50l-35-30z\"/><path d=\"m70 0h23l12 10v50l-35-30z\"/><path d=\"m70 80 23 20h-23z\"/><path d=\"m105 60 35 30v10h-35z\"/><path d=\"m105 0h35v40l-35-30z\"/><path d=\"m 140,40 35,30 v 30 h -23 l -12,-10z\"/><path d=\"M 175,0 V 20 L 152,0 Z\"/></g></pattern>`,\n  barryBendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .3572}\" height=\"${size * .6251}\" viewBox=\"0 0 100 175\"><rect width=\"100\" height=\"175\" fill=\"${c2}\"/><g fill=\"${c1}\"><path d=\"m20 0 30 35h50l-30-35z\"/><path d=\"m0 35 30 35h50l-30-35z\"/><path d=\"m0 70v23l10 12h50l-30-35z\"/><path d=\"m80 70 20 23v-23z\"/><path d=\"m60 105 30 35h10v-35z\"/><path d=\"m0 105v35h40l-30-35z\"/><path d=\"m 40,140 30,35 h 30 v -23 l -10,-12 z\"/><path d=\"m0 175h20l-20-23z\"/></g></pattern>`,\n  pappellony: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><circle cx=\"0\" cy=\"51\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/><circle cx=\"100\" cy=\"51\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/><circle cx=\"50\" cy=\"1\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/></pattern>`,\n  pappellony2: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"100\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><circle cy=\"50\" r=\"49\" fill=\"${c2}\"/><circle cx=\"100\" cy=\"50\" r=\"49\" fill=\"${c2}\"/><circle cx=\"50\" cy=\"0\" r=\"49\" fill=\"${c1}\"/></pattern>`,\n  scaly: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\" stroke=\"#000\"><rect width=\"100\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><path d=\"M 0,84 C -40,84 -50,49 -50,49 -50,79 -27,99 0,99 27,99 50,79 50,49 50,49 40,84 0,84 Z\" fill=\"${c2}\"/><path d=\"M 100,84 C 60,84 50,49 50,49 c 0,30 23,50 50,50 27,0 50,-20 50,-50 0,0 -10,35 -50,35 z\" fill=\"${c2}\"/><path d=\"M 50,35 C 10,35 0,0 0,0 0,30 23,50 50,50 77,50 100,30 100,0 100,0 90,35 50,35 Z\" fill=\"${c2}\"/></pattern>`,\n  plumetty: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .25}\" viewBox=\"0 0 50 100\" stroke-width=\".8\"><rect width=\"50\" height=\"100\" fill=\"${c2}\" stroke=\"none\"/><path fill=\"${c1}\" stroke=\"none\" d=\"M 25,100 C 44,88 49.5,74 50,50 33.5,40 25,25 25,4e-7 25,25 16.5,40 0,50 0.5,74 6,88 25,100 Z\"/><path fill=\"none\" stroke=\"${c2}\" d=\"m17 40c5.363 2.692 10.7 2.641 16 0m-19 7c7.448 4.105 14.78 3.894 22 0m-27 7c6-2 10.75 3.003 16 3 5.412-0.0031 10-5 16-3m-35 9c4-7 12 3 19 2 7 1 15-9 19-2m-35 6c6-2 11 3 16 3s10-5 16-3m-30 7c8 0 8 3 14 3s7-3 14-3m-25 8c7.385 4.048 14.72 3.951 22 0m-19 8c5.455 2.766 10.78 2.566 16 0m-8 6v-78\"/><g fill=\"none\" stroke=\"${c1}\"><path d=\"m42 90c2.678 1.344 5.337 2.004 8 2m-11 5c3.686 2.032 7.344 3.006 10.97 3m0.0261-1.2e-4v-30\"/><path d=\"m0 92c2.689 0.0045 5.328-0.6687 8-2m-8 10c3.709-0.0033 7.348-1.031 11-3m-11 3v-30\"/><path d=\"m0 7c5.412-0.0031 10-5 16-3m-16 11c7 1 15-9 19-2m-19 9c5 0 10-5 16-3m-16 10c6 0 7-3 14-3m-14.02 11c3.685-0.002185 7.357-1.014 11.02-3m-11 10c2.694-0.01117 5.358-0.7036 7.996-2m-8 6v-48\"/><path d=\"m34 4c6-2 10.75 3.003 16 3m-19 6c4-7 12 3 19 2m-16 4c6-2 11 3 16 3m-14 4c8 0 8 3 14 3m-11 5c3.641 1.996 7.383 2.985 11 3m-8 5c2.762 1.401 5.303 2.154 8.002 2.112m-0.00154 3.888v-48\"/></g></pattern>`,\n  masoned: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .125}\" height=\"${size * .125}\" viewBox=\"0 0 100 100\" fill=\"none\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><rect width=\"100\" height=\"50\" stroke=\"${c2}\" stroke-width=\"4\"/><line x1=\"50\" y1=\"50\" x2=\"50\" y2=\"100\" stroke=\"${c2}\" stroke-width=\"5\"/></pattern>`,\n  fretty: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .2}\" height=\"${size * .2}\" viewBox=\"0 0 140 140\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"140\" height=\"140\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m-15 5 150 150 20-20-150-150z\" fill=\"${c2}\"/><path d=\"m10 150 140-140-20-20-140 140z\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m0 120 20 20 120-120-20-20z\" fill=\"none\"/></pattern>`,\n  grillage: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .25}\" height=\"${size * .25}\" viewBox=\"0 0 200 200\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"200\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m205 65v-30h-210v30z\" fill=\"${c2}\"/><path d=\"m65-5h-30v210h30z\" fill=\"${c2}\"/><path d=\"m205 165v-30h-210v30z\" fill=\"${c2}\"/><path d=\"m165,65h-30v140h30z\" fill=\"${c2}\"/><path d=\"m 165,-5h-30v40h30z\" fill=\"${c2}\"/></pattern>`,\n  chainy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .167}\" height=\"${size * .167}\" viewBox=\"0 0 200 200\" stroke=\"#000\" stroke-width=\"2\"><rect x=\"-6.691e-6\" width=\"200\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m155-5-20-20-160 160 20 20z\" fill=\"${c2}\"/><path d=\"m45 205 160-160 20 20-160 160z\" fill=\"${c2}\"/><path d=\"m45-5 20-20 160 160-20 20-160-160\" fill=\"${c2}\"/><path d=\"m-5 45-20 20 160 160 20-20-160-160\" fill=\"${c2}\"/></pattern>`,\n  maily: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .167}\" height=\"${size * .167}\" viewBox=\"0 0 200 200\" stroke=\"#000\" stroke-width=\"1.2\"><path fill=\"${c1}\" stroke=\"none\" d=\"M0 0h200v200H0z\"/><g fill=\"${c2}\"><path d=\"m80-2c-5.27e-4 2.403-0.1094 6.806-0.3262 9.199 5.014-1.109 10.1-1.768 15.19-2.059 0.09325-1.712 0.1401-5.426 0.1406-7.141z\"/><path d=\"m100 5a95 95 0 0 0-95 95 95 95 0 0 0 95 95 95 95 0 0 0 95-95 95 95 0 0 0-95-95zm0 15a80 80 0 0 1 80 80 80 80 0 0 1-80 80 80 80 0 0 1-80-80 80 80 0 0 1 80-80z\"/><path d=\"m92.8 20.33c-5.562 0.4859-11.04 1.603-16.34 3.217-7.793 25.31-27.61 45.12-52.91 52.91-5.321 1.638-10.8 2.716-16.34 3.217-2.394 0.2168-6.796 0.3256-9.199 0.3262v15c1.714-4.79e-4 5.429-0.04737 7.141-0.1406 5.109-0.2761 10.19-0.9646 15.19-2.059 36.24-7.937 64.54-36.24 72.47-72.47z\"/><path d=\"m202 80c-2.403-5.31e-4 -6.806-0.1094-9.199-0.3262 1.109 5.014 1.768 10.1 2.059 15.19 1.712 0.09326 5.426 0.1401 7.141 0.1406z\"/><path d=\"m179.7 92.8c-0.4859-5.562-1.603-11.04-3.217-16.34-25.31-7.793-45.12-27.61-52.91-52.91-1.638-5.321-2.716-10.8-3.217-16.34-0.2168-2.394-0.3256-6.796-0.3262-9.199h-15c4.8e-4 1.714 0.0474 5.429 0.1406 7.141 0.2761 5.109 0.9646 10.19 2.059 15.19 7.937 36.24 36.24 64.54 72.47 72.47z\"/><path d=\"m120 202c5.3e-4 -2.403 0.1094-6.806 0.3262-9.199-5.014 1.109-10.1 1.768-15.19 2.059-0.0933 1.712-0.1402 5.426-0.1406 7.141z\"/><path d=\"m107.2 179.7c5.562-0.4859 11.04-1.603 16.34-3.217 7.793-25.31 27.61-45.12 52.91-52.91 5.321-1.638 10.8-2.716 16.34-3.217 2.394-0.2168 6.796-0.3256 9.199-0.3262v-15c-1.714 4.7e-4 -5.429 0.0474-7.141 0.1406-5.109 0.2761-10.19 0.9646-15.19 2.059-36.24 7.937-64.54 36.24-72.47 72.47z\"/><path d=\"m -2,120 c 2.403,5.4e-4 6.806,0.1094 9.199,0.3262 -1.109,-5.014 -1.768,-10.1 -2.059,-15.19 -1.712,-0.0933 -5.426,-0.1402 -7.141,-0.1406 z\"/><path d=\"m 20.33,107.2 c 0.4859,5.562 1.603,11.04 3.217,16.34 25.31,7.793 45.12,27.61 52.91,52.91 1.638,5.321 2.716,10.8 3.217,16.34 0.2168,2.394 0.3256,6.796 0.3262,9.199 L 95,202 c -4.8e-4,-1.714 -0.0472,-5.44 -0.1404,-7.152 -0.2761,-5.109 -0.9646,-10.19 -2.059,-15.19 -7.937,-36.24 -36.24,-64.54 -72.47,-72.47 z\"/></g></pattern>`,\n  honeycombed: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * .143}\" height=\"${size * .24514}\" viewBox=\"0 0 70 120\"><rect width=\"70\" height=\"120\" fill=\"${c1}\"/><path d=\"M 70,0 V 20 L 35,40 m 35,80 V 100 L 35,80 M 0,120 V 100 L 35,80 V 40 L 0,20 V 0\" stroke=\"${c2}\" fill=\"none\" stroke-width=\"3\"/></pattern>`\n}\n","import {get} from \"svelte/store\";\nimport {templates, lines, patterns} from \"data/templates\";\nimport {shieldPaths} from \"data/shields\";\nimport {colors, shield} from \"data/stores\";\n\nconst chargesGroup = document.getElementById(\"charges\");\nconst colorsData = get(colors);\nconst loadedCharges = {};\n\nexport const getTemplate = (id, line) => {\n  const linedId = id + \"Lined\";\n  if (!line || line === \"straight\" || !templates[linedId]) return templates[id];\n  const linePath = lines[line];\n  return templates[linedId](linePath);\n};\n\nexport const addPattern = patternId => {\n  if (document.getElementById(patternId)) return; // already added;\n\n  const [pattern, t1, t2, size] = patternId.split(\"-\");\n  const charge = semy(patternId);\n  if (charge) addCharge(charge);\n\n  const html = patterns[charge ? \"semy\" : pattern](patternId, clr(t1), clr(t2), getSizeMod(size), charge);\n  document.getElementById(\"patterns\").insertAdjacentHTML(\"beforeend\", html);\n};\n\nfunction semy(string) {\n  const isSemy = /^semy/.test(string);\n  if (!isSemy) return false;\n  return string.match(/semy_of_(.*?)-/)[1];\n}\n\nexport function addCharge(charge) {\n  charge.slice(0, 12) === \"inescutcheon\" ? addInescutcheon(charge) : fetchCharge(charge);\n}\n\nfunction addInescutcheon(charge) {\n  const shieldName = charge.length > 12 ? charge.slice(12, 13).toLowerCase() + charge.slice(13) : get(shield);\n  const id = charge.length > 12 ? charge : \"inescutcheon\" + shieldName.charAt(0).toUpperCase() + shieldName.slice(1);\n\n  if (loadedCharges[id]) return; // already added\n  loadedCharges[id] = true;\n\n  const licenseAttrs = [\"noldor\", \"gondor\", \"easterling\", \"ironHills\", \"urukHai\", \"moriaOrc\"].includes(shieldName)\n    ? `author=\"Weta Workshop\" source=\"www.wetanz.com\" license=\"https://en.wikipedia.org/wiki/Fair_use\"`\n    : `author=Azgaar license=\"https://creativecommons.org/publicdomain/zero/1.0\"`;\n  const g = `<g id=${id} ${licenseAttrs}><path transform=\"translate(67 67) scale(.33)\" d=\"${shieldPaths[shieldName]}\"/></g>`;\n  chargesGroup.insertAdjacentHTML(\"beforeend\", g);\n}\n\nfunction fetchCharge(charge) {\n  if (loadedCharges[charge]) return; // already added\n  loadedCharges[charge] = true;\n\n  fetch(\"charges/\" + charge + \".svg\")\n    .then(res => {\n      if (res.ok) return res.text();\n      else throw new Error(\"Cannot fetch charge\");\n    })\n    .then(text => {\n      const el = document.createElement(\"html\");\n      el.innerHTML = text;\n      const g = el.querySelector(\"g\");\n      const metadata = el.getElementsByTagName(\"metadata\")[0];\n\n      if (metadata) {\n        const author = metadata.getAttribute(\"author\");\n        const source = metadata.getAttribute(\"source\");\n        const license = metadata.getAttribute(\"license\");\n        if (author) g.setAttribute(\"author\", author);\n        if (source) g.setAttribute(\"source\", source);\n        if (license) g.setAttribute(\"license\", license);\n      }\n\n      chargesGroup.insertAdjacentHTML(\"beforeend\", g.outerHTML);\n    })\n    .catch(err => console.error(err));\n}\n\nfunction clr(tincture) {\n  if (!colorsData[tincture]) throw new error(`Tincture ${tincture} is not available in ${tincture}`);\n  return colorsData[tincture];\n}\n\nfunction getSizeMod(size) {\n  if (size === \"small\") return 0.8;\n  if (size === \"smaller\") return 0.5;\n  if (size === \"smallest\") return 0.25;\n  if (size === \"big\") return 1.6;\n  if (size === \"bigger\") return 2;\n  return 1;\n}\n","<script>\n  import {drag, transform} from \"scripts/drag\";\n  import {getTemplate} from \"scripts/getters\";\n  export let coa, ordinary, i, shieldPath, t, type;\n\n  let stroke, width;\n  $: {\n    stroke = ordinary.stroke || \"none\";\n    width = ordinary.strokeWidth || 1;\n  }\n\n  function addDrag(event) {\n    if (type !== \"Edit\") return;\n    drag(event, ordinary, coa);\n  }\n</script>\n\n{#if ordinary.ordinary === \"bordure\"}\n  <g class=\"ordinary\" {i} transform={transform(ordinary)} on:mousedown={addDrag}>\n    <path d={shieldPath} fill=\"none\" stroke={t} stroke-width=\"16.7%\" />\n  </g>\n{:else if ordinary.ordinary === \"orle\"}\n  <g class=\"ordinary\" {i} transform={transform(ordinary)} on:mousedown={addDrag}>\n    <path d={shieldPath} fill=\"none\" stroke={t} stroke-width=\"5%\" transform=\"translate(15 15) scale(.85)\" />\n  </g>\n{:else}\n  <g class=\"ordinary\" {i} transform={transform(ordinary)} fill={t} {stroke} stroke-width={width} on:mousedown={addDrag}>\n    {@html getTemplate(ordinary.ordinary, ordinary.line)}\n  </g>\n{/if}\n","<script>\n  import {shieldPositions, shieldSize} from \"data/shields\";\n  import {drag, transform} from \"scripts/drag\";\n  export let coa, charge, i, shield, t, type;\n  let chargeId, positions, sizeModifier, stroke;\n\n  $: {\n    positions = shieldPositions[shield] || shieldPositions.spanish;\n    sizeModifier = shieldSize[shield] || 1;\n    stroke = charge.stroke || \"#000\";\n\n    chargeId = charge.charge;\n    // select shield shape if charge is just 'inescutcheon'\n    if (chargeId === \"inescutcheon\") chargeId = \"inescutcheon\" + shield.charAt(0).toUpperCase() + shield.slice(1);\n  }\n\n  function round(n) {\n    return Math.round(n * 100) / 100;\n  }\n\n  function getElTransform(c, p) {\n    const s = round((c.size || 1) * sizeModifier);\n    const sx = c.sinister ? -s : s;\n    const sy = c.reversed ? -s : s;\n    let [x, y] = positions[p];\n    x = round(x - 100 * (sx - 1));\n    y = round(y - 100 * (sy - 1));\n\n    const translate = x || y ? `translate(${x} ${y})` : null;\n    const scale = sx !== 1 || sy !== 1 ? (sx === sy ? `scale(${sx})` : `scale(${sx} ${sy})`) : null;\n    return translate && scale ? `${translate} ${scale}` : translate ? translate : scale ? scale : null;\n  }\n\n  function addDrag(event) {\n    if (type !== \"Edit\") return;\n    drag(event, charge, coa);\n  }\n</script>\n\n<g class=\"charge\" {i} charge={chargeId} fill={t} transform={transform(charge)} {stroke} on:mousedown={addDrag}>\n  {#each [...new Set(charge.p)].filter(p => positions[p]) as p}\n    <use xlink:href=\"#{chargeId}\" transform={getElTransform(charge, p)} />\n  {/each}\n</g>\n","<script>\n  import Ordinary from \"./Ordinary.svelte\";\n  import Charge from \"./Charge.svelte\";\n  import {charges as chargesData, ordinaries as ordinariesData} from \"data/dataModel\";\n  import {shield, colors, grad, diaper} from \"data/stores\";\n  import {shieldPaths} from \"data/shields\";\n  import {getTemplate, addPattern, addCharge} from \"scripts/getters\";\n  export let coa, border, borderWidth, type;\n\n  const id = coa.seed || Math.floor(Math.random() * 1e9);\n  const {division, ordinaries = [], charges = []} = coa;\n  const ordinariesRegular = ordinaries.filter(o => !o.above);\n  const ordinariesAboveCharges = ordinaries.filter(o => o.above);\n  charges.forEach(charge => addCharge(charge.charge));\n\n  let shieldPath, coaDiaper, diaperType, overFill;\n  $: {\n    shieldPath = shieldPaths[$shield];\n    coaDiaper = type === \"menuItem\" ? null : coa.diaper || $diaper;\n    diaperType = getDieperType();\n    overFill = !$grad || $grad === \"no\" ? \"none\" : `url(#${$grad})`;\n  }\n\n  function getDieperType() {\n    if (!coaDiaper || coaDiaper === \"no\") return null;\n    const f = !coa.t1.includes(\"-\");\n    const d = !division?.t.includes(\"-\");\n    if (f && d) return \"overall\";\n    if (f) return \"field\";\n    if (d) return \"division\";\n    return null;\n  }\n\n  // if charge doesn't support pattern, return basic tincture\n  function counterChange(t, charge) {\n    if (!/-/.test(t)) return clr(t); // not a pattern\n    if (chargesData.patternable.includes(charge)) return clr(t); // patternable\n    if (ordinariesData.patternable.includes(charge)) return clr(t); // patternable\n    return clr(t.split(\"-\")[1]); // not patternable, return basic color\n  }\n\n  // get color or link to pattern\n  function clr(tincture) {\n    if ($colors[tincture]) return $colors[tincture];\n    addPattern(tincture);\n    return \"url(#\" + tincture + \")\";\n  }\n</script>\n\n<defs>\n  <clipPath id=\"shield_{id}\">\n    <path d={shieldPath} />\n  </clipPath>\n  {#if division && division.division !== \"no\"}\n    <clipPath id=\"division_{id}\">\n      {@html getTemplate(division.division, division.line)}\n    </clipPath>\n  {/if}\n</defs>\n\n<g clip-path=\"url(#shield_{id})\">\n  <!-- Field -->\n  <rect class=\"field\" x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill={clr(coa.t1)} />\n\n  {#if division && division.division !== \"no\"}\n    <!-- In field part -->\n    {#each ordinariesRegular as ordinary, i}\n      {#if ordinary.divided === \"field\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n      {:else if ordinary.divided === \"counter\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(division.t, ordinary.ordinary)} {type} />\n      {/if}\n    {/each}\n\n    {#if diaperType === \"field\"}\n      <rect class=\"diaper\" x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill=\"url(#{coaDiaper})\" style=\"pointer-events: none\" />\n    {/if}\n\n    {#each charges as charge, i}\n      {#if charge.divided === \"field\"}\n        <Charge {coa} {charge} {i} shield={$shield} t={clr(charge.t)} {type} />\n      {:else if charge.divided === \"counter\"}\n        <Charge {coa} {charge} {i} shield={$shield} t={counterChange(division.t, charge.charge)} {type} />\n      {/if}\n    {/each}\n\n    {#each ordinariesAboveCharges as ordinary, i}\n      {#if ordinary.divided === \"field\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n      {:else if ordinary.divided === \"counter\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(division.t, ordinary.ordinary)} {type} />\n      {/if}\n    {/each}\n\n    <!-- In division part -->\n    <g class=\"division\" clip-path=\"url(#division_{id})\">\n      <rect x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill={clr(division.t)} />\n\n      {#each ordinariesRegular as ordinary, i}\n        {#if ordinary.divided === \"division\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n        {:else if ordinary.divided === \"counter\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(coa.t1, ordinary.ordinary)} {type} />\n        {/if}\n      {/each}\n\n      {#if diaperType === \"division\"}\n        <rect class=\"diaper\" x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill=\"url(#{coaDiaper})\" style=\"pointer-events: none\" />\n      {/if}\n\n      {#each charges as charge, i}\n        {#if charge.divided === \"division\"}\n          <Charge {coa} {charge} {i} shield={$shield} t={clr(charge.t)} {type} />\n        {:else if charge.divided === \"counter\"}\n          <Charge {coa} {charge} {i} shield={$shield} t={counterChange(coa.t1, charge.charge)} {type} />\n        {/if}\n      {/each}\n\n      {#each ordinariesAboveCharges as ordinary, i}\n        {#if ordinary.divided === \"division\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n        {:else if ordinary.divided === \"counter\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={counterChange(coa.t1, ordinary.ordinary)} {type} />\n        {/if}\n      {/each}\n    </g>\n  {/if}\n\n  <!-- Overall -->\n  {#each ordinariesRegular as ordinary, i}\n    {#if !ordinary.divided}\n      <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n    {/if}\n  {/each}\n\n  {#if diaperType === \"overall\"}\n    <rect class=\"diaper\" x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill=\"url(#{coaDiaper})\" style=\"pointer-events: none\" />\n  {/if}\n\n  {#each charges as charge, i}\n    {#if !charge.divided || !division}\n      <Charge {coa} {charge} {i} shield={$shield} t={clr(charge.t)} {type} />\n    {/if}\n  {/each}\n\n  {#each ordinariesAboveCharges as ordinary, i}\n    {#if !ordinary.divided}\n      <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n    {/if}\n  {/each}\n</g>\n\n<path class=\"grad\" d={shieldPath} fill={overFill} stroke={border} stroke-width={borderWidth} style=\"pointer-events: none\" />\n","<script>\n  import {state, grid, showGrid} from \"data/stores\";\n  import {fade} from \"svelte/transition\";\n\n  $: transform = $state.transform || null;\n</script>\n\n{#if $showGrid}\n  <pattern id=\"gridPattern\" width={$grid} height={$grid} patternUnits=\"userSpaceOnUse\">\n    <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"#000\" opacity=\".2\" stroke-width=\".5\" />\n  </pattern>\n  <g id=\"grid\" style=\"pointer-events: none\" {transform} transform-origin=\"center\" transition:fade|local>\n    <rect x=\"-200\" y=\"-200\" width=\"400\" height=\"400\" fill=\"url(#gridPattern)\" />\n  </g>\n{/if}\n","<script>\n  import {state, shield} from \"data/stores\";\n  import {shieldPositions} from \"data/shields\";\n  import {fade} from \"svelte/transition\";\n\n  // on shield change\n  $: points = shieldPositions[$shield] ? Object.entries(shieldPositions[$shield]) : Object.entries(shieldPositions.spanish);\n\n  function getClass(p) {\n    if (\"abcdefghi\".includes(p)) return \"green\";\n    if (\"ABCDEFGHIJKL\".includes(p)) return \"red\";\n    if (\"zy\".includes(p)) return \"yellow\";\n    return \"blue\";\n  }\n</script>\n\n{#if $state.positions}\n  <g transform={$state.transform || null} transform-origin=\"center\">\n    <g id=\"positions\" transform=\"translate(100, 100)\" transition:fade|local>\n      {#each points as p}\n        <g id={p[0]} class={getClass(p[0])}>\n          <circle cx={p[1][0]} cy={p[1][1]} r=\"3\" class:active={$state.positions.includes(p[0])} />\n          <text style=\"dominant-baseline: central\" x={p[1][0]} y={p[1][1]} class:active={$state.positions.includes(p[0])}>{p[0]}</text>\n        </g>\n      {/each}\n    </g>\n  </g>\n{/if}\n\n<style>\n  circle {\n    opacity: 0.6;\n  }\n\n  circle.active {\n    opacity: 1;\n  }\n\n  text {\n    font-family: monospace;\n    text-anchor: middle;\n    font-size: 5px;\n    fill: #ddd;\n  }\n\n  text.active {\n    fill: #fff;\n  }\n\n  .green {\n    fill: rgb(12, 80, 12);\n  }\n\n  .blue {\n    fill: rgb(12, 12, 80);\n  }\n\n  .red {\n    fill: rgb(80, 12, 12);\n  }\n\n  .yellow {\n    fill: rgb(84, 84, 0);\n  }\n</style>\n","<script>\n  import Shield from \"./Shield.svelte\";\n  import Grid from \"./../editor/Grid.svelte\";\n  import Positions from \"./../editor/Positions.svelte\";\n  import {shield, border, borderWidth} from \"data/stores\";\n  import {shieldBox} from \"data/shields\";\n  export let coa, i, w, h;\n  $: viewBox = shieldBox[$shield] || \"0 0 200 200\";\n</script>\n\n<svg\n  id=\"coa{i}\"\n  class=\"coa\"\n  width={w}\n  height={h}\n  {viewBox}\n  xmlns=\"http://www.w3.org/2000/svg\"\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n  xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n>\n  <Shield {coa} border={$border} borderWidth={$borderWidth} type={i} />\n  {#if i === \"Edit\"}\n    <Grid />\n    <Positions />\n  {/if}\n</svg>\n","import {get} from \"svelte/store\";\nimport {aleaPRNG} from \"./alea\";\nimport {rw, P} from \"./utils\";\nimport {charges, divisions, lines, ordinaries, positions, patternSize} from \"data/dataModel\";\nimport {tinctures} from \"data/stores\";\n\nconst createConfig = function () {\n  return {\n    usedPattern: null,\n    usedTinctures: [],\n    tData: get(tinctures),\n    divisioned: null,\n    ordinary: null\n  };\n};\n\n// main generation routine\nexport const generate = function (seed = Math.floor(Math.random() * 1e9)) {\n  Math.random = aleaPRNG(seed);\n\n  const config = createConfig();\n  const coa = {seed, t1: getTincture(config, \"field\")};\n\n  let charge = P(config.usedPattern ? 0.5 : 0.93) ? true : false; // 80% for charge\n  const linedOrdinary = (charge && P(0.3)) || P(0.5) ? rw(ordinaries.lined) : null;\n  config.ordinary = (!charge && P(0.65)) || P(0.3) ? (linedOrdinary ? linedOrdinary : rw(ordinaries.straight)) : null; // 36% for ordinary\n\n  const rareDivided = [\"chief\", \"terrace\", \"chevron\", \"quarter\", \"flaunches\"].includes(config.ordinary);\n  config.divisioned = rareDivided ? P(0.03) : charge && config.ordinary ? P(0.03) : charge ? P(0.3) : config.ordinary ? P(0.7) : P(0.995); // 33% for division\n  const division = config.divisioned ? rw(divisions.variants) : null;\n\n  if (division) {\n    const t = getTincture(config, \"division\", config.usedTinctures, P(0.98) ? coa.t1 : null);\n    coa.division = {division, t};\n    if (divisions[division]) coa.division.line = config.usedPattern || (config.ordinary && P(0.7)) ? \"straight\" : rw(divisions[division]);\n  }\n\n  if (config.ordinary) {\n    coa.ordinaries = [\n      {\n        ordinary: config.ordinary,\n        t: getTincture(config, \"charge\", config.usedTinctures, coa.t1)\n      }\n    ];\n    if (linedOrdinary) coa.ordinaries[0].line = config.usedPattern || (division && P(0.7)) ? \"straight\" : rw(lines);\n    if (division && !charge && !config.usedPattern && P(0.5) && config.ordinary !== \"bordure\" && config.ordinary !== \"orle\") {\n      if (P(0.8)) coa.ordinaries[0].divided = \"counter\";\n      // 40%\n      else if (P(0.6)) coa.ordinaries[0].divided = \"field\";\n      // 6%\n      else coa.ordinaries[0].divided = \"division\"; // 4%\n    }\n  }\n\n  if (charge) {\n    charge = selectCharge(config);\n\n    let p = \"e\",\n      t = \"gules\";\n\n    const ordinaryT = coa.ordinaries ? coa.ordinaries[0].t : null;\n    if (positions.ordinariesOn[config.ordinary] && P(0.8)) {\n      // place charge over config.ordinary (use tincture of field type)\n      p = rw(positions.ordinariesOn[config.ordinary]);\n      while (charges.natural[charge] === ordinaryT) charge = selectCharge(config);\n      t = !config.usedPattern && P(0.3) ? coa.t1 : getTincture(config, \"charge\", [], ordinaryT);\n    } else if (positions.ordinariesOff[config.ordinary] && P(0.95)) {\n      // place charge out of config.ordinary (use tincture of ordinary type)\n      p = rw(positions.ordinariesOff[config.ordinary]);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge(config);\n      t = !config.usedPattern && P(0.3) ? ordinaryT : getTincture(config, \"charge\", config.usedTinctures, coa.t1);\n    } else if (positions.divisions[division]) {\n      // place charge in fields made by division\n      p = rw(positions.divisions[division]);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge(config);\n      t = getTincture(config, \"charge\", ordinaryT ? config.usedTinctures.concat(ordinaryT) : config.usedTinctures, coa.t1);\n    } else if (positions[charge]) {\n      // place charge-suitable position\n      p = rw(positions[charge]);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge(config);\n      t = getTincture(config, \"charge\", config.usedTinctures, coa.t1);\n    } else {\n      // place in standard position (use new tincture)\n      p = config.usedPattern ? \"e\" : charges.conventional[charge] ? rw(positions.conventional) : rw(positions.complex);\n      while (charges.natural[charge] === coa.t1) charge = selectCharge(config);\n      t = getTincture(config, \"charge\", config.usedTinctures.concat(ordinaryT), coa.t1);\n    }\n\n    if (charges.natural[charge]) t = charges.natural[charge]; // natural tincture\n    coa.charges = [{charge, t, p}];\n\n    if (p === \"ABCDEFGHIKL\" && P(0.95)) {\n      // add central charge if charge is in bordure\n      coa.charges[0].charge = rw(charges.conventional);\n      const charge = selectCharge(charges.single);\n      const t = getTincture(config, \"charge\", config.usedTinctures, coa.t1);\n      coa.charges.push({charge, t, p: \"e\"});\n    } else if (P(0.8) && charge === \"inescutcheon\") {\n      // add charge to inescutcheon\n      const charge = selectCharge(charges.types);\n      const t2 = getTincture(config, \"charge\", [], t);\n      coa.charges.push({charge, t: t2, p, size: 0.5});\n    } else if (division && !config.ordinary) {\n      const allowCounter = !config.usedPattern && (!coa.line || coa.line === \"straight\");\n\n      // dimidiation: second charge at division basic positons\n      if (P(0.3) && [\"perPale\", \"perFess\"].includes(division) && coa.line === \"straight\") {\n        coa.charges[0].divided = \"field\";\n        if (P(0.95)) {\n          const p2 = p === \"e\" || P(0.5) ? \"e\" : rw(positions.divisions[division]);\n          const charge = selectCharge(charges.single);\n          const t = getTincture(config, \"charge\", config.usedTinctures, coa.division.t);\n          coa.charges.push({charge, t, p: p2, divided: \"division\"});\n        }\n      } else if (allowCounter && P(0.4)) coa.charges[0].divided = \"counter\";\n      // counterchanged, 40%\n      else if ([\"perPale\", \"perFess\", \"perBend\", \"perBendSinister\"].includes(division) && P(0.8)) {\n        // place 2 charges in division standard positions\n        const [p1, p2] = division === \"perPale\" ? [\"p\", \"q\"] : division === \"perFess\" ? [\"k\", \"n\"] : division === \"perBend\" ? [\"l\", \"m\"] : [\"j\", \"o\"]; // perBendSinister\n        coa.charges[0].p = p1;\n\n        const charge = selectCharge(charges.single);\n        const t = getTincture(config, \"charge\", config.usedTinctures, coa.division.t);\n        coa.charges.push({charge, t, p: p2});\n      } else if ([\"perCross\", \"perSaltire\"].includes(division) && P(0.5)) {\n        // place 4 charges in division standard positions\n        const [p1, p2, p3, p4] = division === \"perCross\" ? [\"j\", \"l\", \"m\", \"o\"] : [\"b\", \"d\", \"f\", \"h\"];\n        coa.charges[0].p = p1;\n\n        const c2 = selectCharge(charges.single);\n        const t2 = getTincture(config, \"charge\", [], coa.division.t);\n\n        const c3 = selectCharge(charges.single);\n        const t3 = getTincture(config, \"charge\", [], coa.division.t);\n\n        const c4 = selectCharge(charges.single);\n        const t4 = getTincture(config, \"charge\", [], coa.t1);\n        coa.charges.push({charge: c2, t: t2, p: p2}, {charge: c3, t: t3, p: p3}, {charge: c4, t: t4, p: p4});\n      } else if (allowCounter && p.length > 1) coa.charges[0].divided = \"counter\"; // counterchanged, 40%\n    }\n\n    coa.charges.forEach(c => defineChargeAttributes(config, division, c));\n  }\n\n  return coa;\n};\n\nexport const getSize = (p, o = null, d = null) => {\n  if (p === \"e\" && (o === \"bordure\" || o === \"orle\")) return 1.1;\n  if (p === \"e\") return 1.5;\n  if (p === \"jln\" || p === \"jlh\") return 0.7;\n  if (p === \"abcpqh\" || p === \"ez\" || p === \"be\") return 0.5;\n  if ([\"a\", \"b\", \"c\", \"d\", \"f\", \"g\", \"h\", \"i\", \"bh\", \"df\"].includes(p)) return 0.5;\n  if ([\"j\", \"l\", \"m\", \"o\", \"jlmo\"].includes(p) && d === \"perCross\") return 0.6;\n  if (p.length > 10) return 0.18; // >10 (bordure)\n  if (p.length > 7) return 0.3; // 8, 9, 10\n  if (p.length > 4) return 0.4; // 5, 6, 7\n  if (p.length > 2) return 0.5; // 3, 4\n  return 0.7; // 1, 2\n};\n\nfunction defineChargeAttributes(config, division, c) {\n  // define size\n  c.size = (c.size || 1) * getSize(c.p, config.ordinary, division);\n\n  // clean-up position\n  c.p = [...new Set(c.p)].join(\"\");\n\n  // define orientation\n  if (P(0.02) && charges.sinister.includes(c.charge)) c.sinister = 1;\n  if (P(0.02) && charges.reversed.includes(c.charge)) c.reversed = 1;\n}\n\nfunction selectCharge(config, set) {\n  const type = set ? rw(set) : config.ordinary || config.divisioned ? rw(charges.types) : rw(charges.single);\n  return type === \"inescutcheon\" ? \"inescutcheon\" : rw(charges[type]);\n}\n\nfunction replaceTincture(config, t, n) {\n  const type = getType(config, t);\n  while (!n || n === t) {\n    n = rw(config.tData[type]);\n  }\n  return n;\n}\n\nfunction getType(config, t) {\n  const tincture = t.includes(\"-\") ? t.split(\"-\")[1] : t;\n  if (Object.keys(config.tData.metals).includes(tincture)) return \"metals\";\n  if (Object.keys(config.tData.colours).includes(tincture)) return \"colours\";\n  if (Object.keys(config.tData.stains).includes(tincture)) return \"stains\";\n  debugger; // exception\n}\n\nfunction definePattern(config, pattern, element) {\n  let t1 = null,\n    t2 = null;\n\n  // apply standard tinctures\n  if (P(0.5) && (pattern.includes(\"air\") || pattern.includes(\"otent\"))) {\n    t1 = \"argent\";\n    t2 = \"azure\";\n  } else if (pattern === \"ermine\") {\n    if (P(0.7)) {\n      t1 = \"argent\";\n      t2 = \"sable\";\n    } else if (P(0.3)) {\n      t1 = \"sable\";\n      t2 = \"argent\";\n    } else if (P(0.1)) {\n      t1 = \"or\";\n      t2 = \"sable\";\n    } else if (P(0.1)) {\n      t1 = \"sable\";\n      t2 = \"or\";\n    } else if (P(0.1)) {\n      t1 = \"gules\";\n      t2 = \"argent\";\n    }\n  } else if (pattern.includes(\"pappellony\") || pattern === \"scaly\") {\n    if (P(0.2)) {\n      t1 = \"gules\";\n      t2 = \"or\";\n    } else if (P(0.2)) {\n      t1 = \"sable\";\n      t2 = \"argent\";\n    } else if (P(0.2)) {\n      t1 = \"argent\";\n      t2 = \"sable\";\n    } else if (P(0.2)) {\n      t1 = \"azure\";\n      t2 = \"argent\";\n    }\n  } else if (P(0.2) && pattern === \"plumetty\") {\n    t1 = \"gules\";\n    t2 = \"or\";\n  } else if (pattern === \"masoned\") {\n    if (P(0.3)) {\n      t1 = \"gules\";\n      t2 = \"argent\";\n    } else if (P(0.3)) {\n      t1 = \"argent\";\n      t2 = \"sable\";\n    } else if (P(0.1)) {\n      t1 = \"or\";\n      t2 = \"sable\";\n    }\n  } else if (pattern === \"fretty\" || pattern === \"grillage\" || pattern === \"chainy\") {\n    if (P(0.35)) {\n      t1 = \"argent\";\n      t2 = \"gules\";\n    } else if (P(0.1)) {\n      t1 = \"sable\";\n      t2 = \"or\";\n    } else if (P(0.2)) {\n      t1 = \"gules\";\n      t2 = \"argent\";\n    }\n  } else if (pattern === \"honeycombed\") {\n    if (P(0.4)) {\n      t1 = \"sable\";\n      t2 = \"or\";\n    } else if (P(0.3)) {\n      t1 = \"or\";\n      t2 = \"sable\";\n    }\n  } else if (pattern === \"semy\") pattern += \"_of_\" + selectCharge(charges.semy);\n\n  if (!t1 || !t2) {\n    const startWithMetal = P(0.7);\n    t1 = startWithMetal ? rw(config.tData.metals) : rw(config.tData.colours);\n    t2 = startWithMetal ? rw(config.tData.colours) : rw(config.tData.metals);\n  }\n\n  // division should not be the same tincture as base field\n  if (element === \"division\") {\n    if (config.usedTinctures.includes(t1)) t1 = replaceTincture(config, t1);\n    if (config.usedTinctures.includes(t2)) t2 = replaceTincture(config, t2);\n  }\n\n  config.usedTinctures.push(t1, t2);\n  const size = rw(patternSize);\n  const sizeString = size === \"standard\" ? \"\" : \"-\" + size;\n\n  return `${pattern}-${t1}-${t2}${sizeString}`;\n}\n\n// select tincture: element type (field, division, charge), used field tinctures, field type to follow RoT\nfunction getTincture(config, element, fields = [], RoT) {\n  const base = RoT ? (RoT.includes(\"-\") ? RoT.split(\"-\")[1] : RoT) : null;\n\n  let type = rw(config.tData[element]); // metals, colours, stains, patterns\n  if (RoT && type !== \"patterns\") type = getType(config, base) === \"metals\" ? \"colours\" : \"metals\"; // follow RoT\n  if (type === \"metals\" && fields.includes(\"or\") && fields.includes(\"argent\")) type = \"colours\"; // exclude metals overuse\n  let tincture = rw(config.tData[type]);\n\n  while (tincture === base || fields.includes(tincture)) {\n    tincture = rw(config.tData[type]);\n  } // follow RoT\n\n  if (type !== \"patterns\" && element !== \"charge\") config.usedTinctures.push(tincture); // add field tincture\n\n  if (type === \"patterns\") {\n    config.usedPattern = tincture;\n    tincture = definePattern(config, tincture, element);\n  }\n\n  return tincture;\n}\n","/*///////////////////////////////////////////////////////////////////////////////////////////////////\naleaPRNG 1.1\n/////////////////////////////////////////////////////////////////////////////////////////////////////\nhttps://github.com/macmcmeans/aleaPRNG/blob/master/aleaPRNG-1.1.js\n/////////////////////////////////////////////////////////////////////////////////////////////////////\nOriginal work copyright © 2010 Johannes Baagøe, under MIT license\nThis is a derivative work copyright (c) 2017-2020, W. Mac\" McMeans, under BSD license.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n///////////////////////////////////////////////////////////////////////////////////////////////////*/\nexport function aleaPRNG() {\n  return (function (args) {\n    \"use strict\";\n\n    const version = \"aleaPRNG 1.1.0\";\n\n    var s0,\n      s1,\n      s2,\n      c,\n      uinta = new Uint32Array(3),\n      initialArgs,\n      mashver = \"\";\n    /* private: initializes generator with specified seed */\n    function _initState(_internalSeed) {\n      var mash = Mash();\n\n      // internal state of generator\n      s0 = mash(\" \");\n      s1 = mash(\" \");\n      s2 = mash(\" \");\n\n      c = 1;\n\n      for (var i = 0; i < _internalSeed.length; i++) {\n        s0 -= mash(_internalSeed[i]);\n        if (s0 < 0) {\n          s0 += 1;\n        }\n\n        s1 -= mash(_internalSeed[i]);\n        if (s1 < 0) {\n          s1 += 1;\n        }\n\n        s2 -= mash(_internalSeed[i]);\n        if (s2 < 0) {\n          s2 += 1;\n        }\n      }\n\n      mashver = mash.version;\n\n      mash = null;\n    }\n\n    /* private: dependent string hash function */\n    function Mash() {\n      var n = 4022871197; // 0xefc8249d\n\n      var mash = function (data) {\n        data = data.toString();\n\n        // cache the length\n        for (var i = 0, l = data.length; i < l; i++) {\n          n += data.charCodeAt(i);\n\n          var h = 0.02519603282416938 * n;\n\n          n = h >>> 0;\n          h -= n;\n          h *= n;\n          n = h >>> 0;\n          h -= n;\n          n += h * 4294967296; // 0x100000000      2^32\n        }\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n      };\n\n      mash.version = \"Mash 0.9\";\n      return mash;\n    }\n\n    /* private: check if number is integer */\n    function _isInteger(_int) {\n      return parseInt(_int, 10) === _int;\n    }\n\n    /* public: return a 32-bit fraction in the range [0, 1]\n      This is the main function returned when aleaPRNG is instantiated\n      */\n    var random = function () {\n      var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n\n      s0 = s1;\n      s1 = s2;\n\n      return (s2 = t - (c = t | 0));\n    };\n\n    /* public: return a 53-bit fraction in the range [0, 1] */\n    random.fract53 = function () {\n      return random() + ((random() * 0x200000) | 0) * 1.1102230246251565e-16; // 2^-53\n    };\n\n    /* public: return an unsigned integer in the range [0, 2^32] */\n    random.int32 = function () {\n      return random() * 0x100000000; // 2^32\n    };\n\n    /* public: advance the generator the specified amount of cycles */\n    random.cycle = function (_run) {\n      _run = typeof _run === \"undefined\" ? 1 : +_run;\n      if (_run < 1) {\n        _run = 1;\n      }\n      for (var i = 0; i < _run; i++) {\n        random();\n      }\n    };\n\n    /* public: return inclusive range */\n    random.range = function () {\n      var loBound, hiBound;\n\n      if (arguments.length === 1) {\n        loBound = 0;\n        hiBound = arguments[0];\n      } else {\n        loBound = arguments[0];\n        hiBound = arguments[1];\n      }\n\n      if (arguments[0] > arguments[1]) {\n        loBound = arguments[1];\n        hiBound = arguments[0];\n      }\n\n      // return integer\n      if (_isInteger(loBound) && _isInteger(hiBound)) {\n        return Math.floor(random() * (hiBound - loBound + 1)) + loBound;\n\n        // return float\n      } else {\n        return random() * (hiBound - loBound) + loBound;\n      }\n    };\n\n    /* public: initialize generator with the seed values used upon instantiation */\n    random.restart = function () {\n      _initState(initialArgs);\n    };\n\n    /* public: seeding function */\n    random.seed = function () {\n      _initState(Array.prototype.slice.call(arguments));\n    };\n\n    /* public: show the version of the RNG */\n    random.version = function () {\n      return version;\n    };\n\n    /* public: show the version of the RNG and the Mash string hasher */\n    random.versions = function () {\n      return version + \", \" + mashver;\n    };\n\n    // when no seed is specified, create a random one from Windows Crypto (Monte Carlo application)\n    if (args.length === 0) {\n      window.crypto.getRandomValues(uinta);\n      args = [uinta[0], uinta[1], uinta[2]];\n    }\n\n    // store the seed used when the RNG was instantiated, if any\n    initialArgs = args;\n\n    // initialize the RNG\n    _initState(args);\n\n    return random;\n  })(Array.prototype.slice.call(arguments));\n}\n","<script>\n  import COA from \"./../object/COA.svelte\";\n  import {history} from \"data//stores\";\n  import {generate} from \"scripts/generator\";\n  export let c, seed, coaSize;\n\n  let coa = $history[c] || generate(seed || undefined); // on load\n\n  function edit() {\n    if (/noedit/i.test(window.location.search)) return;\n    const URL = window.location.href.replace(\"view=1\", \"view=0\");\n    const win = window.open(URL, \"_blank\");\n    win.focus();\n  }\n</script>\n\n<div id=\"viewer\" on:click={edit}>\n  <COA {coa} i=\"View\" w={coaSize} h={coaSize} />\n</div>\n","<script>\n  export let type;\n</script>\n\nType:\n<select bind:value={type}>\n  <option value=\"tincture\">Tincture</option>\n  <option value=\"pattern\">Pattern</option>\n  <option value=\"semy\">Semy</option>\n</select>\n","<script>\n  export let size;\n</script>\n\n<span style=\"margin-left: 1em\">Size:</span>\n<select bind:value={size}>\n  <option value=\"bigger\">Bigger</option>\n  <option value=\"big\">Big</option>\n  <option value=\"standard\">Standard</option>\n  <option value=\"small\">Small</option>\n  <option value=\"smaller\">Smaller</option>\n  <option value=\"smallest\">Smallest</option>\n</select>\n","<script>\n  import Shield from \"./../object/Shield.svelte\";\n  import {tooltip} from \"scripts/tooltip\";\n  import {capitalize} from \"scripts/utils\";\n  export let coa, tip, itemSize;\n\n  const i = Math.floor(1e6 * Math.random());\n</script>\n\n<svg class=\"menuItem\" width={itemSize} height={itemSize} viewBox=\"0 0 200 200\" data-tooltip={capitalize(tip)} use:tooltip>\n  <Shield {coa} {i} border=\"#333\" borderWidth=\"2\" type=\"menuItem\" />\n</svg>\n","<script>\n  import EditorItem from \"./EditorItem.svelte\";\n  import {tinctures} from \"data/stores\";\n  export let t1, itemSize;\n\n  const coas = [\"metals\", \"colours\", \"stains\"]\n    .map(type => {\n      return Object.keys($tinctures[type]).map(t => {\n        return {t1: t, tip: `${type.slice(0, -1)}: ${t}`};\n      });\n    })\n    .flat();\n</script>\n\n<div>Tincture:</div>\n{#each coas as coa}\n  <div class=\"item\" class:selected={t1 === coa.t1} on:click={() => (t1 = coa.t1)}>\n    <EditorItem {coa} tip={coa.tip} {itemSize} />\n  </div>\n{/each}\n","<script>\n  import EditorItem from \"./EditorItem.svelte\";\n  import {defaultTinctures} from \"data/dataModel\";\n  export let pattern, t1, t2, size, itemSize;\n  const patterns = Object.keys(defaultTinctures.patterns).filter(pattern => pattern !== \"semy\");\n\n  // clean group\n  document.getElementById(\"patterns\").innerHTML = \"\";\n\n  $: coas = patterns.map(pattern => {\n    let tincture = `${pattern}-${t1}-${t2}`;\n    if (size !== \"standard\") tincture += `-${size}`;\n    return {pattern, t1: tincture};\n  });\n</script>\n\n<div>Pattern:</div>\n{#each coas as coa}\n  <div class=\"item\" class:selected={pattern === coa.pattern} on:click={() => (pattern = coa.pattern)}>\n    <EditorItem {coa} tip={coa.pattern} {itemSize} />\n  </div>\n{/each}\n","<script>\n  import EditorItem from \"./EditorItem.svelte\";\n  import {charges} from \"data/dataModel\";\n  export let charge,\n    type,\n    category,\n    t1,\n    t2,\n    size = null,\n    sinister = null,\n    reversed = null,\n    division = false,\n    itemSize;\n  let coas = [],\n    query,\n    queryOld;\n\n  const categories = Object.keys(charges.types);\n  const allCharges = categories.map(category => Object.keys(charges[category])).flat();\n  const cap = string => string.charAt(0).toUpperCase() + string.slice(1);\n\n  $: update(category, t1, t2, size, sinister, reversed);\n  $: showResults(query);\n\n  function update() {\n    const chargeList = Object.keys(charges[category]);\n    coas = chargeList.map(c => new Object({c, t1: getTincture(c), charges: getCharge(c)}));\n  }\n\n  function showResults(query) {\n    if (!query && query !== queryOld) update();\n    queryOld = query;\n    if (!query) return;\n\n    const regEx = new RegExp(query.replaceAll(\" \", \"\"), \"i\");\n    const results = allCharges.filter(c => regEx.test(c));\n    coas = results.map(c => new Object({c, t1: getTincture(c), charges: getCharge(c)}));\n  }\n\n  function getTincture(c) {\n    if (type === \"semy\") return `semy_of_${c}-${t1}-${t2}-${size}`;\n    return t1;\n  }\n\n  function getCharge(c) {\n    if (type === \"semy\") return [];\n    return [{charge: c, t: t2, p: \"e\", size: 1.5, sinister, reversed}];\n  }\n\n  function getTip(c) {\n    if (type === \"semy\") return `Semy of ${c}`;\n    return `Charge: ${c}`;\n  }\n</script>\n\n{#if type === \"semy\"}\n  <span>Charge:</span>\n{:else}\n  <span class:indented={division}>Category:</span>\n{/if}\n<select bind:value={category} class:inactive={query} on:input={() => (query = \"\")}>\n  {#each categories as type}\n    <option value={type}>{cap(type)}</option>\n  {/each}\n</select>\n\n<span class:indented={true}>Search:</span>\n<input bind:value={query} class:inactive={!query} />\n\n<div>\n  {#each coas as coa (coa)}\n    <div class=\"item\" class:selected={charge === coa.c} on:click={() => (charge = coa.c)}>\n      <EditorItem {coa} tip={getTip(coa.c)} {itemSize} />\n    </div>\n  {/each}\n</div>\n\n<style>\n  input {\n    width: 10em;\n  }\n\n  .inactive {\n    background-color: #ddd;\n  }\n\n  .indented {\n    margin-left: 1em;\n  }\n</style>\n","<script>\n  import EditorItem from \"./EditorItem.svelte\";\n  import {divisions} from \"data/dataModel\";\n  export let division, t1, t, line, itemSize;\n\n  const divisionList = [\"no\"].concat(Object.keys(divisions.variants));\n  $: coas = divisionList.map(division => new Object({d: division, t1, division: {division, t, line}}));\n</script>\n\n{#each coas as coa (coa)}\n  <div class=\"item\" class:selected={division === coa.d} on:click={() => (division = coa.d)}>\n    <EditorItem {coa} tip={\"Division: \" + coa.d} {itemSize} />\n  </div>\n{/each}\n","<script>\n  export let divided,\n    raster = null;\n</script>\n\n<span>Divided:</span>\n<select bind:value={divided}>\n  <option value=\"\">No (standard)</option>\n  <option value=\"field\">Crop by main field</option>\n  <option value=\"division\">Crop by division</option>\n  {#if !raster}\n    <option value=\"counter\">Сounterchanged</option>\n  {/if}\n</select>\n","<script>\n  import EditorItem from \"./EditorItem.svelte\";\n  import {lines} from \"data/dataModel\";\n  export let line,\n    division = null,\n    ordinary = null,\n    t1,\n    t,\n    itemSize;\n\n  const lineList = Object.keys(lines);\n  $: coas = division\n    ? lineList.map(line => new Object({line, t1, division: {division, t, line}}))\n    : lineList.map(line => new Object({line, t1, ordinaries: [{ordinary, t, line}]}));\n  const getTip = l => (division ? \"Division line: \" + l : \"Ordinary line: \" + l);\n</script>\n\n<div>Line:</div>\n{#each coas as coa (coa)}\n  <div class=\"item\" class:selected={line === coa.line} on:click={() => (line = coa.line)}>\n    <EditorItem {coa} tip={getTip(coa.line)} {itemSize} />\n  </div>\n{/each}\n","<script>\n  import EditorItem from \"./EditorItem.svelte\";\n  import {ordinaries} from \"data/dataModel\";\n  export let ordinary, line, t1, t, itemSize;\n\n  const ordinariesList = Object.keys(ordinaries.lined).concat(Object.keys(ordinaries.straight));\n  $: coas = ordinariesList.map(ordinary => new Object({ordinary, t1, ordinaries: [{ordinary, line, t}]}));\n</script>\n\n{#each coas as coa (coa)}\n  <div class=\"item\" class:selected={ordinary === coa.ordinary} on:click={() => (ordinary = coa.ordinary)}>\n    <EditorItem {coa} tip=\"Ordinary: {coa.ordinary}\" {itemSize} />\n  </div>\n{/each}\n","<script>\n  export let checked = false;\n  const id = \"switch\" + Math.floor(1e6 * Math.random());\n</script>\n\n<div class=\"switch\">\n  <input {id} class=\"switch-input\" type=\"checkbox\" bind:checked />\n  <label for={id} class=\"switch-label\">Switch</label>\n</div>\n\n<style>\n  .switch {\n    position: relative;\n    display: inline-block;\n    top: -5px;\n  }\n\n  .switch-input {\n    display: none;\n  }\n\n  .switch-label {\n    display: block;\n    width: 48px;\n    height: 24px;\n    color: transparent;\n  }\n\n  .switch-label::before,\n  .switch-label::after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    cursor: pointer;\n  }\n\n  .switch-label::before {\n    width: 100%;\n    height: 100%;\n    background-color: #dedede;\n    border-radius: 9999em;\n    -webkit-transition: background-color 0.25s ease;\n    transition: background-color 0.25s ease;\n  }\n\n  .switch-label::after {\n    top: 0;\n    left: 0;\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    background-color: #fff;\n    box-shadow: 0 0 2px rgba(0, 0, 0, 0.45);\n    -webkit-transition: left 0.25s ease;\n    transition: left 0.25s ease;\n  }\n\n  .switch-input:checked + .switch-label::before {\n    background-color: #89c12d;\n  }\n\n  .switch-input:checked + .switch-label::after {\n    left: 24px;\n  }\n</style>\n","<script>\n  import Switch from \"./Switch.svelte\";\n  import {tooltip} from \"scripts/tooltip\";\n  export let element;\n</script>\n\n<span data-tooltip=\"Element stroke. Check to render and select a color\" use:tooltip>\n  <span>Stroke:</span>\n  <Switch bind:checked={element.showStroke} />\n  {#if element.showStroke}\n    <span style=\"margin-left: 1em\">Color:</span>\n    <input type=\"color\" bind:value={element.stroke} />\n\n    {#if element.ordinary}\n      <span style=\"margin-left: 1em\">Width:</span>\n      <input type=\"number\" min=\".1\" max=\"5\" step=\".1\" bind:value={element.strokeWidth} />\n    {/if}\n  {/if}\n</span>\n\n<style>\n  input[type=\"color\"] {\n    margin: 0 0 0 0.2em;\n    padding: 0;\n    cursor: pointer;\n  }\n\n  input[type=\"number\"] {\n    width: 4em;\n  }\n</style>\n","<script>\n  import Switch from \"./Switch.svelte\";\n  import {state} from \"data/stores\";\n  import {positionsSelect} from \"data/dataModel\";\n  import {getSize} from \"scripts/generator\";\n  import {tooltip} from \"scripts/tooltip\";\n  export let charge;\n\n  function showPositions() {\n    $state.transform = `rotate(${charge.angle || 0}) translate(${charge.x || 0}, ${charge.y || 0})`;\n    $state.positions = charge.p;\n  }\n\n  function hidePositions() {\n    $state.positions = 0;\n  }\n\n  function changePosition() {\n    showPositions();\n    charge.size = getSize(charge.p);\n  }\n</script>\n\n<span data-tooltip=\"Points on shield to place a charge\" use:tooltip>\n  Positions:\n  <input bind:value={charge.p} on:input={showPositions} on:focus={showPositions} on:blur={hidePositions} />\n  <select bind:value={charge.p} on:change={changePosition} on:focus={showPositions} on:blur={hidePositions}>\n    {#each positionsSelect as position}\n      <option value={position}>{position}</option>\n    {/each}\n  </select>\n</span>\n\n<span data-tooltip=\"Turn charge to the left\" use:tooltip>\n  <span style=\"margin-left: 1em\">Sinister:</span>\n  <Switch bind:checked={charge.sinister} />\n</span>\n\n<span data-tooltip=\"Show charge upside down\" use:tooltip>\n  <span style=\"margin-left: 1em\">Reversed:</span>\n  <Switch bind:checked={charge.reversed} />\n</span>\n\n<style>\n  span > span {\n    margin-left: 1em;\n  }\n\n  input {\n    width: 8.6em;\n  }\n\n  select {\n    width: 1.3em;\n    margin-left: -1.6em;\n    border: 0;\n  }\n</style>\n","<script>\n  import Switch from \"./Switch.svelte\";\n  import {grid, showGrid, state} from \"data/stores\";\n  import {tooltip} from \"scripts/tooltip\";\n  export let e;\n\n  function updateGrid() {\n    $state.transform = `rotate(${e.angle || 0})`;\n  }\n</script>\n\n<span data-tooltip=\"Element size in percents\" use:tooltip>\n  Size:\n  <input\n    type=\"number\"\n    min=\"1\"\n    max=\"500\"\n    step=\"1\"\n    value={(e.size * 100) | 0}\n    on:input={function () {\n      e.size = this.value / 100;\n    }}\n  />\n</span>\n\n<span data-tooltip=\"Element rotation angle in degrees\" use:tooltip>\n  <span>Rotation:</span>\n  <input type=\"number\" min=\"-180\" max=\"180\" bind:value={e.angle} on:change={updateGrid} />\n</span>\n\n<span data-tooltip=\"Element shift in pixels\" use:tooltip>\n  <span>Shift:</span>\n  <input type=\"number\" min=\"-100\" max=\"100\" step={$grid} bind:value={e.x} />\n  <input type=\"number\" min=\"-100\" max=\"100\" step={$grid} bind:value={e.y} />\n</span>\n\n<span data-tooltip=\"Define grid size, angle and position shift step (in pixels and degrees)\" use:tooltip>\n  <span>Step:</span>\n  <input type=\"number\" min=\"1\" max=\"50\" bind:value={$grid} />\n  <Switch bind:checked={$showGrid} />\n</span>\n\n<style>\n  span > span {\n    margin-left: 1em;\n  }\n\n  input[type=\"number\"] {\n    width: 4em;\n  }\n</style>\n","<script lang=\"ts\">\n  import {tooltip} from \"scripts/tooltip\";\n  export let els: any[], el: any, i: number;\n\n  const remove = (event: Event) => {\n    event.stopPropagation();\n    els = els.filter((e, n) => n !== i);\n  };\n\n  const clone = (event: Event) => {\n    event.stopPropagation();\n    els = [...els, JSON.parse(JSON.stringify(el))];\n  };\n\n  const forward = (event: Event) => {\n    event.stopPropagation();\n    [els[i], els[i + 1]] = [els[i + 1], els[i]];\n  };\n\n  const backward = (event: Event) => {\n    event.stopPropagation();\n    [els[i], els[i - 1]] = [els[i - 1], els[i]];\n  };\n</script>\n\n<span>\n  <svg on:click={clone} data-tooltip=\"Clone\" use:tooltip>\n    <use href=\"#clone-icon\" />\n  </svg>\n  {#if els.length > 1}\n    {#if i}\n      <svg on:click={backward} data-tooltip=\"Send backward\" use:tooltip>\n        <use href=\"#up-icon\" />\n      </svg>\n    {/if}\n    {#if i + 1 < els.length}\n      <svg on:click={forward} data-tooltip=\"Bring forward\" use:tooltip>\n        <use href=\"#down-icon\" />\n      </svg>\n    {/if}\n  {/if}\n  <svg on:click={remove} data-tooltip=\"Remove\" use:tooltip>\n    <use href=\"#remove-icon\" />\n  </svg>\n</span>\n\n<style>\n  svg {\n    width: 0.8em;\n    height: 0.8em;\n    fill: #fff;\n  }\n\n  svg:active {\n    transform: translateY(1px);\n  }\n</style>\n","<script lang=\"ts\">\n  import Switch from \"./Switch.svelte\";\n  import {tooltip} from \"scripts/tooltip\";\n  export let above: boolean;\n</script>\n\n<span data-tooltip=\"Check to render ordinary above charges\" use:tooltip>\n  <span style=\"margin-left: 1em\">Above charges:</span>\n  <Switch bind:checked={above} />\n</span>\n","<script>\n  import COA from \"./../object/COA.svelte\";\n  import EditorType from \"./EditorType.svelte\";\n  import EditorSize from \"./EditorSize.svelte\";\n  import EditorTincture from \"./EditorTincture.svelte\";\n  import EditorPattern from \"./EditorPattern.svelte\";\n  import EditorCharge from \"./EditorCharge.svelte\";\n  import EditorDivision from \"./EditorDivision.svelte\";\n  import EditorDivided from \"./EditorDivided.svelte\";\n  import EditorLine from \"./EditorLine.svelte\";\n  import EditorOrdinary from \"./EditorOrdinary.svelte\";\n  import EditorStroke from \"./EditorStroke.svelte\";\n  import EditorPosition from \"./EditorPosition.svelte\";\n  import EditorShift from \"./EditorShift.svelte\";\n  import EditorControls from \"./EditorControls.svelte\";\n  import EditorAbove from \"./EditorAbove.svelte\";\n  import {slide, fly} from \"svelte/transition\";\n  import {history, changes, tinctures, state, grid, showGrid, message, shield} from \"data//stores\";\n  import {charges, divisions, ordinaries} from \"data/dataModel\";\n  import {generate} from \"scripts/generator\";\n  import {rw, ra} from \"scripts/utils\";\n  export let c, seed;\n  let menu = {},\n    section = {field: 0, division: 0, ordinary: [], charge: []};\n\n  const ratio = window.innerHeight / window.innerWidth;\n  const coaSize = window.innerWidth > window.innerHeight ? Math.round(window.innerHeight * 0.9) : \"100%\";\n  let width = window.innerWidth < 600 || ratio > 1 ? 100 : Math.round((1.06 - ratio) * 100);\n  if ((width / 100) * window.innerWidth < 300) width = 100;\n  let itemSize = Math.floor((width / 1000) * window.innerWidth - 5); // 10 items in row\n  if (window.innerWidth < 600) itemSize *= 2; // 5 items in row for narrow screens\n\n  $state.transform = null;\n  $state.positions = null;\n\n  let coa = $history[c] || generate(seed || undefined); // on load\n  $: restore($changes); // on undo/redo\n  $: reroll(c); // on reroll\n  $: update(menu); // on menu update\n  $: edit(coa); // on edit\n  $: localStorage.setItem(\"grid\", $grid); // on grid change\n  $: localStorage.setItem(\"showGrid\", $showGrid); // on grid change\n\n  function reroll(c) {\n    coa = $history[c] || generate(seed || undefined);\n    if (!$history[c]) $history.push(coa);\n    changes.reset();\n    defineMenuState();\n  }\n\n  function edit(coa) {\n    if (!coa.shield) coa.shield = $shield;\n    changes.add(JSON.stringify(coa));\n  }\n\n  // get coa from menu on menu change\n  function update() {\n    // remove see reference as it would be confusing\n    delete coa.seed;\n\n    // field attributes changed\n    if (menu.field.type === \"tincture\") coa.t1 = menu.field.t1;\n    else {\n      const type = menu.field.type === \"semy\" ? \"semy_of_\" + menu.field.charge : menu.field.pattern;\n      const attibutes = [type, menu.field.t1, menu.field.t2];\n      if (menu.field.size !== \"standard\") attibutes.push(menu.field.size);\n      coa.t1 = attibutes.join(\"-\");\n    }\n\n    // division attributes changed\n    if (menu.division.division && menu.division.division !== \"no\") {\n      coa.division = {division: menu.division.division};\n      if (divisions[menu.division.division]) coa.division.line = menu.division.line;\n      if (menu.division.type === \"tincture\") coa.division.t = menu.division.t1;\n      else {\n        const attr0 = menu.division.type === \"semy\" ? \"semy_of_\" + menu.division.charge : menu.division.pattern;\n        const attibutes = [attr0, menu.division.t1, menu.division.t2];\n        if (menu.division.size !== \"standard\") attibutes.push(menu.division.size);\n        coa.division.t = attibutes.join(\"-\");\n      }\n    } else delete coa.division;\n\n    // ordinary attributes changed\n    if (menu.ordinaries.length) {\n      coa.ordinaries = menu.ordinaries.map(o => {\n        const item = {ordinary: o.ordinary, t: o.t};\n        if (ordinaries.lined[o.ordinary]) item.line = o.line;\n        if (coa.division && o.divided) item.divided = o.divided;\n        if (o.showStroke) item.stroke = o.stroke;\n        if (o.showStroke && o.strokeWidth !== 1) item.strokeWidth = o.strokeWidth;\n        if (o.size && o.size !== 1) item.size = o.size;\n        if (o.x || o.y) {\n          item.x = o.x;\n          item.y = o.y;\n        }\n        if (o.angle) item.angle = o.angle;\n        if (o.above) item.above = 1;\n        return item;\n      });\n    } else delete coa.ordinaries;\n\n    // charges attributes changed\n    if (menu.charges.length) {\n      coa.charges = menu.charges.map(c => {\n        const item = {charge: c.charge, t: c.t, p: c.p, size: c.size};\n        if (!c.showStroke) item.stroke = \"none\";\n        if (c.stroke !== \"#000000\") item.stroke = c.stroke;\n        if (c.divided) item.divided = c.divided;\n        if (c.sinister) item.sinister = 1;\n        if (c.reversed) item.reversed = 1;\n        if (c.x || c.y) {\n          item.x = c.x;\n          item.y = c.y;\n        }\n        if (c.angle) item.angle = c.angle;\n        return item;\n      });\n    } else delete coa.charges;\n  }\n\n  function restore() {\n    if (!changes.length()) return;\n    coa = JSON.parse($changes[0]);\n    defineMenuState();\n  }\n\n  // define initial menu state\n  function defineMenuState() {\n    // Shield\n    if (coa.shield) $shield = coa.shield;\n\n    // Field\n    menu.field = getField();\n    function getField() {\n      const type = isSemy(coa.t1) ? \"semy\" : isPattern(coa.t1) ? \"pattern\" : \"tincture\";\n      let t1,\n        t2,\n        pattern = \"vair\",\n        charge = \"lozenge\",\n        semy = \"conventional\",\n        size = \"standard\";\n\n      const field = coa.t1.split(\"-\"); // parsed field tincture\n\n      if (type === \"tincture\") {\n        t1 = coa.t1;\n        t2 = selectSecondTincture(coa.t1);\n      } else {\n        t1 = field[1];\n        t2 = field[2];\n        size = field[3] || \"standard\";\n      }\n\n      if (type === \"pattern\") pattern = field[0];\n      else if (type === \"semy\") {\n        charge = getSemyCharge(field);\n        semy = getSemyType(field);\n      }\n\n      return {type, t1, t2, pattern, charge, semy, size};\n    }\n\n    // Division\n    menu.division = getDivision();\n    function getDivision() {\n      let type = \"tincture\",\n        division = \"no\",\n        line = \"straight\",\n        t1,\n        t2,\n        pattern = \"vair\",\n        charge = \"lozenge\",\n        semy = \"conventional\",\n        size = \"standard\";\n\n      if (coa.division) {\n        const tSplit = coa.division.t.split(\"-\"); // parsed division tincture\n        type = isSemy(coa.division.t) ? \"semy\" : isPattern(coa.division.t) ? \"pattern\" : \"tincture\";\n\n        division = coa.division.division;\n        line = coa.division.line || \"straight\";\n        t1 = type === \"tincture\" ? coa.division.t : tSplit[1];\n        t2 = type === \"tincture\" ? selectSecondTincture(t1) : tSplit[2];\n        if (type === \"pattern\") pattern = tSplit[0];\n        if (type === \"semy\") {\n          charge = getSemyCharge(tSplit);\n          semy = getSemyType(tSplit);\n        }\n        size = tSplit[3] || \"standard\";\n      } else {\n        t1 = selectSecondTincture(menu.field.t1);\n        t2 = selectSecondTincture(t1);\n      }\n\n      return {division, line, type, t1, t2, pattern, charge, semy, size};\n    }\n\n    // Ordinaries\n    menu.ordinaries = getOrdinaries();\n    function getOrdinaries() {\n      if (!coa.ordinaries) return [];\n\n      const ordinaries = coa.ordinaries.map(o => {\n        const {ordinary, t} = o;\n        const line = o.line || \"straight\";\n        const showStroke = Boolean(o.stroke);\n        const stroke = o.stroke || \"#000000\";\n        const strokeWidth = o.strokeWidth || 1;\n        const size = o.size || 1;\n        const x = o.x || 0;\n        const y = o.y || 0;\n        const angle = o.angle || 0;\n        const divided = o.divided || \"\";\n        const above = o.above || 0;\n        if (angle) $state.transform = `rotate(${angle})`;\n        return {ordinary, t, line, showStroke, stroke, strokeWidth, size, x, y, angle, divided, above};\n      });\n\n      return ordinaries;\n    }\n\n    // Charges\n    menu.charges = getCharges();\n    function getCharges() {\n      if (!coa.charges) return [];\n      const charges = coa.charges.map(c => {\n        const {charge, t, p, size} = c;\n        const type = getChargeCategory(charge);\n        const showStroke = c.stroke !== \"none\";\n        const stroke = c.stroke || \"#000000\";\n        const divided = c.divided || \"\";\n        const sinister = c.sinister || false;\n        const reversed = c.reversed || false;\n        const x = c.x || 0;\n        const y = c.y || 0;\n        const angle = c.angle || 0;\n        if (angle) $state.transform = `rotate(${angle})`;\n        return {charge, type, showStroke, stroke, divided, t, p, size, sinister, reversed, x, y, angle};\n      });\n\n      return charges;\n    }\n\n    function isPattern(string) {\n      return string?.includes(\"-\");\n    }\n\n    function isSemy(string) {\n      return string?.slice(0, 4) === \"semy\";\n    }\n\n    function getSemyCharge(array) {\n      return array[0].split(\"_of_\")[1];\n    }\n\n    function getChargeCategory(charge) {\n      const type = Object.keys(charges.types).find(type => charges[type][charge] !== undefined);\n      return type || charge;\n    }\n\n    function getSemyType(array) {\n      const charge = getSemyCharge(array);\n      return getChargeCategory(charge);\n    }\n\n    function selectSecondTincture(t1) {\n      const metal = t1 === \"argent\" || t1 === \"or\";\n      return rw(metal ? $tinctures.colours : $tinctures.metals);\n    }\n\n    return menu;\n  }\n\n  function addOrdinary() {\n    const ordinariesList = Object.keys(ordinaries.lined).concat(Object.keys(ordinaries.straight));\n    const ordinary = ra(ordinariesList);\n    const t = rw($tinctures[rw($tinctures.charge)]);\n    const o = {ordinary, t, showStroke: false, stroke: \"#000000\", strokeWidth: 1, line: \"straight\", size: 1, x: 0, y: 0, angle: 0, divided: \"\"};\n    menu.ordinaries = [...menu.ordinaries, o];\n  }\n\n  function addCharge() {\n    const type = rw(charges.single);\n    const charge = rw(charges[type]);\n    const t = rw($tinctures[rw($tinctures.charge)]);\n    const с = {charge, t, p: \"e\", showStroke: true, stroke: \"#000000\", type, size: 1.5, sinister: false, reversed: false, x: 0, y: 0, angle: 0, divided: \"\"};\n    menu.charges = [...menu.charges, с];\n  }\n\n  if (!isTouchDevice() && (coa.ordinaries || coa.charges)) {\n    if (!$message)\n      $message = {type: \"info\", text: \"Drag to move, hold SHIFT and drag vertically to resize, hold CONTROL and drag horizontally to rotate\", timeout: 4000};\n  }\n\n  function isTouchDevice() {\n    return \"ontouchstart\" in window;\n  }\n\n  function isRaster(charge) {\n    const el = document.getElementById(charge);\n    return el ? el.tagName === \"image\" : false;\n  }\n\n  function cap(string = \"no\") {\n    const split = string.split(/(?=[A-Z])/).join(\" \");\n    return split.charAt(0).toUpperCase() + split.slice(1);\n  }\n</script>\n\n<div id=\"editor\">\n  {#key coa}\n    <COA {coa} i=\"Edit\" w={coaSize} h={coaSize} />\n  {/key}\n  <div id=\"menu\" in:fly={{x: 1000, duration: 1000}} style=\"width:{width}%\">\n    <!-- Field -->\n    <div class=\"section\" class:expanded={section.field} on:click={() => (section.field = !section.field)}>Field</div>\n    {#if section.field}\n      <div class=\"panel\" transition:slide>\n        <div class=\"subsection\">\n          <EditorType bind:type={menu.field.type} />\n          {#if menu.field.type !== \"tincture\"}\n            <EditorSize bind:size={menu.field.size} />\n          {/if}\n        </div>\n\n        <div class=\"subsection\">\n          <EditorTincture bind:t1={menu.field.t1} {itemSize} />\n        </div>\n\n        {#if menu.field.type !== \"tincture\"}\n          <div class=\"subsection\">\n            <EditorTincture bind:t1={menu.field.t2} {itemSize} />\n          </div>\n        {/if}\n\n        {#if menu.field.type === \"pattern\"}\n          <div class=\"subsection\">\n            <EditorPattern bind:pattern={menu.field.pattern} t1={menu.field.t1} t2={menu.field.t2} size={menu.field.size} {itemSize} />\n          </div>\n        {/if}\n\n        {#if menu.field.type === \"semy\"}\n          <div class=\"subsection\">\n            <EditorCharge\n              type=\"semy\"\n              bind:charge={menu.field.charge}\n              bind:category={menu.field.semy}\n              t1={menu.field.t1}\n              t2={menu.field.t2}\n              size={menu.field.size}\n              {itemSize}\n            />\n          </div>\n        {/if}\n      </div>\n    {/if}\n\n    <!-- Division -->\n    <div class=\"section\" class:expanded={section.division} on:click={() => (section.division = !section.division)}>Division: {cap(menu.division.division)}</div>\n    {#if section.division}\n      <div class=\"panel\" transition:slide>\n        <div class=\"subsection\">\n          <EditorDivision\n            bind:division={menu.division.division}\n            t1={coa.t1}\n            t={coa.division ? coa.division.t : menu.division.t1}\n            line={menu.division.line}\n            {itemSize}\n          />\n        </div>\n\n        {#if divisions[coa.division?.division]}\n          <div class=\"subsection\">\n            <EditorLine\n              bind:line={menu.division.line}\n              division={menu.division.division}\n              t1={coa.t1}\n              t={coa.division ? coa.division.t : menu.division.t1}\n              {itemSize}\n            />\n          </div>\n        {/if}\n\n        {#if coa.division}\n          <div class=\"subsection\">\n            <EditorType bind:type={menu.division.type} />\n            {#if menu.division.type !== \"tincture\"}\n              <EditorSize bind:size={menu.division.size} />\n            {/if}\n          </div>\n\n          <div class=\"subsection\">\n            <EditorTincture bind:t1={menu.division.t1} {itemSize} />\n          </div>\n\n          {#if menu.division.type !== \"tincture\"}\n            <div class=\"subsection\">\n              <EditorTincture bind:t1={menu.division.t2} {itemSize} />\n            </div>\n          {/if}\n\n          {#if menu.division.type === \"pattern\"}\n            <div class=\"subsection\">\n              <EditorPattern bind:pattern={menu.division.pattern} t1={menu.division.t1} t2={menu.division.t2} size={menu.division.size} {itemSize} />\n            </div>\n          {/if}\n\n          {#if menu.division.type === \"semy\"}\n            <div class=\"subsection\">\n              <EditorCharge\n                type=\"semy\"\n                bind:charge={menu.division.charge}\n                bind:category={menu.division.semy}\n                t1={menu.division.t1}\n                t2={menu.division.t2}\n                size={menu.division.size}\n                {itemSize}\n              />\n            </div>\n          {/if}\n        {/if}\n      </div>\n    {/if}\n\n    <!-- Ordinaries -->\n    {#each menu.ordinaries as o, i}\n      <div class=\"section\" transition:slide class:expanded={section.ordinary[i]} on:click={() => (section.ordinary[i] = !section.ordinary[i])}>\n        Ordinary{menu.ordinaries.length > 1 ? \" \" + (i + 1) : \"\"}: {cap(o.ordinary)}\n        {#if o.above}\n          <i>[above charges]</i>\n        {/if}\n        <EditorControls bind:els={menu.ordinaries} el={o} {i} />\n      </div>\n      {#if section.ordinary[i]}\n        <div class=\"panel\" transition:slide>\n          {#if coa.division}\n            <div class=\"subsection\">\n              <EditorDivided bind:divided={o.divided} />\n            </div>\n          {/if}\n\n          <div class=\"subsection\">\n            <EditorOrdinary bind:ordinary={o.ordinary} t1={coa.t1} line={o.line} t={o.t} {itemSize} />\n          </div>\n\n          {#if ordinaries.lined[o.ordinary]}\n            <div class=\"subsection\">\n              <EditorLine bind:line={o.line} ordinary={o.ordinary} t1={coa.t1} t={o.t} {itemSize} />\n            </div>\n          {/if}\n\n          {#if o.divided !== \"counter\"}\n            <div class=\"subsection\">\n              <EditorTincture bind:t1={o.t} {itemSize} />\n            </div>\n          {/if}\n\n          <div class=\"subsection\">\n            {#if ![\"bordure\", \"orle\"].includes(o.ordinary)}\n              <EditorStroke bind:element={o} />\n            {/if}\n            <EditorAbove bind:above={o.above} />\n          </div>\n\n          <div class=\"subsection\">\n            <EditorShift bind:e={o} />\n          </div>\n        </div>\n      {/if}\n    {/each}\n\n    <!-- Charges -->\n    {#each menu.charges as charge, i}\n      <div class=\"section\" transition:slide class:expanded={section.charge[i]} on:click={() => (section.charge[i] = !section.charge[i])}>\n        Charge{menu.charges.length > 1 ? \" \" + (i + 1) : \"\"}: {cap(charge.charge)}\n        <EditorControls bind:els={menu.charges} el={charge} {i} />\n      </div>\n      {#if section.charge[i]}\n        <div class=\"panel\" transition:slide>\n          <div class=\"subsection\">\n            {#if coa.division}\n              <EditorDivided bind:divided={charge.divided} raster={isRaster(charge.charge)} />\n            {/if}\n            <EditorCharge\n              type=\"charge\"\n              bind:charge={charge.charge}\n              bind:category={charge.type}\n              t1={coa.t1}\n              t2={charge.t}\n              sinister={charge.sinister}\n              reversed={charge.reversed}\n              division={coa.division}\n              {itemSize}\n            />\n          </div>\n\n          {#if !isRaster(charge.charge) && charge.divided !== \"counter\"}\n            <div class=\"subsection\">\n              <EditorTincture bind:t1={charge.t} {itemSize} />\n            </div>\n          {/if}\n\n          <div class=\"subsection\">\n            <EditorStroke bind:element={charge} />\n          </div>\n\n          <div class=\"subsection\">\n            <EditorPosition bind:charge />\n          </div>\n\n          <div class=\"subsection\">\n            <EditorShift bind:e={charge} />\n          </div>\n        </div>\n      {/if}\n    {/each}\n\n    <div class=\"buttonLine\" on:click={addOrdinary}>Add Ordinary</div>\n    <div class=\"buttonLine\" on:click={addCharge}>Add Charge</div>\n  </div>\n</div>\n\n<style>\n  #editor {\n    width: 100%;\n    height: calc(100% - 45px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    user-select: none;\n    flex-direction: row;\n  }\n\n  #menu {\n    overflow-x: hidden;\n    overflow-y: auto;\n    scrollbar-width: thin;\n    transition: 0.5s;\n    background-color: #11111180;\n    height: 100%;\n  }\n\n  @media only screen and (orientation: portrait) {\n    #editor {\n      flex-direction: column;\n    }\n  }\n\n  #menu::-webkit-scrollbar {\n    width: 6px;\n    background-color: #cccccc80;\n  }\n\n  #menu::-webkit-scrollbar-thumb {\n    background-color: #111;\n  }\n\n  .section {\n    padding: 1em 1.14em;\n    color: #fff;\n    background-color: #00000060;\n    cursor: pointer;\n    transition: background-color 0.1s ease;\n    overflow-x: hidden;\n  }\n\n  .section:hover {\n    background-color: #00000080;\n  }\n\n  .section:after {\n    content: \"\\276F\";\n    transition: 0.2s ease-out;\n    margin-top: -0.1em;\n    float: right;\n  }\n\n  .expanded:after {\n    transform: rotate(90deg);\n  }\n\n  :global(.section > span) {\n    transition: 1s ease-out;\n    opacity: 0;\n    margin-left: 0.6em;\n  }\n\n  :global(.section:hover > span) {\n    opacity: 1;\n  }\n\n  .section > i {\n    font-size: smaller;\n  }\n\n  .panel {\n    min-width: 100%;\n    max-width: max-content;\n    background-color: #13131320;\n    overflow: hidden;\n  }\n\n  .subsection {\n    color: #fff;\n    padding: 0.5em 1em;\n  }\n\n  .buttonLine {\n    padding: 1em 1.14em;\n    color: #fff;\n    background-color: #00000040;\n    cursor: pointer;\n    transition: background-color 0.1s ease;\n  }\n\n  .buttonLine:hover {\n    background-color: #00000080;\n  }\n\n  :global(.item) {\n    display: inline-block;\n    cursor: pointer;\n    transition: background-color 0.2s ease;\n  }\n\n  :global(.item:hover) {\n    background-color: #ffffff10;\n  }\n\n  :global(.item:active) {\n    transform: translateY(1px);\n  }\n\n  :global(.item.selected) {\n    background-color: #ffffff15;\n  }\n</style>\n","<script>\n  import COA from \"./../object/COA.svelte\";\n  import {fade} from \"svelte/transition\";\n  import {generate} from \"scripts/generator\";\n  import {download} from \"scripts/download\";\n  import {history, matrices, matrix, state} from \"data/stores\";\n  export let gallery, w, h;\n\n  $: font = Math.max(Math.min(Math.ceil(w / 20), 12), 6);\n\n  $: coas = gallery.map(c => {\n    let coa = $history[c] || generate();\n    if (!$history[c]) $history[c] = coa;\n    return coa;\n  });\n\n  function regenerate(i) {\n    $state.i = i;\n    $matrix++;\n    $matrices[$matrix] = $matrices[$matrix - 1].slice();\n    $matrices[$matrix][$state.i] = $history.length;\n  }\n\n  function editCOA(i) {\n    $state.edit = 1;\n    $state.c = gallery[i];\n    $state.i = i;\n  }\n</script>\n\n<div id=\"gallery\" style=\"font-size: {font}px\" transition:fade>\n  {#each coas as coa, i}\n    <div>\n      {#key coa}\n        <COA {coa} {i} {w} {h} />\n      {/key}\n      <div class=\"control\">\n        <svg on:click={() => regenerate(i)}><use href=\"#dice-icon\" /></svg>\n        <svg on:click={() => editCOA(i)}><use href=\"#pencil-icon\" /></svg>\n        <svg on:click={() => download(i)}><use href=\"#download-icon\" /></svg>\n      </div>\n    </div>\n  {/each}\n</div>\n\n<style>\n  div {\n    display: inline-table;\n  }\n\n  #gallery > div {\n    display: inline-block;\n    position: relative;\n    user-select: none;\n    transition: background 0.5s ease;\n  }\n\n  #gallery > div:hover {\n    background: #00000020;\n  }\n\n  .control {\n    display: block;\n    position: absolute;\n    opacity: 0;\n    transition: 0.5s ease-in-out;\n    transform: translate(-50%, -150%);\n    left: 50%;\n    font-size: 2.4em;\n    white-space: nowrap;\n  }\n\n  #gallery > div:hover > .control {\n    opacity: 1;\n  }\n\n  .control > svg {\n    width: 1.2em;\n    height: 1.2em;\n    fill: #f1f1f1;\n    stroke: #333;\n    stroke-width: 0.5em;\n    vertical-align: middle;\n    margin: 0 0.5em;\n  }\n\n  .control > svg:hover {\n    fill: #fff;\n    cursor: pointer;\n  }\n\n  .control > svg:active {\n    transform: translateY(1px);\n  }\n</style>\n","<script>\n  export let license;\n</script>\n\n<select bind:value={license} style=\"width: 10em\">\n  <option value=\"Unknown\" selected>Unknown</option>\n  <option value=\"Proprietary\">Proprietary</option>\n  <option value=\"Copyright Free\">Copyright Free</option>\n  <option value=\"https://creativecommons.org/publicdomain/zero/1.0\">Public Domain</option>\n  <option value=\"https://creativecommons.org/licenses/by/4.0\">CC BY</option>\n  <option value=\"https://creativecommons.org/licenses/by-sa/4.0\">CC BY-SA</option>\n  <option value=\"https://creativecommons.org/licenses/by-nc/4.0\">CC BY-NC</option>\n  <option value=\"https://creativecommons.org/licenses/by-nd/4.0\">CC BY-ND</option>\n  <option value=\"https://creativecommons.org/licenses/by-nc-sa/4.0\">CC BY-NC-SA</option>\n  <option value=\"https://creativecommons.org/licenses/by-nc-nd/4.0\">CC BY-NC-ND</option>\n</select>\n","<script>\n  import LicenseList from \"./LicenseList.svelte\";\n  import {state, message, shield} from \"data/stores\";\n  import {charges} from \"data/dataModel\";\n  import {shieldPaths} from \"data/shields\";\n  import {tooltip} from \"scripts/tooltip\";\n  import {camelize} from \"scripts/utils\";\n\n  let dragging = false,\n    selected = false;\n  let size = 50,\n    offsetX = 0,\n    offsetY = 0;\n  let name,\n    category = \"uploaded\",\n    source,\n    license,\n    author;\n\n  const onFile = getFilesFunction => event => {\n    dragging = false;\n    const files = getFilesFunction(event);\n    const file = files.length ? files[0] : [];\n\n    if (!file.type.match(/image.*/)) {\n      $message = {type: \"error\", text: \"Not an image file!\"};\n      return;\n    }\n\n    selected = true;\n    $message = {type: \"info\", text: \"Fit image into the rectangle for best result\"};\n    name = camelize(file.name);\n    loadImage(file);\n  };\n\n  function getFilesFromDropEvent({dataTransfer: {files, items}}) {\n    return files.length ? [...files] : items.filter(({kind}) => kind === \"file\").map(({getAsFile}) => getAsFile());\n  }\n\n  function getFilesFromInputEvent({target}) {\n    const files = target.files ? [...target.files] : [];\n    target.value = \"\";\n    return files;\n  }\n\n  function loadImage(file) {\n    const reader = new FileReader();\n    reader.onload = function (readerEvent) {\n      const dataURL = readerEvent.target.result;\n      const image = document.getElementById(\"rasterUpload\").querySelector(\"svg image\");\n      image.setAttribute(\"href\", dataURL);\n    };\n    reader.readAsDataURL(file);\n  }\n\n  function addCharge() {\n    const allCharges = Object.keys(charges.types)\n      .map(type => Object.keys(charges[type]))\n      .flat();\n    name = camelize(name);\n\n    if (!name || document.getElementById(name) || allCharges.includes(name)) {\n      $message = {type: \"error\", text: \"Name must be unique id!\"};\n      return;\n    }\n\n    if (!charges.types[category]) charges.types[category] = 6;\n    if (!charges.single[category]) charges.single[category] = 6;\n    charges[category][name] = 5;\n\n    // remove stored weighted arrays\n    delete charges.types.array;\n    delete charges.single.array;\n    delete charges[category].array;\n\n    const image = document.getElementById(\"rasterUpload\").querySelector(\"svg image\").cloneNode(true);\n    image.id = name;\n    if (source) image.setAttribute(\"source\", source);\n    if (license) image.setAttribute(\"license\", license);\n    if (author) image.setAttribute(\"author\", author);\n\n    document.getElementById(\"charges\").appendChild(image);\n\n    selected = false;\n    $state.raster = 0;\n    $message = {type: \"success\", text: `Charge \"${name}\" is added to the category \"${category}\"`};\n  }\n</script>\n\n<div\n  id=\"rasterUpload\"\n  on:drop|preventDefault={onFile(getFilesFromDropEvent)}\n  on:dragover|preventDefault={() => (dragging = true)}\n  on:dragleave|preventDefault={() => (dragging = false)}\n>\n  <span on:click={() => ($state.raster = 0)} class=\"close\">&times;</span>\n  <div class=\"container\">\n    {#if selected}\n      <svg\n        width=\"100%\"\n        height=\"100%\"\n        stroke=\"#000\"\n        stroke-width=\"1\"\n        viewBox=\"0 0 200 200\"\n        data-tooltip=\"Fit image into the rectangle for best result\"\n        use:tooltip\n      >\n        <g fill=\"#fff\" fill-opacity=\".05\" stroke=\"#fff\" stroke-width=\".5\">\n          <image id=\"imageLoaded\" x=\"{(100 - size) / 2 + offsetX}%\" y=\"{(100 - size) / 2 + offsetY}%\" width=\"{size}%\" height=\"{size}%\" />\n          <path d={shieldPaths[$shield]} />\n          <rect x=\"60\" y=\"60\" width=\"80\" height=\"80\" />\n        </g>\n      </svg>\n\n      <div class=\"inputs\">\n        <div data-tooltip=\"Image size in percents\" use:tooltip>\n          <div class=\"label\">Size:</div>\n          <input type=\"number\" bind:value={size} />\n        </div>\n        <div data-tooltip=\"Offset by X axis in pixels\" use:tooltip>\n          <div class=\"label\">Offset X:</div>\n          <input type=\"number\" bind:value={offsetX} />\n        </div>\n        <div data-tooltip=\"Offset by Y axis in pixels\" use:tooltip>\n          <div class=\"label\">Offset Y:</div>\n          <input type=\"number\" bind:value={offsetY} />\n        </div>\n        <div data-tooltip=\"Link to the image source\" use:tooltip>\n          <div class=\"label\">Source:</div>\n          <input bind:value={source} />\n        </div>\n        <div data-tooltip=\"Image author or source portal name\" use:tooltip>\n          <div class=\"label\">Author:</div>\n          <input bind:value={author} />\n        </div>\n        <div data-tooltip=\"Image license\" use:tooltip>\n          <div class=\"label\">License:</div>\n          <LicenseList bind:license />\n        </div>\n        <div data-tooltip=\"Charge unique name (id)\" use:tooltip>\n          <div class=\"label\">Name:</div>\n          <input placeholder=\"Charge id\" required bind:value={name} />\n        </div>\n        <div data-tooltip=\"Category to put a charge\" use:tooltip>\n          <div class=\"label\">Category:</div>\n          <select bind:value={category}>\n            {#each Object.keys(charges.types) as c}\n              <option value={c}>{c}</option>\n            {/each}\n          </select>\n        </div>\n        <div class=\"buttons\">\n          <button on:click={addCharge}>Add</button>\n          <button on:click={() => (selected = false)}>Cancel</button>\n        </div>\n      </div>\n    {:else}\n      <label class=\"dragging\">\n        <slot {dragging}>\n          <div>Drag &amp; Drop image here or <b>browse</b></div>\n        </slot>\n        <input type=\"file\" accept=\"image/*\" on:input={onFile(getFilesFromInputEvent)} />\n      </label>\n    {/if}\n  </div>\n</div>\n\n<style>\n  #rasterUpload {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: #000000e6;\n    transition: 0.5s;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: center;\n    overflow: auto;\n  }\n\n  .container {\n    color: #ddd;\n    max-height: 90%;\n    max-width: 90%;\n  }\n\n  .inputs {\n    column-count: 3;\n  }\n\n  input,\n  select {\n    width: 10em;\n  }\n\n  .buttons > button {\n    cursor: pointer;\n    margin: 1.18em 0;\n    width: 4.8em;\n  }\n\n  @media only screen and (orientation: portrait) {\n    .inputs {\n      column-count: 2;\n    }\n\n    .buttons {\n      column-span: all;\n    }\n  }\n\n  input[type=\"file\"] {\n    display: none;\n  }\n\n  .close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    display: inline-block;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  label:hover,\n  span:hover {\n    cursor: pointer;\n    color: #fff;\n  }\n\n  .dragging {\n    width: max-content;\n  }\n</style>\n","<script>\n  import LicenseList from \"./LicenseList.svelte\";\n  import {state, colors, tinctures, message, shield} from \"data/stores\";\n  import {charges} from \"data/dataModel\";\n  import {shieldPaths} from \"data/shields\";\n  import {camelize} from \"scripts/utils\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  let dragging = false,\n    selected = false;\n  let svg,\n    transform = {a: 1, b: 0, c: 0, d: 1, e: 0, f: 0},\n    name,\n    category = \"uploaded\",\n    color = \"#d7374a\";\n  let source, license, author;\n  const tinctureList = [\"metals\", \"colours\", \"stains\"].map(type => Object.keys($tinctures[type])).flat();\n\n  $: updateTransform(transform);\n\n  function updateTransform(transform) {\n    if (!svg) return; // on component on load\n    const el = document.createElement(\"html\");\n    el.innerHTML = svg;\n    const g = el.querySelector(\"g\");\n    const transformString = Object.values(transform).join(\" \");\n    if (transformString === \"1 0 0 1 0 0\") g.removeAttribute(\"transform\");\n    else g.setAttribute(\"transform\", \"matrix(\" + transformString + \")\");\n    svg = g.outerHTML;\n  }\n\n  const onFile = getFilesFunction => event => {\n    dragging = false;\n    const files = getFilesFunction(event);\n    const file = files.length ? files[0] : [];\n\n    if (!file.type.match(/text.*|svg.*/)) {\n      $message = {type: \"error\", text: \"File must be text or svg!\"};\n      return;\n    }\n\n    selected = true;\n    name = camelize(file.name);\n    loadImage(file);\n  };\n\n  function getFilesFromDropEvent({dataTransfer: {files, items}}) {\n    return files.length ? [...files] : items.filter(({kind}) => kind === \"file\").map(({getAsFile}) => getAsFile());\n  }\n\n  function getFilesFromInputEvent({target}) {\n    const files = target.files ? [...target.files] : [];\n    target.value = \"\";\n    return files;\n  }\n\n  function loadImage(file) {\n    const reader = new FileReader();\n    reader.onload = function (readerEvent) {\n      const svgText = readerEvent.target.result;\n      const el = document.createElement(\"html\");\n      el.innerHTML = svgText;\n\n      // remove sodipodi and inkscape attributes\n      el.querySelectorAll(\"*\").forEach(el => {\n        const attributes = el.getAttributeNames();\n        attributes.forEach(attr => {\n          if (attr.includes(\"inkscape\") || attr.includes(\"sodipodi\")) el.removeAttribute(attr);\n        });\n      });\n\n      const g = el.querySelector(\"g\");\n      if (!g) {\n        $message = {type: \"error\", text: \"File must be prepared svg. Download template for guidance!\"};\n        selected = false;\n        return;\n      }\n\n      const consolidated = g.transform.baseVal.consolidate();\n      if (consolidated) {\n        const {a, b, c, d, e, f} = consolidated.matrix;\n        const fix = n => +n.toFixed(4);\n        transform = Object.assign(transform, {a: fix(a), b: fix(b), c: fix(c), d: fix(d), e: fix(e), f: fix(f)});\n      }\n      g.removeAttribute(\"id\");\n      svg = g.outerHTML;\n    };\n    reader.readAsText(file);\n  }\n\n  function addCharge() {\n    const allCharges = Object.keys(charges.types)\n      .map(type => Object.keys(charges[type]))\n      .flat();\n    name = camelize(name);\n\n    if (!name || document.getElementById(name) || allCharges.includes(name)) {\n      $message = {type: \"error\", text: \"Name must be unique id!\"};\n      return;\n    }\n\n    if (!charges.types[category]) charges.types[category] = 6;\n    if (!charges.single[category]) charges.single[category] = 6;\n    charges[category][name] = 5;\n\n    const el = document.createElement(\"html\");\n    el.innerHTML = svg;\n    const image = el.querySelector(\"g\");\n    image.id = name;\n\n    if (source) image.setAttribute(\"source\", source);\n    if (license) image.setAttribute(\"license\", license);\n    if (author) image.setAttribute(\"author\", author);\n\n    defs.insertAdjacentHTML(\"beforeend\", image.outerHTML);\n\n    selected = false;\n    $state.vector = 0;\n    $message = {type: \"success\", text: `Charge \"${name}\" is added to the category \"${category}\"`};\n  }\n\n  function downloadTemplate() {\n    fetch(\"charges/template.svg\").then(text => {\n      return text.blob().then(blob => {\n        const a = document.createElement(\"a\");\n        a.href = URL.createObjectURL(blob);\n        a.setAttribute(\"download\", \"armoriaChargeTemplate.txt\");\n        a.click();\n      });\n    });\n  }\n</script>\n\n<div\n  id=\"vectorUpload\"\n  on:drop|preventDefault={onFile(getFilesFromDropEvent)}\n  on:dragover|preventDefault={() => (dragging = true)}\n  on:dragleave|preventDefault={() => (dragging = false)}\n>\n  <span on:click={() => ($state.vector = 0)} class=\"close\">&times;</span>\n  <div class=\"container\">\n    {#if selected}\n      <svg\n        width=\"100%\"\n        height=\"100%\"\n        fill={color}\n        stroke=\"#000\"\n        stroke-width=\"1\"\n        viewBox=\"0 0 200 200\"\n        data-tooltip=\"Fit image into the rectangle for best result\"\n        use:tooltip\n      >\n        <g fill=\"#fff\" fill-opacity=\".05\" stroke=\"#fff\" stroke-width=\".5\">\n          <path d={shieldPaths[$shield]} />\n          <rect x=\"60\" y=\"60\" width=\"80\" height=\"80\" />\n        </g>\n        <g>{@html svg}</g>\n      </svg>\n\n      <div>\n        <div class=\"label\">SVG Markup:</div>\n        <textarea rows=\"5\" bind:value={svg} />\n      </div>\n\n      <div class=\"inputs\">\n        <div data-tooltip=\"Charge translate: X and Y px\" use:tooltip>\n          <div class=\"label\">Translate:</div>\n          <input type=\"number\" step=\".1\" class=\"paired\" bind:value={transform.e} />\n          <input type=\"number\" step=\".1\" class=\"paired\" bind:value={transform.f} />\n        </div>\n\n        <div data-tooltip=\"Charge scale: X and Y, where 1 is default size\" use:tooltip>\n          <div class=\"label\">Scale:</div>\n          <input type=\"number\" step=\".01\" class=\"paired\" bind:value={transform.a} />\n          <input type=\"number\" step=\".01\" class=\"paired\" bind:value={transform.d} />\n        </div>\n\n        <div\n          data-tooltip=\"Tincture preview color, does not affect uploaded actual color. Charges must not have exact color defined. In this case charge will support all tunctures\"\n          use:tooltip\n        >\n          <div class=\"label\">Tincture:</div>\n          <select bind:value={color}>\n            {#each tinctureList as tincture}\n              <option value={$colors[tincture]}>{tincture}</option>\n            {/each}\n          </select>\n        </div>\n\n        <div data-tooltip=\"Link to the image source\" use:tooltip>\n          <div class=\"label\">Source:</div>\n          <input bind:value={source} />\n        </div>\n        <div data-tooltip=\"Image author or source portal name\" use:tooltip>\n          <div class=\"label\">Author:</div>\n          <input bind:value={author} />\n        </div>\n        <div data-tooltip=\"Image license\" use:tooltip>\n          <div class=\"label\">License:</div>\n          <LicenseList bind:license />\n        </div>\n        <div data-tooltip=\"Charge unique name (id)\" use:tooltip>\n          <div class=\"label\">Name:</div>\n          <input placeholder=\"Charge id\" required bind:value={name} />\n        </div>\n        <div data-tooltip=\"Category to put a charge\" use:tooltip>\n          <div class=\"label\">Category:</div>\n          <select bind:value={category}>\n            {#each Object.keys(charges.types) as c}\n              <option value={c}>{c}</option>\n            {/each}\n          </select>\n        </div>\n\n        <div class=\"buttons\">\n          <button on:click={addCharge}>Upload</button>\n          <button on:click={() => (selected = false)}>Cancel</button>\n        </div>\n      </div>\n    {:else}\n      <label class=\"dragging\">\n        <slot {dragging}>\n          <div>Drag &amp; Drop svg file here or <b>browse</b></div>\n        </slot>\n        <input type=\"file\" accept=\".svg\" on:input={onFile(getFilesFromInputEvent)} />\n      </label>\n      <button class=\"template\" on:click={downloadTemplate}>Download Template</button>\n    {/if}\n  </div>\n</div>\n\n<style>\n  #vectorUpload {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: #000000e6;\n    transition: 0.5s;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: center;\n    overflow: auto;\n  }\n\n  .container {\n    color: #ddd;\n    max-height: 100%;\n    max-width: 90%;\n  }\n\n  .inputs {\n    column-count: 3;\n  }\n\n  textarea {\n    width: 100%;\n    font-size: 0.8em;\n    font-family: \"Courier New\", Courier, monospace;\n  }\n\n  input,\n  select {\n    width: 10em;\n  }\n\n  input.paired {\n    width: 4.85em;\n  }\n\n  input[type=\"file\"] {\n    display: none;\n  }\n\n  .close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    display: inline-block;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  label:hover,\n  span:hover {\n    cursor: pointer;\n    color: #fff;\n  }\n\n  .dragging {\n    width: max-content;\n  }\n\n  .template {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-top: 2.5em;\n    transform: translate(-50%, -50%);\n  }\n\n  .buttons > button {\n    cursor: pointer;\n    margin: 1.18em 0;\n    width: 4.8em;\n  }\n\n  @media only screen and (orientation: portrait) {\n    .inputs {\n      column-count: 2;\n    }\n\n    .buttons {\n      column-span: all;\n    }\n  }\n</style>\n","import { cubicOut } from '../easing/index.mjs';\nimport { is_function } from '../internal/index.mjs';\n\nfunction flip(node, { from, to }, params = {}) {\n    const style = getComputedStyle(node);\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const [ox, oy] = style.transformOrigin.split(' ').map(parseFloat);\n    const dx = (from.left + from.width * ox / to.width) - (to.left + ox);\n    const dy = (from.top + from.height * oy / to.height) - (to.top + oy);\n    const { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n    return {\n        delay,\n        duration: is_function(duration) ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,\n        easing,\n        css: (t, u) => {\n            const x = u * dx;\n            const y = u * dy;\n            const sx = t + u * from.width / to.width;\n            const sy = t + u * from.height / to.height;\n            return `transform: ${transform} translate(${x}px, ${y}px) scale(${sx}, ${sy});`;\n        }\n    };\n}\n\nexport { flip };\n","<script>\n  import {fade} from \"svelte/transition\";\n  import {flip} from \"svelte/animate\";\n  import {colors, tinctures, state, message, changes} from \"data/stores\";\n  import {defaultTinctures, defaultColors} from \"data/dataModel\";\n  import {camelize} from \"scripts/utils\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  let add = {show: false, name: \"\", type: \"colours\", color: \"#96C8FA\", chance: 3};\n\n  // remove stored weighted array\n  for (const key in $tinctures) {\n    delete $tinctures[key].array;\n  }\n\n  $: tData = [\"metals\", \"colours\", \"stains\"]\n    .map(type => {\n      return Object.keys($tinctures[type]).map(t => {\n        return {t, type};\n      });\n    })\n    .flat();\n\n  $: lock(\"tinctures\", $tinctures);\n  $: lock(\"colors\", $colors);\n  $: updateCOAonColorChange($colors);\n\n  // don't lock options on load\n  let loaded = [];\n  function lock(key, value) {\n    if (loaded.includes(key)) localStorage.setItem(key, JSON.stringify(value));\n    else loaded.push(key);\n  }\n\n  function updateCOAonColorChange() {\n    changes.refresh();\n  }\n\n  function getTotalChance(type) {\n    return Object.entries($tinctures[type]).reduce((a, b) => a + b[1], 0);\n  }\n\n  function removeTincture(t) {\n    if (t.type === \"metals\" || t.type === \"colours\") {\n      const typeItems = Object.keys($tinctures[t.type]);\n      if (typeItems.length < 3) {\n        $message = {type: \"error\", text: `There should be at least 2 tinctures of type '${t.type}'!`};\n        return;\n      }\n    }\n\n    delete $tinctures[t.type][t.t];\n    $tinctures = $tinctures;\n  }\n\n  function addTincture() {\n    add.show = true;\n    $message = {type: \"warn\", text: `Set tincture name, type, color and chance and then click on 'Apply Tincture'`, timeout: 8000};\n  }\n\n  function cancelAddTincture() {\n    add.show = false;\n  }\n\n  function applyAddTincture() {\n    const name = camelize(add.name);\n\n    if (!name || $colors[name]) {\n      $message = {type: \"error\", text: `Tincture name must be unique!`};\n      return;\n    }\n\n    $tinctures[add.type][name] = add.chance;\n    $colors[name] = add.color;\n    add.show = false;\n    $message = {type: \"info\", text: `Tincture ${name} is added`};\n  }\n\n  function restoreDefault() {\n    $tinctures = JSON.parse(JSON.stringify(defaultTinctures));\n    $colors = JSON.parse(JSON.stringify(defaultColors));\n    localStorage.removeItem(\"tinctures\");\n    localStorage.removeItem(\"colors\");\n    loaded = [];\n    $message = {type: \"info\", text: `Default values are restored`};\n  }\n</script>\n\n<div id=\"tinctures\" transition:fade|local>\n  <span on:click={() => ($state.tinctures = 0)} class=\"close\">&times;</span>\n  <div id=\"tincturesCont\">\n    <div id=\"left\">\n      <table>\n        <thead>\n          <tr>\n            <th>Element</th>\n            <th>Metals</th>\n            <th>Colours</th>\n            <th>Stains</th>\n            <th>Patterns</th>\n          </tr>\n        </thead>\n        <tbody>\n          <tr>\n            <td>Field</td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.field.metals} /></td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.field.colours} /></td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.field.stains} /></td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.field.patterns} /></td>\n          </tr>\n          <tr>\n            <td>Division</td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.division.metals} /></td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.division.colours} /></td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.division.stains} /></td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.division.patterns} /></td>\n          </tr>\n          <tr>\n            <td>Charge</td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.charge.metals} /></td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.charge.colours} /></td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.charge.stains} /></td>\n            <td><input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures.charge.patterns} /></td>\n          </tr>\n        </tbody>\n      </table>\n\n      <div class=\"contolButtons\">\n        {#if add.show}\n          <button on:click={applyAddTincture}>Apply Tincture</button>\n        {:else}\n          <button on:click={addTincture}>Add Tincture</button>\n        {/if}\n        <button on:click={restoreDefault}>Restore Default</button>\n      </div>\n    </div>\n\n    <div id=\"right\">\n      <table id=\"tincturesTable\">\n        <thead>\n          <tr>\n            <th>Tincture</th>\n            <th>Type</th>\n            <th>Color</th>\n            <th>Chance</th>\n            <th>Remove</th>\n          </tr>\n        </thead>\n        <tbody>\n          {#if add.show}\n            <tr transition:fade>\n              <td>\n                <input type=\"text\" placeholder=\"Tincture\" bind:value={add.name} />\n              </td>\n              <td>\n                <select bind:value={add.type}>\n                  <option value=\"metals\">Metals</option>\n                  <option value=\"colours\">Colours</option>\n                  <option value=\"stains\">Stains</option>\n                </select>\n              </td>\n              <td>\n                <input type=\"color\" bind:value={add.color} />\n              </td>\n              <td>\n                <input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={add.chance} />\n              </td>\n              <td>\n                <span class=\"actionButton\" on:click={cancelAddTincture}>&times;</span>\n              </td>\n            </tr>\n          {/if}\n          {#each tData as t (t.t)}\n            <tr animate:flip>\n              <td>{t.t}</td>\n              <td>{t.type}</td>\n              <td>\n                <input type=\"color\" bind:value={$colors[t.t]} />\n                {#if defaultColors[t.t] && $colors[t.t] !== defaultColors[t.t]}\n                  <svg on:click={() => ($colors[t.t] = defaultColors[t.t])} width=\"12\" height=\"12\" fill=\"#fff\" data-tooltip=\"Restore default color\" use:tooltip>\n                    <use href=\"#undo-icon\" />\n                  </svg>\n                {/if}\n              </td>\n              <td>\n                <input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={$tinctures[t.type][t.t]} />\n                <span class=\"totalChance\">/ {getTotalChance(t.type)}</span>\n              </td>\n              <td>\n                <span class=\"actionButton\" on:click={() => removeTincture(t)}>&times;</span>\n              </td>\n            </tr>\n          {/each}\n        </tbody>\n      </table>\n    </div>\n  </div>\n</div>\n\n<style>\n  #tinctures {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    z-index: 1;\n    left: 0;\n    top: 0;\n    background-color: rgba(0, 0, 0, 0.9);\n    transition: 0.5s;\n    text-align: center;\n    user-select: none;\n  }\n\n  #tincturesCont {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    overflow: auto;\n    scrollbar-width: thin;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n\n  #tincturesCont::-webkit-scrollbar {\n    width: 6px;\n    background-color: #cccccc80;\n  }\n\n  #tincturesCont::-webkit-scrollbar-thumb {\n    background-color: #111;\n  }\n\n  @media only screen and (orientation: portrait) {\n    #tincturesCont {\n      flex-direction: column;\n    }\n  }\n\n  span.close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    cursor: pointer;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  .close:hover,\n  .actionButton:hover {\n    color: #fff;\n  }\n\n  table {\n    color: #ddd;\n    text-transform: capitalize;\n    min-width: 350px;\n    max-width: 80vw;\n    display: block;\n    max-height: 80vh;\n  }\n\n  td {\n    width: 4em;\n  }\n\n  #tincturesTable td:nth-child(3) {\n    width: 5em;\n  }\n\n  input[type=\"color\"] {\n    padding: 0;\n    border: 0;\n    cursor: pointer;\n  }\n\n  input[type=\"text\"] {\n    width: 6em;\n  }\n\n  input[type=\"number\"] {\n    width: 4em;\n  }\n\n  .totalChance {\n    position: absolute;\n    margin: 0.1em 0 0 -2.1em;\n    color: #333;\n    user-select: none;\n    pointer-events: none;\n    font-size: 0.6em;\n  }\n\n  .actionButton {\n    font-size: 2em;\n    cursor: pointer;\n  }\n\n  .contolButtons > button {\n    width: 9em;\n    margin: 1em 0.1em;\n  }\n</style>\n","<script>\n  import {onMount} from \"svelte\";\n  import {fly, fade} from \"svelte/transition\";\n  import {message} from \"data/stores\";\n\n  const {text, type = \"info\", timeout = 4000} = $message;\n\n  onMount(async () => {\n    const text = $message.text;\n    setTimeout(() => {\n      if ($message?.text === text) $message = null;\n    }, timeout);\n  });\n\n  function hideMessage() {\n    $message = null;\n  }\n</script>\n\n<div class={type} in:fly={{y: 200, duration: 500}} out:fade={{duration: 300}} on:click={hideMessage}>\n  {text}\n</div>\n\n<style>\n  div {\n    position: absolute;\n    bottom: 0%;\n    left: 50%;\n    line-height: 1.4em;\n    padding: 0.8em;\n    transform: translate(-50%, -50%);\n    z-index: 99;\n    max-width: 80%;\n    width: max-content;\n    user-select: none;\n    background-color: #00000095;\n  }\n\n  .error {\n    color: #e90000;\n  }\n\n  .warn {\n    color: #dd7200;\n  }\n\n  .info {\n    color: #fff;\n  }\n\n  .tip {\n    color: #fff;\n    border-radius: 10px;\n  }\n\n  .success {\n    color: #0fc63a;\n  }\n</style>\n","<script>\n  import WindowEvents from \"./WindowEvents.svelte\";\n  import Navbar from \"./navigation/Navbar.svelte\";\n  import About from \"./navigation/About.svelte\";\n  import License from \"./navigation/License.svelte\";\n  import Viewer from \"./navigation/Viewer.svelte\";\n  import Editor from \"./editor/Editor.svelte\";\n  import Gallery from \"./navigation/Gallery.svelte\";\n  import UploadRaster from \"./navigation/UploadRaster.svelte\";\n  import UploadVector from \"./navigation/UploadVector.svelte\";\n  import Tinctures from \"./navigation/Tinctures.svelte\";\n  import Message from \"./Message.svelte\";\n  import {background, size, history, matrices, matrix, state, message, shield} from \"data/stores\";\n  import {shields} from \"data/shields\";\n  import {rw} from \"scripts/utils\";\n\n  let n,\n    w,\n    h,\n    gallery = [],\n    seed,\n    coaSize = 200;\n\n  checkLoadParameters(); // on load\n  $: [n, w, h] = defineGallerySize($size);\n  $: handleMatrixChange($matrix, $size);\n\n  function handleMatrixChange() {\n    const l = $history.length;\n\n    // reroll is clicked\n    if (!$matrices[$matrix]) {\n      if ($state.edit) {\n        // generate new coa\n        $matrices[$matrix] = $matrices[$matrix - 1].slice();\n        $matrices[$matrix][$state.i] = l;\n        seed = undefined; // use once\n      } else {\n        // reroll gallery\n        $matrices[$matrix] = Array.from({length: n}, (_, i) => l + i++);\n      }\n\n      // change shield if it's not locked (manually selected)\n      if (!localStorage.getItem(\"shield\")) {\n        $shield = rw(shields[rw(shields.types)]);\n      }\n    }\n\n    // add additional coas to matrix if size is smaller\n    if ($matrices[$matrix].length < n) {\n      const m = $matrices[$matrix];\n      $matrices[$matrix] = [...Array(n).keys()].map(i => (m[i] !== undefined ? m[i] : l + i));\n    }\n    gallery = $matrices[$matrix].slice(0, n); // trim gallery if size was bigger\n\n    // on coa edit or view mode\n    if ($state.edit || $state.view) $state.c = $matrices[$matrix][$state.i];\n  }\n\n  function checkLoadParameters() {\n    const url = new URL(window.location);\n    const viewParam = url.searchParams.get(\"view\") == 1;\n    const sizeParam = +url.searchParams.get(\"size\");\n    const coaParam = url.searchParams.get(\"coa\");\n    const seedParam = url.searchParams.get(\"seed\");\n    const from = url.searchParams.get(\"from\");\n\n    if (!coaParam && !seedParam) return; // no predefined coa, regular flow (generate gallery)\n\n    if (coaParam) {\n      // exact coa to render\n      if (!validateJSON(coaParam)) return;\n      $history.push(JSON.parse(coaParam));\n    } else if (seedParam) {\n      // exact seed to use\n      seed = isNaN(+seedParam) ? seedParam : +seedParam;\n    }\n\n    if (coaParam || seedParam) {\n      if (from === \"FMG\") {\n        const text = \"Configure emblem, save it in SVG format and then load back to the Fantasy Map Generator\";\n        $message = {type: \"info\", text, timeout: 10000};\n      }\n      $matrices[0] = [0];\n      if (viewParam) {\n        if (sizeParam) coaSize = sizeParam;\n        $state.view = 1; // open in view only mode\n      } else $state.edit = 1; // open in edit mode\n    }\n  }\n\n  function validateJSON(text) {\n    try {\n      JSON.parse(text);\n      return true;\n    } catch (e) {\n      console.error(e);\n      $message = {type: \"error\", text: `URL error: ${e.message}`, timeout: 5000};\n      return false;\n    }\n  }\n\n  // define number and size of coas to display\n  function defineGallerySize(desiredSize) {\n    const width = window.innerWidth;\n    const height = window.innerHeight - 60;\n    const numberX = Math.ceil(width / desiredSize);\n    const w = Math.floor(width / numberX);\n    const numberY = Math.floor(height / w);\n    const h = Math.floor(height / numberY);\n    return [numberX * numberY, w, h];\n  }\n</script>\n\n{#if $state.view}\n  <Viewer c={$state.c} {seed} {coaSize} />\n{:else}\n  <main style=\"background-color: {$background}\">\n    <Navbar />\n    {#if $state.about}<About />{/if}\n    {#if $state.license}<License />{/if}\n    {#if $state.raster}<UploadRaster />{/if}\n    {#if $state.vector}<UploadVector />{/if}\n    {#if $state.tinctures}<Tinctures />{/if}\n    {#if $state.edit}<Editor c={$state.c} {seed} />\n    {:else}<Gallery {gallery} {w} {h} />{/if}\n    {#if $message}<Message />{/if}\n  </main>\n{/if}\n<WindowEvents />\n\n<style>\n  main {\n    background-image: url(\"data:image/svg+xml,%3Csvg width='84' height='84' viewBox='0 0 84 84' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none'%3E%3Cg fill='%23222' fill-opacity='.2'%3E%3Cpath d='M84 23c-4.417 0-8-3.584-8-7.998V8h-7.002C64.58 8 61 4.42 61 0H23c0 4.417-3.584 8-7.998 8H8v7.002C8 19.42 4.42 23 0 23v38c4.417 0 8 3.584 8 7.998V76h7.002C19.42 76 23 79.58 23 84h38c0-4.417 3.584-8 7.998-8H76v-7.002C76 64.58 79.58 61 84 61V23zM59.05 83H43V66.95c5.054-.5 9-4.764 9-9.948V52h5.002c5.18 0 9.446-3.947 9.95-9H83v16.05c-5.054.5-9 4.764-9 9.948V74h-5.002c-5.18 0-9.446 3.947-9.95 9zm-34.1 0H41V66.95c-5.053-.502-9-4.768-9-9.948V52h-5.002c-5.184 0-9.447-3.946-9.95-9H1v16.05c5.053.502 9 4.768 9 9.948V74h5.002c5.184 0 9.447 3.946 9.95 9zm0-82H41v16.05c-5.054.5-9 4.764-9 9.948V32h-5.002c-5.18 0-9.446 3.947-9.95 9H1V24.95c5.054-.5 9-4.764 9-9.948V10h5.002c5.18 0 9.446-3.947 9.95-9zm34.1 0H43v16.05c5.053.502 9 4.768 9 9.948V32h5.002c5.184 0 9.447 3.946 9.95 9H83V24.95c-5.053-.502-9-4.768-9-9.948V10h-5.002c-5.184 0-9.447-3.946-9.95-9zM50 50v7.002C50 61.42 46.42 65 42 65c-4.417 0-8-3.584-8-7.998V50h-7.002C22.58 50 19 46.42 19 42c0-4.417 3.584-8 7.998-8H34v-7.002C34 22.58 37.58 19 42 19c4.417 0 8 3.584 8 7.998V34h7.002C61.42 34 65 37.58 65 42c0 4.417-3.584 8-7.998 8H50z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\");\n  }\n</style>\n","export const query = document.querySelector.bind(document);\nexport const queryAll = document.querySelectorAll.bind(document);\nNode.prototype.on = window.on = function (name, fn) {\n    this.addEventListener(name, fn);\n};\nNode.prototype.off = window.off = function (name, fn) {\n    this.removeEventListener(name, fn);\n};\n","import App from \"./components/App.svelte\";\nimport \"scripts/aliases\";\n\n// register serviceWorker\nif (\"serviceWorker\" in navigator) {\n  navigator.serviceWorker.register(\"./sw.js\");\n}\n\nconst app = new App({\n  target: document.body,\n  props: {}\n});\n\nexport default app;\n"],"names":["noop","identity","x","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","tar","src","k","assign","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","p","get_all_dirty_from_scope","null_to_empty","set_store_value","ret","set","action_destroyer","action_result","destroy","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","loop","promise","Promise","fulfill","add","abort","append","target","node","appendChild","get_root_for_style","document","root","getRootNode","ownerDocument","host","append_empty_stylesheet","style_element","element","style","head","append_stylesheet","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","name","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","attr","attribute","removeAttribute","getAttribute","setAttribute","xlink_attr","setAttributeNS","to_number","set_data","wholeText","set_input_value","input","set_style","key","important","setProperty","select_option","select","option","__value","selected","selectedIndex","select_value","selected_option","querySelector","toggle_class","toggle","classList","HtmlTag","constructor","e","n","html","h","m","nodeName","t","innerHTML","Array","from","childNodes","active_docs","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","rule","str","hash","charCodeAt","doc","stylesheet","__svelte_stylesheet","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","delete_rule","previous","split","next","filter","anim","indexOf","deleted","join","deleteRule","clear","fix_position","getComputedStyle","position","width","height","getBoundingClientRect","left","top","transform","add_transform","set_current_component","onMount","Error","get_current_component","on_mount","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","add_render_callback","add_flush_callback","flushing","seen_callbacks","flush","update","pop","has","fragment","before_update","after_update","wait","then","dispatch","direction","kind","dispatchEvent","type","detail","bubbles","createEvent","initCustomEvent","custom_event","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","params","animation_name","config","running","cleanup","go","easing","tick","css","start_time","end_time","started","start","invalidate","end","create_bidirectional_transition","intro","running_program","pending_program","clear_animation","init","program","abs","group","globals","globalThis","global","outro_and_destroy_block","lookup","fix_and_destroy_block","destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","get_context","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","will_move","did_move","first","new_block","old_block","new_key","old_key","bind","index","props","bound","create_component","mount_component","customElement","new_on_destroy","map","destroy_component","make_dirty","fill","instance","create_fragment","not_equal","append_styles","parent_component","on_disconnect","context","skip_bound","ready","rest","hydrate","nodes","children","l","SvelteComponent","$destroy","$on","splice","$set","$$props","obj","$$set","keys","subscriber_queue","writable","stop","subscribers","new_value","run_queue","subscriber","defaultTinctures","field","metals","colours","stains","patterns","division","charge","argent","or","gules","azure","sable","purpure","vert","murrey","sanguine","semy","ermine","vair","counterVair","vairInPale","vairEnPointe","vairAncien","potent","counterPotent","potentInPale","potentEnPointe","chequy","lozengy","fusily","pally","barry","gemelles","bendy","bendySinister","palyBendy","barryBendy","pappellony","pappellony2","scaly","plumetty","masoned","fretty","grillage","chainy","maily","honeycombed","defaultColors","positionsSelect","positions","conventional","abcdefgzi","beh","behdf","acegi","kn","bhdf","jeo","abc","jln","jlh","kmo","jleh","def","abcpqh","ABCDEFGHIJKL","complex","divisions","perPale","pq","jo","jl","perFess","jkl","gizgiz","perBend","lm","bcfdgh","perBendSinister","perCross","jlmo","j","perChevron","dfk","dfbh","bdefh","perChevronReversed","mok","dfh","perSaltire","bh","df","perPile","ee","be","abceh","abcabc","ordinariesOn","pale","bb","fess","bar","defdefdef","fessCotissed","fessDoubleCotissed","defdef","bend","joe","bendSinister","lem","bendlet","joejoejoe","bendletSinister","lemlemlem","bordure","chief","bbb","quarter","jjj","canton","yyyy","cross","eeee","behdfbehdf","behbehbeh","crossParted","saltire","jlemo","saltireParted","pall","jlhh","pallReversed","bemo","pile","pileInBend","eeoo","pileInBendSinister","eemm","ordinariesOff","yyy","abcz","abcgzi","bgi","ach","gemelle","ccg","ccc","aai","aaa","kenken","peqpeq","orle","emo","emoz","ez","terrace","bdf","mount","point","acbdef","flaunches","gyron","acgi","BCKFEILGJbdmfo","aczac","chevron","hhh","chevronReversed","acdfgi","acac","cg","ai","label","defgzi","eh","defdefhmo","egiegi","pqn","inescutcheon","mascle","pqe","eknpq","lionRampant","lionPassant","wolfPassant","griffinRampant","griffinPassant","boarRampant","eagle","raven","wyvern","garb","lme","crown","hand","armillarySphere","tree","lymphad","headWreathed","cavalier","angel","lines","straight","wavy","engrailed","invecked","rayonne","embattled","raguly","urdy","dancetty","indented","dentilly","bevilled","angled","flechy","barby","enclavy","escartely","arched","archedReversed","nowy","nowyReversed","embattledGhibellin","embattledNotched","embattledGrady","dovetailedIndented","dovetailed","potenty","potentyDexter","potentySinister","nebuly","seaWaves","dragonTeeth","firTrees","variants","gyronny","chevronny","ordinaries","lined","gore","piles","pilesInPoint","patternable","charges","types","crosses","animals","animalHeads","birds","aquatic","seafaring","fantastic","plants","agriculture","arms","bodyparts","people","architecture","miscellaneous","uploaded","single","lozenge","fusil","rustre","lozengeFaceted","lozengePloye","roundel","roundel2","annulet","mullet","mulletPierced","mulletFaceted","mullet4","mullet6","mullet6Pierced","mullet6Faceted","mullet7","mullet8","mullet10","estoile","compassRose","billet","delf","triangle","trianglePierced","goutte","heart","pique","carreau","trefle","fleurDeLis","sun","sunInSplendour","crescent","fountain","inescutcheonHeater","inescutcheonSpanish","inescutcheonFrench","inescutcheonHorsehead","inescutcheonHorsehead2","inescutcheonPolish","inescutcheonHessen","inescutcheonSwiss","inescutcheonBoeotian","inescutcheonRoman","inescutcheonKite","inescutcheonOldFrench","inescutcheonRenaissance","inescutcheonBaroque","inescutcheonTarge","inescutcheonTarge2","inescutcheonPavise","inescutcheonWedged","inescutcheonFlag","inescutcheonPennon","inescutcheonGuidon","inescutcheonBanner","inescutcheonDovetail","inescutcheonGonfalon","inescutcheonPennant","inescutcheonRound","inescutcheonOval","inescutcheonVesicaPiscis","inescutcheonSquare","inescutcheonDiamond","inescutcheonNo","inescutcheonFantasy1","inescutcheonFantasy2","inescutcheonFantasy3","inescutcheonFantasy4","inescutcheonFantasy5","inescutcheonNoldor","inescutcheonGondor","inescutcheonEasterling","inescutcheonErebor","inescutcheonIronHills","inescutcheonUrukHai","inescutcheonMoriaOrc","crossHummetty","crossVoided","crossPattee","crossPatteeAlisee","crossFormee","crossFormee2","crossPotent","crossJerusalem","crosslet","crossClechy","crossBottony","crossFleury","crossPatonce","crossPommy","crossGamma","crossArrowed","crossFitchy","crossCercelee","crossMoline","crossFourchy","crossAvellane","crossErminee","crossBiparted","crossMaltese","crossTemplar","crossCeltic","crossCeltic2","crossTriquetra","crossCarolingian","crossOccitan","crossSaltire","crossBurgundy","crossLatin","crossPatriarchal","crossOrthodox","crossCalvary","crossDouble","crossTau","crossSantiago","crossAnkh","lionPassantGuardant","wolfRampant","wolfStatant","greyhoundCourant","horseRampant","horseSalient","bearRampant","bearPassant","bullPassant","goat","lamb","elephant","camel","wolfHeadErased","bullHeadCaboshed","deerHeadCaboshed","lionHeadCaboshed","dragonPassant","dragonRampant","wyvernWithWingsDisplayed","eagleTwoHeards","unicornRampant","pegasus","serpent","cock","parrot","swan","swanErased","heron","owl","oak","cinquefoil","rose","escallop","pike","cancer","dolphin","boat","boat2","rake","sword","sabre","sabresCrossed","hatchet","axe","lochaberAxe","mallet","bowWithArrow","bow","arrow","arrowsSheaf","helmet","monk","tower","castle","orb","chalice","buckle","bugleHorn","bugleHorn2","bell","pot","bucket","horseshoe","attire","stagsAttires","ramsHorn","cowHorns","wing","wingSword","lute","harp","wheel","crosier","fasces","log","natural","sinister","reversed","patternSize","standard","small","smaller","big","smallest","shields","basic","regional","historical","specific","banner","simple","fantasy","middleEarth","heater","spanish","french","horsehead","horsehead2","polish","hessen","swiss","boeotian","roman","kite","oldFrench","renaissance","baroque","targe","targe2","pavise","wedged","flag","pennon","guidon","dovetail","gonfalon","pennant","round","oval","vesicaPiscis","square","diamond","no","fantasy1","fantasy2","fantasy3","fantasy4","fantasy5","noldor","gondor","easterling","erebor","ironHills","urukHai","moriaOrc","shieldPaths","shieldBox","shieldSize","shieldPositions","g","y","z","q","A","B","C","D","K","E","J","F","I","G","H","L","ra","array","floor","random","rw","object","save","defineProperty","enumerable","configurable","P","probability","camelize","toLowerCase","replace","toUpperCase","capitalize","string","s","charAt","substr","link","url","stored","localStorage","getItem","storedObj","JSON","parse","diaper","grad","shield","coaParam","URL","location","searchParams","getShieldFromURL","colors","stringify","tinctures","border","borderWidth","background","scale","grid","showGrid","defineInitialOptions","history","matrices","matrix","state","edit","about","message","changes","refresh","reset","undo","redo","createChangesTracker","isFirefox","navigator","userAgent","includes","async","download","format","coas","getElementById","querySelectorAll","numberX","innerWidth","numberY","ceil","scaleValue","canvas","getContext","loaded","svg","addedElements","clone","cloneNode","getElementsByTagName","gridPattern","remove","gr","di","insertAdjacentHTML","defs","outerHTML","el","fieldPattern","getElementsByClassName","addPattern","divisionPattern","pattern","match","serialized","XMLSerializer","serializeToString","pretty","source","xmlDoc","DOMParser","parseFromString","xsltDoc","xsltProcessor","XSLTProcessor","importStylesheet","resultDoc","transformToDocument","prettify","blob","Blob","createObjectURL","setTimeout","revokeObjectURL","getURL","getTimestamp","href","click","downloadVector","img","Image","onload","drawImage","toDataURL","drawCanvas","downloadRaster","formatTime","time","date","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","touch","startX","startY","onbeforeunload","code","ctrl","ctrlKey","activeElement","tagName","$matrix","$state","raster","vector","$message","changedTouches","screenX","screenY","menu","navbar","contains","diffX","diffY","ratioX","ratioY","tooltip","isTouchAvailable","dataset","div","limit","mouseEnter","selector","gesture","hotkey","textContent","className","body","bbox","innerHeight","mouseLeave","mouseMove","min","pageX","pageY","on","off","Boolean","tip","locked","stopPropagation","removeItem","cubicInOut","pow","cubicOut","fade","linear","opacity","fly","target_opacity","od","u","slide","parseFloat","padding_top","paddingTop","padding_bottom","paddingBottom","margin_top","marginTop","margin_bottom","marginBottom","border_top_width","borderTopWidth","border_bottom_width","borderBottomWidth","draw","speed","getTotalLength","strokeLinecap","parseInt","strokeWidth","sizes","gradients","diapers","goHome","restoreDefault","origin","pathname","installable","prompt","wideScreen","change","setItem","coa","$changes","$shield","copyToClipboard","stringToCopy","response","clipboard","writeText","timeout","err","console","error","install","userChoice","choise","$background","$border","$borderWidth","$scale","icon","replaceAll","encodeURI","sh","license","open","metal","t1","t2","flat","chargeData","licenseURL","licenseName","getLicenseName","sourceURL","author","sort","isLicenseSame","drag","currentTarget","x0","y0","sizeAdj","closest","move","resize","rotate","cursor","once","angle","gridSize","dx","dy","setTransform","cx","cy","x1","y1","atan2","PI","tr","shiftKey","metaKey","trim","templates","perFessLined","line","perPaleLined","perBendLined","perBendSinisterLined","perChevronLined","perChevronReversedLined","perCrossLined","perPileLined","fessLined","paleLined","bendLined","bendSinisterLined","chiefLined","barLined","gemelleLined","fessCotissedLined","fessDoubleCotissedLined","bendletLined","bendletSinisterLined","terraceLined","crossLined","crossPartedLined","saltireLined","saltirePartedLined","c1","c2","chargeId","chargesGroup","colorsData","loadedCharges","getTemplate","id","linedId","linePath","patternId","test","addCharge","clr","getSizeMod","shieldName","licenseAttrs","addInescutcheon","fetch","res","ok","metadata","catch","fetchCharge","tincture","ordinary","stroke","shieldPath","sizeModifier","sx","sy","translate","divided","seed","ordinariesRegular","above","ordinariesAboveCharges","coaDiaper","diaperType","overFill","$colors","$diaper","getDieperType","$grad","chargesData","ordinariesData","getClass","points","entries","w","viewBox","generate","args","version","s0","s1","s2","initialArgs","uinta","Uint32Array","mashver","_initState","_internalSeed","mash","toString","Mash","_isInteger","_int","fract53","int32","cycle","_run","range","loBound","hiBound","arguments","restart","prototype","versions","crypto","getRandomValues","aleaPRNG","usedPattern","usedTinctures","tData","divisioned","getTincture","linedOrdinary","rareDivided","selectCharge","ordinaryT","concat","allowCounter","p2","p1","p3","p4","c3","t3","c4","t4","getSize","defineChargeAttributes","replaceTincture","getType","fields","RoT","base","startWithMetal","definePattern","search","focus","coaSize","$history","itemSize","$tinctures","query","queryOld","category","categories","allCharges","chargeList","getCharge","regEx","RegExp","results","showResults","divisionList","lineList","ordinariesList","checked","showStroke","showPositions","$grid","$showGrid","els","cap","isRaster","section","ratio","defineMenuState","isPattern","isSemy","getSemyCharge","getChargeCategory","find","getSemyType","selectSecondTincture","getField","tSplit","getDivision","getOrdinaries","getCharges","reroll","attibutes","item","gallery","regenerate","$matrices","editCOA","font","getFilesFromInputEvent","getFilesFromDropEvent","dataTransfer","files","items","getAsFile","dragging","offsetX","offsetY","getFilesFunction","file","reader","FileReader","readerEvent","dataURL","result","readAsDataURL","loadImage","image","downloadTemplate","color","tinctureList","transformString","values","updateTransform","svgText","getAttributeNames","consolidated","baseVal","consolidate","fix","toFixed","readAsText","flip","to","ox","oy","transformOrigin","sqrt","chance","right","bottom","show","lock","removeTincture","reduce","view","viewParam","sizeParam","seedParam","validateJSON","isNaN","checkLoadParameters","desiredSize","defineGallerySize","$size","handleMatrixChange","Node","serviceWorker","register","app"],"mappings":"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"}