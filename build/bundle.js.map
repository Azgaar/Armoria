{"version":3,"file":"bundle.js","sources":["../../node_modules/svelte/internal/index.mjs","../../src/data/shields.ts","../../src/config/defaults.ts","../../src/scripts/utils.ts","../../node_modules/svelte/store/index.mjs","../../src/data/validators.ts","../../src/data/stores.ts","../../src/data/dataModel.js","../../node_modules/deepmerge/dist/cjs.js","../../node_modules/tslib/tslib.es6.js","../../node_modules/@formatjs/icu-messageformat-parser/lib/error.js","../../node_modules/@formatjs/icu-messageformat-parser/lib/types.js","../../node_modules/@formatjs/icu-messageformat-parser/lib/regex.generated.js","../../node_modules/@formatjs/icu-skeleton-parser/lib/date-time.js","../../node_modules/@formatjs/icu-skeleton-parser/lib/regex.generated.js","../../node_modules/@formatjs/icu-skeleton-parser/lib/number.js","../../node_modules/@formatjs/icu-messageformat-parser/lib/parser.js","../../node_modules/@formatjs/icu-messageformat-parser/lib/index.js","../../node_modules/@formatjs/fast-memoize/lib/index.js","../../node_modules/intl-messageformat/lib/src/error.js","../../node_modules/intl-messageformat/lib/src/formatters.js","../../node_modules/intl-messageformat/lib/src/core.js","../../node_modules/intl-messageformat/lib/index.js","../../node_modules/svelte-i18n/dist/runtime.esm.js","../../src/scripts/i18n.ts","../../node_modules/svelte/easing/index.mjs","../../node_modules/svelte/transition/index.mjs","../../src/components/Message.svelte","../../src/scripts/download.js","../../src/scripts/navbar.ts","../../src/components/WindowEvents.svelte","../../src/scripts/generator.js","../../src/scripts/alea.js","../../src/scripts/highlight.js","../../src/components/editor/Grid.svelte","../../src/components/editor/Positions.svelte","../../src/scripts/drag.js","../../src/data/templates.js","../../src/scripts/getters.js","../../src/components/object/Ordinary.svelte","../../src/components/object/Charge.svelte","../../src/components/object/Inscription.svelte","../../src/components/object/Shield.svelte","../../src/components/object/COA.svelte","../../src/components/editor/Switch.svelte","../../src/scripts/tooltip.ts","../../src/components/editor/EditorAbove.svelte","../../src/components/editor/EditorItem.svelte","../../src/components/editor/EditorCharge.svelte","../../src/components/editor/EditorControls.svelte","../../src/components/editor/EditorDivided.svelte","../../src/components/editor/EditorDivision.svelte","../../src/components/editor/EditorGeneral.svelte","../../src/components/editor/EditorInscription.svelte","../../src/components/editor/EditorLayered.svelte","../../src/components/editor/EditorLine.svelte","../../src/components/editor/EditorOrdinary.svelte","../../src/components/editor/EditorOutside.svelte","../../src/components/editor/EditorPath.svelte","../../src/components/editor/EditorPattern.svelte","../../src/components/editor/EditorPosition.svelte","../../src/components/editor/EditorRestore.svelte","../../src/components/editor/EditorShadow.svelte","../../src/components/editor/EditorShield.svelte","../../src/components/editor/EditorShift.svelte","../../src/components/editor/EditorSize.svelte","../../src/components/editor/EditorStroke.svelte","../../src/components/editor/EditorTincture.svelte","../../src/components/editor/EditorType.svelte","../../src/components/editor/Editor.svelte","../../src/components/navigation/AnimatedCOA.svelte","../../src/components/navigation/About.svelte","../../src/components/navigation/Fonts.svelte","../../src/components/navigation/Gallery.svelte","../../src/components/navigation/License.svelte","../../node_modules/svelte/animate/index.mjs","../../src/components/navigation/Tinctures.svelte","../../src/components/navigation/UploadJSON.svelte","../../src/components/navigation/LicenseList.svelte","../../src/scripts/aliases.ts","../../src/components/navigation/UploadRaster.svelte","../../src/components/navigation/UploadVector.svelte","../../src/components/navigation/Viewer.svelte","../../src/components/navigation/header/menu/Logo.svelte","../../src/components/navigation/header/shared/NavLabel.svelte","../../src/components/navigation/header/shared/NavItem.svelte","../../src/components/navigation/header/shared/NavButton.svelte","../../src/components/navigation/header/shared/Lock.svelte","../../src/components/navigation/header/menu/options/NavShieldOption.svelte","../../src/components/navigation/header/menu/options/NavColorsOption.svelte","../../src/config/options.js","../../src/components/navigation/header/menu/options/NavGradientOption.svelte","../../src/components/navigation/header/menu/options/NavDamaskingOption.svelte","../../src/components/navigation/header/menu/options/NavGalleryOption.svelte","../../src/components/navigation/header/shared/IconButton.svelte","../../src/components/shared/ColorInput.svelte","../../src/components/shared/NumberInput.svelte","../../src/components/navigation/header/menu/options/NavBorderOption.svelte","../../src/components/navigation/header/menu/options/NavBackgroundOption.svelte","../../src/components/navigation/header/menu/options/NavFontOption.svelte","../../src/components/shared/RangeInput.svelte","../../src/components/navigation/header/menu/options/NavScaleOption.svelte","../../src/components/navigation/header/menu/options/Options.svelte","../../src/components/navigation/header/menu/Rollback.svelte","../../src/components/navigation/header/menu/Reroll.svelte","../../src/components/navigation/header/menu/Save.svelte","../../src/components/navigation/header/menu/Upload.svelte","../../src/components/navigation/header/menu/Install.svelte","../../src/components/navigation/header/menu/Other.svelte","../../src/components/navigation/header/menu/Undo.svelte","../../src/components/navigation/header/menu/Redo.svelte","../../src/components/navigation/header/menu/License.svelte","../../src/components/navigation/header/menu/About.svelte","../../src/components/navigation/header/menu/Support.svelte","../../src/components/navigation/header/menu/Language.svelte","../../src/components/navigation/header/menu/Back.svelte","../../src/components/navigation/header/Navbar.svelte","../../src/components/App.svelte","../../src/main.js"],"sourcesContent":["function noop() { }\nconst identity = x => x;\nfunction assign(tar, src) {\n    // @ts-ignore\n    for (const k in src)\n        tar[k] = src[k];\n    return tar;\n}\nfunction is_promise(value) {\n    return value && typeof value === 'object' && typeof value.then === 'function';\n}\nfunction add_location(element, file, line, column, char) {\n    element.__svelte_meta = {\n        loc: { file, line, column, char }\n    };\n}\nfunction run(fn) {\n    return fn();\n}\nfunction blank_object() {\n    return Object.create(null);\n}\nfunction run_all(fns) {\n    fns.forEach(run);\n}\nfunction is_function(thing) {\n    return typeof thing === 'function';\n}\nfunction safe_not_equal(a, b) {\n    return a != a ? b == b : a !== b || ((a && typeof a === 'object') || typeof a === 'function');\n}\nlet src_url_equal_anchor;\nfunction src_url_equal(element_src, url) {\n    if (!src_url_equal_anchor) {\n        src_url_equal_anchor = document.createElement('a');\n    }\n    src_url_equal_anchor.href = url;\n    return element_src === src_url_equal_anchor.href;\n}\nfunction not_equal(a, b) {\n    return a != a ? b == b : a !== b;\n}\nfunction is_empty(obj) {\n    return Object.keys(obj).length === 0;\n}\nfunction validate_store(store, name) {\n    if (store != null && typeof store.subscribe !== 'function') {\n        throw new Error(`'${name}' is not a store with a 'subscribe' method`);\n    }\n}\nfunction subscribe(store, ...callbacks) {\n    if (store == null) {\n        return noop;\n    }\n    const unsub = store.subscribe(...callbacks);\n    return unsub.unsubscribe ? () => unsub.unsubscribe() : unsub;\n}\nfunction get_store_value(store) {\n    let value;\n    subscribe(store, _ => value = _)();\n    return value;\n}\nfunction component_subscribe(component, store, callback) {\n    component.$$.on_destroy.push(subscribe(store, callback));\n}\nfunction create_slot(definition, ctx, $$scope, fn) {\n    if (definition) {\n        const slot_ctx = get_slot_context(definition, ctx, $$scope, fn);\n        return definition[0](slot_ctx);\n    }\n}\nfunction get_slot_context(definition, ctx, $$scope, fn) {\n    return definition[1] && fn\n        ? assign($$scope.ctx.slice(), definition[1](fn(ctx)))\n        : $$scope.ctx;\n}\nfunction get_slot_changes(definition, $$scope, dirty, fn) {\n    if (definition[2] && fn) {\n        const lets = definition[2](fn(dirty));\n        if ($$scope.dirty === undefined) {\n            return lets;\n        }\n        if (typeof lets === 'object') {\n            const merged = [];\n            const len = Math.max($$scope.dirty.length, lets.length);\n            for (let i = 0; i < len; i += 1) {\n                merged[i] = $$scope.dirty[i] | lets[i];\n            }\n            return merged;\n        }\n        return $$scope.dirty | lets;\n    }\n    return $$scope.dirty;\n}\nfunction update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn) {\n    if (slot_changes) {\n        const slot_context = get_slot_context(slot_definition, ctx, $$scope, get_slot_context_fn);\n        slot.p(slot_context, slot_changes);\n    }\n}\nfunction update_slot(slot, slot_definition, ctx, $$scope, dirty, get_slot_changes_fn, get_slot_context_fn) {\n    const slot_changes = get_slot_changes(slot_definition, $$scope, dirty, get_slot_changes_fn);\n    update_slot_base(slot, slot_definition, ctx, $$scope, slot_changes, get_slot_context_fn);\n}\nfunction get_all_dirty_from_scope($$scope) {\n    if ($$scope.ctx.length > 32) {\n        const dirty = [];\n        const length = $$scope.ctx.length / 32;\n        for (let i = 0; i < length; i++) {\n            dirty[i] = -1;\n        }\n        return dirty;\n    }\n    return -1;\n}\nfunction exclude_internal_props(props) {\n    const result = {};\n    for (const k in props)\n        if (k[0] !== '$')\n            result[k] = props[k];\n    return result;\n}\nfunction compute_rest_props(props, keys) {\n    const rest = {};\n    keys = new Set(keys);\n    for (const k in props)\n        if (!keys.has(k) && k[0] !== '$')\n            rest[k] = props[k];\n    return rest;\n}\nfunction compute_slots(slots) {\n    const result = {};\n    for (const key in slots) {\n        result[key] = true;\n    }\n    return result;\n}\nfunction once(fn) {\n    let ran = false;\n    return function (...args) {\n        if (ran)\n            return;\n        ran = true;\n        fn.call(this, ...args);\n    };\n}\nfunction null_to_empty(value) {\n    return value == null ? '' : value;\n}\nfunction set_store_value(store, ret, value) {\n    store.set(value);\n    return ret;\n}\nconst has_prop = (obj, prop) => Object.prototype.hasOwnProperty.call(obj, prop);\nfunction action_destroyer(action_result) {\n    return action_result && is_function(action_result.destroy) ? action_result.destroy : noop;\n}\n\nconst is_client = typeof window !== 'undefined';\nlet now = is_client\n    ? () => window.performance.now()\n    : () => Date.now();\nlet raf = is_client ? cb => requestAnimationFrame(cb) : noop;\n// used internally for testing\nfunction set_now(fn) {\n    now = fn;\n}\nfunction set_raf(fn) {\n    raf = fn;\n}\n\nconst tasks = new Set();\nfunction run_tasks(now) {\n    tasks.forEach(task => {\n        if (!task.c(now)) {\n            tasks.delete(task);\n            task.f();\n        }\n    });\n    if (tasks.size !== 0)\n        raf(run_tasks);\n}\n/**\n * For testing purposes only!\n */\nfunction clear_loops() {\n    tasks.clear();\n}\n/**\n * Creates a new task that runs on each raf frame\n * until it returns a falsy value or is aborted\n */\nfunction loop(callback) {\n    let task;\n    if (tasks.size === 0)\n        raf(run_tasks);\n    return {\n        promise: new Promise(fulfill => {\n            tasks.add(task = { c: callback, f: fulfill });\n        }),\n        abort() {\n            tasks.delete(task);\n        }\n    };\n}\n\n// Track which nodes are claimed during hydration. Unclaimed nodes can then be removed from the DOM\n// at the end of hydration without touching the remaining nodes.\nlet is_hydrating = false;\nfunction start_hydrating() {\n    is_hydrating = true;\n}\nfunction end_hydrating() {\n    is_hydrating = false;\n}\nfunction upper_bound(low, high, key, value) {\n    // Return first index of value larger than input value in the range [low, high)\n    while (low < high) {\n        const mid = low + ((high - low) >> 1);\n        if (key(mid) <= value) {\n            low = mid + 1;\n        }\n        else {\n            high = mid;\n        }\n    }\n    return low;\n}\nfunction init_hydrate(target) {\n    if (target.hydrate_init)\n        return;\n    target.hydrate_init = true;\n    // We know that all children have claim_order values since the unclaimed have been detached if target is not <head>\n    let children = target.childNodes;\n    // If target is <head>, there may be children without claim_order\n    if (target.nodeName === 'HEAD') {\n        const myChildren = [];\n        for (let i = 0; i < children.length; i++) {\n            const node = children[i];\n            if (node.claim_order !== undefined) {\n                myChildren.push(node);\n            }\n        }\n        children = myChildren;\n    }\n    /*\n    * Reorder claimed children optimally.\n    * We can reorder claimed children optimally by finding the longest subsequence of\n    * nodes that are already claimed in order and only moving the rest. The longest\n    * subsequence subsequence of nodes that are claimed in order can be found by\n    * computing the longest increasing subsequence of .claim_order values.\n    *\n    * This algorithm is optimal in generating the least amount of reorder operations\n    * possible.\n    *\n    * Proof:\n    * We know that, given a set of reordering operations, the nodes that do not move\n    * always form an increasing subsequence, since they do not move among each other\n    * meaning that they must be already ordered among each other. Thus, the maximal\n    * set of nodes that do not move form a longest increasing subsequence.\n    */\n    // Compute longest increasing subsequence\n    // m: subsequence length j => index k of smallest value that ends an increasing subsequence of length j\n    const m = new Int32Array(children.length + 1);\n    // Predecessor indices + 1\n    const p = new Int32Array(children.length);\n    m[0] = -1;\n    let longest = 0;\n    for (let i = 0; i < children.length; i++) {\n        const current = children[i].claim_order;\n        // Find the largest subsequence length such that it ends in a value less than our current value\n        // upper_bound returns first greater value, so we subtract one\n        // with fast path for when we are on the current longest subsequence\n        const seqLen = ((longest > 0 && children[m[longest]].claim_order <= current) ? longest + 1 : upper_bound(1, longest, idx => children[m[idx]].claim_order, current)) - 1;\n        p[i] = m[seqLen] + 1;\n        const newLen = seqLen + 1;\n        // We can guarantee that current is the smallest value. Otherwise, we would have generated a longer sequence.\n        m[newLen] = i;\n        longest = Math.max(newLen, longest);\n    }\n    // The longest increasing subsequence of nodes (initially reversed)\n    const lis = [];\n    // The rest of the nodes, nodes that will be moved\n    const toMove = [];\n    let last = children.length - 1;\n    for (let cur = m[longest] + 1; cur != 0; cur = p[cur - 1]) {\n        lis.push(children[cur - 1]);\n        for (; last >= cur; last--) {\n            toMove.push(children[last]);\n        }\n        last--;\n    }\n    for (; last >= 0; last--) {\n        toMove.push(children[last]);\n    }\n    lis.reverse();\n    // We sort the nodes being moved to guarantee that their insertion order matches the claim order\n    toMove.sort((a, b) => a.claim_order - b.claim_order);\n    // Finally, we move the nodes\n    for (let i = 0, j = 0; i < toMove.length; i++) {\n        while (j < lis.length && toMove[i].claim_order >= lis[j].claim_order) {\n            j++;\n        }\n        const anchor = j < lis.length ? lis[j] : null;\n        target.insertBefore(toMove[i], anchor);\n    }\n}\nfunction append(target, node) {\n    target.appendChild(node);\n}\nfunction append_styles(target, style_sheet_id, styles) {\n    const append_styles_to = get_root_for_style(target);\n    if (!append_styles_to.getElementById(style_sheet_id)) {\n        const style = element('style');\n        style.id = style_sheet_id;\n        style.textContent = styles;\n        append_stylesheet(append_styles_to, style);\n    }\n}\nfunction get_root_for_style(node) {\n    if (!node)\n        return document;\n    const root = node.getRootNode ? node.getRootNode() : node.ownerDocument;\n    if (root && root.host) {\n        return root;\n    }\n    return node.ownerDocument;\n}\nfunction append_empty_stylesheet(node) {\n    const style_element = element('style');\n    append_stylesheet(get_root_for_style(node), style_element);\n    return style_element;\n}\nfunction append_stylesheet(node, style) {\n    append(node.head || node, style);\n}\nfunction append_hydration(target, node) {\n    if (is_hydrating) {\n        init_hydrate(target);\n        if ((target.actual_end_child === undefined) || ((target.actual_end_child !== null) && (target.actual_end_child.parentElement !== target))) {\n            target.actual_end_child = target.firstChild;\n        }\n        // Skip nodes of undefined ordering\n        while ((target.actual_end_child !== null) && (target.actual_end_child.claim_order === undefined)) {\n            target.actual_end_child = target.actual_end_child.nextSibling;\n        }\n        if (node !== target.actual_end_child) {\n            // We only insert if the ordering of this node should be modified or the parent node is not target\n            if (node.claim_order !== undefined || node.parentNode !== target) {\n                target.insertBefore(node, target.actual_end_child);\n            }\n        }\n        else {\n            target.actual_end_child = node.nextSibling;\n        }\n    }\n    else if (node.parentNode !== target || node.nextSibling !== null) {\n        target.appendChild(node);\n    }\n}\nfunction insert(target, node, anchor) {\n    target.insertBefore(node, anchor || null);\n}\nfunction insert_hydration(target, node, anchor) {\n    if (is_hydrating && !anchor) {\n        append_hydration(target, node);\n    }\n    else if (node.parentNode !== target || node.nextSibling != anchor) {\n        target.insertBefore(node, anchor || null);\n    }\n}\nfunction detach(node) {\n    node.parentNode.removeChild(node);\n}\nfunction destroy_each(iterations, detaching) {\n    for (let i = 0; i < iterations.length; i += 1) {\n        if (iterations[i])\n            iterations[i].d(detaching);\n    }\n}\nfunction element(name) {\n    return document.createElement(name);\n}\nfunction element_is(name, is) {\n    return document.createElement(name, { is });\n}\nfunction object_without_properties(obj, exclude) {\n    const target = {};\n    for (const k in obj) {\n        if (has_prop(obj, k)\n            // @ts-ignore\n            && exclude.indexOf(k) === -1) {\n            // @ts-ignore\n            target[k] = obj[k];\n        }\n    }\n    return target;\n}\nfunction svg_element(name) {\n    return document.createElementNS('http://www.w3.org/2000/svg', name);\n}\nfunction text(data) {\n    return document.createTextNode(data);\n}\nfunction space() {\n    return text(' ');\n}\nfunction empty() {\n    return text('');\n}\nfunction listen(node, event, handler, options) {\n    node.addEventListener(event, handler, options);\n    return () => node.removeEventListener(event, handler, options);\n}\nfunction prevent_default(fn) {\n    return function (event) {\n        event.preventDefault();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction stop_propagation(fn) {\n    return function (event) {\n        event.stopPropagation();\n        // @ts-ignore\n        return fn.call(this, event);\n    };\n}\nfunction self(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.target === this)\n            fn.call(this, event);\n    };\n}\nfunction trusted(fn) {\n    return function (event) {\n        // @ts-ignore\n        if (event.isTrusted)\n            fn.call(this, event);\n    };\n}\nfunction attr(node, attribute, value) {\n    if (value == null)\n        node.removeAttribute(attribute);\n    else if (node.getAttribute(attribute) !== value)\n        node.setAttribute(attribute, value);\n}\nfunction set_attributes(node, attributes) {\n    // @ts-ignore\n    const descriptors = Object.getOwnPropertyDescriptors(node.__proto__);\n    for (const key in attributes) {\n        if (attributes[key] == null) {\n            node.removeAttribute(key);\n        }\n        else if (key === 'style') {\n            node.style.cssText = attributes[key];\n        }\n        else if (key === '__value') {\n            node.value = node[key] = attributes[key];\n        }\n        else if (descriptors[key] && descriptors[key].set) {\n            node[key] = attributes[key];\n        }\n        else {\n            attr(node, key, attributes[key]);\n        }\n    }\n}\nfunction set_svg_attributes(node, attributes) {\n    for (const key in attributes) {\n        attr(node, key, attributes[key]);\n    }\n}\nfunction set_custom_element_data(node, prop, value) {\n    if (prop in node) {\n        node[prop] = typeof node[prop] === 'boolean' && value === '' ? true : value;\n    }\n    else {\n        attr(node, prop, value);\n    }\n}\nfunction xlink_attr(node, attribute, value) {\n    node.setAttributeNS('http://www.w3.org/1999/xlink', attribute, value);\n}\nfunction get_binding_group_value(group, __value, checked) {\n    const value = new Set();\n    for (let i = 0; i < group.length; i += 1) {\n        if (group[i].checked)\n            value.add(group[i].__value);\n    }\n    if (!checked) {\n        value.delete(__value);\n    }\n    return Array.from(value);\n}\nfunction to_number(value) {\n    return value === '' ? null : +value;\n}\nfunction time_ranges_to_array(ranges) {\n    const array = [];\n    for (let i = 0; i < ranges.length; i += 1) {\n        array.push({ start: ranges.start(i), end: ranges.end(i) });\n    }\n    return array;\n}\nfunction children(element) {\n    return Array.from(element.childNodes);\n}\nfunction init_claim_info(nodes) {\n    if (nodes.claim_info === undefined) {\n        nodes.claim_info = { last_index: 0, total_claimed: 0 };\n    }\n}\nfunction claim_node(nodes, predicate, processNode, createNode, dontUpdateLastIndex = false) {\n    // Try to find nodes in an order such that we lengthen the longest increasing subsequence\n    init_claim_info(nodes);\n    const resultNode = (() => {\n        // We first try to find an element after the previous one\n        for (let i = nodes.claim_info.last_index; i < nodes.length; i++) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                return node;\n            }\n        }\n        // Otherwise, we try to find one before\n        // We iterate in reverse so that we don't go too far back\n        for (let i = nodes.claim_info.last_index - 1; i >= 0; i--) {\n            const node = nodes[i];\n            if (predicate(node)) {\n                const replacement = processNode(node);\n                if (replacement === undefined) {\n                    nodes.splice(i, 1);\n                }\n                else {\n                    nodes[i] = replacement;\n                }\n                if (!dontUpdateLastIndex) {\n                    nodes.claim_info.last_index = i;\n                }\n                else if (replacement === undefined) {\n                    // Since we spliced before the last_index, we decrease it\n                    nodes.claim_info.last_index--;\n                }\n                return node;\n            }\n        }\n        // If we can't find any matching node, we create a new one\n        return createNode();\n    })();\n    resultNode.claim_order = nodes.claim_info.total_claimed;\n    nodes.claim_info.total_claimed += 1;\n    return resultNode;\n}\nfunction claim_element_base(nodes, name, attributes, create_element) {\n    return claim_node(nodes, (node) => node.nodeName === name, (node) => {\n        const remove = [];\n        for (let j = 0; j < node.attributes.length; j++) {\n            const attribute = node.attributes[j];\n            if (!attributes[attribute.name]) {\n                remove.push(attribute.name);\n            }\n        }\n        remove.forEach(v => node.removeAttribute(v));\n        return undefined;\n    }, () => create_element(name));\n}\nfunction claim_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, element);\n}\nfunction claim_svg_element(nodes, name, attributes) {\n    return claim_element_base(nodes, name, attributes, svg_element);\n}\nfunction claim_text(nodes, data) {\n    return claim_node(nodes, (node) => node.nodeType === 3, (node) => {\n        const dataStr = '' + data;\n        if (node.data.startsWith(dataStr)) {\n            if (node.data.length !== dataStr.length) {\n                return node.splitText(dataStr.length);\n            }\n        }\n        else {\n            node.data = dataStr;\n        }\n    }, () => text(data), true // Text nodes should not update last index since it is likely not worth it to eliminate an increasing subsequence of actual elements\n    );\n}\nfunction claim_space(nodes) {\n    return claim_text(nodes, ' ');\n}\nfunction find_comment(nodes, text, start) {\n    for (let i = start; i < nodes.length; i += 1) {\n        const node = nodes[i];\n        if (node.nodeType === 8 /* comment node */ && node.textContent.trim() === text) {\n            return i;\n        }\n    }\n    return nodes.length;\n}\nfunction claim_html_tag(nodes) {\n    // find html opening tag\n    const start_index = find_comment(nodes, 'HTML_TAG_START', 0);\n    const end_index = find_comment(nodes, 'HTML_TAG_END', start_index);\n    if (start_index === end_index) {\n        return new HtmlTagHydration();\n    }\n    init_claim_info(nodes);\n    const html_tag_nodes = nodes.splice(start_index, end_index + 1);\n    detach(html_tag_nodes[0]);\n    detach(html_tag_nodes[html_tag_nodes.length - 1]);\n    const claimed_nodes = html_tag_nodes.slice(1, html_tag_nodes.length - 1);\n    for (const n of claimed_nodes) {\n        n.claim_order = nodes.claim_info.total_claimed;\n        nodes.claim_info.total_claimed += 1;\n    }\n    return new HtmlTagHydration(claimed_nodes);\n}\nfunction set_data(text, data) {\n    data = '' + data;\n    if (text.wholeText !== data)\n        text.data = data;\n}\nfunction set_input_value(input, value) {\n    input.value = value == null ? '' : value;\n}\nfunction set_input_type(input, type) {\n    try {\n        input.type = type;\n    }\n    catch (e) {\n        // do nothing\n    }\n}\nfunction set_style(node, key, value, important) {\n    node.style.setProperty(key, value, important ? 'important' : '');\n}\nfunction select_option(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        if (option.__value === value) {\n            option.selected = true;\n            return;\n        }\n    }\n    select.selectedIndex = -1; // no option should be selected\n}\nfunction select_options(select, value) {\n    for (let i = 0; i < select.options.length; i += 1) {\n        const option = select.options[i];\n        option.selected = ~value.indexOf(option.__value);\n    }\n}\nfunction select_value(select) {\n    const selected_option = select.querySelector(':checked') || select.options[0];\n    return selected_option && selected_option.__value;\n}\nfunction select_multiple_value(select) {\n    return [].map.call(select.querySelectorAll(':checked'), option => option.__value);\n}\n// unfortunately this can't be a constant as that wouldn't be tree-shakeable\n// so we cache the result instead\nlet crossorigin;\nfunction is_crossorigin() {\n    if (crossorigin === undefined) {\n        crossorigin = false;\n        try {\n            if (typeof window !== 'undefined' && window.parent) {\n                void window.parent.document;\n            }\n        }\n        catch (error) {\n            crossorigin = true;\n        }\n    }\n    return crossorigin;\n}\nfunction add_resize_listener(node, fn) {\n    const computed_style = getComputedStyle(node);\n    if (computed_style.position === 'static') {\n        node.style.position = 'relative';\n    }\n    const iframe = element('iframe');\n    iframe.setAttribute('style', 'display: block; position: absolute; top: 0; left: 0; width: 100%; height: 100%; ' +\n        'overflow: hidden; border: 0; opacity: 0; pointer-events: none; z-index: -1;');\n    iframe.setAttribute('aria-hidden', 'true');\n    iframe.tabIndex = -1;\n    const crossorigin = is_crossorigin();\n    let unsubscribe;\n    if (crossorigin) {\n        iframe.src = \"data:text/html,<script>onresize=function(){parent.postMessage(0,'*')}</script>\";\n        unsubscribe = listen(window, 'message', (event) => {\n            if (event.source === iframe.contentWindow)\n                fn();\n        });\n    }\n    else {\n        iframe.src = 'about:blank';\n        iframe.onload = () => {\n            unsubscribe = listen(iframe.contentWindow, 'resize', fn);\n        };\n    }\n    append(node, iframe);\n    return () => {\n        if (crossorigin) {\n            unsubscribe();\n        }\n        else if (unsubscribe && iframe.contentWindow) {\n            unsubscribe();\n        }\n        detach(iframe);\n    };\n}\nfunction toggle_class(element, name, toggle) {\n    element.classList[toggle ? 'add' : 'remove'](name);\n}\nfunction custom_event(type, detail, bubbles = false) {\n    const e = document.createEvent('CustomEvent');\n    e.initCustomEvent(type, bubbles, false, detail);\n    return e;\n}\nfunction query_selector_all(selector, parent = document.body) {\n    return Array.from(parent.querySelectorAll(selector));\n}\nclass HtmlTag {\n    constructor() {\n        this.e = this.n = null;\n    }\n    c(html) {\n        this.h(html);\n    }\n    m(html, target, anchor = null) {\n        if (!this.e) {\n            this.e = element(target.nodeName);\n            this.t = target;\n            this.c(html);\n        }\n        this.i(anchor);\n    }\n    h(html) {\n        this.e.innerHTML = html;\n        this.n = Array.from(this.e.childNodes);\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert(this.t, this.n[i], anchor);\n        }\n    }\n    p(html) {\n        this.d();\n        this.h(html);\n        this.i(this.a);\n    }\n    d() {\n        this.n.forEach(detach);\n    }\n}\nclass HtmlTagHydration extends HtmlTag {\n    constructor(claimed_nodes) {\n        super();\n        this.e = this.n = null;\n        this.l = claimed_nodes;\n    }\n    c(html) {\n        if (this.l) {\n            this.n = this.l;\n        }\n        else {\n            super.c(html);\n        }\n    }\n    i(anchor) {\n        for (let i = 0; i < this.n.length; i += 1) {\n            insert_hydration(this.t, this.n[i], anchor);\n        }\n    }\n}\nfunction attribute_to_object(attributes) {\n    const result = {};\n    for (const attribute of attributes) {\n        result[attribute.name] = attribute.value;\n    }\n    return result;\n}\nfunction get_custom_elements_slots(element) {\n    const result = {};\n    element.childNodes.forEach((node) => {\n        result[node.slot || 'default'] = true;\n    });\n    return result;\n}\n\nconst active_docs = new Set();\nlet active = 0;\n// https://github.com/darkskyapp/string-hash/blob/master/index.js\nfunction hash(str) {\n    let hash = 5381;\n    let i = str.length;\n    while (i--)\n        hash = ((hash << 5) - hash) ^ str.charCodeAt(i);\n    return hash >>> 0;\n}\nfunction create_rule(node, a, b, duration, delay, ease, fn, uid = 0) {\n    const step = 16.666 / duration;\n    let keyframes = '{\\n';\n    for (let p = 0; p <= 1; p += step) {\n        const t = a + (b - a) * ease(p);\n        keyframes += p * 100 + `%{${fn(t, 1 - t)}}\\n`;\n    }\n    const rule = keyframes + `100% {${fn(b, 1 - b)}}\\n}`;\n    const name = `__svelte_${hash(rule)}_${uid}`;\n    const doc = get_root_for_style(node);\n    active_docs.add(doc);\n    const stylesheet = doc.__svelte_stylesheet || (doc.__svelte_stylesheet = append_empty_stylesheet(node).sheet);\n    const current_rules = doc.__svelte_rules || (doc.__svelte_rules = {});\n    if (!current_rules[name]) {\n        current_rules[name] = true;\n        stylesheet.insertRule(`@keyframes ${name} ${rule}`, stylesheet.cssRules.length);\n    }\n    const animation = node.style.animation || '';\n    node.style.animation = `${animation ? `${animation}, ` : ''}${name} ${duration}ms linear ${delay}ms 1 both`;\n    active += 1;\n    return name;\n}\nfunction delete_rule(node, name) {\n    const previous = (node.style.animation || '').split(', ');\n    const next = previous.filter(name\n        ? anim => anim.indexOf(name) < 0 // remove specific animation\n        : anim => anim.indexOf('__svelte') === -1 // remove all Svelte animations\n    );\n    const deleted = previous.length - next.length;\n    if (deleted) {\n        node.style.animation = next.join(', ');\n        active -= deleted;\n        if (!active)\n            clear_rules();\n    }\n}\nfunction clear_rules() {\n    raf(() => {\n        if (active)\n            return;\n        active_docs.forEach(doc => {\n            const stylesheet = doc.__svelte_stylesheet;\n            let i = stylesheet.cssRules.length;\n            while (i--)\n                stylesheet.deleteRule(i);\n            doc.__svelte_rules = {};\n        });\n        active_docs.clear();\n    });\n}\n\nfunction create_animation(node, from, fn, params) {\n    if (!from)\n        return noop;\n    const to = node.getBoundingClientRect();\n    if (from.left === to.left && from.right === to.right && from.top === to.top && from.bottom === to.bottom)\n        return noop;\n    const { delay = 0, duration = 300, easing = identity, \n    // @ts-ignore todo: should this be separated from destructuring? Or start/end added to public api and documentation?\n    start: start_time = now() + delay, \n    // @ts-ignore todo:\n    end = start_time + duration, tick = noop, css } = fn(node, { from, to }, params);\n    let running = true;\n    let started = false;\n    let name;\n    function start() {\n        if (css) {\n            name = create_rule(node, 0, 1, duration, delay, easing, css);\n        }\n        if (!delay) {\n            started = true;\n        }\n    }\n    function stop() {\n        if (css)\n            delete_rule(node, name);\n        running = false;\n    }\n    loop(now => {\n        if (!started && now >= start_time) {\n            started = true;\n        }\n        if (started && now >= end) {\n            tick(1, 0);\n            stop();\n        }\n        if (!running) {\n            return false;\n        }\n        if (started) {\n            const p = now - start_time;\n            const t = 0 + 1 * easing(p / duration);\n            tick(t, 1 - t);\n        }\n        return true;\n    });\n    start();\n    tick(0, 1);\n    return stop;\n}\nfunction fix_position(node) {\n    const style = getComputedStyle(node);\n    if (style.position !== 'absolute' && style.position !== 'fixed') {\n        const { width, height } = style;\n        const a = node.getBoundingClientRect();\n        node.style.position = 'absolute';\n        node.style.width = width;\n        node.style.height = height;\n        add_transform(node, a);\n    }\n}\nfunction add_transform(node, a) {\n    const b = node.getBoundingClientRect();\n    if (a.left !== b.left || a.top !== b.top) {\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        node.style.transform = `${transform} translate(${a.left - b.left}px, ${a.top - b.top}px)`;\n    }\n}\n\nlet current_component;\nfunction set_current_component(component) {\n    current_component = component;\n}\nfunction get_current_component() {\n    if (!current_component)\n        throw new Error('Function called outside component initialization');\n    return current_component;\n}\nfunction beforeUpdate(fn) {\n    get_current_component().$$.before_update.push(fn);\n}\nfunction onMount(fn) {\n    get_current_component().$$.on_mount.push(fn);\n}\nfunction afterUpdate(fn) {\n    get_current_component().$$.after_update.push(fn);\n}\nfunction onDestroy(fn) {\n    get_current_component().$$.on_destroy.push(fn);\n}\nfunction createEventDispatcher() {\n    const component = get_current_component();\n    return (type, detail) => {\n        const callbacks = component.$$.callbacks[type];\n        if (callbacks) {\n            // TODO are there situations where events could be dispatched\n            // in a server (non-DOM) environment?\n            const event = custom_event(type, detail);\n            callbacks.slice().forEach(fn => {\n                fn.call(component, event);\n            });\n        }\n    };\n}\nfunction setContext(key, context) {\n    get_current_component().$$.context.set(key, context);\n}\nfunction getContext(key) {\n    return get_current_component().$$.context.get(key);\n}\nfunction getAllContexts() {\n    return get_current_component().$$.context;\n}\nfunction hasContext(key) {\n    return get_current_component().$$.context.has(key);\n}\n// TODO figure out if we still want to support\n// shorthand events, or if we want to implement\n// a real bubbling mechanism\nfunction bubble(component, event) {\n    const callbacks = component.$$.callbacks[event.type];\n    if (callbacks) {\n        // @ts-ignore\n        callbacks.slice().forEach(fn => fn.call(this, event));\n    }\n}\n\nconst dirty_components = [];\nconst intros = { enabled: false };\nconst binding_callbacks = [];\nconst render_callbacks = [];\nconst flush_callbacks = [];\nconst resolved_promise = Promise.resolve();\nlet update_scheduled = false;\nfunction schedule_update() {\n    if (!update_scheduled) {\n        update_scheduled = true;\n        resolved_promise.then(flush);\n    }\n}\nfunction tick() {\n    schedule_update();\n    return resolved_promise;\n}\nfunction add_render_callback(fn) {\n    render_callbacks.push(fn);\n}\nfunction add_flush_callback(fn) {\n    flush_callbacks.push(fn);\n}\nlet flushing = false;\nconst seen_callbacks = new Set();\nfunction flush() {\n    if (flushing)\n        return;\n    flushing = true;\n    do {\n        // first, call beforeUpdate functions\n        // and update components\n        for (let i = 0; i < dirty_components.length; i += 1) {\n            const component = dirty_components[i];\n            set_current_component(component);\n            update(component.$$);\n        }\n        set_current_component(null);\n        dirty_components.length = 0;\n        while (binding_callbacks.length)\n            binding_callbacks.pop()();\n        // then, once components are updated, call\n        // afterUpdate functions. This may cause\n        // subsequent updates...\n        for (let i = 0; i < render_callbacks.length; i += 1) {\n            const callback = render_callbacks[i];\n            if (!seen_callbacks.has(callback)) {\n                // ...so guard against infinite loops\n                seen_callbacks.add(callback);\n                callback();\n            }\n        }\n        render_callbacks.length = 0;\n    } while (dirty_components.length);\n    while (flush_callbacks.length) {\n        flush_callbacks.pop()();\n    }\n    update_scheduled = false;\n    flushing = false;\n    seen_callbacks.clear();\n}\nfunction update($$) {\n    if ($$.fragment !== null) {\n        $$.update();\n        run_all($$.before_update);\n        const dirty = $$.dirty;\n        $$.dirty = [-1];\n        $$.fragment && $$.fragment.p($$.ctx, dirty);\n        $$.after_update.forEach(add_render_callback);\n    }\n}\n\nlet promise;\nfunction wait() {\n    if (!promise) {\n        promise = Promise.resolve();\n        promise.then(() => {\n            promise = null;\n        });\n    }\n    return promise;\n}\nfunction dispatch(node, direction, kind) {\n    node.dispatchEvent(custom_event(`${direction ? 'intro' : 'outro'}${kind}`));\n}\nconst outroing = new Set();\nlet outros;\nfunction group_outros() {\n    outros = {\n        r: 0,\n        c: [],\n        p: outros // parent group\n    };\n}\nfunction check_outros() {\n    if (!outros.r) {\n        run_all(outros.c);\n    }\n    outros = outros.p;\n}\nfunction transition_in(block, local) {\n    if (block && block.i) {\n        outroing.delete(block);\n        block.i(local);\n    }\n}\nfunction transition_out(block, local, detach, callback) {\n    if (block && block.o) {\n        if (outroing.has(block))\n            return;\n        outroing.add(block);\n        outros.c.push(() => {\n            outroing.delete(block);\n            if (callback) {\n                if (detach)\n                    block.d(1);\n                callback();\n            }\n        });\n        block.o(local);\n    }\n}\nconst null_transition = { duration: 0 };\nfunction create_in_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = false;\n    let animation_name;\n    let task;\n    let uid = 0;\n    function cleanup() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 0, 1, duration, delay, easing, css, uid++);\n        tick(0, 1);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        if (task)\n            task.abort();\n        running = true;\n        add_render_callback(() => dispatch(node, true, 'start'));\n        task = loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(1, 0);\n                    dispatch(node, true, 'end');\n                    cleanup();\n                    return running = false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(t, 1 - t);\n                }\n            }\n            return running;\n        });\n    }\n    let started = false;\n    return {\n        start() {\n            if (started)\n                return;\n            started = true;\n            delete_rule(node);\n            if (is_function(config)) {\n                config = config();\n                wait().then(go);\n            }\n            else {\n                go();\n            }\n        },\n        invalidate() {\n            started = false;\n        },\n        end() {\n            if (running) {\n                cleanup();\n                running = false;\n            }\n        }\n    };\n}\nfunction create_out_transition(node, fn, params) {\n    let config = fn(node, params);\n    let running = true;\n    let animation_name;\n    const group = outros;\n    group.r += 1;\n    function go() {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        if (css)\n            animation_name = create_rule(node, 1, 0, duration, delay, easing, css);\n        const start_time = now() + delay;\n        const end_time = start_time + duration;\n        add_render_callback(() => dispatch(node, false, 'start'));\n        loop(now => {\n            if (running) {\n                if (now >= end_time) {\n                    tick(0, 1);\n                    dispatch(node, false, 'end');\n                    if (!--group.r) {\n                        // this will result in `end()` being called,\n                        // so we don't need to clean up here\n                        run_all(group.c);\n                    }\n                    return false;\n                }\n                if (now >= start_time) {\n                    const t = easing((now - start_time) / duration);\n                    tick(1 - t, t);\n                }\n            }\n            return running;\n        });\n    }\n    if (is_function(config)) {\n        wait().then(() => {\n            // @ts-ignore\n            config = config();\n            go();\n        });\n    }\n    else {\n        go();\n    }\n    return {\n        end(reset) {\n            if (reset && config.tick) {\n                config.tick(1, 0);\n            }\n            if (running) {\n                if (animation_name)\n                    delete_rule(node, animation_name);\n                running = false;\n            }\n        }\n    };\n}\nfunction create_bidirectional_transition(node, fn, params, intro) {\n    let config = fn(node, params);\n    let t = intro ? 0 : 1;\n    let running_program = null;\n    let pending_program = null;\n    let animation_name = null;\n    function clear_animation() {\n        if (animation_name)\n            delete_rule(node, animation_name);\n    }\n    function init(program, duration) {\n        const d = (program.b - t);\n        duration *= Math.abs(d);\n        return {\n            a: t,\n            b: program.b,\n            d,\n            duration,\n            start: program.start,\n            end: program.start + duration,\n            group: program.group\n        };\n    }\n    function go(b) {\n        const { delay = 0, duration = 300, easing = identity, tick = noop, css } = config || null_transition;\n        const program = {\n            start: now() + delay,\n            b\n        };\n        if (!b) {\n            // @ts-ignore todo: improve typings\n            program.group = outros;\n            outros.r += 1;\n        }\n        if (running_program || pending_program) {\n            pending_program = program;\n        }\n        else {\n            // if this is an intro, and there's a delay, we need to do\n            // an initial tick and/or apply CSS animation immediately\n            if (css) {\n                clear_animation();\n                animation_name = create_rule(node, t, b, duration, delay, easing, css);\n            }\n            if (b)\n                tick(0, 1);\n            running_program = init(program, duration);\n            add_render_callback(() => dispatch(node, b, 'start'));\n            loop(now => {\n                if (pending_program && now > pending_program.start) {\n                    running_program = init(pending_program, duration);\n                    pending_program = null;\n                    dispatch(node, running_program.b, 'start');\n                    if (css) {\n                        clear_animation();\n                        animation_name = create_rule(node, t, running_program.b, running_program.duration, 0, easing, config.css);\n                    }\n                }\n                if (running_program) {\n                    if (now >= running_program.end) {\n                        tick(t = running_program.b, 1 - t);\n                        dispatch(node, running_program.b, 'end');\n                        if (!pending_program) {\n                            // we're done\n                            if (running_program.b) {\n                                // intro — we can tidy up immediately\n                                clear_animation();\n                            }\n                            else {\n                                // outro — needs to be coordinated\n                                if (!--running_program.group.r)\n                                    run_all(running_program.group.c);\n                            }\n                        }\n                        running_program = null;\n                    }\n                    else if (now >= running_program.start) {\n                        const p = now - running_program.start;\n                        t = running_program.a + running_program.d * easing(p / running_program.duration);\n                        tick(t, 1 - t);\n                    }\n                }\n                return !!(running_program || pending_program);\n            });\n        }\n    }\n    return {\n        run(b) {\n            if (is_function(config)) {\n                wait().then(() => {\n                    // @ts-ignore\n                    config = config();\n                    go(b);\n                });\n            }\n            else {\n                go(b);\n            }\n        },\n        end() {\n            clear_animation();\n            running_program = pending_program = null;\n        }\n    };\n}\n\nfunction handle_promise(promise, info) {\n    const token = info.token = {};\n    function update(type, index, key, value) {\n        if (info.token !== token)\n            return;\n        info.resolved = value;\n        let child_ctx = info.ctx;\n        if (key !== undefined) {\n            child_ctx = child_ctx.slice();\n            child_ctx[key] = value;\n        }\n        const block = type && (info.current = type)(child_ctx);\n        let needs_flush = false;\n        if (info.block) {\n            if (info.blocks) {\n                info.blocks.forEach((block, i) => {\n                    if (i !== index && block) {\n                        group_outros();\n                        transition_out(block, 1, 1, () => {\n                            if (info.blocks[i] === block) {\n                                info.blocks[i] = null;\n                            }\n                        });\n                        check_outros();\n                    }\n                });\n            }\n            else {\n                info.block.d(1);\n            }\n            block.c();\n            transition_in(block, 1);\n            block.m(info.mount(), info.anchor);\n            needs_flush = true;\n        }\n        info.block = block;\n        if (info.blocks)\n            info.blocks[index] = block;\n        if (needs_flush) {\n            flush();\n        }\n    }\n    if (is_promise(promise)) {\n        const current_component = get_current_component();\n        promise.then(value => {\n            set_current_component(current_component);\n            update(info.then, 1, info.value, value);\n            set_current_component(null);\n        }, error => {\n            set_current_component(current_component);\n            update(info.catch, 2, info.error, error);\n            set_current_component(null);\n            if (!info.hasCatch) {\n                throw error;\n            }\n        });\n        // if we previously had a then/catch block, destroy it\n        if (info.current !== info.pending) {\n            update(info.pending, 0);\n            return true;\n        }\n    }\n    else {\n        if (info.current !== info.then) {\n            update(info.then, 1, info.value, promise);\n            return true;\n        }\n        info.resolved = promise;\n    }\n}\nfunction update_await_block_branch(info, ctx, dirty) {\n    const child_ctx = ctx.slice();\n    const { resolved } = info;\n    if (info.current === info.then) {\n        child_ctx[info.value] = resolved;\n    }\n    if (info.current === info.catch) {\n        child_ctx[info.error] = resolved;\n    }\n    info.block.p(child_ctx, dirty);\n}\n\nconst globals = (typeof window !== 'undefined'\n    ? window\n    : typeof globalThis !== 'undefined'\n        ? globalThis\n        : global);\n\nfunction destroy_block(block, lookup) {\n    block.d(1);\n    lookup.delete(block.key);\n}\nfunction outro_and_destroy_block(block, lookup) {\n    transition_out(block, 1, 1, () => {\n        lookup.delete(block.key);\n    });\n}\nfunction fix_and_destroy_block(block, lookup) {\n    block.f();\n    destroy_block(block, lookup);\n}\nfunction fix_and_outro_and_destroy_block(block, lookup) {\n    block.f();\n    outro_and_destroy_block(block, lookup);\n}\nfunction update_keyed_each(old_blocks, dirty, get_key, dynamic, ctx, list, lookup, node, destroy, create_each_block, next, get_context) {\n    let o = old_blocks.length;\n    let n = list.length;\n    let i = o;\n    const old_indexes = {};\n    while (i--)\n        old_indexes[old_blocks[i].key] = i;\n    const new_blocks = [];\n    const new_lookup = new Map();\n    const deltas = new Map();\n    i = n;\n    while (i--) {\n        const child_ctx = get_context(ctx, list, i);\n        const key = get_key(child_ctx);\n        let block = lookup.get(key);\n        if (!block) {\n            block = create_each_block(key, child_ctx);\n            block.c();\n        }\n        else if (dynamic) {\n            block.p(child_ctx, dirty);\n        }\n        new_lookup.set(key, new_blocks[i] = block);\n        if (key in old_indexes)\n            deltas.set(key, Math.abs(i - old_indexes[key]));\n    }\n    const will_move = new Set();\n    const did_move = new Set();\n    function insert(block) {\n        transition_in(block, 1);\n        block.m(node, next);\n        lookup.set(block.key, block);\n        next = block.first;\n        n--;\n    }\n    while (o && n) {\n        const new_block = new_blocks[n - 1];\n        const old_block = old_blocks[o - 1];\n        const new_key = new_block.key;\n        const old_key = old_block.key;\n        if (new_block === old_block) {\n            // do nothing\n            next = new_block.first;\n            o--;\n            n--;\n        }\n        else if (!new_lookup.has(old_key)) {\n            // remove old block\n            destroy(old_block, lookup);\n            o--;\n        }\n        else if (!lookup.has(new_key) || will_move.has(new_key)) {\n            insert(new_block);\n        }\n        else if (did_move.has(old_key)) {\n            o--;\n        }\n        else if (deltas.get(new_key) > deltas.get(old_key)) {\n            did_move.add(new_key);\n            insert(new_block);\n        }\n        else {\n            will_move.add(old_key);\n            o--;\n        }\n    }\n    while (o--) {\n        const old_block = old_blocks[o];\n        if (!new_lookup.has(old_block.key))\n            destroy(old_block, lookup);\n    }\n    while (n)\n        insert(new_blocks[n - 1]);\n    return new_blocks;\n}\nfunction validate_each_keys(ctx, list, get_context, get_key) {\n    const keys = new Set();\n    for (let i = 0; i < list.length; i++) {\n        const key = get_key(get_context(ctx, list, i));\n        if (keys.has(key)) {\n            throw new Error('Cannot have duplicate keys in a keyed each');\n        }\n        keys.add(key);\n    }\n}\n\nfunction get_spread_update(levels, updates) {\n    const update = {};\n    const to_null_out = {};\n    const accounted_for = { $$scope: 1 };\n    let i = levels.length;\n    while (i--) {\n        const o = levels[i];\n        const n = updates[i];\n        if (n) {\n            for (const key in o) {\n                if (!(key in n))\n                    to_null_out[key] = 1;\n            }\n            for (const key in n) {\n                if (!accounted_for[key]) {\n                    update[key] = n[key];\n                    accounted_for[key] = 1;\n                }\n            }\n            levels[i] = n;\n        }\n        else {\n            for (const key in o) {\n                accounted_for[key] = 1;\n            }\n        }\n    }\n    for (const key in to_null_out) {\n        if (!(key in update))\n            update[key] = undefined;\n    }\n    return update;\n}\nfunction get_spread_object(spread_props) {\n    return typeof spread_props === 'object' && spread_props !== null ? spread_props : {};\n}\n\n// source: https://html.spec.whatwg.org/multipage/indices.html\nconst boolean_attributes = new Set([\n    'allowfullscreen',\n    'allowpaymentrequest',\n    'async',\n    'autofocus',\n    'autoplay',\n    'checked',\n    'controls',\n    'default',\n    'defer',\n    'disabled',\n    'formnovalidate',\n    'hidden',\n    'ismap',\n    'loop',\n    'multiple',\n    'muted',\n    'nomodule',\n    'novalidate',\n    'open',\n    'playsinline',\n    'readonly',\n    'required',\n    'reversed',\n    'selected'\n]);\n\nconst invalid_attribute_name_character = /[\\s'\">/=\\u{FDD0}-\\u{FDEF}\\u{FFFE}\\u{FFFF}\\u{1FFFE}\\u{1FFFF}\\u{2FFFE}\\u{2FFFF}\\u{3FFFE}\\u{3FFFF}\\u{4FFFE}\\u{4FFFF}\\u{5FFFE}\\u{5FFFF}\\u{6FFFE}\\u{6FFFF}\\u{7FFFE}\\u{7FFFF}\\u{8FFFE}\\u{8FFFF}\\u{9FFFE}\\u{9FFFF}\\u{AFFFE}\\u{AFFFF}\\u{BFFFE}\\u{BFFFF}\\u{CFFFE}\\u{CFFFF}\\u{DFFFE}\\u{DFFFF}\\u{EFFFE}\\u{EFFFF}\\u{FFFFE}\\u{FFFFF}\\u{10FFFE}\\u{10FFFF}]/u;\n// https://html.spec.whatwg.org/multipage/syntax.html#attributes-2\n// https://infra.spec.whatwg.org/#noncharacter\nfunction spread(args, classes_to_add) {\n    const attributes = Object.assign({}, ...args);\n    if (classes_to_add) {\n        if (attributes.class == null) {\n            attributes.class = classes_to_add;\n        }\n        else {\n            attributes.class += ' ' + classes_to_add;\n        }\n    }\n    let str = '';\n    Object.keys(attributes).forEach(name => {\n        if (invalid_attribute_name_character.test(name))\n            return;\n        const value = attributes[name];\n        if (value === true)\n            str += ' ' + name;\n        else if (boolean_attributes.has(name.toLowerCase())) {\n            if (value)\n                str += ' ' + name;\n        }\n        else if (value != null) {\n            str += ` ${name}=\"${value}\"`;\n        }\n    });\n    return str;\n}\nconst escaped = {\n    '\"': '&quot;',\n    \"'\": '&#39;',\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;'\n};\nfunction escape(html) {\n    return String(html).replace(/[\"'&<>]/g, match => escaped[match]);\n}\nfunction escape_attribute_value(value) {\n    return typeof value === 'string' ? escape(value) : value;\n}\nfunction escape_object(obj) {\n    const result = {};\n    for (const key in obj) {\n        result[key] = escape_attribute_value(obj[key]);\n    }\n    return result;\n}\nfunction each(items, fn) {\n    let str = '';\n    for (let i = 0; i < items.length; i += 1) {\n        str += fn(items[i], i);\n    }\n    return str;\n}\nconst missing_component = {\n    $$render: () => ''\n};\nfunction validate_component(component, name) {\n    if (!component || !component.$$render) {\n        if (name === 'svelte:component')\n            name += ' this={...}';\n        throw new Error(`<${name}> is not a valid SSR component. You may need to review your build config to ensure that dependencies are compiled, rather than imported as pre-compiled modules`);\n    }\n    return component;\n}\nfunction debug(file, line, column, values) {\n    console.log(`{@debug} ${file ? file + ' ' : ''}(${line}:${column})`); // eslint-disable-line no-console\n    console.log(values); // eslint-disable-line no-console\n    return '';\n}\nlet on_destroy;\nfunction create_ssr_component(fn) {\n    function $$render(result, props, bindings, slots, context) {\n        const parent_component = current_component;\n        const $$ = {\n            on_destroy,\n            context: new Map(context || (parent_component ? parent_component.$$.context : [])),\n            // these will be immediately discarded\n            on_mount: [],\n            before_update: [],\n            after_update: [],\n            callbacks: blank_object()\n        };\n        set_current_component({ $$ });\n        const html = fn(result, props, bindings, slots);\n        set_current_component(parent_component);\n        return html;\n    }\n    return {\n        render: (props = {}, { $$slots = {}, context = new Map() } = {}) => {\n            on_destroy = [];\n            const result = { title: '', head: '', css: new Set() };\n            const html = $$render(result, props, {}, $$slots, context);\n            run_all(on_destroy);\n            return {\n                html,\n                css: {\n                    code: Array.from(result.css).map(css => css.code).join('\\n'),\n                    map: null // TODO\n                },\n                head: result.title + result.head\n            };\n        },\n        $$render\n    };\n}\nfunction add_attribute(name, value, boolean) {\n    if (value == null || (boolean && !value))\n        return '';\n    return ` ${name}${value === true ? '' : `=${typeof value === 'string' ? JSON.stringify(escape(value)) : `\"${value}\"`}`}`;\n}\nfunction add_classes(classes) {\n    return classes ? ` class=\"${classes}\"` : '';\n}\n\nfunction bind(component, name, callback) {\n    const index = component.$$.props[name];\n    if (index !== undefined) {\n        component.$$.bound[index] = callback;\n        callback(component.$$.ctx[index]);\n    }\n}\nfunction create_component(block) {\n    block && block.c();\n}\nfunction claim_component(block, parent_nodes) {\n    block && block.l(parent_nodes);\n}\nfunction mount_component(component, target, anchor, customElement) {\n    const { fragment, on_mount, on_destroy, after_update } = component.$$;\n    fragment && fragment.m(target, anchor);\n    if (!customElement) {\n        // onMount happens before the initial afterUpdate\n        add_render_callback(() => {\n            const new_on_destroy = on_mount.map(run).filter(is_function);\n            if (on_destroy) {\n                on_destroy.push(...new_on_destroy);\n            }\n            else {\n                // Edge case - component was destroyed immediately,\n                // most likely as a result of a binding initialising\n                run_all(new_on_destroy);\n            }\n            component.$$.on_mount = [];\n        });\n    }\n    after_update.forEach(add_render_callback);\n}\nfunction destroy_component(component, detaching) {\n    const $$ = component.$$;\n    if ($$.fragment !== null) {\n        run_all($$.on_destroy);\n        $$.fragment && $$.fragment.d(detaching);\n        // TODO null out other refs, including component.$$ (but need to\n        // preserve final state?)\n        $$.on_destroy = $$.fragment = null;\n        $$.ctx = [];\n    }\n}\nfunction make_dirty(component, i) {\n    if (component.$$.dirty[0] === -1) {\n        dirty_components.push(component);\n        schedule_update();\n        component.$$.dirty.fill(0);\n    }\n    component.$$.dirty[(i / 31) | 0] |= (1 << (i % 31));\n}\nfunction init(component, options, instance, create_fragment, not_equal, props, append_styles, dirty = [-1]) {\n    const parent_component = current_component;\n    set_current_component(component);\n    const $$ = component.$$ = {\n        fragment: null,\n        ctx: null,\n        // state\n        props,\n        update: noop,\n        not_equal,\n        bound: blank_object(),\n        // lifecycle\n        on_mount: [],\n        on_destroy: [],\n        on_disconnect: [],\n        before_update: [],\n        after_update: [],\n        context: new Map(options.context || (parent_component ? parent_component.$$.context : [])),\n        // everything else\n        callbacks: blank_object(),\n        dirty,\n        skip_bound: false,\n        root: options.target || parent_component.$$.root\n    };\n    append_styles && append_styles($$.root);\n    let ready = false;\n    $$.ctx = instance\n        ? instance(component, options.props || {}, (i, ret, ...rest) => {\n            const value = rest.length ? rest[0] : ret;\n            if ($$.ctx && not_equal($$.ctx[i], $$.ctx[i] = value)) {\n                if (!$$.skip_bound && $$.bound[i])\n                    $$.bound[i](value);\n                if (ready)\n                    make_dirty(component, i);\n            }\n            return ret;\n        })\n        : [];\n    $$.update();\n    ready = true;\n    run_all($$.before_update);\n    // `false` as a special case of no DOM component\n    $$.fragment = create_fragment ? create_fragment($$.ctx) : false;\n    if (options.target) {\n        if (options.hydrate) {\n            start_hydrating();\n            const nodes = children(options.target);\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.l(nodes);\n            nodes.forEach(detach);\n        }\n        else {\n            // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n            $$.fragment && $$.fragment.c();\n        }\n        if (options.intro)\n            transition_in(component.$$.fragment);\n        mount_component(component, options.target, options.anchor, options.customElement);\n        end_hydrating();\n        flush();\n    }\n    set_current_component(parent_component);\n}\nlet SvelteElement;\nif (typeof HTMLElement === 'function') {\n    SvelteElement = class extends HTMLElement {\n        constructor() {\n            super();\n            this.attachShadow({ mode: 'open' });\n        }\n        connectedCallback() {\n            const { on_mount } = this.$$;\n            this.$$.on_disconnect = on_mount.map(run).filter(is_function);\n            // @ts-ignore todo: improve typings\n            for (const key in this.$$.slotted) {\n                // @ts-ignore todo: improve typings\n                this.appendChild(this.$$.slotted[key]);\n            }\n        }\n        attributeChangedCallback(attr, _oldValue, newValue) {\n            this[attr] = newValue;\n        }\n        disconnectedCallback() {\n            run_all(this.$$.on_disconnect);\n        }\n        $destroy() {\n            destroy_component(this, 1);\n            this.$destroy = noop;\n        }\n        $on(type, callback) {\n            // TODO should this delegate to addEventListener?\n            const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n            callbacks.push(callback);\n            return () => {\n                const index = callbacks.indexOf(callback);\n                if (index !== -1)\n                    callbacks.splice(index, 1);\n            };\n        }\n        $set($$props) {\n            if (this.$$set && !is_empty($$props)) {\n                this.$$.skip_bound = true;\n                this.$$set($$props);\n                this.$$.skip_bound = false;\n            }\n        }\n    };\n}\n/**\n * Base class for Svelte components. Used when dev=false.\n */\nclass SvelteComponent {\n    $destroy() {\n        destroy_component(this, 1);\n        this.$destroy = noop;\n    }\n    $on(type, callback) {\n        const callbacks = (this.$$.callbacks[type] || (this.$$.callbacks[type] = []));\n        callbacks.push(callback);\n        return () => {\n            const index = callbacks.indexOf(callback);\n            if (index !== -1)\n                callbacks.splice(index, 1);\n        };\n    }\n    $set($$props) {\n        if (this.$$set && !is_empty($$props)) {\n            this.$$.skip_bound = true;\n            this.$$set($$props);\n            this.$$.skip_bound = false;\n        }\n    }\n}\n\nfunction dispatch_dev(type, detail) {\n    document.dispatchEvent(custom_event(type, Object.assign({ version: '3.44.2' }, detail), true));\n}\nfunction append_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append(target, node);\n}\nfunction append_hydration_dev(target, node) {\n    dispatch_dev('SvelteDOMInsert', { target, node });\n    append_hydration(target, node);\n}\nfunction insert_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert(target, node, anchor);\n}\nfunction insert_hydration_dev(target, node, anchor) {\n    dispatch_dev('SvelteDOMInsert', { target, node, anchor });\n    insert_hydration(target, node, anchor);\n}\nfunction detach_dev(node) {\n    dispatch_dev('SvelteDOMRemove', { node });\n    detach(node);\n}\nfunction detach_between_dev(before, after) {\n    while (before.nextSibling && before.nextSibling !== after) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction detach_before_dev(after) {\n    while (after.previousSibling) {\n        detach_dev(after.previousSibling);\n    }\n}\nfunction detach_after_dev(before) {\n    while (before.nextSibling) {\n        detach_dev(before.nextSibling);\n    }\n}\nfunction listen_dev(node, event, handler, options, has_prevent_default, has_stop_propagation) {\n    const modifiers = options === true ? ['capture'] : options ? Array.from(Object.keys(options)) : [];\n    if (has_prevent_default)\n        modifiers.push('preventDefault');\n    if (has_stop_propagation)\n        modifiers.push('stopPropagation');\n    dispatch_dev('SvelteDOMAddEventListener', { node, event, handler, modifiers });\n    const dispose = listen(node, event, handler, options);\n    return () => {\n        dispatch_dev('SvelteDOMRemoveEventListener', { node, event, handler, modifiers });\n        dispose();\n    };\n}\nfunction attr_dev(node, attribute, value) {\n    attr(node, attribute, value);\n    if (value == null)\n        dispatch_dev('SvelteDOMRemoveAttribute', { node, attribute });\n    else\n        dispatch_dev('SvelteDOMSetAttribute', { node, attribute, value });\n}\nfunction prop_dev(node, property, value) {\n    node[property] = value;\n    dispatch_dev('SvelteDOMSetProperty', { node, property, value });\n}\nfunction dataset_dev(node, property, value) {\n    node.dataset[property] = value;\n    dispatch_dev('SvelteDOMSetDataset', { node, property, value });\n}\nfunction set_data_dev(text, data) {\n    data = '' + data;\n    if (text.wholeText === data)\n        return;\n    dispatch_dev('SvelteDOMSetData', { node: text, data });\n    text.data = data;\n}\nfunction validate_each_argument(arg) {\n    if (typeof arg !== 'string' && !(arg && typeof arg === 'object' && 'length' in arg)) {\n        let msg = '{#each} only iterates over array-like objects.';\n        if (typeof Symbol === 'function' && arg && Symbol.iterator in arg) {\n            msg += ' You can use a spread to convert this iterable into an array.';\n        }\n        throw new Error(msg);\n    }\n}\nfunction validate_slots(name, slot, keys) {\n    for (const slot_key of Object.keys(slot)) {\n        if (!~keys.indexOf(slot_key)) {\n            console.warn(`<${name}> received an unexpected slot \"${slot_key}\".`);\n        }\n    }\n}\n/**\n * Base class for Svelte components with some minor dev-enhancements. Used when dev=true.\n */\nclass SvelteComponentDev extends SvelteComponent {\n    constructor(options) {\n        if (!options || (!options.target && !options.$$inline)) {\n            throw new Error(\"'target' is a required option\");\n        }\n        super();\n    }\n    $destroy() {\n        super.$destroy();\n        this.$destroy = () => {\n            console.warn('Component was already destroyed'); // eslint-disable-line no-console\n        };\n    }\n    $capture_state() { }\n    $inject_state() { }\n}\n/**\n * Base class to create strongly typed Svelte components.\n * This only exists for typing purposes and should be used in `.d.ts` files.\n *\n * ### Example:\n *\n * You have component library on npm called `component-library`, from which\n * you export a component called `MyComponent`. For Svelte+TypeScript users,\n * you want to provide typings. Therefore you create a `index.d.ts`:\n * ```ts\n * import { SvelteComponentTyped } from \"svelte\";\n * export class MyComponent extends SvelteComponentTyped<{foo: string}> {}\n * ```\n * Typing this makes it possible for IDEs like VS Code with the Svelte extension\n * to provide intellisense and to use the component like this in a Svelte file\n * with TypeScript:\n * ```svelte\n * <script lang=\"ts\">\n * \timport { MyComponent } from \"component-library\";\n * </script>\n * <MyComponent foo={'bar'} />\n * ```\n *\n * #### Why not make this part of `SvelteComponent(Dev)`?\n * Because\n * ```ts\n * class ASubclassOfSvelteComponent extends SvelteComponent<{foo: string}> {}\n * const component: typeof SvelteComponent = ASubclassOfSvelteComponent;\n * ```\n * will throw a type error, so we need to separate the more strictly typed class.\n */\nclass SvelteComponentTyped extends SvelteComponentDev {\n    constructor(options) {\n        super(options);\n    }\n}\nfunction loop_guard(timeout) {\n    const start = Date.now();\n    return () => {\n        if (Date.now() - start > timeout) {\n            throw new Error('Infinite loop detected');\n        }\n    };\n}\n\nexport { HtmlTag, HtmlTagHydration, SvelteComponent, SvelteComponentDev, SvelteComponentTyped, SvelteElement, action_destroyer, add_attribute, add_classes, add_flush_callback, add_location, add_render_callback, add_resize_listener, add_transform, afterUpdate, append, append_dev, append_empty_stylesheet, append_hydration, append_hydration_dev, append_styles, assign, attr, attr_dev, attribute_to_object, beforeUpdate, bind, binding_callbacks, blank_object, bubble, check_outros, children, claim_component, claim_element, claim_html_tag, claim_space, claim_svg_element, claim_text, clear_loops, component_subscribe, compute_rest_props, compute_slots, createEventDispatcher, create_animation, create_bidirectional_transition, create_component, create_in_transition, create_out_transition, create_slot, create_ssr_component, current_component, custom_event, dataset_dev, debug, destroy_block, destroy_component, destroy_each, detach, detach_after_dev, detach_before_dev, detach_between_dev, detach_dev, dirty_components, dispatch_dev, each, element, element_is, empty, end_hydrating, escape, escape_attribute_value, escape_object, escaped, exclude_internal_props, fix_and_destroy_block, fix_and_outro_and_destroy_block, fix_position, flush, getAllContexts, getContext, get_all_dirty_from_scope, get_binding_group_value, get_current_component, get_custom_elements_slots, get_root_for_style, get_slot_changes, get_spread_object, get_spread_update, get_store_value, globals, group_outros, handle_promise, hasContext, has_prop, identity, init, insert, insert_dev, insert_hydration, insert_hydration_dev, intros, invalid_attribute_name_character, is_client, is_crossorigin, is_empty, is_function, is_promise, listen, listen_dev, loop, loop_guard, missing_component, mount_component, noop, not_equal, now, null_to_empty, object_without_properties, onDestroy, onMount, once, outro_and_destroy_block, prevent_default, prop_dev, query_selector_all, raf, run, run_all, safe_not_equal, schedule_update, select_multiple_value, select_option, select_options, select_value, self, setContext, set_attributes, set_current_component, set_custom_element_data, set_data, set_data_dev, set_input_type, set_input_value, set_now, set_raf, set_store_value, set_style, set_svg_attributes, space, spread, src_url_equal, start_hydrating, stop_propagation, subscribe, svg_element, text, tick, time_ranges_to_array, to_number, toggle_class, transition_in, transition_out, trusted, update_await_block_branch, update_keyed_each, update_slot, update_slot_base, validate_component, validate_each_argument, validate_each_keys, validate_slots, validate_store, xlink_attr };\n","export const shields = {\n    types: { basic: 10, regional: 2, historical: 1, specific: 1, banner: 1, simple: 2, fantasy: 1, middleEarth: 0 },\n    basic: { heater: 12, spanish: 6, french: 1 },\n    regional: { horsehead: 1, horsehead2: 1, polish: 1, hessen: 1, swiss: 1 },\n    historical: { boeotian: 1, roman: 2, kite: 1, oldFrench: 5, renaissance: 2, baroque: 2 },\n    specific: { targe: 1, targe2: 0, pavise: 5, wedged: 10, embowed: 1 },\n    banner: { flag: 1, pennon: 0, guidon: 0, banner: 0, dovetail: 1, gonfalon: 5, pennant: 0 },\n    simple: { round: 12, oval: 6, vesicaPiscis: 1, square: 1, diamond: 2, hexagon: 1, no: 0 },\n    middleEarth: { noldor: 1, gondor: 1, easterling: 1, erebor: 1, ironHills: 1, urukHai: 1, moriaOrc: 1 },\n    fantasy: { fantasy1: 2, fantasy2: 2, fantasy3: 1, fantasy4: 1, fantasy5: 3 }\n};\nexport const shieldTypes = [\n    \"basic\",\n    \"regional\",\n    \"historical\",\n    \"specific\",\n    \"banner\",\n    \"simple\",\n    \"middleEarth\",\n    \"fantasy\"\n];\nexport const shieldPaths = {\n    heater: \"m25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z\",\n    spanish: \"m25,25 h150 v100 a75,75,0,0,1,-150,0 z\",\n    french: \"m 25,25 h 150 v 139.15 c 0,41.745 -66,18.15 -75,36.3 -9,-18.15 -75,5.445 -75,-36.3 v 0 z\",\n    horsehead: \"m 20,40 c 0,60 40,80 40,100 0,10 -4,15 -0.35,30 C 65,185.7 81,200 100,200 c 19.1,0 35.3,-14.6 40.5,-30.4 C 144.2,155 140,150 140,140 140,120 180,100 180,40 142.72,40 150,15 100,15 55,15 55,40 20,40 Z\",\n    horsehead2: \"M60 20c-5 20-10 35-35 55 25 35 35 65 30 100 20 0 35 10 45 26 10-16 30-26 45-26-5-35 5-65 30-100a87 87 0 01-35-55c-25 3-55 3-80 0z\",\n    polish: \"m 90.3,6.3 c -12.7,0 -20.7,10.9 -40.5,14 0,11.8 -4.9,23.5 -11.4,31.1 0,0 12.7,6 12.7,19.3 C 51.1,90.8 30,90.8 30,90.8 c 0,0 -3.6,7.4 -3.6,22.4 0,34.3 23.1,60.2 40.7,68.2 17.6,8 27.7,11.4 32.9,18.6 5.2,-7.3 15.3,-10.7 32.8,-18.6 17.6,-8 40.7,-33.9 40.7,-68.2 0,-15 -3.6,-22.4 -3.6,-22.4 0,0 -21.1,0 -21.1,-20.1 0,-13.3 12.7,-19.3 12.7,-19.3 C 155.1,43.7 150.2,32.1 150.2,20.3 130.4,17.2 122.5,6.3 109.7,6.3 102.5,6.3 100,10 100,10 c 0,0 -2.5,-3.7 -9.7,-3.7 z\",\n    hessen: \"M170 20c4 5 8 13 15 20 0 0-10 0-10 15 0 100-15 140-75 145-65-5-75-45-75-145 0-15-10-15-10-15l15-20c0 15 10-5 70-5s70 20 70 5z\",\n    swiss: \"m 25,20 c -0.1,0 25.2,8.5 37.6,8.5 C 75.1,28.5 99.1,20 100,20 c 0.6,0 24.9,8.5 37.3,8.5 C 149.8,28.5 174.4,20 175,20 l -0.3,22.6 C 173.2,160.3 100,200 100,200 100,200 26.5,160.9 25.2,42.6 Z\",\n    boeotian: \"M150 115c-5 0-10-5-10-15s5-15 10-15c10 0 7 10 15 10 10 0 0-30 0-30-10-25-30-55-65-55S45 40 35 65c0 0-10 30 0 30 8 0 5-10 15-10 5 0 10 5 10 15s-5 15-10 15c-10 0-7-10-15-10-10 0 0 30 0 30 10 25 30 55 65 55s55-30 65-55c0 0 10-30 0-30-8 0-5 10-15 10z\",\n    roman: \"m 160,170 c -40,20 -80,20 -120,0 V 30 C 80,10 120,10 160,30 Z\",\n    kite: \"m 53.3,46.4 c 0,4.1 1,12.3 1,12.3 7.1,55.7 45.7,141.3 45.7,141.3 0,0 38.6,-85.6 45.7,-141.2 0,0 1,-8.1 1,-12.3 C 146.7,20.9 125.8,0.1 100,0.1 74.2,0.1 53.3,20.9 53.3,46.4 Z\",\n    oldFrench: \"m25,25 h150 v75 a100,100,0,0,1,-75,100 a100,100,0,0,1,-75,-100 z\",\n    renaissance: \"M 25,33.9 C 33.4,50.3 36.2,72.9 36.2,81.7 36.2,109.9 25,122.6 25,141 c 0,29.4 24.9,44.1 40.2,47.7 15.3,3.7 29.3,0 34.8,11.3 5.5,-11.3 19.6,-7.6 34.8,-11.3 C 150.1,185 175,170.3 175,141 c 0,-18.4 -11.2,-31.1 -11.2,-59.3 0,-8.8 2.8,-31.3 11.2,-47.7 L 155.7,14.4 C 138.2,21.8 119.3,25.7 100,25.7 c -19.3,0 -38.2,-3.9 -55.7,-11.3 z\",\n    baroque: \"m 100,25 c 18,0 50,2 75,14 v 37 l -2.7,3.2 c -4.9,5.4 -6.6,9.6 -6.7,16.2 0,6.5 2,11.6 6.9,17.2 l 2.8,3.1 v 10.2 c 0,17.7 -2.2,27.7 -7.8,35.9 -5,7.3 -11.7,11.3 -32.3,19.4 -12.6,5 -20.2,8.8 -28.6,14.5 C 103.3,198 100,200 100,200 c 0,0 -2.8,-2.3 -6.4,-4.7 C 85.6,189.8 78,186 65,180.9 32.4,168.1 26.9,160.9 25.8,129.3 L 25,116 l 3.3,-3.3 c 4.8,-5.2 7,-10.7 7,-17.3 0,-6.8 -1.8,-11.1 -6.5,-16.1 L 25,76 V 39 C 50,27 82,25 100,25 Z\",\n    targe: \"m 20,35 c 15,0 115,-60 155,-10 -5,10 -15,15 -10,50 5,45 10,70 -10,90 C 125,195 75,195 50,175 25,150 30,130 35,85 50,95 65,85 65,70 65,50 50,45 40,50 30,55 27,65 30,70 23,73 20,70 14,70 11,60 20,45 20,35 Z\",\n    targe2: \"m 84,32.2 c 6.2,-1 19.5,-31.4 94.1,-20.2 -30.57,33.64 -21.66,67.37 -11.2,95 20.2,69.5 -41.17549,84.7 -66.88,84.7 C 74.32,191.7071 8.38,168.95 32,105.9 36.88,92.88 31,89 31,82.6 35.15,82.262199 56.79,86.17 56.5,69.8 56.20,52.74 42.2,47.9 25.9,55.2 25.9,51.4 39.8,6.7 84,32.2 Z\",\n    pavise: \"M95 7L39.9 37.3a10 10 0 00-5.1 9.5L46 180c.4 5.2 3.7 10 9 10h90c5.3 0 9.6-4.8 10-10l10.6-133.2a10 10 0 00-5-9.5L105 7c-4.2-2.3-6.2-2.3-10 0z\",\n    wedged: \"m 51.2,19 h 96.4 c 3.1,12.7 10.7,20.9 26.5,20.8 C 175.7,94.5 165.3,144.3 100,200 43.5,154.2 22.8,102.8 25.1,39.7 37,38.9 47.1,34.7 51.2,19 Z\",\n    embowed: \"m 25,25 a 170,170,0,0,1,150,0 v 50 a 150,150,0,0,1,-75,125 a 150,150,0,0,1,-75,-125 z\",\n    round: \"m 185,100 a 85,85 0 0 1 -85,85 85,85 0 0 1 -85,-85 85,85 0 0 1 85,-85 85,85 0 0 1 85,85\",\n    oval: \"m 32.3,99.5 a 67.7,93.7 0 1 1 0,1.3 z\",\n    vesicaPiscis: \"M 100,0 C 63.9,20.4 41,58.5 41,100 c 0,41.5 22.9,79.6 59,100 36.1,-20.4 59,-58.5 59,-100 C 159,58.5 136.1,20.4 100,0 Z\",\n    square: \"M 25,25 H 175 V 175 H 25 Z\",\n    diamond: \"M 25,100 100,200 175,100 100,0 Z\",\n    hexagon: \"M 100,12 176.2,56 176.2,144 100,188 23.8,144 23.8,56 Z\",\n    no: \"m0,0 h200 v200 h-200 z\",\n    flag: \"M 10,40 h180 v120 h-180 Z\",\n    pennon: \"M 10,40 l190,60 -190,60 Z\",\n    guidon: \"M 10,40 h190 l-65,60 65,60 h-190 Z\",\n    banner: \"m 25,25 v 170 l 25,-40 25,40 25,-40 25,40 25,-40 25,40 V 25 Z\",\n    dovetail: \"m 25,25 v 175 l 75,-40 75,40 V 25 Z\",\n    gonfalon: \"m 25,25 v 125 l 75,50 75,-50 V 25 Z\",\n    pennant: \"M 25,15 100,200 175,15 Z\",\n    fantasy1: \"M 100,5 C 85,30 40,35 15,40 c 40,35 20,90 40,115 15,25 40,30 45,45 5,-15 30,-20 45,-45 20,-25 0,-80 40,-115 C 160,35 115,30 100,5 Z\",\n    fantasy2: \"m 152,21 c 0,0 -27,14 -52,-4 C 75,35 48,21 48,21 50,45 30,55 30,75 60,75 60,115 32,120 c 3,40 53,50 68,80 15,-30 65,-40 68,-80 -28,-5 -28,-45 2,-45 C 170,55 150,45 152,21 Z\",\n    fantasy3: \"M 167,67 C 165,0 35,0 33,67 c 32,-7 27,53 -3,43 -5,45 60,65 70,90 10,-25 75,-47.51058 70,-90 -30,10 -35,-50 -3,-43 z\",\n    fantasy4: \"M100 9C55 48 27 27 13 39c23 50 3 119 49 150 14 9 28 11 38 11s27-4 38-11c55-39 24-108 49-150-14-12-45 7-87-30z\",\n    fantasy5: \"M 100,0 C 75,25 30,25 30,25 c 0,69 20,145 70,175 50,-30 71,-106 70,-175 0,0 -45,0 -70,-25 z\",\n    noldor: \"m 55,75 h 2 c 3,-25 38,-10 3,20 15,50 30,75 40,105 10,-30 25,-55 40,-105 -35,-30 0,-45 3,-20 h 2 C 150,30 110,20 100,0 90,20 50,30 55,75 Z\",\n    gondor: \"m 100,200 c 15,-15 38,-35 45,-60 h 5 V 30 h -5 C 133,10 67,10 55,30 h -5 v 110 h 5 c 7,25 30,45 45,60 z\",\n    easterling: \"M 160,185 C 120,170 80,170 40,185 V 15 c 40,15 80,15 120,0 z\",\n    erebor: \"M25 135 V60 l22-13 16-37 h75 l15 37 22 13 v75l-22 18-16 37 H63l-16-37z\",\n    ironHills: \"m 30,25 60,-10 10,10 10,-10 60,10 -5,125 -65,50 -65,-50 z\",\n    urukHai: \"M 30,60 C 40,60 60,50 60,20 l -5,-3 45,-17 75,40 -5,5 -35,155 -5,-35 H 70 v 35 z\",\n    moriaOrc: \"M45 35c5 3 7 10 13 9h19c4-2 7-4 9-9 6 1 9 9 16 11 7-2 14 0 21 0 6-3 6-10 10-15 2-5 1-10-2-15-2-4-5-14-4-16 3 6 7 11 12 14 7 3 3 12 7 16 3 6 4 12 9 18 2 4 6 8 5 14 0 6-1 12 3 18-3 6-2 13-1 20 1 6-2 12-1 18 0 6-3 13 0 18 8 4 0 8-5 7-4 3-9 3-13 9-5 5-5 13-8 19 0 6 0 15-7 16-1 6-7 6-10 12-1-6 0-6-2-9l2-19c2-4 5-12-3-12-4-5-11-5-15 1l-13-18c-3-4-2 9-3 12 2 2-4-6-7-5-8-2-8 7-11 11-2 4-5 10-8 9 3-10 3-16 1-23-1-4 2-9-4-11 0-6 1-13-2-19-4-2-9-6-13-7V91c4-7-5-13 0-19-3-7 2-11 2-18-1-6 1-12 3-17v-1z\"\n};\nexport const DEFAULT_SHIELD_BOX = \"0 0 200 200\";\nexport const shieldBox = {\n    heater: \"0 10 200 200\",\n    spanish: \"0 10 200 200\",\n    french: \"0 10 200 200\",\n    horsehead: \"0 10 200 200\",\n    horsehead2: \"0 10 200 200\",\n    polish: \"0 0 200 200\",\n    hessen: \"0 5 200 200\",\n    swiss: \"0 10 200 200\",\n    boeotian: \"0 0 200 200\",\n    roman: \"0 0 200 200\",\n    kite: \"0 0 200 200\",\n    oldFrench: \"0 10 200 200\",\n    renaissance: \"0 5 200 200\",\n    baroque: \"0 10 200 200\",\n    targe: \"0 0 200 200\",\n    targe2: \"0 0 200 200\",\n    pavise: \"0 0 200 200\",\n    wedged: \"0 10 200 200\",\n    embowed: \"0 0 200 200\",\n    flag: \"0 0 200 200\",\n    pennon: \"2.5 0 200 200\",\n    guidon: \"2.5 0 200 200\",\n    banner: \"0 10 200 200\",\n    dovetail: \"0 10 200 200\",\n    gonfalon: \"0 10 200 200\",\n    pennant: \"0 0 200 200\",\n    round: \"0 0 200 200\",\n    oval: \"0 0 200 200\",\n    vesicaPiscis: \"0 0 200 200\",\n    square: \"0 0 200 200\",\n    diamond: \"0 0 200 200\",\n    hexagon: \"0 0 200 200\",\n    no: \"0 0 200 200\",\n    fantasy1: \"0 0 200 200\",\n    fantasy2: \"0 5 200 200\",\n    fantasy3: \"0 5 200 200\",\n    fantasy4: \"0 5 200 200\",\n    fantasy5: \"0 0 200 200\",\n    noldor: \"0 0 200 200\",\n    gondor: \"0 5 200 200\",\n    easterling: \"0 0 200 200\",\n    erebor: \"0 0 200 200\",\n    ironHills: \"0 5 200 200\",\n    urukHai: \"0 0 200 200\",\n    moriaOrc: \"0 0 200 200\"\n};\n// size modifier applied for charges, default is 1\nexport const shieldSize = {\n    horsehead: 0.9,\n    horsehead2: 0.9,\n    polish: 0.85,\n    swiss: 0.95,\n    boeotian: 0.75,\n    roman: 0.95,\n    kite: 0.65,\n    targe2: 0.9,\n    pavise: 0.9,\n    wedged: 0.95,\n    flag: 0.7,\n    pennon: 0.5,\n    guidon: 0.65,\n    banner: 0.8,\n    dovetail: 0.8,\n    pennant: 0.6,\n    oval: 0.95,\n    vesicaPiscis: 0.8,\n    diamond: 0.8,\n    no: 1.2,\n    fantasy1: 0.8,\n    fantasy2: 0.7,\n    fantasy3: 0.7,\n    fantasy5: 0.9,\n    noldor: 0.5,\n    gondor: 0.75,\n    easterling: 0.8,\n    erebor: 0.9,\n    urukHai: 0.8,\n    moriaOrc: 0.7\n};\nexport const shieldPositions = {\n    // shield-specific position: [x, y] (relative to center)\n    heater: {\n        a: [-43.75, -50],\n        b: [0, -50],\n        c: [43.75, -50],\n        d: [-43.75, 0],\n        e: [0, 0],\n        f: [43.75, 0],\n        g: [-32.25, 37.5],\n        h: [0, 50],\n        i: [32.25, 37.5],\n        y: [-50, -50],\n        z: [0, 62.5],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-30, 30],\n        n: [0, 42.5],\n        o: [30, 30],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-66.2, -66.6],\n        B: [-22, -66.6],\n        C: [22, -66.6],\n        D: [66.2, -66.6],\n        K: [-66.2, -20],\n        E: [66.2, -20],\n        J: [-55.5, 26],\n        F: [55.5, 26],\n        I: [-33, 62],\n        G: [33, 62],\n        H: [0, 89.5]\n    },\n    spanish: {\n        a: [-43.75, -50],\n        b: [0, -50],\n        c: [43.75, -50],\n        d: [-43.75, 0],\n        e: [0, 0],\n        f: [43.75, 0],\n        g: [-43.75, 50],\n        h: [0, 50],\n        i: [43.75, 50],\n        y: [-50, -50],\n        z: [0, 50],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-37.5, 37.5],\n        n: [0, 37.5],\n        o: [37.5, 37.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-66.2, -66.6],\n        B: [-22, -66.6],\n        C: [22, -66.6],\n        D: [66.2, -66.6],\n        K: [-66.4, -20],\n        E: [66.4, -20],\n        J: [-66.4, 26],\n        F: [66.4, 26],\n        I: [-49, 70],\n        G: [49, 70],\n        H: [0, 92]\n    },\n    french: {\n        a: [-43.75, -50],\n        b: [0, -50],\n        c: [43.75, -50],\n        d: [-43.75, 0],\n        e: [0, 0],\n        f: [43.75, 0],\n        g: [-43.75, 50],\n        h: [0, 50],\n        i: [43.75, 50],\n        y: [-50, -50],\n        z: [0, 65],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-37.5, 37.5],\n        n: [0, 37.5],\n        o: [37.5, 37.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-66.2, -66.6],\n        B: [-22, -66.6],\n        C: [22, -66.6],\n        D: [66.2, -66.6],\n        K: [-66.4, -20],\n        E: [66.4, -20],\n        J: [-66.4, 26],\n        F: [66.4, 26],\n        I: [-65.4, 70],\n        G: [65.4, 70],\n        H: [0, 89]\n    },\n    horsehead: {\n        a: [-43.75, -47.5],\n        b: [0, -50],\n        c: [43.75, -47.5],\n        d: [-35, 0],\n        e: [0, 0],\n        f: [35, 0],\n        h: [0, 50],\n        y: [-50, -50],\n        z: [0, 55],\n        j: [-35, -35],\n        k: [0, -40],\n        l: [35, -35],\n        m: [-30, 30],\n        n: [0, 40],\n        o: [30, 30],\n        p: [-27.5, 0],\n        q: [27.5, 0],\n        A: [-71, -52],\n        B: [-24, -73],\n        C: [24, -73],\n        D: [71, -52],\n        K: [-62, -16],\n        E: [62, -16],\n        J: [-39, 20],\n        F: [39, 20],\n        I: [-33.5, 60],\n        G: [33.5, 60],\n        H: [0, 91.5]\n    },\n    horsehead2: {\n        a: [-37.5, -47.5],\n        b: [0, -50],\n        c: [37.5, -47.5],\n        d: [-35, 0],\n        e: [0, 0],\n        f: [35, 0],\n        g: [-35, 47.5],\n        h: [0, 50],\n        i: [35, 47.5],\n        y: [-50, -50],\n        z: [0, 55],\n        j: [-30, -30],\n        k: [0, -40],\n        l: [30, -30],\n        m: [-30, 30],\n        n: [0, 40],\n        o: [30, 30],\n        p: [-27.5, 0],\n        q: [27.5, 0],\n        A: [-49, -39],\n        B: [-22, -70],\n        C: [22, -70],\n        D: [49, -39],\n        K: [-51, -2],\n        E: [51, -2],\n        J: [-38.5, 31],\n        F: [38.5, 31],\n        I: [-35, 67],\n        G: [35, 67],\n        H: [0, 85]\n    },\n    polish: {\n        a: [-35, -50],\n        b: [0, -50],\n        c: [35, -50],\n        d: [-40, 0],\n        e: [0, 0],\n        f: [40, 0],\n        g: [-37.5, 50],\n        h: [0, 50],\n        i: [37.5, 50],\n        y: [-50, -50],\n        z: [0, 65],\n        j: [-27.5, -27.5],\n        k: [0, -45],\n        l: [27.5, -27.5],\n        m: [-27.5, 27.5],\n        n: [0, 45],\n        o: [27.5, 27.5],\n        p: [-32.5, 0],\n        q: [32.5, 0],\n        A: [-48, -52],\n        B: [-23, -80],\n        C: [23, -80],\n        D: [48, -52],\n        K: [-47, -10],\n        E: [47, -10],\n        J: [-62, 32],\n        F: [62, 32],\n        I: [-37, 68],\n        G: [37, 68],\n        H: [0, 86]\n    },\n    hessen: {\n        a: [-43.75, -50],\n        b: [0, -50],\n        c: [43.75, -50],\n        d: [-43.75, 0],\n        e: [0, 0],\n        f: [43.75, 0],\n        g: [-43.75, 50],\n        h: [0, 50],\n        i: [43.75, 50],\n        y: [-50, -50],\n        z: [0, 52.5],\n        j: [-40, -40],\n        k: [0, -40],\n        l: [40, -40],\n        m: [-40, 40],\n        n: [0, 40],\n        o: [40, 40],\n        p: [-40, 0],\n        q: [40, 0],\n        A: [-69, -64],\n        B: [-22, -76],\n        C: [22, -76],\n        D: [69, -64],\n        K: [-66.4, -20],\n        E: [66.4, -20],\n        J: [-62, 26],\n        F: [62, 26],\n        I: [-46, 70],\n        G: [46, 70],\n        H: [0, 91.5]\n    },\n    swiss: {\n        a: [-43.75, -50],\n        b: [0, -50],\n        c: [43.75, -50],\n        d: [-43.75, 0],\n        e: [0, 0],\n        f: [43.75, 0],\n        g: [-32, 37.5],\n        h: [0, 50],\n        i: [32, 37.5],\n        y: [-50, -50],\n        z: [0, 62.5],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-32, 32.5],\n        n: [0, 42.5],\n        o: [32, 32.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-66.2, -66.6],\n        B: [-22, -66],\n        C: [22, -66],\n        D: [66.2, -66.6],\n        K: [-63, -20],\n        E: [63, -20],\n        J: [-50, 26],\n        F: [50, 26],\n        I: [-29, 62],\n        G: [29, 62],\n        H: [0, 89.5]\n    },\n    boeotian: {\n        a: [-37.5, -47.5],\n        b: [0, -47.5],\n        c: [37.5, -47.5],\n        d: [-25, 0],\n        e: [0, 0],\n        f: [25, 0],\n        g: [-37.5, 47.5],\n        h: [0, 47.5],\n        i: [37.5, 47.5],\n        y: [-48, -48],\n        z: [0, 60],\n        j: [-32.5, -37.5],\n        k: [0, -45],\n        l: [32.5, -37.5],\n        m: [-32.5, 37.5],\n        n: [0, 45],\n        o: [32.5, 37.5],\n        p: [-20, 0],\n        q: [20, 0],\n        A: [-45, -55],\n        B: [-20, -77],\n        C: [20, -77],\n        D: [45, -55],\n        K: [-59, -25],\n        E: [59, -25],\n        J: [-58, 27],\n        F: [58, 27],\n        I: [-39, 63],\n        G: [39, 63],\n        H: [0, 81]\n    },\n    roman: {\n        a: [-40, -52.5],\n        b: [0, -52.5],\n        c: [40, -52.5],\n        d: [-40, 0],\n        e: [0, 0],\n        f: [40, 0],\n        g: [-40, 52.5],\n        h: [0, 52.5],\n        i: [40, 52.5],\n        y: [-42.5, -52.5],\n        z: [0, 65],\n        j: [-30, -37.5],\n        k: [0, -37.5],\n        l: [30, -37.5],\n        m: [-30, 37.5],\n        n: [0, 37.5],\n        o: [30, 37.5],\n        p: [-30, 0],\n        q: [30, 0],\n        A: [-51.5, -65],\n        B: [-17, -75],\n        C: [17, -75],\n        D: [51.5, -65],\n        K: [-51.5, -21],\n        E: [51.5, -21],\n        J: [-51.5, 21],\n        F: [51.5, 21],\n        I: [-51.5, 65],\n        G: [51.5, 65],\n        H: [-17, 75],\n        L: [17, 75]\n    },\n    kite: {\n        b: [0, -65],\n        e: [0, -15],\n        h: [0, 35],\n        z: [0, 35],\n        k: [0, -50],\n        n: [0, 20],\n        p: [-20, -15],\n        q: [20, -15],\n        A: [-38, -52],\n        B: [-29, -78],\n        C: [29, -78],\n        D: [38, -52],\n        K: [-33, -20],\n        E: [33, -20],\n        J: [-25, 11],\n        F: [25, 11],\n        I: [-15, 42],\n        G: [15, 42],\n        H: [0, 73],\n        L: [0, -91]\n    },\n    oldFrench: {\n        a: [-43.75, -50],\n        b: [0, -50],\n        c: [43.75, -50],\n        d: [-43.75, 0],\n        e: [0, 0],\n        f: [43.75, 0],\n        g: [-37.5, 50],\n        h: [0, 50],\n        i: [37.5, 50],\n        y: [-50, -50],\n        z: [0, 62.5],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-37.5, 37.5],\n        n: [0, 45],\n        o: [37.5, 37.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-66.2, -66.6],\n        B: [-22, -66.6],\n        C: [22, -66.6],\n        D: [66.2, -66.6],\n        K: [-66.2, -20],\n        E: [66.2, -20],\n        J: [-64, 26],\n        F: [64, 26],\n        I: [-45, 62],\n        G: [45, 62],\n        H: [0, 91]\n    },\n    renaissance: {\n        a: [-43.75, -50],\n        b: [0, -50],\n        c: [43.75, -50],\n        d: [-41.5, 0],\n        e: [0, 0],\n        f: [41.5, 0],\n        g: [-43.75, 50],\n        h: [0, 50],\n        i: [43.75, 50],\n        y: [-50, -50],\n        z: [0, 62.5],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-37.5, 37.5],\n        n: [0, 37.5],\n        o: [37.5, 37.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-61, -55],\n        B: [-23, -67],\n        C: [23, -67],\n        D: [61, -55],\n        K: [-55, -11],\n        E: [55, -11],\n        J: [-65, 31],\n        F: [65, 31],\n        I: [-45, 76],\n        G: [45, 76],\n        H: [0, 87]\n    },\n    baroque: {\n        a: [-43.75, -45],\n        b: [0, -45],\n        c: [43.75, -45],\n        d: [-43.75, 0],\n        e: [0, 0],\n        f: [43.75, 0],\n        g: [-43.75, 50],\n        h: [0, 50],\n        i: [43.75, 50],\n        y: [-50, -50],\n        z: [0, 60],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-37.5, 37.5],\n        n: [0, 37.5],\n        o: [37.5, 37.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-65, -54.5],\n        B: [-22, -65],\n        C: [22, -65],\n        D: [65, -54.5],\n        K: [-58.5, -15],\n        E: [58.5, -15],\n        J: [-65, 31],\n        F: [66, 31],\n        I: [-35, 73],\n        G: [35, 73],\n        H: [0, 89]\n    },\n    targe: {\n        a: [-43.75, -50],\n        b: [0, -50],\n        c: [43.75, -50],\n        d: [-43.75, 0],\n        e: [0, 0],\n        f: [43.75, 0],\n        g: [-43.75, 50],\n        h: [0, 50],\n        i: [43.75, 50],\n        y: [-50, -50],\n        z: [0, 50],\n        j: [-40, -40],\n        k: [0, -40],\n        l: [40, -40],\n        m: [-40, 40],\n        n: [0, 40],\n        o: [40, 40],\n        p: [-32.5, 0],\n        q: [32.5, 0],\n        A: [-66.2, -60],\n        B: [-22, -77],\n        C: [22, -86],\n        D: [60, -66.6],\n        K: [-28, -20],\n        E: [57, -20],\n        J: [-61, 26],\n        F: [61, 26],\n        I: [-49, 63],\n        G: [49, 59],\n        H: [0, 80]\n    },\n    targe2: {\n        a: [-43.75, -50],\n        b: [0, -50],\n        c: [43.75, -50],\n        d: [-40, 0],\n        e: [0, 0],\n        f: [40, 0],\n        g: [-43.75, 50],\n        h: [0, 50],\n        i: [43.75, 50],\n        y: [-50, -50],\n        z: [0, 60],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-37.5, 37.5],\n        n: [0, 37.5],\n        o: [37.5, 37.5],\n        p: [-32.5, 0],\n        q: [32.5, 0],\n        A: [-55, -59],\n        B: [-15, -59],\n        C: [24, -79],\n        D: [51, -58],\n        K: [-40, -14],\n        E: [51, -14],\n        J: [-64, 26],\n        F: [62, 26],\n        I: [-46, 66],\n        G: [48, 67],\n        H: [0, 83]\n    },\n    pavise: {\n        a: [-40, -52.5],\n        b: [0, -52.5],\n        c: [40, -52.5],\n        d: [-40, 0],\n        e: [0, 0],\n        f: [40, 0],\n        g: [-40, 52.5],\n        h: [0, 52.5],\n        i: [40, 52.5],\n        y: [-42.5, -52.5],\n        z: [0, 60],\n        j: [-30, -35],\n        k: [0, -37.5],\n        l: [30, -35],\n        m: [-30, 35],\n        n: [0, 37.5],\n        o: [30, 35],\n        p: [-30, 0],\n        q: [30, 0],\n        A: [-57, -55],\n        B: [-22, -74],\n        C: [22, -74],\n        D: [57, -55],\n        K: [-54, -11],\n        E: [54, -11],\n        J: [-50, 36],\n        F: [50, 36],\n        I: [-46, 81],\n        G: [46, 81],\n        H: [0, 81]\n    },\n    wedged: {\n        a: [-43.75, -50],\n        b: [0, -50],\n        c: [43.75, -50],\n        d: [-43.75, 0],\n        e: [0, 0],\n        f: [43.75, 0],\n        g: [-32.25, 37.5],\n        h: [0, 50],\n        i: [32.25, 37.5],\n        y: [-50, -50],\n        z: [0, 62.5],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-32.5, 32.5],\n        n: [0, 42.5],\n        o: [32.5, 32.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-66, -53],\n        B: [-22, -72.5],\n        C: [22, -72.5],\n        D: [66, -53],\n        K: [-62.6, -13],\n        E: [62.6, -13],\n        J: [-50, 26],\n        F: [50, 26],\n        I: [-27, 62],\n        G: [27, 62],\n        H: [0, 87]\n    },\n    embowed: {\n        a: [-43.75, -50],\n        b: [0, -60],\n        c: [43.75, -50],\n        d: [-43.75, 0],\n        e: [0, 0],\n        f: [43.75, 0],\n        g: [-32.25, 37.5],\n        h: [0, 50],\n        i: [32.25, 37.5],\n        y: [-50, -50],\n        z: [0, 62.5],\n        j: [-37.5, -37.5],\n        k: [0, -47.5],\n        l: [37.5, -37.5],\n        m: [-30, 30],\n        n: [0, 42.5],\n        o: [30, 30],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-66.2, -66.6],\n        B: [-22, -82],\n        C: [22, -82],\n        D: [66.2, -66.6],\n        K: [-66.2, -20],\n        E: [66.2, -20],\n        J: [-55.5, 26],\n        F: [55.5, 26],\n        I: [-33, 62],\n        G: [33, 62],\n        H: [0, 89.5]\n    },\n    flag: {\n        a: [-60, -40],\n        b: [0, -40],\n        c: [60, -40],\n        d: [-60, 0],\n        e: [0, 0],\n        f: [60, 0],\n        g: [-60, 40],\n        h: [0, 40],\n        i: [60, 40],\n        y: [-60, -42.5],\n        z: [0, 40],\n        j: [-45, -30],\n        k: [0, -30],\n        l: [45, -30],\n        m: [-45, 30],\n        n: [0, 30],\n        o: [45, 30],\n        p: [-45, 0],\n        q: [45, 0],\n        A: [-81, -51],\n        B: [-27, -51],\n        C: [27, -51],\n        D: [81, -51],\n        K: [-81, -17],\n        E: [81, -17],\n        J: [-81, 17],\n        F: [81, 17],\n        I: [-81, 51],\n        G: [81, 51],\n        H: [-27, 51],\n        L: [27, 51]\n    },\n    pennon: {\n        a: [-75, -40],\n        d: [-75, 0],\n        e: [-25, 0],\n        f: [25, 0],\n        g: [-75, 40],\n        y: [-70, -42.5],\n        j: [-60, -30],\n        m: [-60, 30],\n        p: [-60, 0],\n        q: [5, 0],\n        A: [-81, -48],\n        B: [-43, -36],\n        C: [-4.5, -24],\n        D: [33, -12],\n        E: [72, 0],\n        F: [33, 12],\n        G: [-4.5, 24],\n        H: [-43, 36],\n        I: [-81, 48],\n        J: [-81, 17],\n        K: [-81, -17]\n    },\n    guidon: {\n        a: [-60, -40],\n        b: [0, -40],\n        c: [60, -40],\n        d: [-60, 0],\n        e: [0, 0],\n        g: [-60, 40],\n        h: [0, 40],\n        i: [60, 40],\n        y: [-60, -42.5],\n        z: [0, 40],\n        j: [-45, -30],\n        k: [0, -30],\n        l: [45, -30],\n        m: [-45, 30],\n        n: [0, 30],\n        o: [45, 30],\n        p: [-45, 0],\n        A: [-81, -51],\n        B: [-27, -51],\n        C: [27, -51],\n        D: [78, -51],\n        K: [-81, -17],\n        E: [40.5, -17],\n        J: [-81, 17],\n        F: [40.5, 17],\n        I: [-81, 51],\n        G: [78, 51],\n        H: [-27, 51],\n        L: [27, 51]\n    },\n    banner: {\n        a: [-50, -50],\n        b: [0, -50],\n        c: [50, -50],\n        d: [-50, 0],\n        e: [0, 0],\n        f: [50, 0],\n        g: [-50, 40],\n        h: [0, 40],\n        i: [50, 40],\n        y: [-50, -50],\n        z: [0, 40],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-37.5, 27.5],\n        n: [0, 27.5],\n        o: [37.5, 27.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-66.5, -66.5],\n        B: [-22, -66.5],\n        C: [22, -66.5],\n        D: [66.5, -66.5],\n        K: [-66.5, -20],\n        E: [66.5, -20],\n        J: [-66.5, 26],\n        F: [66.5, 26],\n        I: [-66.5, 66.5],\n        G: [66.5, 66.5],\n        H: [-25, 75],\n        L: [25, 75]\n    },\n    dovetail: {\n        a: [-49.75, -50],\n        b: [0, -50],\n        c: [49.75, -50],\n        d: [-49.75, 0],\n        e: [0, 0],\n        f: [49.75, 0],\n        g: [-49.75, 50],\n        i: [49.75, 50],\n        y: [-50, -50],\n        z: [0, 40],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-37.5, 37.5],\n        n: [0, 32.5],\n        o: [37.5, 37.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-66.5, -66.5],\n        B: [-22, -66.5],\n        C: [22, -66.5],\n        D: [66.5, -66.5],\n        K: [-66.5, -16.5],\n        E: [66.5, -16.5],\n        J: [-66.5, 34.5],\n        F: [66.5, 34.5],\n        I: [-66.5, 84.5],\n        G: [66.5, 84.5],\n        H: [-25, 64],\n        L: [25, 64]\n    },\n    gonfalon: {\n        a: [-49.75, -50],\n        b: [0, -50],\n        c: [49.75, -50],\n        d: [-49.75, 0],\n        e: [0, 0],\n        f: [49.75, 0],\n        g: [-49.75, 50],\n        h: [0, 50],\n        i: [49.75, 50],\n        y: [-50, -50],\n        z: [0, 50],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-37.5, 37.5],\n        n: [0, 37.5],\n        o: [37.5, 37.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-66.5, -66.5],\n        B: [-22, -66.5],\n        C: [22, -66.5],\n        D: [66.5, -66.5],\n        K: [-66.5, -20],\n        E: [66.5, -20],\n        J: [-66.5, 26],\n        F: [66.5, 26],\n        I: [-40, 63],\n        G: [40, 63],\n        H: [0, 88]\n    },\n    pennant: {\n        a: [-45, -50],\n        b: [0, -50],\n        c: [45, -50],\n        e: [0, 0],\n        h: [0, 50],\n        y: [-50, -50],\n        z: [0, 50],\n        j: [-32.5, -37.5],\n        k: [0, -37.5],\n        l: [32.5, -37.5],\n        n: [0, 37.5],\n        A: [-60, -76],\n        B: [-22, -76],\n        C: [22, -76],\n        D: [60, -76],\n        K: [-46, -38],\n        E: [46, -38],\n        J: [-31, 0],\n        F: [31, 0],\n        I: [-16, 38],\n        G: [16, 38],\n        H: [0, 76]\n    },\n    round: {\n        a: [-40, -40],\n        b: [0, -40],\n        c: [40, -40],\n        d: [-40, 0],\n        e: [0, 0],\n        f: [40, 0],\n        g: [-40, 40],\n        h: [0, 40],\n        i: [40, 40],\n        y: [-48, -48],\n        z: [0, 57.5],\n        j: [-35.5, -35.5],\n        k: [0, -37.5],\n        l: [35.5, -35.5],\n        m: [-35.5, 35.5],\n        n: [0, 37.5],\n        o: [35.5, 35.5],\n        p: [-36.5, 0],\n        q: [36.5, 0],\n        A: [-59, -48],\n        B: [-23, -73],\n        C: [23, -73],\n        D: [59, -48],\n        K: [-76, -10],\n        E: [76, -10],\n        J: [-70, 31],\n        F: [70, 31],\n        I: [-42, 64],\n        G: [42, 64],\n        H: [0, 77]\n    },\n    oval: {\n        a: [-37.5, -50],\n        b: [0, -50],\n        c: [37.5, -50],\n        d: [-43, 0],\n        e: [0, 0],\n        f: [43, 0],\n        g: [-37.5, 50],\n        h: [0, 50],\n        i: [37.5, 50],\n        y: [-48, -48],\n        z: [0, 60],\n        j: [-35.5, -37.5],\n        k: [0, -37.5],\n        l: [35.5, -37.5],\n        m: [-35.5, 37.5],\n        n: [0, 50],\n        o: [35.5, 37.5],\n        p: [-36.5, 0],\n        q: [36.5, 0],\n        A: [-48, -48],\n        B: [-23, -78],\n        C: [23, -78],\n        D: [48, -48],\n        K: [-59, -10],\n        E: [59, -10],\n        J: [-55, 31],\n        F: [55, 31],\n        I: [-36, 68],\n        G: [36, 68],\n        H: [0, 85]\n    },\n    vesicaPiscis: {\n        a: [-32, -37],\n        b: [0, -50],\n        c: [32, -37],\n        d: [-32, 0],\n        e: [0, 0],\n        f: [32, 0],\n        g: [-32, 37],\n        h: [0, 50],\n        i: [32, 37],\n        y: [-50, -50],\n        z: [0, 62],\n        j: [-27.5, -27.5],\n        k: [0, -37],\n        l: [27.5, -27.5],\n        m: [-27.5, 27.5],\n        n: [0, 42],\n        o: [27.5, 27.5],\n        p: [-27.5, 0],\n        q: [27.5, 0],\n        A: [-45, -32],\n        B: [-29, -63],\n        C: [29, -63],\n        D: [45, -32],\n        K: [-50, 0],\n        E: [50, 0],\n        J: [-45, 32],\n        F: [45, 32],\n        I: [-29, 63],\n        G: [29, 63],\n        H: [0, 89],\n        L: [0, -89]\n    },\n    square: {\n        a: [-49.75, -50],\n        b: [0, -50],\n        c: [49.75, -50],\n        d: [-49.75, 0],\n        e: [0, 0],\n        f: [49.75, 0],\n        g: [-49.75, 50],\n        h: [0, 50],\n        i: [49.75, 50],\n        y: [-50, -50],\n        z: [0, 50],\n        j: [-37.5, -37.5],\n        k: [0, -37.5],\n        l: [37.5, -37.5],\n        m: [-37.5, 37.5],\n        n: [0, 37.5],\n        o: [37.5, 37.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-66.5, -66.5],\n        B: [-22, -66.5],\n        C: [22, -66.5],\n        D: [66.5, -66.5],\n        K: [-66.5, -20],\n        E: [66.5, -20],\n        J: [-66.5, 26],\n        F: [66.5, 26],\n        I: [-66.5, 66.5],\n        G: [66.5, 66.5],\n        H: [-22, 66.5],\n        L: [22, 66.5]\n    },\n    diamond: {\n        a: [-32, -37],\n        b: [0, -50],\n        c: [32, -37],\n        d: [-43, 0],\n        e: [0, 0],\n        f: [43, 0],\n        g: [-32, 37],\n        h: [0, 50],\n        i: [32, 37],\n        y: [-50, -50],\n        z: [0, 62],\n        j: [-27.5, -27.5],\n        k: [0, -37],\n        l: [27.5, -27.5],\n        m: [-27.5, 27.5],\n        n: [0, 42],\n        o: [27.5, 27.5],\n        p: [-37, 0],\n        q: [37, 0],\n        A: [-43, -28],\n        B: [-22, -56],\n        C: [22, -56],\n        D: [43, -28],\n        K: [-63, 0],\n        E: [63, 0],\n        J: [-42, 28],\n        F: [42, 28],\n        I: [-22, 56],\n        G: [22, 56],\n        H: [0, 83],\n        L: [0, -82]\n    },\n    hexagon: {\n        a: [-40, -40],\n        b: [0, -40],\n        c: [40, -40],\n        d: [-40, 0],\n        e: [0, 0],\n        f: [40, 0],\n        g: [-40, 40],\n        h: [0, 40],\n        i: [40, 40],\n        y: [-48, -48],\n        z: [0, 58],\n        j: [-30, -30],\n        k: [0, -32],\n        l: [30, -30],\n        m: [-30, 30],\n        n: [0, 32],\n        o: [30, 30],\n        p: [-32, 0],\n        q: [32, 0],\n        A: [-56, -45],\n        B: [-22, -65],\n        C: [22, -65],\n        D: [56, -45],\n        K: [-67, -10],\n        E: [67, -10],\n        J: [-67, 28],\n        F: [67, 28],\n        I: [-38, 56],\n        G: [38, 56],\n        H: [0, 77]\n    },\n    no: {\n        a: [-66.5, -66.5],\n        b: [0, -66.5],\n        c: [66.5, -66.5],\n        d: [-66.5, 0],\n        e: [0, 0],\n        f: [66.5, 0],\n        g: [-66.5, 66.5],\n        h: [0, 66.5],\n        i: [66.5, 66.5],\n        y: [-50, -50],\n        z: [0, 75],\n        j: [-50, -50],\n        k: [0, -50],\n        l: [50, -50],\n        m: [-50, 50],\n        n: [0, 50],\n        o: [50, 50],\n        p: [-50, 0],\n        q: [50, 0],\n        A: [-91.5, -91.5],\n        B: [-30.5, -91.5],\n        C: [30.5, -91.5],\n        D: [91.5, -91.5],\n        K: [-91.5, -30.5],\n        E: [91.5, -30.5],\n        J: [-91.5, 30.5],\n        F: [91.5, 30.5],\n        I: [-91.5, 91.5],\n        G: [91.5, 91.5],\n        H: [-30.5, 91.5],\n        L: [30.5, 91.5]\n    },\n    fantasy1: {\n        a: [-45, -45],\n        b: [0, -50],\n        c: [45, -45],\n        d: [-40, 0],\n        e: [0, 0],\n        f: [40, 0],\n        g: [-36, 42.5],\n        h: [0, 50],\n        i: [36, 42.5],\n        y: [-50, -50],\n        z: [0, 60],\n        j: [-37, -37],\n        k: [0, -40],\n        l: [37, -37],\n        m: [-32, 32],\n        n: [0, 40],\n        o: [32, 32],\n        p: [-28.5, 0],\n        q: [28.5, 0],\n        A: [-66, -55],\n        B: [-22, -67],\n        C: [22, -67],\n        D: [66, -55],\n        K: [-53, -20],\n        E: [53, -20],\n        J: [-46, 26],\n        F: [46, 26],\n        I: [-29, 62],\n        G: [29, 62],\n        H: [0, 84]\n    },\n    fantasy2: {\n        a: [-45, -45],\n        b: [0, -45],\n        c: [45, -45],\n        d: [-35, 0],\n        e: [0, 0],\n        f: [35, 0],\n        g: [-36, 42.5],\n        h: [0, 45],\n        i: [36, 42.5],\n        y: [-50, -50],\n        z: [0, 55],\n        j: [-32.5, -32.5],\n        k: [0, -40],\n        l: [32.5, -32.5],\n        m: [-30, 30],\n        n: [0, 40],\n        o: [30, 30],\n        p: [-27.5, 0],\n        q: [27.5, 0],\n        A: [-58, -35],\n        B: [-44, -67],\n        C: [44, -67],\n        D: [58, -35],\n        K: [-39, -5],\n        E: [39, -5],\n        J: [-57, 26],\n        F: [57, 26],\n        I: [-32, 58],\n        G: [32, 58],\n        H: [0, 83],\n        L: [0, -72]\n    },\n    fantasy3: {\n        a: [-40, -45],\n        b: [0, -50],\n        c: [40, -45],\n        d: [-35, 0],\n        e: [0, 0],\n        f: [35, 0],\n        g: [-36, 42.5],\n        h: [0, 50],\n        i: [36, 42.5],\n        y: [-50, -50],\n        z: [0, 55],\n        j: [-32.5, -32.5],\n        k: [0, -40],\n        l: [32.5, -32.5],\n        m: [-30, 30],\n        n: [0, 40],\n        o: [30, 30],\n        p: [-27.5, 0],\n        q: [27.5, 0],\n        A: [-56, -42],\n        B: [-22, -72],\n        C: [22, -72],\n        D: [56, -42],\n        K: [-37, -11],\n        E: [37, -11],\n        J: [-60, 20],\n        F: [60, 20],\n        I: [-34, 56],\n        G: [34, 56],\n        H: [0, 83]\n    },\n    fantasy4: {\n        a: [-50, -45],\n        b: [0, -50],\n        c: [50, -45],\n        d: [-45, 0],\n        e: [0, 0],\n        f: [45, 0],\n        g: [-40, 45],\n        h: [0, 50],\n        i: [40, 45],\n        y: [-50, -50],\n        z: [0, 62.5],\n        j: [-37.5, -37.5],\n        k: [0, -45],\n        l: [37.5, -37.5],\n        m: [-37.5, 37.5],\n        n: [0, 45],\n        o: [37.5, 37.5],\n        p: [-35, 0],\n        q: [35, 0],\n        A: [-75, -56],\n        B: [-36, -61],\n        C: [36, -61],\n        D: [75, -56],\n        K: [-67, -12],\n        E: [67, -12],\n        J: [-63, 32],\n        F: [63, 32],\n        I: [-42, 75],\n        G: [42, 75],\n        H: [0, 91.5],\n        L: [0, -79]\n    },\n    fantasy5: {\n        a: [-45, -50],\n        b: [0, -50],\n        c: [45, -50],\n        d: [-40, 0],\n        e: [0, 0],\n        f: [40, 0],\n        g: [-30, 45],\n        h: [0, 50],\n        i: [30, 45],\n        y: [-50, -50],\n        z: [0, 60],\n        j: [-37, -37],\n        k: [0, -40],\n        l: [37, -37],\n        m: [-32, 32],\n        n: [0, 40],\n        o: [32, 32],\n        p: [-28.5, 0],\n        q: [28.5, 0],\n        A: [-61, -67],\n        B: [-22, -76],\n        C: [22, -76],\n        D: [61, -67],\n        K: [-58, -25],\n        E: [58, -25],\n        J: [-48, 20],\n        F: [48, 20],\n        I: [-28.5, 60],\n        G: [28.5, 60],\n        H: [0, 89]\n    },\n    noldor: {\n        b: [0, -65],\n        e: [0, -15],\n        h: [0, 35],\n        z: [0, 35],\n        k: [0, -50],\n        n: [0, 30],\n        p: [-20, -15],\n        q: [20, -15],\n        A: [-34, -47],\n        B: [-20, -68],\n        C: [20, -68],\n        D: [34, -47],\n        K: [-18, -20],\n        E: [18, -20],\n        J: [-26, 11],\n        F: [26, 11],\n        I: [-14, 43],\n        G: [14, 43],\n        H: [0, 74],\n        L: [0, -85]\n    },\n    gondor: {\n        a: [-32.5, -50],\n        b: [0, -50],\n        c: [32.5, -50],\n        d: [-32.5, 0],\n        e: [0, 0],\n        f: [32.5, 0],\n        g: [-32.5, 50],\n        h: [0, 50],\n        i: [32.5, 50],\n        y: [-42.5, -52.5],\n        z: [0, 65],\n        j: [-25, -37.5],\n        k: [0, -37.5],\n        l: [25, -37.5],\n        m: [-25, 30],\n        n: [0, 37.5],\n        o: [25, 30],\n        p: [-25, 0],\n        q: [25, 0],\n        A: [-42, -52],\n        B: [-17, -75],\n        C: [17, -75],\n        D: [42, -52],\n        K: [-42, -15],\n        E: [42, -15],\n        J: [-42, 22],\n        F: [42, 22],\n        I: [-26, 60],\n        G: [26, 60],\n        H: [0, 87]\n    },\n    easterling: {\n        a: [-40, -47.5],\n        b: [0, -47.5],\n        c: [40, -47.5],\n        d: [-40, 0],\n        e: [0, 0],\n        f: [40, 0],\n        g: [-40, 47.5],\n        h: [0, 47.5],\n        i: [40, 47.5],\n        y: [-42.5, -52.5],\n        z: [0, 65],\n        j: [-30, -37.5],\n        k: [0, -37.5],\n        l: [30, -37.5],\n        m: [-30, 37.5],\n        n: [0, 37.5],\n        o: [30, 37.5],\n        p: [-30, 0],\n        q: [30, 0],\n        A: [-52, -72],\n        B: [0, -65],\n        D: [52, -72],\n        K: [-52, -24],\n        E: [52, -24],\n        J: [-52, 24],\n        F: [52, 24],\n        I: [-52, 72],\n        G: [52, 72],\n        H: [0, 65]\n    },\n    erebor: {\n        a: [-40, -40],\n        b: [0, -55],\n        c: [40, -40],\n        d: [-40, 0],\n        e: [0, 0],\n        f: [40, 0],\n        g: [-40, 40],\n        h: [0, 55],\n        i: [40, 40],\n        y: [-50, -50],\n        z: [0, 50],\n        j: [-35, -35],\n        k: [0, -45],\n        l: [35, -35],\n        m: [-35, 35],\n        n: [0, 45],\n        o: [35, 35],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-47, -46],\n        B: [-22, -81],\n        C: [22, -81],\n        D: [47, -46],\n        K: [-66.5, 0],\n        E: [66.5, 0],\n        J: [-47, 46],\n        F: [47, 46],\n        I: [-22, 81],\n        G: [22, 81]\n    },\n    ironHills: {\n        a: [-43.75, -50],\n        b: [0, -50],\n        c: [43.75, -50],\n        d: [-43.25, 0],\n        e: [0, 0],\n        f: [43.25, 0],\n        g: [-42.5, 42.5],\n        h: [0, 50],\n        i: [42.5, 42.5],\n        y: [-50, -50],\n        z: [0, 62.5],\n        j: [-32.5, -32.5],\n        k: [0, -40],\n        l: [32.5, -32.5],\n        m: [-32.5, 32.5],\n        n: [0, 40],\n        o: [32.5, 32.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-61, -67],\n        B: [-22, -74],\n        C: [22, -74],\n        D: [61, -67],\n        K: [-59, -20],\n        E: [59, -20],\n        J: [-57, 26],\n        F: [57, 26],\n        I: [-33, 64],\n        G: [33, 64],\n        H: [0, 88]\n    },\n    urukHai: {\n        a: [-40, -45],\n        b: [0, -45],\n        c: [40, -45],\n        d: [-36, 0],\n        e: [0, 0],\n        f: [36, 0],\n        g: [-32.25, 40],\n        h: [0, 40],\n        i: [32.25, 40],\n        y: [-50, -50],\n        z: [0, 40],\n        j: [-32.5, -32.5],\n        k: [0, -37.5],\n        l: [32.5, -32.5],\n        m: [-27.5, 27.5],\n        n: [0, 32.5],\n        o: [27.5, 27.5],\n        p: [-37.5, 0],\n        q: [37.5, 0],\n        A: [-31, -79],\n        B: [-1, -90],\n        C: [31, -74],\n        D: [61, -57],\n        K: [-55, -19],\n        E: [53, -19],\n        J: [-45, 19],\n        F: [45, 19],\n        I: [-33, 57],\n        G: [35, 57],\n        H: [0, 57],\n        L: [-39, -50]\n    },\n    moriaOrc: {\n        a: [-37.5, -37.5],\n        b: [0, -37.5],\n        c: [37.5, -37.5],\n        d: [-37.5, 0],\n        e: [0, 0],\n        f: [37.5, 0],\n        g: [-37.5, 37.5],\n        h: [0, 37.5],\n        i: [37.5, 37.5],\n        y: [-50, -50],\n        z: [0, 40],\n        j: [-30, -30],\n        k: [0, -30],\n        l: [30, -30],\n        m: [-30, 30],\n        n: [0, 30],\n        o: [30, 30],\n        p: [-30, 0],\n        q: [30, 0],\n        A: [-48, -48],\n        B: [-16, -50],\n        C: [16, -46],\n        D: [39, -61],\n        K: [-52, -19],\n        E: [52, -26],\n        J: [-42, 9],\n        F: [52, 9],\n        I: [-31, 40],\n        G: [40, 43],\n        H: [4, 47]\n    }\n};\n","export const DEFAULT_SIZE = 200;\nexport const DEFAULT_DIAPER = \"no\";\nexport const DEFAULT_GRADIENTS = [\"luster\", \"spotlight\", \"backlight\"];\nexport const DEFAULT_BORDER = \"#333333\";\nexport const DEFAULT_BORDER_WIDTH = 1;\nexport const DEFAULT_BACKGROUND = \"#333333\";\nexport const DEFAULT_FONT_COLOR = \"#f1f1f1\";\nexport const DEFAULT_SCALE = 2;\nexport const DEFAULT_ZOOM = 1;\nexport const DEFAULT_GRID = 1;\nexport const DEFAULT_SHOW_GRID = false;\nexport const DEFAULT_COLORS = {\n    argent: \"#fafafa\",\n    or: \"#ffe066\",\n    gules: \"#d7374a\",\n    sable: \"#333333\",\n    azure: \"#377cd7\",\n    vert: \"#26c061\",\n    purpure: \"#522d5b\",\n    carnation: \"#eabfa2\",\n    celeste: \"#96c8fa\",\n    cendrée: \"#777777\",\n    murrey: \"#85185b\",\n    sanguine: \"#b63a3a\",\n    tenné: \"#cc7f19\"\n};\nexport const DEFAULT_TINCTURES = {\n    field: { metals: 32, colours: 49, stains: 1, patterns: 14 },\n    division: { metals: 35, colours: 49, stains: 1, patterns: 8 },\n    charge: { metals: 16, colours: 24, stains: 1, patterns: 0 },\n    metals: { argent: 3, or: 2 },\n    colours: { gules: 5, azure: 4, sable: 3, purpure: 3, vert: 2, carnation: 0, celeste: 0, cendrée: 0 },\n    stains: { murrey: 1, sanguine: 1, tenné: 1 },\n    patterns: {\n        semy: 8,\n        ermine: 6,\n        vair: 4,\n        counterVair: 1,\n        vairInPale: 1,\n        vairEnPointe: 2,\n        vairAncien: 2,\n        potent: 2,\n        counterPotent: 1,\n        potentInPale: 1,\n        potentEnPointe: 1,\n        chequy: 8,\n        lozengy: 5,\n        fusily: 2,\n        pally: 8,\n        barry: 10,\n        gemelles: 1,\n        bendy: 8,\n        bendySinister: 4,\n        palyBendy: 2,\n        barryBendy: 1,\n        pappellony: 2,\n        pappellony2: 3,\n        scaly: 1,\n        plumetty: 1,\n        masoned: 6,\n        fretty: 3,\n        grillage: 1,\n        chainy: 1,\n        maily: 2,\n        honeycombed: 1\n    }\n};\n// prettier-ignore\nexport const DEFAULT_FONTS = {\n    // google fonts\n    \"Almendra SC\": { url: \"https://fonts.gstatic.com/s/almendrasc/v13/Iure6Yx284eebowr7hbyTaZOrLQ.woff2\" },\n    Cinzel: { url: \"https://fonts.gstatic.com/s/cinzel/v7/zOdksD_UUTk1LJF9z4tURA.woff2\" },\n    \"Great Vibes\": { url: \"https://fonts.gstatic.com/s/greatvibes/v5/6q1c0ofG6NKsEhAc2eh-3Y4P5ICox8Kq3LLUNMylGO4.woff2\" },\n    \"IM Fell English\": { url: \"https://fonts.gstatic.com/s/imfellenglish/v7/xwIisCqGFi8pff-oa9uSVAkYLEKE0CJQa8tfZYc_plY.woff2\" },\n    UnifrakturMaguntia: { url: \"https://fonts.gstatic.com/s/unifrakturmaguntia/v16/WWXPlieVYwiGNomYU-ciRLRvEmK7oaVemGZM.woff2\" },\n    // web-safe fonts\n    Arial: {},\n    \"Brush Script MT\": {},\n    \"Courier New\": {},\n    Garamond: {},\n    Georgia: {},\n    Impact: {},\n    \"Times New Roman\": {},\n    Verdana: {}\n};\n","export const forEach = (selector, callback) => {\n    Array.from(document.querySelectorAll(selector)).forEach(element => {\n        callback(element);\n    });\n};\nexport function ra(array) {\n    return array[Math.floor(Math.random() * array.length)];\n}\n// return random value from weighted array\nexport function rw(object, save = true) {\n    if (object.array) {\n        return ra(object.array);\n    }\n    const array = [];\n    for (const key in object) {\n        for (let i = 0; i < object[key]; i++) {\n            array.push(key);\n        }\n    }\n    if (save) {\n        Object.defineProperty(object, \"array\", {\n            enumerable: false,\n            configurable: true,\n            writable: false,\n            value: array\n        });\n    }\n    return ra(array);\n}\nexport function P(probability) {\n    return Math.random() < probability;\n}\nexport function camelize(str) {\n    return str\n        .toLowerCase()\n        .replace(/\\.[^/.]+$/, \"\") // remove extension\n        .replace(/[()]/g, \"\") // remove parentheses\n        .replace(/[^a-zA-Z0-9]+(.)/g, (m, c) => c.toUpperCase())\n        .replace(/^[0-9]/, \"_\"); // first char should not be a number\n}\nexport const capitalize = (str) => str.charAt(0).toUpperCase() + str.slice(1);\nexport function link(url, text) {\n    return `<a href=\"${url}\" target=\"_blank\">${text}</a>`;\n}\nexport function openURL(url) {\n    return window.open(url, \"_blank\");\n}\nexport const minmax = (value, min, max) => {\n    return Math.max(Math.min(Math.round(value), max), min);\n};\nexport const fetcher = (url) => () => {\n    return fetch(url).then(result => result.json());\n};\n","import { noop, safe_not_equal, subscribe, run_all, is_function } from '../internal/index.mjs';\nexport { get_store_value as get } from '../internal/index.mjs';\n\nconst subscriber_queue = [];\n/**\n * Creates a `Readable` store that allows reading by subscription.\n * @param value initial value\n * @param {StartStopNotifier}start start and stop notifications for subscriptions\n */\nfunction readable(value, start) {\n    return {\n        subscribe: writable(value, start).subscribe\n    };\n}\n/**\n * Create a `Writable` store that allows both updating and reading by subscription.\n * @param {*=}value initial value\n * @param {StartStopNotifier=}start start and stop notifications for subscriptions\n */\nfunction writable(value, start = noop) {\n    let stop;\n    const subscribers = new Set();\n    function set(new_value) {\n        if (safe_not_equal(value, new_value)) {\n            value = new_value;\n            if (stop) { // store is ready\n                const run_queue = !subscriber_queue.length;\n                for (const subscriber of subscribers) {\n                    subscriber[1]();\n                    subscriber_queue.push(subscriber, value);\n                }\n                if (run_queue) {\n                    for (let i = 0; i < subscriber_queue.length; i += 2) {\n                        subscriber_queue[i][0](subscriber_queue[i + 1]);\n                    }\n                    subscriber_queue.length = 0;\n                }\n            }\n        }\n    }\n    function update(fn) {\n        set(fn(value));\n    }\n    function subscribe(run, invalidate = noop) {\n        const subscriber = [run, invalidate];\n        subscribers.add(subscriber);\n        if (subscribers.size === 1) {\n            stop = start(set) || noop;\n        }\n        run(value);\n        return () => {\n            subscribers.delete(subscriber);\n            if (subscribers.size === 0) {\n                stop();\n                stop = null;\n            }\n        };\n    }\n    return { set, update, subscribe };\n}\nfunction derived(stores, fn, initial_value) {\n    const single = !Array.isArray(stores);\n    const stores_array = single\n        ? [stores]\n        : stores;\n    const auto = fn.length < 2;\n    return readable(initial_value, (set) => {\n        let inited = false;\n        const values = [];\n        let pending = 0;\n        let cleanup = noop;\n        const sync = () => {\n            if (pending) {\n                return;\n            }\n            cleanup();\n            const result = fn(single ? values[0] : values, set);\n            if (auto) {\n                set(result);\n            }\n            else {\n                cleanup = is_function(result) ? result : noop;\n            }\n        };\n        const unsubscribers = stores_array.map((store, i) => subscribe(store, (value) => {\n            values[i] = value;\n            pending &= ~(1 << i);\n            if (inited) {\n                sync();\n            }\n        }, () => {\n            pending |= (1 << i);\n        }));\n        inited = true;\n        sync();\n        return function stop() {\n            run_all(unsubscribers);\n            cleanup();\n        };\n    });\n}\n\nexport { derived, readable, writable };\n","export const validateTinctures = (tinctures) => {\n    const mandatoryElements = [\"field\", \"division\", \"charge\"];\n    const mandatoryTypes = [\"metals\", \"colours\"];\n    try {\n        for (const element of mandatoryElements) {\n            if (!tinctures[element])\n                throw new Error(`Missing ${element}`);\n            for (const type of mandatoryTypes) {\n                if (!tinctures[element][type])\n                    throw new Error(`Missing ${type} in ${element}`);\n            }\n        }\n        for (const type of mandatoryTypes) {\n            if (!tinctures[type])\n                throw new Error(`Missing ${type}`);\n            const keys = Object.keys(tinctures[type]);\n            if (keys.length < 2)\n                throw new Error(`Type ${type} must have more than 2 tinctures`);\n            const totalChance = Object.values(tinctures[type]).reduce((a, b) => a + b, 0);\n            if (totalChance < 1)\n                throw new Error(`Total chance for type ${type} must be more that zero`);\n        }\n        return true;\n    }\n    catch (err) {\n        console.error(\"Invalid stored tinctures data, switching to defaults.\", err.message, tinctures);\n        return false;\n    }\n};\n","import { DEFAULT_BACKGROUND, DEFAULT_BORDER, DEFAULT_BORDER_WIDTH, DEFAULT_COLORS, DEFAULT_DIAPER, DEFAULT_FONT_COLOR, DEFAULT_FONTS, DEFAULT_GRADIENTS, DEFAULT_GRID, DEFAULT_SCALE, DEFAULT_SHOW_GRID, DEFAULT_SIZE, DEFAULT_TINCTURES } from \"config/defaults\";\nimport { ra, rw } from \"scripts/utils\";\nimport { writable } from \"svelte/store\";\nimport { shields } from \"./shields\";\nimport { validateTinctures } from \"./validators\";\nexport const isTextReady = writable(false);\nconst options = defineInitialOptions();\nexport const size = writable(options.size);\nexport const grad = writable(options.grad);\nexport const diaper = writable(options.diaper);\nexport const shield = writable(options.shield);\nexport const colors = writable(options.colors);\nexport const tinctures = writable(options.tinctures);\nexport const fonts = writable(options.fonts);\nexport const background = writable(options.background);\nexport const fontColor = writable(options.fontColor);\nexport const scale = writable(options.scale);\nexport const border = writable(options.border);\nexport const borderWidth = writable(options.borderWidth);\nexport const grid = writable(options.grid);\nexport const showGrid = writable(options.showGrid);\nexport const uploaded = writable(options.uploaded);\nexport const history = writable([]);\nexport const matrices = writable([]);\nexport const matrix = writable(0);\nexport const state = writable({\n    edit: 0,\n    about: 0,\n    license: 0,\n    tinctures: 0,\n    import: 0,\n    raster: 0,\n    vector: 0,\n    i: 0,\n    c: 0,\n    view: 0,\n    fonts: 0,\n    selectedPath: -1,\n    pathChangeMode: -1\n});\nexport const iconedNav = writable(false);\nconst createMessageStore = () => {\n    const { subscribe, set } = writable(null);\n    const defaultTimeout = 5000;\n    return {\n        subscribe,\n        clear: () => set(null),\n        success: (text, timeout = defaultTimeout) => {\n            set({ type: \"success\", text, timeout });\n        },\n        info: (text, timeout = defaultTimeout) => {\n            set({ type: \"info\", text, timeout });\n        },\n        error: (text, timeout = defaultTimeout) => {\n            set({ type: \"error\", text, timeout });\n        }\n    };\n};\nexport const message = createMessageStore();\nconst createChangesStore = () => {\n    const { subscribe, set, update } = writable([\"\", -1]);\n    let history = [];\n    let position = -1;\n    return {\n        subscribe,\n        length: () => history.length,\n        reset: () => {\n            history = [];\n            position = -1;\n            set([\"\", -1]);\n        },\n        add: (value) => {\n            if (value === history[position])\n                return; // no change\n            if (position < history.length - 1)\n                history = history.slice(0, position + 1); // cut future history\n            history.push(value);\n            position += 1;\n            set([history[position], position]);\n        },\n        undo: () => update(() => {\n            if (position > 0)\n                position -= 1;\n            return [history[position], position];\n        }),\n        redo: () => update(() => {\n            if (position < history.length - 1)\n                position += 1;\n            return [history[position], position];\n        })\n    };\n};\nexport const changes = createChangesStore();\nfunction defineInitialOptions() {\n    const stored = (key) => {\n        const value = localStorage.getItem(key);\n        if (value === \"null\")\n            return null;\n        return value;\n    };\n    const storedObj = (key) => {\n        return localStorage.getItem(key) ? JSON.parse(localStorage.getItem(key)) : null;\n    };\n    const size = +stored(\"size\") || DEFAULT_SIZE;\n    const diaper = stored(\"diaper\") || DEFAULT_DIAPER;\n    const grad = stored(\"grad\") || ra(DEFAULT_GRADIENTS);\n    const shield = stored(\"shield\") || rw(shields[rw(shields.types)]);\n    const colors = storedObj(\"colors\") || JSON.parse(JSON.stringify(DEFAULT_COLORS));\n    const fonts = storedObj(\"fonts\") || JSON.parse(JSON.stringify(DEFAULT_FONTS));\n    const border = stored(\"border\") || DEFAULT_BORDER;\n    const borderWidth = +stored(\"borderWidth\") || DEFAULT_BORDER_WIDTH;\n    const background = stored(\"background\") || DEFAULT_BACKGROUND;\n    const fontColor = stored(\"fontColor\") || DEFAULT_FONT_COLOR;\n    const scale = +stored(\"scale\") || DEFAULT_SCALE;\n    const grid = +stored(\"grid\") || DEFAULT_GRID;\n    const showGrid = storedObj(\"showGrid\") || DEFAULT_SHOW_GRID;\n    const storedTinctures = storedObj(\"tinctures\");\n    const areTincturesValid = storedTinctures ? validateTinctures(storedTinctures) : false;\n    const tinctures = areTincturesValid ? storedTinctures : JSON.parse(JSON.stringify(DEFAULT_TINCTURES));\n    const uploaded = storedObj(\"uploaded\") || {};\n    return {\n        size,\n        diaper,\n        grad,\n        shield,\n        colors,\n        tinctures,\n        uploaded,\n        fonts,\n        border,\n        borderWidth,\n        background,\n        fontColor,\n        scale,\n        grid,\n        showGrid\n    };\n}\n","export const positionsSelect = [\n  \"a\",\n  \"b\",\n  \"c\",\n  \"d\",\n  \"e\",\n  \"f\",\n  \"g\",\n  \"h\",\n  \"i\",\n  \"y\",\n  \"z\",\n  \"kn\",\n  \"bh\",\n  \"df\",\n  \"pq\",\n  \"jo\",\n  \"lm\",\n  \"abc\",\n  \"def\",\n  \"ghi\",\n  \"adg\",\n  \"beh\",\n  \"cfi\",\n  \"jeo\",\n  \"jln\",\n  \"kmo\",\n  \"peq\",\n  \"lem\",\n  \"bhdf\",\n  \"jleh\",\n  \"acegi\",\n  \"bdefh\",\n  \"kenpq\",\n  \"abcpqh\",\n  \"abcdefgzi\",\n  \"ABCDEFGHIJKL\"\n];\n\nexport const positions = {\n  conventional: {\n    e: 20,\n    abcdefgzi: 3,\n    beh: 3,\n    behdf: 2,\n    acegi: 1,\n    kn: 3,\n    bhdf: 1,\n    jeo: 1,\n    abc: 3,\n    jln: 6,\n    jlh: 3,\n    kmo: 2,\n    jleh: 1,\n    def: 3,\n    abcpqh: 4,\n    ABCDEFGHIJKL: 1\n  },\n  complex: {e: 40, beh: 1, kn: 1, jeo: 1, abc: 2, jln: 7, jlh: 2, def: 1, abcpqh: 1},\n  divisions: {\n    perPale: {e: 15, pq: 5, jo: 2, jl: 2, ABCDEFGHIJKL: 1},\n    perFess: {e: 12, kn: 4, jkl: 2, gizgiz: 1, jlh: 3, kmo: 1, ABCDEFGHIJKL: 1},\n    perBend: {e: 5, lm: 5, bcfdgh: 1},\n    perBendSinister: {e: 1, jo: 1},\n    perCross: {e: 4, jlmo: 1, j: 1, jo: 2, jl: 1},\n    perChevron: {e: 1, jlh: 1, dfk: 1, dfbh: 2, bdefh: 1},\n    perChevronReversed: {e: 1, mok: 2, dfh: 2, dfbh: 1, bdefh: 1},\n    perSaltire: {bhdf: 8, e: 3, abcdefgzi: 1, bh: 1, df: 1, ABCDEFGHIJKL: 1},\n    perPile: {ee: 3, be: 2, abceh: 1, abcabc: 1, jleh: 1}\n  },\n  inescutcheon: {e: 4, jln: 1}\n};\n\nexport const lines = {\n  straight: 50,\n  wavy: 8,\n  engrailed: 4,\n  invecked: 3,\n  rayonne: 3,\n  embattled: 1,\n  raguly: 1,\n  urdy: 1,\n  dancetty: 1,\n  indented: 2,\n  dentilly: 1,\n  bevilled: 1,\n  angled: 1,\n  flechy: 1,\n  barby: 1,\n  enclavy: 1,\n  escartely: 1,\n  arched: 2,\n  archedReversed: 1,\n  nowy: 1,\n  nowyReversed: 1,\n  embattledGhibellin: 1,\n  embattledNotched: 1,\n  embattledGrady: 1,\n  dovetailedIndented: 1,\n  dovetailed: 1,\n  potenty: 1,\n  potentyDexter: 1,\n  potentySinister: 1,\n  nebuly: 2,\n  seaWaves: 1,\n  dragonTeeth: 1,\n  firTrees: 1\n};\n\nexport const divisions = {\n  variants: {\n    perPale: 25,\n    perFess: 25,\n    perBend: 10,\n    perBendSinister: 5,\n    perChevron: 5,\n    perChevronReversed: 5,\n    perCross: 25,\n    perPile: 5,\n    perSaltire: 5,\n    gyronnyOfSixPerFess: 1,\n    gyronnyOfSixPerPale: 1,\n    gyronny: 5,\n    gyronnyOfTenPerFess: 1,\n    gyronnyOfTenPerPale: 1,\n    gyronnyOfTwelve: 1,\n    chevronny: 5\n  },\n  perPale: lines,\n  perFess: lines,\n  perBend: lines,\n  perBendSinister: lines,\n  perChevron: lines,\n  perChevronReversed: lines,\n  perCross: {\n    straight: 20,\n    wavy: 5,\n    engrailed: 4,\n    invecked: 3,\n    rayonne: 1,\n    embattled: 1,\n    raguly: 1,\n    urdy: 1,\n    indented: 2,\n    dentilly: 1,\n    bevilled: 1,\n    angled: 1,\n    embattledGhibellin: 1,\n    embattledGrady: 1,\n    dovetailedIndented: 1,\n    dovetailed: 1,\n    potenty: 1,\n    potentyDexter: 1,\n    potentySinister: 1,\n    nebuly: 1\n  },\n  perPile: lines\n};\n\nexport const ordinaries = {\n  lined: {\n    pale: 7,\n    fess: 5,\n    bend: 3,\n    bendSinister: 2,\n    chief: 5,\n    bar: 2,\n    gemelle: 1,\n    fessCotissed: 1,\n    fessDoubleCotissed: 1,\n    bendlet: 2,\n    bendletSinister: 1,\n    terrace: 3,\n    cross: 6,\n    crossParted: 1,\n    saltire: 2,\n    saltireParted: 1\n  },\n  straight: {\n    bordure: 8,\n    orle: 4,\n    mount: 1,\n    point: 2,\n    flaunches: 1,\n    gore: 1,\n    gyron: 1,\n    quarter: 1,\n    canton: 2,\n    pall: 3,\n    pallReversed: 2,\n    chevron: 4,\n    chevronReversed: 3,\n    pile: 2,\n    pileInBend: 2,\n    pileInBendSinister: 1,\n    piles: 1,\n    pilesInPoint: 2,\n    label: 1\n  },\n  data: {\n    bar: {\n      positionsOn: {defdefdef: 1},\n      positionsOff: {abc: 2, abcgzi: 1, jlh: 5, bgi: 2, ach: 1}\n    },\n    bend: {\n      positionsOn: {ee: 2, jo: 1, joe: 1},\n      positionsOff: {ccg: 2, ccc: 1}\n    },\n    bendSinister: {\n      positionsOn: {ee: 1, lm: 1, lem: 4},\n      positionsOff: {aai: 2, aaa: 1}\n    },\n    bendlet: {\n      positionsOn: {joejoejoe: 1},\n      positionsOff: {ccg: 2, ccc: 1}\n    },\n    bendletSinister: {\n      positionsOn: {lemlemlem: 1},\n      positionsOff: {aai: 2, aaa: 1}\n    },\n    bordure: {\n      positionsOn: {ABCDEFGHIJKL: 1},\n      positionsOff: {e: 4, jleh: 2, kenken: 1, peqpeq: 1}\n    },\n    canton: {\n      positionsOn: {yyyy: 1},\n      positionsOff: {e: 5, beh: 1, def: 1, bdefh: 1, kn: 1}\n    },\n    chevron: {\n      positionsOn: {ach: 3, hhh: 1}\n    },\n    chevronReversed: {\n      positionsOff: {bbb: 1}\n    },\n    chief: {\n      positionsOn: {abc: 5, bbb: 1},\n      positionsOff: {emo: 2, emoz: 1, ez: 2}\n    },\n    cross: {\n      positionsOn: {eeee: 1, behdfbehdf: 3, behbehbeh: 2},\n      positionsOff: {acgi: 1}\n    },\n    crossParted: {\n      positionsOn: {e: 5, ee: 1}\n    },\n    fess: {\n      positionsOn: {ee: 1, def: 3},\n      positionsOff: {abc: 3, abcz: 1}\n    },\n    fessCotissed: {\n      positionsOn: {ee: 1, def: 3}\n    },\n    fessDoubleCotissed: {\n      positionsOn: {ee: 1, defdef: 3}\n    },\n    flaunches: {\n      positionsOff: {e: 3, kn: 1, beh: 3}\n    },\n    gemelle: {\n      positionsOff: {abc: 1}\n    },\n    gyron: {\n      positionsOff: {bh: 1}\n    },\n    label: {\n      positionsOff: {defgzi: 2, eh: 3, defdefhmo: 1, egiegi: 1, pqn: 5}\n    },\n    mount: {\n      positionsOff: {e: 5, def: 1, bdf: 3}\n    },\n    orle: {\n      positionsOff: {e: 4, jleh: 1, kenken: 1, peqpeq: 1}\n    },\n    pale: {\n      positionsOn: {ee: 12, beh: 10, kn: 3, bb: 1},\n      positionsOff: {yyy: 1}\n    },\n    pall: {\n      positionsOn: {ee: 1, jleh: 5, jlhh: 3},\n      positionsOff: {BCKFEILGJbdmfo: 1}\n    },\n    pallReversed: {\n      positionsOn: {ee: 1, bemo: 5},\n      positionsOff: {aczac: 1}\n    },\n    pile: {\n      positionsOn: {bbb: 1},\n      positionsOff: {acdfgi: 1, acac: 1}\n    },\n    pileInBend: {\n      positionsOn: {eeee: 1, eeoo: 1},\n      positionsOff: {cg: 1}\n    },\n    pileInBendSinister: {\n      positionsOn: {eeee: 1, eemm: 1},\n      positionsOff: {ai: 1}\n    },\n    point: {\n      positionsOff: {e: 2, def: 1, bdf: 3, acbdef: 1}\n    },\n    quarter: {\n      positionsOn: {jjj: 1},\n      positionsOff: {e: 1}\n    },\n    saltire: {\n      positionsOn: {ee: 5, jlemo: 1}\n    },\n    saltireParted: {\n      positionsOn: {e: 5, ee: 1}\n    },\n    terrace: {\n      positionsOff: {e: 5, def: 1, bdf: 3}\n    }\n  }\n};\n\nconst chargeData = {\n  agnusDei: {\n    colors: 2,\n    sinister: true\n  },\n  angel: {\n    colors: 2,\n    positions: {e: 1}\n  },\n  ant: {\n    reversed: true\n  },\n  anvil: {\n    sinister: true\n  },\n  apple: {\n    colors: 2\n  },\n  arbalest: {\n    colors: 3,\n    reversed: true\n  },\n  archer: {\n    colors: 3,\n    sinister: true\n  },\n  armEmbowedHoldingSabre: {\n    colors: 3,\n    sinister: true\n  },\n  armEmbowedVambraced: {\n    sinister: true,\n    layered: true\n  },\n  armEmbowedVambracedHoldingSword: {\n    colors: 3,\n    sinister: true\n  },\n  armillarySphere: {\n    positions: {e: 1}\n  },\n  arrow: {\n    colors: 3,\n    reversed: true\n  },\n  arrowsSheaf: {\n    colors: 3,\n    reversed: true\n  },\n  axe: {\n    colors: 2,\n    sinister: true\n  },\n  badgerStatant: {\n    colors: 2,\n    sinister: true\n  },\n  banner: {\n    colors: 2\n  },\n  basilisk: {\n    colors: 3,\n    sinister: true\n  },\n  bearPassant: {\n    colors: 3,\n    sinister: true\n  },\n  bearRampant: {\n    colors: 3,\n    sinister: true,\n    layered: true\n  },\n  bee: {\n    colors: 3,\n    reversed: true\n  },\n  bell: {\n    colors: 2\n  },\n  boarHeadErased: {\n    colors: 3,\n    sinister: true\n  },\n  boarRampant: {\n    colors: 3,\n    sinister: true,\n    positions: {e: 12, beh: 1, kn: 1, jln: 2}\n  },\n  boat: {\n    colors: 2\n  },\n  bookClosed: {\n    colors: 3,\n    sinister: true\n  },\n  bookClosed2: {\n    sinister: true\n  },\n  bookOpen: {\n    colors: 3\n  },\n  bow: {\n    sinister: true\n  },\n  bowWithArrow: {\n    colors: 3,\n    reversed: true\n  },\n  bowWithThreeArrows: {\n    colors: 3\n  },\n  bucket: {\n    colors: 2\n  },\n  bugleHorn: {\n    colors: 2\n  },\n  bugleHorn2: {\n    colors: 2\n  },\n  bullHeadCaboshed: {\n    colors: 2\n  },\n  bullPassant: {\n    colors: 3,\n    sinister: true\n  },\n  butterfly: {\n    colors: 3,\n    reversed: true\n  },\n  camel: {\n    colors: 2,\n    sinister: true\n  },\n  camelBactrian: {\n    colors: 2,\n    sinister: true\n  },\n  cancer: {\n    reversed: true\n  },\n  cannon: {\n    colors: 2,\n    sinister: true\n  },\n  caravel: {\n    colors: 3,\n    sinister: true\n  },\n  castle: {\n    colors: 2\n  },\n  castle2: {\n    colors: 3\n  },\n  catPassantGuardant: {\n    colors: 2,\n    sinister: true\n  },\n  cavalier: {\n    colors: 3,\n    sinister: true,\n    positions: {e: 1}\n  },\n  centaur: {\n    colors: 3,\n    sinister: true\n  },\n  chalice: {\n    colors: 2\n  },\n  church: {\n    colors: 3\n  },\n  cinquefoil: {\n    reversed: true\n  },\n  cock: {\n    colors: 3,\n    sinister: true\n  },\n  comet: {\n    reversed: true\n  },\n  cowStatant: {\n    colors: 3,\n    sinister: true\n  },\n  cossack: {\n    colors: 3,\n    sinister: true\n  },\n  crescent: {\n    reversed: true\n  },\n  crocodile: {\n    colors: 2,\n    sinister: true\n  },\n  crosier: {\n    sinister: true\n  },\n  crossbow: {\n    colors: 3,\n    sinister: true\n  },\n  crossGamma: {\n    sinister: true\n  },\n  crossLatin: {\n    reversed: true\n  },\n  crossTau: {\n    reversed: true\n  },\n  crossTriquetra: {\n    reversed: true\n  },\n  crown: {\n    colors: 2,\n    positions: {\n      e: 10,\n      abcdefgzi: 1,\n      beh: 3,\n      behdf: 2,\n      acegi: 1,\n      kn: 1,\n      pq: 2,\n      abc: 1,\n      jln: 4,\n      jleh: 1,\n      def: 2,\n      abcpqh: 3\n    }\n  },\n  crown2: {\n    colors: 3,\n    positions: {\n      e: 10,\n      abcdefgzi: 1,\n      beh: 3,\n      behdf: 2,\n      acegi: 1,\n      kn: 1,\n      pq: 2,\n      abc: 1,\n      jln: 4,\n      jleh: 1,\n      def: 2,\n      abcpqh: 3\n    }\n  },\n  deerHeadCaboshed: {\n    colors: 2\n  },\n  dolphin: {\n    colors: 2,\n    sinister: true\n  },\n  donkeyHeadCaboshed: {\n    colors: 2\n  },\n  dove: {\n    colors: 2,\n    natural: \"argent\",\n    sinister: true\n  },\n  doveDisplayed: {\n    colors: 2,\n    natural: \"argent\",\n    sinister: true\n  },\n  dragonfly: {\n    colors: 2,\n    reversed: true\n  },\n  dragonPassant: {\n    colors: 3,\n    sinister: true\n  },\n  dragonRampant: {\n    colors: 3,\n    sinister: true,\n    layered: true\n  },\n  drakkar: {\n    colors: 3,\n    sinister: true\n  },\n  drawingCompass: {\n    sinister: true\n  },\n  drum: {\n    colors: 3\n  },\n  duck: {\n    colors: 3,\n    sinister: true\n  },\n  eagle: {\n    colors: 3,\n    sinister: true,\n    positions: {e: 15, beh: 1, kn: 1, abc: 1, jlh: 2, def: 2, pq: 1}\n  },\n  eagleTwoHeads: {\n    colors: 3\n  },\n  elephant: {\n    colors: 2,\n    sinister: true\n  },\n  elephantHeadErased: {\n    colors: 2,\n    sinister: true\n  },\n  falchion: {\n    colors: 2,\n    reversed: true\n  },\n  falcon: {\n    colors: 3,\n    sinister: true\n  },\n  fan: {\n    colors: 2,\n    reversed: true\n  },\n  fasces: {\n    colors: 3,\n    sinister: true\n  },\n  feather: {\n    sinister: true\n  },\n  flamberge: {\n    colors: 2,\n    reversed: true\n  },\n  flangedMace: {\n    reversed: true\n  },\n  fly: {\n    colors: 3,\n    reversed: true\n  },\n  foot: {\n    sinister: true\n  },\n  fountain: {\n    natural: \"azure\"\n  },\n  frog: {\n    reversed: true\n  },\n  garb: {\n    colors: 2,\n    natural: \"or\",\n    positions: {e: 1, def: 3, abc: 2, beh: 1, kn: 1, jln: 3, jleh: 1, abcpqh: 1, joe: 1, lme: 1}\n  },\n  gauntlet: {\n    sinister: true,\n    reversed: true\n  },\n  gladius: {\n    colors: 2,\n    reversed: true\n  },\n  goat: {\n    colors: 3,\n    sinister: true\n  },\n  goutte: {\n    reversed: true\n  },\n  grapeBunch: {\n    colors: 3,\n    sinister: true\n  },\n  grapeBunch2: {\n    colors: 3,\n    sinister: true\n  },\n  grenade: {\n    colors: 2\n  },\n  greyhoundCourant: {\n    colors: 3,\n    sinister: true,\n    positions: {e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1}\n  },\n  greyhoundRampant: {\n    colors: 2,\n    sinister: true,\n    layered: true,\n    positions: {e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1}\n  },\n  greyhoundSejant: {\n    colors: 3,\n    sinister: true\n  },\n  griffinPassant: {\n    colors: 3,\n    sinister: true,\n    positions: {e: 10, def: 2, abc: 2, bdefh: 1, kn: 1, jlh: 2, abcpqh: 1}\n  },\n  griffinRampant: {\n    colors: 3,\n    sinister: true,\n    layered: true,\n    positions: {e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1}\n  },\n  hand: {\n    sinister: true,\n    reversed: true,\n    positions: {e: 10, jln: 2, kn: 1, jeo: 1, abc: 2, pqe: 1}\n  },\n  harp: {\n    colors: 2,\n    sinister: true\n  },\n  hatchet: {\n    colors: 2,\n    sinister: true\n  },\n  head: {\n    colors: 2,\n    sinister: true,\n    positions: {e: 1}\n  },\n  headWreathed: {\n    colors: 3,\n    sinister: true,\n    positions: {e: 1}\n  },\n  hedgehog: {\n    colors: 3,\n    sinister: true\n  },\n  helmet: {\n    sinister: true\n  },\n  helmetCorinthian: {\n    colors: 3,\n    sinister: true\n  },\n  helmetGreat: {\n    sinister: true\n  },\n  helmetZischagge: {\n    sinister: true\n  },\n  heron: {\n    colors: 2,\n    sinister: true\n  },\n  hindStatant: {\n    colors: 2,\n    sinister: true\n  },\n  hook: {\n    sinister: true\n  },\n  horseHeadCouped: {\n    sinister: true\n  },\n  horsePassant: {\n    colors: 2,\n    sinister: true\n  },\n  horseRampant: {\n    colors: 3,\n    sinister: true,\n    layered: true\n  },\n  horseSalient: {\n    colors: 2,\n    sinister: true\n  },\n  horseshoe: {\n    reversed: true\n  },\n  hourglass: {\n    colors: 3\n  },\n  ladybird: {\n    colors: 3,\n    reversed: true\n  },\n  lamb: {\n    colors: 2,\n    sinister: true\n  },\n  lambPassantReguardant: {\n    colors: 2,\n    sinister: true\n  },\n  lanceWithBanner: {\n    colors: 3,\n    sinister: true\n  },\n  laurelWreath: {\n    colors: 2\n  },\n  lighthouse: {\n    colors: 3\n  },\n  lionHeadCaboshed: {\n    colors: 2\n  },\n  lionHeadErased: {\n    colors: 2,\n    sinister: true\n  },\n  lionPassant: {\n    colors: 3,\n    sinister: true,\n    positions: {e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1}\n  },\n  lionPassantGuardant: {\n    colors: 3,\n    sinister: true\n  },\n  lionRampant: {\n    colors: 3,\n    sinister: true,\n    layered: true,\n    positions: {e: 10, def: 2, abc: 2, bdefh: 1, kn: 1, jlh: 2, abcpqh: 1}\n  },\n  lionSejant: {\n    colors: 3,\n    sinister: true\n  },\n  lizard: {\n    reversed: true\n  },\n  lochaberAxe: {\n    colors: 2,\n    sinister: true\n  },\n  log: {\n    sinister: true\n  },\n  lute: {\n    colors: 2,\n    sinister: true\n  },\n  lymphad: {\n    colors: 3,\n    sinister: true,\n    positions: {e: 1}\n  },\n  mace: {\n    colors: 2\n  },\n  maces: {\n    colors: 2\n  },\n  mallet: {\n    colors: 2\n  },\n  mantle: {\n    colors: 3\n  },\n  martenCourant: {\n    colors: 3,\n    sinister: true\n  },\n  mascle: {\n    positions: {\n      e: 15,\n      abcdefgzi: 3,\n      beh: 3,\n      bdefh: 4,\n      acegi: 1,\n      kn: 3,\n      joe: 2,\n      abc: 3,\n      jlh: 8,\n      jleh: 1,\n      df: 3,\n      abcpqh: 4,\n      pqe: 3,\n      eknpq: 3\n    }\n  },\n  mastiffStatant: {\n    colors: 3,\n    sinister: true\n  },\n  mitre: {\n    colors: 3\n  },\n  monk: {\n    sinister: true\n  },\n  moonInCrescent: {\n    sinister: true\n  },\n  mullet: {\n    reversed: true\n  },\n  mullet7: {\n    reversed: true\n  },\n  oak: {\n    colors: 3\n  },\n  orb: {\n    colors: 3\n  },\n  ouroboros: {\n    sinister: true\n  },\n  owl: {\n    colors: 2,\n    sinister: true\n  },\n  owlDisplayed: {\n    colors: 2\n  },\n  palmTree: {\n    colors: 3\n  },\n  parrot: {\n    colors: 2,\n    sinister: true\n  },\n  peacock: {\n    colors: 3,\n    sinister: true\n  },\n  peacockInPride: {\n    colors: 3,\n    sinister: true\n  },\n  pear: {\n    colors: 2\n  },\n  pegasus: {\n    colors: 3,\n    sinister: true,\n    layered: true\n  },\n  pike: {\n    colors: 2,\n    sinister: true\n  },\n  pineTree: {\n    colors: 2\n  },\n  plaice: {\n    colors: 2,\n    sinister: true\n  },\n  plough: {\n    colors: 2,\n    sinister: true\n  },\n  ploughshare: {\n    sinister: true\n  },\n  porcupine: {\n    colors: 2,\n    sinister: true\n  },\n  portcullis: {\n    colors: 2\n  },\n  rabbitSejant: {\n    colors: 2,\n    sinister: true\n  },\n  rake: {\n    reversed: true\n  },\n  rapier: {\n    colors: 2,\n    sinister: true,\n    reversed: true\n  },\n  ramHeadErased: {\n    colors: 3,\n    sinister: true\n  },\n  ramPassant: {\n    colors: 3,\n    sinister: true\n  },\n  ratRampant: {\n    colors: 2,\n    sinister: true\n  },\n  raven: {\n    colors: 2,\n    natural: \"sable\",\n    sinister: true,\n    positions: {e: 15, beh: 1, kn: 1, jeo: 1, abc: 3, jln: 3, def: 1}\n  },\n  rhinoceros: {\n    colors: 2,\n    sinister: true\n  },\n  rose: {\n    colors: 3\n  },\n  sabre: {\n    colors: 2,\n    sinister: true\n  },\n  sabre2: {\n    colors: 2,\n    sinister: true,\n    reversed: true\n  },\n  sabresCrossed: {\n    colors: 2,\n    reversed: true\n  },\n  sagittarius: {\n    colors: 3,\n    sinister: true\n  },\n  salmon: {\n    colors: 2,\n    sinister: true\n  },\n  saw: {\n    colors: 2\n  },\n  scale: {\n    colors: 2\n  },\n  scaleImbalanced: {\n    colors: 2,\n    sinister: true\n  },\n  scissors: {\n    reversed: true\n  },\n  scorpion: {\n    reversed: true\n  },\n  scrollClosed: {\n    colors: 2,\n    sinister: true\n  },\n  scythe: {\n    colors: 2,\n    sinister: true,\n    reversed: true\n  },\n  scythe2: {\n    sinister: true\n  },\n  serpent: {\n    colors: 2,\n    sinister: true\n  },\n  shield: {\n    colors: 2,\n    sinister: true\n  },\n  sickle: {\n    colors: 2,\n    sinister: true,\n    reversed: true\n  },\n  snail: {\n    colors: 2,\n    sinister: true\n  },\n  snake: {\n    colors: 2,\n    sinister: true\n  },\n  spear: {\n    colors: 2,\n    reversed: true\n  },\n  spider: {\n    reversed: true\n  },\n  spiral: {\n    sinister: true,\n    reversed: true\n  },\n  squirrel: {\n    sinister: true\n  },\n  stagLodgedRegardant: {\n    colors: 3,\n    sinister: true\n  },\n  stagPassant: {\n    colors: 2,\n    sinister: true\n  },\n  stirrup: {\n    colors: 2\n  },\n  stork: {\n    colors: 2,\n    sinister: true\n  },\n  swallow: {\n    colors: 2,\n    sinister: true\n  },\n  swan: {\n    colors: 3,\n    sinister: true\n  },\n  swanErased: {\n    colors: 3,\n    sinister: true\n  },\n  sword: {\n    colors: 2,\n    reversed: true\n  },\n  talbotPassant: {\n    colors: 3,\n    sinister: true\n  },\n  talbotSejant: {\n    colors: 3,\n    sinister: true\n  },\n  tower: {\n    colors: 2\n  },\n  tree: {\n    positions: {e: 1}\n  },\n  trefoil: {\n    reversed: true\n  },\n  trowel: {\n    colors: 2,\n    sinister: true,\n    reversed: true\n  },\n  unicornRampant: {\n    colors: 3,\n    sinister: true,\n    layered: true\n  },\n  wasp: {\n    colors: 3,\n    reversed: true\n  },\n  wheatStalk: {\n    colors: 2\n  },\n  windmill: {\n    colors: 3,\n    sinister: true\n  },\n  wing: {\n    sinister: true\n  },\n  wingSword: {\n    colors: 3,\n    sinister: true\n  },\n  wolfHeadErased: {\n    colors: 2,\n    sinister: true\n  },\n  wolfPassant: {\n    colors: 3,\n    sinister: true,\n    positions: {e: 10, def: 1, abc: 1, bdefh: 1, jlh: 1, abcpqh: 1}\n  },\n  wolfRampant: {\n    colors: 3,\n    sinister: true,\n    layered: true\n  },\n  wolfStatant: {\n    colors: 3,\n    sinister: true\n  },\n  wyvern: {\n    colors: 3,\n    sinister: true,\n    positions: {e: 10, jln: 1}\n  },\n  wyvernWithWingsDisplayed: {\n    colors: 3,\n    sinister: true\n  }\n};\n\nexport const charges = {\n  types: {\n    conventional: 33, // 40 charges\n    crosses: 13, // 30 charges\n    beasts: 7, // 41 charges\n    beastHeads: 3, // 10 charges\n    birds: 3, // 16 charges\n    reptiles: 2, // 5 charges\n    bugs: 2, // 8 charges\n    fishes: 1, // 3 charges\n    molluscs: 1, // 2 charges\n    plants: 3, // 18 charges\n    fantastic: 5, // 14 charges\n    agriculture: 2, // 8 charges\n    arms: 5, // 32 charges\n    bodyparts: 2, // 12 charges\n    people: 2, // 4 charges\n    architecture: 3, // 11 charges\n    seafaring: 3, // 9 charges\n    tools: 3, // 15 charges\n    miscellaneous: 5, // 30 charges\n    inescutcheon: 3, // 43 charges\n    ornaments: 0, // 9 charges\n    uploaded: 0\n  },\n  single: {\n    conventional: 10,\n    crosses: 8,\n    beasts: 7,\n    beastHeads: 3,\n    birds: 3,\n    reptiles: 2,\n    bugs: 2,\n    fishes: 1,\n    molluscs: 1,\n    plants: 3,\n    fantastic: 5,\n    agriculture: 2,\n    arms: 5,\n    bodyparts: 2,\n    people: 2,\n    architecture: 3,\n    seafaring: 3,\n    tools: 3,\n    miscellaneous: 5,\n    inescutcheon: 1\n  },\n  semy: {\n    conventional: 4,\n    crosses: 1\n  },\n  conventional: {\n    annulet: 4,\n    billet: 5,\n    carreau: 1,\n    comet: 1,\n    compassRose: 1,\n    crescent: 5,\n    delf: 0,\n    estoile: 1,\n    fleurDeLis: 6,\n    fountain: 1,\n    fusil: 4,\n    gear: 1,\n    goutte: 4,\n    heart: 4,\n    lozenge: 2,\n    lozengeFaceted: 3,\n    lozengePloye: 1,\n    mascle: 4,\n    moonInCrescent: 1,\n    mullet: 5,\n    mullet10: 1,\n    mullet4: 3,\n    mullet6: 4,\n    mullet6Faceted: 1,\n    mullet6Pierced: 1,\n    mullet7: 1,\n    mullet8: 1,\n    mulletFaceted: 1,\n    mulletPierced: 1,\n    pique: 2,\n    roundel: 4,\n    roundel2: 3,\n    rustre: 2,\n    spiral: 1,\n    sun: 3,\n    sunInSplendour: 1,\n    sunInSplendour2: 1,\n    trefle: 2,\n    triangle: 3,\n    trianglePierced: 1\n  },\n  crosses: {\n    crossHummetty: 15,\n    crossVoided: 1,\n    crossPattee: 2,\n    crossPatteeAlisee: 1,\n    crossFormee: 1,\n    crossFormee2: 2,\n    crossPotent: 2,\n    crossJerusalem: 1,\n    crosslet: 1,\n    crossClechy: 3,\n    crossBottony: 1,\n    crossFleury: 3,\n    crossPatonce: 1,\n    crossPommy: 1,\n    crossGamma: 1,\n    crossArrowed: 1,\n    crossFitchy: 1,\n    crossCercelee: 1,\n    crossMoline: 2,\n    crossFourchy: 1,\n    crossAvellane: 1,\n    crossErminee: 1,\n    crossBiparted: 1,\n    crossMaltese: 3,\n    crossTemplar: 2,\n    crossCeltic: 1,\n    crossCeltic2: 1,\n    crossTriquetra: 1,\n    crossCarolingian: 1,\n    crossOccitan: 1,\n    crossSaltire: 3,\n    crossBurgundy: 1,\n    crossLatin: 3,\n    crossPatriarchal: 1,\n    crossOrthodox: 1,\n    crossCalvary: 1,\n    crossDouble: 1,\n    crossTau: 1,\n    crossSantiago: 1,\n    crossAnkh: 1\n  },\n  beasts: {\n    agnusDei: 1,\n    badgerStatant: 1,\n    bearPassant: 1,\n    bearRampant: 3,\n    boarRampant: 1,\n    bullPassant: 1,\n    camel: 1,\n    camelBactrian: 1,\n    catPassantGuardant: 1,\n    cowStatant: 1,\n    dolphin: 1,\n    elephant: 1,\n    goat: 1,\n    greyhoundCourant: 1,\n    greyhoundRampant: 1,\n    greyhoundSejant: 1,\n    hedgehog: 1,\n    hindStatant: 1,\n    horsePassant: 1,\n    horseRampant: 2,\n    horseSalient: 1,\n    lamb: 1,\n    lambPassantReguardant: 1,\n    lionPassant: 3,\n    lionPassantGuardant: 2,\n    lionRampant: 7,\n    lionSejant: 2,\n    martenCourant: 1,\n    mastiffStatant: 1,\n    porcupine: 1,\n    rabbitSejant: 1,\n    ramPassant: 1,\n    ratRampant: 1,\n    rhinoceros: 1,\n    squirrel: 1,\n    stagLodgedRegardant: 1,\n    stagPassant: 1,\n    talbotPassant: 1,\n    talbotSejant: 1,\n    wolfPassant: 1,\n    wolfRampant: 1,\n    wolfStatant: 1\n  },\n  beastHeads: {\n    boarHeadErased: 1,\n    bullHeadCaboshed: 1,\n    deerHeadCaboshed: 1,\n    donkeyHeadCaboshed: 1,\n    elephantHeadErased: 1,\n    horseHeadCouped: 1,\n    lionHeadCaboshed: 2,\n    lionHeadErased: 2,\n    ramHeadErased: 1,\n    wolfHeadErased: 2\n  },\n  birds: {\n    cock: 3,\n    dove: 2,\n    doveDisplayed: 1,\n    duck: 1,\n    eagle: 9,\n    falcon: 2,\n    heron: 1,\n    owl: 1,\n    owlDisplayed: 1,\n    parrot: 1,\n    peacock: 1,\n    peacockInPride: 1,\n    raven: 2,\n    stork: 1,\n    swallow: 1,\n    swan: 2,\n    swanErased: 1\n  },\n  reptiles: {\n    crocodile: 1,\n    frog: 1,\n    lizard: 1,\n    ouroboros: 1,\n    snake: 1\n  },\n  bugs: {\n    ant: 1,\n    bee: 1,\n    butterfly: 1,\n    cancer: 1,\n    dragonfly: 1,\n    fly: 1,\n    ladybird: 1,\n    scorpion: 1,\n    spider: 1,\n    wasp: 1\n  },\n  fishes: {\n    pike: 1,\n    plaice: 1,\n    salmon: 1\n  },\n  molluscs: {\n    escallop: 4,\n    snail: 1\n  },\n  plants: {\n    apple: 1,\n    cinquefoil: 1,\n    earOfWheat: 1,\n    grapeBunch: 1,\n    grapeBunch2: 1,\n    mapleLeaf: 1,\n    oak: 1,\n    palmTree: 1,\n    pear: 1,\n    pineCone: 1,\n    pineTree: 1,\n    quatrefoil: 1,\n    rose: 1,\n    sextifoil: 1,\n    thistle: 1,\n    tree: 1,\n    trefoil: 1,\n    wheatStalk: 1\n  },\n  fantastic: {\n    angel: 3,\n    basilisk: 1,\n    centaur: 1,\n    dragonPassant: 3,\n    dragonRampant: 2,\n    eagleTwoHeads: 2,\n    griffinPassant: 1,\n    griffinRampant: 2,\n    pegasus: 1,\n    sagittarius: 1,\n    serpent: 1,\n    unicornRampant: 1,\n    wyvern: 1,\n    wyvernWithWingsDisplayed: 1\n  },\n  agriculture: {\n    garb: 2,\n    millstone: 1,\n    plough: 1,\n    ploughshare: 1,\n    rake: 1,\n    scythe: 1,\n    scythe2: 1,\n    sickle: 1\n  },\n  arms: {\n    arbalest: 1,\n    arbalest2: 1,\n    arrow: 1,\n    arrowsSheaf: 1,\n    axe: 3,\n    bow: 1,\n    bowWithArrow: 2,\n    bowWithThreeArrows: 1,\n    cannon: 1,\n    falchion: 1,\n    flamberge: 1,\n    flangedMace: 1,\n    gauntlet: 1,\n    gladius: 1,\n    grenade: 1,\n    hatchet: 3,\n    helmet: 2,\n    helmetCorinthian: 1,\n    helmetGreat: 2,\n    helmetZischagge: 1,\n    lanceHead: 1,\n    lanceWithBanner: 1,\n    lochaberAxe: 1,\n    mace: 1,\n    maces: 1,\n    mallet: 1,\n    rapier: 1,\n    sabre: 1,\n    sabre2: 1,\n    sabresCrossed: 1,\n    shield: 1,\n    spear: 1,\n    sword: 4\n  },\n  bodyparts: {\n    armEmbowedHoldingSabre: 1,\n    armEmbowedVambraced: 1,\n    armEmbowedVambracedHoldingSword: 1,\n    bone: 1,\n    crossedBones: 2,\n    foot: 1,\n    hand: 4,\n    head: 1,\n    headWreathed: 1,\n    skeleton: 2,\n    skull: 2,\n    skull2: 1\n  },\n  people: {\n    archer: 1,\n    cavalier: 3,\n    cossack: 1,\n    monk: 1\n  },\n  architecture: {\n    bridge: 1,\n    bridge2: 1,\n    castle: 2,\n    castle2: 1,\n    church: 1,\n    column: 1,\n    lighthouse: 1,\n    palace: 1,\n    pillar: 1,\n    portcullis: 1,\n    tower: 2,\n    windmill: 1\n  },\n  seafaring: {\n    anchor: 6,\n    armillarySphere: 1,\n    boat: 2,\n    boat2: 1,\n    caravel: 1,\n    drakkar: 1,\n    lymphad: 2,\n    raft: 1,\n    shipWheel: 1\n  },\n  tools: {\n    anvil: 2,\n    drawingCompass: 2,\n    fan: 1,\n    hook: 1,\n    ladder: 1,\n    ladder2: 1,\n    pincers: 1,\n    saw: 1,\n    scale: 1,\n    scaleImbalanced: 1,\n    scalesHanging: 1,\n    scissors: 1,\n    scissors2: 1,\n    shears: 1,\n    trowel: 1\n  },\n  miscellaneous: {\n    attire: 2,\n    banner: 2,\n    bell: 3,\n    bookClosed: 1,\n    bookClosed2: 1,\n    bookOpen: 1,\n    bucket: 1,\n    buckle: 1,\n    bugleHorn: 2,\n    bugleHorn2: 1,\n    chain: 2,\n    chalice: 2,\n    cowHorns: 3,\n    crosier: 1,\n    crown: 3,\n    crown2: 2,\n    drum: 1,\n    fasces: 1,\n    feather: 3,\n    harp: 2,\n    horseshoe: 3,\n    hourglass: 2,\n    key: 3,\n    laurelWreath: 2,\n    laurelWreath2: 1,\n    log: 1,\n    lute: 2,\n    lyre: 1,\n    mitre: 1,\n    orb: 1,\n    pot: 2,\n    ramsHorn: 1,\n    sceptre: 1,\n    scrollClosed: 1,\n    snowflake: 1,\n    stagsAttires: 1,\n    stirrup: 2,\n    violin: 1,\n    wheel: 3,\n    wing: 2,\n    wingSword: 1\n  },\n  inescutcheon: {\n    inescutcheonHeater: 1,\n    inescutcheonSpanish: 1,\n    inescutcheonFrench: 1,\n    inescutcheonHorsehead: 1,\n    inescutcheonHorsehead2: 1,\n    inescutcheonPolish: 1,\n    inescutcheonHessen: 1,\n    inescutcheonSwiss: 1,\n    inescutcheonBoeotian: 1,\n    inescutcheonRoman: 1,\n    inescutcheonKite: 1,\n    inescutcheonOldFrench: 1,\n    inescutcheonRenaissance: 1,\n    inescutcheonBaroque: 1,\n    inescutcheonTarge: 1,\n    inescutcheonTarge2: 1,\n    inescutcheonPavise: 1,\n    inescutcheonWedged: 1,\n    inescutcheonEmbowed: 1,\n    inescutcheonFlag: 1,\n    inescutcheonPennon: 1,\n    inescutcheonGuidon: 1,\n    inescutcheonBanner: 1,\n    inescutcheonDovetail: 1,\n    inescutcheonGonfalon: 1,\n    inescutcheonPennant: 1,\n    inescutcheonRound: 1,\n    inescutcheonOval: 1,\n    inescutcheonVesicaPiscis: 1,\n    inescutcheonSquare: 1,\n    inescutcheonDiamond: 1,\n    inescutcheonHexagon: 1,\n    inescutcheonNo: 1,\n    inescutcheonFantasy1: 1,\n    inescutcheonFantasy2: 1,\n    inescutcheonFantasy3: 1,\n    inescutcheonFantasy4: 1,\n    inescutcheonFantasy5: 1,\n    inescutcheonNoldor: 1,\n    inescutcheonGondor: 1,\n    inescutcheonEasterling: 1,\n    inescutcheonErebor: 1,\n    inescutcheonIronHills: 1,\n    inescutcheonUrukHai: 1,\n    inescutcheonMoriaOrc: 1\n  },\n  ornaments: {\n    mantle: 0,\n    ribbon1: 3,\n    ribbon2: 2,\n    ribbon3: 1,\n    ribbon4: 1,\n    ribbon5: 1,\n    ribbon6: 1,\n    ribbon7: 1,\n    ribbon8: 1\n  },\n  uploaded: {},\n  data: chargeData\n};\n\nexport const patternSize = {standard: 154, small: 20, smaller: 20, big: 5, smallest: 1};\n","'use strict';\n\nvar isMergeableObject = function isMergeableObject(value) {\n\treturn isNonNullObject(value)\n\t\t&& !isSpecial(value)\n};\n\nfunction isNonNullObject(value) {\n\treturn !!value && typeof value === 'object'\n}\n\nfunction isSpecial(value) {\n\tvar stringValue = Object.prototype.toString.call(value);\n\n\treturn stringValue === '[object RegExp]'\n\t\t|| stringValue === '[object Date]'\n\t\t|| isReactElement(value)\n}\n\n// see https://github.com/facebook/react/blob/b5ac963fb791d1298e7f396236383bc955f916c1/src/isomorphic/classic/element/ReactElement.js#L21-L25\nvar canUseSymbol = typeof Symbol === 'function' && Symbol.for;\nvar REACT_ELEMENT_TYPE = canUseSymbol ? Symbol.for('react.element') : 0xeac7;\n\nfunction isReactElement(value) {\n\treturn value.$$typeof === REACT_ELEMENT_TYPE\n}\n\nfunction emptyTarget(val) {\n\treturn Array.isArray(val) ? [] : {}\n}\n\nfunction cloneUnlessOtherwiseSpecified(value, options) {\n\treturn (options.clone !== false && options.isMergeableObject(value))\n\t\t? deepmerge(emptyTarget(value), value, options)\n\t\t: value\n}\n\nfunction defaultArrayMerge(target, source, options) {\n\treturn target.concat(source).map(function(element) {\n\t\treturn cloneUnlessOtherwiseSpecified(element, options)\n\t})\n}\n\nfunction getMergeFunction(key, options) {\n\tif (!options.customMerge) {\n\t\treturn deepmerge\n\t}\n\tvar customMerge = options.customMerge(key);\n\treturn typeof customMerge === 'function' ? customMerge : deepmerge\n}\n\nfunction getEnumerableOwnPropertySymbols(target) {\n\treturn Object.getOwnPropertySymbols\n\t\t? Object.getOwnPropertySymbols(target).filter(function(symbol) {\n\t\t\treturn target.propertyIsEnumerable(symbol)\n\t\t})\n\t\t: []\n}\n\nfunction getKeys(target) {\n\treturn Object.keys(target).concat(getEnumerableOwnPropertySymbols(target))\n}\n\nfunction propertyIsOnObject(object, property) {\n\ttry {\n\t\treturn property in object\n\t} catch(_) {\n\t\treturn false\n\t}\n}\n\n// Protects from prototype poisoning and unexpected merging up the prototype chain.\nfunction propertyIsUnsafe(target, key) {\n\treturn propertyIsOnObject(target, key) // Properties are safe to merge if they don't exist in the target yet,\n\t\t&& !(Object.hasOwnProperty.call(target, key) // unsafe if they exist up the prototype chain,\n\t\t\t&& Object.propertyIsEnumerable.call(target, key)) // and also unsafe if they're nonenumerable.\n}\n\nfunction mergeObject(target, source, options) {\n\tvar destination = {};\n\tif (options.isMergeableObject(target)) {\n\t\tgetKeys(target).forEach(function(key) {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(target[key], options);\n\t\t});\n\t}\n\tgetKeys(source).forEach(function(key) {\n\t\tif (propertyIsUnsafe(target, key)) {\n\t\t\treturn\n\t\t}\n\n\t\tif (propertyIsOnObject(target, key) && options.isMergeableObject(source[key])) {\n\t\t\tdestination[key] = getMergeFunction(key, options)(target[key], source[key], options);\n\t\t} else {\n\t\t\tdestination[key] = cloneUnlessOtherwiseSpecified(source[key], options);\n\t\t}\n\t});\n\treturn destination\n}\n\nfunction deepmerge(target, source, options) {\n\toptions = options || {};\n\toptions.arrayMerge = options.arrayMerge || defaultArrayMerge;\n\toptions.isMergeableObject = options.isMergeableObject || isMergeableObject;\n\t// cloneUnlessOtherwiseSpecified is added to `options` so that custom arrayMerge()\n\t// implementations can use it. The caller may not replace it.\n\toptions.cloneUnlessOtherwiseSpecified = cloneUnlessOtherwiseSpecified;\n\n\tvar sourceIsArray = Array.isArray(source);\n\tvar targetIsArray = Array.isArray(target);\n\tvar sourceAndTargetTypesMatch = sourceIsArray === targetIsArray;\n\n\tif (!sourceAndTargetTypesMatch) {\n\t\treturn cloneUnlessOtherwiseSpecified(source, options)\n\t} else if (sourceIsArray) {\n\t\treturn options.arrayMerge(target, source, options)\n\t} else {\n\t\treturn mergeObject(target, source, options)\n\t}\n}\n\ndeepmerge.all = function deepmergeAll(array, options) {\n\tif (!Array.isArray(array)) {\n\t\tthrow new Error('first argument should be an array')\n\t}\n\n\treturn array.reduce(function(prev, next) {\n\t\treturn deepmerge(prev, next, options)\n\t}, {})\n};\n\nvar deepmerge_1 = deepmerge;\n\nmodule.exports = deepmerge_1;\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","export var ErrorKind;\n(function (ErrorKind) {\n    /** Argument is unclosed (e.g. `{0`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_CLOSING_BRACE\"] = 1] = \"EXPECT_ARGUMENT_CLOSING_BRACE\";\n    /** Argument is empty (e.g. `{}`). */\n    ErrorKind[ErrorKind[\"EMPTY_ARGUMENT\"] = 2] = \"EMPTY_ARGUMENT\";\n    /** Argument is malformed (e.g. `{foo!}``) */\n    ErrorKind[ErrorKind[\"MALFORMED_ARGUMENT\"] = 3] = \"MALFORMED_ARGUMENT\";\n    /** Expect an argument type (e.g. `{foo,}`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_TYPE\"] = 4] = \"EXPECT_ARGUMENT_TYPE\";\n    /** Unsupported argument type (e.g. `{foo,foo}`) */\n    ErrorKind[ErrorKind[\"INVALID_ARGUMENT_TYPE\"] = 5] = \"INVALID_ARGUMENT_TYPE\";\n    /** Expect an argument style (e.g. `{foo, number, }`) */\n    ErrorKind[ErrorKind[\"EXPECT_ARGUMENT_STYLE\"] = 6] = \"EXPECT_ARGUMENT_STYLE\";\n    /** The number skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_NUMBER_SKELETON\"] = 7] = \"INVALID_NUMBER_SKELETON\";\n    /** The date time skeleton is invalid. */\n    ErrorKind[ErrorKind[\"INVALID_DATE_TIME_SKELETON\"] = 8] = \"INVALID_DATE_TIME_SKELETON\";\n    /** Exepct a number skeleton following the `::` (e.g. `{foo, number, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_NUMBER_SKELETON\"] = 9] = \"EXPECT_NUMBER_SKELETON\";\n    /** Exepct a date time skeleton following the `::` (e.g. `{foo, date, ::}`) */\n    ErrorKind[ErrorKind[\"EXPECT_DATE_TIME_SKELETON\"] = 10] = \"EXPECT_DATE_TIME_SKELETON\";\n    /** Unmatched apostrophes in the argument style (e.g. `{foo, number, 'test`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\"] = 11] = \"UNCLOSED_QUOTE_IN_ARGUMENT_STYLE\";\n    /** Missing select argument options (e.g. `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_OPTIONS\"] = 12] = \"EXPECT_SELECT_ARGUMENT_OPTIONS\";\n    /** Expecting an offset value in `plural` or `selectordinal` argument (e.g `{foo, plural, offset}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 13] = \"EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Offset value in `plural` or `selectordinal` is invalid (e.g. `{foo, plural, offset: x}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\"] = 14] = \"INVALID_PLURAL_ARGUMENT_OFFSET_VALUE\";\n    /** Expecting a selector in `select` argument (e.g `{foo, select}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR\"] = 15] = \"EXPECT_SELECT_ARGUMENT_SELECTOR\";\n    /** Expecting a selector in `plural` or `selectordinal` argument (e.g `{foo, plural}`) */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR\"] = 16] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR\";\n    /** Expecting a message fragment after the `select` selector (e.g. `{foo, select, apple}`) */\n    ErrorKind[ErrorKind[\"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\"] = 17] = \"EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\";\n    /**\n     * Expecting a message fragment after the `plural` or `selectordinal` selector\n     * (e.g. `{foo, plural, one}`)\n     */\n    ErrorKind[ErrorKind[\"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\"] = 18] = \"EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT\";\n    /** Selector in `plural` or `selectordinal` is malformed (e.g. `{foo, plural, =x {#}}`) */\n    ErrorKind[ErrorKind[\"INVALID_PLURAL_ARGUMENT_SELECTOR\"] = 19] = \"INVALID_PLURAL_ARGUMENT_SELECTOR\";\n    /**\n     * Duplicate selectors in `plural` or `selectordinal` argument.\n     * (e.g. {foo, plural, one {#} one {#}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\"] = 20] = \"DUPLICATE_PLURAL_ARGUMENT_SELECTOR\";\n    /** Duplicate selectors in `select` argument.\n     * (e.g. {foo, select, apple {apple} apple {apple}})\n     */\n    ErrorKind[ErrorKind[\"DUPLICATE_SELECT_ARGUMENT_SELECTOR\"] = 21] = \"DUPLICATE_SELECT_ARGUMENT_SELECTOR\";\n    /** Plural or select argument option must have `other` clause. */\n    ErrorKind[ErrorKind[\"MISSING_OTHER_CLAUSE\"] = 22] = \"MISSING_OTHER_CLAUSE\";\n    /** The tag is malformed. (e.g. `<bold!>foo</bold!>) */\n    ErrorKind[ErrorKind[\"INVALID_TAG\"] = 23] = \"INVALID_TAG\";\n    /** The tag name is invalid. (e.g. `<123>foo</123>`) */\n    ErrorKind[ErrorKind[\"INVALID_TAG_NAME\"] = 25] = \"INVALID_TAG_NAME\";\n    /** The closing tag does not match the opening tag. (e.g. `<bold>foo</italic>`) */\n    ErrorKind[ErrorKind[\"UNMATCHED_CLOSING_TAG\"] = 26] = \"UNMATCHED_CLOSING_TAG\";\n    /** The opening tag has unmatched closing tag. (e.g. `<bold>foo`) */\n    ErrorKind[ErrorKind[\"UNCLOSED_TAG\"] = 27] = \"UNCLOSED_TAG\";\n})(ErrorKind || (ErrorKind = {}));\n","export var TYPE;\n(function (TYPE) {\n    /**\n     * Raw text\n     */\n    TYPE[TYPE[\"literal\"] = 0] = \"literal\";\n    /**\n     * Variable w/o any format, e.g `var` in `this is a {var}`\n     */\n    TYPE[TYPE[\"argument\"] = 1] = \"argument\";\n    /**\n     * Variable w/ number format\n     */\n    TYPE[TYPE[\"number\"] = 2] = \"number\";\n    /**\n     * Variable w/ date format\n     */\n    TYPE[TYPE[\"date\"] = 3] = \"date\";\n    /**\n     * Variable w/ time format\n     */\n    TYPE[TYPE[\"time\"] = 4] = \"time\";\n    /**\n     * Variable w/ select format\n     */\n    TYPE[TYPE[\"select\"] = 5] = \"select\";\n    /**\n     * Variable w/ plural format\n     */\n    TYPE[TYPE[\"plural\"] = 6] = \"plural\";\n    /**\n     * Only possible within plural argument.\n     * This is the `#` symbol that will be substituted with the count.\n     */\n    TYPE[TYPE[\"pound\"] = 7] = \"pound\";\n    /**\n     * XML-like tag\n     */\n    TYPE[TYPE[\"tag\"] = 8] = \"tag\";\n})(TYPE || (TYPE = {}));\nexport var SKELETON_TYPE;\n(function (SKELETON_TYPE) {\n    SKELETON_TYPE[SKELETON_TYPE[\"number\"] = 0] = \"number\";\n    SKELETON_TYPE[SKELETON_TYPE[\"dateTime\"] = 1] = \"dateTime\";\n})(SKELETON_TYPE || (SKELETON_TYPE = {}));\n/**\n * Type Guards\n */\nexport function isLiteralElement(el) {\n    return el.type === TYPE.literal;\n}\nexport function isArgumentElement(el) {\n    return el.type === TYPE.argument;\n}\nexport function isNumberElement(el) {\n    return el.type === TYPE.number;\n}\nexport function isDateElement(el) {\n    return el.type === TYPE.date;\n}\nexport function isTimeElement(el) {\n    return el.type === TYPE.time;\n}\nexport function isSelectElement(el) {\n    return el.type === TYPE.select;\n}\nexport function isPluralElement(el) {\n    return el.type === TYPE.plural;\n}\nexport function isPoundElement(el) {\n    return el.type === TYPE.pound;\n}\nexport function isTagElement(el) {\n    return el.type === TYPE.tag;\n}\nexport function isNumberSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.number);\n}\nexport function isDateTimeSkeleton(el) {\n    return !!(el && typeof el === 'object' && el.type === SKELETON_TYPE.dateTime);\n}\nexport function createLiteralElement(value) {\n    return {\n        type: TYPE.literal,\n        value: value,\n    };\n}\nexport function createNumberElement(value, style) {\n    return {\n        type: TYPE.number,\n        value: value,\n        style: style,\n    };\n}\n","// @generated from regex-gen.ts\nexport var SPACE_SEPARATOR_REGEX = /[ \\xA0\\u1680\\u2000-\\u200A\\u202F\\u205F\\u3000]/;\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/;\n","/**\n * https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * Credit: https://github.com/caridy/intl-datetimeformat-pattern/blob/master/index.js\n * with some tweaks\n */\nvar DATE_TIME_REGEX = /(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;\n/**\n * Parse Date time skeleton into Intl.DateTimeFormatOptions\n * Ref: https://unicode.org/reports/tr35/tr35-dates.html#Date_Field_Symbol_Table\n * @public\n * @param skeleton skeleton string\n */\nexport function parseDateTimeSkeleton(skeleton) {\n    var result = {};\n    skeleton.replace(DATE_TIME_REGEX, function (match) {\n        var len = match.length;\n        switch (match[0]) {\n            // Era\n            case 'G':\n                result.era = len === 4 ? 'long' : len === 5 ? 'narrow' : 'short';\n                break;\n            // Year\n            case 'y':\n                result.year = len === 2 ? '2-digit' : 'numeric';\n                break;\n            case 'Y':\n            case 'u':\n            case 'U':\n            case 'r':\n                throw new RangeError('`Y/u/U/r` (year) patterns are not supported, use `y` instead');\n            // Quarter\n            case 'q':\n            case 'Q':\n                throw new RangeError('`q/Q` (quarter) patterns are not supported');\n            // Month\n            case 'M':\n            case 'L':\n                result.month = ['numeric', '2-digit', 'short', 'long', 'narrow'][len - 1];\n                break;\n            // Week\n            case 'w':\n            case 'W':\n                throw new RangeError('`w/W` (week) patterns are not supported');\n            case 'd':\n                result.day = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'D':\n            case 'F':\n            case 'g':\n                throw new RangeError('`D/F/g` (day) patterns are not supported, use `d` instead');\n            // Weekday\n            case 'E':\n                result.weekday = len === 4 ? 'short' : len === 5 ? 'narrow' : 'short';\n                break;\n            case 'e':\n                if (len < 4) {\n                    throw new RangeError('`e..eee` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            case 'c':\n                if (len < 4) {\n                    throw new RangeError('`c..ccc` (weekday) patterns are not supported');\n                }\n                result.weekday = ['short', 'long', 'narrow', 'short'][len - 4];\n                break;\n            // Period\n            case 'a': // AM, PM\n                result.hour12 = true;\n                break;\n            case 'b': // am, pm, noon, midnight\n            case 'B': // flexible day periods\n                throw new RangeError('`b/B` (period) patterns are not supported, use `a` instead');\n            // Hour\n            case 'h':\n                result.hourCycle = 'h12';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'H':\n                result.hourCycle = 'h23';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'K':\n                result.hourCycle = 'h11';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'k':\n                result.hourCycle = 'h24';\n                result.hour = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'j':\n            case 'J':\n            case 'C':\n                throw new RangeError('`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead');\n            // Minute\n            case 'm':\n                result.minute = ['numeric', '2-digit'][len - 1];\n                break;\n            // Second\n            case 's':\n                result.second = ['numeric', '2-digit'][len - 1];\n                break;\n            case 'S':\n            case 'A':\n                throw new RangeError('`S/A` (second) patterns are not supported, use `s` instead');\n            // Zone\n            case 'z': // 1..3, 4: specific non-location format\n                result.timeZoneName = len < 4 ? 'short' : 'long';\n                break;\n            case 'Z': // 1..3, 4, 5: The ISO8601 varios formats\n            case 'O': // 1, 4: miliseconds in day short, long\n            case 'v': // 1, 4: generic non-location format\n            case 'V': // 1, 2, 3, 4: time zone ID or city\n            case 'X': // 1, 2, 3, 4: The ISO8601 varios formats\n            case 'x': // 1, 2, 3, 4: The ISO8601 varios formats\n                throw new RangeError('`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead');\n        }\n        return '';\n    });\n    return result;\n}\n","// @generated from regex-gen.ts\nexport var WHITE_SPACE_REGEX = /[\\t-\\r \\x85\\u200E\\u200F\\u2028\\u2029]/i;\n","import { __assign } from \"tslib\";\nimport { WHITE_SPACE_REGEX } from './regex.generated';\nexport function parseNumberSkeletonFromString(skeleton) {\n    if (skeleton.length === 0) {\n        throw new Error('Number skeleton cannot be empty');\n    }\n    // Parse the skeleton\n    var stringTokens = skeleton\n        .split(WHITE_SPACE_REGEX)\n        .filter(function (x) { return x.length > 0; });\n    var tokens = [];\n    for (var _i = 0, stringTokens_1 = stringTokens; _i < stringTokens_1.length; _i++) {\n        var stringToken = stringTokens_1[_i];\n        var stemAndOptions = stringToken.split('/');\n        if (stemAndOptions.length === 0) {\n            throw new Error('Invalid number skeleton');\n        }\n        var stem = stemAndOptions[0], options = stemAndOptions.slice(1);\n        for (var _a = 0, options_1 = options; _a < options_1.length; _a++) {\n            var option = options_1[_a];\n            if (option.length === 0) {\n                throw new Error('Invalid number skeleton');\n            }\n        }\n        tokens.push({ stem: stem, options: options });\n    }\n    return tokens;\n}\nfunction icuUnitToEcma(unit) {\n    return unit.replace(/^(.*?)-/, '');\n}\nvar FRACTION_PRECISION_REGEX = /^\\.(?:(0+)(\\*)?|(#+)|(0+)(#+))$/g;\nvar SIGNIFICANT_PRECISION_REGEX = /^(@+)?(\\+|#+)?[rs]?$/g;\nvar INTEGER_WIDTH_REGEX = /(\\*)(0+)|(#+)(0+)|(0+)/g;\nvar CONCISE_INTEGER_WIDTH_REGEX = /^(0+)$/;\nfunction parseSignificantPrecision(str) {\n    var result = {};\n    if (str[str.length - 1] === 'r') {\n        result.roundingPriority = 'morePrecision';\n    }\n    else if (str[str.length - 1] === 's') {\n        result.roundingPriority = 'lessPrecision';\n    }\n    str.replace(SIGNIFICANT_PRECISION_REGEX, function (_, g1, g2) {\n        // @@@ case\n        if (typeof g2 !== 'string') {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits = g1.length;\n        }\n        // @@@+ case\n        else if (g2 === '+') {\n            result.minimumSignificantDigits = g1.length;\n        }\n        // .### case\n        else if (g1[0] === '#') {\n            result.maximumSignificantDigits = g1.length;\n        }\n        // .@@## or .@@@ case\n        else {\n            result.minimumSignificantDigits = g1.length;\n            result.maximumSignificantDigits =\n                g1.length + (typeof g2 === 'string' ? g2.length : 0);\n        }\n        return '';\n    });\n    return result;\n}\nfunction parseSign(str) {\n    switch (str) {\n        case 'sign-auto':\n            return {\n                signDisplay: 'auto',\n            };\n        case 'sign-accounting':\n        case '()':\n            return {\n                currencySign: 'accounting',\n            };\n        case 'sign-always':\n        case '+!':\n            return {\n                signDisplay: 'always',\n            };\n        case 'sign-accounting-always':\n        case '()!':\n            return {\n                signDisplay: 'always',\n                currencySign: 'accounting',\n            };\n        case 'sign-except-zero':\n        case '+?':\n            return {\n                signDisplay: 'exceptZero',\n            };\n        case 'sign-accounting-except-zero':\n        case '()?':\n            return {\n                signDisplay: 'exceptZero',\n                currencySign: 'accounting',\n            };\n        case 'sign-never':\n        case '+_':\n            return {\n                signDisplay: 'never',\n            };\n    }\n}\nfunction parseConciseScientificAndEngineeringStem(stem) {\n    // Engineering\n    var result;\n    if (stem[0] === 'E' && stem[1] === 'E') {\n        result = {\n            notation: 'engineering',\n        };\n        stem = stem.slice(2);\n    }\n    else if (stem[0] === 'E') {\n        result = {\n            notation: 'scientific',\n        };\n        stem = stem.slice(1);\n    }\n    if (result) {\n        var signDisplay = stem.slice(0, 2);\n        if (signDisplay === '+!') {\n            result.signDisplay = 'always';\n            stem = stem.slice(2);\n        }\n        else if (signDisplay === '+?') {\n            result.signDisplay = 'exceptZero';\n            stem = stem.slice(2);\n        }\n        if (!CONCISE_INTEGER_WIDTH_REGEX.test(stem)) {\n            throw new Error('Malformed concise eng/scientific notation');\n        }\n        result.minimumIntegerDigits = stem.length;\n    }\n    return result;\n}\nfunction parseNotationOptions(opt) {\n    var result = {};\n    var signOpts = parseSign(opt);\n    if (signOpts) {\n        return signOpts;\n    }\n    return result;\n}\n/**\n * https://github.com/unicode-org/icu/blob/master/docs/userguide/format_parse/numbers/skeletons.md#skeleton-stems-and-options\n */\nexport function parseNumberSkeleton(tokens) {\n    var result = {};\n    for (var _i = 0, tokens_1 = tokens; _i < tokens_1.length; _i++) {\n        var token = tokens_1[_i];\n        switch (token.stem) {\n            case 'percent':\n            case '%':\n                result.style = 'percent';\n                continue;\n            case '%x100':\n                result.style = 'percent';\n                result.scale = 100;\n                continue;\n            case 'currency':\n                result.style = 'currency';\n                result.currency = token.options[0];\n                continue;\n            case 'group-off':\n            case ',_':\n                result.useGrouping = false;\n                continue;\n            case 'precision-integer':\n            case '.':\n                result.maximumFractionDigits = 0;\n                continue;\n            case 'measure-unit':\n            case 'unit':\n                result.style = 'unit';\n                result.unit = icuUnitToEcma(token.options[0]);\n                continue;\n            case 'compact-short':\n            case 'K':\n                result.notation = 'compact';\n                result.compactDisplay = 'short';\n                continue;\n            case 'compact-long':\n            case 'KK':\n                result.notation = 'compact';\n                result.compactDisplay = 'long';\n                continue;\n            case 'scientific':\n                result = __assign(__assign(__assign({}, result), { notation: 'scientific' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'engineering':\n                result = __assign(__assign(__assign({}, result), { notation: 'engineering' }), token.options.reduce(function (all, opt) { return (__assign(__assign({}, all), parseNotationOptions(opt))); }, {}));\n                continue;\n            case 'notation-simple':\n                result.notation = 'standard';\n                continue;\n            // https://github.com/unicode-org/icu/blob/master/icu4c/source/i18n/unicode/unumberformatter.h\n            case 'unit-width-narrow':\n                result.currencyDisplay = 'narrowSymbol';\n                result.unitDisplay = 'narrow';\n                continue;\n            case 'unit-width-short':\n                result.currencyDisplay = 'code';\n                result.unitDisplay = 'short';\n                continue;\n            case 'unit-width-full-name':\n                result.currencyDisplay = 'name';\n                result.unitDisplay = 'long';\n                continue;\n            case 'unit-width-iso-code':\n                result.currencyDisplay = 'symbol';\n                continue;\n            case 'scale':\n                result.scale = parseFloat(token.options[0]);\n                continue;\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n            case 'integer-width':\n                if (token.options.length > 1) {\n                    throw new RangeError('integer-width stems only accept a single optional option');\n                }\n                token.options[0].replace(INTEGER_WIDTH_REGEX, function (_, g1, g2, g3, g4, g5) {\n                    if (g1) {\n                        result.minimumIntegerDigits = g2.length;\n                    }\n                    else if (g3 && g4) {\n                        throw new Error('We currently do not support maximum integer digits');\n                    }\n                    else if (g5) {\n                        throw new Error('We currently do not support exact integer digits');\n                    }\n                    return '';\n                });\n                continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#integer-width\n        if (CONCISE_INTEGER_WIDTH_REGEX.test(token.stem)) {\n            result.minimumIntegerDigits = token.stem.length;\n            continue;\n        }\n        if (FRACTION_PRECISION_REGEX.test(token.stem)) {\n            // Precision\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#fraction-precision\n            // precision-integer case\n            if (token.options.length > 1) {\n                throw new RangeError('Fraction-precision stems only accept a single optional option');\n            }\n            token.stem.replace(FRACTION_PRECISION_REGEX, function (_, g1, g2, g3, g4, g5) {\n                // .000* case (before ICU67 it was .000+)\n                if (g2 === '*') {\n                    result.minimumFractionDigits = g1.length;\n                }\n                // .### case\n                else if (g3 && g3[0] === '#') {\n                    result.maximumFractionDigits = g3.length;\n                }\n                // .00## case\n                else if (g4 && g5) {\n                    result.minimumFractionDigits = g4.length;\n                    result.maximumFractionDigits = g4.length + g5.length;\n                }\n                else {\n                    result.minimumFractionDigits = g1.length;\n                    result.maximumFractionDigits = g1.length;\n                }\n                return '';\n            });\n            var opt = token.options[0];\n            // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#trailing-zero-display\n            if (opt === 'w') {\n                result = __assign(__assign({}, result), { trailingZeroDisplay: 'stripIfInteger' });\n            }\n            else if (opt) {\n                result = __assign(__assign({}, result), parseSignificantPrecision(opt));\n            }\n            continue;\n        }\n        // https://unicode-org.github.io/icu/userguide/format_parse/numbers/skeletons.html#significant-digits-precision\n        if (SIGNIFICANT_PRECISION_REGEX.test(token.stem)) {\n            result = __assign(__assign({}, result), parseSignificantPrecision(token.stem));\n            continue;\n        }\n        var signOpts = parseSign(token.stem);\n        if (signOpts) {\n            result = __assign(__assign({}, result), signOpts);\n        }\n        var conciseScientificAndEngineeringOpts = parseConciseScientificAndEngineeringStem(token.stem);\n        if (conciseScientificAndEngineeringOpts) {\n            result = __assign(__assign({}, result), conciseScientificAndEngineeringOpts);\n        }\n    }\n    return result;\n}\n","var _a;\nimport { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { SKELETON_TYPE, TYPE, } from './types';\nimport { SPACE_SEPARATOR_REGEX } from './regex.generated';\nimport { parseNumberSkeleton, parseNumberSkeletonFromString, parseDateTimeSkeleton, } from '@formatjs/icu-skeleton-parser';\nvar SPACE_SEPARATOR_START_REGEX = new RegExp(\"^\".concat(SPACE_SEPARATOR_REGEX.source, \"*\"));\nvar SPACE_SEPARATOR_END_REGEX = new RegExp(\"\".concat(SPACE_SEPARATOR_REGEX.source, \"*$\"));\nfunction createLocation(start, end) {\n    return { start: start, end: end };\n}\n// #region Ponyfills\n// Consolidate these variables up top for easier toggling during debugging\nvar hasNativeStartsWith = !!String.prototype.startsWith;\nvar hasNativeFromCodePoint = !!String.fromCodePoint;\nvar hasNativeFromEntries = !!Object.fromEntries;\nvar hasNativeCodePointAt = !!String.prototype.codePointAt;\nvar hasTrimStart = !!String.prototype.trimStart;\nvar hasTrimEnd = !!String.prototype.trimEnd;\nvar hasNativeIsSafeInteger = !!Number.isSafeInteger;\nvar isSafeInteger = hasNativeIsSafeInteger\n    ? Number.isSafeInteger\n    : function (n) {\n        return (typeof n === 'number' &&\n            isFinite(n) &&\n            Math.floor(n) === n &&\n            Math.abs(n) <= 0x1fffffffffffff);\n    };\n// IE11 does not support y and u.\nvar REGEX_SUPPORTS_U_AND_Y = true;\ntry {\n    var re = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    /**\n     * legacy Edge or Xbox One browser\n     * Unicode flag support: supported\n     * Pattern_Syntax support: not supported\n     * See https://github.com/formatjs/formatjs/issues/2822\n     */\n    REGEX_SUPPORTS_U_AND_Y = ((_a = re.exec('a')) === null || _a === void 0 ? void 0 : _a[0]) === 'a';\n}\ncatch (_) {\n    REGEX_SUPPORTS_U_AND_Y = false;\n}\nvar startsWith = hasNativeStartsWith\n    ? // Native\n        function startsWith(s, search, position) {\n            return s.startsWith(search, position);\n        }\n    : // For IE11\n        function startsWith(s, search, position) {\n            return s.slice(position, position + search.length) === search;\n        };\nvar fromCodePoint = hasNativeFromCodePoint\n    ? String.fromCodePoint\n    : // IE11\n        function fromCodePoint() {\n            var codePoints = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                codePoints[_i] = arguments[_i];\n            }\n            var elements = '';\n            var length = codePoints.length;\n            var i = 0;\n            var code;\n            while (length > i) {\n                code = codePoints[i++];\n                if (code > 0x10ffff)\n                    throw RangeError(code + ' is not a valid code point');\n                elements +=\n                    code < 0x10000\n                        ? String.fromCharCode(code)\n                        : String.fromCharCode(((code -= 0x10000) >> 10) + 0xd800, (code % 0x400) + 0xdc00);\n            }\n            return elements;\n        };\nvar fromEntries = \n// native\nhasNativeFromEntries\n    ? Object.fromEntries\n    : // Ponyfill\n        function fromEntries(entries) {\n            var obj = {};\n            for (var _i = 0, entries_1 = entries; _i < entries_1.length; _i++) {\n                var _a = entries_1[_i], k = _a[0], v = _a[1];\n                obj[k] = v;\n            }\n            return obj;\n        };\nvar codePointAt = hasNativeCodePointAt\n    ? // Native\n        function codePointAt(s, index) {\n            return s.codePointAt(index);\n        }\n    : // IE 11\n        function codePointAt(s, index) {\n            var size = s.length;\n            if (index < 0 || index >= size) {\n                return undefined;\n            }\n            var first = s.charCodeAt(index);\n            var second;\n            return first < 0xd800 ||\n                first > 0xdbff ||\n                index + 1 === size ||\n                (second = s.charCodeAt(index + 1)) < 0xdc00 ||\n                second > 0xdfff\n                ? first\n                : ((first - 0xd800) << 10) + (second - 0xdc00) + 0x10000;\n        };\nvar trimStart = hasTrimStart\n    ? // Native\n        function trimStart(s) {\n            return s.trimStart();\n        }\n    : // Ponyfill\n        function trimStart(s) {\n            return s.replace(SPACE_SEPARATOR_START_REGEX, '');\n        };\nvar trimEnd = hasTrimEnd\n    ? // Native\n        function trimEnd(s) {\n            return s.trimEnd();\n        }\n    : // Ponyfill\n        function trimEnd(s) {\n            return s.replace(SPACE_SEPARATOR_END_REGEX, '');\n        };\n// Prevent minifier to translate new RegExp to literal form that might cause syntax error on IE11.\nfunction RE(s, flag) {\n    return new RegExp(s, flag);\n}\n// #endregion\nvar matchIdentifierAtIndex;\nif (REGEX_SUPPORTS_U_AND_Y) {\n    // Native\n    var IDENTIFIER_PREFIX_RE_1 = RE('([^\\\\p{White_Space}\\\\p{Pattern_Syntax}]*)', 'yu');\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var _a;\n        IDENTIFIER_PREFIX_RE_1.lastIndex = index;\n        var match = IDENTIFIER_PREFIX_RE_1.exec(s);\n        return (_a = match[1]) !== null && _a !== void 0 ? _a : '';\n    };\n}\nelse {\n    // IE11\n    matchIdentifierAtIndex = function matchIdentifierAtIndex(s, index) {\n        var match = [];\n        while (true) {\n            var c = codePointAt(s, index);\n            if (c === undefined || _isWhiteSpace(c) || _isPatternSyntax(c)) {\n                break;\n            }\n            match.push(c);\n            index += c >= 0x10000 ? 2 : 1;\n        }\n        return fromCodePoint.apply(void 0, match);\n    };\n}\nvar Parser = /** @class */ (function () {\n    function Parser(message, options) {\n        if (options === void 0) { options = {}; }\n        this.message = message;\n        this.position = { offset: 0, line: 1, column: 1 };\n        this.ignoreTag = !!options.ignoreTag;\n        this.requiresOtherClause = !!options.requiresOtherClause;\n        this.shouldParseSkeletons = !!options.shouldParseSkeletons;\n    }\n    Parser.prototype.parse = function () {\n        if (this.offset() !== 0) {\n            throw Error('parser can only be used once');\n        }\n        return this.parseMessage(0, '', false);\n    };\n    Parser.prototype.parseMessage = function (nestingLevel, parentArgType, expectingCloseTag) {\n        var elements = [];\n        while (!this.isEOF()) {\n            var char = this.char();\n            if (char === 123 /* `{` */) {\n                var result = this.parseArgument(nestingLevel, expectingCloseTag);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else if (char === 125 /* `}` */ && nestingLevel > 0) {\n                break;\n            }\n            else if (char === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) {\n                var position = this.clonePosition();\n                this.bump();\n                elements.push({\n                    type: TYPE.pound,\n                    location: createLocation(position, this.clonePosition()),\n                });\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                this.peek() === 47 // char code for '/'\n            ) {\n                if (expectingCloseTag) {\n                    break;\n                }\n                else {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(this.clonePosition(), this.clonePosition()));\n                }\n            }\n            else if (char === 60 /* `<` */ &&\n                !this.ignoreTag &&\n                _isAlpha(this.peek() || 0)) {\n                var result = this.parseTag(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n            else {\n                var result = this.parseLiteral(nestingLevel, parentArgType);\n                if (result.err) {\n                    return result;\n                }\n                elements.push(result.val);\n            }\n        }\n        return { val: elements, err: null };\n    };\n    /**\n     * A tag name must start with an ASCII lower/upper case letter. The grammar is based on the\n     * [custom element name][] except that a dash is NOT always mandatory and uppercase letters\n     * are accepted:\n     *\n     * ```\n     * tag ::= \"<\" tagName (whitespace)* \"/>\" | \"<\" tagName (whitespace)* \">\" message \"</\" tagName (whitespace)* \">\"\n     * tagName ::= [a-z] (PENChar)*\n     * PENChar ::=\n     *     \"-\" | \".\" | [0-9] | \"_\" | [a-z] | [A-Z] | #xB7 | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x37D] |\n     *     [#x37F-#x1FFF] | [#x200C-#x200D] | [#x203F-#x2040] | [#x2070-#x218F] | [#x2C00-#x2FEF] |\n     *     [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n     * ```\n     *\n     * [custom element name]: https://html.spec.whatwg.org/multipage/custom-elements.html#valid-custom-element-name\n     * NOTE: We're a bit more lax here since HTML technically does not allow uppercase HTML element but we do\n     * since other tag-based engines like React allow it\n     */\n    Parser.prototype.parseTag = function (nestingLevel, parentArgType) {\n        var startPosition = this.clonePosition();\n        this.bump(); // `<`\n        var tagName = this.parseTagName();\n        this.bumpSpace();\n        if (this.bumpIf('/>')) {\n            // Self closing tag\n            return {\n                val: {\n                    type: TYPE.literal,\n                    value: \"<\".concat(tagName, \"/>\"),\n                    location: createLocation(startPosition, this.clonePosition()),\n                },\n                err: null,\n            };\n        }\n        else if (this.bumpIf('>')) {\n            var childrenResult = this.parseMessage(nestingLevel + 1, parentArgType, true);\n            if (childrenResult.err) {\n                return childrenResult;\n            }\n            var children = childrenResult.val;\n            // Expecting a close tag\n            var endTagStartPosition = this.clonePosition();\n            if (this.bumpIf('</')) {\n                if (this.isEOF() || !_isAlpha(this.char())) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                var closingTagNameStartPosition = this.clonePosition();\n                var closingTagName = this.parseTagName();\n                if (tagName !== closingTagName) {\n                    return this.error(ErrorKind.UNMATCHED_CLOSING_TAG, createLocation(closingTagNameStartPosition, this.clonePosition()));\n                }\n                this.bumpSpace();\n                if (!this.bumpIf('>')) {\n                    return this.error(ErrorKind.INVALID_TAG, createLocation(endTagStartPosition, this.clonePosition()));\n                }\n                return {\n                    val: {\n                        type: TYPE.tag,\n                        value: tagName,\n                        children: children,\n                        location: createLocation(startPosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            else {\n                return this.error(ErrorKind.UNCLOSED_TAG, createLocation(startPosition, this.clonePosition()));\n            }\n        }\n        else {\n            return this.error(ErrorKind.INVALID_TAG, createLocation(startPosition, this.clonePosition()));\n        }\n    };\n    /**\n     * This method assumes that the caller has peeked ahead for the first tag character.\n     */\n    Parser.prototype.parseTagName = function () {\n        var startOffset = this.offset();\n        this.bump(); // the first tag name character\n        while (!this.isEOF() && _isPotentialElementNameChar(this.char())) {\n            this.bump();\n        }\n        return this.message.slice(startOffset, this.offset());\n    };\n    Parser.prototype.parseLiteral = function (nestingLevel, parentArgType) {\n        var start = this.clonePosition();\n        var value = '';\n        while (true) {\n            var parseQuoteResult = this.tryParseQuote(parentArgType);\n            if (parseQuoteResult) {\n                value += parseQuoteResult;\n                continue;\n            }\n            var parseUnquotedResult = this.tryParseUnquoted(nestingLevel, parentArgType);\n            if (parseUnquotedResult) {\n                value += parseUnquotedResult;\n                continue;\n            }\n            var parseLeftAngleResult = this.tryParseLeftAngleBracket();\n            if (parseLeftAngleResult) {\n                value += parseLeftAngleResult;\n                continue;\n            }\n            break;\n        }\n        var location = createLocation(start, this.clonePosition());\n        return {\n            val: { type: TYPE.literal, value: value, location: location },\n            err: null,\n        };\n    };\n    Parser.prototype.tryParseLeftAngleBracket = function () {\n        if (!this.isEOF() &&\n            this.char() === 60 /* `<` */ &&\n            (this.ignoreTag ||\n                // If at the opening tag or closing tag position, bail.\n                !_isAlphaOrSlash(this.peek() || 0))) {\n            this.bump(); // `<`\n            return '<';\n        }\n        return null;\n    };\n    /**\n     * Starting with ICU 4.8, an ASCII apostrophe only starts quoted text if it immediately precedes\n     * a character that requires quoting (that is, \"only where needed\"), and works the same in\n     * nested messages as on the top level of the pattern. The new behavior is otherwise compatible.\n     */\n    Parser.prototype.tryParseQuote = function (parentArgType) {\n        if (this.isEOF() || this.char() !== 39 /* `'` */) {\n            return null;\n        }\n        // Parse escaped char following the apostrophe, or early return if there is no escaped char.\n        // Check if is valid escaped character\n        switch (this.peek()) {\n            case 39 /* `'` */:\n                // double quote, should return as a single quote.\n                this.bump();\n                this.bump();\n                return \"'\";\n            // '{', '<', '>', '}'\n            case 123:\n            case 60:\n            case 62:\n            case 125:\n                break;\n            case 35: // '#'\n                if (parentArgType === 'plural' || parentArgType === 'selectordinal') {\n                    break;\n                }\n                return null;\n            default:\n                return null;\n        }\n        this.bump(); // apostrophe\n        var codePoints = [this.char()]; // escaped char\n        this.bump();\n        // read chars until the optional closing apostrophe is found\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch === 39 /* `'` */) {\n                if (this.peek() === 39 /* `'` */) {\n                    codePoints.push(39);\n                    // Bump one more time because we need to skip 2 characters.\n                    this.bump();\n                }\n                else {\n                    // Optional closing apostrophe.\n                    this.bump();\n                    break;\n                }\n            }\n            else {\n                codePoints.push(ch);\n            }\n            this.bump();\n        }\n        return fromCodePoint.apply(void 0, codePoints);\n    };\n    Parser.prototype.tryParseUnquoted = function (nestingLevel, parentArgType) {\n        if (this.isEOF()) {\n            return null;\n        }\n        var ch = this.char();\n        if (ch === 60 /* `<` */ ||\n            ch === 123 /* `{` */ ||\n            (ch === 35 /* `#` */ &&\n                (parentArgType === 'plural' || parentArgType === 'selectordinal')) ||\n            (ch === 125 /* `}` */ && nestingLevel > 0)) {\n            return null;\n        }\n        else {\n            this.bump();\n            return fromCodePoint(ch);\n        }\n    };\n    Parser.prototype.parseArgument = function (nestingLevel, expectingCloseTag) {\n        var openingBracePosition = this.clonePosition();\n        this.bump(); // `{`\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        if (this.char() === 125 /* `}` */) {\n            this.bump();\n            return this.error(ErrorKind.EMPTY_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        // argument name\n        var value = this.parseIdentifierIfPossible().value;\n        if (!value) {\n            return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bumpSpace();\n        if (this.isEOF()) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        switch (this.char()) {\n            // Simple argument: `{name}`\n            case 125 /* `}` */: {\n                this.bump(); // `}`\n                return {\n                    val: {\n                        type: TYPE.argument,\n                        // value does not include the opening and closing braces.\n                        value: value,\n                        location: createLocation(openingBracePosition, this.clonePosition()),\n                    },\n                    err: null,\n                };\n            }\n            // Argument with options: `{name, format, ...}`\n            case 44 /* `,` */: {\n                this.bump(); // `,`\n                this.bumpSpace();\n                if (this.isEOF()) {\n                    return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n                }\n                return this.parseArgumentOptions(nestingLevel, expectingCloseTag, value, openingBracePosition);\n            }\n            default:\n                return this.error(ErrorKind.MALFORMED_ARGUMENT, createLocation(openingBracePosition, this.clonePosition()));\n        }\n    };\n    /**\n     * Advance the parser until the end of the identifier, if it is currently on\n     * an identifier character. Return an empty string otherwise.\n     */\n    Parser.prototype.parseIdentifierIfPossible = function () {\n        var startingPosition = this.clonePosition();\n        var startOffset = this.offset();\n        var value = matchIdentifierAtIndex(this.message, startOffset);\n        var endOffset = startOffset + value.length;\n        this.bumpTo(endOffset);\n        var endPosition = this.clonePosition();\n        var location = createLocation(startingPosition, endPosition);\n        return { value: value, location: location };\n    };\n    Parser.prototype.parseArgumentOptions = function (nestingLevel, expectingCloseTag, value, openingBracePosition) {\n        var _a;\n        // Parse this range:\n        // {name, type, style}\n        //        ^---^\n        var typeStartPosition = this.clonePosition();\n        var argType = this.parseIdentifierIfPossible().value;\n        var typeEndPosition = this.clonePosition();\n        switch (argType) {\n            case '':\n                // Expecting a style string number, date, time, plural, selectordinal, or select.\n                return this.error(ErrorKind.EXPECT_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n            case 'number':\n            case 'date':\n            case 'time': {\n                // Parse this range:\n                // {name, number, style}\n                //              ^-------^\n                this.bumpSpace();\n                var styleAndLocation = null;\n                if (this.bumpIf(',')) {\n                    this.bumpSpace();\n                    var styleStartPosition = this.clonePosition();\n                    var result = this.parseSimpleArgStyleIfPossible();\n                    if (result.err) {\n                        return result;\n                    }\n                    var style = trimEnd(result.val);\n                    if (style.length === 0) {\n                        return this.error(ErrorKind.EXPECT_ARGUMENT_STYLE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    var styleLocation = createLocation(styleStartPosition, this.clonePosition());\n                    styleAndLocation = { style: style, styleLocation: styleLocation };\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_1 = createLocation(openingBracePosition, this.clonePosition());\n                // Extract style or skeleton\n                if (styleAndLocation && startsWith(styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style, '::', 0)) {\n                    // Skeleton starts with `::`.\n                    var skeleton = trimStart(styleAndLocation.style.slice(2));\n                    if (argType === 'number') {\n                        var result = this.parseNumberSkeletonFromString(skeleton, styleAndLocation.styleLocation);\n                        if (result.err) {\n                            return result;\n                        }\n                        return {\n                            val: { type: TYPE.number, value: value, location: location_1, style: result.val },\n                            err: null,\n                        };\n                    }\n                    else {\n                        if (skeleton.length === 0) {\n                            return this.error(ErrorKind.EXPECT_DATE_TIME_SKELETON, location_1);\n                        }\n                        var style = {\n                            type: SKELETON_TYPE.dateTime,\n                            pattern: skeleton,\n                            location: styleAndLocation.styleLocation,\n                            parsedOptions: this.shouldParseSkeletons\n                                ? parseDateTimeSkeleton(skeleton)\n                                : {},\n                        };\n                        var type = argType === 'date' ? TYPE.date : TYPE.time;\n                        return {\n                            val: { type: type, value: value, location: location_1, style: style },\n                            err: null,\n                        };\n                    }\n                }\n                // Regular style or no style.\n                return {\n                    val: {\n                        type: argType === 'number'\n                            ? TYPE.number\n                            : argType === 'date'\n                                ? TYPE.date\n                                : TYPE.time,\n                        value: value,\n                        location: location_1,\n                        style: (_a = styleAndLocation === null || styleAndLocation === void 0 ? void 0 : styleAndLocation.style) !== null && _a !== void 0 ? _a : null,\n                    },\n                    err: null,\n                };\n            }\n            case 'plural':\n            case 'selectordinal':\n            case 'select': {\n                // Parse this range:\n                // {name, plural, options}\n                //              ^---------^\n                var typeEndPosition_1 = this.clonePosition();\n                this.bumpSpace();\n                if (!this.bumpIf(',')) {\n                    return this.error(ErrorKind.EXPECT_SELECT_ARGUMENT_OPTIONS, createLocation(typeEndPosition_1, __assign({}, typeEndPosition_1)));\n                }\n                this.bumpSpace();\n                // Parse offset:\n                // {name, plural, offset:1, options}\n                //                ^-----^\n                //\n                // or the first option:\n                //\n                // {name, plural, one {...} other {...}}\n                //                ^--^\n                var identifierAndLocation = this.parseIdentifierIfPossible();\n                var pluralOffset = 0;\n                if (argType !== 'select' && identifierAndLocation.value === 'offset') {\n                    if (!this.bumpIf(':')) {\n                        return this.error(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, createLocation(this.clonePosition(), this.clonePosition()));\n                    }\n                    this.bumpSpace();\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE, ErrorKind.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE);\n                    if (result.err) {\n                        return result;\n                    }\n                    // Parse another identifier for option parsing\n                    this.bumpSpace();\n                    identifierAndLocation = this.parseIdentifierIfPossible();\n                    pluralOffset = result.val;\n                }\n                var optionsResult = this.tryParsePluralOrSelectOptions(nestingLevel, argType, expectingCloseTag, identifierAndLocation);\n                if (optionsResult.err) {\n                    return optionsResult;\n                }\n                var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n                if (argCloseResult.err) {\n                    return argCloseResult;\n                }\n                var location_2 = createLocation(openingBracePosition, this.clonePosition());\n                if (argType === 'select') {\n                    return {\n                        val: {\n                            type: TYPE.select,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n                else {\n                    return {\n                        val: {\n                            type: TYPE.plural,\n                            value: value,\n                            options: fromEntries(optionsResult.val),\n                            offset: pluralOffset,\n                            pluralType: argType === 'plural' ? 'cardinal' : 'ordinal',\n                            location: location_2,\n                        },\n                        err: null,\n                    };\n                }\n            }\n            default:\n                return this.error(ErrorKind.INVALID_ARGUMENT_TYPE, createLocation(typeStartPosition, typeEndPosition));\n        }\n    };\n    Parser.prototype.tryParseArgumentClose = function (openingBracePosition) {\n        // Parse: {value, number, ::currency/GBP }\n        //\n        if (this.isEOF() || this.char() !== 125 /* `}` */) {\n            return this.error(ErrorKind.EXPECT_ARGUMENT_CLOSING_BRACE, createLocation(openingBracePosition, this.clonePosition()));\n        }\n        this.bump(); // `}`\n        return { val: true, err: null };\n    };\n    /**\n     * See: https://github.com/unicode-org/icu/blob/af7ed1f6d2298013dc303628438ec4abe1f16479/icu4c/source/common/messagepattern.cpp#L659\n     */\n    Parser.prototype.parseSimpleArgStyleIfPossible = function () {\n        var nestedBraces = 0;\n        var startPosition = this.clonePosition();\n        while (!this.isEOF()) {\n            var ch = this.char();\n            switch (ch) {\n                case 39 /* `'` */: {\n                    // Treat apostrophe as quoting but include it in the style part.\n                    // Find the end of the quoted literal text.\n                    this.bump();\n                    var apostrophePosition = this.clonePosition();\n                    if (!this.bumpUntil(\"'\")) {\n                        return this.error(ErrorKind.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE, createLocation(apostrophePosition, this.clonePosition()));\n                    }\n                    this.bump();\n                    break;\n                }\n                case 123 /* `{` */: {\n                    nestedBraces += 1;\n                    this.bump();\n                    break;\n                }\n                case 125 /* `}` */: {\n                    if (nestedBraces > 0) {\n                        nestedBraces -= 1;\n                    }\n                    else {\n                        return {\n                            val: this.message.slice(startPosition.offset, this.offset()),\n                            err: null,\n                        };\n                    }\n                    break;\n                }\n                default:\n                    this.bump();\n                    break;\n            }\n        }\n        return {\n            val: this.message.slice(startPosition.offset, this.offset()),\n            err: null,\n        };\n    };\n    Parser.prototype.parseNumberSkeletonFromString = function (skeleton, location) {\n        var tokens = [];\n        try {\n            tokens = parseNumberSkeletonFromString(skeleton);\n        }\n        catch (e) {\n            return this.error(ErrorKind.INVALID_NUMBER_SKELETON, location);\n        }\n        return {\n            val: {\n                type: SKELETON_TYPE.number,\n                tokens: tokens,\n                location: location,\n                parsedOptions: this.shouldParseSkeletons\n                    ? parseNumberSkeleton(tokens)\n                    : {},\n            },\n            err: null,\n        };\n    };\n    /**\n     * @param nesting_level The current nesting level of messages.\n     *     This can be positive when parsing message fragment in select or plural argument options.\n     * @param parent_arg_type The parent argument's type.\n     * @param parsed_first_identifier If provided, this is the first identifier-like selector of\n     *     the argument. It is a by-product of a previous parsing attempt.\n     * @param expecting_close_tag If true, this message is directly or indirectly nested inside\n     *     between a pair of opening and closing tags. The nested message will not parse beyond\n     *     the closing tag boundary.\n     */\n    Parser.prototype.tryParsePluralOrSelectOptions = function (nestingLevel, parentArgType, expectCloseTag, parsedFirstIdentifier) {\n        var _a;\n        var hasOtherClause = false;\n        var options = [];\n        var parsedSelectors = new Set();\n        var selector = parsedFirstIdentifier.value, selectorLocation = parsedFirstIdentifier.location;\n        // Parse:\n        // one {one apple}\n        // ^--^\n        while (true) {\n            if (selector.length === 0) {\n                var startPosition = this.clonePosition();\n                if (parentArgType !== 'select' && this.bumpIf('=')) {\n                    // Try parse `={number}` selector\n                    var result = this.tryParseDecimalInteger(ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, ErrorKind.INVALID_PLURAL_ARGUMENT_SELECTOR);\n                    if (result.err) {\n                        return result;\n                    }\n                    selectorLocation = createLocation(startPosition, this.clonePosition());\n                    selector = this.message.slice(startPosition.offset, this.offset());\n                }\n                else {\n                    break;\n                }\n            }\n            // Duplicate selector clauses\n            if (parsedSelectors.has(selector)) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.DUPLICATE_SELECT_ARGUMENT_SELECTOR\n                    : ErrorKind.DUPLICATE_PLURAL_ARGUMENT_SELECTOR, selectorLocation);\n            }\n            if (selector === 'other') {\n                hasOtherClause = true;\n            }\n            // Parse:\n            // one {one apple}\n            //     ^----------^\n            this.bumpSpace();\n            var openingBracePosition = this.clonePosition();\n            if (!this.bumpIf('{')) {\n                return this.error(parentArgType === 'select'\n                    ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT\n                    : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT, createLocation(this.clonePosition(), this.clonePosition()));\n            }\n            var fragmentResult = this.parseMessage(nestingLevel + 1, parentArgType, expectCloseTag);\n            if (fragmentResult.err) {\n                return fragmentResult;\n            }\n            var argCloseResult = this.tryParseArgumentClose(openingBracePosition);\n            if (argCloseResult.err) {\n                return argCloseResult;\n            }\n            options.push([\n                selector,\n                {\n                    value: fragmentResult.val,\n                    location: createLocation(openingBracePosition, this.clonePosition()),\n                },\n            ]);\n            // Keep track of the existing selectors\n            parsedSelectors.add(selector);\n            // Prep next selector clause.\n            this.bumpSpace();\n            (_a = this.parseIdentifierIfPossible(), selector = _a.value, selectorLocation = _a.location);\n        }\n        if (options.length === 0) {\n            return this.error(parentArgType === 'select'\n                ? ErrorKind.EXPECT_SELECT_ARGUMENT_SELECTOR\n                : ErrorKind.EXPECT_PLURAL_ARGUMENT_SELECTOR, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        if (this.requiresOtherClause && !hasOtherClause) {\n            return this.error(ErrorKind.MISSING_OTHER_CLAUSE, createLocation(this.clonePosition(), this.clonePosition()));\n        }\n        return { val: options, err: null };\n    };\n    Parser.prototype.tryParseDecimalInteger = function (expectNumberError, invalidNumberError) {\n        var sign = 1;\n        var startingPosition = this.clonePosition();\n        if (this.bumpIf('+')) {\n        }\n        else if (this.bumpIf('-')) {\n            sign = -1;\n        }\n        var hasDigits = false;\n        var decimal = 0;\n        while (!this.isEOF()) {\n            var ch = this.char();\n            if (ch >= 48 /* `0` */ && ch <= 57 /* `9` */) {\n                hasDigits = true;\n                decimal = decimal * 10 + (ch - 48);\n                this.bump();\n            }\n            else {\n                break;\n            }\n        }\n        var location = createLocation(startingPosition, this.clonePosition());\n        if (!hasDigits) {\n            return this.error(expectNumberError, location);\n        }\n        decimal *= sign;\n        if (!isSafeInteger(decimal)) {\n            return this.error(invalidNumberError, location);\n        }\n        return { val: decimal, err: null };\n    };\n    Parser.prototype.offset = function () {\n        return this.position.offset;\n    };\n    Parser.prototype.isEOF = function () {\n        return this.offset() === this.message.length;\n    };\n    Parser.prototype.clonePosition = function () {\n        // This is much faster than `Object.assign` or spread.\n        return {\n            offset: this.position.offset,\n            line: this.position.line,\n            column: this.position.column,\n        };\n    };\n    /**\n     * Return the code point at the current position of the parser.\n     * Throws if the index is out of bound.\n     */\n    Parser.prototype.char = function () {\n        var offset = this.position.offset;\n        if (offset >= this.message.length) {\n            throw Error('out of bound');\n        }\n        var code = codePointAt(this.message, offset);\n        if (code === undefined) {\n            throw Error(\"Offset \".concat(offset, \" is at invalid UTF-16 code unit boundary\"));\n        }\n        return code;\n    };\n    Parser.prototype.error = function (kind, location) {\n        return {\n            val: null,\n            err: {\n                kind: kind,\n                message: this.message,\n                location: location,\n            },\n        };\n    };\n    /** Bump the parser to the next UTF-16 code unit. */\n    Parser.prototype.bump = function () {\n        if (this.isEOF()) {\n            return;\n        }\n        var code = this.char();\n        if (code === 10 /* '\\n' */) {\n            this.position.line += 1;\n            this.position.column = 1;\n            this.position.offset += 1;\n        }\n        else {\n            this.position.column += 1;\n            // 0 ~ 0x10000 -> unicode BMP, otherwise skip the surrogate pair.\n            this.position.offset += code < 0x10000 ? 1 : 2;\n        }\n    };\n    /**\n     * If the substring starting at the current position of the parser has\n     * the given prefix, then bump the parser to the character immediately\n     * following the prefix and return true. Otherwise, don't bump the parser\n     * and return false.\n     */\n    Parser.prototype.bumpIf = function (prefix) {\n        if (startsWith(this.message, prefix, this.offset())) {\n            for (var i = 0; i < prefix.length; i++) {\n                this.bump();\n            }\n            return true;\n        }\n        return false;\n    };\n    /**\n     * Bump the parser until the pattern character is found and return `true`.\n     * Otherwise bump to the end of the file and return `false`.\n     */\n    Parser.prototype.bumpUntil = function (pattern) {\n        var currentOffset = this.offset();\n        var index = this.message.indexOf(pattern, currentOffset);\n        if (index >= 0) {\n            this.bumpTo(index);\n            return true;\n        }\n        else {\n            this.bumpTo(this.message.length);\n            return false;\n        }\n    };\n    /**\n     * Bump the parser to the target offset.\n     * If target offset is beyond the end of the input, bump the parser to the end of the input.\n     */\n    Parser.prototype.bumpTo = function (targetOffset) {\n        if (this.offset() > targetOffset) {\n            throw Error(\"targetOffset \".concat(targetOffset, \" must be greater than or equal to the current offset \").concat(this.offset()));\n        }\n        targetOffset = Math.min(targetOffset, this.message.length);\n        while (true) {\n            var offset = this.offset();\n            if (offset === targetOffset) {\n                break;\n            }\n            if (offset > targetOffset) {\n                throw Error(\"targetOffset \".concat(targetOffset, \" is at invalid UTF-16 code unit boundary\"));\n            }\n            this.bump();\n            if (this.isEOF()) {\n                break;\n            }\n        }\n    };\n    /** advance the parser through all whitespace to the next non-whitespace code unit. */\n    Parser.prototype.bumpSpace = function () {\n        while (!this.isEOF() && _isWhiteSpace(this.char())) {\n            this.bump();\n        }\n    };\n    /**\n     * Peek at the *next* Unicode codepoint in the input without advancing the parser.\n     * If the input has been exhausted, then this returns null.\n     */\n    Parser.prototype.peek = function () {\n        if (this.isEOF()) {\n            return null;\n        }\n        var code = this.char();\n        var offset = this.offset();\n        var nextCode = this.message.charCodeAt(offset + (code >= 0x10000 ? 2 : 1));\n        return nextCode !== null && nextCode !== void 0 ? nextCode : null;\n    };\n    return Parser;\n}());\nexport { Parser };\n/**\n * This check if codepoint is alphabet (lower & uppercase)\n * @param codepoint\n * @returns\n */\nfunction _isAlpha(codepoint) {\n    return ((codepoint >= 97 && codepoint <= 122) ||\n        (codepoint >= 65 && codepoint <= 90));\n}\nfunction _isAlphaOrSlash(codepoint) {\n    return _isAlpha(codepoint) || codepoint === 47; /* '/' */\n}\n/** See `parseTag` function docs. */\nfunction _isPotentialElementNameChar(c) {\n    return (c === 45 /* '-' */ ||\n        c === 46 /* '.' */ ||\n        (c >= 48 && c <= 57) /* 0..9 */ ||\n        c === 95 /* '_' */ ||\n        (c >= 97 && c <= 122) /** a..z */ ||\n        (c >= 65 && c <= 90) /* A..Z */ ||\n        c == 0xb7 ||\n        (c >= 0xc0 && c <= 0xd6) ||\n        (c >= 0xd8 && c <= 0xf6) ||\n        (c >= 0xf8 && c <= 0x37d) ||\n        (c >= 0x37f && c <= 0x1fff) ||\n        (c >= 0x200c && c <= 0x200d) ||\n        (c >= 0x203f && c <= 0x2040) ||\n        (c >= 0x2070 && c <= 0x218f) ||\n        (c >= 0x2c00 && c <= 0x2fef) ||\n        (c >= 0x3001 && c <= 0xd7ff) ||\n        (c >= 0xf900 && c <= 0xfdcf) ||\n        (c >= 0xfdf0 && c <= 0xfffd) ||\n        (c >= 0x10000 && c <= 0xeffff));\n}\n/**\n * Code point equivalent of regex `\\p{White_Space}`.\n * From: https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isWhiteSpace(c) {\n    return ((c >= 0x0009 && c <= 0x000d) ||\n        c === 0x0020 ||\n        c === 0x0085 ||\n        (c >= 0x200e && c <= 0x200f) ||\n        c === 0x2028 ||\n        c === 0x2029);\n}\n/**\n * Code point equivalent of regex `\\p{Pattern_Syntax}`.\n * See https://www.unicode.org/Public/UCD/latest/ucd/PropList.txt\n */\nfunction _isPatternSyntax(c) {\n    return ((c >= 0x0021 && c <= 0x0023) ||\n        c === 0x0024 ||\n        (c >= 0x0025 && c <= 0x0027) ||\n        c === 0x0028 ||\n        c === 0x0029 ||\n        c === 0x002a ||\n        c === 0x002b ||\n        c === 0x002c ||\n        c === 0x002d ||\n        (c >= 0x002e && c <= 0x002f) ||\n        (c >= 0x003a && c <= 0x003b) ||\n        (c >= 0x003c && c <= 0x003e) ||\n        (c >= 0x003f && c <= 0x0040) ||\n        c === 0x005b ||\n        c === 0x005c ||\n        c === 0x005d ||\n        c === 0x005e ||\n        c === 0x0060 ||\n        c === 0x007b ||\n        c === 0x007c ||\n        c === 0x007d ||\n        c === 0x007e ||\n        c === 0x00a1 ||\n        (c >= 0x00a2 && c <= 0x00a5) ||\n        c === 0x00a6 ||\n        c === 0x00a7 ||\n        c === 0x00a9 ||\n        c === 0x00ab ||\n        c === 0x00ac ||\n        c === 0x00ae ||\n        c === 0x00b0 ||\n        c === 0x00b1 ||\n        c === 0x00b6 ||\n        c === 0x00bb ||\n        c === 0x00bf ||\n        c === 0x00d7 ||\n        c === 0x00f7 ||\n        (c >= 0x2010 && c <= 0x2015) ||\n        (c >= 0x2016 && c <= 0x2017) ||\n        c === 0x2018 ||\n        c === 0x2019 ||\n        c === 0x201a ||\n        (c >= 0x201b && c <= 0x201c) ||\n        c === 0x201d ||\n        c === 0x201e ||\n        c === 0x201f ||\n        (c >= 0x2020 && c <= 0x2027) ||\n        (c >= 0x2030 && c <= 0x2038) ||\n        c === 0x2039 ||\n        c === 0x203a ||\n        (c >= 0x203b && c <= 0x203e) ||\n        (c >= 0x2041 && c <= 0x2043) ||\n        c === 0x2044 ||\n        c === 0x2045 ||\n        c === 0x2046 ||\n        (c >= 0x2047 && c <= 0x2051) ||\n        c === 0x2052 ||\n        c === 0x2053 ||\n        (c >= 0x2055 && c <= 0x205e) ||\n        (c >= 0x2190 && c <= 0x2194) ||\n        (c >= 0x2195 && c <= 0x2199) ||\n        (c >= 0x219a && c <= 0x219b) ||\n        (c >= 0x219c && c <= 0x219f) ||\n        c === 0x21a0 ||\n        (c >= 0x21a1 && c <= 0x21a2) ||\n        c === 0x21a3 ||\n        (c >= 0x21a4 && c <= 0x21a5) ||\n        c === 0x21a6 ||\n        (c >= 0x21a7 && c <= 0x21ad) ||\n        c === 0x21ae ||\n        (c >= 0x21af && c <= 0x21cd) ||\n        (c >= 0x21ce && c <= 0x21cf) ||\n        (c >= 0x21d0 && c <= 0x21d1) ||\n        c === 0x21d2 ||\n        c === 0x21d3 ||\n        c === 0x21d4 ||\n        (c >= 0x21d5 && c <= 0x21f3) ||\n        (c >= 0x21f4 && c <= 0x22ff) ||\n        (c >= 0x2300 && c <= 0x2307) ||\n        c === 0x2308 ||\n        c === 0x2309 ||\n        c === 0x230a ||\n        c === 0x230b ||\n        (c >= 0x230c && c <= 0x231f) ||\n        (c >= 0x2320 && c <= 0x2321) ||\n        (c >= 0x2322 && c <= 0x2328) ||\n        c === 0x2329 ||\n        c === 0x232a ||\n        (c >= 0x232b && c <= 0x237b) ||\n        c === 0x237c ||\n        (c >= 0x237d && c <= 0x239a) ||\n        (c >= 0x239b && c <= 0x23b3) ||\n        (c >= 0x23b4 && c <= 0x23db) ||\n        (c >= 0x23dc && c <= 0x23e1) ||\n        (c >= 0x23e2 && c <= 0x2426) ||\n        (c >= 0x2427 && c <= 0x243f) ||\n        (c >= 0x2440 && c <= 0x244a) ||\n        (c >= 0x244b && c <= 0x245f) ||\n        (c >= 0x2500 && c <= 0x25b6) ||\n        c === 0x25b7 ||\n        (c >= 0x25b8 && c <= 0x25c0) ||\n        c === 0x25c1 ||\n        (c >= 0x25c2 && c <= 0x25f7) ||\n        (c >= 0x25f8 && c <= 0x25ff) ||\n        (c >= 0x2600 && c <= 0x266e) ||\n        c === 0x266f ||\n        (c >= 0x2670 && c <= 0x2767) ||\n        c === 0x2768 ||\n        c === 0x2769 ||\n        c === 0x276a ||\n        c === 0x276b ||\n        c === 0x276c ||\n        c === 0x276d ||\n        c === 0x276e ||\n        c === 0x276f ||\n        c === 0x2770 ||\n        c === 0x2771 ||\n        c === 0x2772 ||\n        c === 0x2773 ||\n        c === 0x2774 ||\n        c === 0x2775 ||\n        (c >= 0x2794 && c <= 0x27bf) ||\n        (c >= 0x27c0 && c <= 0x27c4) ||\n        c === 0x27c5 ||\n        c === 0x27c6 ||\n        (c >= 0x27c7 && c <= 0x27e5) ||\n        c === 0x27e6 ||\n        c === 0x27e7 ||\n        c === 0x27e8 ||\n        c === 0x27e9 ||\n        c === 0x27ea ||\n        c === 0x27eb ||\n        c === 0x27ec ||\n        c === 0x27ed ||\n        c === 0x27ee ||\n        c === 0x27ef ||\n        (c >= 0x27f0 && c <= 0x27ff) ||\n        (c >= 0x2800 && c <= 0x28ff) ||\n        (c >= 0x2900 && c <= 0x2982) ||\n        c === 0x2983 ||\n        c === 0x2984 ||\n        c === 0x2985 ||\n        c === 0x2986 ||\n        c === 0x2987 ||\n        c === 0x2988 ||\n        c === 0x2989 ||\n        c === 0x298a ||\n        c === 0x298b ||\n        c === 0x298c ||\n        c === 0x298d ||\n        c === 0x298e ||\n        c === 0x298f ||\n        c === 0x2990 ||\n        c === 0x2991 ||\n        c === 0x2992 ||\n        c === 0x2993 ||\n        c === 0x2994 ||\n        c === 0x2995 ||\n        c === 0x2996 ||\n        c === 0x2997 ||\n        c === 0x2998 ||\n        (c >= 0x2999 && c <= 0x29d7) ||\n        c === 0x29d8 ||\n        c === 0x29d9 ||\n        c === 0x29da ||\n        c === 0x29db ||\n        (c >= 0x29dc && c <= 0x29fb) ||\n        c === 0x29fc ||\n        c === 0x29fd ||\n        (c >= 0x29fe && c <= 0x2aff) ||\n        (c >= 0x2b00 && c <= 0x2b2f) ||\n        (c >= 0x2b30 && c <= 0x2b44) ||\n        (c >= 0x2b45 && c <= 0x2b46) ||\n        (c >= 0x2b47 && c <= 0x2b4c) ||\n        (c >= 0x2b4d && c <= 0x2b73) ||\n        (c >= 0x2b74 && c <= 0x2b75) ||\n        (c >= 0x2b76 && c <= 0x2b95) ||\n        c === 0x2b96 ||\n        (c >= 0x2b97 && c <= 0x2bff) ||\n        (c >= 0x2e00 && c <= 0x2e01) ||\n        c === 0x2e02 ||\n        c === 0x2e03 ||\n        c === 0x2e04 ||\n        c === 0x2e05 ||\n        (c >= 0x2e06 && c <= 0x2e08) ||\n        c === 0x2e09 ||\n        c === 0x2e0a ||\n        c === 0x2e0b ||\n        c === 0x2e0c ||\n        c === 0x2e0d ||\n        (c >= 0x2e0e && c <= 0x2e16) ||\n        c === 0x2e17 ||\n        (c >= 0x2e18 && c <= 0x2e19) ||\n        c === 0x2e1a ||\n        c === 0x2e1b ||\n        c === 0x2e1c ||\n        c === 0x2e1d ||\n        (c >= 0x2e1e && c <= 0x2e1f) ||\n        c === 0x2e20 ||\n        c === 0x2e21 ||\n        c === 0x2e22 ||\n        c === 0x2e23 ||\n        c === 0x2e24 ||\n        c === 0x2e25 ||\n        c === 0x2e26 ||\n        c === 0x2e27 ||\n        c === 0x2e28 ||\n        c === 0x2e29 ||\n        (c >= 0x2e2a && c <= 0x2e2e) ||\n        c === 0x2e2f ||\n        (c >= 0x2e30 && c <= 0x2e39) ||\n        (c >= 0x2e3a && c <= 0x2e3b) ||\n        (c >= 0x2e3c && c <= 0x2e3f) ||\n        c === 0x2e40 ||\n        c === 0x2e41 ||\n        c === 0x2e42 ||\n        (c >= 0x2e43 && c <= 0x2e4f) ||\n        (c >= 0x2e50 && c <= 0x2e51) ||\n        c === 0x2e52 ||\n        (c >= 0x2e53 && c <= 0x2e7f) ||\n        (c >= 0x3001 && c <= 0x3003) ||\n        c === 0x3008 ||\n        c === 0x3009 ||\n        c === 0x300a ||\n        c === 0x300b ||\n        c === 0x300c ||\n        c === 0x300d ||\n        c === 0x300e ||\n        c === 0x300f ||\n        c === 0x3010 ||\n        c === 0x3011 ||\n        (c >= 0x3012 && c <= 0x3013) ||\n        c === 0x3014 ||\n        c === 0x3015 ||\n        c === 0x3016 ||\n        c === 0x3017 ||\n        c === 0x3018 ||\n        c === 0x3019 ||\n        c === 0x301a ||\n        c === 0x301b ||\n        c === 0x301c ||\n        c === 0x301d ||\n        (c >= 0x301e && c <= 0x301f) ||\n        c === 0x3020 ||\n        c === 0x3030 ||\n        c === 0xfd3e ||\n        c === 0xfd3f ||\n        (c >= 0xfe45 && c <= 0xfe46));\n}\n","import { __assign } from \"tslib\";\nimport { ErrorKind } from './error';\nimport { Parser } from './parser';\nimport { isDateElement, isDateTimeSkeleton, isNumberElement, isNumberSkeleton, isPluralElement, isSelectElement, isTagElement, isTimeElement, } from './types';\nfunction pruneLocation(els) {\n    els.forEach(function (el) {\n        delete el.location;\n        if (isSelectElement(el) || isPluralElement(el)) {\n            for (var k in el.options) {\n                delete el.options[k].location;\n                pruneLocation(el.options[k].value);\n            }\n        }\n        else if (isNumberElement(el) && isNumberSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if ((isDateElement(el) || isTimeElement(el)) &&\n            isDateTimeSkeleton(el.style)) {\n            delete el.style.location;\n        }\n        else if (isTagElement(el)) {\n            pruneLocation(el.children);\n        }\n    });\n}\nexport function parse(message, opts) {\n    if (opts === void 0) { opts = {}; }\n    opts = __assign({ shouldParseSkeletons: true, requiresOtherClause: true }, opts);\n    var result = new Parser(message, opts).parse();\n    if (result.err) {\n        var error = SyntaxError(ErrorKind[result.err.kind]);\n        // @ts-expect-error Assign to error object\n        error.location = result.err.location;\n        // @ts-expect-error Assign to error object\n        error.originalMessage = result.err.message;\n        throw error;\n    }\n    if (!(opts === null || opts === void 0 ? void 0 : opts.captureLocation)) {\n        pruneLocation(result.val);\n    }\n    return result.val;\n}\nexport * from './types';\n","//\n// Main\n//\nexport default function memoize(fn, options) {\n    var cache = options && options.cache ? options.cache : cacheDefault;\n    var serializer = options && options.serializer ? options.serializer : serializerDefault;\n    var strategy = options && options.strategy ? options.strategy : strategyDefault;\n    return strategy(fn, {\n        cache: cache,\n        serializer: serializer,\n    });\n}\n//\n// Strategy\n//\nfunction isPrimitive(value) {\n    return (value == null || typeof value === 'number' || typeof value === 'boolean'); // || typeof value === \"string\" 'unsafe' primitive for our needs\n}\nfunction monadic(fn, cache, serializer, arg) {\n    var cacheKey = isPrimitive(arg) ? arg : serializer(arg);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.call(this, arg);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction variadic(fn, cache, serializer) {\n    var args = Array.prototype.slice.call(arguments, 3);\n    var cacheKey = serializer(args);\n    var computedValue = cache.get(cacheKey);\n    if (typeof computedValue === 'undefined') {\n        computedValue = fn.apply(this, args);\n        cache.set(cacheKey, computedValue);\n    }\n    return computedValue;\n}\nfunction assemble(fn, context, strategy, cache, serialize) {\n    return strategy.bind(context, fn, cache, serialize);\n}\nfunction strategyDefault(fn, options) {\n    var strategy = fn.length === 1 ? monadic : variadic;\n    return assemble(fn, this, strategy, options.cache.create(), options.serializer);\n}\nfunction strategyVariadic(fn, options) {\n    return assemble(fn, this, variadic, options.cache.create(), options.serializer);\n}\nfunction strategyMonadic(fn, options) {\n    return assemble(fn, this, monadic, options.cache.create(), options.serializer);\n}\n//\n// Serializer\n//\nvar serializerDefault = function () {\n    return JSON.stringify(arguments);\n};\n//\n// Cache\n//\nfunction ObjectWithoutPrototypeCache() {\n    this.cache = Object.create(null);\n}\nObjectWithoutPrototypeCache.prototype.get = function (key) {\n    return this.cache[key];\n};\nObjectWithoutPrototypeCache.prototype.set = function (key, value) {\n    this.cache[key] = value;\n};\nvar cacheDefault = {\n    create: function create() {\n        // @ts-ignore\n        return new ObjectWithoutPrototypeCache();\n    },\n};\nexport var strategies = {\n    variadic: strategyVariadic,\n    monadic: strategyMonadic,\n};\n","import { __extends } from \"tslib\";\nexport var ErrorCode;\n(function (ErrorCode) {\n    // When we have a placeholder but no value to format\n    ErrorCode[\"MISSING_VALUE\"] = \"MISSING_VALUE\";\n    // When value supplied is invalid\n    ErrorCode[\"INVALID_VALUE\"] = \"INVALID_VALUE\";\n    // When we need specific Intl API but it's not available\n    ErrorCode[\"MISSING_INTL_API\"] = \"MISSING_INTL_API\";\n})(ErrorCode || (ErrorCode = {}));\nvar FormatError = /** @class */ (function (_super) {\n    __extends(FormatError, _super);\n    function FormatError(msg, code, originalMessage) {\n        var _this = _super.call(this, msg) || this;\n        _this.code = code;\n        _this.originalMessage = originalMessage;\n        return _this;\n    }\n    FormatError.prototype.toString = function () {\n        return \"[formatjs Error: \".concat(this.code, \"] \").concat(this.message);\n    };\n    return FormatError;\n}(Error));\nexport { FormatError };\nvar InvalidValueError = /** @class */ (function (_super) {\n    __extends(InvalidValueError, _super);\n    function InvalidValueError(variableId, value, options, originalMessage) {\n        return _super.call(this, \"Invalid values for \\\"\".concat(variableId, \"\\\": \\\"\").concat(value, \"\\\". Options are \\\"\").concat(Object.keys(options).join('\", \"'), \"\\\"\"), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueError;\n}(FormatError));\nexport { InvalidValueError };\nvar InvalidValueTypeError = /** @class */ (function (_super) {\n    __extends(InvalidValueTypeError, _super);\n    function InvalidValueTypeError(value, type, originalMessage) {\n        return _super.call(this, \"Value for \\\"\".concat(value, \"\\\" must be of type \").concat(type), ErrorCode.INVALID_VALUE, originalMessage) || this;\n    }\n    return InvalidValueTypeError;\n}(FormatError));\nexport { InvalidValueTypeError };\nvar MissingValueError = /** @class */ (function (_super) {\n    __extends(MissingValueError, _super);\n    function MissingValueError(variableId, originalMessage) {\n        return _super.call(this, \"The intl string context variable \\\"\".concat(variableId, \"\\\" was not provided to the string \\\"\").concat(originalMessage, \"\\\"\"), ErrorCode.MISSING_VALUE, originalMessage) || this;\n    }\n    return MissingValueError;\n}(FormatError));\nexport { MissingValueError };\n","import { isArgumentElement, isDateElement, isDateTimeSkeleton, isLiteralElement, isNumberElement, isNumberSkeleton, isPluralElement, isPoundElement, isSelectElement, isTimeElement, isTagElement, } from '@formatjs/icu-messageformat-parser';\nimport { MissingValueError, InvalidValueError, ErrorCode, FormatError, InvalidValueTypeError, } from './error';\nexport var PART_TYPE;\n(function (PART_TYPE) {\n    PART_TYPE[PART_TYPE[\"literal\"] = 0] = \"literal\";\n    PART_TYPE[PART_TYPE[\"object\"] = 1] = \"object\";\n})(PART_TYPE || (PART_TYPE = {}));\nfunction mergeLiteral(parts) {\n    if (parts.length < 2) {\n        return parts;\n    }\n    return parts.reduce(function (all, part) {\n        var lastPart = all[all.length - 1];\n        if (!lastPart ||\n            lastPart.type !== PART_TYPE.literal ||\n            part.type !== PART_TYPE.literal) {\n            all.push(part);\n        }\n        else {\n            lastPart.value += part.value;\n        }\n        return all;\n    }, []);\n}\nexport function isFormatXMLElementFn(el) {\n    return typeof el === 'function';\n}\n// TODO(skeleton): add skeleton support\nexport function formatToParts(els, locales, formatters, formats, values, currentPluralValue, \n// For debugging\noriginalMessage) {\n    // Hot path for straight simple msg translations\n    if (els.length === 1 && isLiteralElement(els[0])) {\n        return [\n            {\n                type: PART_TYPE.literal,\n                value: els[0].value,\n            },\n        ];\n    }\n    var result = [];\n    for (var _i = 0, els_1 = els; _i < els_1.length; _i++) {\n        var el = els_1[_i];\n        // Exit early for string parts.\n        if (isLiteralElement(el)) {\n            result.push({\n                type: PART_TYPE.literal,\n                value: el.value,\n            });\n            continue;\n        }\n        // TODO: should this part be literal type?\n        // Replace `#` in plural rules with the actual numeric value.\n        if (isPoundElement(el)) {\n            if (typeof currentPluralValue === 'number') {\n                result.push({\n                    type: PART_TYPE.literal,\n                    value: formatters.getNumberFormat(locales).format(currentPluralValue),\n                });\n            }\n            continue;\n        }\n        var varName = el.value;\n        // Enforce that all required values are provided by the caller.\n        if (!(values && varName in values)) {\n            throw new MissingValueError(varName, originalMessage);\n        }\n        var value = values[varName];\n        if (isArgumentElement(el)) {\n            if (!value || typeof value === 'string' || typeof value === 'number') {\n                value =\n                    typeof value === 'string' || typeof value === 'number'\n                        ? String(value)\n                        : '';\n            }\n            result.push({\n                type: typeof value === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                value: value,\n            });\n            continue;\n        }\n        // Recursively format plural and select parts' option — which can be a\n        // nested pattern structure. The choosing of the option to use is\n        // abstracted-by and delegated-to the part helper object.\n        if (isDateElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.date[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTimeElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.time[el.style]\n                : isDateTimeSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getDateTimeFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isNumberElement(el)) {\n            var style = typeof el.style === 'string'\n                ? formats.number[el.style]\n                : isNumberSkeleton(el.style)\n                    ? el.style.parsedOptions\n                    : undefined;\n            if (style && style.scale) {\n                value =\n                    value *\n                        (style.scale || 1);\n            }\n            result.push({\n                type: PART_TYPE.literal,\n                value: formatters\n                    .getNumberFormat(locales, style)\n                    .format(value),\n            });\n            continue;\n        }\n        if (isTagElement(el)) {\n            var children = el.children, value_1 = el.value;\n            var formatFn = values[value_1];\n            if (!isFormatXMLElementFn(formatFn)) {\n                throw new InvalidValueTypeError(value_1, 'function', originalMessage);\n            }\n            var parts = formatToParts(children, locales, formatters, formats, values, currentPluralValue);\n            var chunks = formatFn(parts.map(function (p) { return p.value; }));\n            if (!Array.isArray(chunks)) {\n                chunks = [chunks];\n            }\n            result.push.apply(result, chunks.map(function (c) {\n                return {\n                    type: typeof c === 'string' ? PART_TYPE.literal : PART_TYPE.object,\n                    value: c,\n                };\n            }));\n        }\n        if (isSelectElement(el)) {\n            var opt = el.options[value] || el.options.other;\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values));\n            continue;\n        }\n        if (isPluralElement(el)) {\n            var opt = el.options[\"=\".concat(value)];\n            if (!opt) {\n                if (!Intl.PluralRules) {\n                    throw new FormatError(\"Intl.PluralRules is not available in this environment.\\nTry polyfilling it using \\\"@formatjs/intl-pluralrules\\\"\\n\", ErrorCode.MISSING_INTL_API, originalMessage);\n                }\n                var rule = formatters\n                    .getPluralRules(locales, { type: el.pluralType })\n                    .select(value - (el.offset || 0));\n                opt = el.options[rule] || el.options.other;\n            }\n            if (!opt) {\n                throw new InvalidValueError(el.value, value, Object.keys(el.options), originalMessage);\n            }\n            result.push.apply(result, formatToParts(opt.value, locales, formatters, formats, values, value - (el.offset || 0)));\n            continue;\n        }\n    }\n    return mergeLiteral(result);\n}\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { __assign, __spreadArray } from \"tslib\";\nimport { parse } from '@formatjs/icu-messageformat-parser';\nimport memoize, { strategies } from '@formatjs/fast-memoize';\nimport { formatToParts, PART_TYPE, } from './formatters';\n// -- MessageFormat --------------------------------------------------------\nfunction mergeConfig(c1, c2) {\n    if (!c2) {\n        return c1;\n    }\n    return __assign(__assign(__assign({}, (c1 || {})), (c2 || {})), Object.keys(c1).reduce(function (all, k) {\n        all[k] = __assign(__assign({}, c1[k]), (c2[k] || {}));\n        return all;\n    }, {}));\n}\nfunction mergeConfigs(defaultConfig, configs) {\n    if (!configs) {\n        return defaultConfig;\n    }\n    return Object.keys(defaultConfig).reduce(function (all, k) {\n        all[k] = mergeConfig(defaultConfig[k], configs[k]);\n        return all;\n    }, __assign({}, defaultConfig));\n}\nfunction createFastMemoizeCache(store) {\n    return {\n        create: function () {\n            return {\n                get: function (key) {\n                    return store[key];\n                },\n                set: function (key, value) {\n                    store[key] = value;\n                },\n            };\n        },\n    };\n}\nfunction createDefaultFormatters(cache) {\n    if (cache === void 0) { cache = {\n        number: {},\n        dateTime: {},\n        pluralRules: {},\n    }; }\n    return {\n        getNumberFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.NumberFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.number),\n            strategy: strategies.variadic,\n        }),\n        getDateTimeFormat: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.DateTimeFormat).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.dateTime),\n            strategy: strategies.variadic,\n        }),\n        getPluralRules: memoize(function () {\n            var _a;\n            var args = [];\n            for (var _i = 0; _i < arguments.length; _i++) {\n                args[_i] = arguments[_i];\n            }\n            return new ((_a = Intl.PluralRules).bind.apply(_a, __spreadArray([void 0], args, false)))();\n        }, {\n            cache: createFastMemoizeCache(cache.pluralRules),\n            strategy: strategies.variadic,\n        }),\n    };\n}\nvar IntlMessageFormat = /** @class */ (function () {\n    function IntlMessageFormat(message, locales, overrideFormats, opts) {\n        var _this = this;\n        if (locales === void 0) { locales = IntlMessageFormat.defaultLocale; }\n        this.formatterCache = {\n            number: {},\n            dateTime: {},\n            pluralRules: {},\n        };\n        this.format = function (values) {\n            var parts = _this.formatToParts(values);\n            // Hot path for straight simple msg translations\n            if (parts.length === 1) {\n                return parts[0].value;\n            }\n            var result = parts.reduce(function (all, part) {\n                if (!all.length ||\n                    part.type !== PART_TYPE.literal ||\n                    typeof all[all.length - 1] !== 'string') {\n                    all.push(part.value);\n                }\n                else {\n                    all[all.length - 1] += part.value;\n                }\n                return all;\n            }, []);\n            if (result.length <= 1) {\n                return result[0] || '';\n            }\n            return result;\n        };\n        this.formatToParts = function (values) {\n            return formatToParts(_this.ast, _this.locales, _this.formatters, _this.formats, values, undefined, _this.message);\n        };\n        this.resolvedOptions = function () { return ({\n            locale: Intl.NumberFormat.supportedLocalesOf(_this.locales)[0],\n        }); };\n        this.getAst = function () { return _this.ast; };\n        if (typeof message === 'string') {\n            this.message = message;\n            if (!IntlMessageFormat.__parse) {\n                throw new TypeError('IntlMessageFormat.__parse must be set to process `message` of type `string`');\n            }\n            // Parse string messages into an AST.\n            this.ast = IntlMessageFormat.__parse(message, {\n                ignoreTag: opts === null || opts === void 0 ? void 0 : opts.ignoreTag,\n            });\n        }\n        else {\n            this.ast = message;\n        }\n        if (!Array.isArray(this.ast)) {\n            throw new TypeError('A message must be provided as a String or AST.');\n        }\n        // Creates a new object with the specified `formats` merged with the default\n        // formats.\n        this.formats = mergeConfigs(IntlMessageFormat.formats, overrideFormats);\n        // Defined first because it's used to build the format pattern.\n        this.locales = locales;\n        this.formatters =\n            (opts && opts.formatters) || createDefaultFormatters(this.formatterCache);\n    }\n    Object.defineProperty(IntlMessageFormat, \"defaultLocale\", {\n        get: function () {\n            if (!IntlMessageFormat.memoizedDefaultLocale) {\n                IntlMessageFormat.memoizedDefaultLocale =\n                    new Intl.NumberFormat().resolvedOptions().locale;\n            }\n            return IntlMessageFormat.memoizedDefaultLocale;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    IntlMessageFormat.memoizedDefaultLocale = null;\n    IntlMessageFormat.__parse = parse;\n    // Default format options used as the prototype of the `formats` provided to the\n    // constructor. These are used when constructing the internal Intl.NumberFormat\n    // and Intl.DateTimeFormat instances.\n    IntlMessageFormat.formats = {\n        number: {\n            integer: {\n                maximumFractionDigits: 0,\n            },\n            currency: {\n                style: 'currency',\n            },\n            percent: {\n                style: 'percent',\n            },\n        },\n        date: {\n            short: {\n                month: 'numeric',\n                day: 'numeric',\n                year: '2-digit',\n            },\n            medium: {\n                month: 'short',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            long: {\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n            full: {\n                weekday: 'long',\n                month: 'long',\n                day: 'numeric',\n                year: 'numeric',\n            },\n        },\n        time: {\n            short: {\n                hour: 'numeric',\n                minute: 'numeric',\n            },\n            medium: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n            },\n            long: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n            full: {\n                hour: 'numeric',\n                minute: 'numeric',\n                second: 'numeric',\n                timeZoneName: 'short',\n            },\n        },\n    };\n    return IntlMessageFormat;\n}());\nexport { IntlMessageFormat };\n","/*\nCopyright (c) 2014, Yahoo! Inc. All rights reserved.\nCopyrights licensed under the New BSD License.\nSee the accompanying LICENSE file for terms.\n*/\nimport { IntlMessageFormat } from './src/core';\nexport * from './src/formatters';\nexport * from './src/core';\nexport * from './src/error';\nexport default IntlMessageFormat;\n","import{writable as e,derived as n}from\"svelte/store\";import t from\"deepmerge\";import o from\"intl-messageformat\";const r={},i=(e,n,t)=>t?(n in r||(r[n]={}),e in r[n]||(r[n][e]=t),t):t,l=(e,n)=>{if(null==n)return;if(n in r&&e in r[n])return r[n][e];const t=E(n);for(let o=0;o<t.length;o++){const r=c(t[o],e);if(r)return i(e,n,r)}};let a;const s=e({});function u(e){return e in a}function c(e,n){if(!u(e))return null;return function(e,n){if(null==n)return;if(n in e)return e[n];const t=n.split(\".\");let o=e;for(let e=0;e<t.length;e++)if(\"object\"==typeof o){if(e>0){const n=t.slice(e,t.length).join(\".\");if(n in o){o=o[n];break}}o=o[t[e]]}else o=void 0;return o}(function(e){return a[e]||null}(e),n)}function m(e,...n){delete r[e],s.update((o=>(o[e]=t.all([o[e]||{},...n]),o)))}const f=n([s],(([e])=>Object.keys(e)));s.subscribe((e=>a=e));const d={};function g(e){return d[e]}function w(e){return null!=e&&E(e).some((e=>{var n;return null===(n=g(e))||void 0===n?void 0:n.size}))}function h(e,n){return Promise.all(n.map((n=>(function(e,n){d[e].delete(n),0===d[e].size&&delete d[e]}(e,n),n().then((e=>e.default||e)))))).then((n=>m(e,...n)))}const p={};function b(e){if(!w(e))return e in p?p[e]:Promise.resolve();const n=function(e){return E(e).map((e=>{const n=g(e);return[e,n?[...n]:[]]})).filter((([,e])=>e.length>0))}(e);return p[e]=Promise.all(n.map((([e,n])=>h(e,n)))).then((()=>{if(w(e))return b(e);delete p[e]})),p[e]}function y(e,n){g(e)||function(e){d[e]=new Set}(e);const t=g(e);g(e).has(n)||(u(e)||s.update((n=>(n[e]={},n))),t.add(n))}\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */function v(e,n){var t={};for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&n.indexOf(o)<0&&(t[o]=e[o]);if(null!=e&&\"function\"==typeof Object.getOwnPropertySymbols){var r=0;for(o=Object.getOwnPropertySymbols(e);r<o.length;r++)n.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(t[o[r]]=e[o[r]])}return t}const O={fallbackLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:\"scientific\"},engineering:{notation:\"engineering\"},compactLong:{notation:\"compact\",compactDisplay:\"long\"},compactShort:{notation:\"compact\",compactDisplay:\"short\"}},date:{short:{month:\"numeric\",day:\"numeric\",year:\"2-digit\"},medium:{month:\"short\",day:\"numeric\",year:\"numeric\"},long:{month:\"long\",day:\"numeric\",year:\"numeric\"},full:{weekday:\"long\",month:\"long\",day:\"numeric\",year:\"numeric\"}},time:{short:{hour:\"numeric\",minute:\"numeric\"},medium:{hour:\"numeric\",minute:\"numeric\",second:\"numeric\"},long:{hour:\"numeric\",minute:\"numeric\",second:\"numeric\",timeZoneName:\"short\"},full:{hour:\"numeric\",minute:\"numeric\",second:\"numeric\",timeZoneName:\"short\"}}},warnOnMissingMessages:!0,ignoreTag:!0};function j(){return O}function $(e){const{formats:n}=e,t=v(e,[\"formats\"]),o=e.initialLocale||e.fallbackLocale;return Object.assign(O,t,{initialLocale:o}),n&&(\"number\"in n&&Object.assign(O.formats.number,n.number),\"date\"in n&&Object.assign(O.formats.date,n.date),\"time\"in n&&Object.assign(O.formats.time,n.time)),M.set(o)}const k=e(!1);let L;const T=e(null);function x(e){return e.split(\"-\").map(((e,n,t)=>t.slice(0,n+1).join(\"-\"))).reverse()}function E(e,n=j().fallbackLocale){const t=x(e);return n?[...new Set([...t,...x(n)])]:t}function D(){return null!=L?L:void 0}T.subscribe((e=>{L=null!=e?e:void 0,\"undefined\"!=typeof window&&null!=e&&document.documentElement.setAttribute(\"lang\",e)}));const M=Object.assign(Object.assign({},T),{set:e=>{if(e&&function(e){if(null==e)return;const n=E(e);for(let e=0;e<n.length;e++){const t=n[e];if(u(t))return t}}(e)&&w(e)){const{loadingDelay:n}=j();let t;return\"undefined\"!=typeof window&&null!=D()&&n?t=window.setTimeout((()=>k.set(!0)),n):k.set(!0),b(e).then((()=>{T.set(e)})).finally((()=>{clearTimeout(t),k.set(!1)}))}return T.set(e)}}),P=(e,n)=>{const t=e.split(\"&\").find((e=>0===e.indexOf(`${n}=`)));return t?t.split(\"=\").pop():null},S=(e,n)=>{const t=n.exec(e);return t&&t[1]||null},N=e=>\"undefined\"==typeof window?null:S(window.location.hostname,e),A=e=>\"undefined\"==typeof window?null:S(window.location.pathname,e),I=()=>\"undefined\"==typeof window?null:window.navigator.language||window.navigator.languages[0],F=e=>\"undefined\"==typeof window?null:P(window.location.search.substr(1),e),z=e=>\"undefined\"==typeof window?null:P(window.location.hash.substr(1),e),Z=e=>{const n=Object.create(null);return t=>{const o=JSON.stringify(t);return o in n?n[o]:n[o]=e(t)}},C=(e,n)=>{const{formats:t}=j();if(e in t&&n in t[e])return t[e][n];throw new Error(`[svelte-i18n] Unknown \"${n}\" ${e} format.`)},G=Z((e=>{var{locale:n,format:t}=e,o=v(e,[\"locale\",\"format\"]);if(null==n)throw new Error('[svelte-i18n] A \"locale\" must be set to format numbers');return t&&(o=C(\"number\",t)),new Intl.NumberFormat(n,o)})),J=Z((e=>{var{locale:n,format:t}=e,o=v(e,[\"locale\",\"format\"]);if(null==n)throw new Error('[svelte-i18n] A \"locale\" must be set to format dates');return t?o=C(\"date\",t):0===Object.keys(o).length&&(o=C(\"date\",\"short\")),new Intl.DateTimeFormat(n,o)})),U=Z((e=>{var{locale:n,format:t}=e,o=v(e,[\"locale\",\"format\"]);if(null==n)throw new Error('[svelte-i18n] A \"locale\" must be set to format time values');return t?o=C(\"time\",t):0===Object.keys(o).length&&(o=C(\"time\",\"short\")),new Intl.DateTimeFormat(n,o)})),_=(e={})=>{var{locale:n=D()}=e,t=v(e,[\"locale\"]);return G(Object.assign({locale:n},t))},q=(e={})=>{var{locale:n=D()}=e,t=v(e,[\"locale\"]);return J(Object.assign({locale:n},t))},B=(e={})=>{var{locale:n=D()}=e,t=v(e,[\"locale\"]);return U(Object.assign({locale:n},t))},H=Z(((e,n=D())=>new o(e,n,j().formats,{ignoreTag:j().ignoreTag}))),K=(e,n={})=>{let t=n;\"object\"==typeof e&&(t=e,e=t.id);const{values:o,locale:r=D(),default:i}=t;if(null==r)throw new Error(\"[svelte-i18n] Cannot format a message without first setting the initial locale.\");let a=l(e,r);if(a){if(\"string\"!=typeof a)return console.warn(`[svelte-i18n] Message with id \"${e}\" must be of type \"string\", found: \"${typeof a}\". Gettin its value through the \"$format\" method is deprecated; use the \"json\" method instead.`),a}else j().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message \"${e}\" was not found in \"${E(r).join('\", \"')}\".${w(D())?\"\\n\\nNote: there are at least one loader still registered to this locale that wasn't executed.\":\"\"}`),a=null!=i?i:e;if(!o)return a;let s=a;try{s=H(a,r).format(o)}catch(n){console.warn(`[svelte-i18n] Message \"${e}\" has syntax error:`,n.message)}return s},Q=(e,n)=>B(n).format(e),R=(e,n)=>q(n).format(e),V=(e,n)=>_(n).format(e),W=(e,n=D())=>l(e,n),X=n([M,s],(()=>K)),Y=n([M],(()=>Q)),ee=n([M],(()=>R)),ne=n([M],(()=>V)),te=n([M,s],(()=>W));function oe(e){return e}function re(e){return b(e||D()||j().initialLocale)}export{X as _,m as addMessages,ee as date,oe as defineMessages,s as dictionary,X as format,q as getDateFormatter,z as getLocaleFromHash,N as getLocaleFromHostname,I as getLocaleFromNavigator,A as getLocaleFromPathname,F as getLocaleFromQueryString,H as getMessageFormatter,_ as getNumberFormatter,B as getTimeFormatter,$ as init,k as isLoading,te as json,M as locale,f as locales,ne as number,y as register,X as t,Y as time,re as waitLocale};\n","import { isTextReady } from \"data/stores\";\nimport { init, register } from \"svelte-i18n\";\nimport { fetcher } from \"./utils\";\nconst localesPath = \"./locales/\";\nconst fallbackLocale = \"en\";\nconst registerSupportedLocales = async () => {\n    try {\n        const manifest = await fetcher(`${localesPath}manifest.json`)();\n        const { files, languages } = manifest;\n        const file = files[0];\n        if (!languages?.length || !file) {\n            throw new Error(\"Could not load languages from manifest\");\n        }\n        for (const language of languages) {\n            register(language, fetcher(`${localesPath}${language}${file}`));\n        }\n        const storedLocale = localStorage.getItem(\"locale\");\n        const preferredLocale = storedLocale || navigator.language;\n        const shortLocale = preferredLocale.split(\"-\")[0];\n        const initialLocale = languages.find((language) => language === preferredLocale || language === shortLocale) || fallbackLocale;\n        await init({ fallbackLocale, initialLocale });\n        isTextReady.set(true);\n    }\n    catch (error) {\n        console.error(error);\n        isTextReady.set(true);\n    }\n};\nregisterSupportedLocales();\n// parse translated string in Markdown format (partial support) to HTML\nexport function markdown(input) {\n    input = input.replace(/\\*\\*(.+?)\\*\\*/g, \"<strong>$1</strong>\"); // bold\n    input = input.replace(/\\*(.+?)\\*/g, \"<em>$1</em>\"); // italic\n    input = input.replace(/\\[(.+?)\\]\\((.+?)\\)/g, '<a href=\"$2\" target=\"_blank\">$1</a>'); // link\n    return input;\n}\n","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { is_function, assign } from '../internal/index.mjs';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    let len = node.getTotalLength();\n    const style = getComputedStyle(node);\n    if (style.strokeLinecap !== 'butt') {\n        len += parseInt(style.strokeWidth);\n    }\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","<script lang=\"ts\">\n  // @ts-check\n  import {onMount} from \"svelte\";\n  import {fly, fade} from \"svelte/transition\";\n  import {t} from \"svelte-i18n\";\n  import {message} from \"data/stores\";\n\n  const {text, type, timeout} = $message;\n\n  onMount(async () => {\n    const textOnMount = $message.text;\n\n    setTimeout(() => {\n      if ($message?.text === textOnMount) message.clear();\n    }, timeout);\n  });\n</script>\n\n<div class={type} in:fly={{y: 200, duration: 500}} out:fade={{duration: 300}} on:click={() => message.clear()}>\n  {$t(text)}\n</div>\n\n<style>\n  div {\n    position: absolute;\n    bottom: 0%;\n    left: 50%;\n    line-height: 1.4em;\n    padding: 0.8em;\n    transform: translate(-50%, -50%);\n    z-index: 99;\n    max-width: 80%;\n    width: max-content;\n    user-select: none;\n    background-color: #00000095;\n  }\n\n  .error {\n    color: #e90000;\n  }\n\n  .warn {\n    color: #dd7200;\n  }\n\n  .info {\n    color: #fff;\n  }\n\n  .tip {\n    color: #fff;\n    border-radius: 10px;\n  }\n\n  .success {\n    color: #0fc63a;\n  }\n</style>\n","import {get} from \"svelte/store\";\nimport {scale, grad, diaper, fonts} from \"data/stores\";\n\nconst isFirefox = navigator.userAgent.includes(\"Firefox\");\n\nexport async function download(i, format = \"png\") {\n  if (format === \"json\") {\n    return downloadJSON(i);\n  }\n\n  const coas = i || i === 0 ? [document.getElementById(\"coa\" + i)] : document.querySelectorAll(\"svg.coa\");\n  let {width, height} = coas[0].getBoundingClientRect();\n  const numberX = coas.length > 1 ? Math.floor(window.innerWidth / width) : 1;\n  const numberY = coas.length > 1 ? Math.ceil(coas.length / numberX) : 1;\n\n  const scaleValue = get(scale);\n  width = Math.round(width * scaleValue);\n  height = Math.round(height * scaleValue);\n\n  const canvas = document.createElement(\"canvas\");\n  const ctx = canvas.getContext(\"2d\");\n  canvas.width = width * numberX;\n  canvas.height = height * numberY;\n\n  let loaded = 0;\n  coas.forEach(async function (svg, i) {\n    const url = await getURL(svg, width, height);\n    format === \"svg\" ? downloadVector(url) : downloadRaster(url, i);\n  });\n\n  function downloadVector(url) {\n    const link = document.createElement(\"a\");\n    link.download = `armoria_${getTimestamp()}.svg`;\n    link.href = url;\n    link.click();\n    window.setTimeout(() => window.URL.revokeObjectURL(url), 5000);\n  }\n\n  function downloadRaster(url, i) {\n    const img = new Image();\n    img.src = url;\n    img.onload = () => {\n      URL.revokeObjectURL(url);\n      ctx.drawImage(img, (i % numberX) * width, Math.floor(i / numberX) * height, width, height);\n      loaded++;\n      if (loaded === coas.length) drawCanvas(canvas, format);\n    };\n  }\n\n  function downloadJSON(coas) {\n    const blob = new Blob([JSON.stringify(coas)], {type: \"application/json\"});\n    const url = window.URL.createObjectURL(blob);\n    const link = document.createElement(\"a\");\n    const name = coas.length === 1 && coas[0].name && coas[0].name.toLowerCase().replaceAll(/[^a-z]/g, \"\") || \"armoria\";\n    link.download = `${name}_${getTimestamp()}.json`;\n    link.href = url;\n    link.click();\n    window.setTimeout(() => window.URL.revokeObjectURL(url), 5000);\n  }\n}\n\nasync function getURL(svg, width, height) {\n  const addedElements = {};\n  const clone = svg.cloneNode(true); // clone svg\n  clone.setAttribute(\"width\", width);\n  clone.setAttribute(\"height\", height);\n  clone.removeAttribute(\"class\");\n  clone.removeAttribute(\"id\");\n  const d = clone.getElementsByTagName(\"defs\")[0];\n\n  // remove grid and positions if any\n  const grid = clone.getElementById(\"grid\");\n  const gridPattern = clone.getElementById(\"gridPattern\");\n  const positions = clone.getElementById(\"positions\");\n  if (grid) grid.remove();\n  if (gridPattern) gridPattern.remove();\n  if (positions) positions.remove();\n\n  // remove inscription handles\n  clone.querySelectorAll(\".text-path\").forEach(el => {\n    el.setAttribute(\"stroke\", \"none\");\n  });\n  clone.querySelectorAll(\".points\").forEach(el => {\n    el.remove();\n  });\n\n  const gr = get(grad),\n    di = get(diaper);\n  if (gr && gr !== \"no\") d.insertAdjacentHTML(\"beforeend\", defs.getElementById(gr).outerHTML);\n  if (di && di !== \"no\") d.insertAdjacentHTML(\"beforeend\", defs.getElementById(di).outerHTML);\n  clone.querySelectorAll(\".charge[charge]\").forEach(el => {\n    const chargePattern = el.getAttribute(\"fill\").split(\"(#\")[1]?.split(\")\")[0];\n    if (chargePattern) addPattern(chargePattern, d);\n    const charge = el.getAttribute(\"charge\");\n    if (addedElements[charge]) return;\n    d.insertAdjacentHTML(\"beforeend\", defs.getElementById(charge).outerHTML);\n    addedElements[charge] = true;\n  });\n  clone.querySelectorAll(\".ordinary\").forEach(el => {\n    const ordinaryPattern = el.getAttribute(\"fill\").split(\"(#\")[1]?.split(\")\")[0];\n    if (ordinaryPattern) addPattern(ordinaryPattern, d);\n  });\n  const fieldPattern = clone.getElementsByClassName(\"field\")[0].getAttribute(\"fill\").split(\"(#\")[1]?.split(\")\")[0];\n  if (fieldPattern) addPattern(fieldPattern, d);\n  const divisionPattern = clone.getElementsByClassName(\"division\")[0]?.querySelector(\"rect\").getAttribute(\"fill\").split(\"(#\")[1]?.split(\")\")[0];\n  if (divisionPattern) addPattern(divisionPattern, d);\n\n  function addPattern(pattern, d) {\n    if (addedElements[pattern]) return;\n    d.insertAdjacentHTML(\"beforeend\", document.getElementById(pattern).outerHTML);\n\n    if (pattern.slice(0, 4) === \"semy\") {\n      const charge = pattern.match(/semy_of_(.*?)-/)[1];\n      if (!addedElements[charge]) {\n        d.insertAdjacentHTML(\"beforeend\", document.getElementById(charge).outerHTML);\n        addedElements[charge] = true;\n      }\n    }\n    addedElements[pattern] = true;\n  }\n\n  // load needed web fonts\n  const usedFonts = getUsedWebFonts(clone);\n  if (usedFonts) {\n    const dataURLfonts = await loadFontsAsDataURI(usedFonts);\n\n    const fontFaces = dataURLfonts\n      .map(({family, src}) => {\n        return `@font-face {font-family: \"${family}\"; src: ${src};}`;\n      })\n      .join(\"\\n\");\n\n    const style = document.createElement(\"style\");\n    style.setAttribute(\"type\", \"text/css\");\n    style.innerHTML = fontFaces;\n    clone.querySelector(\"defs\").appendChild(style);\n  }\n\n  const serialized = new XMLSerializer().serializeToString(clone);\n  const pretty = isFirefox ? serialized : prettify(serialized); // don't prettify in Firefox\n  const blob = new Blob([pretty], {type: \"image/svg+xml;charset=utf-8\"});\n  const url = window.URL.createObjectURL(blob);\n  window.setTimeout(() => window.URL.revokeObjectURL(url), 6000);\n  return url;\n}\n\nfunction drawCanvas(canvas, format) {\n  const link = document.createElement(\"a\");\n  link.download = `armoria_${getTimestamp()}.${format}`;\n\n  const URL = canvas.toDataURL(\"image/\" + format, 0.92);\n  link.href = URL;\n  link.click();\n\n  setTimeout(function () {\n    canvas.remove();\n    window.URL.revokeObjectURL(link.href);\n  }, 5000);\n}\n\nfunction getTimestamp() {\n  const formatTime = time => (time < 10 ? \"0\" + time : time);\n  const date = new Date();\n  const year = date.getFullYear();\n  const month = formatTime(date.getMonth() + 1);\n  const day = formatTime(date.getDate());\n  const hour = formatTime(date.getHours());\n  const minutes = formatTime(date.getMinutes());\n  const seconds = formatTime(date.getSeconds());\n  return [year, month, day, hour, minutes, seconds].join(\"-\");\n}\n\nfunction prettify(source) {\n  const xmlDoc = new DOMParser().parseFromString(source, \"image/svg+xml\");\n  const xsltDoc = new DOMParser().parseFromString(\n    [\n      '<xsl:stylesheet xmlns:xsl=\"http://www.w3.org/1999/XSL/Transform\">',\n      '  <xsl:strip-space elements=\"*\"/>',\n      '  <xsl:template match=\"para[content-style][not(text())]\">',\n      '    <xsl:value-of select=\"normalize-space(.)\"/>',\n      \"  </xsl:template>\",\n      '  <xsl:template match=\"node()|@*\">',\n      '    <xsl:copy><xsl:apply-templates select=\"node()|@*\"/></xsl:copy>',\n      \"  </xsl:template>\",\n      '  <xsl:output indent=\"yes\"/>',\n      \"</xsl:stylesheet>\"\n    ].join(\"\\n\"),\n    \"application/xml\"\n  );\n\n  const xsltProcessor = new XSLTProcessor();\n  xsltProcessor.importStylesheet(xsltDoc);\n  const resultDoc = xsltProcessor.transformToDocument(xmlDoc);\n  const resultXml = new XMLSerializer().serializeToString(resultDoc);\n  return resultXml;\n}\n\nfunction getUsedWebFonts(svg) {\n  const usedFonts = new Set();\n  const allFonts = get(fonts);\n\n  for (const text of svg.querySelectorAll(\"text\")) {\n    const family = text.getAttribute(\"font-family\");\n    if (family && allFonts[family]?.url)\n      usedFonts.add({family, url: allFonts[family].url});\n  }\n  return Array.from(usedFonts);\n}\n\nfunction readBlobAsDataURL(blob) {\n  return new Promise(function (resolve, reject) {\n    const reader = new FileReader();\n    reader.onloadend = () => resolve(reader.result);\n    reader.onerror = reject;\n    reader.readAsDataURL(blob);\n  });\n}\n\nasync function loadFontsAsDataURI(fonts) {\n  const promises = fonts.map(async font => {\n    const resp = await fetch(font.url);\n    const blob = await resp.blob();\n    const dataURL = await readBlobAsDataURL(blob);\n\n    return {family: font.family, src: `url('${dataURL}')`};\n  });\n\n  return await Promise.all(promises);\n}\n","import { get } from \"svelte/store\";\nimport { iconedNav } from \"data/stores\";\nconst MIN_WIDTH = 1132;\nexport const checkForIconedNav = () => {\n    const isIconed = get(iconedNav);\n    const makeIconed = window.innerWidth < MIN_WIDTH;\n    if (isIconed !== makeIconed)\n        iconedNav.set(makeIconed);\n};\ncheckForIconedNav();\n","<script>\n  import {state, matrix, changes, history, message} from \"data/stores\";\n  import {download} from \"scripts/download\";\n  import {checkForIconedNav} from \"scripts/navbar\";\n\n  let touch = {startX: 0, startY: 0};\n\n  // prevent unwanted refresh\n  if (location.host === \"azgaar.github.io\" && !navigator.userAgent.includes(\"Electron\")) {\n    window.onbeforeunload = () => \"Are you sure you want to navigate away?\";\n  }\n\n  function close() {\n    if ($state.edit) {\n      // save current edit to gallery history\n      $history[$state.c] = JSON.parse($changes[0]);\n    }\n\n    state.set({\n      ...$state,\n      about: 0,\n      raster: 0,\n      vector: 0,\n      tinctures: 0,\n      edit: 0,\n      selectedPath: -1\n    });\n    message.clear();\n  }\n\n  const keybinding = {\n    Backspace: () => $matrix > 0 && matrix.set($matrix - 1), // Rollback\n    Enter: () => matrix.set(($matrix += 1)), // Reroll\n    KeyZ: changes.undo,\n    KeyX: changes.redo,\n    KeyS: ctrl => ctrl && download(null, \"svg\"),\n    KeyP: ctrl => ctrl && download(null, \"png\"),\n    KeyJ: ctrl => ctrl && download(null, \"jpeg\"),\n    F1: () => state.set({...$state, about: !$state.about}),\n    Escape: close // Close all windows\n  };\n\n  // keyboard shortcuts\n  function handleKeydown(event) {\n    const action = /^[a-z]$/i.test(event.key) ?\n      keybinding[\"Key\" + event.key.toUpperCase()] : // for latin keyboards (including non-QWERTY)\n      keybinding[event.code]; // for non-latin keyboards\n    if (!action) return;\n\n    const active = document.activeElement.tagName;\n    if (active === \"INPUT\" || active === \"SELECT\" || active === \"TEXTAREA\") return;\n\n    event.preventDefault();\n    action(event.ctrlKey);\n  }\n\n  function handleTouchStart(event) {\n    const {screenX, screenY} = event.changedTouches[0];\n    touch.startX = screenX;\n    touch.startY = screenY;\n  }\n\n  function handleTouchEnd(event) {\n    const menu = document.getElementById(\"menu\");\n    const navbar = document.getElementById(\"navbar\");\n    if (menu?.contains(event.target)) return; // cancel touch event if start area is menu\n    if (navbar?.contains(event.target)) return; // cancel touch event if start area is nav bar\n\n    const {screenX, screenY} = event.changedTouches[0];\n    const {startX, startY} = touch;\n\n    const diffX = screenX - startX;\n    const diffY = screenY - startY;\n    const ratioX = Math.abs(diffX / diffY);\n    const ratioY = Math.abs(diffY / diffX);\n    const absDiff = Math.abs(ratioX > ratioY ? diffX : diffY);\n\n    if (absDiff < 100) return; // ignore small movements\n\n    if (ratioX > ratioY) diffX >= 0 ? swipeRight() : swipeLeft();\n    else diffY >= 0 ? swipeDown() : swipeUp();\n  }\n\n  function swipeRight() {\n    if ($state.edit) changes.redo();\n    else $matrix += 1;\n  }\n\n  function swipeDown() {\n    $matrix += 1;\n  }\n\n  function swipeLeft() {\n    if ($state.edit) changes.undo();\n    else if ($matrix > 0) $matrix -= 1;\n  }\n\n  function swipeUp() {\n    if ($matrix > 0) $matrix -= 1;\n  }\n</script>\n\n<svelte:window on:keydown={handleKeydown} on:touchstart={handleTouchStart} on:touchend={handleTouchEnd} on:resize={checkForIconedNav} />\n","import {charges, divisions, lines, ordinaries, patternSize, positions} from \"data/dataModel\";\nimport {tinctures} from \"data/stores\";\nimport {get} from \"svelte/store\";\nimport {aleaPRNG} from \"./alea\";\nimport {P, rw} from \"./utils\";\n\nexport const createConfig = () => ({\n  usedPattern: null,\n  usedTinctures: [],\n  tData: get(tinctures),\n  divisioned: null,\n  ordinary: null\n});\n\n// main generation routine\nexport const generate = function (providedSeed) {\n  const seed = providedSeed || Math.floor(Math.random() * 1e9);\n  Math.random = aleaPRNG(seed);\n\n  const config = createConfig();\n  const coa = {seed, t1: getTincture(config, \"field\")};\n\n  const addCharge = P(config.usedPattern ? 0.5 : 0.93); // 80% for charge\n  const linedOrdinary = (addCharge && P(0.3)) || P(0.5) ? rw(ordinaries.lined) : null;\n  config.ordinary =\n    (!addCharge && P(0.65)) || P(0.3) ? (linedOrdinary ? linedOrdinary : rw(ordinaries.straight)) : null; // 36% for ordinary\n\n  const rareDivided = [\"chief\", \"terrace\", \"chevron\", \"quarter\", \"flaunches\"].includes(config.ordinary);\n  config.divisioned = rareDivided\n    ? P(0.03)\n    : addCharge && config.ordinary\n    ? P(0.03)\n    : addCharge\n    ? P(0.3)\n    : config.ordinary\n    ? P(0.7)\n    : P(0.995); // 33% for division\n\n  const division = config.divisioned ? rw(divisions.variants) : null;\n\n  if (division) {\n    const t = getTincture(config, \"division\", config.usedTinctures, P(0.98) ? coa.t1 : null);\n    coa.division = {division, t};\n    if (divisions[division])\n      coa.division.line = config.usedPattern || (config.ordinary && P(0.7)) ? \"straight\" : rw(divisions[division]);\n  }\n\n  if (config.ordinary) {\n    const t = getTincture(config, \"charge\", config.usedTinctures, coa.t1);\n    coa.ordinaries = [{ordinary: config.ordinary, t}];\n    if (linedOrdinary) coa.ordinaries[0].line = config.usedPattern || (division && P(0.7)) ? \"straight\" : rw(lines);\n    if (\n      division &&\n      !addCharge &&\n      !config.usedPattern &&\n      P(0.5) &&\n      config.ordinary !== \"bordure\" &&\n      config.ordinary !== \"orle\"\n    ) {\n      if (P(0.8)) coa.ordinaries[0].divided = \"counter\";\n      // 40%\n      else if (P(0.6)) coa.ordinaries[0].divided = \"field\";\n      // 6%\n      else coa.ordinaries[0].divided = \"division\"; // 4%\n    }\n  }\n\n  if (addCharge) {\n    const charge = selectCharge(config.ordinary || config.divisioned ? charges.types : charges.single);\n    const chargeData = charges.data[charge] || {};\n\n    let p = \"e\";\n    let t = \"gules\";\n\n    const ordinaryData = ordinaries.data[config.ordinary];\n    const tOrdinary = coa.ordinaries ? coa.ordinaries[0].t : null;\n\n    if (ordinaryData?.positionsOn && P(0.8)) {\n      // place charge over ordinary (use tincture of field type)\n      p = rw(ordinaryData.positionsOn);\n      t = !config.usedPattern && P(0.3) ? coa.t1 : getTincture(config, \"charge\", [], tOrdinary);\n    } else if (ordinaryData?.positionsOff && P(0.95)) {\n      // place charge out of ordinary (use tincture of ordinary type)\n      p = rw(ordinaryData.positionsOff);\n      t = !config.usedPattern && P(0.3) ? tOrdinary : getTincture(config, \"charge\", config.usedTinctures, coa.t1);\n    } else if (positions.divisions[division]) {\n      // place charge in fields made by division\n      p = rw(positions.divisions[division]);\n      t = getTincture(\n        config,\n        \"charge\",\n        tOrdinary ? config.usedTinctures.concat(tOrdinary) : config.usedTinctures,\n        coa.t1\n      );\n    } else if (chargeData.positions) {\n      // place charge-suitable position\n      p = rw(chargeData.positions);\n      t = getTincture(config, \"charge\", config.usedTinctures, coa.t1);\n    } else {\n      // place in standard position (use new tincture)\n      p = config.usedPattern ? \"e\" : charges.conventional[charge] ? rw(positions.conventional) : rw(positions.complex);\n      t = getTincture(config, \"charge\", config.usedTinctures.concat(tOrdinary), coa.t1);\n    }\n\n    if (chargeData.natural && chargeData.natural !== t && chargeData.natural !== tOrdinary) t = chargeData.natural;\n\n    const item = {charge: charge, t, p};\n    const colors = chargeData.colors || 1;\n    if (colors > 1) item.t2 = P(0.25) ? getTincture(config, \"charge\", config.usedTinctures, coa.t1) : t;\n    if (colors > 2 && item.t2) item.t3 = P(0.5) ? getTincture(config, \"charge\", config.usedTinctures, coa.t1) : t;\n    coa.charges = [item];\n\n    if (p === \"ABCDEFGHIKL\" && P(0.95)) {\n      // add central charge if charge is in bordure\n      coa.charges[0].charge = rw(charges.conventional);\n      const charge = selectCharge(charges.single);\n      const t = getTincture(config, \"charge\", config.usedTinctures, coa.t1);\n      coa.charges.push({charge, t, p: \"e\"});\n    } else if (P(0.8) && charge === \"inescutcheon\") {\n      // add charge to inescutcheon\n      const charge = selectCharge(charges.types);\n      const t2 = getTincture(config, \"charge\", [], t);\n      coa.charges.push({charge, t: t2, p, size: 0.5});\n    } else if (division && !config.ordinary) {\n      const allowCounter = !config.usedPattern && (!coa.line || coa.line === \"straight\");\n\n      // dimidiation: second charge at division basic positons\n      if (P(0.3) && [\"perPale\", \"perFess\"].includes(division) && coa.line === \"straight\") {\n        coa.charges[0].divided = \"field\";\n        if (P(0.95)) {\n          const p2 = p === \"e\" || P(0.5) ? \"e\" : rw(positions.divisions[division]);\n          const charge = selectCharge(charges.single);\n          const t = getTincture(config, \"charge\", config.usedTinctures, coa.division.t);\n          coa.charges.push({charge, t, p: p2, divided: \"division\"});\n        }\n      } else if (allowCounter && P(0.4)) coa.charges[0].divided = \"counter\";\n      // counterchanged, 40%\n      else if ([\"perPale\", \"perFess\", \"perBend\", \"perBendSinister\"].includes(division) && P(0.8)) {\n        // place 2 charges in division standard positions\n        const [p1, p2] =\n          division === \"perPale\"\n            ? [\"p\", \"q\"]\n            : division === \"perFess\"\n            ? [\"k\", \"n\"]\n            : division === \"perBend\"\n            ? [\"l\", \"m\"]\n            : [\"j\", \"o\"]; // perBendSinister\n        coa.charges[0].p = p1;\n\n        const charge = selectCharge(charges.single);\n        const t = getTincture(config, \"charge\", config.usedTinctures, coa.division.t);\n        coa.charges.push({charge, t, p: p2});\n      } else if ([\"perCross\", \"perSaltire\"].includes(division) && P(0.5)) {\n        // place 4 charges in division standard positions\n        const [p1, p2, p3, p4] = division === \"perCross\" ? [\"j\", \"l\", \"m\", \"o\"] : [\"b\", \"d\", \"f\", \"h\"];\n        coa.charges[0].p = p1;\n\n        const c2 = selectCharge(charges.single);\n        const t2 = getTincture(config, \"charge\", [], coa.division.t);\n\n        const c3 = selectCharge(charges.single);\n        const t3 = getTincture(config, \"charge\", [], coa.division.t);\n\n        const c4 = selectCharge(charges.single);\n        const t4 = getTincture(config, \"charge\", [], coa.t1);\n        coa.charges.push({charge: c2, t: t2, p: p2}, {charge: c3, t: t3, p: p3}, {charge: c4, t: t4, p: p4});\n      } else if (allowCounter && p.length > 1) coa.charges[0].divided = \"counter\"; // counterchanged, 40%\n    }\n\n    coa.charges.forEach(c => defineChargeAttributes(config, division, c));\n  }\n\n  return coa;\n};\n\nexport const getSize = (p, o = null, d = null) => {\n  if (p === \"e\" && (o === \"bordure\" || o === \"orle\")) return 1.1;\n  if (p === \"e\") return 1.5;\n  if (p === \"jln\" || p === \"jlh\") return 0.7;\n  if (p === \"abcpqh\" || p === \"ez\" || p === \"be\") return 0.5;\n  if ([\"a\", \"b\", \"c\", \"d\", \"f\", \"g\", \"h\", \"i\", \"bh\", \"df\"].includes(p)) return 0.5;\n  if ([\"j\", \"l\", \"m\", \"o\", \"jlmo\"].includes(p) && d === \"perCross\") return 0.6;\n  if (p.length > 10) return 0.18; // >10 (bordure)\n  if (p.length > 7) return 0.3; // 8, 9, 10\n  if (p.length > 4) return 0.4; // 5, 6, 7\n  if (p.length > 2) return 0.5; // 3, 4\n  return 0.7; // 1, 2\n};\n\nfunction defineChargeAttributes(config, division, c) {\n  // define size\n  c.size = (c.size || 1) * getSize(c.p, config.ordinary, division);\n\n  // clean-up position\n  c.p = [...new Set(c.p)].join(\"\");\n\n  // define orientation\n  if (P(0.02) && charges.data[c.charge]?.sinister) c.sinister = 1;\n  if (P(0.02) && charges.data[c.charge]?.reversed) c.reversed = 1;\n}\n\nfunction selectCharge(set) {\n  const type = rw(set);\n  return type === \"inescutcheon\" ? \"inescutcheon\" : rw(charges[type]);\n}\n\nfunction replaceTincture(config, tincture) {\n  const type = getType(config, tincture);\n  const typeTinctures = config.tData[type];\n\n  const candidateTinctures = {...typeTinctures};\n  delete candidateTinctures[tincture];\n\n  const newTincture = rw(candidateTinctures, false);\n  if (!newTincture) {\n    console.warn(`Type ${type} has only one valid tincture. Cannot follow the Rule of Tincture`);\n    return tincture;\n  }\n\n  return rw(candidateTinctures, false);\n}\n\nfunction getType(config, t) {\n  const tincture = getBaseTincture(t);\n  if (Object.keys(config.tData.metals).includes(tincture)) return \"metals\";\n  if (Object.keys(config.tData.colours).includes(tincture)) return \"colours\";\n  if (Object.keys(config.tData.stains).includes(tincture)) return \"stains\";\n  throw new Error(\"Unknown tincture type\", t);\n}\n\nfunction definePattern(config, patternName, element) {\n  let t1 = null;\n  let t2 = null;\n\n  // apply standard tinctures\n  if (P(0.5) && (patternName.includes(\"air\") || patternName.includes(\"otent\"))) {\n    t1 = \"argent\";\n    t2 = \"azure\";\n  } else if (patternName === \"ermine\") {\n    if (P(0.7)) {\n      t1 = \"argent\";\n      t2 = \"sable\";\n    } else if (P(0.3)) {\n      t1 = \"sable\";\n      t2 = \"argent\";\n    } else if (P(0.1)) {\n      t1 = \"or\";\n      t2 = \"sable\";\n    } else if (P(0.1)) {\n      t1 = \"sable\";\n      t2 = \"or\";\n    } else if (P(0.1)) {\n      t1 = \"gules\";\n      t2 = \"argent\";\n    }\n  } else if (patternName.includes(\"pappellony\") || patternName === \"scaly\") {\n    if (P(0.2)) {\n      t1 = \"gules\";\n      t2 = \"or\";\n    } else if (P(0.2)) {\n      t1 = \"sable\";\n      t2 = \"argent\";\n    } else if (P(0.2)) {\n      t1 = \"argent\";\n      t2 = \"sable\";\n    } else if (P(0.2)) {\n      t1 = \"azure\";\n      t2 = \"argent\";\n    }\n  } else if (P(0.2) && patternName === \"plumetty\") {\n    t1 = \"gules\";\n    t2 = \"or\";\n  } else if (patternName === \"masoned\") {\n    if (P(0.3)) {\n      t1 = \"gules\";\n      t2 = \"argent\";\n    } else if (P(0.3)) {\n      t1 = \"argent\";\n      t2 = \"sable\";\n    } else if (P(0.1)) {\n      t1 = \"or\";\n      t2 = \"sable\";\n    }\n  } else if (patternName === \"fretty\" || patternName === \"grillage\" || patternName === \"chainy\") {\n    if (P(0.35)) {\n      t1 = \"argent\";\n      t2 = \"gules\";\n    } else if (P(0.1)) {\n      t1 = \"sable\";\n      t2 = \"or\";\n    } else if (P(0.2)) {\n      t1 = \"gules\";\n      t2 = \"argent\";\n    }\n  } else if (patternName === \"honeycombed\") {\n    if (P(0.4)) {\n      t1 = \"sable\";\n      t2 = \"or\";\n    } else if (P(0.3)) {\n      t1 = \"or\";\n      t2 = \"sable\";\n    }\n  } else if (patternName === \"semy\") patternName += \"_of_\" + selectCharge(charges.semy);\n\n  if (!t1 || !t2) {\n    const startWithMetal = P(0.7);\n    t1 = startWithMetal ? rw(config.tData.metals) : rw(config.tData.colours);\n    t2 = startWithMetal ? rw(config.tData.colours) : rw(config.tData.metals);\n  }\n\n  // division should not be the same tincture as base field\n  if (element === \"division\") {\n    if (config.usedTinctures.includes(t1)) t1 = replaceTincture(config, t1);\n    if (config.usedTinctures.includes(t2)) t2 = replaceTincture(config, t2);\n  }\n\n  config.usedTinctures.push(t1, t2);\n  const size = rw(patternSize);\n  const sizeString = size === \"standard\" ? \"\" : \"-\" + size;\n\n  return `${patternName}-${t1}-${t2}${sizeString}`;\n}\n\nfunction getBaseTincture(tincture) {\n  return tincture.includes(\"-\") ? tincture.split(\"-\")[1] : tincture;\n}\n\nfunction excludeTinctures(typeTinctures, usedTinctures) {\n  const unusedTinctures = {...typeTinctures};\n  usedTinctures.forEach(usedTincture => {\n    delete unusedTinctures[usedTincture];\n  });\n\n  const isAnyUnused = Object.keys(unusedTinctures).length && Object.values(unusedTinctures).reduce((a, b) => a + b, 0);\n  return isAnyUnused ? unusedTinctures : typeTinctures;\n}\n\n// select tincture: element type (field, division, charge), used field tinctures, field type to follow RoT\nexport function getTincture(config, element, fields = [], RoT) {\n  let type = rw(config.tData[element]); // random type\n\n  if (type === \"patterns\") {\n    const patternName = rw(config.tData[type]);\n    config.usedPattern = patternName;\n    const tincture = definePattern(config, patternName, element);\n    return tincture;\n  }\n\n  // follow Rule of Tinctures: metal should not be put on metal, nor colour on colour\n  if (RoT) {\n    const underlyingTincture = getBaseTincture(RoT);\n    const underlyingType = getType(config, underlyingTincture);\n    type = underlyingType === \"metals\" ? \"colours\" : \"metals\";\n  }\n\n  const typeTinctures = config.tData[type];\n  const candidateTinctures = fields.length ? excludeTinctures(typeTinctures, fields) : typeTinctures;\n  let tincture = rw(candidateTinctures, false);\n\n  if (element !== \"charge\") config.usedTinctures.push(tincture); // add field tincture\n\n  return tincture;\n}\n","/*///////////////////////////////////////////////////////////////////////////////////////////////////\naleaPRNG 1.1\n/////////////////////////////////////////////////////////////////////////////////////////////////////\nhttps://github.com/macmcmeans/aleaPRNG/blob/master/aleaPRNG-1.1.js\n/////////////////////////////////////////////////////////////////////////////////////////////////////\nOriginal work copyright © 2010 Johannes Baagøe, under MIT license\nThis is a derivative work copyright (c) 2017-2020, W. Mac\" McMeans, under BSD license.\nRedistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:\n1. Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.\n2. Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.\n3. Neither the name of the copyright holder nor the names of its contributors may be used to endorse or promote products derived from this software without specific prior written permission.\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n///////////////////////////////////////////////////////////////////////////////////////////////////*/\nexport function aleaPRNG() {\n  return (function (args) {\n    \"use strict\";\n\n    const version = \"aleaPRNG 1.1.0\";\n\n    var s0,\n      s1,\n      s2,\n      c,\n      uinta = new Uint32Array(3),\n      initialArgs,\n      mashver = \"\";\n    /* private: initializes generator with specified seed */\n    function _initState(_internalSeed) {\n      var mash = Mash();\n\n      // internal state of generator\n      s0 = mash(\" \");\n      s1 = mash(\" \");\n      s2 = mash(\" \");\n\n      c = 1;\n\n      for (var i = 0; i < _internalSeed.length; i++) {\n        s0 -= mash(_internalSeed[i]);\n        if (s0 < 0) {\n          s0 += 1;\n        }\n\n        s1 -= mash(_internalSeed[i]);\n        if (s1 < 0) {\n          s1 += 1;\n        }\n\n        s2 -= mash(_internalSeed[i]);\n        if (s2 < 0) {\n          s2 += 1;\n        }\n      }\n\n      mashver = mash.version;\n\n      mash = null;\n    }\n\n    /* private: dependent string hash function */\n    function Mash() {\n      var n = 4022871197; // 0xefc8249d\n\n      var mash = function (data) {\n        data = data.toString();\n\n        // cache the length\n        for (var i = 0, l = data.length; i < l; i++) {\n          n += data.charCodeAt(i);\n\n          var h = 0.02519603282416938 * n;\n\n          n = h >>> 0;\n          h -= n;\n          h *= n;\n          n = h >>> 0;\n          h -= n;\n          n += h * 4294967296; // 0x100000000      2^32\n        }\n        return (n >>> 0) * 2.3283064365386963e-10; // 2^-32\n      };\n\n      mash.version = \"Mash 0.9\";\n      return mash;\n    }\n\n    /* private: check if number is integer */\n    function _isInteger(_int) {\n      return parseInt(_int, 10) === _int;\n    }\n\n    /* public: return a 32-bit fraction in the range [0, 1]\n      This is the main function returned when aleaPRNG is instantiated\n      */\n    var random = function () {\n      var t = 2091639 * s0 + c * 2.3283064365386963e-10; // 2^-32\n\n      s0 = s1;\n      s1 = s2;\n\n      return (s2 = t - (c = t | 0));\n    };\n\n    /* public: return a 53-bit fraction in the range [0, 1] */\n    random.fract53 = function () {\n      return random() + ((random() * 0x200000) | 0) * 1.1102230246251565e-16; // 2^-53\n    };\n\n    /* public: return an unsigned integer in the range [0, 2^32] */\n    random.int32 = function () {\n      return random() * 0x100000000; // 2^32\n    };\n\n    /* public: advance the generator the specified amount of cycles */\n    random.cycle = function (_run) {\n      _run = typeof _run === \"undefined\" ? 1 : +_run;\n      if (_run < 1) {\n        _run = 1;\n      }\n      for (var i = 0; i < _run; i++) {\n        random();\n      }\n    };\n\n    /* public: return inclusive range */\n    random.range = function () {\n      var loBound, hiBound;\n\n      if (arguments.length === 1) {\n        loBound = 0;\n        hiBound = arguments[0];\n      } else {\n        loBound = arguments[0];\n        hiBound = arguments[1];\n      }\n\n      if (arguments[0] > arguments[1]) {\n        loBound = arguments[1];\n        hiBound = arguments[0];\n      }\n\n      // return integer\n      if (_isInteger(loBound) && _isInteger(hiBound)) {\n        return Math.floor(random() * (hiBound - loBound + 1)) + loBound;\n\n        // return float\n      } else {\n        return random() * (hiBound - loBound) + loBound;\n      }\n    };\n\n    /* public: initialize generator with the seed values used upon instantiation */\n    random.restart = function () {\n      _initState(initialArgs);\n    };\n\n    /* public: seeding function */\n    random.seed = function () {\n      _initState(Array.prototype.slice.call(arguments));\n    };\n\n    /* public: show the version of the RNG */\n    random.version = function () {\n      return version;\n    };\n\n    /* public: show the version of the RNG and the Mash string hasher */\n    random.versions = function () {\n      return version + \", \" + mashver;\n    };\n\n    // when no seed is specified, create a random one from Windows Crypto (Monte Carlo application)\n    if (args.length === 0) {\n      window.crypto.getRandomValues(uinta);\n      args = [uinta[0], uinta[1], uinta[2]];\n    }\n\n    // store the seed used when the RNG was instantiated, if any\n    initialArgs = args;\n\n    // initialize the RNG\n    _initState(args);\n\n    return random;\n  })(Array.prototype.slice.call(arguments));\n}\n","export const highlight = (target, type, index) => () => {\n  if (target === \"shield\") {\n    const g = document.getElementById(\"coaEdit\").querySelector(`g.${type}[i=\"${index}\"]`);\n    g?.setAttribute(\"filter\", \"url(#highlight)\");\n  } else if (target === \"menu\") {\n    const section = document.getElementById(`${type}_${index}`);\n    section?.classList.add(\"highlighted\");\n  }\n};\n\nexport const lowlight = (target, type, index) => () => {\n  if (target === \"shield\") {\n    const g = document.getElementById(\"coaEdit\").querySelector(`g.${type}[i=\"${index}\"]`);\n    g?.removeAttribute(\"filter\");\n  } else if (target === \"menu\") {\n    const section = document.getElementById(`${type}_${index}`);\n    section?.classList.remove(\"highlighted\");\n  }\n};\n","<script>\n  import {state, grid, showGrid} from \"data/stores\";\n  import {fade} from \"svelte/transition\";\n\n  $: transform = $state.transform || null;\n</script>\n\n{#if $showGrid}\n  <pattern id=\"gridPattern\" width={$grid} height={$grid} patternUnits=\"userSpaceOnUse\">\n    <path d=\"M 100 0 L 0 0 0 100\" fill=\"none\" stroke=\"#000\" opacity=\".2\" stroke-width=\".5\" />\n  </pattern>\n  <g id=\"grid\" style=\"pointer-events: none\" {transform} transform-origin=\"center\" transition:fade|local>\n    <rect x=\"-200\" y=\"-200\" width=\"400\" height=\"400\" fill=\"url(#gridPattern)\" />\n  </g>\n{/if}\n","<script lang=\"ts\">\n  // @ts-check\n  import {state} from \"data/stores\";\n  import {shieldPositions} from \"data/shields\";\n  import {fade} from \"svelte/transition\";\n\n  export let shield: string;\n\n  // on shield change\n  $: points = shieldPositions[shield] ? Object.entries(shieldPositions[shield]) : Object.entries(shieldPositions.spanish);\n\n  function getClass(p) {\n    if (\"abcdefghi\".includes(p)) return \"green\";\n    if (\"ABCDEFGHIJKL\".includes(p)) return \"red\";\n    if (\"zy\".includes(p)) return \"yellow\";\n    return \"blue\";\n  }\n</script>\n\n{#if $state.positions}\n  <g transform={$state.transform || null} transform-origin=\"center\">\n    <g id=\"positions\" transform=\"translate(100, 100)\" transition:fade|local>\n      {#each points as p}\n        <g id={p[0]} class={getClass(p[0])}>\n          <circle cx={p[1][0]} cy={p[1][1]} r=\"3\" class:active={$state.positions.includes(p[0])} />\n          <text style=\"dominant-baseline: central\" x={p[1][0]} y={p[1][1]} class:active={$state.positions.includes(p[0])}>{p[0]}</text>\n        </g>\n      {/each}\n    </g>\n  </g>\n{/if}\n\n<style>\n  circle {\n    opacity: 0.6;\n  }\n\n  circle.active {\n    opacity: 1;\n  }\n\n  text {\n    font-family: monospace;\n    text-anchor: middle;\n    font-size: 5px;\n    fill: #ddd;\n  }\n\n  text.active {\n    fill: #fff;\n  }\n\n  .green {\n    fill: rgb(12, 80, 12);\n  }\n\n  .blue {\n    fill: rgb(12, 12, 80);\n  }\n\n  .red {\n    fill: rgb(80, 12, 12);\n  }\n\n  .yellow {\n    fill: rgb(84, 84, 0);\n  }\n</style>\n","import {get} from \"svelte/store\";\nimport {changes, grid, shield} from \"data/stores\";\nimport {shieldPositions, shieldSize} from \"data/shields\";\n\nexport function drag(\n  event,\n  charge,\n  coa,\n  options = {move: true, resize: true, rotate: true, onMove: undefined, onEnd: undefined}\n) {\n  const el = event.currentTarget;\n  const x0 = event.x;\n  const y0 = event.y;\n\n  const sizeAdj = el.closest(\"svg\").clientWidth / 200;\n  document.addEventListener(\"mouseup\", stopDragging, {once: true});\n\n  const {x = 0, y = 0, size = 1} = charge;\n  const gridSize = get(grid);\n  const positionElements = el.querySelectorAll(\"use\");\n  const positions = shieldPositions[get(shield)] || shieldPositions.spanish;\n\n  if (options.resize && event.shiftKey) {\n    document.addEventListener(\"mousemove\", resize);\n    document.body.style.cursor = \"ns-resize\";\n  } else if (options.rotate && (event.ctrlKey || event.metaKey)) {\n    document.addEventListener(\"mousemove\", rotate);\n    document.body.style.cursor = \"ew-resize\";\n  } else if (options.move) {\n    document.addEventListener(\"mousemove\", move);\n    document.body.style.cursor = \"move\";\n  }\n\n  function move(event) {\n    const dx = x + (event.x - x0) / sizeAdj;\n    const dy = y + (event.y - y0) / sizeAdj;\n\n    charge.x = round(Math.round(dx / gridSize) * gridSize);\n    charge.y = round(Math.round(dy / gridSize) * gridSize);\n    setGroupTransform(el, charge);\n\n    if (options.onMove) options.onMove(event, charge);\n  }\n\n  function resize(event) {\n    const dy = y + (event.y - y0) / sizeAdj;\n    charge.size = round(size + dy / -100);\n\n    if (charge.p) {\n      setElementTransform(charge);\n    } else {\n      setGroupTransform(el, charge);\n    }\n  }\n\n  function rotate(event) {\n    const cx = x + 100;\n    const cy = y + 100;\n\n    const x1 = event.x / sizeAdj;\n    const y1 = event.y / sizeAdj;\n\n    let a = 90 + (Math.atan2(y1 - cy, x1 - cx) * 180) / Math.PI;\n    if (a > 180) a = (a % 180) - 180;\n    if (a < -179) a = (a % 180) + 180;\n\n    charge.angle = Math.round(a / gridSize) * gridSize;\n    setGroupTransform(el, charge);\n  }\n\n  function setGroupTransform(el, charge) {\n    const tr = transform(charge);\n\n    if (tr) el.setAttribute(\"transform\", tr);\n    else el.removeAttribute(\"transform\");\n  }\n\n  function setElementTransform(charge) {\n    const validPositions = [...new Set(charge.p)].filter(p => positions[p]);\n    validPositions.forEach((p, i) => {\n      const element = positionElements[i];\n      if (element) {\n        const transform = getElTransform(charge, p, get(shield));\n        if (transform) element.setAttribute(\"transform\", transform);\n        else element.removeAttribute(\"transform\");\n      }\n    });\n  }\n\n  function stopDragging() {\n    document.removeEventListener(\"mousemove\", move);\n    document.removeEventListener(\"mousemove\", resize);\n    document.removeEventListener(\"mousemove\", rotate);\n    document.body.style.cursor = \"auto\";\n\n    if (options.onEnd) options.onEnd(charge);\n    changes.add(JSON.stringify(coa));\n  }\n}\n\nfunction round(n) {\n  return Math.round(n * 100) / 100;\n}\n\nexport function transform(charge) {\n  let {x = 0, y = 0, angle = 0, size = 1, p} = charge;\n  if (p) size = 1; // size is defined on use element level\n\n  if (size !== 1) {\n    x = round(x + 100 - size * 100);\n    y = round(y + 100 - size * 100);\n  }\n\n  let transform = \"\";\n  if (x || y) transform += `translate(${x} ${y})`;\n  if (angle) transform += ` rotate(${angle} ${size * 100} ${size * 100})`;\n  if (size !== 1) transform += ` scale(${size})`;\n\n  return transform ? transform.trim() : null;\n}\n\nexport function getElTransform(charge, p, shield) {\n  const positions = shieldPositions[shield] || shieldPositions.spanish;\n  const sizeModifier = shieldSize[shield] || 1;\n\n  const size = round((charge.size || 1) * sizeModifier);\n  const stretch = charge.stretch;\n  let sx = charge.sinister ? -size : size;\n  let sy = charge.reversed ? -size : size;\n  if (charge.stretch < 0) sx = round(sx * (1 - charge.stretch));\n  else if (charge.stretch > 0) sy = round(sy * (1 + charge.stretch));\n  let [x, y] = positions[p];\n  x = round(x - 100 * (sx - 1));\n  y = round(y - 100 * (sy - 1));\n\n  let transform = \"\";\n  if (x || y) transform += `translate(${x} ${y})`;\n  if (sx !== 1 || sy !== 1) transform += (sx === sy ? ` scale(${sx})` : ` scale(${sx} ${sy})`);\n\n  return transform ? transform.trim() : null;\n}\n","export const lines = {\n  straight: \"m 0,115 v -15 h 200 v 15\",\n  engrailed: `m 0,115 v -20 ${\"a 6.25,6.25 0 0 0 12.5,0\".repeat(16)} v 20`,\n  invecked: `m 0,115 v -12.5 ${\"a 6.25,6.25 0 0 1 12.5,0\".repeat(16)} v 12.5`,\n  embattled: `m 0,115 v -10 h 2.5 ${\"v -10 h 15 v 10 h 15\".repeat(6)} v -10 h 15 v 10 h 2.5 v 10`,\n  wavy: `m 0,115 v -15 ${\"c 8.9,-3.5 16,-3.1 25,0 8.9,3.5 16,3.1 25,0 8.9,-3.5 16,-3.2 25,0 8.9,3.5 16,3.2 25,0\".repeat(2)} v 15`,\n  raguly: `m 0,115 v -20 h 7 ${\"l -5,10 h 10 l 5,-10 h 10\".repeat(9)} l -5,10 h 10 l 5,-10 h 3 v 20`,\n  dancetty: `m 0,115 v -10 l 10,-15 ${\"l 15,20 15,-20\".repeat(6)} l 10,15 v 10`,\n  dentilly: `m 0,115 v -20 ${\"l 10,10 v -10\".repeat(19)} l 10,10 v 10`,\n  angled: \"m 0,115 v -20 h 100 v 10 h 100 v 10\",\n  urdy: `m 0,115 v -25 ${\"l 5,5 v 10 l 5,5 5,-5 v -10 l 5,-5\".repeat(3)} l 5,5 v 10 l 5,6 5,-6 v -10 l 5,-5 ${\"l 5,5 v 10 l 5,5 5,-5 v -10 l 5,-5\".repeat(2)} l 5,5 v 10 l 5,6 5,-6 v -10 l 5,-5 ${\"l 5,5 v 10 l 5,5 5,-5 v -10 l 5,-5\".repeat(3)} v 25`,\n  indented: `m 0,115 v -20 ${\"l 5,10 5,-10\".repeat(20)} v 20`,\n  bevilled: \"m 0,115 v -22.5 h 110 l -20,15 h 110 v 7.5\",\n  nowy: \"m 0,115 v -20 h 80 c 0,0 0.1,20.1 20,20 19.9,-0.1 20,-20 20,-20 h 80 v 20\",\n  nowyReversed: \"m 0,115 v -10 h 80 c 0,0 0.1,-20.1 20,-20 19.9,0.1 20,20 20,20 h 80 v 10\",\n  potenty: `m 0,115 v -10 ${\"h 7.5 v -5 h -5 v -5 h 15 v 5 h -5 v 5 h 7.5\".repeat(10)} v 10`,\n  potentyDexter: `m 0,115 v -20 h 3 ${\"v 10 h 10 v -5 h -5 v -5 h 10\".repeat(13)} v 10 h 2 v 20`,\n  potentySinister: `m 0,115 v -10 h 2.5 ${\"v -10 h 10 v 5 h -5 v 5 h 10\".repeat(13)} v -10 h 2.5 v 20`,\n  embattledGhibellin: `m 0,115 v -15 ${\"l 5,-5 v 10 l 5,-5 5,5 V 95 l 5,5\".repeat(10)} v 15`,\n  embattledNotched: `m 0,115 v -10 ${\"h 5 v -10 l 5,5 5,-5 v 10\".repeat(13)} h 5 v 10`,\n  embattledGrady: `m 0,115 v -20 ${\"h 2.5 v 5 h 5 v 5 h 5 v -5 h 5 v -5 h 2.5\".repeat(10)} v 20`,\n  dovetailed: `m 0,115 v -20 ${\"h 7 l -4,10 h 14 l -4,-10 h 7\".repeat(10)} v 20`,\n  dovetailedIndented: `m 0,115 v -15 ${\"l 7,-5 -4,10 7,-5 7,5 -4,-10 7,5\".repeat(10)} v 15`,\n  nebuly: `m 0,115 v -10.1 h 2.35 ${\"c 4,0 7.3,-2 7.3,-4.5 0,-1.2 -0.7,-2.3 -1.9,-3 -1.2,-0.8 -1.8,-1.9 -1.8,-3.1 0,-2.5 3.2,-4.5 7.2,-4.5 4.1,0 7.3,2 7.3,4.5 0,1.2 -0.7,2.3 -1.8,3.1 -1.2,0.7 -1.9,1.8 -1.9,3 0,2.5 3.3,4.5 7.3,4.5\".repeat(9)} h 2.35 v 10.1`,\n  rayonne: `m 0,115 v -5 ${\"a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4\".repeat(17)} a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.75 2.79 2.72 4.08 4.3 5.67 V 115`,\n  seaWaves: `m 0,115 v -14.89 ${\"c 1.59,-2.01 4.5,-5.18 8.74,-5.18 2.26,0 4.12,1.54 4.45,3.55 -0.57,-0.31 -1.23,-0.48 -1.93,-0.48 -2.16,0 -3.91,1.63 -3.91,3.64 0,2.01 1.75,3.64 3.91,3.64 4.25,0 7.16,-3.17 8.74,-5.18\".repeat(10)} v 14.89`,\n  dragonTeeth: `m 0,115 v -5.7 c 0,-2.7 2.4,4.2 3.9,5.7 ${\"c -1.5,-4.6 -1.9,-10.3 -0.8,-16.2 1.1,-5.9 3.5,-10.7 6.3,-13.8 -1.5,4.6 -1.9,10.3 -0.8,16.2 1.1,5.9 3.5,10.7 6.4,13.8\".repeat(17)} c -1.5,-4.6 -1.9,-10.3 -0.8,-16.2 1.1,-5.9 3.5,-10.7 6.3,-13.8 -1.5,4.6 -1.9,10.3 -0.8,16.2 0.6,2.9 1.5,5.6 2.7,8 v 5.7`,\n  firTrees: `m 0,115 v -15 l 2,-3.5 -2,0.5 4,-7 ${\"l 4,7 -2,-0.5 4,7 -2,-0.5 4,7 4,-7 -2,0.5 4,-7 -2,0.5 4,-7\".repeat(12)} 4,7 -2,-0.5 2,3.5 v 15`,\n  flechy: \"m 0,115 v -15 h 85 l 15,-15 15,15 h 85 v 15\",\n  barby: \"m 0,115 v -15 h 85 l 15,15 15,-15 h 85 v 15\",\n  enclavy: \"m 0,115 v -15 H 85 V 85 h 30 v 15 h 85 v 15\",\n  escartely: \"m 0,115 v -15 h 85 v 15 h 30 v -15 h 85 v 15\",\n  arched: \"m 0,115 c 0,0 60,-19.8 100,-20 c 40,-0.2 100,20 100,20\",\n  archedReversed: \"m 0,115 v -30 c 0,0 60,20.2 100,20 40,-0.2 100,-20 100,-20 v 30\"\n}\n\nexport const templates = {\n  // straight divisions\n  perFess: `<rect x=\"0\" y=\"100\" width=\"200\" height=\"100\"/>`,\n  perPale: `<rect x=\"100\" y=\"0\" width=\"100\" height=\"200\"/>`,\n  perBend: `<polygon points=\"0,0 200,200 0,200\"/>`,\n  perBendSinister: `<polygon points=\"200,0 0,200 200,200\"/>`,\n  perChevron: `<polygon points=\"0,200 100,100 200,200\"/>`,\n  perChevronReversed: `<polygon points=\"0,0 100,100 200,0\"/>`,\n  perCross: `<rect x=\"100\" y=\"0\" width=\"100\" height=\"100\"/><rect x=\"0\" y=\"100\" width=\"100\" height=\"100\"/>`,\n  perPile: `<polygon points=\"0,0 15,0 100,200 185,0 200,0 200,200 0,200\"/>`,\n  perSaltire: `<polygon points=\"0,0 0,200 200,0 200,200\"/>`,\n  gyronnyOfSixPerFess: `<polygon points=\"0,100 200,100 200,200 157.7,200 42.3,0 157.7,0 42.3,200 0,200\"/>`,\n  gyronnyOfSixPerPale: `<polygon points=\"100,0 100,200 200,200 200,157.7 0,42.3 0,157.7 200,42.3 200,0\"/>`,\n  gyronny: `<polygon points=\"0,0 200,200 200,100 0,100\"/><polygon points=\"200,0 0,200 100,200 100,0\"/>`,\n  gyronnyOfTenPerFess: `<polygon points=\"0,100 200,100 200,27.3 0,172.7 0,200 67.5,200 132.5,0 67.5,0 132.5,200 200,200 200,172.7 0,27.3\"/>`,\n  gyronnyOfTenPerPale: `<polygon points=\"100,0 100,200 27.3,200 172.7,0 200,0 200,67.5 0,132.5 0,67.5 200,132.5 200,200 172.7,200 27.3,0\"/>`,\n  gyronnyOfTwelve: `<polygon points=\"100,0 100,200 157.7,200 42.3,0\"/><polygon points=\"0,100 200,100 200,157.7 0,42.3\"/><polygon points=\"0,157.7 0,200 42.3,200 157.7,0 200,0 200,42.3\"/>`,\n  chevronny: `<path d=\"M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z\"/>`,\n  // lined divisions\n  perFessLined: line => `<path d=\"${line} V200 H0 Z\"/>`,\n  perPaleLined: line => `<path d=\"${line} V200 H0 Z\" transform=\"rotate(-90 100 100)\"/>`,\n  perBendLined: line => `<path d=\"${line} V200 H0 Z\" transform=\"translate(-10 -10) rotate(45 110 110) scale(1.1)\"/>`,\n  perBendSinisterLined: line => `<path d=\"${line} V200 H0 Z\" transform=\"translate(-10 -10) rotate(-45 110 110) scale(1.1)\"/>`,\n  perChevronLined: line => `<path d=\"${line} L100,200 Z\" transform=\"translate(129 71) rotate(-45 -100 100) scale(-1 1)\"/><path d=\"${line} L100,200 Z\" transform=\"translate(71 71) rotate(45 100 100)\"/>`,\n  perChevronReversedLined: line => `<path d=\"${line} L100,200 Z\" transform=\"translate(-70.7 -70.7) rotate(225 100 100)\"/><path d=\"${line} L100,200 Z\" transform=\"translate(270.7 -70.7) rotate(-225 -100 100) scale(-1 1)\"/>`,\n  perCrossLined: line => `<path d=\"${line} V400 H0 Z\" transform=\"translate(0 50) scale(.5)\"/><path d=\"${line} V400 H0 Z\" transform=\"translate(200 150) scale(-.5)\"/>`,\n  perPileLined: line => `<path d=\"${line} V200 H0 Z\" transform=\"translate(161.66 10) rotate(66.66 -100 100) scale(-1 1)\"/><path d=\"${line} V200 H0 Z\" transform=\"translate(38.33 10) rotate(-66.66 100 100)\"/>`,\n  // straight ordinaries\n  fess: `<rect x=\"0\" y=\"75\" width=\"200\" height=\"50\"/>`,\n  pale: `<rect x=\"75\" y=\"0\" width=\"50\" height=\"200\"/>`,\n  bend: `<polygon points=\"35,0 200,165 200,200 165,200 0,35 0,0\"/>`,\n  bendSinister: `<polygon points=\"0,165 165,0 200,0 200,35 35,200 0,200\"/>`,\n  chief: `<rect width=\"200\" height=\"75\"/>`,\n  bar: `<rect x=\"0\" y=\"87.5\" width=\"200\" height=\"25\"/>`,\n  gemelle: `<rect x=\"0\" y=\"76\" width=\"200\" height=\"16\"/><rect x=\"0\" y=\"108\" width=\"200\" height=\"16\"/>`,\n  fessCotissed: `<rect x=\"0\" y=\"67\" width=\"200\" height=\"8\"/><rect x=\"0\" y=\"83\" width=\"200\" height=\"34\"/><rect x=\"0\" y=\"125\" width=\"200\" height=\"8\"/>`,\n  fessDoubleCotissed: `<rect x=\"0\" y=\"60\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"72.5\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"85\" width=\"200\" height=\"30\"/><rect x=\"0\" y=\"120\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"132.5\" width=\"200\" height=\"7.5\"/>`,\n  bendlet: `<polygon points=\"22,0 200,178 200,200 178,200 0,22 0,0\"/>`,\n  bendletSinister: `<polygon points=\"0,178 178,0 200,0 200,22 22,200 0,200\"/>`,\n  terrace: `<rect x=\"0\" y=\"145\" width=\"200\" height=\"55\"/>`,\n  cross: `<polygon points=\"85,0 85,85 0,85 0,115 85,115 85,200 115,200 115,115 200,115 200,85 115,85 115,0\"/>`,\n  crossParted: `<path d=\"M 80 0 L 80 80 L 0 80 L 0 95 L 80 95 L 80 105 L 0 105 L 0 120 L 80 120 L 80 200 L 95 200 L 95 120 L 105 120 L 105 200 L 120 200 L 120 120 L 200 120 L 200 105 L 120 105 L 120 95 L 200 95 L 200 80 L 120 80 L 120 0 L 105 0 L 105 80 L 95 80 L 95 0 L 80 0 z M 95 95 L 105 95 L 105 105 L 95 105 L 95 95 z\"/>`,\n  saltire: `<path d=\"M 0,21 79,100 0,179 0,200 21,200 100,121 179,200 200,200 200,179 121,100 200,21 200,0 179,0 100,79 21,0 0,0 Z\"/>`,\n  saltireParted: `<path d=\"M 7 0 L 89 82 L 82 89 L 0 7 L 0 28 L 72 100 L 0 172 L 0 193 L 82 111 L 89 118 L 7 200 L 28 200 L 100 128 L 172 200 L 193 200 L 111 118 L 118 111 L 200 193 L 200 172 L 128 100 L 200 28 L 200 7 L 118 89 L 111 82 L 193 0 L 172 0 L 100 72 L 28 0 L 7 0 z M 100 93 L 107 100 L 100 107 L 93 100 L 100 93 z\"/>`,\n  mount: `<path d=\"m0,250 a100,100,0,0,1,200,0\"/>`,\n  point: `<path d=\"M0,200 Q80,180 100,135 Q120,180 200,200\"/>`,\n  flaunches: `<path d=\"M0,0 q120,100 0,200 M200,0 q-120,100 0,200\"/>`,\n  gore: `<path d=\"M20,0 Q30,75 100,100 Q80,150 100,200 L0,200 L0,0 Z\"/>`,\n  pall: `<polygon points=\"0,0 30,0 100,70 170,0 200,0 200,30 122,109 122,200 78,200 78,109 0,30\"/>`,\n  pallReversed: `<polygon points=\"0,200 0,170 78,91 78,0 122,0 122,91 200,170 200,200 170,200 100,130 30,200\"/>`,\n  chevron: `<polygon points=\"0,125 100,60 200,125 200,165 100,100 0,165\"/>`,\n  chevronReversed: `<polygon points=\"0,75 100,140 200,75 200,35 100,100 0,35\"/>`,\n  gyron: `<polygon points=\"0,0 100,100 0,100\"/>`,\n  quarter: `<rect width=\"100\" height=\"100\"/>`,\n  canton: `<rect width=\"75\" height=\"75\"/>`,\n  pile: `<polygon points=\"70,0 100,175 130,0\"/>`,\n  pileInBend: `<polygon points=\"200,200 200,144 25,25 145,200\"/>`,\n  pileInBendSinister: `<polygon points=\"0,200 0,144 175,25 55,200\"/>`,\n  piles: `<polygon points=\"46,0 75,175 103,0\"/><polygon points=\"95,0 125,175 154,0\"/>`,\n  pilesInPoint: `<path d=\"M15,0 100,200 60,0Z M80,0 100,200 120,0Z M140,0 100,200 185,0Z\"/>`,\n  label: `<path d=\"m 46,54.8 6.6,-15.6 95.1,0 5.9,15.5 -16.8,0.1 4.5,-11.8 L 104,43 l 4.3,11.9 -16.8,0 4.3,-11.8 -37.2,0 4.5,11.8 -16.9,0 z\"/>`,\n  // lined ordinaries\n  fessLined: line => `<path d=\"${line}\" transform=\"translate(0 -25)\"/><path d=\"${line}\" transform=\"translate(0 25) rotate(180 100 100)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" stroke=\"none\"/>`,\n  paleLined: line => `<path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0 -25)\"/><path d=\"${line}\" transform=\"rotate(90 100 100) translate(0 -25)\"/><rect x=\"88\" y=\"0\" width=\"24\" height=\"200\" stroke=\"none\"/>`,\n  bendLined: line => `<path d=\"${line}\" transform=\"translate(8 -18) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-28 18) rotate(225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" transform=\"translate(-10 0) rotate(45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  bendSinisterLined: line => `<path d=\"${line}\" transform=\"translate(-28 -18) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(8 18) rotate(-225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"88\" width=\"200\" height=\"24\" transform=\"translate(-10 0) rotate(-45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  chiefLined: line => `<path d=\"${line}\" transform=\"translate(0,-25) rotate(180.00001 100 100)\"/><rect width=\"200\" height=\"62\" stroke=\"none\"/>`,\n  barLined: line => `<path d=\"${line}\" transform=\"translate(0,-12.5)\"/><path d=\"${line}\" transform=\"translate(0,12.5) rotate(180.00001 100 100)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" stroke=\"none\"/>`,\n  gemelleLined: line => `<path d=\"${line}\" transform=\"translate(0,-22.5)\"/><path d=\"${line}\" transform=\"translate(0,22.5) rotate(180.00001 100 100)\"/>`,\n  fessCotissedLined: line => `<path d=\"${line}\" transform=\"translate(0 15) scale(1 .5)\"/><path d=\"${line}\" transform=\"translate(0 85) rotate(180 100 50) scale(1 .5)\"/><rect x=\"0\" y=\"80\" width=\"200\" height=\"40\"/>`,\n  fessDoubleCotissedLined: line => `<rect x=\"0\" y=\"85\" width=\"200\" height=\"30\"/><rect x=\"0\" y=\"72.5\" width=\"200\" height=\"7.5\"/><rect x=\"0\" y=\"120\" width=\"200\" height=\"7.5\"/><path d=\"${line}\" transform=\"translate(0 10) scale(1 .5)\"/><path d=\"${line}\" transform=\"translate(0 90) rotate(180 100 50) scale(1 .5)\"/>`,\n  bendletLined: line => `<path d=\"${line}\" transform=\"translate(2 -12) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-22 12) rotate(225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" transform=\"translate(-10 0) rotate(45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  bendletSinisterLined: line => `<path d=\"${line}\" transform=\"translate(-22 -12) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(2 12) rotate(-225 110 100) scale(1.1 1)\"/><rect x=\"0\" y=\"94\" width=\"200\" height=\"12\" transform=\"translate(-10 0) rotate(-45 110 100) scale(1.1 1)\" stroke=\"none\"/>`,\n  terraceLined: line => `<path d=\"${line}\" transform=\"translate(0,50)\"/><rect x=\"0\" y=\"164\" width=\"200\" height=\"36\" stroke=\"none\"/>`,\n  crossLined: line => `<path d=\"${line}\" transform=\"translate(0 -14.5)\"/><path d=\"${line}\" transform=\"rotate(180 100 100) translate(0 -14.5)\"/><path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0 -14.5)\"/><path d=\"${line}\" transform=\"rotate(-270 100 100) translate(0 -14.5)\"/>`,\n  crossPartedLined: line => `<path d=\"${line}\" transform=\"translate(0 -20)\"/><path d=\"${line}\" transform=\"rotate(180 100 100) translate(0 -20)\"/><path d=\"${line}\" transform=\"rotate(-90 100 100) translate(0 -20)\"/><path d=\"${line}\" transform=\"rotate(-270 100 100) translate(0 -20)\"/>`,\n  saltireLined: line => `<path d=\"${line}\" transform=\"translate(0 -10) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-20 10) rotate(225 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-20 -10) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(0 10) rotate(-225 110 100) scale(1.1 1)\"/>`,\n  saltirePartedLined: line => `<path d=\"${line}\" transform=\"translate(3 -13) rotate(45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-23 13) rotate(225 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(-23 -13) rotate(-45 110 100) scale(1.1 1)\"/><path d=\"${line}\" transform=\"translate(3 13) rotate(-225 110 100) scale(1.1 1)\"/>`\n}\n\nexport const patterns = {\n  semy: (p, c1, c2, size, chargeId) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 200 200\" patternUnits=\"userSpaceOnUse\" stroke=\"#000\"><rect width=\"200\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><g fill=\"${c2}\"><use transform=\"translate(-100 -50)\" href=\"#${chargeId}\"/><use transform=\"translate(100 -50)\" href=\"#${chargeId}\"/><use transform=\"translate(0 50)\" href=\"#${chargeId}\"/></g></pattern>`,\n  vair: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 50}\" viewBox=\"0 0 25 50\" patternUnits=\"userSpaceOnUse\" stroke=\"#000\" stroke-width=\".2\"><rect width=\"25\" height=\"25\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c2}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m25,25 l-6.25,6.25 v12.5 l-6.25,6.25 l-6.25,-6.25 v-12.5 l-6.25,-6.25 z\" fill=\"${c1}\"/><path d=\"M0 50 h25\" fill=\"none\"/></pattern>`,\n  counterVair: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 50}\" viewBox=\"0 0 25 50\" patternUnits=\"userSpaceOnUse\" stroke=\"#000\" stroke-width=\".2\"><rect width=\"25\" height=\"50\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m 12.5,0 6.25,6.25 v 12.5 L 25,25 18.75,31.25 v 12.5 L 12.5,50 6.25,43.75 V 31.25 L 0,25 6.25,18.75 V 6.25 Z\" fill=\"${c1}\"/></pattern>`,\n  vairInPale: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 25 25\" patternUnits=\"userSpaceOnUse\"><rect width=\"25\" height=\"25\" fill=\"${c1}\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c2}\" stroke=\"#000\" stroke-width=\".2\"/></pattern>`,\n  vairEnPointe: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 50}\" viewBox=\"0 0 25 50\" patternUnits=\"userSpaceOnUse\"><rect width=\"25\" height=\"25\" fill=\"${c2}\"/><path d=\"m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c1}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\" stroke-width=\"1\" stroke=\"${c1}\"/><path d=\"m12.5,25 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z\" fill=\"${c2}\"/></pattern>`,\n  vairAncien: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 100 100\" patternUnits=\"userSpaceOnUse\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><path fill=\"${c2}\" stroke=\"none\" d=\"m 0,90 c 10,0 25,-5 25,-40 0,-25 10,-40 25,-40 15,0 25,15 25,40 0,35 15,40 25,40 v 10 H 0 Z\"/><path fill=\"none\" stroke=\"#000\" d=\"M 0,90 c 10,0 25,-5 25,-40 0,-35 15,-40 25,-40 10,0 25,5 25,40 0,35 15,40 25,40 M0,100 h100\"/></pattern>`,\n  potent: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 200 200\" patternUnits=\"userSpaceOnUse\" stroke=\"#000\"><rect width=\"200\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><rect y=\"100\" width=\"200\" height=\"100\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m25 50h50v-50h50v50h50v50h-150z\" fill=\"${c2}\"/><path d=\"m25 100v50h50v50h50v-50h50v-50z\" fill=\"${c1}\"/><path d=\"m0 0h200 M0 100h200\" fill=\"none\"/></pattern>`,\n  counterPotent: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 200 200\" patternUnits=\"userSpaceOnUse\" stroke=\"none\"><rect width=\"200\" height=\"200\" fill=\"${c1}\"/><path d=\"m25 50h50v-50h50v50h50v100h-50v50h-50v-50h-50v-50z\" fill=\"${c2}\"/><path d=\"m0 0h200 M0 100h200 M0 200h200\"/></pattern>`,\n  potentInPale: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 12.5}\" viewBox=\"0 0 200 100\" patternUnits=\"userSpaceOnUse\" stroke-width=\"1\"><rect width=\"200\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m25 50h50v-50h50v50h50v50h-150z\" fill=\"${c2}\" stroke=\"#000\"/><path d=\"m0 0h200 M0 100h200\" fill=\"none\" stroke=\"#000\"/></pattern>`,\n  potentEnPointe: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 200 200\" patternUnits=\"userSpaceOnUse\" stroke=\"none\"><rect width=\"200\" height=\"200\" fill=\"${c1}\"/><path d=\"m0 0h25v50h50v50h50v-50h50v-50h25v100h-25v50h-50v50h-50v-50h-50v-50h-25v-100\" fill=\"${c2}\"/></pattern>`,\n  ermine: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 200 200\" patternUnits=\"userSpaceOnUse\" fill=\"${c2}\"><rect width=\"200\" height=\"200\" fill=\"${c1}\"/><g stroke=\"none\" fill=\"${c2}\"><g transform=\"translate(-100 -50)\"><path d=\"m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z\"/><path d=\"m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z\"/><path d=\"m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z\"/><path d=\"m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z\"/></g><g transform=\"translate(100 -50)\"><path d=\"m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z\"/><path d=\"m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z\"/><path d=\"m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z\"/><path d=\"m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z\"/></g><g transform=\"translate(0 50)\"><path d=\"m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z\"/><path d=\"m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z\"/><path d=\"m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z\"/><path d=\"m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z\"/></g></g></pattern>`,\n  chequy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 50}\" height=\"${size * 50}\" viewBox=\"0 0 50 50\" patternUnits=\"userSpaceOnUse\" fill=\"${c2}\"><rect width=\"50\" height=\"50\"/><rect width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"25\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  lozengy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 50 50\" patternUnits=\"userSpaceOnUse\"><rect width=\"50\" height=\"50\" fill=\"${c1}\"/><polygon points=\"25,0 50,25 25,50 0,25\" fill=\"${c2}\"/></pattern>`,\n  fusily: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 50}\" viewBox=\"0 0 50 100\" patternUnits=\"userSpaceOnUse\"><rect width=\"50\" height=\"100\" fill=\"${c2}\"/><polygon points=\"25,0 50,50 25,100 0,50\" fill=\"${c1}\"/></pattern>`,\n  pally: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 100}\" height=\"${size * 25}\" viewBox=\"0 0 100 25\" patternUnits=\"userSpaceOnUse\"><rect width=\"100\" height=\"25\" fill=\"${c2}\"/><rect x=\"25\" y=\"0\" width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"75\" y=\"0\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  barry: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 100}\" viewBox=\"0 0 25 100\" patternUnits=\"userSpaceOnUse\"><rect width=\"25\" height=\"100\" fill=\"${c2}\"/><rect x=\"0\" y=\"25\" width=\"25\" height=\"25\" fill=\"${c1}\"/><rect x=\"0\" y=\"75\" width=\"25\" height=\"25\" fill=\"${c1}\"/></pattern>`,\n  gemelles: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 50 50\" patternUnits=\"userSpaceOnUse\"><rect width=\"50\" height=\"50\" fill=\"${c1}\"/><rect y=\"5\" width=\"50\" height=\"10\" fill=\"${c2}\"/><rect y=\"40\" width=\"50\" height=\"10\" fill=\"${c2}\"/></pattern>`,\n  bendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 100}\" height=\"${size * 100}\" viewBox=\"0 0 100 100\" patternUnits=\"userSpaceOnUse\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><polygon points=\"0,25 75,100 25,100 0,75\" fill=\"${c2}\"/><polygon points=\"25,0 75,0 100,25 100,75\" fill=\"${c2}\"/></pattern>`,\n  bendySinister: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 100}\" height=\"${size * 100}\" viewBox=\"0 0 100 100\" patternUnits=\"userSpaceOnUse\"><rect width=\"100\" height=\"100\" fill=\"${c2}\"/><polygon points=\"0,25 25,0 75,0 0,75\" fill=\"${c1}\"/><polygon points=\"25,100 100,25 100,75 75,100\" fill=\"${c1}\"/></pattern>`,\n  palyBendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 125.16}\" height=\"${size * 71.52}\" viewBox=\"0 0 175 100\" patternUnits=\"userSpaceOnUse\"><rect y=\"0\" x=\"0\" width=\"175\" height=\"100\" fill=\"${c2}\"/><g fill=\"${c1}\"><path d=\"m0 20 35 30v50l-35-30z\"/><path d=\"m35 0 35 30v50l-35-30z\"/><path d=\"m70 0h23l12 10v50l-35-30z\"/><path d=\"m70 80 23 20h-23z\"/><path d=\"m105 60 35 30v10h-35z\"/><path d=\"m105 0h35v40l-35-30z\"/><path d=\"m 140,40 35,30 v 30 h -23 l -12,-10z\"/><path d=\"M 175,0 V 20 L 152,0 Z\"/></g></pattern>`,\n  barryBendy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 71.44}\" height=\"${size * 125.02}\" viewBox=\"0 0 100 175\" patternUnits=\"userSpaceOnUse\"><rect width=\"100\" height=\"175\" fill=\"${c2}\"/><g fill=\"${c1}\"><path d=\"m20 0 30 35h50l-30-35z\"/><path d=\"m0 35 30 35h50l-30-35z\"/><path d=\"m0 70v23l10 12h50l-30-35z\"/><path d=\"m80 70 20 23v-23z\"/><path d=\"m60 105 30 35h10v-35z\"/><path d=\"m0 105v35h40l-30-35z\"/><path d=\"m 40,140 30,35 h 30 v -23 l -10,-12 z\"/><path d=\"m0 175h20l-20-23z\"/></g></pattern>`,\n  pappellony: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 100 100\" patternUnits=\"userSpaceOnUse\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><circle cx=\"0\" cy=\"51\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/><circle cx=\"100\" cy=\"51\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/><circle cx=\"50\" cy=\"1\" r=\"45\" stroke=\"${c2}\" fill=\"${c1}\" stroke-width=\"10\"/></pattern>`,\n  pappellony2: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 100 100\" patternUnits=\"userSpaceOnUse\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"100\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><circle cy=\"50\" r=\"49\" fill=\"${c2}\"/><circle cx=\"100\" cy=\"50\" r=\"49\" fill=\"${c2}\"/><circle cx=\"50\" cy=\"0\" r=\"49\" fill=\"${c1}\"/></pattern>`,\n  scaly: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 100 100\" patternUnits=\"userSpaceOnUse\" stroke=\"#000\"><rect width=\"100\" height=\"100\" fill=\"${c1}\" stroke=\"none\"/><path d=\"M 0,84 C -40,84 -50,49 -50,49 -50,79 -27,99 0,99 27,99 50,79 50,49 50,49 40,84 0,84 Z\" fill=\"${c2}\"/><path d=\"M 100,84 C 60,84 50,49 50,49 c 0,30 23,50 50,50 27,0 50,-20 50,-50 0,0 -10,35 -50,35 z\" fill=\"${c2}\"/><path d=\"M 50,35 C 10,35 0,0 0,0 0,30 23,50 50,50 77,50 100,30 100,0 100,0 90,35 50,35 Z\" fill=\"${c2}\"/></pattern>`,\n  plumetty: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 50}\" viewBox=\"0 0 50 100\" patternUnits=\"userSpaceOnUse\" stroke-width=\".8\"><rect width=\"50\" height=\"100\" fill=\"${c2}\" stroke=\"none\"/><path fill=\"${c1}\" stroke=\"none\" d=\"M 25,100 C 44,88 49.5,74 50,50 33.5,40 25,25 25,4e-7 25,25 16.5,40 0,50 0.5,74 6,88 25,100 Z\"/><path fill=\"none\" stroke=\"${c2}\" d=\"m17 40c5.363 2.692 10.7 2.641 16 0m-19 7c7.448 4.105 14.78 3.894 22 0m-27 7c6-2 10.75 3.003 16 3 5.412-0.0031 10-5 16-3m-35 9c4-7 12 3 19 2 7 1 15-9 19-2m-35 6c6-2 11 3 16 3s10-5 16-3m-30 7c8 0 8 3 14 3s7-3 14-3m-25 8c7.385 4.048 14.72 3.951 22 0m-19 8c5.455 2.766 10.78 2.566 16 0m-8 6v-78\"/><g fill=\"none\" stroke=\"${c1}\"><path d=\"m42 90c2.678 1.344 5.337 2.004 8 2m-11 5c3.686 2.032 7.344 3.006 10.97 3m0.0261-1.2e-4v-30\"/><path d=\"m0 92c2.689 0.0045 5.328-0.6687 8-2m-8 10c3.709-0.0033 7.348-1.031 11-3m-11 3v-30\"/><path d=\"m0 7c5.412-0.0031 10-5 16-3m-16 11c7 1 15-9 19-2m-19 9c5 0 10-5 16-3m-16 10c6 0 7-3 14-3m-14.02 11c3.685-0.002185 7.357-1.014 11.02-3m-11 10c2.694-0.01117 5.358-0.7036 7.996-2m-8 6v-48\"/><path d=\"m34 4c6-2 10.75 3.003 16 3m-19 6c4-7 12 3 19 2m-16 4c6-2 11 3 16 3m-14 4c8 0 8 3 14 3m-11 5c3.641 1.996 7.383 2.985 11 3m-8 5c2.762 1.401 5.303 2.154 8.002 2.112m-0.00154 3.888v-48\"/></g></pattern>`,\n  masoned: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 25}\" height=\"${size * 25}\" viewBox=\"0 0 100 100\" patternUnits=\"userSpaceOnUse\" fill=\"none\"><rect width=\"100\" height=\"100\" fill=\"${c1}\"/><rect width=\"100\" height=\"50\" stroke=\"${c2}\" stroke-width=\"4\"/><line x1=\"50\" y1=\"50\" x2=\"50\" y2=\"100\" stroke=\"${c2}\" stroke-width=\"5\"/></pattern>`,\n  fretty: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 40}\" height=\"${size * 40}\" viewBox=\"0 0 140 140\" patternUnits=\"userSpaceOnUse\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"140\" height=\"140\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m-15 5 150 150 20-20-150-150z\" fill=\"${c2}\"/><path d=\"m10 150 140-140-20-20-140 140z\" fill=\"${c2}\" stroke=\"none\"/><path d=\"m0 120 20 20 120-120-20-20z\" fill=\"none\"/></pattern>`,\n  grillage: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 50}\" height=\"${size * 50}\" viewBox=\"0 0 200 200\" patternUnits=\"userSpaceOnUse\" stroke=\"#000\" stroke-width=\"2\"><rect width=\"200\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m205 65v-30h-210v30z\" fill=\"${c2}\"/><path d=\"m65-5h-30v210h30z\" fill=\"${c2}\"/><path d=\"m205 165v-30h-210v30z\" fill=\"${c2}\"/><path d=\"m165,65h-30v140h30z\" fill=\"${c2}\"/><path d=\"m 165,-5h-30v40h30z\" fill=\"${c2}\"/></pattern>`,\n  chainy: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 33.4}\" height=\"${size * 33.4}\" viewBox=\"0 0 200 200\" patternUnits=\"userSpaceOnUse\" stroke=\"#000\" stroke-width=\"2\"><rect x=\"-6.691e-6\" width=\"200\" height=\"200\" fill=\"${c1}\" stroke=\"none\"/><path d=\"m155-5-20-20-160 160 20 20z\" fill=\"${c2}\"/><path d=\"m45 205 160-160 20 20-160 160z\" fill=\"${c2}\"/><path d=\"m45-5 20-20 160 160-20 20-160-160\" fill=\"${c2}\"/><path d=\"m-5 45-20 20 160 160 20-20-160-160\" fill=\"${c2}\"/></pattern>`,\n  maily: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 33.4}\" height=\"${size * 33.4}\" viewBox=\"0 0 200 200\" patternUnits=\"userSpaceOnUse\" stroke=\"#000\" stroke-width=\"1.2\"><path fill=\"${c1}\" stroke=\"none\" d=\"M0 0h200v200H0z\"/><g fill=\"${c2}\"><path d=\"m80-2c-5.27e-4 2.403-0.1094 6.806-0.3262 9.199 5.014-1.109 10.1-1.768 15.19-2.059 0.09325-1.712 0.1401-5.426 0.1406-7.141z\"/><path d=\"m100 5a95 95 0 0 0-95 95 95 95 0 0 0 95 95 95 95 0 0 0 95-95 95 95 0 0 0-95-95zm0 15a80 80 0 0 1 80 80 80 80 0 0 1-80 80 80 80 0 0 1-80-80 80 80 0 0 1 80-80z\"/><path d=\"m92.8 20.33c-5.562 0.4859-11.04 1.603-16.34 3.217-7.793 25.31-27.61 45.12-52.91 52.91-5.321 1.638-10.8 2.716-16.34 3.217-2.394 0.2168-6.796 0.3256-9.199 0.3262v15c1.714-4.79e-4 5.429-0.04737 7.141-0.1406 5.109-0.2761 10.19-0.9646 15.19-2.059 36.24-7.937 64.54-36.24 72.47-72.47z\"/><path d=\"m202 80c-2.403-5.31e-4 -6.806-0.1094-9.199-0.3262 1.109 5.014 1.768 10.1 2.059 15.19 1.712 0.09326 5.426 0.1401 7.141 0.1406z\"/><path d=\"m179.7 92.8c-0.4859-5.562-1.603-11.04-3.217-16.34-25.31-7.793-45.12-27.61-52.91-52.91-1.638-5.321-2.716-10.8-3.217-16.34-0.2168-2.394-0.3256-6.796-0.3262-9.199h-15c4.8e-4 1.714 0.0474 5.429 0.1406 7.141 0.2761 5.109 0.9646 10.19 2.059 15.19 7.937 36.24 36.24 64.54 72.47 72.47z\"/><path d=\"m120 202c5.3e-4 -2.403 0.1094-6.806 0.3262-9.199-5.014 1.109-10.1 1.768-15.19 2.059-0.0933 1.712-0.1402 5.426-0.1406 7.141z\"/><path d=\"m107.2 179.7c5.562-0.4859 11.04-1.603 16.34-3.217 7.793-25.31 27.61-45.12 52.91-52.91 5.321-1.638 10.8-2.716 16.34-3.217 2.394-0.2168 6.796-0.3256 9.199-0.3262v-15c-1.714 4.7e-4 -5.429 0.0474-7.141 0.1406-5.109 0.2761-10.19 0.9646-15.19 2.059-36.24 7.937-64.54 36.24-72.47 72.47z\"/><path d=\"m -2,120 c 2.403,5.4e-4 6.806,0.1094 9.199,0.3262 -1.109,-5.014 -1.768,-10.1 -2.059,-15.19 -1.712,-0.0933 -5.426,-0.1402 -7.141,-0.1406 z\"/><path d=\"m 20.33,107.2 c 0.4859,5.562 1.603,11.04 3.217,16.34 25.31,7.793 45.12,27.61 52.91,52.91 1.638,5.321 2.716,10.8 3.217,16.34 0.2168,2.394 0.3256,6.796 0.3262,9.199 L 95,202 c -4.8e-4,-1.714 -0.0472,-5.44 -0.1404,-7.152 -0.2761,-5.109 -0.9646,-10.19 -2.059,-15.19 -7.937,-36.24 -36.24,-64.54 -72.47,-72.47 z\"/></g></pattern>`,\n  honeycombed: (p, c1, c2, size) => `<pattern id=\"${p}\" width=\"${size * 28.6}\" height=\"${size * 49.028}\" viewBox=\"0 0 70 120\" patternUnits=\"userSpaceOnUse\"><rect width=\"70\" height=\"120\" fill=\"${c1}\"/><path d=\"M 70,0 V 20 L 35,40 m 35,80 V 100 L 35,80 M 0,120 V 100 L 35,80 V 40 L 0,20 V 0\" stroke=\"${c2}\" fill=\"none\" stroke-width=\"3\"/></pattern>`\n}\n","import {get} from \"svelte/store\";\nimport {templates, lines, patterns} from \"data/templates\";\nimport {shieldPaths} from \"data/shields\";\nimport {colors, shield, uploaded} from \"data/stores\";\n\nconst chargesGroup = document.getElementById(\"charges\");\nconst colorsData = get(colors);\nconst loadedCharges = {};\nconst customCharges = get(uploaded);\n\nexport const getTemplate = (id, line) => {\n  const linedId = id + \"Lined\";\n  if (!line || line === \"straight\" || !templates[linedId]) return templates[id];\n  const linePath = lines[line];\n  return templates[linedId](linePath);\n};\n\nexport const addPattern = patternId => {\n  if (!patternId) return console.error(\"No patternId\");\n  const elem = document.getElementById(patternId);\n\n  const [pattern, t1, t2, size] = patternId.split(\"-\");\n  const charge = semy(patternId);\n  if (charge) addCharge(charge);\n\n  const html = patterns[charge ? \"semy\" : pattern](patternId, clr(t1), clr(t2), getSizeMod(size), charge);\n  if (elem?.outerHTML === html) return; // already added\n  elem?.remove();\n  document.getElementById(\"patterns\").insertAdjacentHTML(\"beforeend\", html);\n};\n\nfunction checkPattern(string) {\n  if (string?.includes(\"-\")) addPattern(string);\n}\n\nexport function addShieldPatterns(coa) {\n  checkPattern(coa.t1);\n  checkPattern(coa.division?.t);\n  for (let o of coa.ordinaries || []) {\n    checkPattern(o.t);\n  }\n  for (let c of coa.charges || []) {\n    checkPattern(c.t);\n    checkPattern(c.t2);\n    checkPattern(c.t3);\n  }\n}\n\nfunction semy(string) {\n  const isSemy = /^semy/.test(string);\n  if (!isSemy) return false;\n  return string.match(/semy_of_(.*?)-/)[1];\n}\n\nexport function addCharge(charge) {\n  charge.slice(0, 12) === \"inescutcheon\" ? addInescutcheon(charge) : fetchCharge(charge);\n}\n\nfunction addInescutcheon(charge) {\n  const shieldName = charge.length > 12 ? charge.slice(12, 13).toLowerCase() + charge.slice(13) : get(shield);\n  const id = charge.length > 12 ? charge : \"inescutcheon\" + shieldName.charAt(0).toUpperCase() + shieldName.slice(1);\n\n  if (loadedCharges[id]) return; // already added\n  loadedCharges[id] = true;\n\n  const licenseAttrs = [\"noldor\", \"gondor\", \"easterling\", \"ironHills\", \"urukHai\", \"moriaOrc\"].includes(shieldName)\n    ? `author=\"Weta Workshop\" source=\"www.wetanz.com\" license=\"https://en.wikipedia.org/wiki/Fair_use\"`\n    : `author=Azgaar license=\"https://creativecommons.org/publicdomain/zero/1.0\"`;\n  const g = `<g id=${id} ${licenseAttrs}><path transform=\"translate(67 67) scale(.33)\" d=\"${shieldPaths[shieldName]}\"/></g>`;\n  chargesGroup.insertAdjacentHTML(\"beforeend\", g);\n}\n\nfunction fetchCharge(charge) {\n  if (loadedCharges[charge]) return; // already added\n  loadedCharges[charge] = true;\n\n  if (customCharges[charge]) {\n    const {type, data, content} = customCharges[charge];\n    chargesGroup.insertAdjacentHTML(\"beforeend\", content);\n    return;\n  }\n\n  fetch(\"charges/\" + charge + \".svg\")\n    .then(res => {\n      if (res.ok) return res.text();\n      else throw new Error(`Cannot fetch charge ${charge}`);\n    })\n    .then(text => {\n      const el = document.createElement(\"html\");\n      el.innerHTML = text;\n      const g = el.querySelector(\"g\");\n      const metadata = el.getElementsByTagName(\"metadata\")[0];\n\n      if (metadata) {\n        const author = metadata.getAttribute(\"author\");\n        const source = metadata.getAttribute(\"source\");\n        const license = metadata.getAttribute(\"license\");\n        if (author) g.setAttribute(\"author\", author);\n        if (source) g.setAttribute(\"source\", source);\n        if (license) g.setAttribute(\"license\", license);\n      }\n\n      chargesGroup.insertAdjacentHTML(\"beforeend\", g.outerHTML);\n    })\n    .catch(err => console.error(err.message));\n}\n\nexport function removeCharge(charge) {\n  document.getElementById(charge)?.remove();\n  delete loadedCharges[charge];\n}\n\nexport function updateCharge(charge) {\n  removeCharge(charge);\n  fetchCharge(charge);\n}\n\nfunction clr(tincture) {\n  if (!colorsData[tincture]) throw new Error(`Tincture ${tincture} is not found`);\n  return colorsData[tincture];\n}\n\nfunction getSizeMod(size) {\n  if (size === \"small\") return 0.8;\n  if (size === \"smaller\") return 0.5;\n  if (size === \"smallest\") return 0.25;\n  if (size === \"big\") return 1.6;\n  if (size === \"bigger\") return 2;\n  return 1;\n}\n\nfunction round(number, precision = 3) {\n  return Math.round(number * 10**precision) / 10**precision;\n}\n\nexport function analyzePath(string) {\n  // Line\n  let match = string.match(/^M(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?) L(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)$/);\n  if (match) {\n    const values = match.splice(1).map(x => Number(x));\n    return {\n      type: \"line\",\n      points: [\n        {index: 0, x: values[0], y: values[1]},\n        {index: 1, x: values[2], y: values[3]}\n      ]\n    };\n  }\n\n  // Quadratic Bezier curve\n  match = string.match(/^M(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?) Q(-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?) (-?\\d+(?:\\.\\d+)?)$/);\n  if (match) {\n    const values = match.splice(1).map(x => Number(x));\n    return {\n      type: \"curve\",\n      points: [\n        {index: 0, x: values[0], y: values[1]},\n        {index: 1, x: values[4], y: values[5]},\n        {index: 2, x: values[2], y: values[3]}\n      ]\n    };\n  }\n\n  // Custom path\n  return {\n    type: \"custom\"\n  };\n}\n\nexport function buildPath(type, points) {\n  if (type === \"line\")\n    return `M${round(points[0].x)} ${round(points[0].y)} L${round(points[1].x)} ${round(points[1].y)}`;\n  if (type === \"curve\")\n    return `M${round(points[0].x)} ${round(points[0].y)} Q${round(points[2].x)} ${round(points[2].y)} ${round(points[1].x)} ${round(points[1].y)}`;\n  return null;\n}\n","<script>\n  import {drag, transform} from \"scripts/drag\";\n  import {getTemplate} from \"scripts/getters\";\n  import {highlight, lowlight} from \"scripts/highlight\";\n  export let coa, ordinary, i, shieldPath, t, type;\n\n  let stroke, width;\n  $: {\n    stroke = ordinary.stroke || \"none\";\n    width = ordinary.strokeWidth || 1;\n  }\n\n  function addDrag(event) {\n    if (type !== \"Edit\") return;\n    drag(event, ordinary, coa);\n  }\n</script>\n\n<g\n  class=\"ordinary\"\n  {i}\n  transform={transform(ordinary)}\n  fill={t}\n  {stroke}\n  stroke-width={width}\n  on:mousedown={addDrag}\n  on:mouseenter={type === \"Edit\" ? highlight(\"menu\", \"ordinary\", i) : null}\n  on:mouseleave={type === \"Edit\" ? lowlight(\"menu\", \"ordinary\", i) : null}\n>\n  {#if ordinary.ordinary === \"bordure\"}\n    <path d={shieldPath} fill=\"none\" stroke={t} stroke-width=\"33.3\" />\n  {:else if ordinary.ordinary === \"orle\"}\n    <path d={shieldPath} fill=\"none\" stroke={t} stroke-width=\"10\" transform=\"translate(15 15) scale(.85)\" />\n  {:else}\n    <!-- Remove superfluous <g> for Svelte >= 3.48 (see https://github.com/sveltejs/svelte/issues/7450) -->\n    <g>{@html getTemplate(ordinary.ordinary, ordinary.line)}</g>\n  {/if}\n</g>\n","<script lang=\"ts\">\n  // @ts-check\n  import {shieldPositions} from \"data/shields\";\n  import {shield} from \"data/stores\";\n  import {drag, transform, getElTransform} from \"scripts/drag\";\n  import {highlight, lowlight} from \"scripts/highlight\";\n  import type {Coa, Charge} from \"types/coa\";\n\n  export let coa: Coa;\n  export let charge: Charge;\n  export let i: number;\n  export let t: string;\n  export let t2: string | undefined = undefined;\n  export let t3: string | undefined = undefined;\n  export let hideBackground: boolean = false;\n  export let type: string;\n\n  let chargeId: string;\n  let validPositions: string[];\n  let coaShield: string;\n\n  $: coaShield = coa.shield || $shield;\n\n  $: {\n    const positions = shieldPositions[coaShield] || shieldPositions.spanish;\n    validPositions = [...new Set(charge.p)].filter(p => positions[p]);\n  }\n\n  $: {\n    chargeId = charge.charge;\n    // select shield shape if charge is just 'inescutcheon'\n    if (chargeId === \"inescutcheon\") chargeId = \"inescutcheon\" + coaShield.charAt(0).toUpperCase() + coaShield.slice(1);\n  }\n\n  function addDrag(event: Event) {\n    if (type !== \"Edit\") return;\n    drag(event, charge, coa);\n  }\n</script>\n\n<g\n  class=\"charge\"\n  {i}\n  charge={chargeId}\n  fill={t}\n  transform={transform(charge)}\n  stroke={charge.stroke || \"#000\"}\n  on:mousedown={addDrag}\n  on:mouseenter={type === \"Edit\" ? highlight(\"menu\", \"charge\", i) : null}\n  on:mouseleave={type === \"Edit\" ? lowlight(\"menu\", \"charge\", i) : null}\n  style=\"--secondary: {t2 || t}; --tertiary: {t3 || t}; --stroke: {charge.stroke || \"#000\"}; --background: {hideBackground ? 'none' : 'block'}\"\n>\n  {#each validPositions as position}\n    <use xlink:href=\"#{chargeId}\" transform={getElTransform(charge, position, coaShield)} />\n  {/each}\n</g>\n","<script lang=\"ts\">\n  // @ts-check\n  import {fade} from \"svelte/transition\";\n  import {state} from \"data/stores\";\n  import {drag} from \"scripts/drag\";\n  import {analyzePath, buildPath} from \"scripts/getters\";\n  import {highlight, lowlight} from \"scripts/highlight\";\n  import type {Coa, Inscription} from \"types/coa\";\n\n  export let coa: Coa;\n  export let inscription: Inscription;\n  export let pathId: string;\n  export let i: number;\n  export let type: string;\n\n  let pathData = analyzePath(inscription.path);\n  $: isSelected = $state.selectedPath === i;\n  $: lines = inscription.text.split(\"|\");\n\n  const addInscriptionDrag = (event: Event) => {\n    if (type !== \"Edit\") return;\n    if (pathData.type == \"custom\") return; // not supported\n\n    $state.selectedPath = i;\n    $state.pathChangeMode = -1;\n    drag(event, {x: 0, y: 0}, coa, {move: true, resize: false, rotate: false, onEnd});\n\n    function onEnd(element) {\n      pathData.points.forEach(p => {\n        p.x += element.x;\n        p.y += element.y;\n      });\n      inscription.path = buildPath(pathData.type, pathData.points);\n    }\n  };\n\n  const addPointDrag = (point: {index: number; x: number; y: number}) => (event: Event) => {\n    if (type !== \"Edit\") return;\n    $state.selectedPath = i;\n\n    $state.pathChangeMode = point.index;\n    drag(event, point, coa, {move: true, resize: false, rotate: false, onMove});\n\n    function onMove(event, element) {\n      pathData.points[element.index] = element;\n      inscription.path = buildPath(pathData.type, pathData.points);\n    }\n  };\n</script>\n\n<g transform=\"translate(100, 100)\">\n  <g\n    class=\"inscription\"\n    {i}\n    tabindex=\"-1\"\n    on:mousedown={addInscriptionDrag}\n    on:mouseenter={type === \"Edit\" ? highlight(\"menu\", \"inscription\", i) : null}\n    on:mouseleave={type === \"Edit\" ? lowlight(\"menu\", \"inscription\", i) : null}\n  >\n    <path id={pathId} class=\"text-path\" fill=\"none\" stroke={isSelected ? \"black\" : \"none\"} d={inscription.path} />\n\n    <text\n      letter-spacing={inscription.spacing}\n      fill={inscription.color}\n      font-family={inscription.font}\n      font-size=\"{inscription.size}px\"\n      font-weight={inscription.bold ? \"bold\" : \"normal\"}\n      font-style={inscription.italic ? \"italic\" : \"normal\"}\n      dominant-baseline=\"middle\"\n      style={inscription.shadow\n        ? `text-shadow: ${inscription.shadow.x}px ${inscription.shadow.y}px ${inscription.shadow.blur}px ${inscription.shadow.color}`\n        : null}\n    >\n      <textPath href=\"#{pathId}\" text-anchor=\"middle\" startOffset=\"50%\">\n        {#each lines as line, index}\n          <tspan x=\"0\" dy=\"{index > 0 ? 1 : -0.5 * (lines.length - 1)}em\">{line}</tspan>\n        {/each}\n      </textPath>\n    </text>\n\n    {#if isSelected}\n      <g class=\"points\" transition:fade|local>\n        {#each pathData.points || [] as point}\n          <circle transform=\"translate({point.x} {point.y})\" r=\"3\" on:mousedown|stopPropagation={addPointDrag(point)} />\n        {/each}\n      </g>\n    {/if}\n  </g>\n</g>\n\n<style>\n  .text-path {\n    stroke-width: 2;\n    stroke-opacity: 0.3;\n  }\n\n  .points circle {\n    fill: red;\n    stroke: #841f1f;\n    cursor: move;\n  }\n\n  g:focus {\n    /* for Edge */\n    outline: none;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import Ordinary from \"./Ordinary.svelte\";\n  import Charge from \"./Charge.svelte\";\n  import Inscription from \"./Inscription.svelte\";\n  import {shield, colors, grad, diaper} from \"data/stores\";\n  import {shieldPaths} from \"data/shields\";\n  import {getTemplate, addPattern, addCharge} from \"scripts/getters\";\n  import type {Coa} from \"types/coa\";\n\n  export let coa: Coa;\n  export let border: string;\n  export let borderWidth: number;\n  export let type: string;\n\n  const id = coa.seed || Math.floor(Math.random() * 1e9);\n  const {division, ordinaries = [], charges = [], inscriptions = []} = coa;\n  const ordinariesRegular = ordinaries.filter(o => !o.above);\n  const ordinariesAboveCharges = ordinaries.filter(o => o.above);\n  charges.forEach(({charge}) => addCharge(charge));\n\n  $: shieldPath = shieldPaths[coa.shield || $shield];\n  $: coaDiaper = type === \"menuItem\" ? null : coa.diaper || $diaper;\n  $: diaperType = getDieperType(coaDiaper);\n  $: overFill = !$grad || $grad === \"no\" ? \"none\" : `url(#${$grad})`;\n\n  // get color or link to pattern\n  $: clr = (tincture: string) => {\n    if (!tincture) return null;\n    if ($colors[tincture]) return $colors[tincture];\n    if (tincture.includes(\"-\")) {\n      addPattern(tincture);\n    } else {\n      console.warn(`Tincture ${tincture} not found, fallback to black`);\n      return \"#000000\";\n    }\n    return \"url(#\" + tincture + \")\";\n  };\n\n  function getDieperType(coaDiaper: string) {\n    if (!coaDiaper || coaDiaper === \"no\") return null;\n    const f = !coa.t1.includes(\"-\");\n    const d = !division?.t.includes(\"-\");\n    if (f && d) return \"overall\";\n    if (f) return \"field\";\n    if (d) return \"division\";\n    return null;\n  }\n</script>\n\n<defs>\n  <clipPath id=\"shield_{id}\">\n    <path d={shieldPath} />\n  </clipPath>\n  {#if division && division.division !== \"no\"}\n    <clipPath id=\"division_{id}\">\n      {@html getTemplate(division.division, division.line)}\n    </clipPath>\n  {/if}\n\n  <style>\n    .secondary {\n      fill: var(--secondary);\n    }\n    .tertiary {\n      fill: var(--tertiary);\n    }\n    .pseudostroke {\n      fill: var(--stroke);\n    }\n    .background {\n      display: var(--background);\n    }\n  </style>\n</defs>\n\n{#each charges as charge, i}\n  {#if charge.outside === \"below\" || charge.outside === \"around\"}\n    <Charge {coa} {charge} {i} t={clr(charge.t)} t2={clr(charge.t2)} t3={clr(charge.t3)} {type} />\n  {/if}\n{/each}\n\n{#each charges as charge, i}\n  {#if charge.outside === \"below\" && charge.layered}\n    <Charge {coa} {charge} {i} t={clr(charge.t)} t2={clr(charge.t2)} t3={clr(charge.t3)} hideBackground={true} {type} />\n  {/if}\n{/each}\n\n<g clip-path=\"url(#shield_{id})\">\n  <!-- Field -->\n  <rect class=\"field\" x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill={clr(coa.t1)} />\n\n  {#if division && division.division !== \"no\"}\n    <!-- In field part -->\n    {#each ordinariesRegular as ordinary, i}\n      {#if ordinary.divided === \"field\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n      {:else if ordinary.divided === \"counter\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(division.t)} {type} />\n      {/if}\n    {/each}\n\n    {#if diaperType === \"field\"}\n      <rect class=\"diaper\" x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill=\"url(#{coaDiaper})\" style=\"pointer-events: none\" />\n    {/if}\n\n    {#each charges as charge, i}\n      {#if charge.divided === \"field\"}\n        <Charge {coa} {charge} {i} t={clr(charge.t)} t2={clr(charge.t2)} t3={clr(charge.t3)} {type} />\n      {:else if charge.divided === \"counter\"}\n        <Charge {coa} {charge} {i} t={clr(division.t)} {type} />\n      {/if}\n    {/each}\n\n    {#each charges as charge, i}\n      {#if charge.divided === \"field\" && charge.layered}\n        <Charge {coa} {charge} {i} t={clr(charge.t)} t2={clr(charge.t2)} t3={clr(charge.t3)} hideBackground={true} {type} />\n      {:else if charge.divided === \"counter\" && charge.layered}\n        <Charge {coa} {charge} {i} t={clr(division.t)} {type} hideBackground={true} />\n      {/if}\n    {/each}\n\n    {#each ordinariesAboveCharges as ordinary, i}\n      {#if ordinary.divided === \"field\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n      {:else if ordinary.divided === \"counter\"}\n        <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(division.t)} {type} />\n      {/if}\n    {/each}\n\n    <!-- In division part -->\n    <g class=\"division\" clip-path=\"url(#division_{id})\">\n      <rect x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill={clr(division.t)} />\n\n      {#each ordinariesRegular as ordinary, i}\n        {#if ordinary.divided === \"division\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n        {:else if ordinary.divided === \"counter\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(coa.t1)} {type} />\n        {/if}\n      {/each}\n\n      {#if diaperType === \"division\"}\n        <rect\n          class=\"diaper\"\n          x=\"0\"\n          y=\"0\"\n          width=\"200\"\n          height=\"200\"\n          fill=\"url(#{coaDiaper})\"\n          style=\"pointer-events: none\"\n        />\n      {/if}\n\n      {#each charges as charge, i}\n        {#if charge.divided === \"division\"}\n          <Charge {coa} {charge} {i} t={clr(charge.t)} t2={clr(charge.t2)} t3={clr(charge.t3)} {type} />\n        {:else if charge.divided === \"counter\"}\n          <Charge {coa} {charge} {i} t={clr(coa.t1)} {type} />\n        {/if}\n      {/each}\n\n      {#each charges as charge, i}\n        {#if charge.divided === \"division\" && charge.layered}\n          <Charge {coa} {charge} {i} t={clr(charge.t)} t2={clr(charge.t2)} t3={clr(charge.t3)} hideBackground={true} {type} />\n        {:else if charge.divided === \"counter\" && charge.layered}\n          <Charge {coa} {charge} {i} t={clr(coa.t1)} hideBackground={true} {type} />\n        {/if}\n      {/each}\n\n      {#each ordinariesAboveCharges as ordinary, i}\n        {#if ordinary.divided === \"division\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n        {:else if ordinary.divided === \"counter\"}\n          <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(coa.t1)} {type} />\n        {/if}\n      {/each}\n    </g>\n  {/if}\n\n  <!-- Overall -->\n  {#each ordinariesRegular as ordinary, i}\n    {#if !ordinary.divided}\n      <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n    {/if}\n  {/each}\n\n  {#if diaperType === \"overall\"}\n    <rect class=\"diaper\" x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill=\"url(#{coaDiaper})\" style=\"pointer-events: none\" />\n  {/if}\n\n  {#each charges as charge, i}\n    {#if !charge.outside && (!charge.divided || !division)}\n      <Charge {coa} {charge} {i} t={clr(charge.t)} t2={clr(charge.t2)} t3={clr(charge.t3)} {type} />\n    {/if}\n  {/each}\n\n  {#each charges as charge, i}\n    {#if !charge.outside && (!charge.divided || !division) && charge.layered}\n      <Charge {coa} {charge} {i} t={clr(charge.t)} t2={clr(charge.t2)} t3={clr(charge.t3)} hideBackground={true} {type} />\n    {/if}\n  {/each}\n\n  {#each ordinariesAboveCharges as ordinary, i}\n    {#if !ordinary.divided}\n      <Ordinary {coa} {ordinary} {i} {shieldPath} t={clr(ordinary.t)} {type} />\n    {/if}\n  {/each}\n</g>\n\n<path\n  class=\"grad\"\n  d={shieldPath}\n  fill={overFill}\n  stroke={border}\n  stroke-width={borderWidth}\n  style=\"pointer-events: none\"\n/>\n\n{#each charges as charge, i}\n  {#if charge.outside === \"above\"}\n    <Charge {coa} {charge} {i} t={clr(charge.t)} t2={clr(charge.t2)} t3={clr(charge.t3)} {type} />\n  {/if}\n{/each}\n\n{#each charges as charge, i}\n  {#if charge.outside === \"above\" && charge.layered || charge.outside === \"around\"}\n    <Charge {coa} {charge} {i} t={clr(charge.t)} t2={clr(charge.t2)} t3={clr(charge.t3)} hideBackground={true} {type} />\n  {/if}\n{/each}\n\n{#each inscriptions as inscription, i}\n  <Inscription {coa} {inscription} {i} pathId=\"inscription_{id}_{i}\" {type} />\n{/each}\n","<script lang=\"ts\">\n  // @ts-check\n  import {DEFAULT_ZOOM} from \"config/defaults\";\n  import {DEFAULT_SHIELD_BOX, shieldBox} from \"data/shields\";\n  import {border, borderWidth, shield} from \"data/stores\";\n  import Grid from \"./../editor/Grid.svelte\";\n  import Positions from \"./../editor/Positions.svelte\";\n  import Shield from \"./Shield.svelte\";\n  import type {Coa} from \"types/coa\";\n\n  export let coa: Coa;\n  export let i: string;\n  export let width: string | number = \"100%\";\n  export let height: string | number = \"100%\";\n\n  const isEdit = i === \"Edit\";\n\n  function getViewBox(shield: string, zoom: number) {\n    const box = shieldBox[shield] || DEFAULT_SHIELD_BOX;\n    const [x0, y0, w0, h0] = box.split(\" \");\n    const w = Math.round((w0 * DEFAULT_ZOOM) / zoom);\n    const h = Math.round((h0 * DEFAULT_ZOOM) / zoom);\n    const x = x0 - w / 2 + 100;\n    const y = y0 - h / 2 + 100;\n    return `${x} ${y} ${w} ${h}`;\n  }\n\n  $: viewBox = getViewBox(coa.shield || $shield, coa.zoom || DEFAULT_ZOOM);\n</script>\n\n<svg\n  id=\"coa{i}\"\n  class=\"coa\"\n  {width}\n  {height}\n  {viewBox}\n  xmlns=\"http://www.w3.org/2000/svg\"\n  xmlns:xlink=\"http://www.w3.org/1999/xlink\"\n  xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n  xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\n>\n  <Shield {coa} border={$border} borderWidth={$borderWidth} type={i} />\n  {#if isEdit}\n    <Grid />\n    <Positions shield={coa.shield || $shield} />\n  {/if}\n</svg>\n","<script>\n  export let checked = false;\n  const id = \"switch\" + Math.floor(1e6 * Math.random());\n</script>\n\n<div class=\"switch\">\n  <input {id} class=\"switch-input\" type=\"checkbox\" bind:checked />\n  <label for={id} class=\"switch-label\">Switch</label>\n</div>\n\n<style>\n  .switch {\n    position: relative;\n    display: inline-block;\n    top: -5px;\n  }\n\n  .switch-input {\n    display: none;\n  }\n\n  .switch-label {\n    display: block;\n    width: 48px;\n    height: 24px;\n    color: transparent;\n  }\n\n  .switch-label::before,\n  .switch-label::after {\n    content: \"\";\n    display: block;\n    position: absolute;\n    cursor: pointer;\n  }\n\n  .switch-label::before {\n    width: 100%;\n    height: 100%;\n    background-color: #dedede;\n    border-radius: 9999em;\n    -webkit-transition: background-color 0.25s ease;\n    transition: background-color 0.25s ease;\n  }\n\n  .switch-label::after {\n    top: 0;\n    left: 0;\n    width: 24px;\n    height: 24px;\n    border-radius: 50%;\n    background-color: #fff;\n    box-shadow: 0 0 2px rgba(0, 0, 0, 0.45);\n    -webkit-transition: left 0.25s ease;\n    transition: left 0.25s ease;\n  }\n\n  .switch-input:checked + .switch-label::before {\n    background-color: #89c12d;\n  }\n\n  .switch-input:checked + .switch-label::after {\n    left: 24px;\n  }\n</style>\n","import { get } from \"svelte/store\";\nimport { t } from \"svelte-i18n\";\nimport { forEach } from \"./utils\";\nconst translate = get(t);\nexport const tooltip = (element) => {\n    if (!element.dataset.tooltip) {\n        return;\n    }\n    const isTouchAvailable = \"ontouchstart\" in window;\n    const div = document.createElement(\"div\");\n    let limit;\n    const gesture = element.dataset.gesture;\n    const hotkey = element.dataset.hotkey;\n    function mouseEnter() {\n        removeTooltip();\n        let text = element.dataset.tooltip;\n        if (isTouchAvailable && gesture)\n            text = `${text}. ${translate(\"tooltip.gesture\")}: ${gesture}`;\n        if (!isTouchAvailable && hotkey)\n            text = `${text}. ${translate(\"tooltip.hotkey\")}: ${hotkey}`;\n        div.textContent = text;\n        div.className = \"tooltip\";\n        document.body.appendChild(div);\n        const bbox = div.getBoundingClientRect();\n        limit = [window.innerWidth - bbox.width, window.innerHeight - bbox.height];\n    }\n    function mouseMove(event) {\n        div.style.left = `${Math.min(event.pageX + 10, limit[0])}px`;\n        div.style.top = `${Math.min(event.pageY + 10, limit[1])}px`;\n    }\n    function removeTooltip() {\n        forEach(\".tooltip\", el => el.remove());\n    }\n    element.on(\"mouseenter\", mouseEnter);\n    element.on(\"mousemove\", mouseMove);\n    element.on(\"mouseleave\", removeTooltip);\n    return {\n        destroy() {\n            removeTooltip();\n        }\n    };\n};\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import Switch from \"./Switch.svelte\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  export let above: boolean;\n</script>\n\n<span data-tooltip={$t(\"tooltip.aboveCharges\")} use:tooltip>\n  <span style=\"margin-left: 1em\">{$t(\"editor.aboveCharges\")}:</span>\n  <Switch bind:checked={above} />\n</span>\n","<script lang=\"ts\">\n  // @ts-check\n  import {DEFAULT_SHIELD_BOX} from \"data/shields\";\n  import {tooltip} from \"scripts/tooltip\";\n  import Shield from \"./../object/Shield.svelte\";\n\n  export let coa: any;\n  export let tip: string;\n</script>\n\n<svg class=\"menuItem\" width=\"100%\" height=\"100%\" viewBox={DEFAULT_SHIELD_BOX} data-tooltip={tip} use:tooltip>\n  <Shield {coa} border=\"#333\" borderWidth={2} type=\"menuItem\" />\n</svg>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t, dictionary, locale} from \"svelte-i18n\";\n  import EditorItem from \"./EditorItem.svelte\";\n  import {charges} from \"data/dataModel\";\n  import {uploaded} from \"data/stores\";\n  import {removeCharge} from \"scripts/getters\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  export let charge: string;\n  export let type: string;\n  export let category: string;\n  export let t1: string;\n  export let t2: string;\n  export let t3: string | undefined;\n  export let t4: string | undefined;\n  export let size = null;\n  export let sinister = null;\n  export let reversed = null;\n  export let division = false;\n  export let shield: string = undefined;\n\n  let chargesData = [];\n  let query: string;\n  let queryOld: string;\n\n  const categories = Object.keys(charges.types);\n  const allCharges = categories.map(category => Object.keys(charges[category])).flat();\n  $: allChargesTranslated = allCharges.map(charge => $t(`charges.${charge}`));\n\n  // @ts-ignore\n  $: update(category, t1, t2, t3, t4, size, sinister, reversed);\n  $: filterCharges(query);\n\n  function update() {\n    const chargeList = Object.keys(charges[category]);\n    chargesData = chargeList.map(charge => ({charge, shield, t1: getTincture(charge), charges: getCharge(charge)}));\n  }\n\n  function filterCharges(query: string) {\n    if (!query && query !== queryOld) update();\n\n    queryOld = query;\n    if (!query) return;\n\n    const regEx = new RegExp(query.replaceAll(\" \", \"\"), \"i\");\n    const results = allCharges.filter((_charge, index) => regEx.test(allChargesTranslated[index]));\n    chargesData = results.map(charge => ({charge, shield, t1: getTincture(charge), charges: getCharge(charge)}));\n  }\n\n  function resetQuery() {\n    query = \"\";\n  }\n\n  function getTincture(charge: string) {\n    if (type === \"semy\") return `semy_of_${charge}-${t1}-${t2}-${size}`;\n    return t1;\n  }\n\n  function getCharge(charge: string) {\n    if (type === \"semy\") return [];\n    return [{charge, t: t2, t2: t3, t3: t4, p: \"e\", size: 1.5, sinister, reversed}];\n  }\n\n  const translateSafely = (group: string, key: string) => {\n    const isInDictionary = $dictionary?.[$locale]?.[group]?.[key];\n    return isInDictionary ? $t(`${group}.${key}`) : key;\n  };\n\n  function getTip(charge: string) {\n    const chargeName = translateSafely(\"charges\", charge);\n    if (type === \"semy\") return `${$t(\"editor.semyOf\")} ${chargeName}`;\n    return `${$t(\"tinctures.charge\")}: ${chargeName}`;\n  }\n\n  function removeUploaded(charge: string) {\n    delete charges.data[charge];\n    delete charges[$uploaded[charge].category][charge];\n    update();\n    delete $uploaded[charge];\n    localStorage.setItem(\"uploaded\", JSON.stringify($uploaded));\n    removeCharge(charge);\n  }\n</script>\n\n<span class:indented={division}>{$t(\"editor.category\")}:</span>\n<select bind:value={category} class:inactive={query} on:input={resetQuery}>\n  {#each categories as category}\n    <option value={category}>{$t(`categories.${category}`)}</option>\n  {/each}\n</select>\n\n<span class:indented={true}>{$t(\"editor.search\")}:</span>\n<input bind:value={query} class:inactive={!query} />\n\n<div class=\"items\">\n  {#each chargesData as coa (coa)}\n    <div class=\"wrapper\">\n      <div class=\"item\" class:selected={charge === coa.charge} on:click={() => (charge = coa.charge)}>\n        <EditorItem {coa} tip={getTip(coa.charge)} />\n      </div>\n      {#if $uploaded[coa.charge]}\n      <div class=\"controls\">\n        <svg class=\"remove\" on:click={() => removeUploaded(coa.charge)} data-tooltip={$t(\"tooltip.removeUploaded\")} use:tooltip>\n          <use href=\"#remove-icon\" />\n        </svg>\n      </div>\n      {/if}\n    </div>\n  {/each}\n</div>\n\n<style>\n  input {\n    width: 10em;\n  }\n\n  .inactive {\n    background-color: #ddd;\n  }\n\n  .indented {\n    margin-left: 1em;\n  }\n\n  .remove {\n    top: 0.8em;\n    right: 0.8em;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  export let els: any[];\n  export let el: any;\n  export let i: number;\n\n  const remove = (event: Event) => {\n    event.stopPropagation();\n    els = els.filter((e, n) => n !== i);\n  };\n\n  const clone = (event: Event) => {\n    event.stopPropagation();\n    const elementCopy = JSON.parse(JSON.stringify(el));\n    els = [...els, elementCopy];\n  };\n\n  const forward = (event: Event) => {\n    event.stopPropagation();\n    [els[i], els[i + 1]] = [els[i + 1], els[i]];\n  };\n\n  const backward = (event: Event) => {\n    event.stopPropagation();\n    [els[i], els[i - 1]] = [els[i - 1], els[i]];\n  };\n\n  const areDifferent = (a: any, b: any) => {\n    return JSON.stringify(a) !== JSON.stringify(b);\n  };\n</script>\n\n<span>\n  <svg on:click={clone} data-tooltip={$t(\"editor.clone\")} use:tooltip>\n    <use href=\"#clone-icon\" />\n  </svg>\n  {#if els.length > 1}\n    {#if i && areDifferent(el, els[i - 1])}\n      <svg on:click={backward} data-tooltip={$t(\"editor.backward\")} use:tooltip>\n        <use href=\"#up-icon\" />\n      </svg>\n    {/if}\n    {#if i + 1 < els.length && areDifferent(el, els[i + 1])}\n      <svg on:click={forward} data-tooltip={$t(\"editor.forward\")} use:tooltip>\n        <use href=\"#down-icon\" />\n      </svg>\n    {/if}\n  {/if}\n  <svg on:click={remove} data-tooltip={$t(\"editor.remove\")} use:tooltip>\n    <use href=\"#remove-icon\" />\n  </svg>\n</span>\n\n<style>\n  span {\n    position: absolute;\n  }\n\n  svg {\n    width: 1em;\n    height: 1em;\n    fill: #dfdfdf;\n    padding: 0 0.2em;\n    transition: all 0.1s ease-in-out;\n  }\n\n  svg:hover {\n    fill: #fff;\n  }\n\n  svg:active {\n    transform: translateY(1px);\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n\n  export let divided: \"\" | \"field\" | \"division\" | \"counter\";\n  export let raster = false;\n</script>\n\n<span>{$t(\"editor.divided\")}:</span>\n<select bind:value={divided}>\n  <option value=\"\">{$t(\"editor.notDivided\")}</option>\n  <option value=\"field\">{$t(\"editor.cropByField\")}</option>\n  <option value=\"division\">{$t(\"editor.cropByDivision\")}</option>\n  {#if !raster}\n    <option value=\"counter\">{$t(\"editor.counterchanged\")}</option>\n  {/if}\n</select>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import EditorItem from \"./EditorItem.svelte\";\n  import {divisions} from \"data/dataModel\";\n  export let division: string;\n  export let t1: string;\n  export let t2: string;\n  export let line: string;\n  export let shield: string = undefined;\n\n  const divisionList = [\"no\"].concat(Object.keys(divisions.variants));\n  $: divisionsData = divisionList.map(division => ({t1, shield, division: {division, t: t2, line}}));\n\n  const getTip = (division: string) => {\n    const divisionName = $t(`divisions.${division}`);\n    return `${$t(\"editor.division\")}: ${divisionName}`;\n  };\n\n  const handleChange = (newDivision: string) => () => {\n    division = newDivision;\n  };\n</script>\n\n<div class=\"items\">\n  {#each divisionsData as coa (coa)}\n    <div class=\"item\" class:selected={division === coa.division.division} on:click={handleChange(coa.division.division)}>\n      <EditorItem {coa} tip={getTip(coa.division.division)} />\n    </div>\n  {/each}\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  export let name: string = undefined;\n  export let zoom: number;\n</script>\n\n<div class=\"subsection\">\n  <span data-tooltip={$t(\"tooltip.coaName\")} use:tooltip>\n    <span>{$t(\"editor.name\")}:</span>\n    <input type=\"text\" bind:value={name} />\n  </span>\n</div>\n<div class=\"subsection\">\n  <span data-tooltip={$t(\"tooltip.zoom\")} use:tooltip>\n    <span>{$t(\"editor.zoom\")}:</span>\n    <input type=\"number\" min=\"0.1\" max=\"1\" step=\"0.1\" bind:value={zoom} />\n  </span>\n</div>\n\n<style>\n  input[type=\"number\"] {\n    width: 4em;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {fonts, state} from \"data/stores\";\n  import {tooltip} from \"scripts/tooltip\";\n  import Switch from \"./Switch.svelte\";\n  import type {Inscription} from \"types/coa\";\n\n  export let inscription: Inscription;\n</script>\n\n<span data-tooltip={$t(\"tooltip.inscriptions.text\")} use:tooltip>\n  <span>{$t(\"editor.inscriptions.text\")}:</span>\n  <input type=\"text\" bind:value={inscription.text} />\n</span>\n\n<span>\n  <span>{$t(\"editor.inscriptions.font\")}:</span>\n  <select bind:value={inscription.font} data-tooltip={$t(\"tooltip.inscriptions.font\")} use:tooltip>\n    {#each Object.keys($fonts) as font}\n      <option value={font} style=\"font-family: {font};\">{font}</option>\n    {/each}\n  </select>\n\n  <button on:click={() => ($state.fonts = 1)} data-tooltip={$t(\"tooltip.inscriptions.addFont\")} use:tooltip>\n    <svg class=\"icon\">\n      <use href=\"#plus-icon\" />\n    </svg>\n  </button>\n</span>\n\n<span data-tooltip={$t(\"tooltip.inscriptions.size\")} use:tooltip>\n  <span>{$t(\"editor.inscriptions.size\")}:</span>\n  <input type=\"number\" min=\"1\" max=\"100\" bind:value={inscription.size} />\n</span>\n\n<span>\n  <span>{$t(\"editor.inscriptions.bold\")}:</span>\n  <Switch bind:checked={inscription.bold} />\n</span>\n\n<span>\n  <span>{$t(\"editor.inscriptions.italic\")}:</span>\n  <Switch bind:checked={inscription.italic} />\n</span>\n\n<span data-tooltip={$t(\"tooltip.inscriptions.spacing\")} use:tooltip>\n  <span>{$t(\"editor.inscriptions.spacing\")}:</span>\n  <input type=\"number\" min=\"-2\" max=\"10\" step=\"0.1\" bind:value={inscription.spacing} />\n</span>\n\n<span data-tooltip={$t(\"tooltip.inscriptions.color\")} use:tooltip>\n  <span>{$t(\"editor.inscriptions.color\")}:</span>\n  <input type=\"color\" bind:value={inscription.color} />\n</span>\n\n<style>\n  span:not(:first-of-type) > span {\n    margin-left: 1em;\n  }\n\n  input[type=\"color\"] {\n    vertical-align: middle;\n    padding: 0;\n    cursor: pointer;\n  }\n\n  input[type=\"number\"] {\n    width: 4em;\n  }\n\n  svg.icon {\n    height: 1em;\n    width: 1em;\n    vertical-align: middle;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import Switch from \"./Switch.svelte\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  export let layered: boolean;\n</script>\n\n<span data-tooltip={$t(\"tooltip.layered\")} use:tooltip>\n  <span style=\"margin-left: 1em\">{$t(\"editor.layered\")}:</span>\n  <Switch bind:checked={layered} />\n</span>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import EditorItem from \"./EditorItem.svelte\";\n  import {lines} from \"data/dataModel\";\n\n  export let line: string;\n  export let division = null;\n  export let ordinary = null;\n  export let t1: string;\n  export let t2: string;\n  export let shield: string = undefined;\n\n  const lineList = Object.keys(lines);\n\n  $: linesData = division\n    ? lineList.map(line => ({coa: {t1, shield, division: {division, t: t2, line}}, newLine: line}))\n    : lineList.map(line => ({coa: {t1, shield, ordinaries: [{ordinary, t: t2, line}]}, newLine: line}));\n\n  const getTip = (line: string) => `${$t(\"editor.line\")}: ${$t(`lines.${line}`)}`;\n\n  const handleChange = (newLine: string) => () => {\n    line = newLine;\n  };\n</script>\n\n{$t(\"editor.line\")}:\n<div class=\"items\">\n  {#each linesData as { coa, newLine } (coa)}\n    <div class=\"item\" class:selected={line === newLine} on:click={handleChange(newLine)}>\n      <EditorItem {coa} tip={getTip(newLine)} />\n    </div>\n  {/each}\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import EditorItem from \"./EditorItem.svelte\";\n  import {ordinaries} from \"data/dataModel\";\n\n  export let ordinary: string;\n  export let line: string;\n  export let t1: string;\n  export let t2: string;\n  export let shield: string = undefined;\n\n  const ordinariesList = Object.keys(ordinaries.lined).concat(Object.keys(ordinaries.straight));\n  $: coas = ordinariesList.map(ordinary => ({coa: {t1, shield, ordinaries: [{ordinary, line, t: t2}]}, ordinaryName: ordinary}));\n\n  const getTip = (ordinary: string) => {\n    const ordinaryName = $t(`ordinaries.${ordinary}`);\n    return `${$t(\"editor.ordinary\")}: ${ordinaryName}`;\n  };\n\n  const handleChange = (newOrdinary: string) => () => {\n    ordinary = newOrdinary;\n  };\n</script>\n\n<div class=\"items\">\n  {#each coas as { coa, ordinaryName } (coa)}\n    <div class=\"item\" class:selected={ordinary === ordinaryName} on:click={handleChange(ordinaryName)}>\n      <EditorItem {coa} tip={getTip(ordinaryName)} />\n    </div>\n  {/each}\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {charges} from \"data/dataModel\";\n  import {t} from \"svelte-i18n\";\n  import Switch from \"./Switch.svelte\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  export let charge: string;\n  export let outside: \"\" | \"above\" | \"below\" | \"around\";\n</script>\n\n<span data-tooltip={$t(\"tooltip.outsideShield\")} use:tooltip>\n  <span style=\"margin-left: 1em\">{$t(\"editor.outsideShield\")}:</span>\n  <select bind:value={outside}>\n    <option value=\"\">{$t(\"editor.notOutside\")}</option>\n    <option value=\"above\">{$t(\"editor.aboveShield\")}</option>\n    <option value=\"below\">{$t(\"editor.belowShield\")}</option>\n    {#if charges.data[charge]?.layered}\n    <option value=\"around\">{$t(\"editor.aroundShield\")}</option>\n    {/if}\n  </select>\n</span>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {grid, showGrid, state} from \"data/stores\";\n  import {analyzePath, buildPath} from \"scripts/getters\";\n  import {tooltip} from \"scripts/tooltip\";\n  import Switch from \"./Switch.svelte\";\n\n  export let path: string;\n\n  let pathData;\n  let pathType: string;\n  let mode: number;\n\n  $: updatePath(path);\n  $: updateMode(path, $state.pathChangeMode);\n\n  function updatePath() {\n    pathData = analyzePath(path);\n    pathType = pathData.type;\n  }\n\n  function updateMode() {\n    mode = $state.pathChangeMode;\n    if ((pathType === \"line\" && mode === 2) || mode === undefined) mode = -1;\n  }\n\n  function changePathType(e: Event) {\n    pathData.type = e.target.value;\n    if (pathData.type == \"line\") {\n      if (pathType === \"curve\") {\n        if (mode === 2) $state.pathChangeMode = -1;\n        path = buildPath(\"line\", pathData.points);\n      } else if (pathType === \"custom\") {\n        path = \"M-50 0 L50 0\";\n      }\n    }\n    if (pathData.type === \"curve\") {\n      if (pathType === \"line\") {\n        const p = pathData.points;\n        path = buildPath(\"curve\", [\n          p[0],\n          p[1],\n          {x: Math.floor((p[0].x + p[1].x) / 2), y: Math.floor((p[0].y + p[1].y) / 2)}\n        ]);\n      } else if (pathType === \"custom\") {\n        path = \"M-50 0 Q0 -20 50 0\";\n      }\n    }\n  }\n\n  function changeShift(obj) {\n    if (mode != -1) {\n      if (obj.x !== undefined) pathData.points[mode].x = obj.x;\n      if (obj.y !== undefined) pathData.points[mode].y = obj.y;\n    } else {\n      const dx = obj.x === undefined ? 0 : obj.x - pathData.points[0].x;\n      const dy = obj.y === undefined ? 0 : obj.y - pathData.points[0].y;\n      pathData.points.forEach(function (p) {\n        p.x += dx;\n        p.y += dy;\n      });\n    }\n    path = buildPath(pathData.type, pathData.points);\n  }\n</script>\n\n<span data-tooltip={$t(\"tooltip.inscriptions.path\")} use:tooltip>\n  <span>{$t(\"editor.inscriptions.path\")}:</span>\n  <select value={pathData.type} on:change={changePathType}>\n    <option value=\"line\">{$t(\"editor.inscriptions.line\")}</option>\n    <option value=\"curve\">{$t(\"editor.inscriptions.curve\")}</option>\n    <option value=\"custom\">{$t(\"editor.inscriptions.custom\")}</option>\n  </select>\n  {#if pathData.type === \"custom\"}\n    <input type=\"text\" value={path} on:blur={e => (path = e.target.value)} />\n  {/if}\n</span>\n\n{#if pathData.type !== \"custom\"}\n  <span data-tooltip={$t(\"tooltip.shift\")} use:tooltip>\n    <span>{$t(\"editor.shift\")}:</span>\n    <select value={mode.toString()} on:change={e => ($state.pathChangeMode = parseInt(e.target.value))}>\n      <option value=\"-1\">{$t(\"editor.inscriptions.all\")}</option>\n      <option value=\"0\">{$t(\"editor.inscriptions.start\")}</option>\n      <option value=\"1\">{$t(\"editor.inscriptions.end\")}</option>\n      {#if pathData.type === \"curve\"}\n        <option value=\"2\">{$t(\"editor.inscriptions.control\")}</option>\n      {/if}\n    </select>\n    <input\n      type=\"number\"\n      min=\"-100\"\n      max=\"100\"\n      step={$grid}\n      value={pathData.points[mode == -1 ? 0 : mode].x}\n      on:change={e => changeShift({x: e.target.value})}\n    />\n    <input\n      type=\"number\"\n      min=\"-100\"\n      max=\"100\"\n      step={$grid}\n      value={pathData.points[mode == -1 ? 0 : mode].y}\n      on:change={e => changeShift({y: e.target.value})}\n    />\n  </span>\n{/if}\n\n<span data-tooltip={$t(\"tooltip.step\")} use:tooltip>\n  <span>{$t(\"editor.step\")}:</span>\n  <input type=\"number\" min=\"1\" max=\"50\" bind:value={$grid} />\n</span>\n\n<span data-tooltip={$t(\"tooltip.showGrid\")} use:tooltip>\n  <Switch bind:checked={$showGrid} />\n</span>\n\n<style>\n  span:not(:first-of-type) > span {\n    margin-left: 1em;\n  }\n\n  input[type=\"number\"] {\n    width: 4em;\n  }\n\n  input[type=\"text\"] {\n    width: 50%;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import EditorItem from \"./EditorItem.svelte\";\n  import {DEFAULT_TINCTURES} from \"config/defaults\";\n  import {addShieldPatterns} from \"scripts/getters\";\n\n  export let pattern: string;\n  export let t1: string;\n  export let t2: string;\n  export let size: string;\n  export let coa;\n\n  const patterns = Object.keys(DEFAULT_TINCTURES.patterns).filter(pattern => pattern !== \"semy\");\n\n  // clean group\n  document.getElementById(\"patterns\").innerHTML = \"\";\n  addShieldPatterns(coa);\n\n  $: patternsData = patterns.map(pattern => {\n    let tincture = `${pattern}-${t1}-${t2}`;\n    if (size !== \"standard\") tincture += `-${size}`;\n\n    const tip = $t(`patterns.${pattern}`);\n    return {coa: {pattern, shield: coa.shield, t1: tincture}, tip};\n  });\n\n  const handleChange = (newPattern: string) => () => {\n    pattern = newPattern;\n  };\n</script>\n\n{$t(\"editor.pattern\")}:\n<div class=\"items\">\n  {#each patternsData as { coa, tip }}\n    <div class=\"item\" class:selected={pattern === coa.pattern} on:click={handleChange(coa.pattern)}>\n      <EditorItem {coa} {tip} />\n    </div>\n  {/each}\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import Switch from \"./Switch.svelte\";\n  import {state} from \"data/stores\";\n  import {positionsSelect} from \"data/dataModel\";\n  import {getSize} from \"scripts/generator\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  interface ICharge {\n    angle: number;\n    size: number;\n    p: string;\n    sinister: boolean;\n    reversed: boolean;\n  }\n\n  export let charge: ICharge;\n\n  function showPositions() {\n    $state.transform = `rotate(${charge.angle || 0}) translate(${charge.x || 0}, ${charge.y || 0})`;\n    $state.positions = charge.p;\n  }\n\n  function hidePositions() {\n    $state.positions = 0;\n  }\n\n  function changePosition() {\n    showPositions();\n    charge.size = getSize(charge.p);\n  }\n</script>\n\n<span data-tooltip={$t(\"tooltip.positions\")} use:tooltip>\n  {$t(\"editor.positions\")}:\n  <input bind:value={charge.p} on:input={showPositions} on:focus={showPositions} on:blur={hidePositions} />\n  <select bind:value={charge.p} on:change={changePosition} on:focus={showPositions} on:blur={hidePositions}>\n    {#each positionsSelect as position}\n      <option value={position}>{position}</option>\n    {/each}\n  </select>\n</span>\n\n<span data-tooltip={$t(\"tooltip.sinister\")} use:tooltip>\n  <span style=\"margin-left: 1em\">{$t(\"editor.sinister\")}:</span>\n  <Switch bind:checked={charge.sinister} />\n</span>\n\n<span data-tooltip={$t(\"tooltip.reversed\")} use:tooltip>\n  <span style=\"margin-left: 1em\">{$t(\"editor.reversed\")}:</span>\n  <Switch bind:checked={charge.reversed} />\n</span>\n\n<style>\n  span > span {\n    margin-left: 1em;\n  }\n\n  input {\n    width: 8.6em;\n  }\n\n  select {\n    width: 1.3em;\n    margin-left: -1.6em;\n    border: 0;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  export let callback: function;\n\n  function restore(e: Event) {\n    e.stopPropagation();\n    callback();\n  }\n</script>\n\n<span>\n  <svg on:click={restore} data-tooltip={$t(\"editor.default\")} use:tooltip>\n    <use href=\"#undo-icon\" />\n  </svg>\n</span>\n\n<style>\n  span {\n    position: absolute;\n  }\n\n  svg {\n    width: 1em;\n    height: 1em;\n    fill: #dfdfdf;\n    padding: 0 0.2em;\n    transition: all 0.1s ease-in-out;\n  }\n\n  svg:hover {\n    fill: #fff;\n  }\n\n  svg:active {\n    transform: translateY(1px);\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {tooltip} from \"scripts/tooltip\";\n  import Switch from \"./Switch.svelte\";\n\n  export let shadow;\n\n  let showShadow = !!shadow;\n\n  $: {\n    if (showShadow && !shadow) {\n      shadow = {x: 1, y: 1, blur: 0, color: \"#333333\"};\n    } else if (!showShadow) {\n      shadow = null;\n    }\n  }\n</script>\n\n<span data-tooltip={$t(\"tooltip.inscriptions.shadow\")} use:tooltip>\n  <span>{$t(\"editor.inscriptions.shadow\")}:</span>\n  <Switch bind:checked={showShadow} />\n</span>\n\n{#if showShadow}\n  <span data-tooltip={$t(\"tooltip.shift\")} use:tooltip>\n    <span>{$t(\"editor.shift\")}:</span>\n    <input type=\"number\" min=\"-100\" max=\"100\" bind:value={shadow.x} />\n    <input type=\"number\" min=\"-100\" max=\"100\" bind:value={shadow.y} />\n  </span>\n\n  <span data-tooltip={$t(\"tooltip.inscriptions.shadowBlur\")} use:tooltip>\n    <span>{$t(\"editor.inscriptions.blur\")}:</span>\n    <input type=\"number\" min=\"0\" max=\"10\" bind:value={shadow.blur} />\n  </span>\n\n  <span data-tooltip={$t(\"tooltip.inscriptions.shadowColor\")} use:tooltip>\n    <span>{$t(\"editor.inscriptions.color\")}:</span>\n    <input type=\"color\" bind:value={shadow.color} />\n  </span>\n{/if}\n\n<style>\n  span:not(:first-of-type) > span {\n    margin-left: 1em;\n  }\n\n  input[type=\"color\"] {\n    vertical-align: middle;\n    padding: 0;\n    cursor: pointer;\n  }\n\n  input[type=\"number\"] {\n    width: 4em;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import EditorItem from \"./EditorItem.svelte\";\n  import {shields, shieldTypes} from \"data/shields\";\n  import {shield as defaultShield} from \"data/stores\";\n\n  export let shield: string = undefined;\n  export let t1: string;\n\n  let shieldsData = [];\n  let query: string;\n  let queryOld: string;\n  let type = getShieldType(shield || $defaultShield);\n\n  const allShields = shieldTypes.map(type => Object.keys(shields[type])).flat();\n  $: allShieldsTranslated = shieldTypes.map(type => Object.keys(shields[type]).map(shield => $t(`shield.${type}.${shield}`))).flat();\n\n  // @ts-ignore\n  $: update(type, t1);\n  $: filterShields(query);\n\n  function update() {\n    const shieldList = Object.keys(shields[type]);\n    shieldsData = shieldList.map(shield => ({shield, t1}));\n  }\n\n  function filterShields(query: string) {\n    if (!query && query !== queryOld) update();\n\n    queryOld = query;\n    if (!query) return;\n\n    const regEx = new RegExp(query.replaceAll(\" \", \"\"), \"i\");\n    const results = allShields.filter((_shield, index) => regEx.test(allShieldsTranslated[index]));\n    shieldsData = results.map(shield => ({shield, t1}));\n  }\n\n  function resetQuery() {\n    query = \"\";\n  }\n\n  function getShieldType(name: string) {\n    return Object.keys(shields).find(type => shields[type][name] !== undefined);\n  }\n\n  function getTip(name: string) {\n    const type = getShieldType(name);\n    const shieldName = $t(`shield.${type}.${name}`);\n    return `${$t(\"editor.shield\")}: ${shieldName}`;\n  }\n</script>\n\n<span class:indented={true}>{$t(\"editor.category\")}:</span>\n<select bind:value={type} class:inactive={query} on:input={resetQuery}>\n  {#each shieldTypes as type}\n    <option value={type}>{$t(`shield.types.${type}`)}</option>\n  {/each}\n</select>\n\n<span class:indented={true}>{$t(\"editor.search\")}:</span>\n<input bind:value={query} class:inactive={!query} />\n\n<div class=\"items\">\n  {#each shieldsData as coa (coa)}\n    <div class=\"item\" class:selected={shield === coa.shield} on:click={() => (shield = coa.shield)}>\n      <EditorItem {coa} tip={getTip(coa.shield)} />\n    </div>\n  {/each}\n</div>\n\n<style>\n  input {\n    width: 10em;\n  }\n\n  .inactive {\n    background-color: #ddd;\n  }\n\n  .indented {\n    margin-left: 1em;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import Switch from \"./Switch.svelte\";\n  import {grid, showGrid, state} from \"data/stores\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  interface IElement {\n    size: number;\n    stretch: number;\n    angle: number;\n    x: number;\n    y: number;\n  }\n\n  export let element: IElement;\n\n  const hadleSizeChange = (event: Event) => {\n    const target = event.target as HTMLInputElement;\n    element.size = parseInt(target.value) / 100;\n  };\n\n  const handleStretchChange = (event: Event) => {\n    const target = event.target as HTMLInputElement;\n    element.stretch = parseInt(target.value) / 100;\n  };\n\n  const updateGrid = () => {\n    $state.transform = `rotate(${element.angle || 0})`;\n  };\n</script>\n\n<span data-tooltip={$t(\"tooltip.size\")} use:tooltip>\n  {$t(\"editor.size\")}:\n  <input type=\"number\" min=\"1\" max=\"500\" step=\"1\" value={Math.round(element.size * 100) | 0} on:input={hadleSizeChange} />\n</span>\n\n<span data-tooltip={$t(\"tooltip.stretch\")} use:tooltip>\n  <span>{$t(\"editor.stretch\")}:</span>\n  <input type=\"number\" min=\"-1000\" max=\"1000\" step=\"1\" value={Math.round(element.stretch * 100) | 0} on:input={handleStretchChange} />\n</span>\n\n<span data-tooltip={$t(\"tooltip.rotation\")} use:tooltip>\n  <span>{$t(\"editor.rotation\")}:</span>\n  <input type=\"number\" min=\"-180\" max=\"180\" bind:value={element.angle} on:change={updateGrid} />\n</span>\n\n<span data-tooltip={$t(\"tooltip.shift\")} use:tooltip>\n  <span>{$t(\"editor.shift\")}:</span>\n  <input type=\"number\" min=\"-100\" max=\"100\" step={$grid} bind:value={element.x} />\n  <input type=\"number\" min=\"-100\" max=\"100\" step={$grid} bind:value={element.y} />\n</span>\n\n<span data-tooltip={$t(\"tooltip.step\")} use:tooltip>\n  <span>{$t(\"editor.step\")}:</span>\n  <input type=\"number\" min=\"1\" max=\"50\" bind:value={$grid} />\n</span>\n\n<span data-tooltip={$t(\"tooltip.showGrid\")} use:tooltip>\n  <Switch bind:checked={$showGrid} />\n</span>\n\n<style>\n  span > span {\n    margin-left: 1em;\n  }\n\n  input[type=\"number\"] {\n    width: 4em;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n\n  export let size: string;\n</script>\n\n<span style=\"margin-left: 1em\">{$t(\"editor.size\")}:</span>\n<select bind:value={size}>\n  <option value=\"bigger\">{$t(\"editor.bigger\")}</option>\n  <option value=\"big\">{$t(\"editor.big\")}</option>\n  <option value=\"standard\">{$t(\"editor.standard\")}</option>\n  <option value=\"small\">{$t(\"editor.small\")}</option>\n  <option value=\"smaller\">{$t(\"editor.smaller\")}</option>\n  <option value=\"smallest\">{$t(\"editor.smallest\")}</option>\n</select>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import Switch from \"./Switch.svelte\";\n  import {tooltip} from \"scripts/tooltip\";\n\n  interface IElement {\n    showStroke: boolean;\n    stroke: string;\n    strokeWidth: number;\n    ordinary?: string;\n  }\n\n  export let element: IElement;\n</script>\n\n<span data-tooltip={$t(\"tooltip.stroke\")} use:tooltip>\n  <span>{$t(\"editor.stroke\")}:</span>\n  <Switch bind:checked={element.showStroke} />\n  {#if element.showStroke}\n    <span style=\"margin-left: 1em\">{$t(\"editor.color\")}:</span>\n    <input type=\"color\" bind:value={element.stroke} />\n\n    {#if element.ordinary}\n      <span style=\"margin-left: 1em\">{$t(\"editor.width\")}:</span>\n      <input type=\"number\" min=\".1\" max=\"99\" step=\".1\" bind:value={element.strokeWidth} />\n    {/if}\n  {/if}\n</span>\n\n<style>\n  input[type=\"color\"] {\n    margin: 0 0 0 0.2em;\n    padding: 0;\n    cursor: pointer;\n  }\n\n  input[type=\"number\"] {\n    width: 4em;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t, dictionary, locale} from \"svelte-i18n\";\n  import EditorItem from \"./EditorItem.svelte\";\n  import {colors, tinctures} from \"data/stores\";\n  import {tooltip} from \"scripts/tooltip\";\n  import {DEFAULT_COLORS as defaults} from \"config/defaults\";\n\n  export let t1: string = undefined;\n  export let shield: string = undefined;\n\n  $: localStorage.setItem(\"colors\", JSON.stringify($colors));\n  $: colorChanged = (tincture: string) => defaults[tincture] && $colors[tincture] !== defaults[tincture];\n\n  const tincturesData = [\"metals\", \"colours\", \"stains\"]\n    .map(type =>\n      Object.keys($tinctures[type]).map(tincture => {\n        const tinctureName = $dictionary[$locale]?.tinctures?.[tincture] ? $t(`tinctures.${tincture}`) : tincture;\n        const typeName = $t(`editor.${type.slice(0, -1)}`);\n        return {coa: {t1: tincture, shield}, tip: `${typeName}: ${tinctureName}`};\n      })\n    )\n    .flat();\n\n  const handleChange = (tincture: string) => {\n    t1 = tincture;\n  };\n\n  function openColorInput() {\n    this.previousElementSibling?.click();\n  }\n\n  function restoreColor(tincture: string) {\n    $colors[tincture] = defaults[tincture];\n  }\n</script>\n\n{$t(\"editor.tincture\")}:\n<div class=\"items\">\n  {#each tincturesData as { coa, tip }}\n    <div class=\"wrapper\">\n      <div class=\"item\" class:selected={t1 === coa.t1} on:click={() => handleChange(coa.t1)}>\n        <EditorItem {coa} {tip} />\n      </div>\n\n      <div class=\"controls\">\n        {#if colorChanged(coa.t1)}\n          <svg class=\"undo\" on:click={() => restoreColor(coa.t1)} data-tooltip={$t(\"tooltip.undoColorChange\")} use:tooltip>\n            <use href=\"#undo-icon\" />\n          </svg>\n        {/if}\n\n        <div>\n          <input type=\"color\" bind:value={$colors[coa.t1]} />\n          <svg class=\"edit\" on:click={openColorInput} data-tooltip={$t(\"tooltip.changeColor\")} use:tooltip>\n            <use href=\"#pencil-icon\" />\n          </svg>\n        </div>\n      </div>\n    </div>\n  {/each}\n</div>\n\n<style>\n  .edit {\n    top: 0.8em;\n    right: 0.8em;\n  }\n\n  .undo {\n    top: 0.8em;\n    right: 2.2em;\n  }\n\n  input[type=\"color\"] {\n    visibility: hidden;\n    position: absolute;\n    width: 1em;\n    height: 1em;\n    top: 1.2em;\n    right: 1.2em;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n\n  export let type: string;\n</script>\n\n{$t(\"editor.type\")}\n<select bind:value={type}>\n  <option value=\"tincture\">{$t(\"editor.tincture\")}</option>\n  <option value=\"pattern\">{$t(\"editor.pattern\")}</option>\n  <option value=\"semy\">{$t(\"editor.semy\")}</option>\n</select>\n","<script>\n  import {tick} from \"svelte\";\n  import {t, dictionary, locale} from \"svelte-i18n\";\n  import {fade, fly, slide} from \"svelte/transition\";\n  import {DEFAULT_ZOOM} from \"config/defaults\";\n  import {changes, grid, history, isTextReady, message, shield, showGrid, state, tinctures, uploaded} from \"data/stores\";\n  import {charges, divisions, ordinaries} from \"data/dataModel\";\n  import {shields} from \"data/shields\";\n  import {createConfig, generate, getTincture} from \"scripts/generator\";\n  import {highlight, lowlight} from \"scripts/highlight\";\n  import {P, ra, rw} from \"scripts/utils\";\n  import COA from \"./../object/COA.svelte\";\n  import EditorAbove from \"./EditorAbove.svelte\";\n  import EditorCharge from \"./EditorCharge.svelte\";\n  import EditorControls from \"./EditorControls.svelte\";\n  import EditorDivided from \"./EditorDivided.svelte\";\n  import EditorDivision from \"./EditorDivision.svelte\";\n  import EditorGeneral from \"./EditorGeneral.svelte\";\n  import EditorInscription from \"./EditorInscription.svelte\";\n  import EditorLayered from \"./EditorLayered.svelte\";\n  import EditorLine from \"./EditorLine.svelte\";\n  import EditorOrdinary from \"./EditorOrdinary.svelte\";\n  import EditorOutside from \"./EditorOutside.svelte\";\n  import EditorPath from \"./EditorPath.svelte\";\n  import EditorPattern from \"./EditorPattern.svelte\";\n  import EditorPosition from \"./EditorPosition.svelte\";\n  import EditorRestore from \"./EditorRestore.svelte\";\n  import EditorShadow from \"./EditorShadow.svelte\";\n  import EditorShield from \"./EditorShield.svelte\";\n  import EditorShift from \"./EditorShift.svelte\";\n  import EditorSize from \"./EditorSize.svelte\";\n  import EditorStroke from \"./EditorStroke.svelte\";\n  import EditorTincture from \"./EditorTincture.svelte\";\n  import EditorType from \"./EditorType.svelte\";\n  export let historyId, seed;\n\n  let menu = {};\n  let section = {field: 0, division: 0, ordinary: [], charge: [], inscription: []};\n  const isLandscape = innerWidth > innerHeight;\n\n  $state.transform = null;\n  $state.positions = null;\n\n  let coa = $history[historyId] || generate(seed || undefined); // on load\n  $: restore($changes); // on undo/redo\n  $: reroll(historyId); // on reroll\n  $: update(menu, $uploaded); // on menu update and charge upload\n  $: edit(coa); // on edit\n  $: localStorage.setItem(\"grid\", $grid); // on grid change\n  $: localStorage.setItem(\"showGrid\", $showGrid); // on grid change\n\n  function reroll(historyId) {\n    coa = $history[historyId] || generate(seed || undefined);\n    if (!$history[historyId]) $history.push(coa);\n    changes.reset();\n    defineMenuState();\n  }\n\n  function edit(coa) {\n    changes.add(JSON.stringify(coa));\n  }\n\n  const toggleSection = (name, index) => async () => {\n    if (index !== undefined) {\n      section[name][index] = !section[name][index];\n      /* When a section is shown, the COA highlighting disappears due to a reactivity issue\n         that should be fixed in Svelte 5 (see https://github.com/sveltejs/svelte/issues/8551)\n         For now, we have to highlight it again.\n      */\n      await tick();\n      highlight(\"shield\", name, index)();\n    } else {\n      section[name] = !section[name];\n    }\n  };\n\n  // get coa from menu on menu change\n  function update() {\n    // remove seed reference as it would be confusing\n    delete coa.seed;\n\n    // shield attribute changed\n    coa.shield = menu.shield;\n\n    // name attribute changed\n    if (menu.name) {\n      coa.name = menu.name;\n    } else {\n      delete coa.name;\n    }\n\n    // zoom attribute changed\n    if (menu.zoom !== DEFAULT_ZOOM) {\n      coa.zoom = menu.zoom;\n    } else {\n      delete coa.zoom;\n    }\n\n    // field attributes changed\n    if (menu.field.type === \"tincture\") coa.t1 = menu.field.t1;\n    else {\n      const type = menu.field.type === \"semy\" ? \"semy_of_\" + menu.field.charge : menu.field.pattern;\n      const attibutes = [type, menu.field.t1, menu.field.t2];\n      if (menu.field.size !== \"standard\") attibutes.push(menu.field.size);\n      coa.t1 = attibutes.join(\"-\");\n    }\n\n    // division attributes changed\n    if (menu.division.division && menu.division.division !== \"no\") {\n      coa.division = {division: menu.division.division};\n      if (divisions[menu.division.division]) coa.division.line = menu.division.line;\n      if (menu.division.type === \"tincture\") coa.division.t = menu.division.t1;\n      else {\n        const attr0 = menu.division.type === \"semy\" ? \"semy_of_\" + menu.division.charge : menu.division.pattern;\n        const attibutes = [attr0, menu.division.t1, menu.division.t2];\n        if (menu.division.size !== \"standard\") attibutes.push(menu.division.size);\n        coa.division.t = attibutes.join(\"-\");\n      }\n    }\n    else {\n      delete coa.division;\n      menu.charges.forEach(c => c.divided = \"\");\n      menu.ordinaries.forEach(o => o.divided = \"\");\n    }\n\n    // ordinary attributes changed\n    if (menu.ordinaries.length) {\n      coa.ordinaries = menu.ordinaries.map(o => {\n        const item = {ordinary: o.ordinary, t: o.t};\n        if (ordinaries.lined[o.ordinary]) item.line = o.line;\n        if (coa.division && o.divided) item.divided = o.divided;\n        if (o.showStroke) item.stroke = o.stroke;\n        if (o.showStroke && o.strokeWidth !== 1) item.strokeWidth = o.strokeWidth;\n        if (o.size && o.size !== 1) item.size = o.size;\n        if (o.stretch) item.stretch = o.stretch;\n        if (o.x || o.y) {\n          item.x = o.x;\n          item.y = o.y;\n        }\n        if (o.angle) item.angle = o.angle;\n        if (o.above) item.above = true;\n        return item;\n      });\n    } else delete coa.ordinaries;\n\n    // charges attributes changed\n    if (menu.charges.length) {\n      coa.charges = menu.charges.map(c => {\n        const item = {charge: c.charge, t: c.t, p: c.p, size: c.size};\n        if (charges.data[c.charge]?.colors > 1) item.t2 = c.t2;\n        if (charges.data[c.charge]?.colors > 2) item.t3 = c.t3;\n        if (!c.showStroke) item.stroke = \"none\";\n        else if (c.stroke !== \"#000000\") item.stroke = c.stroke;\n        if (c.divided) item.divided = c.divided;\n        if (c.sinister) item.sinister = 1;\n        if (c.reversed) item.reversed = 1;\n        if (c.layered && charges.data[c.charge]?.layered && c.outside !== \"around\") item.layered = 1;\n        if (c.outside && (charges.data[c.charge]?.layered || c.outside !== \"around\")) item.outside = c.outside;\n        if (c.stretch) item.stretch = c.stretch;\n        if (c.x || c.y) {\n          item.x = c.x;\n          item.y = c.y;\n        }\n        if (c.angle) item.angle = c.angle;\n        return item;\n      });\n    } else delete coa.charges;\n\n    // inscriptions attributes changed\n    if (menu.inscriptions.length) {\n      coa.inscriptions = menu.inscriptions.map(i => {\n        const item = {text: i.text, font: i.font, size: i.size, path: i.path};\n        if (i.bold) item.bold = 1;\n        if (i.italic) item.italic = 1;\n        if (i.color !== \"#000000\") item.color = i.color;\n        if (i.spacing !== 0) item.spacing = i.spacing;\n        if (i.shadow) item.shadow = i.shadow;\n        return item;\n      });\n    } else delete coa.inscriptions;\n  }\n\n  function restore() {\n    if (!changes.length()) return;\n    coa = JSON.parse($changes[0]);\n    defineMenuState();\n  }\n\n  // define initial menu state\n  function defineMenuState() {\n    // Shield\n    menu.shield = coa.shield;\n\n    // Name\n    menu.name = coa.name;\n\n    // Zoom\n    menu.zoom = coa.zoom || DEFAULT_ZOOM;\n\n    // Field\n    menu.field = getField();\n    function getField() {\n      const type = isSemy(coa.t1) ? \"semy\" : isPattern(coa.t1) ? \"pattern\" : \"tincture\";\n      let t1,\n        t2,\n        pattern = \"vair\",\n        charge = \"lozenge\",\n        semy = \"conventional\",\n        size = \"standard\";\n\n      const field = coa.t1.split(\"-\"); // parsed field tincture\n\n      if (type === \"tincture\") {\n        t1 = coa.t1;\n        t2 = selectSecondTincture(coa.t1);\n      } else {\n        t1 = field[1];\n        t2 = field[2];\n        size = field[3] || \"standard\";\n      }\n\n      if (type === \"pattern\") pattern = field[0];\n      else if (type === \"semy\") {\n        charge = getSemyCharge(field);\n        semy = getSemyType(field);\n      }\n\n      return {type, t1, t2, pattern, charge, semy, size};\n    }\n\n    // Division\n    menu.division = getDivision();\n    function getDivision() {\n      let type = \"tincture\",\n        division = \"no\",\n        line = \"straight\",\n        t1,\n        t2,\n        pattern = \"vair\",\n        charge = \"lozenge\",\n        semy = \"conventional\",\n        size = \"standard\";\n\n      if (coa.division) {\n        const tSplit = coa.division.t.split(\"-\"); // parsed division tincture\n        type = isSemy(coa.division.t) ? \"semy\" : isPattern(coa.division.t) ? \"pattern\" : \"tincture\";\n\n        division = coa.division.division;\n        line = coa.division.line || \"straight\";\n        t1 = type === \"tincture\" ? coa.division.t : tSplit[1];\n        t2 = type === \"tincture\" ? selectSecondTincture(t1) : tSplit[2];\n        if (type === \"pattern\") pattern = tSplit[0];\n        if (type === \"semy\") {\n          charge = getSemyCharge(tSplit);\n          semy = getSemyType(tSplit);\n        }\n        size = tSplit[3] || \"standard\";\n      } else {\n        t1 = selectSecondTincture(menu.field.t1);\n        t2 = selectSecondTincture(t1);\n      }\n\n      return {division, line, type, t1, t2, pattern, charge, semy, size};\n    }\n\n    // Ordinaries\n    menu.ordinaries = getOrdinaries();\n    function getOrdinaries() {\n      if (!coa.ordinaries) return [];\n\n      const ordinaries = coa.ordinaries.map(o => {\n        const {ordinary, t} = o;\n        const line = o.line || \"straight\";\n        const showStroke = Boolean(o.stroke);\n        const stroke = o.stroke || \"#000000\";\n        const strokeWidth = o.strokeWidth || 1;\n        const size = o.size || 1;\n        const stretch = o.stretch || 0;\n        const x = o.x || 0;\n        const y = o.y || 0;\n        const angle = o.angle || 0;\n        const divided = o.divided || \"\";\n        const above = o.above || false;\n        if (angle) $state.transform = `rotate(${angle})`;\n        return {ordinary, t, line, showStroke, stroke, strokeWidth, size, stretch, x, y, angle, divided, above};\n      });\n\n      return ordinaries;\n    }\n\n    // Charges\n    menu.charges = getCharges();\n    function getCharges() {\n      if (!coa.charges) return [];\n      const charges = coa.charges.map(c => {\n        const {charge, t, t2, t3, p, size} = c;\n        const type = getChargeCategory(charge);\n        const showStroke = c.stroke !== \"none\";\n        const stroke = showStroke && c.stroke ? c.stroke : \"#000000\";\n        const divided = c.divided || \"\";\n        const sinister = c.sinister || false;\n        const reversed = c.reversed || false;\n        const layered = c.layered || false;\n        const outside = c.outside || \"\";\n        const stretch = c.stretch || 0;\n        const x = c.x || 0;\n        const y = c.y || 0;\n        const angle = c.angle || 0;\n        if (angle) $state.transform = `rotate(${angle})`;\n        return {\n          charge,\n          type,\n          showStroke,\n          stroke,\n          divided,\n          t,\n          t2,\n          t3,\n          p,\n          size,\n          stretch,\n          sinister,\n          reversed,\n          layered,\n          outside,\n          x,\n          y,\n          angle\n        };\n      });\n\n      return charges;\n    }\n\n    // Inscriptions\n    menu.inscriptions = getInscriptions();\n    function getInscriptions() {\n      if (!coa.inscriptions) return [];\n      const inscriptions = coa.inscriptions.map(i => {\n        const {text, font, size, shadow} = i;\n        const bold = i.bold || false;\n        const italic = i.italic || false;\n        const color = i.color || \"#000000\";\n        const spacing = i.spacing || 0;\n        const path = i.path || \"M-50 0 L50 0\";\n        return {text, font, size, bold, italic, spacing, color, path, shadow};\n      });\n\n      return inscriptions;\n    }\n\n    function isPattern(string) {\n      return string?.includes(\"-\");\n    }\n\n    function isSemy(string) {\n      return string?.slice(0, 4) === \"semy\";\n    }\n\n    function getSemyCharge(array) {\n      return array[0].split(\"_of_\")[1];\n    }\n\n    function getChargeCategory(charge) {\n      if (charge === \"inescutcheon\") return charge;\n      const type = Object.keys(charges.types).find(type => charges[type][charge] !== undefined);\n      return type || \"uploaded\";\n    }\n\n    function getSemyType(array) {\n      const charge = getSemyCharge(array);\n      return getChargeCategory(charge);\n    }\n\n    function selectSecondTincture(t1) {\n      const metal = t1 === \"argent\" || t1 === \"or\";\n      return rw(metal ? $tinctures.colours : $tinctures.metals);\n    }\n\n    return menu;\n  }\n\n  function getShieldType(shield) {\n    return Object.keys(shields.types).find(type => shields[type][shield] !== undefined);\n  }\n\n  function selectChargeTincture() {\n    return getTincture(createConfig(), \"charge\", [], coa.t1);\n  }\n\n  function addOrdinary() {\n    const ordinariesList = Object.keys(ordinaries.lined).concat(Object.keys(ordinaries.straight));\n    const ordinary = ra(ordinariesList);\n    const t = selectChargeTincture();\n    const o = {\n      ordinary,\n      t,\n      showStroke: false,\n      stroke: \"#000000\",\n      strokeWidth: 1,\n      line: \"straight\",\n      size: 1,\n      above: false,\n      x: 0,\n      y: 0,\n      angle: 0,\n      divided: \"\"\n    };\n    menu.ordinaries = [...menu.ordinaries, o];\n  }\n\n  function addCharge() {\n    const type = rw(charges.single);\n    const charge = rw(charges[type]);\n    const t = selectChargeTincture();\n    const c = {\n      charge,\n      t,\n      p: \"e\",\n      showStroke: true,\n      stroke: \"#000000\",\n      type,\n      size: 1.5,\n      sinister: false,\n      reversed: false,\n      layered: false,\n      x: 0,\n      y: 0,\n      angle: 0,\n      divided: \"\",\n      outside: \"\"\n    };\n    if (charges.data[charge]?.colors > 1) c.t2 = P(0.25) ? selectChargeTincture() : t;\n    if (charges.data[charge]?.colors > 2) c.t3 = P(0.5) ? selectChargeTincture() : t;\n    menu.charges = [...menu.charges, c];\n  }\n\n  function addInscription() {\n    const i = {\n      text: \"Armoria\",\n      font: \"Cinzel\",\n      size: 20,\n      bold: false,\n      italic: false,\n      spacing: 0,\n      color: \"#000000\",\n      path: \"M-50 0 L50 0\"\n    };\n    menu.inscriptions = [...menu.inscriptions, i];\n  }\n\n  if (!(\"ontouchstart\" in window) && (coa.ordinaries || coa.charges)) {\n    if (!$message) message.info(\"info.tipEditControls\");\n  }\n\n  function isRaster(charge) {\n    const el = document.getElementById(charge);\n    return el ? el.tagName === \"image\" : false;\n  }\n\n  $: translateSafely = (group, key) => {\n    const isInDictionary = $dictionary?.[$locale]?.[group]?.[key];\n    return isInDictionary ? $t(`${group}.${key}`) : key;\n  };\n</script>\n\n<main out:fade>\n  <div class=\"coaContainer\" in:fly={{x: isLandscape ? 0 : 1000, y: isLandscape ? 1000 : 0, duration: 800}}>\n    {#key coa}\n      <COA {coa} i=\"Edit\" />\n    {/key}\n\n    {#if $state.selectedPath !== -1}\n      <div class=\"bottom\" transition:fly={{y: 1000, duration: 400}}>\n        <button on:click={() => ($state.selectedPath = -1)}>{$t(\"editor.unselect\")}</button>\n      </div>\n    {/if}\n  </div>\n\n  <div id=\"menu\" in:fly={{x: isLandscape ? 1000 : 0, y: isLandscape ? 0 : 1000, duration: 1000}}>\n    <!-- General -->\n    <div class=\"section\" class:expanded={section.general} on:click={toggleSection(\"general\")}>\n      {#if $isTextReady}\n        {$t(\"editor.general\")}\n      {/if}\n    </div>\n    {#if section.general}\n      <div class=\"panel\" transition:slide>\n        <EditorGeneral bind:name={menu.name} bind:zoom={menu.zoom} />\n      </div>\n    {/if}\n\n    <!-- Shield -->\n    <div class=\"section\" class:expanded={section.shield} on:click={toggleSection(\"shield\")}>\n      {#if $isTextReady}\n        {$t(\"editor.shield\")}: {coa.shield ? $t(`shield.${getShieldType(coa.shield)}.${coa.shield}`) : $t(\"editor.default\")}\n        {#if coa.shield}\n          <EditorRestore callback={() => (menu.shield = undefined)} />\n        {/if}\n      {/if}\n    </div>\n    {#if section.shield}\n      <div class=\"panel\" transition:slide>\n        <div class=\"subsection\">\n          <EditorShield bind:shield={menu.shield} t1={coa.t1} />\n        </div>\n      </div>\n    {/if}\n\n    <!-- Field -->\n    <div class=\"section\" class:expanded={section.field} on:click={toggleSection(\"field\")}>\n      {#if $isTextReady}\n        {$t(\"tinctures.field\")}\n      {/if}\n    </div>\n    {#if section.field}\n      <div class=\"panel\" transition:slide>\n        <div class=\"subsection\">\n          <EditorType bind:type={menu.field.type} />\n          {#if menu.field.type !== \"tincture\"}\n            <EditorSize bind:size={menu.field.size} />\n          {/if}\n        </div>\n\n        <div class=\"subsection\">\n          <EditorTincture bind:t1={menu.field.t1} shield={coa.shield} />\n        </div>\n\n        {#if menu.field.type !== \"tincture\"}\n          <div class=\"subsection\">\n            <EditorTincture bind:t1={menu.field.t2} shield={coa.shield} />\n          </div>\n        {/if}\n\n        {#if menu.field.type === \"pattern\"}\n          <div class=\"subsection\">\n            <EditorPattern\n              bind:pattern={menu.field.pattern}\n              t1={menu.field.t1}\n              t2={menu.field.t2}\n              size={menu.field.size}\n              {coa}\n            />\n          </div>\n        {/if}\n\n        {#if menu.field.type === \"semy\"}\n          <div class=\"subsection\">\n            <EditorCharge\n              type=\"semy\"\n              bind:charge={menu.field.charge}\n              bind:category={menu.field.semy}\n              t1={menu.field.t1}\n              t2={menu.field.t2}\n              size={menu.field.size}\n              shield={coa.shield}\n            />\n          </div>\n        {/if}\n      </div>\n    {/if}\n\n    <!-- Division -->\n    <div class=\"section\" class:expanded={section.division} on:click={toggleSection(\"division\")}>\n      {#if $isTextReady}\n        {$t(\"tinctures.division\")}: {translateSafely(\"divisions\", menu.division.division)}\n      {/if}\n    </div>\n    {#if section.division}\n      <div class=\"panel\" transition:slide>\n        <div class=\"subsection\">\n          <EditorDivision\n            bind:division={menu.division.division}\n            t1={coa.t1}\n            t2={coa.division ? coa.division.t : menu.division.t1}\n            line={menu.division.line}\n            shield={coa.shield}\n          />\n        </div>\n\n        {#if divisions[coa.division?.division]}\n          <div class=\"subsection\">\n            <EditorLine\n              bind:line={menu.division.line}\n              division={menu.division.division}\n              t1={coa.t1}\n              t2={coa.division ? coa.division.t : menu.division.t1}\n              shield={coa.shield}\n            />\n          </div>\n        {/if}\n\n        {#if coa.division}\n          <div class=\"subsection\">\n            <EditorType bind:type={menu.division.type} />\n            {#if menu.division.type !== \"tincture\"}\n              <EditorSize bind:size={menu.division.size} />\n            {/if}\n          </div>\n\n          <div class=\"subsection\">\n            <EditorTincture bind:t1={menu.division.t1} shield={coa.shield} />\n          </div>\n\n          {#if menu.division.type !== \"tincture\"}\n            <div class=\"subsection\">\n              <EditorTincture bind:t1={menu.division.t2} shield={coa.shield} />\n            </div>\n          {/if}\n\n          {#if menu.division.type === \"pattern\"}\n            <div class=\"subsection\">\n              <EditorPattern\n                bind:pattern={menu.division.pattern}\n                t1={menu.division.t1}\n                t2={menu.division.t2}\n                size={menu.division.size}\n                {coa}\n              />\n            </div>\n          {/if}\n\n          {#if menu.division.type === \"semy\"}\n            <div class=\"subsection\">\n              <EditorCharge\n                type=\"semy\"\n                bind:charge={menu.division.charge}\n                bind:category={menu.division.semy}\n                t1={menu.division.t1}\n                t2={menu.division.t2}\n                size={menu.division.size}\n                shield={coa.shield}\n              />\n            </div>\n          {/if}\n        {/if}\n      </div>\n    {/if}\n\n    <!-- Ordinaries -->\n    {#each menu.ordinaries as o, i}\n      <div\n        id=\"ordinary_{i}\"\n        class=\"section\"\n        transition:slide\n        class:expanded={section.ordinary[i]}\n        on:click={toggleSection(\"ordinary\", i)}\n        on:mouseenter={highlight(\"shield\", \"ordinary\", i)}\n        on:mouseleave={lowlight(\"shield\", \"ordinary\", i)}\n      >\n        {#if $isTextReady}\n          {$t(\"editor.ordinary\")}{menu.ordinaries.length > 1 ? ` ${i + 1}` : \"\"}: {translateSafely(\n            \"ordinaries\",\n            o.ordinary\n          )}\n          {#if o.above}\n            <i>[{$t(\"editor.aboveCharges\")}]</i>\n          {/if}\n          <EditorControls bind:els={menu.ordinaries} el={o} {i} />\n        {/if}\n      </div>\n      {#if section.ordinary[i]}\n        <div class=\"panel\" transition:slide>\n          {#if coa.division}\n            <div class=\"subsection\">\n              <EditorDivided bind:divided={o.divided} />\n            </div>\n          {/if}\n\n          <div class=\"subsection\">\n            <EditorOrdinary bind:ordinary={o.ordinary} t1={coa.t1} line={o.line} t2={o.t} shield={coa.shield} />\n          </div>\n\n          {#if ordinaries.lined[o.ordinary]}\n            <div class=\"subsection\">\n              <EditorLine bind:line={o.line} ordinary={o.ordinary} t1={coa.t1} t2={o.t} shield={coa.shield} />\n            </div>\n          {/if}\n\n          {#if o.divided !== \"counter\"}\n            <div class=\"subsection\">\n              <EditorTincture bind:t1={o.t} shield={coa.shield} />\n            </div>\n          {/if}\n\n          <div class=\"subsection\">\n            {#if ![\"bordure\", \"orle\"].includes(o.ordinary)}\n              <EditorStroke bind:element={o} />\n            {/if}\n            <EditorAbove bind:above={o.above} />\n          </div>\n\n          <div class=\"subsection\">\n            <EditorShift bind:element={o} />\n          </div>\n        </div>\n      {/if}\n    {/each}\n\n    <!-- Charges -->\n    {#each menu.charges as charge, i}\n      <div\n        id=\"charge_{i}\"\n        class=\"section\"\n        transition:slide\n        class:expanded={section.charge[i]}\n        on:click={toggleSection(\"charge\", i)}\n        on:mouseenter={highlight(\"shield\", \"charge\", i)}\n        on:mouseleave={lowlight(\"shield\", \"charge\", i)}\n      >\n        {#if $isTextReady}\n          {$t(\"tinctures.charge\")}{menu.charges.length > 1 ? ` ${i + 1}` : \"\"}: {translateSafely(\n            \"charges\",\n            charge.charge\n          )}\n          {#if charge.outside === \"above\"}\n            <i>[{$t(\"editor.aboveShield\")}]</i>\n          {:else if charge.outside === \"below\"}\n            <i>[{$t(\"editor.belowShield\")}]</i>\n          {:else if charge.outside === \"around\"}\n            <i>[{$t(\"editor.aroundShield\")}]</i>\n          {/if}\n          <EditorControls bind:els={menu.charges} el={charge} {i} />\n        {/if}\n      </div>\n      {#if section.charge[i]}\n        <div class=\"panel\" transition:slide>\n          <div class=\"subsection\">\n            {#if coa.division && !charge.outside}\n              <EditorDivided bind:divided={charge.divided} raster={isRaster(charge.charge)} />\n            {/if}\n            <EditorCharge\n              type=\"charge\"\n              bind:charge={charge.charge}\n              bind:category={charge.type}\n              t1={coa.t1}\n              t2={charge.t}\n              t3={charge.t2}\n              t4={charge.t3}\n              sinister={charge.sinister}\n              reversed={charge.reversed}\n              division={coa.division}\n              shield={coa.shield}\n            />\n          </div>\n\n          {#if !isRaster(charge.charge) && charge.divided !== \"counter\"}\n            <div class=\"subsection\">\n              <EditorTincture bind:t1={charge.t} shield={coa.shield} />\n              {#if charges.data[charge.charge]?.colors > 1}\n                <EditorTincture bind:t1={charge.t2} shield={coa.shield} />\n                {#if charges.data[charge.charge]?.colors > 2}\n                  <EditorTincture bind:t1={charge.t3} shield={coa.shield} />\n                {/if}\n              {/if}\n            </div>\n          {/if}\n\n          <div class=\"subsection\">\n            <EditorStroke bind:element={charge} />\n          </div>\n\n          <div class=\"subsection\">\n            <EditorPosition bind:charge />\n            {#if charges.data[charge.charge]?.layered && charge.outside !== \"around\"}\n              <EditorLayered bind:layered={charge.layered} />\n            {/if}\n            {#if !charge.divided}\n              <EditorOutside charge={charge.charge} bind:outside={charge.outside} />\n            {/if}\n          </div>\n\n          <div class=\"subsection\">\n            <EditorShift bind:element={charge} />\n          </div>\n        </div>\n      {/if}\n    {/each}\n\n    <!-- Inscriptions -->\n    {#each menu.inscriptions as inscription, i}\n      <div\n        id=\"inscription_{i}\"\n        class=\"section\"\n        transition:slide\n        class:expanded={section.inscription[i]}\n        on:click={toggleSection(\"inscription\", i)}\n        on:mouseenter={highlight(\"shield\", \"inscription\", i)}\n        on:mouseleave={lowlight(\"shield\", \"inscription\", i)}\n      >\n        {#if $isTextReady}\n          {$t(\"editor.inscription\")}{menu.inscriptions.length > 1 ? ` ${i + 1}` : \"\"}: {inscription.text}\n          <EditorControls bind:els={menu.inscriptions} el={inscription} {i} />\n        {/if}\n      </div>\n      {#if section.inscription[i]}\n        <div class=\"panel\" transition:slide>\n          <div class=\"subsection\">\n            <EditorInscription bind:inscription />\n          </div>\n\n          <div class=\"subsection\">\n            <EditorShadow bind:shadow={inscription.shadow} />\n          </div>\n\n          <div class=\"subsection\">\n            <EditorPath bind:path={inscription.path} />\n          </div>\n        </div>\n      {/if}\n    {/each}\n\n    {#if $isTextReady}\n      <div class=\"buttonLine\" on:click={addOrdinary}>{$t(\"editor.addOrdinary\")}</div>\n      <div class=\"buttonLine\" on:click={addCharge}>{$t(\"editor.addCharge\")}</div>\n      <div class=\"buttonLine\" on:click={addInscription}>{$t(\"editor.addInscription\")}</div>\n    {/if}\n  </div>\n</main>\n\n<style>\n  main {\n    width: 100%;\n    height: calc(100% - 45px);\n    display: grid;\n    justify-items: center;\n    grid-template-columns: auto minmax(40%, 60%);\n    user-select: none;\n  }\n\n  @media only screen and (orientation: portrait) {\n    main {\n      grid-template-columns: none;\n      grid-template-rows: minmax(25%, 1fr) auto;\n    }\n  }\n\n  div.coaContainer {\n    width: 100%;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n\n  div.bottom {\n    position: absolute;\n    bottom: 1em;\n  }\n\n  div.bottom > button {\n    background-color: #11111180;\n    border: none;\n    color: #fff;\n    padding: 0.5em 1em;\n  }\n\n  div.bottom > button:hover {\n    transition: all 0.2s ease-out;\n    background-color: #111111;\n  }\n\n  #menu {\n    width: 100%;\n    overflow-x: hidden;\n    overflow-y: auto;\n    scrollbar-width: thin;\n    transition: 1s;\n    background-color: #11111180;\n  }\n\n  #menu::-webkit-scrollbar {\n    width: 6px;\n    background-color: #cccccc80;\n  }\n\n  #menu::-webkit-scrollbar-thumb {\n    background-color: #111;\n  }\n\n  .section {\n    position: relative;\n    padding: 1em 1.14em;\n    color: #fff;\n    background-color: #00000060;\n    cursor: pointer;\n    transition: background-color 0.1s ease;\n    overflow-x: hidden;\n  }\n\n  .section:hover {\n    background-color: #00000080;\n  }\n\n  .section:after {\n    content: \"\\276F\";\n    transition: 0.2s ease-out;\n    margin-top: -0.1em;\n    float: right;\n  }\n\n  .expanded:after {\n    transform: rotate(90deg);\n  }\n\n  :global(.section.highlighted) {\n    text-shadow: 1px 0 4px yellow, 0 1px 4px yellow, -1px 0 4px yellow, 0 -1px 4px yellow;\n  }\n\n  :global(.section > span) {\n    transition: 1s ease-out;\n    opacity: 0;\n    margin-left: 0.6em;\n  }\n\n  :global(.section:hover > span) {\n    opacity: 1;\n  }\n\n  .section > i {\n    font-size: smaller;\n  }\n\n  .panel {\n    min-width: 100%;\n    max-width: max-content;\n    background-color: #13131320;\n    overflow: hidden;\n  }\n\n  .buttonLine {\n    padding: 1em 1.14em;\n    color: #fff;\n    background-color: #00000040;\n    cursor: pointer;\n    transition: background-color 0.1s ease;\n  }\n\n  .buttonLine:hover {\n    background-color: #00000080;\n  }\n\n  :global(.subsection) {\n    color: #fff;\n    padding: 0.5em 0.5em 0.5em 1em;\n  }\n\n  :global(.items) {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(80px, 1fr));\n  }\n\n  :global(.item) {\n    position: relative;\n    cursor: pointer;\n    max-width: 200px;\n    transition: background-color 0.2s ease;\n  }\n\n  :global(.item:hover) {\n    background-color: #ffffff10;\n  }\n\n  :global(.item:active) {\n    transform: translateY(1px);\n  }\n\n  :global(.item.selected) {\n    background-color: #ffffff15;\n  }\n\n  :global(.wrapper) {\n    position: relative;\n    max-width: 200px;\n  }\n\n  :global(.controls) {\n    visibility: hidden;\n    opacity: 0;\n    transition: all 0.2s ease-in-out;\n    cursor: pointer;\n  }\n\n  :global(.wrapper:hover > .controls) {\n    visibility: visible;\n    opacity: 1;\n  }\n\n  :global(.controls svg) {\n    position: absolute;\n    fill: #f5f5f5;\n    stroke: #000;\n    stroke-width: 5;\n    width: 1em;\n    height: 1em;\n    background-color: #33333320;\n    padding: 0.2em;\n  }\n\n  :global(.controls svg:hover) {\n    fill: #fff;\n    background-color: #33333340;\n  }\n\n  :global(.controls svg:active) {\n    transform: translateY(1px);\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {colors} from \"data//stores\";\n  import {DEFAULT_SHIELD_BOX, shieldPaths} from \"data/shields\";\n  import {rw} from \"scripts/utils\";\n  import {draw, fade} from \"svelte/transition\";\n\n  export let duration: number;\n\n  const delay = duration * 2.6;\n  const tinctures = {metals: {argent: 3, or: 2}, colors: {gules: 5, sable: 3, azure: 4, vert: 2, purpure: 3}};\n  const metal = Math.random() > 0.5;\n  const t1 = metal ? rw(tinctures.metals) : rw(tinctures.colors);\n  const t2 = metal ? rw(tinctures.colors) : rw(tinctures.metals);\n\n  const divisionVariants = {\n    perPale: 2,\n    perFess: 2,\n    perBend: 2,\n    perBendSinister: 1,\n    perCross: 6,\n    perChevron: 1,\n    perChevronReversed: 1,\n    perPile: 2,\n    perSaltire: 5,\n    gyronny: 1,\n    chevronny: 1\n  };\n  const division = rw(divisionVariants);\n\n  const paths = {\n    perPale: [\"M100,25 v175\", \"M100,0 v200 h100 v-200 Z\"],\n    perFess: [\"M27.5,100 h145\", \"M0,100 h200 v100 h-200 Z\"],\n    perBend: [\"M0,0 l200,200\", \"M0,0 l200,200 h-200 Z\"],\n    perBendSinister: [\"M200,0 L0,200\", \"M200,0 L0,200 h200 Z\"],\n    perCross: [\"M100,25 v175 M27.5,100 h145\", \"M100,0 v200 h-100 v-100 h200 v-100 Z\"],\n    perChevron: [\"M0,0 l100,100 l100,-100\", \"M0,0 l100,100 l100,-100 Z\"],\n    perChevronReversed: [\"M0,200 l100,-100 l100,100\", \"M0,200 l100,-100 l100,100 Z\"],\n    perPile: [\"M15,0 l85,200 l85,-200\", \"M15,0 l85,200 l85,-200 Z\"],\n    perSaltire: [\"M0,0 L200,200 M200,0 l-200,200\", \"M0,0 L200,200 v-200 l-200,200 Z\"],\n    gyronny: [\n      \"M0,0 l200,200 M200,100 h-200 M100,0 v200 M0,200 l200,-200\",\n      \"M0,0 l200,200 v-100 h-200 h-100 M100,0 v200, h-100 l200,-200 h-100\"\n    ],\n    chevronny: [\n      \"\",\n      \"M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z\"\n    ]\n  };\n\n  let size = window.innerWidth < 600 ? window.innerWidth * 0.9 : 500;\n  if (window.innerHeight < 600) size *= 0.5;\n</script>\n\n<svg width={size} height={size} viewBox={DEFAULT_SHIELD_BOX}>\n  <defs>\n    <clipPath id=\"shieldAbout\">\n      <path d={shieldPaths.heater} />\n    </clipPath>\n  </defs>\n\n  <g clip-path=\"url(#shieldAbout)\" stroke=\"#fff\" stroke-width=\".5\">\n    <path stroke-width=\"1\" d=\"M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z\" in:draw={{duration}} />\n    <path d={paths[division][0]} in:draw={{delay: duration}} />\n\n    <g in:fade={{delay, duration}} stroke=\"none\">\n      <rect x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill={$colors[t1]} />\n      <path d={paths[division][1]} fill={$colors[t2]} />\n      <rect x=\"0\" y=\"0\" width=\"200\" height=\"200\" fill=\"url(#nourse)\" />\n    </g>\n  </g>\n\n  <g stroke=\"#000\" fill=\"url(#backlight)\">\n    <path d={shieldPaths.heater} in:draw={{delay, duration}} />\n  </g>\n</svg>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import AnimatedCOA from \"./AnimatedCOA.svelte\";\n  import {state} from \"data//stores\";\n  import {fade, fly} from \"svelte/transition\";\n\n  const duration = 1000;\n</script>\n\n<div id=\"about\" transition:fade>\n  <span on:click={() => ($state.about = 0)} class=\"close\">&times;</span>\n\n  <AnimatedCOA {duration} />\n\n  <div in:fly={{y: 200, delay: duration, duration}} class=\"content\">\n    <div class=\"title\">{$t(\"about.title\")}</div>\n\n    <div class=\"links\">\n      <a target=\"_blank\" href=\"https://github.com/Azgaar/Armoria/wiki/Armoria-Tutorial\">{$t(\"about.tutorial\")}</a>\n      <a target=\"_blank\" href=\"https://discord.com/invite/X7E84HU\">{$t(\"about.discord\")}</a>\n      <a target=\"_blank\" href=\"https://github.com/Azgaar/Armoria\">{$t(\"about.gitHub\")}</a>\n      <a target=\"_blank\" href=\"https://github.com/Azgaar/armoria-api#readme\"> {$t(\"about.api\")}</a>\n      <a target=\"_blank\" href=\"https://www.patreon.com/azgaar\"> {$t(\"about.patreon\")}</a>\n    </div>\n  </div>\n</div>\n\n<style>\n  #about {\n    position: fixed;\n    inset: 0;\n    background-color: rgba(0, 0, 0, 0.9);\n    transition: 0.5s;\n    text-align: center;\n    user-select: none;\n\n    display: flex;\n    flex-direction: column;\n    justify-content: space-evenly;\n    align-items: center;\n    padding: 20px;\n  }\n\n  .content {\n    display: flex;\n    flex-direction: column;\n    gap: 2em;\n    font-size: 1.2em;\n    color: #ddd;\n  }\n\n  a:hover,\n  span:hover {\n    color: #fff;\n    text-decoration: none;\n  }\n\n  div.title {\n    font-weight: bold;\n  }\n\n  .links {\n    display: flex;\n    justify-content: space-evenly;\n    gap: 1em;\n  }\n\n  .links > a {\n    color: #ddd;\n    text-decoration: none;\n  }\n\n  .links > a:hover {\n    color: #fff;\n  }\n\n  span.close {\n    position: absolute;\n    top: 0;\n    right: 1.2rem;\n    font-size: 4em;\n    cursor: pointer;\n    color: #ddd;\n  }\n\n  span.close:hover {\n    color: #fff;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {DEFAULT_FONTS} from \"config/defaults\";\n  import {fonts, message, state} from \"data/stores\";\n  import {markdown} from \"scripts/i18n\";\n  import {t} from \"svelte-i18n\";\n  import {fade, fly} from \"svelte/transition\";\n\n  let name = \"\";\n  let type: \"local\" | \"web\" = \"local\";\n  let url = \"\";\n\n  function confirm() {\n    if (!name) return message.error($t(\"error.emptyName\"));\n    if ($fonts[name]) return message.error($t(\"error.notUniqueName\"));\n\n    if (type === \"web\") {\n      if (!url) return message.error($t(\"error.emptyFontURL\"));\n\n      const font = new FontFace(name, `url(${url})`);\n      font.load().then(\n        () => {\n          document.fonts.add(font);\n          addFont(name, {url});\n        },\n        err => {\n          console.error(err);\n          message.error($t(\"error.loadingFont\"));\n        }\n      );\n    } else {\n      // type === \"local\"\n      addFont(name, {});\n    }\n  }\n\n  function addFont(name, data) {\n    $fonts[name] = data;\n    localStorage.setItem(\"fonts\", JSON.stringify($fonts));\n    message.info($t(\"success.fontAdded\"));\n    close();\n  }\n\n  function restoreDefaultFonts() {\n    $fonts = DEFAULT_FONTS;\n    localStorage.removeItem(\"fonts\");\n  }\n\n  function close() {\n    $state.fonts = 0;\n  }\n</script>\n\n<div id=\"fonts\">\n  <form name=\"add font\" transition:fade|local on:submit|preventDefault={confirm}>\n    <div class=\"input\">\n      <label for=\"fontType\">{$t(\"fonts.type\")}:</label>\n      <select id=\"fontType\" bind:value={type}>\n        <option value=\"local\">{$t(\"fonts.local\")}</option>\n        <option value=\"web\">{$t(\"fonts.web\")}</option>\n      </select>\n    </div>\n\n    <div class=\"input\">\n      <label for=\"fontName\">{$t(`fonts.name_${type}`)}:</label>\n      <input id=\"fontName\" bind:value={name} />\n    </div>\n\n    {#if type === \"web\"}\n      <div class=\"input\" in:fly|local>\n        <label for=\"fontUrl\">{$t(\"fonts.url\")}:</label>\n        <input id=\"fontUrl\" bind:value={url} />\n      </div>\n    {/if}\n\n    <div>{@html markdown($t(\"fonts.tip_local\"))}</div>\n    <div>{@html markdown($t(\"fonts.tip_web\"))}</div>\n\n    <div class=\"controls\">\n      <button type=\"submit\">{$t(\"fonts.confirm\")}</button>\n      <button type=\"button\" on:click={close}>{$t(\"fonts.close\")}</button>\n    </div>\n\n    {#if Object.keys($fonts).length !== Object.keys(DEFAULT_FONTS).length}\n      <button type=\"button\" class=\"linkButton\" on:click={restoreDefaultFonts}>{$t(\"fonts.restoreDefault\")}</button>\n    {/if}\n  </form>\n</div>\n\n<style>\n  #fonts {\n    position: fixed;\n    inset: 0;\n    background-color: rgba(0, 0, 0, 0.9);\n    color: white;\n    transition: 0.5s;\n\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  form {\n    width: 300px;\n\n    display: flex;\n    flex-direction: column;\n    gap: 0.5rem;\n  }\n\n  form > div.input {\n    display: flex;\n    flex-direction: column;\n    gap: 0.2rem;\n  }\n\n  form > div.controls {\n    align-self: flex-end;\n    display: flex;\n    gap: 0.4rem;\n  }\n\n  form > button.linkButton {\n    padding: 0;\n    align-self: flex-start;\n\n    background-color: transparent;\n    border: none;\n    color: #e6e6e6;\n    text-decoration: underline;\n\n    cursor: pointer;\n    transition: 0.2s;\n  }\n\n  form > button.linkButton:hover {\n    color: white;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {fontColor, history, matrices, matrix, state} from \"data/stores\";\n  import {download} from \"scripts/download\";\n  import {generate} from \"scripts/generator\";\n  import {minmax} from \"scripts/utils\";\n  import {fade} from \"svelte/transition\";\n  import COA from \"./../object/COA.svelte\";\n\n  export let gallery: number[];\n  export let width: number;\n  export let height: number;\n\n  $: fontSize = minmax(width / 20, 6, 12);\n\n  $: coas = gallery.map(c => {\n    if (!$history[c]) $history[c] = generate();\n    return $history[c];\n  });\n\n  function regenerate(i: number) {\n    $state.i = i;\n    $matrix++;\n    $matrices[$matrix] = $matrices[$matrix - 1].slice();\n    $matrices[$matrix][$state.i] = $history.length;\n  }\n\n  function editCOA(i: number) {\n    $state.edit = 1;\n    $state.c = gallery[i];\n    $state.i = i;\n  }\n</script>\n\n<main style=\"color: {$fontColor}; font-size: {fontSize}px\" transition:fade={{duration: 500}}>\n  {#each coas as coa, i}\n    <div>\n      <div class=\"name\">{coa.name || \"\"}</div>\n      {#key coa}\n        <COA {coa} {i} {width} {height} />\n      {/key}\n      <div class=\"control\">\n        <svg on:click={() => regenerate(i)}><use href=\"#dice-icon\" /></svg>\n        <svg on:click={() => editCOA(i)}><use href=\"#pencil-icon\" /></svg>\n        <svg on:click={() => download(i)}><use href=\"#download-icon\" /></svg>\n      </div>\n    </div>\n  {/each}\n</main>\n\n<style>\n  main > div {\n    display: inline-block;\n    position: relative;\n    user-select: none;\n    transition: background 0.5s ease;\n  }\n\n  main > div:hover {\n    background: #00000020;\n  }\n\n  .name {\n    position: absolute;\n    font-size: 1.6em;\n    font-weight: bold;\n    width: 100%;\n    text-align: center;\n    text-transform: uppercase;\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n\n  .control {\n    display: block;\n    position: absolute;\n    opacity: 0;\n    transition: 0.5s ease-in-out;\n    transform: translate(-50%, -150%);\n    left: 50%;\n    font-size: 2.4em;\n    white-space: nowrap;\n  }\n\n  main > div:hover > .control {\n    opacity: 1;\n  }\n\n  .control > svg {\n    width: 1.2em;\n    height: 1.2em;\n    fill: #f1f1f1;\n    stroke: #333;\n    stroke-width: 0.5em;\n    vertical-align: middle;\n    margin: 0 0.5em;\n    transition: 0.1s ease-in-out;\n  }\n\n  .control > svg:hover {\n    fill: #fff;\n    cursor: pointer;\n  }\n\n  .control > svg:active {\n    transform: translateY(1px) rotate(180deg);\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t, dictionary, locale} from \"svelte-i18n\";\n  import {fade} from \"svelte/transition\";\n  import {shield, state} from \"data/stores\";\n  import {link} from \"scripts/utils\";\n\n  const wetaShield = (shield: string) => [\"noldor\", \"gondor\", \"easterling\", \"ironHills\", \"urukHai\", \"moriaOrc\"].includes(shield);\n\n  const coas = Array.from(document.querySelectorAll(\"svg.coa\"));\n  const charges = coas.map(coa => Array.from(coa.querySelectorAll(\".charge[charge]\")).map(el => el.getAttribute(\"charge\"))).flat();\n\n  // translation-related constants\n  const noLicenseData = $t(\"license.noLicenseData\");\n  const noSourceData = $t(\"license.noSourceData\");\n  const publicDomain = $t(\"license.publicDomain\");\n  const fairUse = $t(\"license.fairUse\");\n\n  // links\n  const armoriaGitHub = link(\"https://github.com/Azgaar/Armoria\", \"Azgaar\");\n  const ccBy = link(\"https://creativecommons.org/licenses/by/4.0/\", \"CC BY 4.0\");\n  const fontAwesome = link(\"https://fontawesome.com/license/free\", \"Font Awesome\");\n\n  const translateSafely = (group: string, key: string) => {\n    const isInDictionary = $dictionary?.[$locale]?.[group]?.[key];\n    return isInDictionary ? $t(`${group}.${key}`) : key;\n  };\n\n  const chargeData = [...new Set(charges)]\n    .map(charge => {\n      const el = document.getElementById(charge);\n      const licenseURL = el.getAttribute(\"license\");\n      const licenseName = getLicenseName(licenseURL);\n      const sourceURL = el.getAttribute(\"source\");\n      const author = el.getAttribute(\"author\") || (sourceURL ? new URL(sourceURL).host : null);\n\n      const license = licenseURL && licenseName ? link(licenseURL, licenseName) : noLicenseData;\n      const source = sourceURL ? link(sourceURL, author) : author || noSourceData;\n\n      return {charge: translateSafely(\"charges\", charge), license, source};\n    })\n    .sort((a, b) => (a.license < b.license ? -1 : 1));\n\n  const isLicenseSame = [...new Set(chargeData.map(d => [d.license, d.source].join(\",\")))].length === 1;\n  const charge = isLicenseSame ? chargeData[0] : null;\n\n  // get mainly Creative Commons short names from license link\n  function getLicenseName(license: string) {\n    if (!license) return null;\n    if (license.includes(\"publicdomain\")) return publicDomain;\n    if (license.includes(\"by-nc-sa\")) return \"CC BY-NC-SA\";\n    if (license.includes(\"by-nc-nd\")) return \"CC BY-NC-ND\";\n    if (license.includes(\"by-nc\")) return \"CC BY-NC\";\n    if (license.includes(\"by-nd\")) return \"CC BY-ND\";\n    if (license.includes(\"by-sa\")) return \"CC BY-SA\";\n    if (license.includes(\"by\")) return \"CC BY\";\n    if (license.includes(\"Fair\")) return fairUse;\n    return license;\n  }\n</script>\n\n<div id=\"license\" transition:fade>\n  <span on:click={() => ($state.license = 0)} class=\"close\">&times;</span>\n\n  <div id=\"licenseContainer\">\n    <h1>{$t(\"license.armoriaLicense\")}</h1>\n\n    {#if chargeData.length}\n      <hr />\n      <h2>{$t(\"license.currentCoas\")}</h2>\n    {/if}\n\n    {#if isLicenseSame}\n      <h3>{chargeData.length > 1 ? $t(\"license.charges\") : charge.charge}: {@html charge.license}, {@html charge.source}</h3>\n    {:else}\n      <div class=\"chargesList\">\n        {#each chargeData as { charge, license, source }}\n          <div><span class=\"charge\">{charge}</span>: {@html license}, {@html source}</div>\n        {/each}\n      </div>\n    {/if}\n\n    {#if wetaShield($shield)}\n      <p>{@html $t(\"license.wetaShield\")}</p>\n    {/if}\n\n    <hr />\n    <h2>{$t(\"license.code\")}: MIT License, {@html armoriaGitHub}</h2>\n    <p>{$t(\"license.textMain\")}</p>\n    <p>{$t(\"license.textRest\")}</p>\n\n    <hr />\n    <h2>{$t(\"license.icons\")}: {@html ccBy}, {@html fontAwesome}</h2>\n    <br />\n  </div>\n</div>\n\n<style>\n  #license {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    left: 0;\n    top: 0;\n    background-color: #000000e6;\n    transition: 0.5s;\n    color: #ddd;\n    text-align: center;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    overflow: auto;\n    scrollbar-width: thin;\n  }\n\n  #license::-webkit-scrollbar {\n    width: 6px;\n    background-color: #cccccc80;\n  }\n\n  #license::-webkit-scrollbar-thumb {\n    background-color: #111;\n  }\n\n  #licenseContainer {\n    width: 90%;\n    max-width: 800px;\n    max-height: 100%;\n  }\n\n  hr {\n    border: none;\n    border-top: 3px double #333;\n    color: #333;\n    overflow: visible;\n    text-align: center;\n    height: 5px;\n  }\n\n  hr:after {\n    content: \"§\";\n    position: relative;\n    top: -12px;\n  }\n\n  span.close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    z-index: 2;\n    cursor: pointer;\n  }\n\n  .chargesList {\n    column-count: 2;\n    column-gap: 4em;\n    text-align: left;\n    margin: 0 1em;\n  }\n\n  .charge {\n    text-transform: capitalize;\n  }\n\n  @media only screen and (orientation: portrait) {\n    .chargesList {\n      column-gap: normal;\n      text-align: center;\n    }\n  }\n</style>\n","import { cubicOut } from '../easing/index.mjs';\nimport { is_function } from '../internal/index.mjs';\n\nfunction flip(node, { from, to }, params = {}) {\n    const style = getComputedStyle(node);\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const [ox, oy] = style.transformOrigin.split(' ').map(parseFloat);\n    const dx = (from.left + from.width * ox / to.width) - (to.left + ox);\n    const dy = (from.top + from.height * oy / to.height) - (to.top + oy);\n    const { delay = 0, duration = (d) => Math.sqrt(d) * 120, easing = cubicOut } = params;\n    return {\n        delay,\n        duration: is_function(duration) ? duration(Math.sqrt(dx * dx + dy * dy)) : duration,\n        easing,\n        css: (t, u) => {\n            const x = u * dx;\n            const y = u * dy;\n            const sx = t + u * from.width / to.width;\n            const sy = t + u * from.height / to.height;\n            return `transform: ${transform} translate(${x}px, ${y}px) scale(${sx}, ${sy});`;\n        }\n    };\n}\n\nexport { flip };\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {fade} from \"svelte/transition\";\n  import {flip} from \"svelte/animate\";\n  import {colors, tinctures, state, message} from \"data/stores\";\n  import {camelize} from \"scripts/utils\";\n  import {tooltip} from \"scripts/tooltip\";\n  import {DEFAULT_COLORS, DEFAULT_TINCTURES} from \"config/defaults\";\n  import type {ChancesObject} from \"types/tinctures\";\n\n  const addLine = {show: false, name: \"\", type: \"colours\", color: \"#96C8FA\", chance: 3};\n  const mandatoryTypes = [\"metals\", \"colours\"];\n\n  // remove stored weighted array\n  for (const key in $tinctures) {\n    delete $tinctures[key].array;\n  }\n\n  const types = [\"metals\", \"colours\", \"stains\"] as const;\n  $: tData = types.map(type => Object.keys($tinctures[type]).map(tincture => ({t: tincture, type}))).flat();\n\n  $: lock(\"tinctures\", $tinctures);\n  $: lock(\"colors\", $colors);\n\n  $: getTotalChance = (type: string) => {\n    const chances = Object.values($tinctures[type] as ChancesObject);\n    return chances.reduce((a, b) => a + b, 0);\n  };\n\n  // don't lock options on load\n  let loaded = [];\n  function lock(key: string, value: unknown) {\n    if (loaded.includes(key)) localStorage.setItem(key, JSON.stringify(value));\n    else loaded.push(key);\n  }\n\n  function changeElementChance(element: string, type: string, event: Event) {\n    const target = event.target as HTMLInputElement;\n    const newValue = +target.value;\n    const min = +target.min;\n\n    if (isNaN(newValue)) {\n      message.error(\"error.mustBeNumber\");\n      return;\n    }\n\n    if (newValue < min) {\n      message.error(\"error.valueCannotBeThatLow\");\n      target.value = String(min);\n      return;\n    }\n\n    $tinctures[element][type] = newValue;\n  }\n\n  function changeTinctureChance(type: string, tinctureName: string, event: Event) {\n    const target = event.target as HTMLInputElement;\n    const newValue = +target.value;\n\n    if (isNaN(newValue)) {\n      message.error(\"error.mustBeNumber\");\n      return;\n    }\n\n    if (newValue < 1) {\n      const typeTinctures: ChancesObject = {...$tinctures[type]};\n      typeTinctures[tinctureName] = 0;\n      const totalChance = Object.values(typeTinctures).reduce((a, b) => a + b, 0);\n      if (totalChance < 1) {\n        message.error(\"error.totalChanceMustNotBeZero\");\n        target.value = String(1);\n        return;\n      }\n    }\n\n    $tinctures[type][tinctureName] = newValue;\n  }\n\n  function removeTincture(tinctureName: string, type: string) {\n    delete $tinctures[type][tinctureName];\n    $tinctures = $tinctures;\n    delete $colors[tinctureName];\n    $colors = $colors;\n  }\n\n  function addTincture() {\n    addLine.show = true;\n    message.info(\"info.tipAddTincture\", 8000);\n  }\n\n  function cancelAddTincture() {\n    addLine.show = false;\n  }\n\n  function closeTincturesScreen() {\n    $state.tinctures = 0;\n  }\n\n  function applyAddTincture() {\n    const name = camelize(addLine.name);\n\n    if (!name || $colors[name]) {\n      message.error(\"error.nonUniqueTincture\");\n      return;\n    }\n\n    $tinctures[addLine.type][name] = addLine.chance;\n    $colors[name] = addLine.color;\n    addLine.show = false;\n    addLine.name = \"\";\n    message.info(\"success.tinctureAdded\");\n  }\n\n  function restoreDefault() {\n    $tinctures = JSON.parse(JSON.stringify(DEFAULT_TINCTURES));\n    $colors = JSON.parse(JSON.stringify(DEFAULT_COLORS));\n    localStorage.removeItem(\"tinctures\");\n    localStorage.removeItem(\"colors\");\n    loaded = [];\n    message.info(\"info.restoredDefaults\");\n  }\n\n  function getTinctureName(tinctureName: string) {\n    const translated = $t(`tinctures.${tinctureName}`);\n    return translated.startsWith(\"tinctures.\") ? tinctureName : translated;\n  }\n</script>\n\n<div id=\"tinctures\" transition:fade|local>\n  <span on:click={closeTincturesScreen} class=\"close\">&times;</span>\n\n  <div id=\"left\">\n    <table>\n      <thead>\n        <tr>\n          <th />\n          {#each Object.keys($tinctures.field) as type (type)}\n            <th>{$t(`tinctures.${type}`)}</th>\n          {/each}\n        </tr>\n      </thead>\n      <tbody>\n        {#each [\"field\", \"division\", \"charge\"] as element (element)}\n          <tr>\n            <td>{$t(`tinctures.${element}`)}</td>\n            {#each Object.keys($tinctures[element]) as type (type)}\n              <td>\n                <input\n                  type=\"number\"\n                  min={mandatoryTypes.includes(type) ? 1 : 0}\n                  max=\"100\"\n                  step=\"1\"\n                  value={$tinctures[element][type]}\n                  on:change={event => changeElementChance(element, type, event)}\n                />\n                <span class=\"totalChance\">/ {getTotalChance(element)}</span>\n              </td>\n            {/each}\n          </tr>\n        {/each}\n      </tbody>\n      <tfoot>\n        <tr>\n          <td />\n          <td colspan=\"2\">\n            {#if addLine.show}\n              <button on:click={applyAddTincture}>{$t(\"tinctures.apply\")}</button>\n            {:else}\n              <button on:click={addTincture}>{$t(\"tinctures.add\")}</button>\n            {/if}\n          </td>\n          <td colspan=\"2\">\n            <button on:click={restoreDefault}>{$t(\"tinctures.restore\")}</button>\n          </td>\n        </tr>\n      </tfoot>\n    </table>\n  </div>\n\n  <div id=\"right\">\n    <table id=\"tincturesTable\">\n      <thead>\n        <tr>\n          {#each [\"name\", \"type\", \"color\", \"chance\", \"remove\"] as header}\n            <th>{$t(`tinctures.${header}`)}</th>\n          {/each}\n        </tr>\n      </thead>\n      <tbody>\n        {#if addLine.show}\n          <tr transition:fade>\n            <td>\n              <input type=\"text\" placeholder={$t(\"tinctures.name\")} bind:value={addLine.name} />\n            </td>\n            <td>\n              <select bind:value={addLine.type}>\n                <option value=\"metals\">{$t(\"tinctures.metals\")}</option>\n                <option value=\"colours\">{$t(\"tinctures.colours\")}</option>\n                <option value=\"stains\">{$t(\"tinctures.stains\")}</option>\n              </select>\n            </td>\n            <td>\n              <input type=\"color\" bind:value={addLine.color} />\n            </td>\n            <td>\n              <input type=\"number\" min=\"0\" max=\"100\" step=\"1\" bind:value={addLine.chance} />\n            </td>\n            <td>\n              <span class=\"actionButton\" on:click={cancelAddTincture}>&times;</span>\n            </td>\n          </tr>\n        {/if}\n        {#each tData as { t: tinctureName, type } (tinctureName)}\n          <tr animate:flip>\n            <td>{getTinctureName(tinctureName)}</td>\n            <td>{$t(`tinctures.${type}`)}</td>\n            <td>\n              <input\n                type=\"color\"\n                bind:value={$colors[tinctureName]}\n                data-tooltip={$t(\"tooltip.changeColor\")}\n                use:tooltip\n              />\n              {#if DEFAULT_COLORS[tinctureName] && $colors[tinctureName] !== DEFAULT_COLORS[tinctureName]}\n                <svg\n                  on:click={() => ($colors[tinctureName] = DEFAULT_COLORS[tinctureName])}\n                  width=\"12\"\n                  height=\"12\"\n                  data-tooltip={$t(\"tooltip.undoColorChange\")}\n                  use:tooltip\n                >\n                  <use href=\"#undo-icon\" />\n                </svg>\n              {/if}\n            </td>\n            <td>\n              <input\n                type=\"number\"\n                min=\"0\"\n                max=\"100\"\n                step=\"1\"\n                value={$tinctures[type][tinctureName]}\n                on:change={event => changeTinctureChance(type, tinctureName, event)}\n              />\n              <span class=\"totalChance\">/ {getTotalChance(type)}</span>\n            </td>\n            <td>\n              {#if DEFAULT_COLORS[tinctureName]}\n                <span class=\"disabledButton\" data-tooltip={$t(\"tooltip.defaultColor\")} use:tooltip>&times;</span>\n              {:else}\n                <span class=\"actionButton\" on:click={() => removeTincture(tinctureName, type)}>&times;</span>\n              {/if}\n            </td>\n          </tr>\n        {/each}\n      </tbody>\n    </table>\n  </div>\n</div>\n\n<style>\n  #tinctures {\n    position: fixed;\n    inset: 0;\n    background-color: rgba(0, 0, 0, 0.9);\n    transition: 0.5s;\n    text-align: center;\n    user-select: none;\n    overflow: auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n  }\n\n  #tinctures::-webkit-scrollbar {\n    width: 6px;\n    background-color: #cccccc80;\n  }\n\n  #tinctures::-webkit-scrollbar-thumb {\n    background-color: #111;\n  }\n\n  @media only screen and (orientation: portrait) {\n    #tinctures {\n      flex-direction: column;\n    }\n  }\n\n  span.close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    cursor: pointer;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  .close:hover,\n  .actionButton:hover {\n    color: #fff;\n  }\n\n  table {\n    color: #ddd;\n    text-transform: capitalize;\n    min-width: 350px;\n    max-width: 80vw;\n    display: block;\n    max-height: 80vh;\n  }\n\n  td {\n    position: relative;\n    width: 4em;\n    height: 2.2em;\n  }\n\n  tfoot td {\n    text-align: right;\n  }\n\n  #tincturesTable td:nth-child(3) {\n    width: 5em;\n  }\n\n  input {\n    position: absolute;\n    transform: translate(-50%, -50%);\n  }\n\n  input[type=\"color\"] {\n    padding: 0;\n    border: 0;\n    cursor: pointer;\n  }\n\n  input[type=\"text\"] {\n    width: 6em;\n  }\n\n  input[type=\"number\"] {\n    width: 100%;\n  }\n\n  .totalChance {\n    position: absolute;\n    top: 6%;\n    right: 10%;\n    color: #333;\n    user-select: none;\n    pointer-events: none;\n    font-size: 0.6em;\n  }\n\n  svg {\n    cursor: pointer;\n    position: absolute;\n    transform: translate(-50%, -50%);\n    fill: currentColor;\n  }\n\n  svg:hover {\n    fill: #fff;\n  }\n\n  .actionButton {\n    font-size: 2em;\n    cursor: pointer;\n  }\n\n  .disabledButton {\n    font-size: 2em;\n    cursor: not-allowed;\n    color: #444;\n  }\n\n  select {\n    padding: 5.5px 0px;\n    margin: 0;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {changes, history, matrices, matrix, message, state} from \"data/stores\";\n\n  let dragging = false;\n\n  const onFile = (getFilesFunction: any) => (event: any) => {\n    dragging = false;\n    const files = getFilesFunction(event);\n    const file = files.length ? files[0] : [];\n\n    if (!file.type.match(/text|json/)) {\n      message.error(\"error.notJsonOrText\");\n      return;\n    }\n\n    loadCOA(file);\n  };\n\n  function getFilesFromDropEvent({dataTransfer: {files, items}}) {\n    return files.length ? [...files] : items.filter(({kind}) => kind === \"file\").map(({getAsFile}) => getAsFile());\n  }\n\n  function getFilesFromInputEvent({target}) {\n    const files = target.files ? [...target.files] : [];\n    target.value = \"\";\n    return files;\n  }\n\n  function loadCOA(file: Blob) {\n    const reader = new FileReader();\n    reader.onload = function () {\n      let coas;\n      try {\n        coas = JSON.parse(this.result);\n      } catch(error) {\n        message.error(\"error.loadingCoa\");\n        return;\n      }\n\n      if ($state.edit) {\n        // Load a single COA\n        changes.add(JSON.stringify(coas[0]));\n      } else {\n        // Load a whole gallery\n        const l = $history.length;\n        for (const [i, coa] of coas.entries()) {\n          $history[l + i] = coa;\n        }\n        const gallery = $matrices[$matrix].length;\n        $matrix++;\n        $matrices[$matrix] = Array.from({length: coas.length}, (_, i) => l + i++);\n        for (let i = coas.length; i < gallery; i++) {\n          // Fill up with empty COAs\n          $history[l + i] = {t1: \"argent\"};\n          $matrices[$matrix].push(l + i);\n        }\n      }\n      $state.import = 0;\n      message.success(\"success.coaLoaded\");\n    };\n    reader.readAsText(file);\n  }\n</script>\n\n<div\n  id=\"jsonUpload\"\n  on:drop|preventDefault={onFile(getFilesFromDropEvent)}\n  on:dragover|preventDefault={() => (dragging = true)}\n  on:dragleave|preventDefault={() => (dragging = false)}\n>\n  <span on:click={() => ($state.import = 0)} class=\"close\">&times;</span>\n  <div class=\"container\">\n    <label class=\"dragging\">\n      <slot {dragging}>\n        <div>Drag &amp; Drop JSON file here or <b>browse</b></div>\n      </slot>\n      <input type=\"file\" accept=\".json\" on:input={onFile(getFilesFromInputEvent)} />\n    </label>\n  </div>\n</div>\n\n<style>\n  #jsonUpload {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    left: 0;\n    top: 0;\n    background-color: #000000e6;\n    transition: 0.5s;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: center;\n    overflow: auto;\n  }\n\n  .container {\n    color: #ddd;\n    max-height: 100%;\n    max-width: 90%;\n  }\n\n  input[type=\"file\"] {\n    display: none;\n  }\n\n  .close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    display: inline-block;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  label:hover,\n  span:hover {\n    cursor: pointer;\n    color: #fff;\n  }\n\n  .dragging {\n    width: max-content;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n\n  export let license;\n</script>\n\n<select bind:value={license} style=\"width: 10em\">\n  <option value=\"Unknown\" selected>{$t(`license.unknown`)}</option>\n  <option value=\"Proprietary\">{$t(`license.proprietary`)}</option>\n  <option value=\"Copyright Free\">{$t(`license.copyleft`)}</option>\n  <option value=\"https://creativecommons.org/publicdomain/zero/1.0\">{$t(`license.publicDomain`)}</option>\n  <option value=\"https://creativecommons.org/licenses/by/4.0\">CC BY</option>\n  <option value=\"https://creativecommons.org/licenses/by-sa/4.0\">CC BY-SA</option>\n  <option value=\"https://creativecommons.org/licenses/by-nc/4.0\">CC BY-NC</option>\n  <option value=\"https://creativecommons.org/licenses/by-nd/4.0\">CC BY-ND</option>\n  <option value=\"https://creativecommons.org/licenses/by-nc-sa/4.0\">CC BY-NC-SA</option>\n  <option value=\"https://creativecommons.org/licenses/by-nc-nd/4.0\">CC BY-NC-ND</option>\n</select>\n","export const query = document.querySelector.bind(document);\nexport const queryAll = document.querySelectorAll.bind(document);\nNode.prototype.on = window.on = function (name, fn) {\n    this.addEventListener(name, fn);\n};\nNode.prototype.off = window.off = function (name, fn) {\n    this.removeEventListener(name, fn);\n};\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import LicenseList from \"./LicenseList.svelte\";\n  import {state, message, shield, uploaded} from \"data/stores\";\n  import {charges} from \"data/dataModel\";\n  import {DEFAULT_SHIELD_BOX, shieldPaths} from \"data/shields\";\n  import {updateCharge} from \"scripts/getters\";\n  import {tooltip} from \"scripts/tooltip\";\n  import {camelize} from \"scripts/utils\";\n  import {query} from \"scripts/aliases\";\n\n  let dragging = false;\n  let selected = false;\n\n  let size = 50;\n  let offsetX = 0;\n  let offsetY = 0;\n\n  let name: string;\n  let category = \"uploaded\";\n  let source: string;\n  let license: string;\n  let author: string;\n\n  const onFile = getFilesFunction => event => {\n    dragging = false;\n    const files = getFilesFunction(event);\n    const file = files.length ? files[0] : [];\n\n    if (!file.type.match(/image.*/)) {\n      message.error(\"error.notAnImage\");\n      return;\n    }\n\n    selected = true;\n    message.info(\"info.tipUploadImageSize\");\n    name = camelize(file.name);\n    loadImage(file);\n  };\n\n  function getFilesFromDropEvent({dataTransfer: {files, items}}) {\n    return files.length ? [...files] : items.filter(({kind}) => kind === \"file\").map(({getAsFile}) => getAsFile());\n  }\n\n  function getFilesFromInputEvent({target}) {\n    const files = target.files ? [...target.files] : [];\n    target.value = \"\";\n    return files;\n  }\n\n  function loadImage(file: Blob) {\n    const reader = new FileReader();\n    reader.onload = function (readerEvent) {\n      const dataURL = readerEvent.target.result as string;\n      const image = document.getElementById(\"rasterUpload\").querySelector(\"svg image\");\n      image.setAttribute(\"href\", dataURL);\n    };\n    reader.readAsDataURL(file);\n  }\n\n  function addCharge() {\n    const allCharges = Object.keys(charges.types)\n      .map(type => Object.keys(charges[type]))\n      .flat();\n    name = camelize(name);\n\n    if (!name || document.getElementById(name) || allCharges.includes(name)) {\n      message.error(\"error.notUniqueName\");\n      return;\n    }\n\n    if (!charges.types[category]) charges.types[category] = 6;\n    if (!charges.single[category]) charges.single[category] = 6;\n    charges[category][name] = 5;\n\n    // remove stored weighted arrays\n    delete charges.types.array;\n    delete charges.single.array;\n    delete charges[category].array;\n\n    const image = query(\"#rasterUpload svg image\").cloneNode(true) as Element;\n    image.id = name;\n    if (source) image.setAttribute(\"source\", source);\n    if (license) image.setAttribute(\"license\", license);\n    if (author) image.setAttribute(\"author\", author);\n\n    $uploaded[name] = {\n      category,\n      type: \"raster\",\n      content: image.outerHTML,\n    };\n    localStorage.setItem(\"uploaded\", JSON.stringify($uploaded));\n    updateCharge(name); // for the case where charge was previously not found\n\n    selected = false;\n    $state.raster = 0;\n    message.success(\"success.chargeAdded\");\n  }\n</script>\n\n<div\n  id=\"rasterUpload\"\n  on:drop|preventDefault={onFile(getFilesFromDropEvent)}\n  on:dragover|preventDefault={() => (dragging = true)}\n  on:dragleave|preventDefault={() => (dragging = false)}\n>\n  <span on:click={() => ($state.raster = 0)} class=\"close\">&times;</span>\n  <div class=\"container\">\n    {#if selected}\n      <svg\n        width=\"100%\"\n        height=\"100%\"\n        stroke=\"#000\"\n        stroke-width=\"1\"\n        viewBox={DEFAULT_SHIELD_BOX}\n        data-tooltip=\"Fit image into the rectangle for best result\"\n        use:tooltip\n      >\n        <g fill=\"#fff\" fill-opacity=\".05\" stroke=\"#fff\" stroke-width=\".5\">\n          <image\n            id=\"imageLoaded\"\n            x=\"{(100 - size) / 2 + offsetX}%\"\n            y=\"{(100 - size) / 2 + offsetY}%\"\n            width=\"{size}%\"\n            height=\"{size}%\"\n          />\n          <path d={shieldPaths[$shield]} />\n          <rect x=\"60\" y=\"60\" width=\"80\" height=\"80\" />\n        </g>\n      </svg>\n\n      <div class=\"inputs\">\n        <div data-tooltip=\"Image size in percents\" use:tooltip>\n          <div class=\"label\">Size:</div>\n          <input type=\"number\" bind:value={size} />\n        </div>\n        <div data-tooltip=\"Offset by X axis in pixels\" use:tooltip>\n          <div class=\"label\">Offset X:</div>\n          <input type=\"number\" bind:value={offsetX} />\n        </div>\n        <div data-tooltip=\"Offset by Y axis in pixels\" use:tooltip>\n          <div class=\"label\">Offset Y:</div>\n          <input type=\"number\" bind:value={offsetY} />\n        </div>\n        <div data-tooltip=\"Link to the image source\" use:tooltip>\n          <div class=\"label\">Source:</div>\n          <input bind:value={source} />\n        </div>\n        <div data-tooltip=\"Image author or source portal name\" use:tooltip>\n          <div class=\"label\">Author:</div>\n          <input bind:value={author} />\n        </div>\n        <div data-tooltip=\"Image license\" use:tooltip>\n          <div class=\"label\">License:</div>\n          <LicenseList bind:license />\n        </div>\n        <div data-tooltip=\"Charge unique name (id)\" use:tooltip>\n          <div class=\"label\">Name:</div>\n          <input placeholder=\"Charge id\" required bind:value={name} />\n        </div>\n        <div data-tooltip=\"Category to put a charge\" use:tooltip>\n          <div class=\"label\">Category:</div>\n          <select bind:value={category}>\n            {#each Object.keys(charges.types) as c}\n              <option value={c}>{c}</option>\n            {/each}\n          </select>\n        </div>\n        <div class=\"buttons\">\n          <button on:click={addCharge}>Add</button>\n          <button on:click={() => (selected = false)}>Cancel</button>\n        </div>\n      </div>\n    {:else}\n      <label class=\"dragging\">\n        <slot {dragging}>\n          <div>Drag &amp; Drop image here or <b>browse</b></div>\n        </slot>\n        <input type=\"file\" accept=\"image/*\" on:input={onFile(getFilesFromInputEvent)} />\n      </label>\n    {/if}\n  </div>\n</div>\n\n<style>\n  #rasterUpload {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    left: 0;\n    top: 0;\n    background-color: #000000e6;\n    transition: 0.5s;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: center;\n    overflow: auto;\n  }\n\n  .container {\n    color: #ddd;\n    max-height: 90%;\n    max-width: 90%;\n  }\n\n  .inputs {\n    column-count: 3;\n  }\n\n  input,\n  select {\n    width: 10em;\n  }\n\n  .buttons > button {\n    cursor: pointer;\n    margin: 1.18em 0;\n    width: 4.8em;\n  }\n\n  @media only screen and (orientation: portrait) {\n    .inputs {\n      column-count: 2;\n    }\n\n    .buttons {\n      column-span: all;\n    }\n  }\n\n  input[type=\"file\"] {\n    display: none;\n  }\n\n  .close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    display: inline-block;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  label:hover,\n  span:hover {\n    cursor: pointer;\n    color: #fff;\n  }\n\n  .dragging {\n    width: max-content;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import LicenseList from \"./LicenseList.svelte\";\n  import {state, colors, tinctures, message, shield, uploaded} from \"data/stores\";\n  import {charges} from \"data/dataModel\";\n  import {DEFAULT_SHIELD_BOX, shieldPaths} from \"data/shields\";\n  import {updateCharge} from \"scripts/getters\";\n  import {camelize} from \"scripts/utils\";\n  import {tooltip} from \"scripts/tooltip\";\n  import {query} from \"scripts/aliases\";\n\n  let dragging = false;\n  let selected = false;\n  let svg: string;\n  let transform = {a: 1, b: 0, c: 0, d: 1, e: 0, f: 0};\n  let name: string;\n  let category = \"uploaded\";\n  let color = \"#d7374a\";\n\n  let source: string;\n  let license: string;\n  let author: string;\n\n  const tinctureList = [\"metals\", \"colours\", \"stains\"].map(type => Object.keys($tinctures[type])).flat();\n\n  $: updateTransform(transform);\n\n  function updateTransform(transform: {[key: string]: number}) {\n    if (!svg) return; // on component load\n\n    const el = document.createElement(\"html\");\n    el.innerHTML = svg;\n    const g = el.querySelector(\"g\");\n    const transformString = Object.values(transform).join(\" \");\n    if (transformString === \"1 0 0 1 0 0\") g.removeAttribute(\"transform\");\n    else g.setAttribute(\"transform\", \"matrix(\" + transformString + \")\");\n    svg = g.outerHTML;\n  }\n\n  const onFile = (getFilesFunction: any) => (event: any) => {\n    dragging = false;\n    const files = getFilesFunction(event);\n    const file = files.length ? files[0] : [];\n\n    if (!file.type.match(/text.*|svg.*/)) {\n      message.error(\"error.notSvgOrText\");\n      return;\n    }\n\n    selected = true;\n    name = camelize(file.name);\n    loadImage(file);\n  };\n\n  function getFilesFromDropEvent({dataTransfer: {files, items}}) {\n    return files.length ? [...files] : items.filter(({kind}) => kind === \"file\").map(({getAsFile}) => getAsFile());\n  }\n\n  function getFilesFromInputEvent({target}) {\n    const files = target.files ? [...target.files] : [];\n    target.value = \"\";\n    return files;\n  }\n\n  function loadImage(file: Blob) {\n    const reader = new FileReader();\n    reader.onload = function (readerEvent) {\n      const svgText = readerEvent.target.result as string;\n      const el = document.createElement(\"html\");\n      el.innerHTML = svgText;\n\n      // remove sodipodi and inkscape attributes\n      el.querySelectorAll(\"*\").forEach(el => {\n        const attributes = el.getAttributeNames();\n        attributes.forEach(attr => {\n          if (attr.includes(\"inkscape\") || attr.includes(\"sodipodi\")) el.removeAttribute(attr);\n        });\n      });\n\n      const g = el.querySelector(\"g\");\n      if (!g) {\n        message.error(\"error.incorrectSvg\");\n        selected = false;\n        return;\n      }\n\n      const consolidated = g.transform.baseVal.consolidate();\n      if (consolidated) {\n        const {a, b, c, d, e, f} = consolidated.matrix;\n        const fix = n => +n.toFixed(4);\n        transform = Object.assign(transform, {a: fix(a), b: fix(b), c: fix(c), d: fix(d), e: fix(e), f: fix(f)});\n      }\n      g.removeAttribute(\"id\");\n      svg = g.outerHTML;\n    };\n    reader.readAsText(file);\n  }\n\n  function addCharge() {\n    const allCharges = Object.keys(charges.types)\n      .map(type => Object.keys(charges[type]))\n      .flat();\n    name = camelize(name);\n\n    if (!name || document.getElementById(name) || allCharges.includes(name)) {\n      message.error(\"error.notUniqueName\");\n      return;\n    }\n\n    if (!charges.types[category]) charges.types[category] = 6;\n    if (!charges.single[category]) charges.single[category] = 6;\n    charges[category][name] = 5;\n    const colors = svg.includes(\"tertiary\") ? 3 : svg.includes(\"secondary\") ? 2 : 1;\n    charges.data[name] = {colors};\n\n    const el = document.createElement(\"html\");\n    el.innerHTML = svg;\n    const image = el.querySelector(\"g\");\n    image.id = name;\n\n    if (source) image.setAttribute(\"source\", source);\n    if (license) image.setAttribute(\"license\", license);\n    if (author) image.setAttribute(\"author\", author);\n\n    $uploaded[name] = {\n      category,\n      type: \"vector\",\n      data: {colors},\n      content: image.outerHTML,\n    };\n    localStorage.setItem(\"uploaded\", JSON.stringify($uploaded));\n    updateCharge(name); // for the case where charge was previously not found\n\n    selected = false;\n    $state.vector = 0;\n    message.success(\"success.chargeAdded\");\n  }\n\n  function downloadTemplate() {\n    fetch(\"charges/template.svg\").then(text => {\n      return text.blob().then(blob => {\n        const a = document.createElement(\"a\");\n        a.href = URL.createObjectURL(blob);\n        a.setAttribute(\"download\", \"armoriaChargeTemplate.txt\");\n        a.click();\n      });\n    });\n  }\n</script>\n\n<div\n  id=\"vectorUpload\"\n  on:drop|preventDefault={onFile(getFilesFromDropEvent)}\n  on:dragover|preventDefault={() => (dragging = true)}\n  on:dragleave|preventDefault={() => (dragging = false)}\n>\n  <span on:click={() => ($state.vector = 0)} class=\"close\">&times;</span>\n  <div class=\"container\">\n    {#if selected}\n      <svg\n        width=\"100%\"\n        height=\"100%\"\n        fill={color}\n        stroke=\"#000\"\n        stroke-width=\"1\"\n        viewBox={DEFAULT_SHIELD_BOX}\n        data-tooltip=\"Fit image into the rectangle for best result\"\n        use:tooltip\n      >\n        <g fill=\"#fff\" fill-opacity=\".05\" stroke=\"#fff\" stroke-width=\".5\">\n          <path d={shieldPaths[$shield]} />\n          <rect x=\"60\" y=\"60\" width=\"80\" height=\"80\" />\n        </g>\n        <g>{@html svg}</g>\n      </svg>\n\n      <div>\n        <div class=\"label\">SVG Markup:</div>\n        <textarea rows=\"5\" bind:value={svg} />\n      </div>\n\n      <div class=\"inputs\">\n        <div data-tooltip=\"Charge translate: X and Y px\" use:tooltip>\n          <div class=\"label\">Translate:</div>\n          <input type=\"number\" step=\".1\" class=\"paired\" bind:value={transform.e} />\n          <input type=\"number\" step=\".1\" class=\"paired\" bind:value={transform.f} />\n        </div>\n\n        <div data-tooltip=\"Charge scale: X and Y, where 1 is default size\" use:tooltip>\n          <div class=\"label\">Scale:</div>\n          <input type=\"number\" step=\".01\" class=\"paired\" bind:value={transform.a} />\n          <input type=\"number\" step=\".01\" class=\"paired\" bind:value={transform.d} />\n        </div>\n\n        <div\n          data-tooltip=\"Tincture preview color, does not affect uploaded actual color. Charges must not have exact color defined. In this case charge will support all tinctures\"\n          use:tooltip\n        >\n          <div class=\"label\">Tincture:</div>\n          <select bind:value={color}>\n            {#each tinctureList as tincture}\n              <option value={$colors[tincture]}>{tincture}</option>\n            {/each}\n          </select>\n        </div>\n\n        <div data-tooltip=\"Link to the image source\" use:tooltip>\n          <div class=\"label\">Source:</div>\n          <input bind:value={source} />\n        </div>\n        <div data-tooltip=\"Image author or source portal name\" use:tooltip>\n          <div class=\"label\">Author:</div>\n          <input bind:value={author} />\n        </div>\n        <div data-tooltip=\"Image license\" use:tooltip>\n          <div class=\"label\">License:</div>\n          <LicenseList bind:license />\n        </div>\n        <div data-tooltip=\"Charge unique name (id)\" use:tooltip>\n          <div class=\"label\">Name:</div>\n          <input placeholder=\"Charge id\" required bind:value={name} />\n        </div>\n        <div data-tooltip=\"Category to put a charge\" use:tooltip>\n          <div class=\"label\">Category:</div>\n          <select bind:value={category}>\n            {#each Object.keys(charges.types) as c}\n              <option value={c}>{c}</option>\n            {/each}\n          </select>\n        </div>\n\n        <div class=\"buttons\">\n          <button on:click={addCharge}>Upload</button>\n          <button on:click={() => (selected = false)}>Cancel</button>\n        </div>\n      </div>\n    {:else}\n      <label class=\"dragging\">\n        <slot {dragging}>\n          <div>Drag &amp; Drop svg file here or <b>browse</b></div>\n        </slot>\n        <input type=\"file\" accept=\".svg\" on:input={onFile(getFilesFromInputEvent)} />\n      </label>\n      <button class=\"template\" on:click={downloadTemplate}>Download Template</button>\n    {/if}\n  </div>\n</div>\n\n<style>\n  #vectorUpload {\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    left: 0;\n    top: 0;\n    background-color: #000000e6;\n    transition: 0.5s;\n    user-select: none;\n    display: flex;\n    flex-flow: row;\n    align-items: center;\n    justify-content: center;\n    overflow: auto;\n  }\n\n  .container {\n    color: #ddd;\n    max-height: 100%;\n    max-width: 90%;\n  }\n\n  .inputs {\n    column-count: 3;\n  }\n\n  textarea {\n    width: 100%;\n    font-size: 0.8em;\n    font-family: \"Courier New\", Courier, monospace;\n  }\n\n  input,\n  select {\n    width: 10em;\n  }\n\n  input.paired {\n    width: 4.85em;\n  }\n\n  input[type=\"file\"] {\n    display: none;\n  }\n\n  .close {\n    position: fixed;\n    top: 0em;\n    right: 0.5em;\n    font-size: 4em;\n    padding: 0.2em 0;\n    display: inline-block;\n    color: #ddd;\n    z-index: 2;\n  }\n\n  label:hover,\n  span:hover {\n    cursor: pointer;\n    color: #fff;\n  }\n\n  .dragging {\n    width: max-content;\n  }\n\n  .template {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    margin-top: 2.5em;\n    transform: translate(-50%, -50%);\n  }\n\n  .buttons > button {\n    cursor: pointer;\n    margin: 1.18em 0;\n    width: 4.8em;\n  }\n\n  @media only screen and (orientation: portrait) {\n    .inputs {\n      column-count: 2;\n    }\n\n    .buttons {\n      column-span: all;\n    }\n  }\n</style>\n","<script>\n  import COA from \"./../object/COA.svelte\";\n  import {history} from \"data//stores\";\n  import {generate} from \"scripts/generator\";\n  export let c, seed, coaSize;\n\n  let coa = $history[c] || generate(seed || undefined); // on load\n\n  function edit() {\n    const searchParams = new URLSearchParams(window.location.search);\n    if (searchParams.has(\"noedit\")) return;\n    const URL = window.location.href.replace(\"view=1\", \"view=0\");\n    const win = window.open(URL, \"_blank\");\n    win.focus();\n  }\n</script>\n\n<div id=\"viewer\" on:click={edit}>\n  <COA {coa} i=\"View\" width={coaSize} height={coaSize} />\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {iconedNav} from \"data/stores\";\n\n  const redirectToHome = () => {\n    location.href = location.origin + location.pathname;\n  };\n</script>\n\n{#if !$iconedNav}\n  <li>\n    <svg on:click={redirectToHome} width=\"35\" height=\"35\" viewBox=\"-2 -1 55 55\">\n      <path\n        fill=\"#fff\"\n        stroke=\"none\"\n        d=\"m 46,3 0.6,1.4 c -1.5,0.7 -2.6,1.4 -3.3,2.2 -0.7,0.7 -1.2,1.5 -1.5,2.4 -0.3,0.9 -0.4,2.2 -0.4,3.9 0,0.6 0,1.3 0,2.2 l 0.5,23.2 c 0,2.5 0.3,4.2 0.8,5 0.4,0.6 0.8,0.8 1.3,0.8 0.6,0 1.5,-0.6 2.8,-1.8 l 0.9,1.1 -5.8,4.9 -1.9,1.6 C 38.4,49.2 37.2,48.2 36.5,46.9 35.8,45.7 35.3,36.7 35.2,34 c -7.6,0.1 -20.2,0 -20.2,0 0,0 -7.4,9.1 -7.4,11.1 0,0.6 0.2,1.1 0.6,1.8 0.5,0.9 0.8,1.4 0.8,1.7 0,0.4 -0.1,0.7 -0.4,1 -0.3,0.3 -0.6,0.4 -1.1,0.4 -0.5,0 -0.9,-0.2 -1.2,-0.6 -0.5,-0.6 -0.7,-1.3 -0.7,-2.2 0,-1 0.3,-2.1 0.8,-3.3 C 8.8,39.9 11.3,36.7 14.1,32.9 11.1,30.7 9,28.5 7.8,26.4 6.6,24.4 6,22.1 6,19.5 c 0,-3 0.8,-5.7 2.3,-8.3 1.5,-2.5 3.8,-4.5 6.9,-6 3.1,-1.5 6.2,-2.2 9.4,-2.2 4.9,0 9.7,1.7 14.3,5.1 1.1,-1.2 2.2,-2.1 3.2,-2.9 1,-0.8 2.4,-1.5 4,-2.3 z M 30.7,10.2 c -2.6,-1.3 -5.2,-1.9 -7.8,-1.9 -2.7,0 -5.3,0.6 -7.8,1.8 -2.4,1.2 -4.2,2.8 -5.4,4.7 -1.2,1.9 -1.8,3.9 -1.8,5.9 0,4.2 2.3,8 6.9,11.3 L 25.2,17.7 c -1.6,-0.8 -2.9,-1.3 -4.2,-1.3 -1.7,0 -3.1,0.8 -4.2,2.4 -0.4,0.7 -1,0.5 -1.1,-0.2 0,-0.6 0.3,-1.5 1,-2.7 0.7,-1.1 1.6,-2.1 2.9,-2.8 1.3,-0.7 2.6,-1.1 4,-1.1 1.4,0 3.1,0.4 4.9,1.1 z m 4,3.2 C 34,12.4 32.8,11.5 32,11 L 18.4,29.4 h 16.7 z\"\n      />\n    </svg>\n  </li>\n{/if}\n\n<style>\n  li {\n    list-style: none;\n    display: flex;\n  }\n\n  svg {\n    margin: 0 0.5em 0 1em;\n    background-color: #35bdb2;\n    cursor: pointer;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {fade} from \"svelte/transition\";\n\n  export let label: string = undefined;\n</script>\n\n{#if label}\n  <span in:fade={{duration: 100}}>\n    {label}\n  </span>\n{/if}\n","<script lang=\"ts\">\n  // @ts-check\n  import {tooltip} from \"scripts/tooltip\";\n  import {iconedNav} from \"data/stores\";\n  import NavLabel from \"./NavLabel.svelte\";\n\n  export let value: string = undefined;\n  export let label: string = undefined;\n  export let tip: string = undefined;\n  export let wide: boolean = false;\n</script>\n\n<li class:wide data-tooltip={tip} use:tooltip>\n  {#if value && $iconedNav}\n    <svg>\n      <use href=\"#{value}-icon\" />\n    </svg>\n  {:else}\n    <NavLabel {label} />\n  {/if}\n\n  <slot />\n</li>\n\n<style>\n  li {\n    user-select: none;\n    padding: 1em;\n    color: #fff;\n    list-style: none;\n    transition: all 0.1s;\n  }\n\n  @media (max-width: 380px) {\n    li {\n      padding-inline: 0.75em;\n    }\n  }\n\n  li:hover {\n    background-color: #2d2e2f;\n  }\n\n  li.wide {\n    width: 12em;\n  }\n\n  svg {\n    fill: currentColor;\n    stroke: none;\n    width: 1em;\n    height: 1em;\n    vertical-align: middle;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {tooltip} from \"scripts/tooltip\";\n  import {iconedNav} from \"data/stores\";\n  import NavLabel from \"./NavLabel.svelte\";\n\n  export let value: string = undefined;\n  export let label: string = undefined;\n  export let tip: string = undefined;\n  export let gesture: string = undefined;\n  export let hotkey: string = undefined;\n  export let disabled: boolean = false;\n  export let selected: boolean = false;\n  export let flutter: boolean = false;\n  export let right: boolean = false;\n  export let onclick: () => void;\n\n  const handleClick = (event: Event) => {\n    event.stopPropagation();\n    onclick();\n  };\n</script>\n\n<li class:disabled class:selected class:flutter class:right data-tooltip={tip} data-gesture={gesture} data-hotkey={hotkey} on:click={handleClick} use:tooltip>\n  {#if value && $iconedNav}\n    <svg>\n      <use href=\"#{value}-icon\" />\n    </svg>\n  {:else}\n    <NavLabel {label} />\n  {/if}\n  <slot />\n</li>\n\n<style>\n  li {\n    user-select: none;\n    padding: 1em;\n    list-style: none;\n    transition: all 0.1s;\n  }\n\n  @media (max-width: 380px) {\n    li {\n      padding-inline: 0.75em;\n    }\n  }\n\n  li:hover {\n    background-color: #2d2e2f;\n  }\n\n  li:active:not(:last-child) {\n    transform: translateY(1px);\n  }\n\n  li:not(.disabled) {\n    color: #fff;\n    cursor: pointer;\n  }\n\n  li.disabled {\n    pointer-events: none;\n    color: #333;\n  }\n\n  li.selected:before {\n    content: \"\\2713\";\n    display: inline-block;\n    padding: 0 6px 0 0;\n  }\n\n  li.right {\n    margin-left: auto;\n  }\n\n  svg {\n    fill: currentColor;\n    stroke: none;\n    width: 1em;\n    height: 1em;\n    vertical-align: middle;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {tooltip} from \"scripts/tooltip\";\n  export let key: string;\n\n  $: locked = localStorage.getItem(key);\n  $: tip = $t(`tooltip.locked`);\n\n  function unlock(event: Event) {\n    event.stopPropagation();\n    localStorage.removeItem(key);\n    locked = \"\";\n  }\n</script>\n\n{#if Boolean(locked)}\n  <span on:click={unlock} data-tooltip={tip} use:tooltip>🔖</span>\n{/if}\n\n<style>\n  span {\n    cursor: pointer;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import NavButton from \"../../shared/NavButton.svelte\";\n  import NavItem from \"../../shared/NavItem.svelte\";\n  import Lock from \"../../shared/Lock.svelte\";\n  import {shields, shieldPaths, shieldTypes} from \"data/shields\";\n  import {shield, changes} from \"data/stores\";\n\n  const changeShield = (value: string) => {\n    shield.set(value);\n    localStorage.setItem(\"shield\", value);\n  };\n\n  const getShieldsInType = (type: string) => Object.keys(shields[type]);\n</script>\n\n<div class=\"container\">\n  <div class=\"dropdown level2\">\n    {#each shieldTypes as shieldType}\n      <div class=\"container\">\n        <div class=\"dropdown level3 iconed\">\n          {#each getShieldsInType(shieldType) as shieldName}\n            <NavButton onclick={() => changeShield(shieldName)}>\n              <svg class:selected={shieldName === $shield} width=\"26\" height=\"26\" viewBox=\"0 0 200 210\">\n                <path d={shieldPaths[shieldName]} />\n              </svg>\n              {$t(`shield.${shieldType}.${shieldName}`)}\n            </NavButton>\n          {/each}\n        </div>\n\n        <NavItem>{$t(`shield.types.${shieldType}`)}</NavItem>\n      </div>\n    {/each}\n  </div>\n\n  {#key $shield}\n    <NavItem tip={$t(\"tooltip.shield\")}>\n      <Lock key=\"shield\" />\n      {$t(`menu.shield`)}\n    </NavItem>\n  {/key}\n</div>\n\n<style>\n  svg {\n    position: absolute;\n    fill: none;\n    stroke: #fff;\n    stroke-width: 5px;\n    margin: -0.4em 0 0 -2.2em;\n  }\n\n  svg.selected {\n    fill: #777;\n    stroke: #333;\n  }\n\n  div.iconed {\n    text-indent: 1.8em;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {state} from \"data/stores\";\n  import Lock from \"../../shared/Lock.svelte\";\n  import NavButton from \"../../shared/NavButton.svelte\";\n\n  const showTinctures = () => {\n    $state.tinctures = 1;\n  };\n</script>\n\n<NavButton onclick={showTinctures} tip={$t(\"tooltip.colors\")}>\n  <Lock key=\"tinctures\" />\n  <Lock key=\"colors\" />\n  {$t(`menu.colors`)}\n</NavButton>\n","export const sizes = [\n  [80, \"giant\"],\n  [100, \"huge\"],\n  [150, \"large\"],\n  [200, \"medium\"],\n  [300, \"small\"],\n  [400, \"tiny\"]\n];\n\nexport const gradients = [\"no\", \"luster\", \"spotlight\", \"backlight\", \"brink\"];\n\nexport const diapers = [\"no\", \"nourse\", \"tessellation\", \"sennwald\", \"sulzbach\"];\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import NavButton from \"../../shared/NavButton.svelte\";\n  import NavItem from \"../../shared/NavItem.svelte\";\n  import Lock from \"../../shared/Lock.svelte\";\n  import {gradients} from \"config/options\";\n  import {grad} from \"data/stores\";\n\n  const changeGradient = (value: string) => {\n    grad.set(value);\n    localStorage.setItem(\"grad\", value);\n  };\n</script>\n\n<div class=\"container\">\n  <div class=\"dropdown level2\">\n    {#each gradients as gradient}\n      <NavButton selected={gradient === $grad} onclick={() => changeGradient(gradient)}>\n        {$t(`gradient.${gradient}`)}\n      </NavButton>\n    {/each}\n  </div>\n\n  {#key $grad}\n    <NavItem tip={$t(\"tooltip.gradient\")}>\n      <Lock key=\"grad\" />\n      {$t(`menu.gradient`)}\n    </NavItem>\n  {/key}\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import NavButton from \"../../shared/NavButton.svelte\";\n  import NavItem from \"../../shared/NavItem.svelte\";\n  import Lock from \"../../shared/Lock.svelte\";\n  import {diapers} from \"config/options\";\n  import {diaper} from \"data/stores\";\n\n  const changeDamasking = (value: string) => {\n    diaper.set(value);\n    localStorage.setItem(\"diaper\", value);\n  };\n</script>\n\n<div class=\"container\">\n  <div class=\"dropdown level2\">\n    {#each diapers as d}\n      <NavButton selected={d === $diaper} onclick={() => changeDamasking(d)}>\n        {$t(`diaper.${d}`)}\n      </NavButton>\n    {/each}\n  </div>\n\n  {#key $diaper}\n    <NavItem tip={$t(\"tooltip.damasking\")}>\n      <Lock key=\"diaper\" />\n      {$t(`menu.damasking`)}\n    </NavItem>\n  {/key}\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import NavButton from \"../../shared/NavButton.svelte\";\n  import NavItem from \"../../shared/NavItem.svelte\";\n  import Lock from \"../../shared/Lock.svelte\";\n  import {sizes} from \"config/options\";\n  import {size} from \"data/stores\";\n\n  const changeSize = (value: string | number) => {\n    if (typeof value !== \"number\") return;\n\n    size.set(value);\n    localStorage.setItem(\"size\", String(value));\n  };\n</script>\n\n<div class=\"container\">\n  <div class=\"dropdown level2\">\n    {#each sizes as [sizeNumber, sizeName]}\n      <NavButton selected={sizeNumber === $size} onclick={() => changeSize(sizeNumber)}>\n        {$t(`gallery.${sizeName}`)}\n      </NavButton>\n    {/each}\n  </div>\n\n  {#key $size}\n    <NavItem tip={$t(\"tooltip.gallery\")}>\n      <Lock key=\"size\" />\n      {$t(`menu.gallery`)}\n    </NavItem>\n  {/key}\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {tooltip} from \"scripts/tooltip\";\n\n  export let icon: string;\n  export let tip: string = undefined;\n  export let onclick: () => void;\n\n  const handleClick = (event: Event) => {\n    event.stopPropagation();\n    onclick();\n  };\n</script>\n\n<svg on:click={handleClick} data-tooltip={tip} use:tooltip>\n  <use href=\"#{icon}-icon\" />\n</svg>\n\n<style>\n  svg {\n    fill: currentColor;\n    width: 0.8em;\n    height: 0.8em;\n    vertical-align: middle;\n    cursor: pointer;\n  }\n\n  svg:active {\n    transform: translateY(1px);\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  export let value: string;\n  export let oninput: (value: string) => void;\n\n  const handleInput = (event: Event) => {\n    const value = (event.target as HTMLInputElement).value;\n    oninput(value);\n  };\n</script>\n\n<input type=\"color\" {value} on:input={handleInput} />\n\n<style>\n  input[type=\"color\"] {\n    position: absolute;\n    padding: 0;\n    margin: -0.3em 0;\n    right: 0.4em;\n    border: 0;\n    width: 3em;\n    cursor: pointer;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  export let value: number;\n  export let oninput: (newValue: number) => void;\n  export let min: number = 0;\n  export let max: number = Infinity;\n  export let step: number = 1;\n\n  const handleInput = (event: Event) => {\n    const value = (event.target as HTMLInputElement).value;\n    oninput(+value);\n  };\n</script>\n\n<input type=\"number\" {min} {max} {step} {value} on:input={handleInput} />\n\n<style>\n  input[type=\"number\"] {\n    position: absolute;\n    padding: 2px;\n    margin: -0.25em 0;\n    right: 0.4em;\n    width: 3em;\n    border: 0;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import NavItem from \"../../shared/NavItem.svelte\";\n  import IconButton from \"../../shared/IconButton.svelte\";\n  import {border, borderWidth} from \"data/stores\";\n  import {DEFAULT_BORDER, DEFAULT_BORDER_WIDTH} from \"config/defaults\";\n  import ColorInput from \"../../../../shared/ColorInput.svelte\";\n  import NumberInput from \"../../../../shared/NumberInput.svelte\";\n\n  const restoreDefaultBorder = () => {\n    border.set(DEFAULT_BORDER);\n    localStorage.removeItem(\"border\");\n  };\n\n  const restoreDefaultBorderWidth = () => {\n    borderWidth.set(DEFAULT_BORDER_WIDTH);\n    localStorage.removeItem(\"borderWidth\");\n  };\n\n  const changeWidth = (width: number) => {\n    borderWidth.set(width);\n    localStorage.setItem(\"borderWidth\", String(width));\n  };\n\n  const changeColor = (color: string) => {\n    border.set(color);\n    localStorage.setItem(\"border\", color);\n  };\n</script>\n\n<div class=\"container\">\n  <div class=\"dropdown level2\">\n    <NavItem>\n      {$t(`menu.color`)}\n      {#if $border !== DEFAULT_BORDER}\n        <IconButton icon=\"undo\" tip={$t(\"tooltip.undoColorChange\")} onclick={restoreDefaultBorder} />\n      {/if}\n      <ColorInput value={$border} oninput={changeColor} />\n    </NavItem>\n\n    <NavItem>\n      {$t(`menu.width`)}\n      {#if $borderWidth !== DEFAULT_BORDER_WIDTH}\n        <IconButton icon=\"undo\" tip={$t(\"tooltip.undoBorderWidthChange\")} onclick={restoreDefaultBorderWidth} />\n      {/if}\n      <NumberInput min={0} max={4} step={0.4} value={$borderWidth} oninput={changeWidth} />\n    </NavItem>\n  </div>\n\n  <NavItem tip={$t(\"tooltip.border\")}>\n    {$t(`menu.border`)}\n  </NavItem>\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import NavItem from \"../../shared/NavItem.svelte\";\n  import IconButton from \"../../shared/IconButton.svelte\";\n  import {background} from \"data/stores\";\n  import {DEFAULT_BACKGROUND} from \"config/defaults\";\n  import ColorInput from \"../../../../shared/ColorInput.svelte\";\n\n  const restoreDefaultBackground = () => {\n    background.set(DEFAULT_BACKGROUND);\n    localStorage.removeItem(\"background\");\n  };\n\n  const getRandomColor = () => {\n    const symbols = \"0123456789ABCDEF\";\n    const color = \"#\" + [0, 0, 0, 0, 0, 0].map(() => symbols[Math.floor(Math.random() * 16)]).join(\"\");\n    background.set(color);\n    localStorage.setItem(\"background\", color);\n  };\n\n  const changeColor = (color: string) => {\n    background.set(color);\n    localStorage.setItem(\"background\", color);\n  };\n</script>\n\n<div class=\"container\">\n  <div class=\"dropdown level2\">\n    <NavItem>\n      {$t(`menu.color`)}\n      <IconButton icon=\"random\" tip={$t(\"tooltip.randomColor\")} onclick={getRandomColor} />\n\n      {#if $background !== DEFAULT_BACKGROUND}\n        <IconButton icon=\"undo\" tip={$t(\"tooltip.undoColorChange\")} onclick={restoreDefaultBackground} />\n      {/if}\n\n      <ColorInput value={$background} oninput={changeColor} />\n    </NavItem>\n  </div>\n\n  <NavItem tip={$t(\"tooltip.background\")}>\n    {$t(`menu.background`)}\n  </NavItem>\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import NavItem from \"../../shared/NavItem.svelte\";\n  import IconButton from \"../../shared/IconButton.svelte\";\n  import {fontColor} from \"data/stores\";\n  import {DEFAULT_FONT_COLOR} from \"config/defaults\";\n  import ColorInput from \"../../../../shared/ColorInput.svelte\";\n\n  const restoreDefaultFontColor = () => {\n    fontColor.set(DEFAULT_FONT_COLOR);\n    localStorage.removeItem(\"fontColor\");\n  };\n\n  const getRandomColor = () => {\n    const symbols = \"0123456789ABCDEF\";\n    const color = \"#\" + [0, 0, 0, 0, 0, 0].map(() => symbols[Math.floor(Math.random() * 16)]).join(\"\");\n    fontColor.set(color);\n    localStorage.setItem(\"fontColor\", color);\n  };\n\n  const changeColor = (color: string) => {\n    fontColor.set(color);\n    localStorage.setItem(\"fontColor\", color);\n  };\n</script>\n\n<div class=\"container\">\n  <div class=\"dropdown level2\">\n    <NavItem>\n      {$t(`menu.color`)}\n      <IconButton icon=\"random\" tip={$t(\"tooltip.randomColor\")} onclick={getRandomColor} />\n\n      {#if $fontColor !== DEFAULT_FONT_COLOR}\n        <IconButton icon=\"undo\" tip={$t(\"tooltip.undoColorChange\")} onclick={restoreDefaultFontColor} />\n      {/if}\n\n      <ColorInput value={$fontColor} oninput={changeColor} />\n    </NavItem>\n  </div>\n\n  <NavItem tip={$t(\"tooltip.fontColor\")}>\n    {$t(`menu.fontColor`)}\n  </NavItem>\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  export let value: number;\n  export let oninput: (value: number) => void;\n  export let min: number = 0;\n  export let max: number = Infinity;\n  export let step: number = 1;\n\n  const handleInput = (event: Event) => {\n    const value = (event.target as HTMLInputElement).value;\n    oninput(+value);\n  };\n</script>\n\n<input type=\"range\" {min} {max} {step} {value} on:input={handleInput} />\n<input type=\"number\" {min} {max} {step} {value} on:input={handleInput} />\n\n<style>\n  input[type=\"range\"] {\n    padding: 0;\n    width: 72%;\n    margin: 0;\n    height: 0.6em;\n    cursor: pointer;\n  }\n\n  input[type=\"number\"] {\n    position: absolute;\n    padding: 2px;\n    margin: -0.25em 0;\n    right: 0.4em;\n    width: 3em;\n    border: 0;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import NavItem from \"../../shared/NavItem.svelte\";\n  import RangeInput from \"../../../../shared/RangeInput.svelte\";\n  import {scale} from \"data/stores\";\n\n  const handleInput = (value: number) => {\n    scale.set(value);\n    localStorage.setItem(\"scale\", String($scale));\n  };\n</script>\n\n<div class=\"container\">\n  <div class=\"dropdown level2\">\n    <NavItem wide>\n      <RangeInput min={1} max={4} step={0.1} value={$scale} oninput={handleInput} />\n    </NavItem>\n  </div>\n\n  <NavItem tip={$t(\"tooltip.scale\")}>\n    {$t(`menu.scale`)}\n  </NavItem>\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import NavItem from \"../../shared/NavItem.svelte\";\n  import NavShieldOption from \"./NavShieldOption.svelte\";\n  import NavColorsOption from \"./NavColorsOption.svelte\";\n  import NavGradientOption from \"./NavGradientOption.svelte\";\n  import NavDamaskingOption from \"./NavDamaskingOption.svelte\";\n  import NavGalleryOption from \"./NavGalleryOption.svelte\";\n  import NavBorderOption from \"./NavBorderOption.svelte\";\n  import NavBackgroundOption from \"./NavBackgroundOption.svelte\";\n  import NavFontOption from \"./NavFontOption.svelte\";\n  import NavScaleOption from \"./NavScaleOption.svelte\";\n</script>\n\n<div class=\"container\">\n  <NavItem value=\"options\" label={$t(`menu.options`)} />\n\n  <div class=\"dropdown level1\">\n    <NavShieldOption />\n    <NavColorsOption />\n    <NavGradientOption />\n    <NavDamaskingOption />\n    <NavGalleryOption />\n    <NavBorderOption />\n    <NavBackgroundOption />\n    <NavFontOption />\n    <NavScaleOption />\n  </div>\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {state, matrix} from \"data/stores\";\n  import NavButton from \"../shared/NavButton.svelte\";\n\n  const rollback = () => {\n    $matrix -= 1;\n  };\n</script>\n\n<NavButton\n  value=\"rollback\"\n  label={$t(`menu.rollback`)}\n  disabled={!$matrix}\n  onclick={rollback}\n  tip={$t($state.edit ? \"tooltip.rollbackEdit\" : \"tooltip.rollback\")}\n  gesture={$t(\"tooltip.swipeUp\")}\n  hotkey=\"Backspace\"\n/>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {state, matrix} from \"data/stores\";\n  import NavButton from \"../shared/NavButton.svelte\";\n\n  const reroll = () => {\n    $matrix += 1;\n  };\n</script>\n\n<NavButton\n  value=\"reroll\"\n  label={$t(`menu.reroll`)}\n  onclick={reroll}\n  tip={$t($state.edit ? \"tooltip.rerollEdit\" : \"tooltip.reroll\")}\n  gesture={$t(\"tooltip.swipeDown\")}\n  hotkey=\"Enter\"\n/>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {download} from \"scripts/download\";\n  import {changes, history, matrices, matrix, message, state} from \"data/stores\";\n  import NavButton from \"../shared/NavButton.svelte\";\n  import NavItem from \"../shared/NavItem.svelte\";\n\n  function exportJSON() {\n    if ($state.edit) {\n      download([JSON.parse($changes[0])], \"json\");\n    } else {\n      const coas = [];\n      for (const index of $matrices[$matrix]) {\n        const coa = {...$history[index]};\n        delete coa.seed;\n        coas.push(coa);\n      }\n      download(coas, \"json\");\n    }\n  }\n\n  function copyToClipboard(stringToCopy: string, text: string) {\n    message.clear();\n\n    navigator.clipboard.writeText(stringToCopy).then(\n      () => {\n        setTimeout(() => {\n          message.success(text);\n        }, 500);\n      },\n      err => {\n        message.error(\"error.copyToClipboard\");\n        console.error(err);\n      }\n    );\n  }\n\n  function copyEditLink() {\n    const coa = ($changes[0] as string).replaceAll(\"#\", \"%23\");\n    const url = location.origin + location.pathname + \"?coa=\" + coa;\n    copyToClipboard(url, \"success.copyEditLink\");\n  }\n\n  function copyApiLink() {\n    const encoded = encodeURI($changes[0] as string);\n    const API = \"https://armoria.herokuapp.com/\";\n    const url = `${API}?size=500&format=png&coa=${encoded}`;\n    copyToClipboard(url, \"success.copyApiLink\");\n  }\n\n  function copyCoaString() {\n    const encoded = encodeURI($changes[0] as string);\n    copyToClipboard(encoded, \"success.copyCoaString\");\n  }\n</script>\n\n<div class=\"container\">\n  <NavItem value=\"save\" label={$t(`menu.save`)} />\n  <div class=\"dropdown level1\">\n    <NavButton onclick={() => download(null, \"svg\")} tip={$t(\"tooltip.downloadSVG\")} hotkey=\"Ctrl + S\">{$t(`menu.downloadSVG`)}</NavButton>\n    <NavButton onclick={() => download(null, \"png\")} tip={$t(\"tooltip.downloadPNG\")} hotkey=\"Ctrl + P\">{$t(`menu.downloadPNG`)}</NavButton>\n    <NavButton onclick={() => download(null, \"jpeg\")} tip={$t(\"tooltip.downloadJPEG\")} hotkey=\"Ctrl + J\">{$t(`menu.downloadJPEG`)}</NavButton>\n    <NavButton onclick={exportJSON} tip={$t(\"tooltip.exportJSON\")}>{$t(`menu.exportJSON`)}</NavButton>\n\n    {#if $state.edit}\n      <NavButton onclick={copyEditLink} tip={$t(\"tooltip.copyEditLink\")}>{$t(`menu.copyEditLink`)}</NavButton>\n      <NavButton onclick={copyApiLink} tip={$t(\"tooltip.copyApiLink\")}>{$t(`menu.copyApiLink`)}</NavButton>\n      <NavButton onclick={copyCoaString} tip={$t(\"tooltip.copyCoaString\")}>{$t(`menu.copyCoaString`)}</NavButton>\n    {/if}\n  </div>\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {state} from \"data/stores\";\n  import NavButton from \"../shared/NavButton.svelte\";\n  import NavItem from \"../shared/NavItem.svelte\";\n\n  const showJSONUpload = () => {\n    $state.import = 1;\n  };\n\n  const showRasterUpload = () => {\n    $state.raster = 1;\n  };\n\n  const showVectorUpload = () => {\n    $state.vector = 1;\n  };\n</script>\n\n<div class=\"container\">\n  <NavItem value=\"upload\" label={$t(`menu.upload`)} />\n  <div class=\"dropdown level1\">\n    <NavButton onclick={showJSONUpload} tip={$t(\"tooltip.importJSON\")}>\n      {$t(`menu.importJSON`)}\n    </NavButton>\n\n    <NavButton onclick={showRasterUpload} tip={$t(\"tooltip.rasterCharge\")}>\n      {$t(`menu.rasterCharge`)}\n    </NavButton>\n\n    <NavButton onclick={showVectorUpload} tip={$t(\"tooltip.vectorCharge\")}>\n      {$t(`menu.vectorCharge`)}\n    </NavButton>\n  </div>\n</div>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {message} from \"data/stores\";\n  import NavButton from \"../shared/NavButton.svelte\";\n\n  let installable = false;\n  let promptEvent = null;\n\n  function install() {\n    installable = false;\n    promptEvent.prompt();\n    promptEvent.userChoice.then(() => {\n      promptEvent = null;\n    });\n  }\n\n  window.addEventListener(\"beforeinstallprompt\", event => {\n    promptEvent = event;\n    installable = true;\n  });\n\n  window.addEventListener(\"appinstalled\", () => {\n    message.success(\"success.install\");\n  });\n</script>\n\n{#if installable}\n  <NavButton value=\"install\" label={$t(`menu.install`)} onclick={install} flutter tip={$t(\"tooltip.install\")} />\n{/if}\n","<script lang=\"ts\">\n  // @ts-check\n  import NavItem from \"../shared/NavItem.svelte\";\n</script>\n\n<div class=\"container\">\n  <NavItem value=\"other\" />\n\n  <div class=\"dropdown horizontal short\">\n    <slot />\n  </div>\n</div>\n\n<style>\n  .short {\n    min-width: auto;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {changes} from \"data/stores\";\n  import NavButton from \"../shared/NavButton.svelte\";\n\n  $: position = $changes[1];\n</script>\n\n<NavButton\n  value=\"undo\"\n  label={$t(`menu.undo`)}\n  disabled={!position}\n  onclick={changes.undo}\n  tip={$t(\"tooltip.undo\")}\n  gesture={$t(\"tooltip.swipeLeft\")}\n  hotkey=\"Z\"\n/>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {changes} from \"data/stores\";\n  import NavButton from \"../shared/NavButton.svelte\";\n\n  $: redoable = $changes[1] < changes.length() - 1;\n</script>\n\n<NavButton\n  value=\"redo\"\n  label={$t(`menu.redo`)}\n  disabled={!redoable}\n  onclick={changes.redo}\n  tip={$t(`tooltip.redo`)}\n  gesture={$t(\"tooltip.swipeRight\")}\n  hotkey=\"X\"\n/>\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {state} from \"data/stores\";\n  import NavButton from \"../shared/NavButton.svelte\";\n\n  const showLicense = () => {\n    $state.license = 1;\n  };\n</script>\n\n<NavButton value=\"license\" label={$t(`menu.license`)} onclick={showLicense} tip={$t(\"tooltip.license\")} />\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import {state} from \"data/stores\";\n  import NavButton from \"../shared/NavButton.svelte\";\n\n  const showAbout = () => {\n    $state.about = 1;\n  };\n</script>\n\n<NavButton value=\"about\" label={$t(`menu.about`)} onclick={showAbout} tip={$t(\"tooltip.about\")} hotkey=\"F1\" />\n","<script lang=\"ts\">\n  // @ts-check\n  import {t} from \"svelte-i18n\";\n  import NavButton from \"../shared/NavButton.svelte\";\n  import {openURL} from \"scripts/utils\";\n\n  const openPatreon = () => {\n    openURL(\"https://www.patreon.com/azgaar\");\n  };\n</script>\n\n<NavButton value=\"support\" label={$t(`menu.support`)} onclick={openPatreon} tip={$t(\"tooltip.support\")} />\n","<script lang=\"ts\">\n  // @ts-check\n  import {locale, locales, t} from \"svelte-i18n\";\n  import {capitalize} from \"scripts/utils\";\n  import NavButton from \"../shared/NavButton.svelte\";\n  import NavItem from \"../shared/NavItem.svelte\";\n\n  const changeLanguage = (newLocale: string) => () => {\n    locale.set(newLocale);\n    localStorage.setItem(\"locale\", newLocale);\n  };\n\n  const getLocaleName = (locale: string) => {\n    const languageName = new Intl.DisplayNames([locale], {type: \"language\"});\n    return capitalize(languageName.of(locale));\n  };\n</script>\n\n<div class=\"container\">\n  <NavItem value=\"language\" label={$t(`menu.language`)} tip={$t(\"tooltip.language\")} />\n  <div class=\"dropdown level1\">\n    {#each $locales as langCode}\n      <NavButton selected={$locale === langCode} label={getLocaleName(langCode)} onclick={changeLanguage(langCode)} />\n    {/each}\n  </div>\n</div>\n","<script>\n  import {t} from \"svelte-i18n\";\n  import {changes, state, history} from \"data/stores\";\n  import NavButton from \"../shared/NavButton.svelte\";\n\n  const exitEdit = () => {\n    $history[$state.c] = JSON.parse($changes[0]);\n    $state.edit = 0;\n    $state.selectedPath = -1;\n  };\n</script>\n\n<NavButton right value=\"back\" label={$t(`menu.back`)} onclick={exitEdit} tip={$t(\"tooltip.back\")} hotkey=\"Escape\" />\n","<script lang=\"ts\">\n  // @ts-check\n  import {iconedNav, isTextReady, state} from \"data/stores\";\n  import Logo from \"./menu/Logo.svelte\";\n  import Options from \"./menu/options/Options.svelte\";\n  import Rollback from \"./menu/Rollback.svelte\";\n  import Reroll from \"./menu/Reroll.svelte\";\n  import Save from \"./menu/Save.svelte\";\n  import Upload from \"./menu/Upload.svelte\";\n  import Install from \"./menu/Install.svelte\";\n  import Other from \"./menu/Other.svelte\";\n  import Undo from \"./menu/Undo.svelte\";\n  import Redo from \"./menu/Redo.svelte\";\n  import License from \"./menu/License.svelte\";\n  import About from \"./menu/About.svelte\";\n  import Support from \"./menu/Support.svelte\";\n  import Language from \"./menu/Language.svelte\";\n  import Back from \"./menu/Back.svelte\";\n</script>\n\n<nav>\n  <Logo />\n  {#if $isTextReady}\n    <Options />\n    <Rollback />\n    <Reroll />\n    <Save />\n\n    {#if $iconedNav}\n      {#if $state.edit}\n        <Other>\n          <Upload />\n          <Language />\n          <License />\n          <Support />\n          <About />\n        </Other>\n      {:else}\n        <Upload />\n        <Language />\n        <Support />\n        <Other>\n          <License />\n          <About />\n        </Other>\n      {/if}\n    {:else}\n      <Upload />\n      <Language />\n      <License />\n      <Support />\n      <About />\n    {/if}\n\n    <Install />\n\n    {#if $state.edit}\n      <Undo />\n      <Redo />\n      <Back />\n    {/if}\n  {/if}\n</nav>\n\n<style>\n  nav {\n    display: flex;\n    align-items: center;\n    flex-wrap: wrap;\n    min-height: 45px;\n    background-color: #1b1c1d;\n  }\n</style>\n","<script lang=\"ts\">\n  // @ts-check\n  import {shields} from \"data/shields\";\n  import {background, fonts, history, isTextReady, matrices, matrix, message, shield, size, state, uploaded} from \"data/stores\";\n  import {charges} from \"data/dataModel\";\n  import \"scripts/i18n\";\n  import {rw} from \"scripts/utils\";\n  import {locale} from \"svelte-i18n\";\n  import Message from \"./Message.svelte\";\n  import WindowEvents from \"./WindowEvents.svelte\";\n  import Editor from \"./editor/Editor.svelte\";\n  import About from \"./navigation/About.svelte\";\n  import Fonts from \"./navigation/Fonts.svelte\";\n  import Gallery from \"./navigation/Gallery.svelte\";\n  import License from \"./navigation/License.svelte\";\n  import Tinctures from \"./navigation/Tinctures.svelte\";\n  import UploadJSON from \"./navigation/UploadJSON.svelte\";\n  import UploadRaster from \"./navigation/UploadRaster.svelte\";\n  import UploadVector from \"./navigation/UploadVector.svelte\";\n  import Viewer from \"./navigation/Viewer.svelte\";\n  import Navbar from \"./navigation/header/Navbar.svelte\";\n\n  let quantity: number;\n  let width: number;\n  let height: number;\n  let gallery = [];\n  let seed: string = undefined;\n  let coaSize = 200;\n\n  $locale = \"en\"; // fallback locale\n\n  loadFonts();\n  loadCustomCharges();\n  checkLoadParameters();\n\n  $: [quantity, width, height] = defineGallerySize($size);\n  $: handleMatrixChange($matrix, $size);\n\n  function handleMatrixChange(matrix: number, size: number) {\n    const l = $history.length;\n\n    // reroll is clicked\n    if (!$matrices[matrix]) {\n      if ($state.edit) {\n        // generate new coa\n        $matrices[matrix] = $matrices[matrix - 1].slice();\n        $matrices[matrix][$state.i] = l;\n        seed = undefined; // use once\n      } else {\n        // reroll gallery\n        $matrices[matrix] = Array.from({length: quantity}, (_, i) => l + i++);\n      }\n\n      // change shield if it's not locked (manually selected)\n      if (!localStorage.getItem(\"shield\")) {\n        $shield = rw(shields[rw(shields.types)]);\n      }\n    }\n\n    // add additional coas to matrix if size is smaller\n    if ($matrices[matrix].length < quantity) {\n      const m = $matrices[matrix];\n      $matrices[matrix] = [...Array(quantity).keys()].map(i => (m[i] !== undefined ? m[i] : l + i));\n    }\n    gallery = $matrices[matrix].slice(0, quantity); // trim gallery if size was bigger\n\n    // on coa edit or view mode\n    if ($state.edit || $state.view) $state.c = $matrices[matrix][$state.i];\n  }\n\n  function loadFonts() {\n    Object.entries($fonts).forEach(([name, {url}]) => {\n      if (url) {\n        const font = new FontFace(name, `url(${url})`);\n        document.fonts.add(font);\n      }\n    });\n  }\n\n  function loadCustomCharges() {\n    Object.entries($uploaded).forEach(([name, {category, type, data, content}]) => {\n      charges[category][name] = 0;\n      if (data) {\n        charges.data[name] = data;\n      }\n    });\n  }\n\n  function checkLoadParameters() {\n    const url = new URL(window.location.href);\n    const viewParam = url.searchParams.get(\"view\") === \"1\";\n    const sizeParam = +url.searchParams.get(\"size\");\n    const coaParam = url.searchParams.get(\"coa\");\n    const seedParam = url.searchParams.get(\"seed\");\n    const from = url.searchParams.get(\"from\");\n\n    if (!coaParam && !seedParam) return; // no predefined coa, regular flow (generate gallery)\n\n    if (coaParam) {\n      // exact coa to render\n      if (!validateJSON(coaParam)) return;\n      $history.push(JSON.parse(coaParam));\n    } else if (seedParam) {\n      seed = seedParam;\n    }\n\n    if (coaParam || seedParam) {\n      if (from === \"FMG\") {\n        message.info(\"info.tipFromFmg\", 10000);\n      }\n\n      $matrices[0] = [0];\n\n      if (viewParam) {\n        if (sizeParam) coaSize = sizeParam;\n        $state.view = 1; // open in view only mode\n      } else {\n        $state.edit = 1; // open in edit mode\n      }\n    }\n  }\n\n  function validateJSON(text: string) {\n    try {\n      JSON.parse(text);\n      return true;\n    } catch (error) {\n      console.error(error);\n      message.error(error.message);\n      return false;\n    }\n  }\n\n  // define number and size of coas to display\n  function defineGallerySize(desiredSize: number) {\n    const width = window.innerWidth;\n    const height = window.innerHeight - 60;\n\n    const numberX = Math.ceil(width / desiredSize);\n    const w = Math.floor(width / numberX);\n    const numberY = Math.floor(height / w);\n    const h = Math.floor(height / numberY);\n\n    return [numberX * numberY, w, h];\n  }\n</script>\n\n{#if $state.view}\n  <Viewer c={$state.c} {seed} {coaSize} />\n{:else}\n  <div style=\"background-color: {$background}\">\n    <header>\n      <Navbar />\n    </header>\n\n    {#if $state.edit}<Editor historyId={$state.c} {seed} />\n    {:else}<Gallery {gallery} {width} {height} />{/if}\n\n    {#if $state.about}<About />{/if}\n    {#if $state.license}<License />{/if}\n    {#if $state.import}<UploadJSON />{/if}\n    {#if $state.raster}<UploadRaster />{/if}\n    {#if $state.vector}<UploadVector />{/if}\n    {#if $state.tinctures}<Tinctures />{/if}\n    {#if $state.fonts}<Fonts />{/if}\n\n    {#if $message && $isTextReady}<Message />{/if}\n  </div>\n{/if}\n<WindowEvents />\n\n<style>\n  div {\n    height: 100%;\n    width: 100%;\n    background-image: url(../background.svg);\n  }\n</style>\n","import App from \"./components/App.svelte\";\nimport \"scripts/aliases\";\n\nconst isProduction = process.env.production;\n\nif (isProduction && \"serviceWorker\" in navigator) {\n  navigator.serviceWorker.register(\"./sw.js\");\n}\n\nconst app = new App({\n  target: document.body,\n  props: {}\n});\n\nexport default app;\n"],"names":["noop","identity","x","run","fn","blank_object","Object","create","run_all","fns","forEach","is_function","thing","safe_not_equal","a","b","subscribe","store","callbacks","unsub","unsubscribe","get_store_value","value","_","component_subscribe","component","callback","$$","on_destroy","push","create_slot","definition","ctx","$$scope","slot_ctx","get_slot_context","tar","src","k","assign","slice","get_slot_changes","dirty","lets","undefined","merged","len","Math","max","length","i","update_slot_base","slot","slot_definition","slot_changes","get_slot_context_fn","slot_context","p","get_all_dirty_from_scope","null_to_empty","set_store_value","ret","set","action_destroyer","action_result","destroy","is_client","window","now","performance","Date","raf","cb","requestAnimationFrame","tasks","Set","run_tasks","task","c","delete","f","size","loop","promise","Promise","fulfill","add","abort","append","target","node","appendChild","get_root_for_style","document","root","getRootNode","ownerDocument","host","append_empty_stylesheet","style_element","element","style","head","append_stylesheet","insert","anchor","insertBefore","detach","parentNode","removeChild","destroy_each","iterations","detaching","d","name","createElement","svg_element","createElementNS","text","data","createTextNode","space","empty","listen","event","handler","options","addEventListener","removeEventListener","prevent_default","preventDefault","call","this","attr","attribute","removeAttribute","getAttribute","setAttribute","xlink_attr","setAttributeNS","to_number","set_data","wholeText","set_input_value","input","set_style","key","important","setProperty","select_option","select","option","__value","selected","selectedIndex","select_value","selected_option","querySelector","toggle_class","toggle","classList","HtmlTag","constructor","e","n","html","h","m","nodeName","t","innerHTML","Array","from","childNodes","active_docs","current_component","active","create_rule","duration","delay","ease","uid","step","keyframes","rule","str","hash","charCodeAt","doc","stylesheet","__svelte_stylesheet","sheet","current_rules","__svelte_rules","insertRule","cssRules","animation","delete_rule","previous","split","next","filter","anim","indexOf","deleted","join","deleteRule","clear","fix_position","getComputedStyle","position","width","height","getBoundingClientRect","left","top","transform","add_transform","set_current_component","onMount","Error","get_current_component","on_mount","dirty_components","binding_callbacks","render_callbacks","flush_callbacks","resolved_promise","resolve","update_scheduled","schedule_update","then","flush","add_render_callback","add_flush_callback","flushing","seen_callbacks","update","pop","has","fragment","before_update","after_update","wait","dispatch","direction","kind","dispatchEvent","type","detail","bubbles","createEvent","initCustomEvent","custom_event","outroing","outros","group_outros","r","check_outros","transition_in","block","local","transition_out","o","null_transition","create_in_transition","params","animation_name","config","running","cleanup","go","easing","tick","css","start_time","end_time","started","start","invalidate","end","create_out_transition","group","reset","create_bidirectional_transition","intro","running_program","pending_program","clear_animation","init","program","abs","globals","globalThis","global","destroy_block","lookup","outro_and_destroy_block","fix_and_destroy_block","update_keyed_each","old_blocks","get_key","dynamic","list","create_each_block","get_context","old_indexes","new_blocks","new_lookup","Map","deltas","child_ctx","get","will_move","did_move","first","new_block","old_block","new_key","old_key","bind","index","props","bound","create_component","mount_component","customElement","new_on_destroy","map","destroy_component","instance","create_fragment","not_equal","append_styles","parent_component","on_disconnect","context","skip_bound","ready","rest","fill","make_dirty","hydrate","nodes","children","l","SvelteComponent","$destroy","$on","splice","$set","$$props","obj","$$set","keys","shields","types","basic","regional","historical","specific","banner","simple","fantasy","middleEarth","heater","spanish","french","horsehead","horsehead2","polish","hessen","swiss","boeotian","roman","kite","oldFrench","renaissance","baroque","targe","targe2","pavise","wedged","embowed","flag","pennon","guidon","dovetail","gonfalon","pennant","round","oval","vesicaPiscis","square","diamond","hexagon","no","noldor","gondor","easterling","erebor","ironHills","urukHai","moriaOrc","fantasy1","fantasy2","fantasy3","fantasy4","fantasy5","shieldTypes","shieldPaths","DEFAULT_SHIELD_BOX","shieldBox","shieldSize","shieldPositions","g","y","z","j","q","A","B","C","D","K","E","J","F","I","G","H","L","DEFAULT_GRADIENTS","DEFAULT_BORDER","DEFAULT_BACKGROUND","DEFAULT_FONT_COLOR","DEFAULT_COLORS","argent","or","gules","sable","azure","vert","purpure","carnation","celeste","murrey","sanguine","DEFAULT_TINCTURES","field","metals","colours","stains","patterns","division","charge","semy","ermine","vair","counterVair","vairInPale","vairEnPointe","vairAncien","potent","counterPotent","potentInPale","potentEnPointe","chequy","lozengy","fusily","pally","barry","gemelles","bendy","bendySinister","palyBendy","barryBendy","pappellony","pappellony2","scaly","plumetty","masoned","fretty","grillage","chainy","maily","honeycombed","DEFAULT_FONTS","url","Cinzel","UnifrakturMaguntia","Arial","Garamond","Georgia","Impact","Verdana","ra","array","floor","random","rw","object","save","defineProperty","enumerable","configurable","writable","P","probability","camelize","toLowerCase","replace","toUpperCase","link","fetcher","fetch","result","json","subscriber_queue","stop","subscribers","new_value","run_queue","subscriber","derived","stores","initial_value","single","isArray","stores_array","auto","inited","values","pending","sync","unsubscribers","isTextReady","stored","localStorage","getItem","storedObj","JSON","parse","diaper","grad","shield","colors","stringify","fonts","border","borderWidth","background","fontColor","scale","grid","showGrid","storedTinctures","tinctures","mandatoryElements","mandatoryTypes","totalChance","reduce","err","console","error","message","validateTinctures","uploaded","defineInitialOptions","history","matrices","matrix","state","edit","about","license","import","raster","vector","view","selectedPath","pathChangeMode","iconedNav","success","timeout","defaultTimeout","info","createMessageStore","changes","undo","redo","createChangesStore","positionsSelect","positions","conventional","abcdefgzi","beh","behdf","acegi","kn","bhdf","jeo","abc","jln","jlh","kmo","jleh","def","abcpqh","ABCDEFGHIJKL","complex","divisions","perPale","pq","jo","jl","perFess","jkl","gizgiz","perBend","lm","bcfdgh","perBendSinister","perCross","jlmo","perChevron","dfk","dfbh","bdefh","perChevronReversed","mok","dfh","perSaltire","bh","df","perPile","ee","be","abceh","abcabc","inescutcheon","lines","straight","wavy","engrailed","invecked","rayonne","embattled","raguly","urdy","dancetty","indented","dentilly","bevilled","angled","flechy","barby","enclavy","escartely","arched","archedReversed","nowy","nowyReversed","embattledGhibellin","embattledNotched","embattledGrady","dovetailedIndented","dovetailed","potenty","potentyDexter","potentySinister","nebuly","seaWaves","dragonTeeth","firTrees","variants","gyronnyOfSixPerFess","gyronnyOfSixPerPale","gyronny","gyronnyOfTenPerFess","gyronnyOfTenPerPale","gyronnyOfTwelve","chevronny","ordinaries","lined","pale","fess","bend","bendSinister","chief","bar","gemelle","fessCotissed","fessDoubleCotissed","bendlet","bendletSinister","terrace","cross","crossParted","saltire","saltireParted","bordure","orle","mount","point","flaunches","gore","gyron","quarter","canton","pall","pallReversed","chevron","chevronReversed","pile","pileInBend","pileInBendSinister","piles","pilesInPoint","label","positionsOn","defdefdef","positionsOff","abcgzi","bgi","ach","joe","ccg","ccc","lem","aai","aaa","joejoejoe","lemlemlem","kenken","peqpeq","yyyy","hhh","bbb","emo","emoz","ez","eeee","behdfbehdf","behbehbeh","acgi","abcz","defdef","defgzi","eh","defdefhmo","egiegi","pqn","bdf","bb","yyy","jlhh","BCKFEILGJbdmfo","bemo","aczac","acdfgi","acac","eeoo","cg","eemm","ai","acbdef","jjj","jlemo","charges","crosses","beasts","beastHeads","birds","reptiles","bugs","fishes","molluscs","plants","fantastic","agriculture","arms","bodyparts","people","architecture","seafaring","tools","miscellaneous","ornaments","annulet","billet","carreau","comet","compassRose","crescent","delf","estoile","fleurDeLis","fountain","fusil","gear","goutte","heart","lozenge","lozengeFaceted","lozengePloye","mascle","moonInCrescent","mullet","mullet10","mullet4","mullet6","mullet6Faceted","mullet6Pierced","mullet7","mullet8","mulletFaceted","mulletPierced","pique","roundel","roundel2","rustre","spiral","sun","sunInSplendour","sunInSplendour2","trefle","triangle","trianglePierced","crossHummetty","crossVoided","crossPattee","crossPatteeAlisee","crossFormee","crossFormee2","crossPotent","crossJerusalem","crosslet","crossClechy","crossBottony","crossFleury","crossPatonce","crossPommy","crossGamma","crossArrowed","crossFitchy","crossCercelee","crossMoline","crossFourchy","crossAvellane","crossErminee","crossBiparted","crossMaltese","crossTemplar","crossCeltic","crossCeltic2","crossTriquetra","crossCarolingian","crossOccitan","crossSaltire","crossBurgundy","crossLatin","crossPatriarchal","crossOrthodox","crossCalvary","crossDouble","crossTau","crossSantiago","crossAnkh","agnusDei","badgerStatant","bearPassant","bearRampant","boarRampant","bullPassant","camel","camelBactrian","catPassantGuardant","cowStatant","dolphin","elephant","goat","greyhoundCourant","greyhoundRampant","greyhoundSejant","hedgehog","hindStatant","horsePassant","horseRampant","horseSalient","lamb","lambPassantReguardant","lionPassant","lionPassantGuardant","lionRampant","lionSejant","martenCourant","mastiffStatant","porcupine","rabbitSejant","ramPassant","ratRampant","rhinoceros","squirrel","stagLodgedRegardant","stagPassant","talbotPassant","talbotSejant","wolfPassant","wolfRampant","wolfStatant","boarHeadErased","bullHeadCaboshed","deerHeadCaboshed","donkeyHeadCaboshed","elephantHeadErased","horseHeadCouped","lionHeadCaboshed","lionHeadErased","ramHeadErased","wolfHeadErased","cock","dove","doveDisplayed","duck","eagle","falcon","heron","owl","owlDisplayed","parrot","peacock","peacockInPride","raven","stork","swallow","swan","swanErased","crocodile","frog","lizard","ouroboros","snake","ant","bee","butterfly","cancer","dragonfly","fly","ladybird","scorpion","spider","wasp","pike","plaice","salmon","escallop","snail","apple","cinquefoil","earOfWheat","grapeBunch","grapeBunch2","mapleLeaf","oak","palmTree","pear","pineCone","pineTree","quatrefoil","rose","sextifoil","thistle","tree","trefoil","wheatStalk","angel","basilisk","centaur","dragonPassant","dragonRampant","eagleTwoHeads","griffinPassant","griffinRampant","pegasus","sagittarius","serpent","unicornRampant","wyvern","wyvernWithWingsDisplayed","garb","millstone","plough","ploughshare","rake","scythe","scythe2","sickle","arbalest","arbalest2","arrow","arrowsSheaf","axe","bow","bowWithArrow","bowWithThreeArrows","cannon","falchion","flamberge","flangedMace","gauntlet","gladius","grenade","hatchet","helmet","helmetCorinthian","helmetGreat","helmetZischagge","lanceHead","lanceWithBanner","lochaberAxe","mace","maces","mallet","rapier","sabre","sabre2","sabresCrossed","spear","sword","armEmbowedHoldingSabre","armEmbowedVambraced","armEmbowedVambracedHoldingSword","bone","crossedBones","foot","hand","headWreathed","skeleton","skull","skull2","archer","cavalier","cossack","monk","bridge","bridge2","castle","castle2","church","column","lighthouse","palace","pillar","portcullis","tower","windmill","armillarySphere","boat","boat2","caravel","drakkar","lymphad","raft","shipWheel","anvil","drawingCompass","fan","hook","ladder","ladder2","pincers","saw","scaleImbalanced","scalesHanging","scissors","scissors2","shears","trowel","attire","bell","bookClosed","bookClosed2","bookOpen","bucket","buckle","bugleHorn","bugleHorn2","chain","chalice","cowHorns","crosier","crown","crown2","drum","fasces","feather","harp","horseshoe","hourglass","laurelWreath","laurelWreath2","log","lute","lyre","mitre","orb","pot","ramsHorn","sceptre","scrollClosed","snowflake","stagsAttires","stirrup","violin","wheel","wing","wingSword","inescutcheonHeater","inescutcheonSpanish","inescutcheonFrench","inescutcheonHorsehead","inescutcheonHorsehead2","inescutcheonPolish","inescutcheonHessen","inescutcheonSwiss","inescutcheonBoeotian","inescutcheonRoman","inescutcheonKite","inescutcheonOldFrench","inescutcheonRenaissance","inescutcheonBaroque","inescutcheonTarge","inescutcheonTarge2","inescutcheonPavise","inescutcheonWedged","inescutcheonEmbowed","inescutcheonFlag","inescutcheonPennon","inescutcheonGuidon","inescutcheonBanner","inescutcheonDovetail","inescutcheonGonfalon","inescutcheonPennant","inescutcheonRound","inescutcheonOval","inescutcheonVesicaPiscis","inescutcheonSquare","inescutcheonDiamond","inescutcheonHexagon","inescutcheonNo","inescutcheonFantasy1","inescutcheonFantasy2","inescutcheonFantasy3","inescutcheonFantasy4","inescutcheonFantasy5","inescutcheonNoldor","inescutcheonGondor","inescutcheonEasterling","inescutcheonErebor","inescutcheonIronHills","inescutcheonUrukHai","inescutcheonMoriaOrc","mantle","ribbon1","ribbon2","ribbon3","ribbon4","ribbon5","ribbon6","ribbon7","ribbon8","sinister","reversed","layered","crossbow","natural","lme","pqe","eknpq","patternSize","standard","small","smaller","big","smallest","isMergeableObject","isNonNullObject","stringValue","prototype","toString","$$typeof","REACT_ELEMENT_TYPE","isReactElement","isSpecial","Symbol","for","cloneUnlessOtherwiseSpecified","clone","deepmerge","val","defaultArrayMerge","source","concat","getKeys","getOwnPropertySymbols","symbol","propertyIsEnumerable","getEnumerableOwnPropertySymbols","propertyIsOnObject","property","mergeObject","destination","hasOwnProperty","propertyIsUnsafe","customMerge","getMergeFunction","arrayMerge","sourceIsArray","all","prev","extendStatics","setPrototypeOf","__proto__","__extends","TypeError","String","__","ErrorKind","TYPE","SKELETON_TYPE","__assign","s","arguments","apply","__spreadArray","to","pack","ar","isLiteralElement","el","literal","isArgumentElement","argument","isNumberElement","number","isDateElement","date","isTimeElement","time","isSelectElement","isPluralElement","plural","isPoundElement","pound","isTagElement","tag","isNumberSkeleton","isDateTimeSkeleton","dateTime","SPACE_SEPARATOR_REGEX","DATE_TIME_REGEX","parseDateTimeSkeleton","match","era","year","RangeError","month","day","weekday","hour12","hourCycle","hour","minute","second","timeZoneName","WHITE_SPACE_REGEX","_a","FRACTION_PRECISION_REGEX","SIGNIFICANT_PRECISION_REGEX","INTEGER_WIDTH_REGEX","CONCISE_INTEGER_WIDTH_REGEX","parseSignificantPrecision","roundingPriority","g1","g2","minimumSignificantDigits","maximumSignificantDigits","parseSign","signDisplay","currencySign","parseConciseScientificAndEngineeringStem","stem","notation","test","minimumIntegerDigits","parseNotationOptions","opt","signOpts","parseNumberSkeleton","tokens","_i","tokens_1","token","currency","useGrouping","maximumFractionDigits","unit","compactDisplay","currencyDisplay","unitDisplay","parseFloat","g3","g4","g5","minimumFractionDigits","trailingZeroDisplay","conciseScientificAndEngineeringOpts","SPACE_SEPARATOR_START_REGEX","RegExp","SPACE_SEPARATOR_END_REGEX","createLocation","hasNativeStartsWith","startsWith","hasNativeFromCodePoint","fromCodePoint","hasNativeFromEntries","fromEntries","hasNativeCodePointAt","codePointAt","hasTrimStart","trimStart","hasTrimEnd","trimEnd","isSafeInteger","Number","isFinite","REGEX_SUPPORTS_U_AND_Y","RE","exec","matchIdentifierAtIndex","search","codePoints","code","elements","fromCharCode","entries","entries_1","v","IDENTIFIER_PREFIX_RE_1","lastIndex","_isWhiteSpace","_isPatternSyntax","Parser","offset","line","ignoreTag","requiresOtherClause","shouldParseSkeletons","parseMessage","nestingLevel","parentArgType","expectingCloseTag","isEOF","char","parseArgument","peek","UNMATCHED_CLOSING_TAG","clonePosition","_isAlpha","parseTag","parseLiteral","bump","location","startPosition","tagName","parseTagName","bumpSpace","bumpIf","childrenResult","endTagStartPosition","INVALID_TAG","closingTagNameStartPosition","UNCLOSED_TAG","startOffset","_isPotentialElementNameChar","parseQuoteResult","tryParseQuote","parseUnquotedResult","tryParseUnquoted","parseLeftAngleResult","tryParseLeftAngleBracket","codepoint","ch","openingBracePosition","EXPECT_ARGUMENT_CLOSING_BRACE","EMPTY_ARGUMENT","parseIdentifierIfPossible","MALFORMED_ARGUMENT","parseArgumentOptions","startingPosition","endOffset","bumpTo","typeStartPosition","argType","typeEndPosition","EXPECT_ARGUMENT_TYPE","styleAndLocation","styleStartPosition","parseSimpleArgStyleIfPossible","EXPECT_ARGUMENT_STYLE","styleLocation","argCloseResult","tryParseArgumentClose","location_1","parseNumberSkeletonFromString","EXPECT_DATE_TIME_SKELETON","pattern","parsedOptions","typeEndPosition_1","EXPECT_SELECT_ARGUMENT_OPTIONS","identifierAndLocation","pluralOffset","EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE","tryParseDecimalInteger","INVALID_PLURAL_ARGUMENT_OFFSET_VALUE","optionsResult","tryParsePluralOrSelectOptions","location_2","pluralType","INVALID_ARGUMENT_TYPE","nestedBraces","apostrophePosition","bumpUntil","UNCLOSED_QUOTE_IN_ARGUMENT_STYLE","stringTokens","stringTokens_1","stemAndOptions","options_1","INVALID_NUMBER_SKELETON","expectCloseTag","parsedFirstIdentifier","hasOtherClause","parsedSelectors","selector","selectorLocation","EXPECT_PLURAL_ARGUMENT_SELECTOR","INVALID_PLURAL_ARGUMENT_SELECTOR","DUPLICATE_SELECT_ARGUMENT_SELECTOR","DUPLICATE_PLURAL_ARGUMENT_SELECTOR","EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT","EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT","fragmentResult","EXPECT_SELECT_ARGUMENT_SELECTOR","MISSING_OTHER_CLAUSE","expectNumberError","invalidNumberError","sign","hasDigits","decimal","prefix","currentOffset","targetOffset","min","nextCode","pruneLocation","els","opts","SyntaxError","originalMessage","captureLocation","memoize","cache","cacheDefault","serializer","serializerDefault","strategy","strategyDefault","monadic","arg","cacheKey","computedValue","variadic","args","assemble","serialize","ObjectWithoutPrototypeCache","ErrorCode","strategies","PART_TYPE","FormatError","_super","msg","_this","InvalidValueError","variableId","INVALID_VALUE","InvalidValueTypeError","MissingValueError","MISSING_VALUE","isFormatXMLElementFn","formatToParts","locales","formatters","formats","currentPluralValue","els_1","getNumberFormat","format","varName","getDateTimeFormat","value_1","formatFn","chunks","other","Intl","PluralRules","MISSING_INTL_API","getPluralRules","parts","part","lastPart","mergeLiteral","mergeConfigs","defaultConfig","configs","c1","c2","createFastMemoizeCache","IntlMessageFormat","overrideFormats","defaultLocale","formatterCache","pluralRules","ast","resolvedOptions","locale","NumberFormat","supportedLocalesOf","getAst","__parse","DateTimeFormat","memoizedDefaultLocale","integer","percent","short","medium","long","full","u","w","some","default","O","fallbackLocale","loadingDelay","scientific","engineering","compactLong","compactShort","warnOnMissingMessages","T","reverse","documentElement","M","setTimeout","finally","clearTimeout","Z","U","id","warn","Q","R","V","W","X","markdown","cubicInOut","pow","cubicOut","fade","linear","opacity","target_opacity","od","slide","padding_top","paddingTop","padding_bottom","paddingBottom","margin_top","marginTop","margin_bottom","marginBottom","border_top_width","borderTopWidth","border_bottom_width","borderBottomWidth","draw","speed","getTotalLength","strokeLinecap","parseInt","strokeWidth","$message","textOnMount","async","manifest","files","languages","file","language","register","preferredLocale","navigator","shortLocale","initialLocale","find","registerSupportedLocales","isFirefox","userAgent","includes","download","coas","blob","Blob","URL","createObjectURL","replaceAll","getTimestamp","href","click","revokeObjectURL","downloadJSON","getElementById","querySelectorAll","numberX","innerWidth","numberY","ceil","scaleValue","canvas","getContext","loaded","svg","addedElements","cloneNode","getElementsByTagName","gridPattern","remove","gr","di","insertAdjacentHTML","defs","outerHTML","chargePattern","addPattern","ordinaryPattern","fieldPattern","getElementsByClassName","divisionPattern","usedFonts","allFonts","family","getUsedWebFonts","dataURLfonts","promises","resp","font","dataURL","reject","reader","FileReader","onloadend","onerror","readAsDataURL","readBlobAsDataURL","loadFontsAsDataURI","fontFaces","serialized","XMLSerializer","serializeToString","pretty","xmlDoc","DOMParser","parseFromString","xsltDoc","xsltProcessor","XSLTProcessor","importStylesheet","resultDoc","transformToDocument","prettify","getURL","downloadVector","img","Image","onload","drawImage","toDataURL","drawCanvas","downloadRaster","formatTime","getFullYear","getMonth","getDate","getHours","getMinutes","getSeconds","checkForIconedNav","isIconed","makeIconed","touch","startX","startY","onbeforeunload","keybinding","Backspace","$matrix","Enter","KeyZ","KeyX","KeyS","ctrl","KeyP","KeyJ","F1","$state","Escape","$history","$changes","action","activeElement","ctrlKey","screenX","screenY","changedTouches","menu","navbar","contains","diffX","diffY","ratioX","ratioY","createConfig","usedPattern","usedTinctures","tData","divisioned","ordinary","generate","providedSeed","seed","version","s0","s1","s2","initialArgs","uinta","Uint32Array","mashver","_initState","_internalSeed","mash","Mash","_isInteger","_int","fract53","int32","cycle","_run","range","loBound","hiBound","restart","versions","crypto","getRandomValues","aleaPRNG","coa","t1","getTincture","addCharge","linedOrdinary","rareDivided","divided","selectCharge","chargeData","ordinaryData","tOrdinary","item","t2","t3","allowCounter","p2","p1","p3","p4","c3","c4","t4","getSize","defineChargeAttributes","replaceTincture","tincture","getType","candidateTinctures","getBaseTincture","fields","RoT","patternName","startWithMetal","definePattern","typeTinctures","unusedTinctures","usedTincture","isAnyUnused","excludeTinctures","highlight","lowlight","getClass","points","drag","move","resize","rotate","onMove","onEnd","currentTarget","x0","y0","sizeAdj","closest","clientWidth","body","cursor","once","gridSize","positionElements","dx","dy","setGroupTransform","validPositions","getElTransform","setElementTransform","cx","cy","x1","y1","atan2","PI","angle","tr","shiftKey","metaKey","trim","sizeModifier","stretch","sx","sy","repeat","templates","perFessLined","perPaleLined","perBendLined","perBendSinisterLined","perChevronLined","perChevronReversedLined","perCrossLined","perPileLined","fessLined","paleLined","bendLined","bendSinisterLined","chiefLined","barLined","gemelleLined","fessCotissedLined","fessDoubleCotissedLined","bendletLined","bendletSinisterLined","terraceLined","crossLined","crossPartedLined","saltireLined","saltirePartedLined","chargeId","chargesGroup","colorsData","loadedCharges","customCharges","getTemplate","linedId","linePath","patternId","elem","string","clr","getSizeMod","checkPattern","shieldName","charAt","licenseAttrs","addInescutcheon","fetchCharge","content","res","ok","metadata","author","catch","removeCharge","updateCharge","precision","analyzePath","buildPath","stroke","shieldPath","coaShield","hideBackground","$shield","stopPropagation","path","spacing","color","bold","italic","shadow","blur","inscription","pathId","pathData","isSelected","outside","inscriptions","ordinariesRegular","above","ordinariesAboveCharges","coaDiaper","$diaper","diaperType","getDieperType","overFill","$grad","$colors","isEdit","viewBox","zoom","box","w0","h0","getViewBox","checked","translate","tooltip","dataset","isTouchAvailable","div","limit","gesture","hotkey","removeTooltip","on","textContent","className","bbox","innerHeight","pageX","pageY","tip","query","queryOld","category","chargesData","categories","allCharges","flat","chargeList","getCharge","removeUploaded","$uploaded","setItem","allChargesTranslated","$t","regEx","results","_charge","filterCharges","chargeName","isInDictionary","$dictionary","$locale","translateSafely","elementCopy","divisionList","divisionsData","divisionName","newDivision","lineList","linesData","newLine","ordinariesList","ordinaryName","newOrdinary","pathType","mode","changeShift","$grid","$showGrid","addShieldPatterns","patternsData","newPattern","showPositions","showShadow","shieldsData","getShieldType","$defaultShield","allShields","shieldList","allShieldsTranslated","_shield","filterShields","showStroke","openColorInput","previousElementSibling","tincturesData","$tinctures","tinctureName","typeName","handleChange","restoreColor","defaults","colorChanged","isRaster","general","historyId","section","isLandscape","defineMenuState","isPattern","isSemy","getSemyCharge","getChargeCategory","getSemyType","selectSecondTincture","getField","tSplit","getDivision","Boolean","getOrdinaries","getCharges","getInscriptions","selectChargeTincture","reroll","attibutes","metal","addFont","$fonts","close","FontFace","load","removeItem","gallery","regenerate","$matrices","editCOA","fontSize","noLicenseData","noSourceData","publicDomain","fairUse","armoriaGitHub","ccBy","fontAwesome","licenseURL","licenseName","getLicenseName","sourceURL","sort","isLicenseSame","flip","ox","oy","transformOrigin","sqrt","chance","right","bottom","show","addLine","lock","changeElementChance","newValue","isNaN","changeTinctureChance","removeTincture","getTotalChance","translated","getFilesFromInputEvent","getFilesFromDropEvent","dataTransfer","items","getAsFile","dragging","getFilesFunction","readAsText","loadCOA","Node","off","offsetX","offsetY","readerEvent","loadImage","image","downloadTemplate","tinctureList","transformString","updateTransform","svgText","getAttributeNames","consolidated","baseVal","consolidate","fix","toFixed","URLSearchParams","open","focus","coaSize","origin","pathname","wide","disabled","flutter","onclick","locked","changeShield","sizes","gradients","diapers","changeGradient","gradient","changeDamasking","changeSize","sizeNumber","icon","oninput","Infinity","$scale","copyToClipboard","stringToCopy","clipboard","writeText","encodeURI","installable","promptEvent","prompt","userChoice","redoable","newLocale","languageName","DisplayNames","of","quantity","viewParam","searchParams","sizeParam","coaParam","seedParam","validateJSON","checkLoadParameters","desiredSize","defineGallerySize","$size","handleMatrixChange","serviceWorker","app"],"mappings":"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A,GAAK,IAAUA,GAAK,IACf,KAANA,GACM,KAANA,GACM,KAANA,GACM,KAANA,GACM,KAANA,GACM,KAANA,GACCA,GAAK,IAAUA,GAAK,IACpBA,GAAK,IAAUA,GAAK,IACpBA,GAAK,IAAUA,GAAK,IACpBA,GAAK,IAAUA,GAAK,IACf,KAANA,GACM,KAANA,GACM,KAANA,GACM,KAANA,GACM,KAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACCA,GAAK,KAAUA,GAAK,KACf,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACM,MAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACM,OAANA,GACM,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,KACf,OAANA,GACM,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,OAANA,GACCA,GAAK,MAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACCA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,OACf,QAANA,GACM,QAANA,GACM,QAANA,GACM,QAANA,GACCA,GAAK,OAAUA,GAAK,MC7uC7B,SAAS22C,GAAcC,GACnBA,EAAIh7C,SAAQ,SAAU8sC,GAElB,UADOA,EAAGqI,SACN3H,GAAgBV,IAAOW,GAAgBX,GACvC,IAAK,IAAIlrC,KAAKkrC,EAAG1lC,eACN0lC,EAAG1lC,QAAQxF,GAAGuzC,SACrB4F,GAAcjO,EAAG1lC,QAAQxF,GAAGhB,YAG3BssC,GAAgBJ,IAAOiB,GAAiBjB,EAAGnnC,SAG1CynC,GAAcN,IAAOQ,GAAcR,KACzCkB,GAAmBlB,EAAGnnC,cAHfmnC,EAAGnnC,MAAMwvC,SAMXtH,GAAaf,IAClBiO,GAAcjO,EAAGh4B,aAItB,SAASsM,GAAMuB,EAASs4B,QACd,IAATA,IAAmBA,EAAO,IAC9BA,EAAO5O,GAAS,CAAE+H,sBAAsB,EAAMD,qBAAqB,GAAQ8G,GAC3E,IAAIv7B,EAAS,IAAIq0B,GAAOpxB,EAASs4B,GAAM75B,QACvC,GAAI1B,EAAO8C,IAAK,CACZ,IAAIE,EAAQw4B,YAAYhP,GAAUxsB,EAAO8C,IAAI5T,OAK7C,MAHA8T,EAAMyyB,SAAWz1B,EAAO8C,IAAI2yB,SAE5BzyB,EAAMy4B,gBAAkBz7B,EAAO8C,IAAIG,QAC7BD,EAKV,OAHMu4B,MAAAA,OAAmC,EAASA,EAAKG,kBACnDL,GAAcr7B,EAAO4qB,KAElB5qB,EAAO4qB,ICrCH,SAAS+Q,GAAQ37C,EAAI0H,GAChC,IAAIk0C,EAAQl0C,GAAWA,EAAQk0C,MAAQl0C,EAAQk0C,MAAQC,GACnDC,EAAap0C,GAAWA,EAAQo0C,WAAap0C,EAAQo0C,WAAaC,GAEtE,OADer0C,GAAWA,EAAQs0C,SAAWt0C,EAAQs0C,SAAWC,IAChDj8C,EAAI,CAChB47C,MAAOA,EACPE,WAAYA,IASpB,SAASI,GAAQl8C,EAAI47C,EAAOE,EAAYK,GACpC,IAJiBj7C,EAIbk7C,EAHa,OADAl7C,EAIUi7C,IAHe,iBAAVj7C,GAAuC,kBAAVA,EAG3Bi7C,EAAML,EAAWK,GAC/CE,EAAgBT,EAAMxoC,IAAIgpC,GAK9B,YAJ6B,IAAlBC,IACPA,EAAgBr8C,EAAG+H,KAAKC,KAAMm0C,GAC9BP,EAAMl4C,IAAI04C,EAAUC,IAEjBA,EAEX,SAASC,GAASt8C,EAAI47C,EAAOE,GACzB,IAAIS,EAAOhyC,MAAM0/B,UAAU7nC,MAAM2F,KAAK8kC,UAAW,GAC7CuP,EAAWN,EAAWS,GACtBF,EAAgBT,EAAMxoC,IAAIgpC,GAK9B,YAJ6B,IAAlBC,IACPA,EAAgBr8C,EAAG8sC,MAAM9kC,KAAMu0C,GAC/BX,EAAMl4C,IAAI04C,EAAUC,IAEjBA,EAEX,SAASG,GAASx8C,EAAI4U,EAASonC,EAAUJ,EAAOa,GAC5C,OAAOT,EAASpoC,KAAKgB,EAAS5U,EAAI47C,EAAOa,GAE7C,SAASR,GAAgBj8C,EAAI0H,GAEzB,OAAO80C,GAASx8C,EAAIgI,KADS,IAAdhI,EAAG6C,OAAeq5C,GAAUI,GACP50C,EAAQk0C,MAAMz7C,SAAUuH,EAAQo0C,YAWxE,IAAIC,GAAoB,WACpB,OAAOt6B,KAAKM,UAAU8qB,YAK1B,SAAS6P,KACL10C,KAAK4zC,MAAQ17C,OAAOC,OAAO,MAE/Bu8C,GAA4BzS,UAAU72B,IAAM,SAAUtK,GAClD,OAAOd,KAAK4zC,MAAM9yC,IAEtB4zC,GAA4BzS,UAAUvmC,IAAM,SAAUoF,EAAK5H,GACvD8G,KAAK4zC,MAAM9yC,GAAO5H,GAEtB,ICnEWy7C,GDmEPd,GAAe,CACf17C,OAAQ,WAEJ,OAAO,IAAIu8C,KAGRE,GAAa,CACpBN,SA/BJ,SAA0Bt8C,EAAI0H,GAC1B,OAAO80C,GAASx8C,EAAIgI,KAAMs0C,GAAU50C,EAAQk0C,MAAMz7C,SAAUuH,EAAQo0C,aA+BpEI,QA7BJ,SAAyBl8C,EAAI0H,GACzB,OAAO80C,GAASx8C,EAAIgI,KAAMk0C,GAASx0C,EAAQk0C,MAAMz7C,SAAUuH,EAAQo0C,eC9CvE,SAAWa,GAEPA,EAAyB,cAAI,gBAE7BA,EAAyB,cAAI,gBAE7BA,EAA4B,iBAAI,mBANpC,CAOGA,KAAcA,GAAY,KAC7B,ICRWE,GDQPC,GAA6B,SAAUC,GAEvC,SAASD,EAAYE,EAAKrJ,EAAM8H,GAC5B,IAAIwB,EAAQF,EAAOh1C,KAAKC,KAAMg1C,IAAQh1C,KAGtC,OAFAi1C,EAAMtJ,KAAOA,EACbsJ,EAAMxB,gBAAkBA,EACjBwB,EAKX,OAVA7Q,GAAU0Q,EAAaC,GAOvBD,EAAY7S,UAAUC,SAAW,WAC7B,MAAO,oBAAoBa,OAAO/iC,KAAK2rC,KAAM,MAAM5I,OAAO/iC,KAAKib,UAE5D65B,GACTtvC,OAEE0vC,GAAmC,SAAUH,GAE7C,SAASG,EAAkBC,EAAYj8C,EAAOwG,EAAS+zC,GACnD,OAAOsB,EAAOh1C,KAAKC,KAAM,uBAAwB+iC,OAAOoS,EAAY,QAAUpS,OAAO7pC,EAAO,oBAAsB6pC,OAAO7qC,OAAO4V,KAAKpO,GAAS+E,KAAK,QAAS,KAAOkwC,GAAUS,cAAe3B,IAAoBzzC,KAEpN,OAJAokC,GAAU8Q,EAAmBH,GAItBG,GACTJ,IAEEO,GAAuC,SAAUN,GAEjD,SAASM,EAAsBn8C,EAAOkO,EAAMqsC,GACxC,OAAOsB,EAAOh1C,KAAKC,KAAM,cAAe+iC,OAAO7pC,EAAO,sBAAuB6pC,OAAO37B,GAAOutC,GAAUS,cAAe3B,IAAoBzzC,KAE5I,OAJAokC,GAAUiR,EAAuBN,GAI1BM,GACTP,IAEEQ,GAAmC,SAAUP,GAE7C,SAASO,EAAkBH,EAAY1B,GACnC,OAAOsB,EAAOh1C,KAAKC,KAAM,qCAAsC+iC,OAAOoS,EAAY,sCAAwCpS,OAAO0Q,EAAiB,KAAOkB,GAAUY,cAAe9B,IAAoBzzC,KAE1M,OAJAokC,GAAUkR,EAAmBP,GAItBO,GACTR,ICtBK,SAASU,GAAqBpQ,GACjC,MAAqB,mBAAPA,EAGX,SAASqQ,GAAcnC,EAAKoC,EAASC,EAAYC,EAAS58B,EAAQ68B,EAEzEpC,GAEI,GAAmB,IAAfH,EAAIz4C,QAAgBsqC,GAAiBmO,EAAI,IACzC,MAAO,CACH,CACIlsC,KAAMytC,GAAUxP,QAChBnsC,MAAOo6C,EAAI,GAAGp6C,QAK1B,IADA,IAAI8e,EAAS,GACJixB,EAAK,EAAG6M,EAAQxC,EAAKrK,EAAK6M,EAAMj7C,OAAQouC,IAAM,CACnD,IAAI7D,EAAK0Q,EAAM7M,GAEf,GAAI9D,GAAiBC,GACjBptB,EAAOve,KAAK,CACR2N,KAAMytC,GAAUxP,QAChBnsC,MAAOksC,EAAGlsC,aAMlB,GAAI+sC,GAAeb,GACmB,iBAAvByQ,GACP79B,EAAOve,KAAK,CACR2N,KAAMytC,GAAUxP,QAChBnsC,MAAOy8C,EAAWI,gBAAgBL,GAASM,OAAOH,SAJ9D,CASA,IAAII,EAAU7Q,EAAGlsC,MAEjB,IAAM8f,KAAUi9B,KAAWj9B,GACvB,MAAM,IAAIs8B,GAAkBW,EAASxC,GAEzC,IAAIv6C,EAAQ8f,EAAOi9B,GACnB,GAAI3Q,GAAkBF,GACblsC,GAA0B,iBAAVA,GAAuC,iBAAVA,IAC9CA,EACqB,iBAAVA,GAAuC,iBAAVA,EAC9BorC,OAAOprC,GACP,IAEd8e,EAAOve,KAAK,CACR2N,KAAuB,iBAAVlO,EAAqB27C,GAAUxP,QAAUwP,GAAU59B,OAChE/d,MAAOA,SAOf,GAAIwsC,GAAcN,GAAlB,CACI,IAAInnC,EAA4B,iBAAbmnC,EAAGnnC,MAChB23C,EAAQjQ,KAAKP,EAAGnnC,OAChBqoC,GAAmBlB,EAAGnnC,OAClBmnC,EAAGnnC,MAAMqyC,mBACT91C,EACVwd,EAAOve,KAAK,CACR2N,KAAMytC,GAAUxP,QAChBnsC,MAAOy8C,EACFO,kBAAkBR,EAASz3C,GAC3B+3C,OAAO98C,UAIpB,GAAI0sC,GAAcR,GAAlB,CACQnnC,EAA4B,iBAAbmnC,EAAGnnC,MAChB23C,EAAQ/P,KAAKT,EAAGnnC,OAChBqoC,GAAmBlB,EAAGnnC,OAClBmnC,EAAGnnC,MAAMqyC,mBACT91C,EACVwd,EAAOve,KAAK,CACR2N,KAAMytC,GAAUxP,QAChBnsC,MAAOy8C,EACFO,kBAAkBR,EAASz3C,GAC3B+3C,OAAO98C,UAIpB,GAAIssC,GAAgBJ,GAApB,EACQnnC,EAA4B,iBAAbmnC,EAAGnnC,MAChB23C,EAAQnQ,OAAOL,EAAGnnC,OAClBooC,GAAiBjB,EAAGnnC,OAChBmnC,EAAGnnC,MAAMqyC,mBACT91C,IACGyD,EAAMoc,QACfnhB,GAES+E,EAAMoc,OAAS,GAE5BrC,EAAOve,KAAK,CACR2N,KAAMytC,GAAUxP,QAChBnsC,MAAOy8C,EACFI,gBAAgBL,EAASz3C,GACzB+3C,OAAO98C,SAfpB,CAmBA,GAAIitC,GAAaf,GAAK,CAClB,IAAIh4B,EAAWg4B,EAAGh4B,SAAU+oC,EAAU/Q,EAAGlsC,MACrCk9C,EAAWp9B,EAAOm9B,GACtB,IAAKX,GAAqBY,GACtB,MAAM,IAAIf,GAAsBc,EAAS,WAAY1C,GAEzD,IACI4C,EAASD,EADDX,GAAcroC,EAAUsoC,EAASC,EAAYC,EAAS58B,EAAQ68B,GAC9CzpC,KAAI,SAAU/Q,GAAK,OAAOA,EAAEnC,UACnDqJ,MAAMqW,QAAQy9B,KACfA,EAAS,CAACA,IAEdr+B,EAAOve,KAAKqrC,MAAM9sB,EAAQq+B,EAAOjqC,KAAI,SAAU1P,GAC3C,MAAO,CACH0K,KAAmB,iBAAN1K,EAAiBm4C,GAAUxP,QAAUwP,GAAU59B,OAC5D/d,MAAOwD,OAInB,GAAIopC,GAAgBV,GAApB,CAEI,KADIyD,EAAMzD,EAAG1lC,QAAQxG,IAAUksC,EAAG1lC,QAAQ42C,OAEtC,MAAM,IAAIpB,GAAkB9P,EAAGlsC,MAAOA,EAAOhB,OAAO4V,KAAKs3B,EAAG1lC,SAAU+zC,GAE1Ez7B,EAAOve,KAAKqrC,MAAM9sB,EAAQy9B,GAAc5M,EAAI3vC,MAAOw8C,EAASC,EAAYC,EAAS58B,SAGrF,GAAI+sB,GAAgBX,GAApB,CACI,IAAIyD,EACJ,KADIA,EAAMzD,EAAG1lC,QAAQ,IAAIqjC,OAAO7pC,KACtB,CACN,IAAKq9C,KAAKC,YACN,MAAM,IAAI1B,GAAY,kHAAqHH,GAAU8B,iBAAkBhD,GAE3K,IAAIrwC,EAAOuyC,EACNe,eAAehB,EAAS,CAAEtuC,KAAMg+B,EAAG6L,aACnC/vC,OAAOhI,GAASksC,EAAGkH,QAAU,IAClCzD,EAAMzD,EAAG1lC,QAAQ0D,IAASgiC,EAAG1lC,QAAQ42C,MAEzC,IAAKzN,EACD,MAAM,IAAIqM,GAAkB9P,EAAGlsC,MAAOA,EAAOhB,OAAO4V,KAAKs3B,EAAG1lC,SAAU+zC,GAE1Ez7B,EAAOve,KAAKqrC,MAAM9sB,EAAQy9B,GAAc5M,EAAI3vC,MAAOw8C,EAASC,EAAYC,EAAS58B,EAAQ9f,GAASksC,EAAGkH,QAAU,aAIvH,OAxKJ,SAAsBqK,GAClB,OAAIA,EAAM97C,OAAS,EACR87C,EAEJA,EAAM97B,QAAO,SAAUkpB,EAAK6S,GAC/B,IAAIC,EAAW9S,EAAIA,EAAIlpC,OAAS,GAShC,OARKg8C,GACDA,EAASzvC,OAASytC,GAAUxP,SAC5BuR,EAAKxvC,OAASytC,GAAUxP,QAIxBwR,EAAS39C,OAAS09C,EAAK19C,MAHvB6qC,EAAItqC,KAAKm9C,GAKN7S,IACR,IAyJI+S,CAAa9+B,GC5JxB,SAAS++B,GAAaC,EAAeC,GACjC,OAAKA,EAGE/+C,OAAO4V,KAAKkpC,GAAen8B,QAAO,SAAUkpB,EAAK7pC,GAb5D,IAAqBg9C,EAAIC,EAejB,OADApT,EAAI7pC,IAdSg9C,EAcQF,EAAc98C,IAdlBi9C,EAcsBF,EAAQ/8C,IAV5CyqC,GAASA,GAASA,GAAS,GAAKuS,GAAM,IAAOC,GAAM,IAAMj/C,OAAO4V,KAAKopC,GAAIr8B,QAAO,SAAUkpB,EAAK7pC,GAElG,OADA6pC,EAAI7pC,GAAKyqC,GAASA,GAAS,GAAIuS,EAAGh9C,IAAMi9C,EAAGj9C,IAAM,IAC1C6pC,IACR,KALQmT,GAaAnT,IACRY,GAAS,GAAIqS,IALLA,EAOf,SAASI,GAAuBv+C,GAC5B,MAAO,CACHV,OAAQ,WACJ,MAAO,CACHiT,IAAK,SAAUtK,GACX,OAAOjI,EAAMiI,IAEjBpF,IAAK,SAAUoF,EAAK5H,GAChBL,EAAMiI,GAAO5H,ODjCjC,SAAW27C,GACPA,EAAUA,EAAmB,QAAI,GAAK,UACtCA,EAAUA,EAAkB,OAAI,GAAK,SAFzC,CAGGA,KAAcA,GAAY,KC8E7B,IAAIwC,GAAmC,WACnC,SAASA,EAAkBp8B,EAASy6B,EAAS4B,EAAiB/D,GAC1D,IA5CyBK,EA4CrBqB,EAAQj1C,KAoCZ,QAnCgB,IAAZ01C,IAAsBA,EAAU2B,EAAkBE,eACtDv3C,KAAKw3C,eAAiB,CAClB/R,OAAQ,GACRc,SAAU,GACVkR,YAAa,IAEjBz3C,KAAKg2C,OAAS,SAAUh9B,GACpB,IAAI29B,EAAQ1B,EAAMQ,cAAcz8B,GAEhC,GAAqB,IAAjB29B,EAAM97C,OACN,OAAO87C,EAAM,GAAGz9C,MAEpB,IAAI8e,EAAS2+B,EAAM97B,QAAO,SAAUkpB,EAAK6S,GASrC,OARK7S,EAAIlpC,QACL+7C,EAAKxvC,OAASytC,GAAUxP,SACO,iBAAxBtB,EAAIA,EAAIlpC,OAAS,GAIxBkpC,EAAIA,EAAIlpC,OAAS,IAAM+7C,EAAK19C,MAH5B6qC,EAAItqC,KAAKm9C,EAAK19C,OAKX6qC,IACR,IACH,OAAI/rB,EAAOnd,QAAU,EACVmd,EAAO,IAAM,GAEjBA,GAEXhY,KAAKy1C,cAAgB,SAAUz8B,GAC3B,OAAOy8B,GAAcR,EAAMyC,IAAKzC,EAAMS,QAAST,EAAMU,WAAYV,EAAMW,QAAS58B,OAAQxe,EAAWy6C,EAAMh6B,UAE7Gjb,KAAK23C,gBAAkB,WAAc,OACjCC,OAAQrB,KAAKsB,aAAaC,mBAAmB7C,EAAMS,SAAS,KAEhE11C,KAAK+3C,OAAS,WAAc,OAAO9C,EAAMyC,KAClB,iBAAZz8B,EAAsB,CAE7B,GADAjb,KAAKib,QAAUA,GACVo8B,EAAkBW,QACnB,MAAM,IAAI3T,UAAU,+EAGxBrkC,KAAK03C,IAAML,EAAkBW,QAAQ/8B,EAAS,CAC1CuxB,UAAW+G,MAAAA,OAAmC,EAASA,EAAK/G,iBAIhExsC,KAAK03C,IAAMz8B,EAEf,IAAK1Y,MAAMqW,QAAQ5Y,KAAK03C,KACpB,MAAM,IAAIrT,UAAU,kDAIxBrkC,KAAK41C,QAAUmB,GAAaM,EAAkBzB,QAAS0B,GAEvDt3C,KAAK01C,QAAUA,EACf11C,KAAK21C,WACApC,GAAQA,EAAKoC,kBArGR,KADe/B,EAsGgC5zC,KAAKw3C,kBArG1C5D,EAAQ,CAC5BnO,OAAQ,GACRc,SAAU,GACVkR,YAAa,KAEV,CACH1B,gBAAiBpC,IAAQ,WAGrB,IAFA,IAAIlM,EACA8M,EAAO,GACFtL,EAAK,EAAGA,EAAKpE,UAAUhqC,OAAQouC,IACpCsL,EAAKtL,GAAMpE,UAAUoE,GAEzB,OAAO,KAAMxB,EAAK8O,KAAKsB,cAAcjsC,KAAKk5B,MAAM2C,EAAI1C,GAAc,MAAC,GAASwP,GAAM,OACnF,CACCX,MAAOwD,GAAuBxD,EAAMnO,QACpCuO,SAAUY,GAAWN,WAEzB4B,kBAAmBvC,IAAQ,WAGvB,IAFA,IAAIlM,EACA8M,EAAO,GACFtL,EAAK,EAAGA,EAAKpE,UAAUhqC,OAAQouC,IACpCsL,EAAKtL,GAAMpE,UAAUoE,GAEzB,OAAO,KAAMxB,EAAK8O,KAAK0B,gBAAgBrsC,KAAKk5B,MAAM2C,EAAI1C,GAAc,MAAC,GAASwP,GAAM,OACrF,CACCX,MAAOwD,GAAuBxD,EAAMrN,UACpCyN,SAAUY,GAAWN,WAEzBoC,eAAgB/C,IAAQ,WAGpB,IAFA,IAAIlM,EACA8M,EAAO,GACFtL,EAAK,EAAGA,EAAKpE,UAAUhqC,OAAQouC,IACpCsL,EAAKtL,GAAMpE,UAAUoE,GAEzB,OAAO,KAAMxB,EAAK8O,KAAKC,aAAa5qC,KAAKk5B,MAAM2C,EAAI1C,GAAc,MAAC,GAASwP,GAAM,OAClF,CACCX,MAAOwD,GAAuBxD,EAAM6D,aACpCzD,SAAUY,GAAWN,aA6I7B,OA3EAp8C,OAAOif,eAAekgC,EAAmB,gBAAiB,CACtDjsC,IAAK,WAKD,OAJKisC,EAAkBa,wBACnBb,EAAkBa,uBACd,IAAI3B,KAAKsB,cAAeF,kBAAkBC,QAE3CP,EAAkBa,uBAE7B9gC,YAAY,EACZC,cAAc,IAElBggC,EAAkBa,sBAAwB,KAC1Cb,EAAkBW,QAAUt+B,GAI5B29B,EAAkBzB,QAAU,CACxBnQ,OAAQ,CACJ0S,QAAS,CACL7O,sBAAuB,GAE3BF,SAAU,CACNnrC,MAAO,YAEXm6C,QAAS,CACLn6C,MAAO,YAGf0nC,KAAM,CACF0S,MAAO,CACHtR,MAAO,UACPC,IAAK,UACLH,KAAM,WAEVyR,OAAQ,CACJvR,MAAO,QACPC,IAAK,UACLH,KAAM,WAEV0R,KAAM,CACFxR,MAAO,OACPC,IAAK,UACLH,KAAM,WAEV2R,KAAM,CACFvR,QAAS,OACTF,MAAO,OACPC,IAAK,UACLH,KAAM,YAGdhB,KAAM,CACFwS,MAAO,CACHjR,KAAM,UACNC,OAAQ,WAEZiR,OAAQ,CACJlR,KAAM,UACNC,OAAQ,UACRC,OAAQ,WAEZiR,KAAM,CACFnR,KAAM,UACNC,OAAQ,UACRC,OAAQ,UACRC,aAAc,SAElBiR,KAAM,CACFpR,KAAM,UACNC,OAAQ,UACRC,OAAQ,UACRC,aAAc,WAInB8P,QCpNIA,GCTiG,MAAMxvC,GAAE,GAAG/M,GAAE,CAACiH,EAAEC,EAAEK,IAAIA,GAAGL,KAAK6F,KAAIA,GAAE7F,GAAG,IAAID,KAAK8F,GAAE7F,KAAK6F,GAAE7F,GAAGD,GAAGM,GAAGA,GAAGA,EAAEgL,GAAE,CAACtL,EAAEC,KAAK,GAAG,MAAMA,EAAE,OAAO,GAAGA,KAAK6F,IAAG9F,KAAK8F,GAAE7F,GAAG,OAAO6F,GAAE7F,GAAGD,GAAG,MAAMM,EAAEgQ,GAAErQ,GAAG,IAAI,IAAImG,EAAE,EAAEA,EAAE9F,EAAExH,OAAOsN,IAAI,CAAC,MAAMN,EAAEnL,GAAE2F,EAAE8F,GAAGpG,GAAG,GAAG8F,EAAE,OAAO/M,GAAEiH,EAAEC,EAAE6F,KAAK,IAAInP,GAAE,MAAMksC,GAAE7iC,GAAE,IAAI,SAAS02C,GAAE12C,GAAG,OAAOA,KAAKrJ,GAAE,SAASgE,GAAEqF,EAAEC,GAAG,OAAIy2C,GAAE12C,GAAsB,SAASA,EAAEC,GAAG,GAAG,MAAMA,EAAE,OAAO,GAAGA,KAAKD,EAAE,OAAOA,EAAEC,GAAG,MAAMK,EAAEL,EAAEmC,MAAM,KAAK,IAAIgE,EAAEpG,EAAE,IAAI,IAAIA,EAAE,EAAEA,EAAEM,EAAExH,OAAOkH,IAAI,GAAG,iBAAiBoG,EAAE,CAAC,GAAGpG,EAAE,EAAE,CAAC,MAAMC,EAAEK,EAAEjI,MAAM2H,EAAEM,EAAExH,QAAQ4J,KAAK,KAAK,GAAGzC,KAAKmG,EAAE,CAACA,EAAEA,EAAEnG,GAAG,OAAOmG,EAAEA,EAAE9F,EAAEN,SAASoG,OAAE,EAAO,OAAOA,EAA3O,CAA8O,SAASpG,GAAG,OAAOrJ,GAAEqJ,IAAI,KAAzB,CAA+BA,GAAGC,GAA5R,KAA6W,MAAMpF,GAAEoF,GAAE,CAAC4iC,OAAM7iC,KAAK7J,OAAO4V,KAAK/L,KAAK6iC,GAAEhsC,WAAWmJ,GAAGrJ,GAAEqJ,IAAI,MAAMlD,GAAE,GAAG,SAAS8S,GAAE5P,GAAG,OAAOlD,GAAEkD,GAAG,SAAS22C,GAAE32C,GAAG,OAAO,MAAMA,GAAGsQ,GAAEtQ,GAAG42C,MAAM52C,IAAI,IAAIC,EAAE,OAAO,QAAQA,EAAE2P,GAAE5P,UAAK,IAASC,OAAE,EAAOA,EAAEnF,QAAQ,SAASqF,GAAEH,EAAEC,GAAG,OAAOhF,QAAQ+mC,IAAI/hC,EAAEoK,KAAKpK,IAAI,SAASD,EAAEC,GAAGnD,GAAEkD,GAAGpF,OAAOqF,GAAG,IAAInD,GAAEkD,GAAGlF,aAAagC,GAAEkD,GAArD,CAAyDA,EAAEC,GAAGA,IAAImE,MAAMpE,GAAGA,EAAE62C,SAAS72C,QAAQoE,MAAMnE,GAAza,SAAWD,KAAKC,UAAU6F,GAAE9F,GAAG6iC,GAAEn+B,QAAQ0B,IAAIA,EAAEpG,GAAGM,GAAE0hC,IAAI,CAAC57B,EAAEpG,IAAI,MAAMC,IAAImG,KAAmWhG,CAAEJ,KAAKC,KAAK,MAAM3G,GAAE,GAAG,SAAS1C,GAAEoJ,GAAG,IAAI22C,GAAE32C,GAAG,OAAOA,KAAK1G,GAAEA,GAAE0G,GAAG/E,QAAQgJ,UAAU,MAAMhE,EAAE,SAASD,GAAG,OAAOsQ,GAAEtQ,GAAGqK,KAAKrK,IAAI,MAAMC,EAAE2P,GAAE5P,GAAG,MAAM,CAACA,EAAEC,EAAE,IAAIA,GAAG,OAAOqC,WAAWtC,KAAKA,EAAElH,OAAO,IAAhG,CAAqGkH,GAAG,OAAO1G,GAAE0G,GAAG/E,QAAQ+mC,IAAI/hC,EAAEoK,OAAOrK,EAAEC,KAAKE,GAAEH,EAAEC,MAAMmE,WAAW,GAAGuyC,GAAE32C,GAAG,OAAOpJ,GAAEoJ,UAAU1G,GAAE0G,MAAM1G,GAAE0G,GAAG,SAAS6P,GAAE7P,EAAEC,GAAG2P,GAAE5P,IAAI,SAASA,GAAGlD,GAAEkD,GAAG,IAAIxF,IAArB,CAA0BwF,GAAG,MAAMM,EAAEsP,GAAE5P,GAAG4P,GAAE5P,GAAG4E,IAAI3E,KAAKy2C,GAAE12C,IAAI6iC,GAAEn+B,QAAQzE,IAAIA,EAAED,GAAG,GAAGC,KAAKK,EAAEnF,IAAI8E;;;;;;;;;;;;;;oFAcj7C,SAASgqC,GAAEjqC,EAAEC,GAAG,IAAIK,EAAE,GAAG,IAAI,IAAI8F,KAAKpG,EAAE7J,OAAO+pC,UAAUwB,eAAe1jC,KAAKgC,EAAEoG,IAAInG,EAAEuC,QAAQ4D,GAAG,IAAI9F,EAAE8F,GAAGpG,EAAEoG,IAAI,GAAG,MAAMpG,GAAG,mBAAmB7J,OAAO+qC,sBAAsB,CAAC,IAAIp7B,EAAE,EAAE,IAAIM,EAAEjQ,OAAO+qC,sBAAsBlhC,GAAG8F,EAAEM,EAAEtN,OAAOgN,IAAI7F,EAAEuC,QAAQ4D,EAAEN,IAAI,GAAG3P,OAAO+pC,UAAUkB,qBAAqBpjC,KAAKgC,EAAEoG,EAAEN,MAAMxF,EAAE8F,EAAEN,IAAI9F,EAAEoG,EAAEN,KAAK,OAAOxF,EAAE,MAAMw2C,GAAE,CAACC,eAAe,KAAKC,aAAa,IAAInD,QAAQ,CAACnQ,OAAO,CAACuT,WAAW,CAACvQ,SAAS,cAAcwQ,YAAY,CAACxQ,SAAS,eAAeyQ,YAAY,CAACzQ,SAAS,UAAUe,eAAe,QAAQ2P,aAAa,CAAC1Q,SAAS,UAAUe,eAAe,UAAU7D,KAAK,CAAC0S,MAAM,CAACtR,MAAM,UAAUC,IAAI,UAAUH,KAAK,WAAWyR,OAAO,CAACvR,MAAM,QAAQC,IAAI,UAAUH,KAAK,WAAW0R,KAAK,CAACxR,MAAM,OAAOC,IAAI,UAAUH,KAAK,WAAW2R,KAAK,CAACvR,QAAQ,OAAOF,MAAM,OAAOC,IAAI,UAAUH,KAAK,YAAYhB,KAAK,CAACwS,MAAM,CAACjR,KAAK,UAAUC,OAAO,WAAWiR,OAAO,CAAClR,KAAK,UAAUC,OAAO,UAAUC,OAAO,WAAWiR,KAAK,CAACnR,KAAK,UAAUC,OAAO,UAAUC,OAAO,UAAUC,aAAa,SAASiR,KAAK,CAACpR,KAAK,UAAUC,OAAO,UAAUC,OAAO,UAAUC,aAAa,WAAW6R,uBAAsB,EAAG5M,WAAU,GAAI,SAAS16B,KAAI,OAAO+mC,GAA6S,MAAM3+C,GAAE6H,IAAE,GAAI,IAAI4Q,GAAE,MAAM0mC,GAAEt3C,GAAE,MAAM,SAASjK,GAAEiK,GAAG,OAAOA,EAAEoC,MAAM,KAAKiI,MAAMrK,EAAEC,EAAEK,IAAIA,EAAEjI,MAAM,EAAE4H,EAAE,GAAGyC,KAAK,OAAO60C,UAAU,SAASjnC,GAAEtQ,EAAEC,EAAE8P,KAAIgnC,gBAAgB,MAAMz2C,EAAEvK,GAAEiK,GAAG,OAAOC,EAAE,IAAI,IAAIzF,IAAI,IAAI8F,KAAKvK,GAAEkK,MAAMK,EAAE,SAAS8P,KAAI,OAAO,MAAMQ,GAAEA,QAAE,EAAO0mC,GAAEzgD,WAAWmJ,IAAI4Q,GAAE,MAAM5Q,EAAEA,OAAE,EAAO,oBAAoBhG,QAAQ,MAAMgG,GAAGtE,SAAS87C,gBAAgBl5C,aAAa,OAAO0B,MAAW,MAACy3C,GAAEthD,OAAOiC,OAAOjC,OAAOiC,OAAO,GAAGk/C,IAAG,CAAC39C,IAAIqG,IAAI,GAAGA,GAAG,SAASA,GAAG,GAAG,MAAMA,EAAE,OAAO,MAAMC,EAAEqQ,GAAEtQ,GAAG,IAAI,IAAIA,EAAE,EAAEA,EAAEC,EAAEnH,OAAOkH,IAAI,CAAC,MAAMM,EAAEL,EAAED,GAAG,GAAG02C,GAAEp2C,GAAG,OAAOA,GAAnG,CAAuGN,IAAI22C,GAAE32C,GAAG,CAAC,MAAMg3C,aAAa/2C,GAAG8P,KAAI,IAAIzP,EAAE,MAAM,oBAAoBtG,QAAQ,MAAMoW,MAAKnQ,EAAEK,EAAEtG,OAAO09C,gBAAgBv/C,GAAEwB,KAAI,IAAKsG,GAAG9H,GAAEwB,KAAI,GAAI/C,GAAEoJ,GAAGoE,WAAWkzC,GAAE39C,IAAIqG,MAAM23C,cAAcC,aAAat3C,GAAGnI,GAAEwB,KAAI,MAAO,OAAO29C,GAAE39C,IAAIqG,MAAohB63C,GAAE73C,IAAI,MAAMC,EAAE9J,OAAOC,OAAO,MAAM,OAAOkK,IAAI,MAAM8F,EAAEsR,KAAKM,UAAU1X,GAAG,OAAO8F,KAAKnG,EAAEA,EAAEmG,GAAGnG,EAAEmG,GAAGpG,EAAEM,KAAK6P,GAAE,CAACnQ,EAAEC,KAAK,MAAM4zC,QAAQvzC,GAAGyP,KAAI,GAAG/P,KAAKM,GAAGL,KAAKK,EAAEN,GAAG,OAAOM,EAAEN,GAAGC,GAAG,MAAM,IAAIwD,MAAM,0BAA0BxD,MAAMD,cAAc0Q,GAAEmnC,IAAG73C,IAAI,IAAI61C,OAAO51C,EAAEg0C,OAAO3zC,GAAGN,EAAEoG,EAAE6jC,GAAEjqC,EAAE,CAAC,SAAS,WAAW,GAAG,MAAMC,EAAE,MAAM,IAAIwD,MAAM,0DAA0D,OAAOnD,IAAI8F,EAAE+J,GAAE,SAAS7P,IAAI,IAAIk0C,KAAKsB,aAAa71C,EAAEmG,MAAMmK,GAAEsnC,IAAG73C,IAAI,IAAI61C,OAAO51C,EAAEg0C,OAAO3zC,GAAGN,EAAEoG,EAAE6jC,GAAEjqC,EAAE,CAAC,SAAS,WAAW,GAAG,MAAMC,EAAE,MAAM,IAAIwD,MAAM,wDAAwD,OAAOnD,EAAE8F,EAAE+J,GAAE,OAAO7P,GAAG,IAAInK,OAAO4V,KAAK3F,GAAGtN,SAASsN,EAAE+J,GAAE,OAAO,UAAU,IAAIqkC,KAAK0B,eAAej2C,EAAEmG,MAAM0xC,GAAED,IAAG73C,IAAI,IAAI61C,OAAO51C,EAAEg0C,OAAO3zC,GAAGN,EAAEoG,EAAE6jC,GAAEjqC,EAAE,CAAC,SAAS,WAAW,GAAG,MAAMC,EAAE,MAAM,IAAIwD,MAAM,8DAA8D,OAAOnD,EAAE8F,EAAE+J,GAAE,OAAO7P,GAAG,IAAInK,OAAO4V,KAAK3F,GAAGtN,SAASsN,EAAE+J,GAAE,OAAO,UAAU,IAAIqkC,KAAK0B,eAAej2C,EAAEmG,MAA8QuK,GAAEknC,KAAI73C,EAAEC,EAAEmQ,OAAM,IAAIhK,GAAEpG,EAAEC,EAAE8P,KAAI8jC,QAAQ,CAACpJ,UAAU16B,KAAI06B,cAAcp6B,GAAE,CAACrQ,EAAEC,EAAE,MAAM,IAAIK,EAAEL,EAAE,iBAAiBD,IAAIM,EAAEN,EAAEA,EAAEM,EAAEy3C,IAAI,MAAM9gC,OAAO7Q,EAAEyvC,OAAO/vC,EAAEsK,KAAIymC,QAAQ99C,GAAGuH,EAAE,GAAG,MAAMwF,EAAE,MAAM,IAAIrC,MAAM,mFAAmF,IAAI9M,EAAE2U,GAAEtL,EAAE8F,GAAG,GAAGnP,GAAG,GAAG,iBAAiBA,EAAE,OAAOqiB,QAAQg/B,KAAK,kCAAkCh4C,+CAA+CrJ,mGAAmGA,OAAOoZ,KAAIsnC,uBAAuBr+B,QAAQg/B,KAAK,8BAA8Bh4C,wBAAwBsQ,GAAExK,GAAGpD,KAAK,YAAYi0C,GAAEvmC,MAAK,gGAAgG,MAAMzZ,EAAE,MAAMoC,EAAEA,EAAEiH,EAAE,IAAIoG,EAAE,OAAOzP,EAAE,IAAIksC,EAAElsC,EAAE,IAAIksC,EAAElyB,GAAEha,EAAEmP,GAAGmuC,OAAO7tC,GAAG,MAAMnG,GAAG+Y,QAAQg/B,KAAK,0BAA0Bh4C,uBAAuBC,EAAEiZ,SAAS,OAAO2pB,GAAGoV,GAAE,CAACj4C,EAAEC,IAA59B,EAACD,EAAE,MAAM,IAAI61C,OAAO51C,EAAEmQ,MAAKpQ,EAAEM,EAAE2pC,GAAEjqC,EAAE,CAAC,WAAW,OAAO83C,GAAE3hD,OAAOiC,OAAO,CAACy9C,OAAO51C,GAAGK,KAA+4B4P,CAAEjQ,GAAGg0C,OAAOj0C,GAAGk4C,GAAE,CAACl4C,EAAEC,IAA5kC,EAACD,EAAE,MAAM,IAAI61C,OAAO51C,EAAEmQ,MAAKpQ,EAAEM,EAAE2pC,GAAEjqC,EAAE,CAAC,WAAW,OAAOuQ,GAAEpa,OAAOiC,OAAO,CAACy9C,OAAO51C,GAAGK,KAA+/B0P,CAAE/P,GAAGg0C,OAAOj0C,GAAGm4C,GAAE,CAACn4C,EAAEC,IAA5rC,EAACD,EAAE,MAAM,IAAI61C,OAAO51C,EAAEmQ,MAAKpQ,EAAEM,EAAE2pC,GAAEjqC,EAAE,CAAC,WAAW,OAAO0Q,GAAEva,OAAOiC,OAAO,CAACy9C,OAAO51C,GAAGK,KAA+mClJ,CAAE6I,GAAGg0C,OAAOj0C,GAAGo4C,GAAE,CAACp4C,EAAEC,EAAEmQ,OAAM9E,GAAEtL,EAAEC,GAAGo4C,GAAEp4C,GAAE,CAACw3C,GAAE5U,SAAQxyB,KAAMpQ,GAAE,CAACw3C,SAAQQ,KAAOh4C,GAAE,CAACw3C,SAAQS,KAAOj4C,GAAE,CAACw3C,SAAQU,KAAOl4C,GAAE,CAACw3C,GAAE5U,SAAQuV,KCgBn8J,SAASE,GAASz5C,GAIrB,OADAA,GADAA,GADAA,EAAQA,EAAM+W,QAAQ,iBAAkB,wBAC1BA,QAAQ,aAAc,gBACtBA,QAAQ,sBAAuB,uCCsBjD,SAAS2iC,GAAWj4C,GAChB,OAAOA,EAAI,GAAM,EAAMA,EAAIA,EAAIA,EAAI,GAAM1H,KAAK4/C,IAAI,EAAMl4C,EAAI,EAAK,GAAO,EAK5E,SAASm4C,GAASn4C,GACd,MAAMzF,EAAIyF,EAAI,EACd,OAAOzF,EAAIA,EAAIA,EAAI,ECrBvB,SAAS69C,GAAKn9C,GAAMyF,MAAEA,EAAQ,EAACD,SAAEA,EAAW,IAAG8F,OAAEA,EAAS8xC,GAAW,IACjE,MAAMvyC,GAAKtD,iBAAiBvH,GAAMq9C,QAClC,MAAO,CACH53C,MAAAA,EACAD,SAAAA,EACA8F,OAAAA,EACAE,IAAKzG,GAAK,YAAYA,EAAI8F,GAGlC,SAAS6qB,GAAI11B,GAAMyF,MAAEA,EAAQ,EAACD,SAAEA,EAAW,IAAG8F,OAAEA,EAAS4xC,GAAQ1iD,EAAEA,EAAI,EAAC8Z,EAAEA,EAAI,EAAC+oC,QAAEA,EAAU,GAAM,IAC7F,MAAM18C,EAAQ4G,iBAAiBvH,GACzBs9C,GAAkB38C,EAAM08C,QACxBv1C,EAAgC,SAApBnH,EAAMmH,UAAuB,GAAKnH,EAAMmH,UACpDy1C,EAAKD,GAAkB,EAAID,GACjC,MAAO,CACH53C,MAAAA,EACAD,SAAAA,EACA8F,OAAAA,EACAE,IAAK,CAACzG,EAAGo2C,IAAM,sBACPrzC,gBAAwB,EAAI/C,GAAKvK,SAAS,EAAIuK,GAAKuP,yBACrDgpC,EAAkBC,EAAKpC,KAGrC,SAASqC,GAAMx9C,GAAMyF,MAAEA,EAAQ,EAACD,SAAEA,EAAW,IAAG8F,OAAEA,EAAS4xC,IAAa,IACpE,MAAMv8C,EAAQ4G,iBAAiBvH,GACzBq9C,GAAW18C,EAAM08C,QACjB31C,EAAS2kC,WAAW1rC,EAAM+G,QAC1B+1C,EAAcpR,WAAW1rC,EAAM+8C,YAC/BC,EAAiBtR,WAAW1rC,EAAMi9C,eAClCC,EAAaxR,WAAW1rC,EAAMm9C,WAC9BC,EAAgB1R,WAAW1rC,EAAMq9C,cACjCC,EAAmB5R,WAAW1rC,EAAMu9C,gBACpCC,EAAsB9R,WAAW1rC,EAAMy9C,mBAC7C,MAAO,CACH34C,MAAAA,EACAD,SAAAA,EACA8F,OAAAA,EACAE,IAAKzG,GACD,6BAAY1H,KAAKw4C,IAAQ,GAAJ9wC,EAAQ,GAAKs4C,aACvBt4C,EAAI2C,oBACC3C,EAAI04C,uBACD14C,EAAI44C,mBACR54C,EAAI84C,sBACD94C,EAAIg5C,yBACDh5C,EAAIk5C,4BACDl5C,EAAIo5C,QAmBxC,SAASE,GAAKr+C,GAAMyF,MAAEA,EAAQ,EAAC64C,MAAEA,EAAK94C,SAAEA,EAAQ8F,OAAEA,EAAS0xC,IAAe,IACtE,IAAI5/C,EAAM4C,EAAKu+C,iBACf,MAAM59C,EAAQ4G,iBAAiBvH,GAe/B,MAd4B,SAAxBW,EAAM69C,gBACNphD,GAAOqhD,SAAS99C,EAAM+9C,mBAETxhD,IAAbsI,EAEIA,OADUtI,IAAVohD,EACW,IAGAlhD,EAAMkhD,EAGI,mBAAb94C,IACZA,EAAWA,EAASpI,IAEjB,CACHqI,MAAAA,EACAD,SAAAA,EACA8F,OAAAA,EACAE,IAAK,CAACzG,EAAGo2C,IAAM,qBAAqBp2C,EAAI3H,KAAO+9C,EAAI/9C,wCC/GxDd,KAAGA,oDADMA,iCAAZwE,+EACGxE,KAAGA,4DADqBgY,EAAG,IAAK9O,SAAU,4DAAiBA,SAAU,oIAVhE5D,EAAIkI,KAAEA,EAAIgV,QAAEA,GAAY6/B,EAChC12C,oBACU22C,EAAcD,EAAS/8C,KAC7Bu6C,iBACQwC,GAAU/8C,OAASg9C,GACnBjhC,GAAQtW,UACbyX,uBAIuFnB,GAAQtW,SHVrEw3C,WAC7B,IACI,MAAMC,QAAiBtkC,GAAQ,0BAARA,IACjBukC,MAAEA,EAAKC,UAAEA,GAAcF,EACvBG,EAAOF,EAAM,GACnB,IAAKC,GAAWzhD,SAAW0hD,EACvB,MAAM,IAAI/2C,MAAM,0CAEpB,IAAK,MAAMg3C,KAAYF,EACnBG,GAASD,EAAU1kC,GAAQ,aAAiB0kC,IAAWD,MAE3D,MACMG,EADepjC,aAAaC,QAAQ,WACFojC,UAAUH,SAC5CI,EAAcF,EAAgBv4C,MAAM,KAAK,GACzC04C,EAAgBP,EAAUQ,MAAMN,GAAaA,IAAaE,GAAmBF,IAAaI,KAfjF,WDU8pC,SAAW76C,GAAG,MAAM6zC,QAAQ5zC,GAAGD,EAAEM,EAAE2pC,GAAEjqC,EAAE,CAAC,YAAYoG,EAAEpG,EAAE86C,eAAe96C,EAAE+2C,eAAe,OAAO5gD,OAAOiC,OAAO0+C,GAAEx2C,EAAE,CAACw6C,cAAc10C,IAAInG,IAAI,WAAWA,GAAG9J,OAAOiC,OAAO0+C,GAAEjD,QAAQnQ,OAAOzjC,EAAEyjC,QAAQ,SAASzjC,GAAG9J,OAAOiC,OAAO0+C,GAAEjD,QAAQjQ,KAAK3jC,EAAE2jC,MAAM,SAAS3jC,GAAG9J,OAAOiC,OAAO0+C,GAAEjD,QAAQ/P,KAAK7jC,EAAE6jC,OAAO2T,GAAE99C,IAAIyM,GCM/8C0B,CAAK,CAAEivC,eAhBE,KAgBc+D,cAAAA,IAC7BzjC,GAAY1d,KAAI,GAEpB,MAAOsf,GACHD,QAAQC,MAAMA,GACd5B,GAAY1d,KAAI,KAGxBqhD,qEIzBA,MAAMC,GAAYL,UAAUM,UAAUC,SAAS,WAExCf,eAAegB,GAASriD,EAAGk7C,EAAS,OACzC,GAAe,SAAXA,EACF,OA0CF,SAAsBoH,GACpB,MAAMC,EAAO,IAAIC,KAAK,CAAC7jC,KAAKM,UAAUqjC,IAAQ,CAACh2C,KAAM,qBAC/CgP,EAAMra,OAAOwhD,IAAIC,gBAAgBH,GACjCxlC,EAAOpa,SAASsB,cAAc,KAC9BD,EAAuB,IAAhBs+C,EAAKviD,QAAgBuiD,EAAK,GAAGt+C,MAAQs+C,EAAK,GAAGt+C,KAAK4Y,cAAc+lC,WAAW,UAAW,KAAO,UAC1G5lC,EAAKslC,SAAW,GAAGr+C,KAAQ4+C,YAC3B7lC,EAAK8lC,KAAOvnC,EACZyB,EAAK+lC,QACL7hD,OAAO09C,YAAW,IAAM19C,OAAOwhD,IAAIM,gBAAgBznC,IAAM,KAlDlD0nC,CAAahjD,GAGtB,MAAMsiD,EAAOtiD,GAAW,IAANA,EAAU,CAAC2C,SAASsgD,eAAe,MAAQjjD,IAAM2C,SAASugD,iBAAiB,WAC7F,IAAIj5C,MAACA,EAAKC,OAAEA,GAAUo4C,EAAK,GAAGn4C,wBAC9B,MAAMg5C,EAAUb,EAAKviD,OAAS,EAAIF,KAAKmc,MAAM/a,OAAOmiD,WAAan5C,GAAS,EACpEo5C,EAAUf,EAAKviD,OAAS,EAAIF,KAAKyjD,KAAKhB,EAAKviD,OAASojD,GAAW,EAE/DI,EAAajzC,EAAIiP,IACvBtV,EAAQpK,KAAKuV,MAAMnL,EAAQs5C,GAC3Br5C,EAASrK,KAAKuV,MAAMlL,EAASq5C,GAE7B,MAAMC,EAAS7gD,SAASsB,cAAc,UAChCnF,EAAM0kD,EAAOC,WAAW,MAC9BD,EAAOv5C,MAAQA,EAAQk5C,EACvBK,EAAOt5C,OAASA,EAASm5C,EAEzB,IAAIK,EAAS,EACbpB,EAAK9kD,SAAQ6jD,eAAgBsC,EAAK3jD,GAChC,MAAMsb,QAmCV+lC,eAAsBsC,EAAK15C,EAAOC,GAChC,MAAM05C,EAAgB,GAChBhc,EAAQ+b,EAAIE,WAAU,GAC5Bjc,EAAMriC,aAAa,QAAS0E,GAC5B29B,EAAMriC,aAAa,SAAU2E,GAC7B09B,EAAMviC,gBAAgB,SACtBuiC,EAAMviC,gBAAgB,MACtB,MAAMtB,EAAI6jC,EAAMkc,qBAAqB,QAAQ,GAGvCtkC,EAAOooB,EAAMqb,eAAe,QAC5Bc,EAAcnc,EAAMqb,eAAe,eACnClhC,EAAY6lB,EAAMqb,eAAe,aACnCzjC,GAAMA,EAAKwkC,SACXD,GAAaA,EAAYC,SACzBjiC,GAAWA,EAAUiiC,SAGzBpc,EAAMsb,iBAAiB,cAAc1lD,SAAQ8sC,IAC3CA,EAAG/kC,aAAa,SAAU,WAE5BqiC,EAAMsb,iBAAiB,WAAW1lD,SAAQ8sC,IACxCA,EAAG0Z,YAGL,MAAMC,EAAK3zC,EAAIwO,IACbolC,EAAK5zC,EAAIuO,IACPolC,GAAa,OAAPA,GAAalgD,EAAEogD,mBAAmB,YAAaC,KAAKnB,eAAegB,GAAII,WAC7EH,GAAa,OAAPA,GAAangD,EAAEogD,mBAAmB,YAAaC,KAAKnB,eAAeiB,GAAIG,WACjFzc,EAAMsb,iBAAiB,mBAAmB1lD,SAAQ8sC,IAChD,MAAMga,EAAgBha,EAAGhlC,aAAa,QAAQ+D,MAAM,MAAM,IAAIA,MAAM,KAAK,GACrEi7C,GAAeC,EAAWD,EAAevgD,GAC7C,MAAMsV,EAASixB,EAAGhlC,aAAa,UAC3Bs+C,EAAcvqC,KAClBtV,EAAEogD,mBAAmB,YAAaC,KAAKnB,eAAe5pC,GAAQgrC,WAC9DT,EAAcvqC,IAAU,MAE1BuuB,EAAMsb,iBAAiB,aAAa1lD,SAAQ8sC,IAC1C,MAAMka,EAAkBla,EAAGhlC,aAAa,QAAQ+D,MAAM,MAAM,IAAIA,MAAM,KAAK,GACvEm7C,GAAiBD,EAAWC,EAAiBzgD,MAEnD,MAAM0gD,EAAe7c,EAAM8c,uBAAuB,SAAS,GAAGp/C,aAAa,QAAQ+D,MAAM,MAAM,IAAIA,MAAM,KAAK,GAC1Go7C,GAAcF,EAAWE,EAAc1gD,GAC3C,MAAM4gD,EAAkB/c,EAAM8c,uBAAuB,YAAY,IAAI/9C,cAAc,QAAQrB,aAAa,QAAQ+D,MAAM,MAAM,IAAIA,MAAM,KAAK,GACvIs7C,GAAiBJ,EAAWI,EAAiB5gD,GAEjD,SAASwgD,EAAWhP,EAASxxC,GAC3B,IAAI6/C,EAAcrO,GAAlB,CAGA,GAFAxxC,EAAEogD,mBAAmB,YAAaxhD,SAASsgD,eAAe1N,GAAS8O,WAEvC,SAAxB9O,EAAQj2C,MAAM,EAAG,GAAe,CAClC,MAAM+Z,EAASk8B,EAAQ1J,MAAM,kBAAkB,GAC1C+X,EAAcvqC,KACjBtV,EAAEogD,mBAAmB,YAAaxhD,SAASsgD,eAAe5pC,GAAQgrC,WAClET,EAAcvqC,IAAU,GAG5BuqC,EAAcrO,IAAW,GAI3B,MAAMqP,EA2ER,SAAyBjB,GACvB,MAAMiB,EAAY,IAAInjD,IAChBojD,EAAWv0C,EAAI4O,IAErB,IAAK,MAAM9a,KAAQu/C,EAAIT,iBAAiB,QAAS,CAC/C,MAAM4B,EAAS1gD,EAAKkB,aAAa,eAC7Bw/C,GAAUD,EAASC,IAASxpC,KAC9BspC,EAAUxiD,IAAI,CAAC0iD,OAAAA,EAAQxpC,IAAKupC,EAASC,GAAQxpC,MAEjD,OAAO7T,MAAMC,KAAKk9C,GApFAG,CAAgBnd,GAClC,GAAIgd,EAAW,CACb,MAAMI,QA8FV3D,eAAkCniC,GAChC,MAAM+lC,EAAW/lC,EAAM5N,KAAI+vC,MAAAA,IACzB,MAAM6D,QAAajoC,MAAMkoC,EAAK7pC,KACxBinC,QAAa2C,EAAK3C,OAClB6C,QAbV,SAA2B7C,GACzB,OAAO,IAAIrgD,SAAQ,SAAUgJ,EAASm6C,GACpC,MAAMC,EAAS,IAAIC,WACnBD,EAAOE,UAAY,IAAMt6C,EAAQo6C,EAAOpoC,QACxCooC,EAAOG,QAAUJ,EACjBC,EAAOI,cAAcnD,MAQCoD,CAAkBpD,GAExC,MAAO,CAACuC,OAAQK,EAAKL,OAAQ3lD,IAAK,QAAQimD,UAG5C,aAAaljD,QAAQ+mC,IAAIgc,GAvGIW,CAAmBhB,GAExCiB,EAAYb,EACf1zC,KAAI,EAAEwzC,OAAAA,EAAQ3lD,IAAAA,KACN,6BAA6B2lD,YAAiB3lD,QAEtDwK,KAAK,MAEFxG,EAAQR,SAASsB,cAAc,SACrCd,EAAMoC,aAAa,OAAQ,YAC3BpC,EAAMqE,UAAYq+C,EAClBje,EAAMjhC,cAAc,QAAQlE,YAAYU,GAG1C,MAAM2iD,GAAa,IAAIC,eAAgBC,kBAAkBpe,GACnDqe,EAAS/D,GAAY4D,EAiC7B,SAAkB9d,GAChB,MAAMke,GAAS,IAAIC,WAAYC,gBAAgBpe,EAAQ,iBACjDqe,GAAU,IAAIF,WAAYC,gBAC9B,CACE,oEACA,oCACA,4DACA,kDACA,oBACA,qCACA,qEACA,oBACA,+BACA,qBACAz8C,KAAK,MACP,mBAGI28C,EAAgB,IAAIC,cAC1BD,EAAcE,iBAAiBH,GAC/B,MAAMI,EAAYH,EAAcI,oBAAoBR,GAEpD,OADkB,IAAIH,eAAgBC,kBAAkBS,GAtDhBE,CAASb,GAC3CvD,EAAO,IAAIC,KAAK,CAACyD,GAAS,CAAC35C,KAAM,gCACjCgP,EAAMra,OAAOwhD,IAAIC,gBAAgBH,GAEvC,OADAthD,OAAO09C,YAAW,IAAM19C,OAAOwhD,IAAIM,gBAAgBznC,IAAM,KAClDA,EArHasrC,CAAOjD,EAAK15C,EAAOC,GAC1B,QAAXgxC,EAGF,SAAwB5/B,GACtB,MAAMyB,EAAOpa,SAASsB,cAAc,KACpC8Y,EAAKslC,SAAW,WAAWO,WAC3B7lC,EAAK8lC,KAAOvnC,EACZyB,EAAK+lC,QACL7hD,OAAO09C,YAAW,IAAM19C,OAAOwhD,IAAIM,gBAAgBznC,IAAM,KARtCurC,CAAevrC,GAWpC,SAAwBA,EAAKtb,GAC3B,MAAM8mD,EAAM,IAAIC,MAChBD,EAAI3nD,IAAMmc,EACVwrC,EAAIE,OAAS,KACXvE,IAAIM,gBAAgBznC,GACpBxc,EAAImoD,UAAUH,EAAM9mD,EAAImjD,EAAWl5C,EAAOpK,KAAKmc,MAAMhc,EAAImjD,GAAWj5C,EAAQD,EAAOC,GACnFw5C,IACIA,IAAWpB,EAAKviD,QAqG1B,SAAoByjD,EAAQtI,GAC1B,MAAMn+B,EAAOpa,SAASsB,cAAc,KACpC8Y,EAAKslC,SAAW,WAAWO,QAAkB1H,IAE7C,MAAMuH,EAAMe,EAAO0D,UAAU,SAAWhM,EAAQ,KAChDn+B,EAAK8lC,KAAOJ,EACZ1lC,EAAK+lC,QAELnE,YAAW,WACT6E,EAAOQ,SACP/iD,OAAOwhD,IAAIM,gBAAgBhmC,EAAK8lC,QAC/B,KAhH6BsE,CAAW3D,EAAQtI,IAlBRkM,CAAe9rC,EAAKtb,MAqIjE,SAAS4iD,KACP,MAAMyE,EAAatc,GAASA,EAAO,GAAK,IAAMA,EAAOA,EAC/CF,EAAO,IAAIzpC,KAOjB,MAAO,CANMypC,EAAKyc,cACJD,EAAWxc,EAAK0c,WAAa,GAC/BF,EAAWxc,EAAK2c,WACfH,EAAWxc,EAAK4c,YACbJ,EAAWxc,EAAK6c,cAChBL,EAAWxc,EAAK8c,eACkBh+C,KAAK,KCvKzD,MACai+C,GAAoB,KAC7B,MAAMC,EAAWv3C,EAAI8Q,IACf0mC,EAAa7mD,OAAOmiD,WAHZ,KAIVyE,IAAaC,GACb1mC,GAAUxgB,IAAIknD,IAEtBF,wFC6F2B9oD,wBAA8BA,sBAA+BA,oBAA2B8oD,oKAjG7GG,GAASC,OAAQ,EAAGC,OAAQ,GAGV,qBAAlBtV,SAAS5vC,MAAgC8+C,UAAUM,UAAUC,SAAS,cACxEnhD,OAAOinD,mBAAuB,iDAqB1BC,GACJC,cAAiBC,EAAU,GAAK5nC,GAAO7f,IAAIynD,EAAU,GACrDC,UAAa7nC,GAAO7f,SAAKynD,GAAW,MACpCE,KAAM7mC,GAAQC,KACd6mC,KAAM9mC,GAAQE,KACd6mC,KAAMC,GAAQA,GAAQrG,GAAS,KAAM,OACrCsG,KAAMD,GAAQA,GAAQrG,GAAS,KAAM,OACrCuG,KAAMF,GAAQA,GAAQrG,GAAS,KAAM,QACrCwG,OAAUnoC,GAAM9f,QAAQkoD,EAAQloC,OAAQkoC,EAAOloC,QAC/CmoC,kBA1BID,EAAOnoC,WAETqoC,EAASF,EAAOlnD,GAAK+c,KAAKC,MAAMqqC,EAAS,OAG3CvoC,GAAM9f,QACDkoD,EACHloC,MAAO,EACPG,OAAQ,EACRC,OAAQ,EACRrB,UAAW,EACXgB,KAAM,EACNO,cAAe,IAEjBf,GAAQtW,0BAgBanF,SACfwkD,aAAoBtb,KAAKlpC,EAAMsB,KACnCmiD,EAAW,MAAQzjD,EAAMsB,IAAI8W,eAC7BqrC,EAAWzjD,EAAMmsC,UACdqY,eAECphD,EAASnF,SAASwmD,cAActW,QACvB,UAAX/qC,GAAiC,WAAXA,GAAkC,aAAXA,IAEjDpD,EAAMM,iBACNkkD,EAAOxkD,EAAM0kD,oBAGW1kD,iBACjB2kD,EAAOC,QAAEA,GAAW5kD,EAAM6kD,eAAe,GAChDxB,EAAMC,OAASqB,EACftB,EAAME,OAASqB,YAGO5kD,SAChB8kD,EAAO7mD,SAASsgD,eAAe,QAC/BwG,EAAS9mD,SAASsgD,eAAe,aACnCuG,GAAME,SAAShlD,EAAMnC,kBACrBknD,GAAQC,SAAShlD,EAAMnC,6BAEpB8mD,EAAOC,QAAEA,GAAW5kD,EAAM6kD,eAAe,WACzCvB,EAAMC,OAAEA,GAAUF,EAEnB4B,EAAQN,EAAUrB,EAClB4B,EAAQN,EAAUrB,EAClB4B,EAAShqD,KAAKoP,IAAI06C,EAAQC,GAC1BE,EAASjqD,KAAKoP,IAAI26C,EAAQD,GAChB9pD,KAAKoP,IAAI46C,EAASC,EAASH,EAAQC,GAErC,MAEVC,EAASC,EAAQH,GAAS,EAK1Bb,EAAOnoC,KAAMe,GAAQE,YACpBymC,GAAW,KAQZS,EAAOnoC,KAAMe,GAAQC,OAChB0mC,EAAU,QAAGA,GAAW,KAd5BuB,GAAS,OASdvB,GAAW,KASPA,EAAU,QAAGA,GAAW,0EC5FzB,MAAM0B,GAAe,MAC1BC,YAAa,KACbC,cAAe,GACfC,MAAO55C,EAAIqP,IACXwqC,WAAY,KACZC,SAAU,OAICC,GAAW,SAAUC,GAChC,MAAMC,EAAOD,GAAgBzqD,KAAKmc,MAAsB,IAAhBnc,KAAKoc,UAC7Cpc,KAAKoc,OCJA,WACL,OAAO,SAAWw9B,GAGhB,MAAM+Q,EAAU,iBAEhB,IAAIC,EACFC,EACAC,EACA/oD,EAEAgpD,EADAC,EAAQ,IAAIC,YAAY,GAExBC,EAAU,GAEZ,SAASC,EAAWC,GAClB,IAAIC,EAgCN,WACE,IAAIhkD,EAAI,WAEJgkD,EAAO,SAAU7mD,GAInB,IAAK,IAAIrE,EAAI,EAAGuS,GAHhBlO,EAAOA,EAAK+iC,YAGarnC,OAAQC,EAAIuS,EAAGvS,IAAK,CAG3C,IAAIoH,EAAI,oBAFRF,GAAK7C,EAAKoE,WAAWzI,IAKrBoH,GADAF,EAAIE,IAAM,EAGVF,GADAE,GAAKF,KACK,EAEVA,GAAS,YADTE,GAAKF,GAGP,OAAmB,wBAAXA,IAAM,IAIhB,OADAgkD,EAAKV,QAAU,WACRU,EAvDIC,GAGXV,EAAKS,EAAK,KACVR,EAAKQ,EAAK,KACVP,EAAKO,EAAK,KAEVtpD,EAAI,EAEJ,IAAK,IAAI5B,EAAI,EAAGA,EAAIirD,EAAclrD,OAAQC,KACxCyqD,GAAMS,EAAKD,EAAcjrD,KAChB,IACPyqD,GAAM,IAGRC,GAAMQ,EAAKD,EAAcjrD,KAChB,IACP0qD,GAAM,IAGRC,GAAMO,EAAKD,EAAcjrD,KAChB,IACP2qD,GAAM,GAIVI,EAAUG,EAAKV,QAEfU,EAAO,KA+BT,SAASE,EAAWC,GAClB,OAAOpK,SAASoK,EAAM,MAAQA,EAMhC,IAAIpvC,EAAS,WACX,IAAI1U,EAAI,QAAUkjD,EAAS,uBAAJ7oD,EAKvB,OAHA6oD,EAAKC,EACLA,EAAKC,EAEGA,EAAKpjD,GAAK3F,EAAQ,EAAJ2F,IAmFxB,OA/EA0U,EAAOqvC,QAAU,WACf,OAAOrvC,IAAyC,uBAAjB,QAAXA,IAAuB,IAI7CA,EAAOsvC,MAAQ,WACb,OAAkB,WAAXtvC,KAITA,EAAOuvC,MAAQ,SAAUC,IACvBA,OAAuB,IAATA,EAAuB,GAAKA,GAC/B,IACTA,EAAO,GAET,IAAK,IAAIzrD,EAAI,EAAGA,EAAIyrD,EAAMzrD,IACxBic,KAKJA,EAAOyvC,MAAQ,WACb,IAAIC,EAASC,EAgBb,OAdyB,IAArB7hB,UAAUhqC,QACZ4rD,EAAU,EACVC,EAAU7hB,UAAU,KAEpB4hB,EAAU5hB,UAAU,GACpB6hB,EAAU7hB,UAAU,IAGlBA,UAAU,GAAKA,UAAU,KAC3B4hB,EAAU5hB,UAAU,GACpB6hB,EAAU7hB,UAAU,IAIlBqhB,EAAWO,IAAYP,EAAWQ,GAC7B/rD,KAAKmc,MAAMC,KAAY2vC,EAAUD,EAAU,IAAMA,EAIjD1vC,KAAY2vC,EAAUD,GAAWA,GAK5C1vC,EAAO4vC,QAAU,WACfb,EAAWJ,IAIb3uC,EAAOsuC,KAAO,WACZS,EAAWvjD,MAAM0/B,UAAU7nC,MAAM2F,KAAK8kC,aAIxC9tB,EAAOuuC,QAAU,WACf,OAAOA,GAITvuC,EAAO6vC,SAAW,WAChB,OAAOtB,EAAU,KAAOO,GAIN,IAAhBtR,EAAK15C,SACPkB,OAAO8qD,OAAOC,gBAAgBnB,GAC9BpR,EAAO,CAACoR,EAAM,GAAIA,EAAM,GAAIA,EAAM,KAIpCD,EAAcnR,EAGduR,EAAWvR,GAEJx9B,EAzKF,CA0KJxU,MAAM0/B,UAAU7nC,MAAM2F,KAAK8kC,YDvKhBkiB,CAAS1B,GAEvB,MAAM78C,EAASq8C,KACTmC,EAAM,CAAC3B,KAAAA,EAAM4B,GAAIC,GAAY1+C,EAAQ,UAErC2+C,EAAY5vC,GAAE/O,EAAOs8C,YAAc,GAAM,KACzCsC,EAAiBD,GAAa5vC,GAAE,KAASA,GAAE,IAAOP,GAAGuL,GAAWC,OAAS,KAC/Eha,EAAO08C,UACHiC,GAAa5vC,GAAE,MAAUA,GAAE,IAAQ6vC,GAAgCpwC,GAAGuL,GAAWzC,UAAa,KAElG,MAAMunC,EAAc,CAAC,QAAS,UAAW,UAAW,UAAW,aAAanK,SAAS10C,EAAO08C,UAC5F18C,EAAOy8C,WAAaoC,GAEhBF,GAAa3+C,EAAO08C,SADpB3tC,GAAE,KAGF4vC,EACA5vC,GAAE,IACF/O,EAAO08C,SACP3tC,GAAE,IACFA,GAAE,MAEN,MAAMrD,EAAW1L,EAAOy8C,WAAajuC,GAAG+G,GAAUgE,UAAY,KAE9D,GAAI7N,EAAU,CACZ,MAAM7R,EAAI6kD,GAAY1+C,EAAQ,WAAYA,EAAOu8C,cAAextC,GAAE,KAAQyvC,EAAIC,GAAK,MACnFD,EAAI9yC,SAAW,CAACA,SAAAA,EAAU7R,EAAAA,GACtB0b,GAAU7J,KACZ8yC,EAAI9yC,SAASq4B,KAAO/jC,EAAOs8C,aAAgBt8C,EAAO08C,UAAY3tC,GAAE,IAAQ,WAAaP,GAAG+G,GAAU7J,KAGtG,GAAI1L,EAAO08C,SAAU,CACnB,MAAM7iD,EAAI6kD,GAAY1+C,EAAQ,SAAUA,EAAOu8C,cAAeiC,EAAIC,IAClED,EAAIzkC,WAAa,CAAC,CAAC2iC,SAAU18C,EAAO08C,SAAU7iD,EAAAA,IAC1C+kD,IAAeJ,EAAIzkC,WAAW,GAAGgqB,KAAO/jC,EAAOs8C,aAAgB5wC,GAAYqD,GAAE,IAAQ,WAAaP,GAAG6I,KAEvG3L,IACCizC,IACA3+C,EAAOs8C,aACRvtC,GAAE,KACkB,YAApB/O,EAAO08C,UACa,SAApB18C,EAAO08C,WAEH3tC,GAAE,IAAMyvC,EAAIzkC,WAAW,GAAG+kC,QAAU,UAE/B/vC,GAAE,IAAMyvC,EAAIzkC,WAAW,GAAG+kC,QAAU,QAExCN,EAAIzkC,WAAW,GAAG+kC,QAAU,YAIrC,GAAIH,EAAW,CACb,MAAMhzC,EAASozC,GAAa/+C,EAAO08C,UAAY18C,EAAOy8C,WAAap9B,GAAQ7Z,MAAQ6Z,GAAQlP,QACrF6uC,EAAa3/B,GAAQ1oB,KAAKgV,IAAW,GAE3C,IAAI9Y,EAAI,IACJgH,EAAI,QAER,MAAMolD,EAAellC,GAAWpjB,KAAKqJ,EAAO08C,UACtCwC,EAAYV,EAAIzkC,WAAaykC,EAAIzkC,WAAW,GAAGlgB,EAAI,KAErDolD,GAAc7iC,aAAerN,GAAE,KAEjClc,EAAI2b,GAAGywC,EAAa7iC,aACpBviB,GAAKmG,EAAOs8C,aAAevtC,GAAE,IAAOyvC,EAAIC,GAAKC,GAAY1+C,EAAQ,SAAU,GAAIk/C,IACtED,GAAc3iC,cAAgBvN,GAAE,MAEzClc,EAAI2b,GAAGywC,EAAa3iC,cACpBziB,GAAKmG,EAAOs8C,aAAevtC,GAAE,IAAOmwC,EAAYR,GAAY1+C,EAAQ,SAAUA,EAAOu8C,cAAeiC,EAAIC,KAC/FpqC,GAAUkB,UAAU7J,IAE7B7Y,EAAI2b,GAAG6F,GAAUkB,UAAU7J,IAC3B7R,EAAI6kD,GACF1+C,EACA,SACAk/C,EAAYl/C,EAAOu8C,cAAchiB,OAAO2kB,GAAal/C,EAAOu8C,cAC5DiC,EAAIC,KAEGO,EAAW3qC,WAEpBxhB,EAAI2b,GAAGwwC,EAAW3qC,WAClBxa,EAAI6kD,GAAY1+C,EAAQ,SAAUA,EAAOu8C,cAAeiC,EAAIC,MAG5D5rD,EAAImN,EAAOs8C,YAAc,IAAMj9B,GAAQ/K,aAAa3I,GAAU6C,GAAG6F,GAAUC,cAAgB9F,GAAG6F,GAAUiB,SACxGzb,EAAI6kD,GAAY1+C,EAAQ,SAAUA,EAAOu8C,cAAchiB,OAAO2kB,GAAYV,EAAIC,KAG5EO,EAAWpmB,SAAWomB,EAAWpmB,UAAY/+B,GAAKmlD,EAAWpmB,UAAYsmB,IAAWrlD,EAAImlD,EAAWpmB,SAEvG,MAAMumB,EAAO,CAACxzC,OAAQA,EAAQ9R,EAAAA,EAAGhH,EAAAA,GAC3Bye,EAAS0tC,EAAW1tC,QAAU,EAKpC,GAJIA,EAAS,IAAG6tC,EAAKC,GAAKrwC,GAAE,KAAQ2vC,GAAY1+C,EAAQ,SAAUA,EAAOu8C,cAAeiC,EAAIC,IAAM5kD,GAC9FyX,EAAS,GAAK6tC,EAAKC,KAAID,EAAKE,GAAKtwC,GAAE,IAAO2vC,GAAY1+C,EAAQ,SAAUA,EAAOu8C,cAAeiC,EAAIC,IAAM5kD,GAC5G2kD,EAAIn/B,QAAU,CAAC8/B,GAEL,gBAANtsD,GAAuBkc,GAAE,KAAO,CAElCyvC,EAAIn/B,QAAQ,GAAG1T,OAAS6C,GAAG6Q,GAAQ/K,cACnC,MAAM3I,EAASozC,GAAa1/B,GAAQlP,QAC9BtW,EAAI6kD,GAAY1+C,EAAQ,SAAUA,EAAOu8C,cAAeiC,EAAIC,IAClED,EAAIn/B,QAAQpuB,KAAK,CAAC0a,OAAAA,EAAQ9R,EAAAA,EAAGhH,EAAG,WAC3B,GAAIkc,GAAE,KAAmB,iBAAXpD,EAA2B,CAE9C,MAAMA,EAASozC,GAAa1/B,GAAQ7Z,OAC9B45C,EAAKV,GAAY1+C,EAAQ,SAAU,GAAInG,GAC7C2kD,EAAIn/B,QAAQpuB,KAAK,CAAC0a,OAAAA,EAAQ9R,EAAGulD,EAAIvsD,EAAAA,EAAGwB,KAAM,UACrC,GAAIqX,IAAa1L,EAAO08C,SAAU,CACvC,MAAM4C,IAAgBt/C,EAAOs8C,aAAiBkC,EAAIza,MAAqB,aAAbya,EAAIza,MAG9D,GAAIh1B,GAAE,KAAQ,CAAC,UAAW,WAAW2lC,SAAShpC,IAA0B,aAAb8yC,EAAIza,MAE7D,GADAya,EAAIn/B,QAAQ,GAAGy/B,QAAU,QACrB/vC,GAAE,KAAO,CACX,MAAMwwC,EAAW,MAAN1sD,GAAakc,GAAE,IAAO,IAAMP,GAAG6F,GAAUkB,UAAU7J,IACxDC,EAASozC,GAAa1/B,GAAQlP,QAC9BtW,EAAI6kD,GAAY1+C,EAAQ,SAAUA,EAAOu8C,cAAeiC,EAAI9yC,SAAS7R,GAC3E2kD,EAAIn/B,QAAQpuB,KAAK,CAAC0a,OAAAA,EAAQ9R,EAAAA,EAAGhH,EAAG0sD,EAAIT,QAAS,mBAE1C,GAAIQ,GAAgBvwC,GAAE,IAAMyvC,EAAIn/B,QAAQ,GAAGy/B,QAAU,eAEvD,GAAI,CAAC,UAAW,UAAW,UAAW,mBAAmBpK,SAAShpC,IAAaqD,GAAE,IAAM,CAE1F,MAAOywC,EAAID,GACI,YAAb7zC,EACI,CAAC,IAAK,KACO,YAAbA,EACA,CAAC,IAAK,KACO,YAAbA,EACA,CAAC,IAAK,KACN,CAAC,IAAK,KACZ8yC,EAAIn/B,QAAQ,GAAGxsB,EAAI2sD,EAEnB,MAAM7zC,EAASozC,GAAa1/B,GAAQlP,QAC9BtW,EAAI6kD,GAAY1+C,EAAQ,SAAUA,EAAOu8C,cAAeiC,EAAI9yC,SAAS7R,GAC3E2kD,EAAIn/B,QAAQpuB,KAAK,CAAC0a,OAAAA,EAAQ9R,EAAAA,EAAGhH,EAAG0sD,SAC3B,GAAI,CAAC,WAAY,cAAc7K,SAAShpC,IAAaqD,GAAE,IAAM,CAElE,MAAOywC,EAAID,EAAIE,EAAIC,GAAmB,aAAbh0C,EAA0B,CAAC,IAAK,IAAK,IAAK,KAAO,CAAC,IAAK,IAAK,IAAK,KAC1F8yC,EAAIn/B,QAAQ,GAAGxsB,EAAI2sD,EAEnB,MAAM7Q,EAAKoQ,GAAa1/B,GAAQlP,QAC1BivC,EAAKV,GAAY1+C,EAAQ,SAAU,GAAIw+C,EAAI9yC,SAAS7R,GAEpD8lD,EAAKZ,GAAa1/B,GAAQlP,QAC1BkvC,EAAKX,GAAY1+C,EAAQ,SAAU,GAAIw+C,EAAI9yC,SAAS7R,GAEpD+lD,EAAKb,GAAa1/B,GAAQlP,QAC1B0vC,EAAKnB,GAAY1+C,EAAQ,SAAU,GAAIw+C,EAAIC,IACjDD,EAAIn/B,QAAQpuB,KAAK,CAAC0a,OAAQgjC,EAAI90C,EAAGulD,EAAIvsD,EAAG0sD,GAAK,CAAC5zC,OAAQg0C,EAAI9lD,EAAGwlD,EAAIxsD,EAAG4sD,GAAK,CAAC9zC,OAAQi0C,EAAI/lD,EAAGgmD,EAAIhtD,EAAG6sD,SACvFJ,GAAgBzsD,EAAER,OAAS,IAAGmsD,EAAIn/B,QAAQ,GAAGy/B,QAAU,WAGpEN,EAAIn/B,QAAQvvB,SAAQoE,GAoBxB,SAAgC8L,EAAQ0L,EAAUxX,GAEhDA,EAAEG,MAAQH,EAAEG,MAAQ,GAAKyrD,GAAQ5rD,EAAErB,EAAGmN,EAAO08C,SAAUhxC,GAGvDxX,EAAErB,EAAI,IAAI,IAAIkB,IAAIG,EAAErB,IAAIoJ,KAAK,IAGzB8S,GAAE,MAASsQ,GAAQ1oB,KAAKzC,EAAEyX,SAAS6sB,WAAUtkC,EAAEskC,SAAW,GAC1DzpB,GAAE,MAASsQ,GAAQ1oB,KAAKzC,EAAEyX,SAAS8sB,WAAUvkC,EAAEukC,SAAW,GA7BnCsnB,CAAuB//C,EAAQ0L,EAAUxX,KAGpE,OAAOsqD,GAGIsB,GAAU,CAACjtD,EAAG8M,EAAI,KAAMtJ,EAAI,OAC7B,MAANxD,GAAoB,YAAN8M,GAAyB,SAANA,EAC3B,MAAN9M,EAAkB,IACZ,QAANA,GAAqB,QAANA,EAAoB,GAC7B,WAANA,GAAwB,OAANA,GAAoB,OAANA,GAChC,CAAC,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,IAAK,KAAM,MAAM6hD,SAAS7hD,GADX,GAEnD,CAAC,IAAK,IAAK,IAAK,IAAK,QAAQ6hD,SAAS7hD,IAAY,aAANwD,EAAyB,GACrExD,EAAER,OAAS,GAAW,IACtBQ,EAAER,OAAS,EAAU,GACrBQ,EAAER,OAAS,EAAU,GACrBQ,EAAER,OAAS,EAAU,GAClB,GAVoD,IAyB7D,SAAS0sD,GAAa7rD,GACpB,MAAM0L,EAAO4P,GAAGtb,GAChB,MAAgB,iBAAT0L,EAA0B,eAAiB4P,GAAG6Q,GAAQzgB,IAG/D,SAASohD,GAAgBhgD,EAAQigD,GAC/B,MAAMrhD,EAAOshD,GAAQlgD,EAAQigD,GAGvBE,EAAqB,IAFLngD,EAAOw8C,MAAM59C,WAG5BuhD,EAAmBF,GAG1B,OADoBzxC,GAAG2xC,GAAoB,GAMpC3xC,GAAG2xC,GAAoB,IAJ5B5tC,QAAQg/B,KAAK,QAAQ3yC,qEACdqhD,GAMX,SAASC,GAAQlgD,EAAQnG,GACvB,MAAMomD,EAAWG,GAAgBvmD,GACjC,GAAInK,OAAO4V,KAAKtF,EAAOw8C,MAAMlxC,QAAQopC,SAASuL,GAAW,MAAO,SAChE,GAAIvwD,OAAO4V,KAAKtF,EAAOw8C,MAAMjxC,SAASmpC,SAASuL,GAAW,MAAO,UACjE,GAAIvwD,OAAO4V,KAAKtF,EAAOw8C,MAAMhxC,QAAQkpC,SAASuL,GAAW,MAAO,SAChE,MAAM,IAAIjjD,MAAM,wBAAyBnD,GAgG3C,SAASumD,GAAgBH,GACvB,OAAOA,EAASvL,SAAS,KAAOuL,EAAStkD,MAAM,KAAK,GAAKskD,EAcpD,SAASvB,GAAY1+C,EAAQxK,EAAS6qD,EAAS,GAAIC,GACxD,IAAI1hD,EAAO4P,GAAGxO,EAAOw8C,MAAMhnD,IAE3B,GAAa,aAAToJ,EAAqB,CACvB,MAAM2hD,EAAc/xC,GAAGxO,EAAOw8C,MAAM59C,IACpCoB,EAAOs8C,YAAciE,EACrB,MAAMN,EAlHV,SAAuBjgD,EAAQugD,EAAa/qD,GAC1C,IAAIipD,EAAK,KACLW,EAAK,KAwET,GArEIrwC,GAAE,MAASwxC,EAAY7L,SAAS,QAAU6L,EAAY7L,SAAS,WACjE+J,EAAK,SACLW,EAAK,SACoB,WAAhBmB,EACLxxC,GAAE,KACJ0vC,EAAK,SACLW,EAAK,SACIrwC,GAAE,KACX0vC,EAAK,QACLW,EAAK,UACIrwC,GAAE,KACX0vC,EAAK,KACLW,EAAK,SACIrwC,GAAE,KACX0vC,EAAK,QACLW,EAAK,MACIrwC,GAAE,MACX0vC,EAAK,QACLW,EAAK,UAEEmB,EAAY7L,SAAS,eAAiC,UAAhB6L,EAC3CxxC,GAAE,KACJ0vC,EAAK,QACLW,EAAK,MACIrwC,GAAE,KACX0vC,EAAK,QACLW,EAAK,UACIrwC,GAAE,KACX0vC,EAAK,SACLW,EAAK,SACIrwC,GAAE,MACX0vC,EAAK,QACLW,EAAK,UAEErwC,GAAE,KAAwB,aAAhBwxC,GACnB9B,EAAK,QACLW,EAAK,MACoB,YAAhBmB,EACLxxC,GAAE,KACJ0vC,EAAK,QACLW,EAAK,UACIrwC,GAAE,KACX0vC,EAAK,SACLW,EAAK,SACIrwC,GAAE,MACX0vC,EAAK,KACLW,EAAK,SAEkB,WAAhBmB,GAA4C,aAAhBA,GAA8C,WAAhBA,EAC/DxxC,GAAE,MACJ0vC,EAAK,SACLW,EAAK,SACIrwC,GAAE,KACX0vC,EAAK,QACLW,EAAK,MACIrwC,GAAE,MACX0vC,EAAK,QACLW,EAAK,UAEkB,gBAAhBmB,EACLxxC,GAAE,KACJ0vC,EAAK,QACLW,EAAK,MACIrwC,GAAE,MACX0vC,EAAK,KACLW,EAAK,SAEkB,SAAhBmB,IAAwBA,GAAe,OAASxB,GAAa1/B,GAAQzT,QAE3E6yC,IAAOW,EAAI,CACd,MAAMoB,EAAiBzxC,GAAE,IACzB0vC,EAAsBjwC,GAAjBgyC,EAAoBxgD,EAAOw8C,MAAMlxC,OAAatL,EAAOw8C,MAAMjxC,SAChE6zC,EAAsB5wC,GAAjBgyC,EAAoBxgD,EAAOw8C,MAAMjxC,QAAcvL,EAAOw8C,MAAMlxC,QAInD,aAAZ9V,IACEwK,EAAOu8C,cAAc7H,SAAS+J,KAAKA,EAAKuB,GAAgBhgD,EAAQy+C,IAChEz+C,EAAOu8C,cAAc7H,SAAS0K,KAAKA,EAAKY,GAAgBhgD,EAAQo/C,KAGtEp/C,EAAOu8C,cAActrD,KAAKwtD,EAAIW,GAC9B,MAAM/qD,EAAOma,GAAGwqB,IAGhB,MAAO,GAAGunB,KAAe9B,KAAMW,IAFH,aAAT/qD,EAAsB,GAAK,IAAMA,IA0BjCosD,CAAczgD,EAAQugD,EAAa/qD,GACpD,OAAOyqD,EAIT,GAAIK,EAAK,CAGP1hD,EAA0B,WADHshD,GAAQlgD,EADJogD,GAAgBE,IAEN,UAAY,SAGnD,MAAMI,EAAgB1gD,EAAOw8C,MAAM59C,GAC7BuhD,EAAqBE,EAAOhuD,OA7BpC,SAA0BquD,EAAenE,GACvC,MAAMoE,EAAkB,IAAID,GAC5BnE,EAAczsD,SAAQ8wD,WACbD,EAAgBC,MAGzB,MAAMC,EAAcnxD,OAAO4V,KAAKq7C,GAAiBtuD,QAAU3C,OAAO8gB,OAAOmwC,GAAiBtuC,QAAO,CAACniB,EAAGC,IAAMD,EAAIC,GAAG,GAClH,OAAO0wD,EAAcF,EAAkBD,EAsBII,CAAiBJ,EAAeL,GAAUK,EACrF,IAAIT,EAAWzxC,GAAG2xC,GAAoB,GAItC,MAFgB,WAAZ3qD,GAAsBwK,EAAOu8C,cAActrD,KAAKgvD,GAE7CA,EEzWF,MAAMc,GAAY,CAAClsD,EAAQ+J,EAAMyE,IAAU,KAChD,GAAe,WAAXxO,EAAqB,CACbI,SAASsgD,eAAe,WAAWt8C,cAAc,KAAK2F,QAAWyE,QACxExL,aAAa,SAAU,wBACrB,GAAe,SAAXhD,EAAmB,CACZI,SAASsgD,eAAe,GAAG32C,KAAQyE,MAC1CjK,UAAU1E,IAAI,iBAIdssD,GAAW,CAACnsD,EAAQ+J,EAAMyE,IAAU,KAC/C,GAAe,WAAXxO,EAAqB,CACbI,SAASsgD,eAAe,WAAWt8C,cAAc,KAAK2F,QAAWyE,QACxE1L,gBAAgB,eACd,GAAe,SAAX9C,EAAmB,CACZI,SAASsgD,eAAe,GAAG32C,KAAQyE,MAC1CjK,UAAUk9C,OAAO,2QCRKllD,mBAAeA,+PAAhDwE,SACEhB,gBAEFgB,SACEhB,2CAJ+BxD,8BAAeA,yNAD7CA,6EAAAA,gTAHAwL,EAAYw+C,EAAOx+C,WAAa,0KCiBxBxL,0BAALiB,gLAFQjB,KAAOwL,WAAa,+CAAlChH,SACEhB,mFACSxD,aAALiB,+HAAAA,wBAFQjB,KAAOwL,WAAa,sNAKuFxL,KAAE,sEADvGA,KAAE,GAAG,eAAQA,KAAE,GAAG,2DAAwBA,KAAOijB,UAAUqgC,SAAStjD,KAAE,kDACtCA,KAAE,GAAG,cAAOA,KAAE,GAAG,8CAAkBA,KAAOijB,UAAUqgC,SAAStjD,KAAE,gBAFtGA,KAAE,oBAAW6vD,GAAS7vD,KAAE,+BAA/BwE,SACEhB,OACAA,kCADYxD,KAAE,GAAG,6BAAQA,KAAE,GAAG,mCAAwBA,KAAOijB,UAAUqgC,SAAStjD,KAAE,iBAC+BA,KAAE,2BAAvEA,KAAE,GAAG,4BAAOA,KAAE,GAAG,kCAAkBA,KAAOijB,UAAUqgC,SAAStjD,KAAE,iBAFtGA,KAAE,+BAAW6vD,GAAS7vD,KAAE,8EAJlCA,KAAOijB,kFAAPjjB,KAAOijB,mLAXH4sC,GAASpuD,qBACE6hD,SAAS7hD,GACd,uBACQ6hD,SAAS7hD,GACjB,WACF6hD,SAAS7hD,GACP,SACJ,mEAVAwe,0FAER6vC,EAASh4C,GAAgBmI,GAAU3hB,OAAO4zC,QAAQp6B,GAAgBmI,IAAW3hB,OAAO4zC,QAAQp6B,GAAgBhD,6FCFxG,SAASi7C,GACdnqD,EACA2U,EACA6yC,EACAtnD,EAAU,CAACkqD,MAAM,EAAMC,QAAQ,EAAMC,QAAQ,EAAMC,YAAQvvD,EAAWwvD,WAAOxvD,IAE7E,MAAM4qC,EAAK5lC,EAAMyqD,cACXC,EAAK1qD,EAAM1H,EACXqyD,EAAK3qD,EAAMoS,EAEXw4C,EAAUhlB,EAAGilB,QAAQ,OAAOC,YAAc,IAChD7sD,SAASkC,iBAAiB,WA0E1B,WACElC,SAASmC,oBAAoB,YAAagqD,GAC1CnsD,SAASmC,oBAAoB,YAAaiqD,GAC1CpsD,SAASmC,oBAAoB,YAAakqD,GAC1CrsD,SAAS8sD,KAAKtsD,MAAMusD,OAAS,OAEzB9qD,EAAQsqD,OAAOtqD,EAAQsqD,MAAM71C,GACjCqI,GAAQtf,IAAIuc,KAAKM,UAAUitC,MAjFsB,CAACyD,MAAM,IAE1D,MAAM3yD,EAACA,EAAI,EAAC8Z,EAAEA,EAAI,EAAC/U,KAAEA,EAAO,GAAKsX,EAC3Bu2C,EAAWt/C,EAAIkP,IACfqwC,EAAmBvlB,EAAG4Y,iBAAiB,OACvCnhC,EAAYnL,GAAgBtG,EAAIyO,MAAYnI,GAAgBhD,QAalE,SAASk7C,EAAKpqD,GACZ,MAAMorD,EAAK9yD,GAAK0H,EAAM1H,EAAIoyD,GAAME,EAC1BS,EAAKj5C,GAAKpS,EAAMoS,EAAIu4C,GAAMC,EAEhCj2C,EAAOrc,EAAIoY,GAAMvV,KAAKuV,MAAM06C,EAAKF,GAAYA,GAC7Cv2C,EAAOvC,EAAI1B,GAAMvV,KAAKuV,MAAM26C,EAAKH,GAAYA,GAC7CI,EAAkB1lB,EAAIjxB,GAElBzU,EAAQqqD,QAAQrqD,EAAQqqD,OAAOvqD,EAAO2U,GAG5C,SAAS01C,EAAOrqD,GACd,MAAMqrD,EAAKj5C,GAAKpS,EAAMoS,EAAIu4C,GAAMC,EAChCj2C,EAAOtX,KAAOqT,GAAMrT,EAAOguD,GAAM,KAE7B12C,EAAO9Y,EA6Bb,SAA6B8Y,GAC3B,MAAM42C,EAAiB,IAAI,IAAIxuD,IAAI4X,EAAO9Y,IAAIgJ,QAAOhJ,GAAKwhB,EAAUxhB,KACpE0vD,EAAezyD,SAAQ,CAAC+C,EAAGP,KACzB,MAAMkD,EAAU2sD,EAAiB7vD,GACjC,GAAIkD,EAAS,CACX,MAAMoH,EAAY4lD,GAAe72C,EAAQ9Y,EAAG+P,EAAIyO,KAC5CzU,EAAWpH,EAAQqC,aAAa,YAAa+E,GAC5CpH,EAAQmC,gBAAgB,iBAnC/B8qD,CAAoB92C,GAEpB22C,EAAkB1lB,EAAIjxB,GAI1B,SAAS21C,EAAOtqD,GACd,MAAM0rD,EAAKpzD,EAAI,IACTqzD,EAAKv5C,EAAI,IAETw5C,EAAK5rD,EAAM1H,EAAIsyD,EACfiB,EAAK7rD,EAAMoS,EAAIw4C,EAErB,IAAI1xD,EAAI,GAAqC,IAA/BiC,KAAK2wD,MAAMD,EAAKF,EAAIC,EAAKF,GAAavwD,KAAK4wD,GACrD7yD,EAAI,MAAKA,EAAKA,EAAI,IAAO,KACzBA,GAAK,MAAKA,EAAKA,EAAI,IAAO,KAE9Byb,EAAOq3C,MAAQ7wD,KAAKuV,MAAMxX,EAAIgyD,GAAYA,EAC1CI,EAAkB1lB,EAAIjxB,GAGxB,SAAS22C,EAAkB1lB,EAAIjxB,GAC7B,MAAMs3C,EAAKrmD,GAAU+O,GAEjBs3C,EAAIrmB,EAAG/kC,aAAa,YAAaorD,GAChCrmB,EAAGjlC,gBAAgB,aApDtBT,EAAQmqD,QAAUrqD,EAAMksD,UAC1BjuD,SAASkC,iBAAiB,YAAakqD,GACvCpsD,SAAS8sD,KAAKtsD,MAAMusD,OAAS,aACpB9qD,EAAQoqD,SAAWtqD,EAAM0kD,SAAW1kD,EAAMmsD,UACnDluD,SAASkC,iBAAiB,YAAamqD,GACvCrsD,SAAS8sD,KAAKtsD,MAAMusD,OAAS,aACpB9qD,EAAQkqD,OACjBnsD,SAASkC,iBAAiB,YAAaiqD,GACvCnsD,SAAS8sD,KAAKtsD,MAAMusD,OAAS,QAsEjC,SAASt6C,GAAMlO,GACb,OAAOrH,KAAKuV,MAAU,IAAJlO,GAAW,IAGxB,SAASoD,GAAU+O,GACxB,IAAIrc,EAACA,EAAI,EAAC8Z,EAAEA,EAAI,EAAC45C,MAAEA,EAAQ,EAAC3uD,KAAEA,EAAO,EAACxB,EAAEA,GAAK8Y,EACzC9Y,IAAGwB,EAAO,GAED,IAATA,IACF/E,EAAIoY,GAAMpY,EAAI,IAAa,IAAP+E,GACpB+U,EAAI1B,GAAM0B,EAAI,IAAa,IAAP/U,IAGtB,IAAIuI,EAAY,GAKhB,OAJItN,GAAK8Z,KAAGxM,GAAa,aAAatN,KAAK8Z,MACvC45C,IAAOpmD,GAAa,WAAWomD,KAAgB,IAAP3uD,KAAqB,IAAPA,MAC7C,IAATA,IAAYuI,GAAa,UAAUvI,MAEhCuI,EAAYA,EAAUwmD,OAAS,KAGjC,SAASZ,GAAe72C,EAAQ9Y,EAAGwe,GACxC,MAAMgD,EAAYnL,GAAgBmI,IAAWnI,GAAgBhD,QACvDm9C,EAAep6C,GAAWoI,IAAW,EAErChd,EAAOqT,IAAOiE,EAAOtX,MAAQ,GAAKgvD,GACxB13C,EAAO23C,QACvB,IAAIC,EAAK53C,EAAO6sB,UAAYnkC,EAAOA,EAC/BmvD,EAAK73C,EAAO8sB,UAAYpkC,EAAOA,EAC/BsX,EAAO23C,QAAU,EAAGC,EAAK77C,GAAM67C,GAAM,EAAI53C,EAAO23C,UAC3C33C,EAAO23C,QAAU,IAAGE,EAAK97C,GAAM87C,GAAM,EAAI73C,EAAO23C,WACzD,IAAKh0D,EAAG8Z,GAAKiL,EAAUxhB,GACvBvD,EAAIoY,GAAMpY,EAAI,KAAOi0D,EAAK,IAC1Bn6C,EAAI1B,GAAM0B,EAAI,KAAOo6C,EAAK,IAE1B,IAAI5mD,EAAY,GAIhB,OAHItN,GAAK8Z,KAAGxM,GAAa,aAAatN,KAAK8Z,MAChC,IAAPm6C,GAAmB,IAAPC,IAAU5mD,GAAc2mD,IAAOC,EAAK,UAAUD,KAAQ,UAAUA,KAAMC,MAE/E5mD,EAAYA,EAAUwmD,OAAS,KC3IjC,MAAM/rC,GAAQ,CACnBC,SAAU,2BACVE,UAAW,iBAAiB,2BAA2BisC,OAAO,WAC9DhsC,SAAU,mBAAmB,2BAA2BgsC,OAAO,aAC/D9rC,UAAW,uBAAuB,uBAAuB8rC,OAAO,gCAChElsC,KAAM,iBAAiB,wFAAwFksC,OAAO,UACtH7rC,OAAQ,qBAAqB,4BAA4B6rC,OAAO,mCAChE3rC,SAAU,0BAA0B,iBAAiB2rC,OAAO,kBAC5DzrC,SAAU,iBAAiB,gBAAgByrC,OAAO,mBAClDvrC,OAAQ,sCACRL,KAAM,iBAAiB,qCAAqC4rC,OAAO,yCAAyC,qCAAqCA,OAAO,yCAAyC,qCAAqCA,OAAO,UAC7O1rC,SAAU,iBAAiB,eAAe0rC,OAAO,WACjDxrC,SAAU,6CACVQ,KAAM,4EACNC,aAAc,2EACdM,QAAS,iBAAiB,+CAA+CyqC,OAAO,WAChFxqC,cAAe,qBAAqB,gCAAgCwqC,OAAO,oBAC3EvqC,gBAAiB,uBAAuB,+BAA+BuqC,OAAO,uBAC9E9qC,mBAAoB,iBAAiB,oCAAoC8qC,OAAO,WAChF7qC,iBAAkB,iBAAiB,4BAA4B6qC,OAAO,eACtE5qC,eAAgB,iBAAiB,4CAA4C4qC,OAAO,WACpF1qC,WAAY,iBAAiB,gCAAgC0qC,OAAO,WACpE3qC,mBAAoB,iBAAiB,mCAAmC2qC,OAAO,WAC/EtqC,OAAQ,0BAA0B,mMAAmMsqC,OAAO,mBAC5O/rC,QAAS,gBAAgB,2JAA2J+rC,OAAO,yIAC3LrqC,SAAU,oBAAoB,yLAAyLqqC,OAAO,cAC9NpqC,YAAa,2CAA2C,wHAAwHoqC,OAAO,8HACvLnqC,SAAU,sCAAsC,6DAA6DmqC,OAAO,6BACpHtrC,OAAQ,8CACRC,MAAO,8CACPC,QAAS,8CACTC,UAAW,+CACXC,OAAQ,yDACRC,eAAgB,mEAGLkrC,GAAY,CAEvB9tC,QAAS,iDACTJ,QAAS,iDACTO,QAAS,wCACTG,gBAAiB,0CACjBG,WAAY,4CACZI,mBAAoB,wCACpBN,SAAU,+FACVY,QAAS,iEACTH,WAAY,8CACZ4C,oBAAqB,oFACrBC,oBAAqB,oFACrBC,QAAS,6FACTC,oBAAqB,sHACrBC,oBAAqB,sHACrBC,gBAAiB,wKACjBC,UAAW,oIAEX6pC,aAAc5f,GAAQ,YAAYA,iBAClC6f,aAAc7f,GAAQ,YAAYA,iDAClC8f,aAAc9f,GAAQ,YAAYA,8EAClC+f,qBAAsB/f,GAAQ,YAAYA,+EAC1CggB,gBAAiBhgB,GAAQ,YAAYA,0FAA6FA,kEAClIigB,wBAAyBjgB,GAAQ,YAAYA,kFAAqFA,uFAClIkgB,cAAelgB,GAAQ,YAAYA,gEAAmEA,2DACtGmgB,aAAcngB,GAAQ,YAAYA,8FAAiGA,wEAEnI7pB,KAAM,+CACND,KAAM,+CACNE,KAAM,4DACNC,aAAc,4DACdC,MAAO,kCACPC,IAAK,iDACLC,QAAS,4FACTC,aAAc,sIACdC,mBAAoB,yOACpBC,QAAS,4DACTC,gBAAiB,4DACjBC,QAAS,gDACTC,MAAO,sGACPC,YAAa,yTACbC,QAAS,4HACTC,cAAe,yTACfG,MAAO,0CACPC,MAAO,sDACPC,UAAW,yDACXC,KAAM,iEACNI,KAAM,4FACNC,aAAc,iGACdC,QAAS,iEACTC,gBAAiB,8DACjBN,MAAO,wCACPC,QAAS,mCACTC,OAAQ,iCACRK,KAAM,yCACNC,WAAY,oDACZC,mBAAoB,gDACpBC,MAAO,8EACPC,aAAc,6EACdC,MAAO,uIAEPgoC,UAAWpgB,GAAQ,YAAYA,6CAAgDA,iHAC/EqgB,UAAWrgB,GAAQ,YAAYA,iEAAoEA,iHACnGsgB,UAAWtgB,GAAQ,YAAYA,6EAAgFA,6LAC/GugB,kBAAmBvgB,GAAQ,YAAYA,gFAAmFA,6LAC1HwgB,WAAYxgB,GAAQ,YAAYA,2GAChCygB,SAAUzgB,GAAQ,YAAYA,+CAAkDA,yHAChF0gB,aAAc1gB,GAAQ,YAAYA,+CAAkDA,+DACpF2gB,kBAAmB3gB,GAAQ,YAAYA,wDAA2DA,8GAClG4gB,wBAAyB5gB,GAAQ,qJAAqJA,wDAA2DA,kEACjP6gB,aAAc7gB,GAAQ,YAAYA,6EAAgFA,6LAClH8gB,qBAAsB9gB,GAAQ,YAAYA,gFAAmFA,6LAC7H+gB,aAAc/gB,GAAQ,YAAYA,8FAClCghB,WAAYhhB,GAAQ,YAAYA,+CAAkDA,mEAAsEA,mEAAsEA,2DAC9NihB,iBAAkBjhB,GAAQ,YAAYA,6CAAgDA,iEAAoEA,iEAAoEA,yDAC9NkhB,aAAclhB,GAAQ,YAAYA,6EAAgFA,+EAAkFA,gFAAmFA,qEACvRmhB,mBAAoBnhB,GAAQ,YAAYA,6EAAgFA,+EAAkFA,gFAAmFA,sEAGlRt4B,GAAW,CACtBG,KAAM,CAAC/Y,EAAG67C,EAAIC,EAAIt6C,EAAM8wD,IAAa,gBAAgBtyD,aAAoB,GAAPwB,cAA6B,GAAPA,6GAAqHq6C,8BAA+BC,kDAAmDwW,kDAAyDA,+CAAsDA,qBAC9Yr5C,KAAM,CAACjZ,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,2HAAmIq6C,mGAAoGC,uDAAwDA,6GAA8GD,kDAC3d3iC,YAAa,CAAClZ,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,2HAAmIs6C,kJAAmJD,iBAC3W1iC,WAAY,CAACnZ,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,2FAAmGq6C,qFAAsFC,iDAC7Q1iC,aAAc,CAACpZ,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,2FAAmGs6C,qFAAsFD,uDAAwDA,+BAAgCA,sFAAuFC,iBAC9bziC,WAAY,CAACrZ,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,+FAAuGq6C,mBAAoBC,gQAC/MxiC,OAAQ,CAACtZ,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,6GAAqHq6C,kEAAmEC,qEAAsEA,uDAAwDD,4DACtYtiC,cAAe,CAACvZ,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,6GAAqHq6C,0EAA2EC,2DACvRtiC,aAAc,CAACxZ,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,KAAPA,gHAA0Hq6C,qEAAsEC,wFACtRriC,eAAgB,CAACzZ,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,6GAAqHq6C,oGAAqGC,iBAClT9iC,OAAQ,CAAChZ,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,gEAAwEs6C,2CAA4CD,8BAA+BC,k/DACnOpiC,OAAQ,CAAC1Z,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,8DAAsEs6C,uEAAwED,wDAAyDA,iBACvRliC,QAAS,CAAC3Z,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,2FAAmGq6C,qDAAsDC,iBAC1OliC,OAAQ,CAAC5Z,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,6FAAqGs6C,sDAAuDD,iBAC5OhiC,MAAO,CAAC7Z,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,IAAPwB,cAA8B,GAAPA,6FAAqGs6C,uDAAwDD,uDAAwDA,iBACrS/hC,MAAO,CAAC9Z,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,IAAPA,6FAAsGs6C,uDAAwDD,uDAAwDA,iBACrS9hC,SAAU,CAAC/Z,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,2FAAmGq6C,gDAAiDC,iDAAkDA,iBACxR9hC,MAAO,CAACha,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,IAAPwB,cAA8B,IAAPA,+FAAwGq6C,uDAAwDC,uDAAwDA,iBACxS7hC,cAAe,CAACja,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,IAAPwB,cAA8B,IAAPA,+FAAwGs6C,mDAAoDD,2DAA4DA,iBAChT3hC,UAAW,CAACla,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,OAAPwB,cAAiC,MAAPA,2GAAsHs6C,gBAAiBD,6SAC9N1hC,WAAY,CAACna,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,MAAPwB,cAAgC,OAAPA,+FAA2Gs6C,gBAAiBD,ySACnNzhC,WAAY,CAACpa,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,+FAAuGq6C,6CAA8CC,YAAaD,iEAAkEC,YAAaD,+DAAgEC,YAAaD,mCAClZxhC,YAAa,CAACra,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,8HAAsIq6C,kDAAmDC,6CAA8CA,2CAA4CD,iBACxWvhC,MAAO,CAACta,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,6GAAqHq6C,2HAA4HC,8GAA+GA,uGAAwGA,iBACvhBvhC,SAAU,CAACva,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,+GAAuHs6C,iCAAkCD,gJAAiJC,qUAAsUD,2lBAClsBrhC,QAAS,CAACxa,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,2GAAmHq6C,6CAA8CC,uEAAwEA,kCAC1TrhC,OAAQ,CAACza,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,8HAAsIq6C,mEAAoEC,sDAAuDA,kFACjVphC,SAAU,CAAC1a,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,GAAPwB,cAA6B,GAAPA,8HAAsIq6C,0DAA2DC,yCAA0CA,6CAA8CA,2CAA4CA,2CAA4CA,iBACncnhC,OAAQ,CAAC3a,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,KAAPwB,cAA+B,KAAPA,4IAAsJq6C,iEAAkEC,sDAAuDA,yDAA0DA,0DAA2DA,iBACtdlhC,MAAO,CAAC5a,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,KAAPwB,cAA+B,KAAPA,uGAAiHq6C,kDAAmDC,24DACrPjhC,YAAa,CAAC7a,EAAG67C,EAAIC,EAAIt6C,IAAS,gBAAgBxB,aAAoB,KAAPwB,cAA+B,OAAPA,6FAAyGq6C,yGAA0GC,+CC9ItSyW,GAAenwD,SAASsgD,eAAe,WACvC8P,GAAaziD,EAAI0O,IACjBg0C,GAAgB,GAChBC,GAAgB3iD,EAAI+P,IAEb6yC,GAAc,CAAClU,EAAIvN,KAC9B,MAAM0hB,EAAUnU,EAAK,QACrB,IAAKvN,GAAiB,aAATA,IAAwB2f,GAAU+B,GAAU,OAAO/B,GAAUpS,GAC1E,MAAMoU,EAAWruC,GAAM0sB,GACvB,OAAO2f,GAAU+B,GAASC,IAGf7O,GAAa8O,IACxB,IAAKA,EAAW,OAAOpzC,QAAQC,MAAM,gBACrC,MAAMozC,EAAO3wD,SAASsgD,eAAeoQ,IAE9B9d,EAAS4W,EAAIW,EAAI/qD,GAAQsxD,EAAUhqD,MAAM,KAC1CgQ,IA2BS,QAAQu0B,KADX2lB,EA1BQF,IA6BbE,EAAO1nB,MAAM,kBAAkB,GAHxC,IAAc0nB,EAzBRl6C,GAAQgzC,GAAUhzC,GAEtB,MAAMlS,EAAOgS,GAASE,EAAS,OAASk8B,GAAS8d,EAAWG,GAAIrH,GAAKqH,GAAI1G,GAiG3E,SAAoB/qD,GAClB,MAAa,UAATA,EAAyB,GAChB,YAATA,EAA2B,GAClB,aAATA,EAA4B,IACnB,QAATA,EAAuB,IACd,WAATA,EAA0B,EACvB,EAvGuE0xD,CAAW1xD,GAAOsX,GAC5Fi6C,GAAMjP,YAAcl9C,IACxBmsD,GAAMtP,SACNrhD,SAASsgD,eAAe,YAAYkB,mBAAmB,YAAah9C,KAGtE,SAASusD,GAAaH,GAChBA,GAAQnR,SAAS,MAAMmC,GAAWgP,GAsBjC,SAASlH,GAAUhzC,GACA,iBAAxBA,EAAO/Z,MAAM,EAAG,IAGlB,SAAyB+Z,GACvB,MAAMs6C,EAAat6C,EAAOtZ,OAAS,GAAKsZ,EAAO/Z,MAAM,GAAI,IAAIsd,cAAgBvD,EAAO/Z,MAAM,IAAMgR,EAAIyO,IAC9FigC,EAAK3lC,EAAOtZ,OAAS,GAAKsZ,EAAS,eAAiBs6C,EAAWC,OAAO,GAAG92C,cAAgB62C,EAAWr0D,MAAM,GAEhH,GAAI0zD,GAAchU,GAAK,OACvBgU,GAAchU,IAAM,EAEpB,MAAM6U,EAAe,CAAC,SAAU,SAAU,aAAc,YAAa,UAAW,YAAYzR,SAASuR,GACjG,kGACA,4EACE98C,EAAI,SAASmoC,KAAM6U,sDAAiEr9C,GAAYm9C,YACtGb,GAAa3O,mBAAmB,YAAattC,GAdJi9C,CAAgBz6C,GAAU06C,GAAY16C,GAiBjF,SAAS06C,GAAY16C,GACnB,IAAI25C,GAAc35C,GAGlB,GAFA25C,GAAc35C,IAAU,EAEpB45C,GAAc55C,GAAlB,CACE,MAAM/M,KAACA,EAAIjI,KAAEA,EAAI2vD,QAAEA,GAAWf,GAAc55C,GAC5Cy5C,GAAa3O,mBAAmB,YAAa6P,QAI/C/2C,MAAM,WAAa5D,EAAS,QACzBhO,MAAK4oD,IACJ,GAAIA,EAAIC,GAAI,OAAOD,EAAI7vD,OAClB,MAAM,IAAIsG,MAAM,uBAAuB2O,QAE7ChO,MAAKjH,IACJ,MAAMkmC,EAAK3nC,SAASsB,cAAc,QAClCqmC,EAAG9iC,UAAYpD,EACf,MAAMyS,EAAIyzB,EAAG3jC,cAAc,KACrBwtD,EAAW7pB,EAAGwZ,qBAAqB,YAAY,GAErD,GAAIqQ,EAAU,CACZ,MAAMC,EAASD,EAAS7uD,aAAa,UAC/B0iC,EAASmsB,EAAS7uD,aAAa,UAC/Bub,EAAUszC,EAAS7uD,aAAa,WAClC8uD,GAAQv9C,EAAEtR,aAAa,SAAU6uD,GACjCpsB,GAAQnxB,EAAEtR,aAAa,SAAUyiC,GACjCnnB,GAAShK,EAAEtR,aAAa,UAAWsb,GAGzCiyC,GAAa3O,mBAAmB,YAAattC,EAAEwtC,cAEhDgQ,OAAMr0C,GAAOC,QAAQC,MAAMF,EAAIG,WAG7B,SAASm0C,GAAaj7C,GAC3B1W,SAASsgD,eAAe5pC,IAAS2qC,gBAC1BgP,GAAc35C,GAGhB,SAASk7C,GAAal7C,GAC3Bi7C,GAAaj7C,GACb06C,GAAY16C,GAGd,SAASm6C,GAAI7F,GACX,IAAKoF,GAAWpF,GAAW,MAAM,IAAIjjD,MAAM,YAAYijD,kBACvD,OAAOoF,GAAWpF,GAYpB,SAASv4C,GAAMu1B,EAAQ6pB,EAAY,GACjC,OAAO30D,KAAKuV,MAAMu1B,EAAS,IAAI6pB,GAAa,IAAIA,EAG3C,SAASC,GAAYlB,GAE1B,IAAI1nB,EAAQ0nB,EAAO1nB,MAAM,+EACzB,GAAIA,EAAO,CACT,MAAM3tB,EAAS2tB,EAAMl5B,OAAO,GAAGrB,KAAItU,GAAKqzC,OAAOrzC,KAC/C,MAAO,CACLsP,KAAM,OACNsiD,OAAQ,CACN,CAAC79C,MAAO,EAAG/T,EAAGkhB,EAAO,GAAIpH,EAAGoH,EAAO,IACnC,CAACnN,MAAO,EAAG/T,EAAGkhB,EAAO,GAAIpH,EAAGoH,EAAO,MAOzC,GADA2tB,EAAQ0nB,EAAO1nB,MAAM,mHACjBA,EAAO,CACT,MAAM3tB,EAAS2tB,EAAMl5B,OAAO,GAAGrB,KAAItU,GAAKqzC,OAAOrzC,KAC/C,MAAO,CACLsP,KAAM,QACNsiD,OAAQ,CACN,CAAC79C,MAAO,EAAG/T,EAAGkhB,EAAO,GAAIpH,EAAGoH,EAAO,IACnC,CAACnN,MAAO,EAAG/T,EAAGkhB,EAAO,GAAIpH,EAAGoH,EAAO,IACnC,CAACnN,MAAO,EAAG/T,EAAGkhB,EAAO,GAAIpH,EAAGoH,EAAO,MAMzC,MAAO,CACL5R,KAAM,UAIH,SAASooD,GAAUpoD,EAAMsiD,GAC9B,MAAa,SAATtiD,EACK,IAAI8I,GAAMw5C,EAAO,GAAG5xD,MAAMoY,GAAMw5C,EAAO,GAAG93C,OAAO1B,GAAMw5C,EAAO,GAAG5xD,MAAMoY,GAAMw5C,EAAO,GAAG93C,KACnF,UAATxK,EACK,IAAI8I,GAAMw5C,EAAO,GAAG5xD,MAAMoY,GAAMw5C,EAAO,GAAG93C,OAAO1B,GAAMw5C,EAAO,GAAG5xD,MAAMoY,GAAMw5C,EAAO,GAAG93C,MAAM1B,GAAMw5C,EAAO,GAAG5xD,MAAMoY,GAAMw5C,EAAO,GAAG93C,KACrI,4BC3IKo8C,GAAYp0D,KAASsrD,SAAUtrD,KAAS2yC,qCAAlDnuC,2CAAU4vD,GAAYp0D,KAASsrD,SAAUtrD,KAAS2yC,+FAHzC3yC,sCAAgCA,sFAAzCwE,8BAASxE,wBAAgCA,0EAFhCA,sCAAgCA,yCAAzCwE,8BAASxE,wBAAgCA,uEADhB,YAAtBA,KAASsrD,YAEkB,SAAtBtrD,KAASsrD,mHAVR9/C,GAAUxL,kBACfA,4CAEQA,cANhBwE,4CAOgBxE,qCACU,SAATA,KAAkB2vD,GAAU,OAAQ,WAAY3vD,MAAK,QAA5C,SAATA,KAAkB2vD,GAAU,OAAQ,WAAY3vD,MAAK,8DAC5C,SAATA,KAAkB4vD,GAAS,OAAQ,WAAY5vD,MAAK,QAA3C,SAATA,KAAkB4vD,GAAS,OAAQ,WAAY5vD,MAAK,iJANxDwL,GAAUxL,2CACfA,wDAEQA,qEAlBV61D,EAAQ1qD,OAFDiiD,EAAG9B,SAAEA,EAAQpqD,EAAEA,EAAC40D,WAAEA,EAAUrtD,EAAEA,EAAC+E,KAAEA,+NAI1CqoD,EAASvK,EAASuK,QAAU,YAC5B1qD,EAAQmgD,EAASlJ,aAAe,6BAGjBx8C,GACF,SAAT4H,GACJuiD,GAAKnqD,EAAO0lD,EAAU8B,oPCiCHptD,wBAAsBoxD,GAAepxD,KAAQA,MAAUA,eAA1EwE,mCAAmBxE,yCAAsBoxD,GAAepxD,KAAQA,MAAUA,0EADrEA,0BAALiB,yIATMjB,iBACFA,wBACKwL,GAAUxL,sBACbA,KAAO61D,QAAU,0BAIJ71D,MAAMA,uBAAiBA,MAAMA,qBAAeA,KAAO61D,QAAU,2BAAwB71D,KAAiB,OAAS,iBAVtIwE,2EAOgBxE,sCACU,SAATA,KAAkB2vD,GAAU,OAAQ,SAAU3vD,MAAK,QAA1C,SAATA,KAAkB2vD,GAAU,OAAQ,SAAU3vD,MAAK,8DAC1C,SAATA,KAAkB4vD,GAAS,OAAQ,SAAU5vD,MAAK,QAAzC,SAATA,KAAkB4vD,GAAS,OAAQ,SAAU5vD,MAAK,0EAG1DA,aAALiB,+HAAAA,8CATMjB,sBACFA,kBACKwL,GAAUxL,uCACbA,KAAO61D,QAAU,iDAIJ71D,MAAMA,6BAAiBA,MAAMA,0BAAeA,KAAO61D,QAAU,iCAAwB71D,KAAiB,OAAS,sGA/BlI+zD,EACA5C,EACA4E,OAVO3I,aACA7yC,QACArZ,QACAuH,SACAulD,SACAC,qBACA+H,GAAiB,WACjBxoD,qRAIRuoD,EAAY3I,EAAIntC,QAAUg2C,yBAEnBhzC,EAAYnL,GAAgBi+C,IAAcj+C,GAAgBhD,YAChEq8C,UAAyBxuD,IAAI4X,EAAO9Y,IAAIgJ,QAAOhJ,GAAKwhB,EAAUxhB,2BAG9DsyD,EAAWx5C,EAAOA,QAED,iBAAbw5C,OACAA,EAAW,eAAiBgC,EAAUjB,OAAO,GAAG92C,cAAgB+3C,EAAUv1D,MAAM,oCAEvEoF,GACA,SAAT4H,GAEJuiD,GAAKnqD,EAAO2U,EAAQ6yC,yRCsCmDptD,iEAA/CA,MAAQ,EAAI,GAAK,IAAOA,KAAMiB,OAAS,kBAAzDuD,qCAAiExE,gCAA/CA,MAAQ,EAAI,GAAK,IAAOA,KAAMiB,OAAS,kEAOpDjB,KAAS8vD,gCAAd7uD,qIADJuD,uFACSxE,KAAS8vD,mBAAd7uD,+HAAAA,6OAC8BjB,MAAM9B,MAAI8B,MAAMgY,0DzCyVxD,IAA0B5Z,EyCzVhBoG,gCzCyVgBpG,eyCzVuE4B,KAAaA,SAAbA,KAAaA,8BzC0VnG,SAAU4F,GAGb,OAFAA,EAAMswD,kBAEC93D,EAAG+H,KAAKC,KAAMR,kDyC7VW5F,MAAM9B,MAAI8B,MAAMgY,2GATzChY,0BAALiB,qCAMDjB,wIArBKA,gFAA8CA,KAAa,QAAU,kBAAWA,KAAYm2D,uBAclFn2D,kFAXFA,KAAYo2D,sBACtBp2D,KAAYq2D,2BACLr2D,KAAYqmD,wBACbrmD,KAAYiD,+BACXjD,KAAYs2D,KAAO,OAAS,6BAC7Bt2D,KAAYu2D,OAAS,SAAW,0DAErCv2D,KAAYw2D,uBACCx2D,KAAYw2D,OAAOt4D,OAAO8B,KAAYw2D,OAAOx+C,OAAOhY,KAAYw2D,OAAOC,UAAUz2D,KAAYw2D,OAAOH,QACpH,gKArBV7xD,SACEhB,OAQEA,OAEAA,OAYEA,wFAlBYxD,qCACU,SAATA,KAAkB2vD,GAAU,OAAQ,cAAe3vD,MAAK,QAA/C,SAATA,KAAkB2vD,GAAU,OAAQ,cAAe3vD,MAAK,8DAC/C,SAATA,KAAkB4vD,GAAS,OAAQ,cAAe5vD,MAAK,QAA9C,SAATA,KAAkB4vD,GAAS,OAAQ,cAAe5vD,MAAK,qEAE5DA,mBAA8CA,KAAa,QAAU,qCAAWA,KAAYm2D,oCAe3Fn2D,aAALiB,+HAAAA,uBADcjB,iCAXFA,KAAYo2D,8CACtBp2D,KAAYq2D,kCACLr2D,KAAYqmD,wCACbrmD,KAAYiD,2CACXjD,KAAYs2D,KAAO,OAAS,4CAC7Bt2D,KAAYu2D,OAAS,SAAW,2CAErCv2D,KAAYw2D,uBACCx2D,KAAYw2D,OAAOt4D,OAAO8B,KAAYw2D,OAAOx+C,OAAOhY,KAAYw2D,OAAOC,UAAUz2D,KAAYw2D,OAAOH,QACpH,sBASDr2D,6PAnEEotD,kBACAsJ,aACAC,QACAz1D,WACAsM,KACPopD,EAAWjB,GAAYe,EAAYP,4MACpCU,EAAa7M,EAAO5nC,eAAiBlhB,qBACrC+kB,EAAQywC,EAAYpxD,KAAKiF,MAAM,sBACN3E,IACX,SAAT4H,GAEiB,UAAjBopD,EAASppD,YAEbw8C,EAAO5nC,aAAelhB,UACtB8oD,EAAO3nC,gBAAkB,KACzB0tC,GAAKnqD,GAAS1H,EAAG,EAAG8Z,EAAG,GAAKo1C,GAAO4C,MAAM,EAAMC,QAAQ,EAAOC,QAAQ,EAAOE,eAC9DhsD,GACXwyD,EAAS9G,OAAOpxD,SAAQ+C,IACpBA,EAAEvD,GAAKkG,EAAQlG,EACfuD,EAAEuW,GAAK5T,EAAQ4T,SAEnB0+C,EAAYP,KAAOP,GAAUgB,EAASppD,KAAMopD,EAAS9G,gBAGvC9lC,GAAWpkB,IAChB,SAAT4H,SAEJw8C,EAAO5nC,aAAelhB,UACtB8oD,EAAO3nC,eAAiB2H,EAAM/X,SAC9B89C,GAAKnqD,EAAOokB,EAAOojC,GAAO4C,MAAM,EAAMC,QAAQ,EAAOC,QAAQ,EAAOC,gBACpDvqD,EAAOxB,OACnBwyD,EAAS9G,OAAO1rD,EAAQ6N,OAAS7N,SACjCsyD,EAAYP,KAAOP,GAAUgB,EAASppD,KAAMopD,EAAS9G,yuCCuCnC,UAAnB9vD,MAAO82D,SAA0C,WAAnB92D,MAAO82D,sFACV92D,KAAIA,MAAOyI,MAAQzI,KAAIA,MAAOguD,OAAShuD,KAAIA,MAAOiuD,qHAAlDjuD,KAAIA,MAAOyI,mBAAQzI,KAAIA,MAAOguD,oBAAShuD,KAAIA,MAAOiuD,gMAD1D,UAAnBjuD,MAAO82D,SAA0C,WAAnB92D,MAAO82D,4GAMlB,UAAnB92D,MAAO82D,SAAuB92D,MAAOsnC,qFACVtnC,KAAIA,MAAOyI,MAAQzI,KAAIA,MAAOguD,OAAShuD,KAAIA,MAAOiuD,oBAAqB,mHAAvEjuD,KAAIA,MAAOyI,mBAAQzI,KAAIA,MAAOguD,oBAAShuD,KAAIA,MAAOiuD,gMAD1D,UAAnBjuD,MAAO82D,SAAuB92D,MAAOsnC,oLAeWtnC,KAAIA,MAASyI,kJAAbzI,KAAIA,MAASyI,wNAFbzI,KAAIA,MAASyI,kJAAbzI,KAAIA,MAASyI,qMADpC,UAArBzI,MAAS0tD,UAEiB,YAArB1tD,MAAS0tD,iVAMmD1tD,+CAAtEwE,yCAAsExE,wHAOtCA,KAAIA,MAASyI,oHAAbzI,KAAIA,MAASyI,sMAFbzI,KAAIA,MAAOyI,MAAQzI,KAAIA,MAAOguD,OAAShuD,KAAIA,MAAOiuD,qHAAlDjuD,KAAIA,MAAOyI,mBAAQzI,KAAIA,MAAOguD,oBAAShuD,KAAIA,MAAOiuD,sMAD1D,UAAnBjuD,MAAO0tD,UAEiB,YAAnB1tD,MAAO0tD,sQASe1tD,KAAIA,MAASyI,6BAA2B,yGAAxCzI,KAAIA,MAASyI,sMAFbzI,KAAIA,MAAOyI,MAAQzI,KAAIA,MAAOguD,OAAShuD,KAAIA,MAAOiuD,oBAAqB,mHAAvEjuD,KAAIA,MAAOyI,mBAAQzI,KAAIA,MAAOguD,oBAAShuD,KAAIA,MAAOiuD,sMAD1D,UAAnBjuD,MAAO0tD,SAAuB1tD,MAAOsnC,UAEb,YAAnBtnC,MAAO0tD,SAAyB1tD,MAAOsnC,wRASAtnC,KAAIA,MAASyI,kJAAbzI,KAAIA,MAASyI,wNAFbzI,KAAIA,MAASyI,kJAAbzI,KAAIA,MAASyI,qMADpC,UAArBzI,MAAS0tD,UAEiB,YAArB1tD,MAAS0tD,wRAagC1tD,KAAIA,KAAIqtD,mJAARrtD,KAAIA,KAAIqtD,yNAFRrtD,KAAIA,MAASyI,kJAAbzI,KAAIA,MAASyI,qMADpC,aAArBzI,MAAS0tD,UAEiB,YAArB1tD,MAAS0tD,iVAYL1tD,+CANdwE,yCAMcxE,wHASkBA,KAAIA,KAAIqtD,qHAARrtD,KAAIA,KAAIqtD,uMAFRrtD,KAAIA,MAAOyI,MAAQzI,KAAIA,MAAOguD,OAAShuD,KAAIA,MAAOiuD,qHAAlDjuD,KAAIA,MAAOyI,mBAAQzI,KAAIA,MAAOguD,oBAAShuD,KAAIA,MAAOiuD,sMAD1D,aAAnBjuD,MAAO0tD,UAEiB,YAAnB1tD,MAAO0tD,sQASe1tD,KAAIA,KAAIqtD,oBAAqB,mHAA7BrtD,KAAIA,KAAIqtD,uMAFRrtD,KAAIA,MAAOyI,MAAQzI,KAAIA,MAAOguD,OAAShuD,KAAIA,MAAOiuD,oBAAqB,mHAAvEjuD,KAAIA,MAAOyI,mBAAQzI,KAAIA,MAAOguD,oBAAShuD,KAAIA,MAAOiuD,sMAD1D,aAAnBjuD,MAAO0tD,SAA0B1tD,MAAOsnC,UAEhB,YAAnBtnC,MAAO0tD,SAAyB1tD,MAAOsnC,wRASAtnC,KAAIA,KAAIqtD,mJAARrtD,KAAIA,KAAIqtD,yNAFRrtD,KAAIA,MAASyI,kJAAbzI,KAAIA,MAASyI,qMADpC,aAArBzI,MAAS0tD,UAEiB,YAArB1tD,MAAS0tD,iNASjB1tD,MAAS0tD,uGACkC1tD,KAAIA,MAASyI,kJAAbzI,KAAIA,MAASyI,+LADxDzI,MAAS0tD,6OAMuD1tD,+CAAtEwE,yCAAsExE,mEAIhEA,MAAO82D,WAAa92D,MAAO0tD,UAAY1tD,oFACbA,KAAIA,MAAOyI,MAAQzI,KAAIA,MAAOguD,OAAShuD,KAAIA,MAAOiuD,qHAAlDjuD,KAAIA,MAAOyI,mBAAQzI,KAAIA,MAAOguD,oBAAShuD,KAAIA,MAAOiuD,gMAD5EjuD,MAAO82D,SAAa92D,MAAO0tD,SAAY1tD,2GAMvCA,MAAO82D,WAAa92D,MAAO0tD,UAAY1tD,QAAaA,MAAOsnC,qFACjCtnC,KAAIA,MAAOyI,MAAQzI,KAAIA,MAAOguD,OAAShuD,KAAIA,MAAOiuD,oBAAqB,mHAAvEjuD,KAAIA,MAAOyI,mBAAQzI,KAAIA,MAAOguD,oBAAShuD,KAAIA,MAAOiuD,gMAD5EjuD,MAAO82D,SAAa92D,MAAO0tD,SAAY1tD,QAAaA,MAAOsnC,6GAM3DtnC,MAAS0tD,uGACkC1tD,KAAIA,MAASyI,kJAAbzI,KAAIA,MAASyI,+LADxDzI,MAAS0tD,4GAgBO,UAAnB1tD,MAAO82D,qFACoB92D,KAAIA,MAAOyI,MAAQzI,KAAIA,MAAOguD,OAAShuD,KAAIA,MAAOiuD,qHAAlDjuD,KAAIA,MAAOyI,mBAAQzI,KAAIA,MAAOguD,oBAAShuD,KAAIA,MAAOiuD,gMAD1D,UAAnBjuD,MAAO82D,6GAMY,UAAnB92D,MAAO82D,SAAuB92D,MAAOsnC,SAA8B,WAAnBtnC,MAAO82D,sFAC5B92D,KAAIA,MAAOyI,MAAQzI,KAAIA,MAAOguD,OAAShuD,KAAIA,MAAOiuD,oBAAqB,mHAAvEjuD,KAAIA,MAAOyI,mBAAQzI,KAAIA,MAAOguD,oBAAShuD,KAAIA,MAAOiuD,iMAD1D,UAAnBjuD,MAAO82D,SAAuB92D,MAAOsnC,SAA8B,WAAnBtnC,MAAO82D,4LAMF92D,SAAKA,+RAlL1DA,OAAkC,OAAtBA,MAASsa,gCAEf85C,GAAYp0D,MAASsa,SAAUta,MAAS2yC,2DADzB3yC,cAAxBwE,iDAqBGxE,2BAALiB,+EAMKjB,2BAALiB,+EAUKjB,OAAkC,OAAtBA,MAASsa,sDAEjBta,2BAALiB,+EAQkB,UAAfjB,cAIEA,2BAALiB,+EAQKjB,2BAALiB,+EAQKjB,2BAALiB,+EAYOjB,2BAALiB,+EAQkB,aAAfjB,cAYEA,2BAALiB,+EAQKjB,2BAALiB,+EAQKjB,2BAALiB,iiBAtC+CjB,KAAIA,MAASyI,+DADlBzI,kOAA9CwE,SACEhB,qQAtCKxD,cAALiB,kIAAAA,oCAQkB,UAAfjB,8FAIEA,cAALiB,kIAAAA,2DAQKjB,cAALiB,kIAAAA,4DAQKjB,cAALiB,kIAAAA,yDAUiDjB,KAAIA,MAASyI,2CAEvDzI,cAALiB,uHAAAA,oCAQkB,aAAfjB,mFAYEA,cAALiB,uHAAAA,2DAQKjB,cAALiB,uHAAAA,4DAQKjB,cAALiB,0HAAAA,+DA5EFA,qCAYAA,qCAQAA,qCAQAA,qCAYEA,qCAoBAA,qCAQAA,qCAQAA,+mBAWCjB,2BAALiB,+EAMkB,YAAfjB,cAIEA,2BAALiB,+EAMKjB,2BAALiB,+EAMKjB,4BAALiB,oFAgBGjB,6BAALiB,qFAMKjB,6BAALiB,qFAMKjB,6BAALiB,2JA3KO,+rBARIjB,yBADWA,yGAuCyCA,KAAIA,KAAIqtD,oCAF9CrtD,sCA4HtBA,iBACGA,mBACEA,yBACMA,2CArKhBwE,SACEhB,OACEA,sBAQFA,yHA4BFgB,SAEEhB,+PAwHFgB,mNA9JaxE,MAENA,OAAkC,OAAtBA,MAASsa,0CAsBrBta,cAALiB,kIAAAA,2DAMKjB,cAALiB,kIAAAA,yDAQ+DjB,KAAIA,KAAIqtD,qBAElErtD,OAAkC,OAAtBA,MAASsa,0CAyFnBta,cAALiB,uHAAAA,oCAMkB,YAAfjB,mFAIEA,cAALiB,uHAAAA,2DAMKjB,cAALiB,uHAAAA,4DAMKjB,cAALiB,iIAAAA,8DASCjB,gCACGA,iCACEA,uCACMA,8BAITA,eAALiB,2IAAAA,8DAMKjB,eAALiB,2IAAAA,8DAMKjB,eAALiB,2IAAAA,iEA3JAA,qCAMAA,2CAmGEA,qCAUAA,qCAMAA,qCAMAA,uCAgBFA,uCAMAA,uCAMAA,y4BAhOSmsD,aACA/sC,kBACAC,WACA9S,WACL0yC,EAAKkN,EAAI3B,MAAQ1qD,KAAKmc,MAAsB,IAAhBnc,KAAKoc,oBAC/B7C,EAAQqO,WAAEA,aAAiBsF,kBAAc8oC,MAAsB3J,EACjE4J,EAAoBruC,EAAWle,QAAO8D,IAAMA,EAAE0oD,QAC9CC,EAAyBvuC,EAAWle,QAAO8D,GAAKA,EAAE0oD,eACxDhpC,EAAQvvB,WAAW6b,OAAAA,KAAagzC,GAAUhzC,qLACvCu7C,EAAap+C,GAAY01C,EAAIntC,QAAUg2C,8BACvCkB,EAAqB,aAAT3pD,EAAsB,KAAO4/C,EAAIrtC,QAAUq3C,yBACvDC,WAiBoBF,OACdA,GAA2B,OAAdA,SACP,WACLn0D,GAAKoqD,EAAIC,GAAG/J,SAAS,KACrBr+C,GAAKqV,GAAU7R,EAAE66C,SAAS,YAC5BtgD,GAAKiC,EACE,UACPjC,EACO,QACPiC,EACO,WACJ,KA5BKqyD,CAAcH,6BAC3BI,EAAYC,GAAmB,OAAVA,UAAkCA,KAAjB,iCAEtC9C,EAAO7F,GACDA,EAED4I,EAAQ5I,GACD4I,EAAQ5I,GACfA,EAASvL,SAAS,MAClBmC,GAAWoJ,GAMR,QAAUA,EAAW,MAHxB1tC,QAAQg/B,iBAAiB0O,kCAClB,WARA,6NCYS7uD,iBAAsBA,UAAoBA,cAC3DA,wEAEgBA,KAAIigB,QAAUjgB,qHAAdA,KAAIigB,QAAUjgB,yNAb3BA,wSADVwE,iGAWwBxE,4BAAsBA,mBAAoBA,gBAC3DA,sCAXGA,sUAlBCotD,QACAlsD,YACAiK,EAAQ,kBACRC,EAAS,gBACdssD,EAAe,SAANx2D,gKAUZy2D,WATiB13C,EAAQ23C,SAClBC,EAAMjgD,GAAUqI,IAAWtI,IAC1B24C,EAAIC,EAAIuH,EAAIC,GAAMF,EAAIttD,MAAM,KAC7Bu0C,EAAI/9C,KAAKuV,MzCPS,EyCOFwhD,EAAqBF,GACrCtvD,EAAIvH,KAAKuV,MzCRS,EyCQFyhD,EAAqBH,YACjCtH,EAAKxR,EAAI,EAAI,OACbyR,EAAKjoD,EAAI,EAAI,OACHw2C,KAAKx2C,IAEhB0vD,CAAW5K,EAAIntC,QAAUg2C,EAAS7I,EAAIwK,MzCbvB,gN0CDW,qGAAzB53D,8FAFdwE,SACEhB,6BACAA,6IANWy0D,GAAU,WACf/X,EAAK,SAAWn/C,KAAKmc,MAAM,IAAMnc,KAAKoc,iLCC9C,MAAM+6C,GAAY1mD,EAAI/I,IACT0vD,GAAW/zD,IACpB,IAAKA,EAAQg0D,QAAQD,QACjB,OAEJ,MAAME,EAAmB,iBAAkBl2D,OACrCm2D,EAAMz0D,SAASsB,cAAc,OACnC,IAAIozD,EACJ,MAAMC,EAAUp0D,EAAQg0D,QAAQI,QAC1BC,EAASr0D,EAAQg0D,QAAQK,OAkB/B,SAASC,I1C9BU,IAACtgB,EAAU14C,EAAV04C,E0C+BR,W1C/BkB14C,E0C+BN8rC,GAAMA,EAAG0Z,S1C9BjCv8C,MAAMC,KAAK/E,SAASugD,iBAAiBhM,IAAW15C,SAAQ0F,IACpD1E,EAAS0E,M0CkCb,OAHAA,EAAQu0D,GAAG,cApBX,WACID,IACA,IAAIpzD,EAAOlB,EAAQg0D,QAAQD,QACvBE,GAAoBG,IACpBlzD,EAAO,GAAGA,MAAS4yD,GAAU,uBAAuBM,MACnDH,GAAoBI,IACrBnzD,EAAO,GAAGA,MAAS4yD,GAAU,sBAAsBO,KACvDH,EAAIM,YAActzD,EAClBgzD,EAAIO,UAAY,UAChBh1D,SAAS8sD,KAAKhtD,YAAY20D,GAC1B,MAAMQ,EAAOR,EAAIjtD,wBACjBktD,EAAQ,CAACp2D,OAAOmiD,WAAawU,EAAK3tD,MAAOhJ,OAAO42D,YAAcD,EAAK1tD,WAUvEhH,EAAQu0D,GAAG,aARX,SAAmB/yD,GACf0yD,EAAIj0D,MAAMiH,KAAO,GAAGvK,KAAKw4C,IAAI3zC,EAAMozD,MAAQ,GAAIT,EAAM,QACrDD,EAAIj0D,MAAMkH,IAAM,GAAGxK,KAAKw4C,IAAI3zC,EAAMqzD,MAAQ,GAAIV,EAAM,WAOxDn0D,EAAQu0D,GAAG,aAAcD,GAClB,CACHz2D,UACIy2D,kDC9BsB14D,KAAG,yEACbA,iBAAAA,mGADoC,2EADxCA,KAAG,iCAAvBwE,SACEhB,yGAAgCxD,KAAG,uEACbA,gDAFJA,KAAG,4MAHZi3D,sEAKaA,8KCAmB,sIADet/C,uBAAkC3X,cAA5FwE,yIAA4FxE,mIAJjFotD,UACA8L,wSCyEmBl5D,mBAAiBA,uDAA5BA,+BAAfwE,wCAA0BxE,mBAAiBA,oOAeuCA,KAAG,2DADnFwE,SACEhB,OACEA,mFAD4ExD,KAAG,iLAJ1DA,KAAOA,MAAIua,iBAE/Bva,KAAUA,MAAIua,2IAHeva,OAAWA,MAAIua,oDADnD/V,SACEhB,+IACyBxD,KAAOA,MAAIua,2CADFva,OAAWA,MAAIua,QAG5Cva,KAAUA,MAAIua,+NAhBQva,KAAG,wBAOPA,KAAG,qCALvBA,0BAALiB,qCASKjB,gBAAoBA,sBAAzBiB,4FAXmD,2FAON,0HAP3BjB,4CACFA,6CAA0BA,mDAMxB,gDACqBA,mCAR3CwE,gCACAA,wDAAoBxE,eAMpBwE,gCACAA,aAAmBxE,eAEnBwE,gGAT+DxE,iEAD9BA,KAAG,sDAAdA,4BAEbA,aAALiB,+HAAAA,qBADgBjB,6BAA0BA,4BAMjBA,KAAG,+CACbA,UAAAA,8BAAwBA,oBAGlCA,iFAALiB,gVAlEAk4D,EACAC,UAdO7+C,WACA/M,eACA6rD,SACAhM,SACAW,SACAC,SACAQ,WACAxrD,EAAO,kBACPmkC,EAAW,kBACXC,EAAW,kBACX/sB,GAAW,aACX2F,KACPq5C,WAGEC,EAAaj7D,OAAO4V,KAAK+Z,GAAQ7Z,OACjColD,EAAaD,EAAW/mD,KAAI6mD,GAAY/6D,OAAO4V,KAAK+Z,GAAQorC,MAAYI,gBAKrE5sD,UACC6sD,EAAap7D,OAAO4V,KAAK+Z,GAAQorC,QACvCC,EAAcI,EAAWlnD,KAAI+H,KAAaA,OAAAA,EAAQ0F,OAAAA,EAAQotC,GAAIC,EAAY/yC,GAAS0T,QAAS0rC,EAAUp/C,iBAejG+yC,EAAY/yC,SACJ,SAAT/M,aACkB+M,KAAU8yC,KAAMW,KAAM/qD,IACrCoqD,WAEFsM,EAAUp/C,SACF,SAAT/M,OAEM+M,OAAAA,EAAQ9R,EAAGulD,EAAIA,GAAIC,EAAIA,GAAIQ,EAAIhtD,EAAG,IAAKwB,KAAM,IAAKmkC,SAAAA,EAAUC,SAAAA,aAYjEuyB,EAAer/C,UACb0T,GAAQ1oB,KAAKgV,UACb0T,GAAQ4rC,EAAUt/C,GAAQ8+C,UAAU9+C,GAC3C1N,WACOgtD,EAAUt/C,GACjBmF,aAAao6C,QAAQ,WAAYj6C,KAAKM,UAAU05C,IAChDrE,GAAaj7C,oZA/Cdw/C,EAAuBP,EAAWhnD,KAAI+H,GAAUy/C,aAAcz/C,8BAE9D1N,8BAMoBssD,MACdA,GAASA,IAAUC,GACpBvsD,IACJusD,EAAWD,GACNA,eAECc,MAAY1pB,OAAO4oB,EAAMtV,WAAW,IAAK,IAAK,KAC9CqW,EAAUV,EAAW/uD,SAAQ0vD,EAASloD,IAAUgoD,EAAMnrB,KAAKirB,EAAqB9nD,UACtFqnD,EAAcY,EAAQ1nD,KAAI+H,KAAaA,OAAAA,EAAQ0F,OAAAA,EAAQotC,GAAIC,EAAY/yC,GAAS0T,QAAS0rC,EAAUp/C,QAbpG6/C,CAAcjB,oCAgBbA,EAAQ,cAgBI5+C,SACN8/C,IALe3qD,EAAOxI,WACtBozD,EAAiBC,IAAcC,KAAW9qD,KAASxI,UAClDozD,EAAiBN,KAAMtqD,KAASxI,KAASA,GAG7BuzD,CAAgB,UAAWlgD,SACjC,SAAT/M,KACUwsD,EAAG,oBAAoBK,OAC3BL,EAAG,wBAAwBK,oCAarBhB,oCAODF,4BAK6D5+C,EAAS6yC,EAAI7yC,WAKjDq/C,EAAexM,EAAI7yC,yNC5DtDva,MAAKA,KAAaA,KAAIA,KAAIA,KAAI,MAK9BA,KAAI,EAAIA,KAAIiB,QAAUjB,KAAaA,KAAIA,KAAIA,KAAI,qIAL/CA,MAAKA,KAAaA,KAAIA,KAAIA,KAAI,iFAK9BA,KAAI,EAAIA,KAAIiB,QAAUjB,KAAaA,KAAIA,KAAIA,KAAI,+NAJXA,KAAG,yDAA1CwE,SACEhB,0BADaxD,oDAAwBA,KAAG,iLAKJA,KAAG,wDAAzCwE,SACEhB,0BADaxD,oDAAuBA,KAAG,+GAPxCA,KAAIiB,OAAS,gJAHkBjB,KAAG,8FAeFA,KAAG,oFAhB1CwE,SACEhB,OACEA,oCAcFA,OACEA,0BAhBaxD,qCAeAA,sDAfqBA,KAAG,wCAGlCA,KAAIiB,OAAS,qEAYmBjB,KAAG,2IAzC/B05C,SACAlO,QACAtqC,oGACK0E,IACZA,EAAMswD,sBACNxc,EAAMA,EAAIjvC,SAAQtC,EAAGC,IAAMA,IAAMlH,MAEtB0E,IACXA,EAAMswD,wBACAwE,EAAc76C,KAAKC,MAAMD,KAAKM,UAAUqrB,QAC9CkO,MAAUA,EAAKghB,KAEF90D,IACbA,EAAMswD,uBACLxc,EAAIx4C,GAAIw4C,EAAIx4C,EAAI,KAAOw4C,EAAIx4C,EAAI,GAAIw4C,EAAIx4C,QAE1B0E,IACdA,EAAMswD,uBACLxc,EAAIx4C,GAAIw4C,EAAIx4C,EAAI,KAAOw4C,EAAIx4C,EAAI,GAAIw4C,EAAIx4C,SAEtBpC,EAAGC,IACd8gB,KAAKM,UAAUrhB,KAAO+gB,KAAKM,UAAUphB,6GCZnBiB,KAAG,0GAA5BwE,oCAAyBxE,KAAG,oGANzBA,KAAG,uBAEUA,KAAG,0BACEA,KAAG,2BACAA,KAAG,+BACvBA,8CALoB,oNACRA,qCADpBwE,gCACAA,SACEhB,cACAA,cACAA,iCAHkBxD,2DADbA,KAAG,0CAEUA,KAAG,6CACEA,KAAG,8CACAA,KAAG,qCACvBA,wEAJYA,2HALT0tD,aACAzrC,GAAS,yGAIAyrC,uOCgBS1tD,KAAOA,MAAIsa,SAASA,yGADXta,OAAaA,MAAIsa,SAASA,+BAA5D9V,kEAAgFxE,KAAaA,MAAIsa,SAASA,YAA1Bta,KAAaA,MAAIsa,SAASA,+FACjFta,KAAOA,MAAIsa,SAASA,yCADXta,OAAaA,MAAIsa,SAASA,oJADvDta,gBAAsBA,sBAA3BiB,kJADJuD,4EACSxE,iFAALiB,8LAjBOqZ,SACA+yC,SACAW,WACArb,aACA1yB,WACL06C,GAAgB,MAAMxxB,OAAO7qC,OAAO4V,KAAKiQ,GAAUgE,0MACtDyyC,EAAgBD,EAAanoD,KAAI8H,KAAe+yC,GAAAA,EAAIptC,OAAAA,EAAQ3F,UAAYA,SAAAA,EAAU7R,EAAGulD,EAAIrb,KAAAA,cAC5Er4B,UACNugD,EAAeb,eAAgB1/C,cAC3B0/C,EAAG,uBAAuBa,KAElBC,YAClBxgD,EAAWwgD,8KCPJ96D,KAAG,oBAMHA,KAAG,2EANe,4EAMA,gEAPPA,KAAG,wKAMHA,KAAG,mDAPzBwE,SACEhB,OACEA,4BACAA,WAA+BxD,eAGnCwE,SACEhB,OACEA,4BACAA,WAA8DxD,oHAPvDA,KAAG,0CACqBA,UAAAA,kBAFbA,KAAG,uDAOdA,KAAG,6CACoDA,UAAAA,kBAF5CA,KAAG,kJAXdkF,WACA0yD,+FAMwB1yD,gCAM+B0yD,4LCCT53D,qDAApCA,0CAA2BA,eAA1CwE,oCAAmDxE,8BAApCA,+DAA2BA,qMARvCA,KAAG,kCAKHA,KAAG,kCAeHA,KAAG,kCAKHA,KAAG,kCAKHA,KAAG,oCAKHA,KAAG,qCAKHA,KAAG,mCAjCD1B,OAAO4V,KAAKlU,6BAAjBiB,kGAmBkBjB,KAAYs2D,kBAAZt2D,KAAYs2D,uFAKZt2D,KAAYu2D,oBAAZv2D,KAAYu2D,0GA/BI,kEAKA,oJAeA,kEAKA,2EAKE,8EAKC,yEAKF,+FAzCrBv2D,KAAG,6GAO+BA,KAAG,uCAAnCA,KAAYqmD,6GAM0BrmD,KAAG,kMAO3CA,KAAG,+UAeHA,KAAG,uKAKHA,KAAG,qEAxCvBwE,SACEhB,4BACAA,WAA+BxD,KAAYsF,eAG7Cd,SACEhB,4BACAA,wDAAoBxD,KAAYqmD,aAMhC7iD,OACEA,OACEA,gBAKNgB,SACEhB,4BACAA,WAAmDxD,KAAYiD,eAGjEuB,SACEhB,kDAIFgB,UACEhB,6DAIFgB,UACEhB,oCACAA,cAA8DxD,KAAYo2D,mBAG5E5xD,UACEhB,oCACAA,cAAgCxD,KAAYq2D,qSAzCrCr2D,KAAG,wDACqBA,KAAYsF,UAAZtF,KAAYsF,wBAFzBtF,KAAG,2EAMdA,KAAG,2DAED1B,OAAO4V,KAAKlU,eAAjBiB,yIAAAA,yBADgDjB,KAAG,+DAAnCA,KAAYqmD,wBAM0BrmD,KAAG,8EAQtDA,KAAG,2DACyCA,KAAYiD,UAAZjD,KAAYiD,wBAF7CjD,KAAG,2EAMdA,KAAG,6EACYA,KAAYs2D,oDAI3Bt2D,KAAG,kFACYA,KAAYu2D,wDAI3Bv2D,KAAG,gEACoDA,KAAYo2D,cAAZp2D,KAAYo2D,6BAFxDp2D,KAAG,gFAMdA,KAAG,qDACsBA,KAAYq2D,2BAF1Br2D,KAAG,8aA3CZ02D,qFAKsBA,EAAYpxD,mCAKvBoxD,EAAYrQ,8BAMP2D,EAAO5pC,MAAQ,gBASWs2C,EAAYzzD,sDAKzCyzD,EAAYJ,UAAZI,EAAYJ,2CAKZI,EAAYH,YAAZG,EAAYH,6BAK4BG,EAAYN,yCAK1CM,EAAYL,oJC1CZr2D,KAAG,oEACbA,iBAAAA,mGAD+B,2EADnCA,KAAG,4BAAvBwE,SACEhB,yGAAgCxD,KAAG,kEACbA,gDAFJA,KAAG,yMAHZsnC,0EAKaA,+OCeKtnC,KAAOA,sGADEA,OAASA,4BAA3CwE,kEAA8DxE,KAAaA,SAAbA,KAAaA,4FAClDA,KAAOA,sCADEA,OAASA,sIAH9CA,KAAG,mCAEKA,gBAA+BA,sBAApCiB,gFAFe,sGACnBuD,qFADCxE,KAAG,oCAEKA,iFAALiB,0MAlBO0xC,eACAr4B,EAAW,kBACXgxC,EAAW,YACX+B,SACAW,aACA/tC,WACL86C,EAAWz8D,OAAO4V,KAAK+R,qOAC1B+0C,EAAY1gD,EACTygD,EAASvoD,KAAImgC,KAAWya,KAAOC,GAAAA,EAAIptC,OAAAA,EAAQ3F,UAAYA,SAAAA,EAAU7R,EAAGulD,EAAIrb,KAAAA,IAAUsoB,QAAStoB,MAC3FooB,EAASvoD,KAAImgC,KAAWya,KAAOC,GAAAA,EAAIptC,OAAAA,EAAQ0I,aAAe2iC,SAAAA,EAAU7iD,EAAGulD,EAAIrb,KAAAA,KAAWsoB,QAAStoB,eACrFA,MAAYqnB,EAAG,mBAAmBA,WAAYrnB,OACxCsoB,YAClBtoB,EAAOsoB,4RCOkBj7D,KAAOA,sGADEA,OAAaA,4BAA/CwE,kEAAuExE,KAAaA,SAAbA,KAAaA,4FAC3DA,KAAOA,sCADEA,OAAaA,iJAD1CA,gBAA+BA,sBAApCiB,kJADJuD,4EACSxE,iFAALiB,8LAjBOqqD,WACA3Y,SACA0a,SACAW,aACA/tC,WACLi7C,EAAiB58D,OAAO4V,KAAKyU,GAAWC,OAAOugB,OAAO7qC,OAAO4V,KAAKyU,GAAWzC,0MAChFs9B,EAAO0X,EAAe1oD,KAAI84C,KAAe8B,KAAOC,GAAAA,EAAIptC,OAAAA,EAAQ0I,aAAe2iC,SAAAA,EAAU3Y,KAAAA,EAAMlqC,EAAGulD,KAASmN,aAAc7P,aACxGA,UACN6P,EAAenB,gBAAiB1O,cAC5B0O,EAAG,uBAAuBmB,KAElBC,YAClB9P,EAAW8P,4ICAap7D,KAAG,uGAA3BwE,oCAAwBxE,KAAG,sGANGA,KAAG,6BAEfA,KAAG,0BACEA,KAAG,2BACHA,KAAG,2BACrBiuB,GAAQ1oB,KAAKvF,OAASsnC,6DAL8B,0OACvCtnC,kDAFFA,KAAG,kCAAvBwE,SACEhB,4BACAA,OACEA,cACAA,cACAA,iCAHkBxD,gFADYA,KAAG,gDAEfA,KAAG,6CACEA,KAAG,8CACHA,KAAG,kCACrBiuB,GAAQ1oB,KAAKvF,OAASsnC,2EAJTtnC,kBAFFA,KAAG,sJAJZua,cACAu8C,yGAKWA,mLC+DQ92D,0CAA1BwE,6DAA0BxE,eAAAA,kGAMnBA,KAAG,qBAEYA,KAAG,gCACJA,KAAG,kCACHA,KAAG,gCACC,UAAlBA,KAASwN,0DALU,wUAalBxN,gBACCA,KAAS8vD,QAAgB,GAAT9vD,KAAa,EAAIA,MAAM9B,kGAOxC8B,gBACCA,KAAS8vD,QAAgB,GAAT9vD,KAAa,EAAIA,MAAMgY,oDAvB9BhY,KAAG,uDAAvBwE,SACEhB,4BACAA,OACEA,cACAA,cACAA,iCAHaxD,KAAKsoC,mBAQpB9kC,cAQAA,2HAjBOxD,KAAG,yCAEYA,KAAG,oDACJA,KAAG,sDACHA,KAAG,uCACC,UAAlBA,KAASwN,2EAJDxN,KAAKsoC,iBAALtoC,KAAKsoC,6BAYZtoC,mBACCA,KAAS8vD,QAAgB,GAAT9vD,KAAa,EAAIA,MAAM9B,iCAOxC8B,mBACCA,KAAS8vD,QAAgB,GAAT9vD,KAAa,EAAIA,MAAMgY,6BAvB9BhY,KAAG,qGAOEA,KAAG,0GAAtBwE,qCAAmBxE,KAAG,gJAnBrBA,KAAG,iCAEcA,KAAG,iCACFA,KAAG,kCACFA,KAAG,mCAsCtBA,KAAG,oBApCa,WAAlBA,KAASwN,cAKO,WAAlBxN,KAASwN,8DAoCUxN,kBAAAA,qGA/CgB,+JA0Cb,0NA3CPA,KAAG,8LA0CHA,KAAG,mEAKHA,KAAG,6BA/CvBwE,SACEhB,4BACAA,OACEA,cACAA,cACAA,kBAHaxD,KAASwN,0DAwC1BhJ,SACEhB,4BACAA,WAAkDxD,eAGpDwE,+CA7C2CxE,sHADlCA,KAAG,2DAEcA,KAAG,2DACFA,KAAG,4DACFA,KAAG,2DAHdA,KAASwN,YAATxN,KAASwN,MAKD,WAAlBxN,KAASwN,iFAPIxN,KAAG,sDAYA,WAAlBA,KAASwN,0FA+BLxN,KAAG,8CACwCA,UAAAA,wBAFhCA,KAAG,8EAMCA,iDADJA,KAAG,sUA1GnB42D,EACAyE,EACAC,QAHOnF,cAyCFoF,EAAYvnD,OACJ,GAATsnD,OACc16D,IAAVoT,EAAI9V,OACJ04D,EAAS9G,OAAOwL,GAAMp9D,EAAI8V,EAAI9V,UACpB0C,IAAVoT,EAAIgE,OACJ4+C,EAAS9G,OAAOwL,GAAMtjD,EAAIhE,EAAIgE,gBAG5Bg5C,OAAepwD,IAAVoT,EAAI9V,EAAkB,EAAI8V,EAAI9V,EAAI04D,EAAS9G,OAAO,GAAG5xD,EAC1D+yD,OAAerwD,IAAVoT,EAAIgE,EAAkB,EAAIhE,EAAIgE,EAAI4+C,EAAS9G,OAAO,GAAG93C,EAChE4+C,EAAS9G,OAAOpxD,kBAAkB+C,GAC9BA,EAAEvD,GAAK8yD,EACPvvD,EAAEuW,GAAKi5C,SAGfkF,EAAOP,GAAUgB,EAASppD,KAAMopD,EAAS9G,2FAjDzC8G,EAAWjB,GAAYQ,IACvBkF,EAAWzE,EAASppD,qBAHJw8C,EAAO3nC,mBAMvBi5C,EAAOtR,EAAO3nC,iBACI,SAAbg5C,GAAgC,IAATC,QAAwB16D,IAAT06D,QACvCA,GAAQ,6BAEQnzD,UACpByuD,EAASppD,KAAOrF,EAAE1E,OAAOnE,SACJ,QAAjBs3D,EAASppD,OACQ,UAAb6tD,GACa,IAATC,QACAtR,EAAO3nC,gBAAkB,SAC7B8zC,EAAOP,GAAU,OAAQgB,EAAS9G,UAEhB,WAAbuL,OACLlF,EAAO,iBAGO,UAAlBS,EAASppD,QACQ,SAAb6tD,SACM55D,EAAIm1D,EAAS9G,WACnBqG,EAAOP,GAAU,SACbn0D,EAAE,GACFA,EAAE,IACAvD,EAAG6C,KAAKmc,OAAOzb,EAAE,GAAGvD,EAAIuD,EAAE,GAAGvD,GAAK,GAAI8Z,EAAGjX,KAAKmc,OAAOzb,EAAE,GAAGuW,EAAIvW,EAAE,GAAGuW,GAAK,WAG5D,WAAbqjD,OACLlF,EAAO,yBA+B0BhuD,OAAMguD,EAAOhuD,EAAE1E,OAAOnE,OAOpB6I,QAAM6hD,EAAO3nC,eAAiB8/B,SAASh6C,EAAE1E,OAAOnE,UAc9E6I,GAAKozD,GAAar9D,EAAGiK,EAAE1E,OAAOnE,QAQ9B6I,GAAKozD,GAAavjD,EAAG7P,EAAE1E,OAAOnE,mBAOKk8D,uCAI5BC,yTCrFcz7D,OAAYA,KAAIy2C,iBAAlDjyC,kEAAqExE,KAAaA,KAAIy2C,WAAjBz2C,KAAaA,KAAIy2C,iIAApDz2C,OAAYA,KAAIy2C,wIAHrDz2C,KAAG,uBAEKA,0BAALiB,+FAFkB,sGACtBuD,wFADCxE,KAAG,gDAEKA,aAALiB,0HAAAA,+DAAAA,mMAvBOw1C,SACA4W,SACAW,WACA/qD,UACAmqD,WACL/yC,EAAW/b,OAAO4V,KAAK8F,GAAkBK,UAAU5P,QAAOgsC,GAAuB,SAAZA,IAE3E5yC,SAASsgD,eAAe,YAAYz7C,UAAY,GrBuBzC,SAA2B0kD,GAChCwH,GAAaxH,EAAIC,IACjBuH,GAAaxH,EAAI9yC,UAAU7R,GAC3B,IAAK,IAAI8F,KAAK6+C,EAAIzkC,YAAc,GAC9BisC,GAAarmD,EAAE9F,GAEjB,IAAK,IAAI3F,KAAKsqD,EAAIn/B,SAAW,GAC3B2mC,GAAa9xD,EAAE2F,GACfmsD,GAAa9xD,EAAEkrD,IACf4G,GAAa9xD,EAAEmrD,IqB/BnByN,CAAkBtO,0LACfuO,EAAethD,EAAS7H,KAAIikC,QACvBoY,KAAcpY,KAAW4W,KAAMW,IACtB,aAAT/qD,IACA4rD,OAAgB5rD,WACdi2D,EAAMc,cAAevjB,YAClB2W,KAAO3W,QAAAA,EAASx2B,OAAQmtC,EAAIntC,OAAQotC,GAAIwB,GAAYqK,IAAAA,iBAE3C0C,YAClBnlB,EAAUmlB,iMCIkB57D,qDAAXA,gCAAfwE,iHAJHxE,KAAG,yBAU4BA,KAAG,wBAKHA,KAAG,wBAZ1BgjB,wBAAL/hB,6FAQkBjB,KAAOonC,qBAAPpnC,KAAOonC,wFAKPpnC,KAAOqnC,qBAAPrnC,KAAOqnC,2FAhBL,wHAU8B,sEAKA,gGAblCrnC,KAAOyB,+CAHTzB,KAAG,iGAUHA,KAAG,6HAKHA,KAAG,0DAfvBwE,uBAEEhB,WAAmBxD,KAAOyB,UAC1B+B,sDAAoBxD,KAAOyB,YAO7B+C,SACEhB,kDAIFgB,SACEhB,mFAduCxD,kBAAyBA,iBAAwBA,sCAC/CA,kBAA0BA,iBAAwBA,qGAF1FA,KAAG,+CACeA,KAAOyB,OAAPzB,KAAOyB,oBAEjBuhB,WAAL/hB,+HAAAA,gBADgBjB,KAAOyB,oBAHTzB,KAAG,gEAWWA,KAAG,mEACbA,KAAOonC,oDAFXpnC,KAAG,+DAMWA,KAAG,mEACbA,KAAOqnC,oDAFXrnC,KAAG,uTA7BZua,cACFshD,SACL7R,EAAOx+C,oBAAsB+O,EAAOq3C,OAAS,gBAAgBr3C,EAAOrc,GAAK,MAAMqc,EAAOvC,GAAK,aAC3FgyC,EAAO/mC,UAAY1I,EAAO9Y,8EAG1BuoD,EAAO/mC,UAAY,iBAGnB44C,QACAthD,EAAOtX,KAAOyrD,GAAQn0C,EAAO9Y,kBAMZ8Y,EAAO9Y,gCACN8Y,EAAO9Y,6CASL8Y,EAAO6sB,cAAP7sB,EAAO6sB,+CAKP7sB,EAAO8sB,cAAP9sB,EAAO8sB,yNC3BSrnC,KAAG,qFAD3CwE,SACEhB,OACEA,0BADaxD,sDAAuBA,KAAG,wIARhCN,uEACMyI,GACbA,EAAE+tD,kBACFx2D,qKCiBOM,KAAG,qBAMHA,KAAG,iCAKHA,KAAG,8EAXgB,oFAMY,iEAKC,uPAZrBA,KAAG,qLAMHA,KAAG,uKAKHA,KAAG,2EAXvBwE,SACEhB,4BACAA,WAAsDxD,KAAO9B,UAC7DsF,WAAsDxD,KAAOgY,YAG/DxT,SACEhB,4BACAA,WAAkDxD,KAAOy2D,eAG3DjyD,SACEhB,4BACAA,WAAgCxD,KAAOq2D,gLAZhCr2D,KAAG,8CAC4CA,KAAO9B,OAAP8B,KAAO9B,qBACP8B,KAAOgY,OAAPhY,KAAOgY,eAH3ChY,KAAG,qDAOdA,KAAG,0DACwCA,KAAOy2D,UAAPz2D,KAAOy2D,kBAFvCz2D,KAAG,uEAMdA,KAAG,kDACsBA,KAAOq2D,mBAFrBr2D,KAAG,qKAhBhBA,KAAG,yEACYA,iBAAAA,iEAGnBA,0DAJqC,qGADtBA,KAAG,sEAAvBwE,SACEhB,uIAAOxD,KAAG,8EACYA,gDAFJA,KAAG,wDAKlBA,6PAjBMw2D,KACPsF,IAAetF,oFAEXsF,IAAetF,MACfA,GAAWt4D,EAAG,EAAG8Z,EAAG,EAAGy+C,KAAM,EAAGJ,MAAO,YAEjCyF,OACNtF,EAAS,2BAOOsF,uBAMkCtF,EAAOt4D,0CACPs4D,EAAOx+C,0CAKXw+C,EAAOC,6CAKzBD,EAAOH,uPCWjBr2D,qBAAmBA,uDAA1BA,+BAAfwE,oCAAsBxE,qBAAmBA,4IAUhBA,KAAOA,MAAIigB,uGADFjgB,OAAWA,MAAIigB,6BAAjDzb,qHACyBxE,KAAOA,MAAIigB,wCADFjgB,OAAWA,MAAIigB,+JAZxBjgB,KAAG,wBAOHA,KAAG,qCALvByX,wBAALxW,qCASKjB,gBAAoBA,sBAAzBiB,4FAX+C,2FAOF,2HAP3B,yCACFjB,4CAAsBA,mDAMpB,gDACqBA,mCAR3CwE,gCACAA,wDAAoBxE,eAMpBwE,gCACAA,aAAmBxE,eAEnBwE,+FAT2DxE,8DAD9BA,KAAG,gDAEvByX,WAALxW,+HAAAA,gBADgBjB,0BAAsBA,wBAMbA,KAAG,4CACbA,UAAAA,2BAAwBA,eAGlCA,iFAALiB,+RA9CAk4D,EACAC,UAJOn5C,SACAotC,KACP0O,KAGAvuD,EAAOwuD,EAAc/7C,GAAUg8C,SAC7BC,EAAazkD,GAAYjF,KAAIhF,GAAQlP,OAAO4V,KAAKC,GAAQ3G,MAAQisD,gBAK9D5sD,UACCsvD,EAAa79D,OAAO4V,KAAKC,GAAQ3G,QACvCuuD,EAAcI,EAAW3pD,KAAIyN,KAAaA,OAAAA,EAAQotC,GAAAA,gBAe7C2O,EAAc92D,UACZ5G,OAAO4V,KAAKC,IAAS+uC,MAAK11C,QAAgC5M,IAAxBuT,GAAQ3G,GAAMtI,6GAtBxDk3D,EAAuB3kD,GAAYjF,KAAIhF,GAAQlP,OAAO4V,KAAKC,GAAQ3G,IAAOgF,KAAIyN,GAAU+5C,YAAaxsD,KAAQyS,SAAYw5C,wBAEzH5sD,2BAMoBssD,MACdA,GAASA,IAAUC,GACpBvsD,IACJusD,EAAWD,GACNA,eAECc,MAAY1pB,OAAO4oB,EAAMtV,WAAW,IAAK,IAAK,KAC9CqW,EAAUgC,EAAWzxD,SAAQ4xD,EAASpqD,IAAUgoD,EAAMnrB,KAAKstB,EAAqBnqD,UACtF8pD,EAAc7B,EAAQ1nD,KAAIyN,KAAaA,OAAAA,EAAQotC,GAAAA,OAbhDiP,CAAcnD,8BAgBbA,EAAQ,cAKIj0D,SACNsI,EAAOwuD,EAAc92D,GACrB2vD,EAAamF,YAAaxsD,KAAQtI,cAC9B80D,EAAG,qBAAqBnF,kBAKlBrnD,6BAOD2rD,4BAI2Dl5C,EAASmtC,EAAIntC,yNCnCxFjgB,KAAG,qBAKGA,KAAG,wBAKHA,KAAG,yBAKHA,KAAG,sBAMHA,KAAG,oEAKYA,kBAAAA,4FA1BH,gEAKS,kEAKC,kEAKH,qFAMD,8IApB+D,EAAjCe,KAAKuV,MAAqB,IAAftW,KAAQiD,wDAFxDjD,KAAG,kIAO2E,EAApCe,KAAKuV,MAAwB,IAAlBtW,KAAQkyD,2DAF7DlyD,KAAG,wLAKHA,KAAG,kJAO2BA,sGACAA,wDAH9BA,KAAG,mLAMHA,KAAG,qEAKHA,KAAG,6BA1BvBwE,uBAEEhB,gBAGFgB,SACEhB,4BACAA,gBAGFgB,SACEhB,4BACAA,WAAsDxD,KAAQ4xD,gBAGhEptD,SACEhB,4BACAA,WAAmExD,KAAQ9B,UAC3EsF,WAAmExD,KAAQgY,YAG7ExT,SACEhB,4BACAA,WAAkDxD,gBAGpDwE,oDAxBuGxE,qCAKQA,wDAK7BA,iLAX/EA,KAAG,8CACoF,EAAjCe,KAAKuV,MAAqB,IAAftW,KAAQiD,uCAFxDjD,KAAG,8DAMdA,KAAG,iDACsF,EAApCe,KAAKuV,MAAwB,IAAlBtW,KAAQkyD,0CAF7DlyD,KAAG,iEAMdA,KAAG,kDAC4CA,KAAQ4xD,WAAR5xD,KAAQ4xD,yBAF5C5xD,KAAG,kEAMdA,KAAG,oDACsCA,wBAAmBA,KAAQ9B,OAAR8B,KAAQ9B,0BAC3B8B,wBAAmBA,KAAQgY,OAARhY,KAAQgY,qBAHzDhY,KAAG,+DAOdA,KAAG,8CACwCA,UAAAA,0BAFhCA,KAAG,gFAMCA,qDADJA,KAAG,gXAxCZoE,kEACcwB,UACfnC,EAASmC,EAAMnC,WACrBW,EAAQnB,KAAOk/C,SAAS1+C,EAAOnE,OAAS,QAEfsG,UACnBnC,EAASmC,EAAMnC,WACrBW,EAAQ8tD,QAAU/P,SAAS1+C,EAAOnE,OAAS,kBAG3C0qD,EAAOx+C,oBAAsBpH,EAAQwtD,OAAS,oBAgBMxtD,EAAQwtD,uCAKKxtD,EAAQlG,mCACRkG,EAAQ4T,mCAKzBwjD,uCAI5BC,sJCzCQz7D,KAAG,oBAETA,KAAG,sBACNA,KAAG,mBACEA,KAAG,wBACNA,KAAG,qBACDA,KAAG,uBACFA,KAAG,wDAPmB,wZAC9BA,qCADpBwE,gCACAA,SACEhB,cACAA,cACAA,cACAA,cACAA,cACAA,kBANkBxD,2DADYA,KAAG,uCAETA,KAAG,yCACNA,KAAG,sCACEA,KAAG,2CACNA,KAAG,wCACDA,KAAG,0CACFA,KAAG,wCANXA,+GAJTiD,mEAISA,kICKgBjD,KAAG,qBAG9BA,KAAQsrD,kDAHsC,+HAAnD9mD,gCACAA,aAAgCxE,KAAQ61D,wFADR71D,KAAG,qCACHA,KAAQ61D,QAEnC71D,KAAQsrD,iLACqBtrD,KAAG,qDAAgB,4JAAnDwE,gCACAA,aAA6DxE,KAAQoiD,+DADrCpiD,KAAG,8CAC0BA,KAAQoiD,iBAARpiD,KAAQoiD,mGARlEpiD,KAAG,4DACYA,KAAQu8D,uBAARv8D,KAAQu8D,uEACzBv8D,KAAQu8D,gEAFc,iEADTv8D,KAAG,2BAAvBwE,SACEhB,+HAAOxD,KAAG,iEACYA,KAAQu8D,qCACzBv8D,KAAQu8D,sFAHKv8D,KAAG,iNAHZoE,yFAKaA,EAAQm4D,gBAARn4D,EAAQm4D,iCAGIn4D,EAAQyxD,qCAIuBzxD,EAAQg+C,wXCsBKpiD,KAAG,oCAAzEwE,SACEhB,+EADoExD,KAAG,oIADtEA,KAAaA,MAAIqtD,4SALUrtD,OAAOA,MAAIqtD,uIAaiBrtD,KAAG,+EAdnEwE,SACEhB,2BAIAA,6BAOEA,OACEA,WAAgCxD,KAAQA,MAAIqtD,YAC5C7pD,OACEA,oEAD0Bg5D,iEAbEx8D,OAAOA,MAAIqtD,YAKtCrtD,KAAaA,MAAIqtD,wEAOYrtD,KAAQA,MAAIqtD,sBACcrtD,KAAG,yLAjBtEA,KAAG,wBAEKA,0BAALiB,+FAFmB,sGACvBuD,wFADCxE,KAAG,kDAEKA,aAALiB,0HAAAA,+DAAAA,+IAVKu7D,KACLp2D,KAAKq2D,wBAAwBzY,mKAftBqJ,aACAptC,WAGLy8C,GAAiB,SAAU,UAAW,UACvClqD,KAAIhF,GAAQlP,OAAO4V,KAAKyoD,EAAWnvD,IAAOgF,KAAIq8C,UACzC+N,EAAerC,EAAYC,IAAU35C,YAAYguC,GAAYmL,eAAgBnL,KAAcA,EAC3FgO,EAAW7C,YAAaxsD,EAAKhN,MAAM,GAAI,aACpC4sD,KAAOC,GAAIwB,EAAU5uC,OAAAA,GAAUi5C,OAAQ2D,MAAaD,UAE5DnD,OACCqD,EAAgBjO,QAClBxB,EAAKwB,aAKAkO,EAAalO,QAClB4I,EAAQ5I,GAAYmO,GAASnO,6GAhB9BnvC,aAAao6C,QAAQ,SAAUj6C,KAAKM,UAAUs3C,sBAC9CwF,EAAgBpO,GAAamO,GAASnO,IAAa4I,EAAQ5I,KAAcmO,GAASnO,yBAuBdiO,EAAa1P,EAAIC,OAM5C0P,EAAa3P,EAAIC,gBAMnBoK,EAAQrK,EAAIC,4JCvCrDrtD,KAAG,oBAEwBA,KAAG,wBACJA,KAAG,uBACNA,KAAG,gPAHPA,uDAApBwE,SACEhB,cACAA,cACAA,kBAHkBxD,2DADnBA,KAAG,uCAEwBA,KAAG,2CACJA,KAAG,0CACNA,KAAG,oCAHPA,+GAJTwN,mEAISA,qmBCodyCxN,KAAG,4IAD1DwE,SACEhB,+EAAqDxD,KAAG,iEADrBgY,EAAG,IAAM9O,SAAU,iDAAnB8O,EAAG,IAAM9O,SAAU,sFAUrDlJ,KAAG,+EAAHA,KAAG,oJAKsBA,KAAKkF,cAALlF,KAAKkF,eAAiBlF,KAAK43D,cAAL53D,KAAK43D,oKADvDpzD,uEAC4BxE,KAAKkF,8CAAiBlF,KAAK43D,iPAOpD53D,KAAG,uBAAoBA,KAAIigB,OAASjgB,eAAaA,KAAcA,KAAIigB,WAAWjgB,KAAIigB,UAAYjgB,KAAG,wBAC7FA,KAAIigB,oCADY,qIAApBjgB,KAAG,mDAAoBA,KAAIigB,OAASjgB,eAAaA,KAAcA,KAAIigB,WAAWjgB,KAAIigB,UAAYjgB,KAAG,+BAC7FA,KAAIigB,mhBAQqCjgB,KAAIqtD,oBAArBrtD,KAAKigB,kBAALjgB,KAAKigB,+KAFpCzb,SACEhB,0DAC8CxD,KAAIqtD,+BAArBrtD,KAAKigB,yOAQjCjgB,KAAG,gFAAHA,KAAG,uIAMqBA,KAAKia,MAAMzM,cAAXxN,KAAKia,MAAMzM,8DACT,aAApBxN,KAAKia,MAAMzM,iDAMgCxN,KAAIigB,iBAA3BjgB,KAAKia,MAAMozC,UAAXrtD,KAAKia,MAAMozC,0DAGb,aAApBrtD,KAAKia,MAAMzM,cAMS,YAApBxN,KAAKia,MAAMzM,cAYS,SAApBxN,KAAKia,MAAMzM,8PA9BlBhJ,SACEhB,iDAOAA,uIANyBxD,KAAKia,MAAMzM,+BACT,aAApBxN,KAAKia,MAAMzM,2IAMgCxN,KAAIigB,+BAA3BjgB,KAAKia,MAAMozC,6BAGb,aAApBrtD,KAAKia,MAAMzM,2GAMS,YAApBxN,KAAKia,MAAMzM,2GAYS,SAApBxN,KAAKia,MAAMzM,0eA1BWxN,KAAKia,MAAMhX,cAAXjD,KAAKia,MAAMhX,kJAAXjD,KAAKia,MAAMhX,kLAUcjD,KAAIigB,wBAA3BjgB,KAAKia,MAAM+zC,UAAXhuD,KAAKia,MAAM+zC,wHADtCxpD,gEACkDxE,KAAIigB,+BAA3BjgB,KAAKia,MAAM+zC,kLAQ9BhuD,KAAKia,MAAMozC,MACXrtD,KAAKia,MAAM+zC,QACThuD,KAAKia,MAAMhX,+BAHHjD,KAAKia,MAAMw8B,oBAAXz2C,KAAKia,MAAMw8B,kIAF7BjyC,4DAGQxE,KAAKia,MAAMozC,kBACXrtD,KAAKia,MAAM+zC,oBACThuD,KAAKia,MAAMhX,uDAHHjD,KAAKia,MAAMw8B,4NAerBz2C,KAAKia,MAAMozC,MACXrtD,KAAKia,MAAM+zC,QACThuD,KAAKia,MAAMhX,YACTjD,KAAIigB,wBALCjgB,KAAKia,MAAMM,kBAAXva,KAAKia,MAAMM,iBACTva,KAAKia,MAAMO,kBAAXxa,KAAKia,MAAMO,gKAJ9BhW,4DAKQxE,KAAKia,MAAMozC,kBACXrtD,KAAKia,MAAM+zC,oBACThuD,KAAKia,MAAMhX,wBACTjD,KAAIigB,mCALCjgB,KAAKia,MAAMM,oDACTva,KAAKia,MAAMO,mJAc/Bxa,KAAG,2BAAyBA,KAAgB,YAAaA,KAAKsa,SAASA,mCAA9C,uEAAzBta,KAAG,kDAAyBA,KAAgB,YAAaA,KAAKsa,SAASA,0HAQhEta,KAAIqtD,MACJrtD,KAAIsa,SAAWta,KAAIsa,SAAS7R,EAAIzI,KAAKsa,SAAS+yC,QAC5CrtD,KAAKsa,SAASq4B,YACZ3yC,KAAIigB,iBAJGjgB,KAAKsa,SAASA,sBAAdta,KAAKsa,SAASA,sEAQ5B6J,GAAUnkB,KAAIsa,UAAUA,mBAYxBta,KAAIsa,uKAvBX9V,SACEhB,sGAGQxD,KAAIqtD,kBACJrtD,KAAIsa,SAAWta,KAAIsa,SAAS7R,EAAIzI,KAAKsa,SAAS+yC,oBAC5CrtD,KAAKsa,SAASq4B,wBACZ3yC,KAAIigB,qCAJGjgB,KAAKsa,SAASA,mCAQ5B6J,GAAUnkB,KAAIsa,UAAUA,gHAYxBta,KAAIsa,+YAROta,KAAKsa,SAASA,YACpBta,KAAIqtD,MACJrtD,KAAIsa,SAAWta,KAAIsa,SAAS7R,EAAIzI,KAAKsa,SAAS+yC,UAC1CrtD,KAAIigB,wBAJDjgB,KAAKsa,SAASq4B,cAAd3yC,KAAKsa,SAASq4B,4HAF7BnuC,kEAGcxE,KAAKsa,SAASA,wBACpBta,KAAIqtD,kBACJrtD,KAAIsa,SAAWta,KAAIsa,SAAS7R,EAAIzI,KAAKsa,SAAS+yC,sBAC1CrtD,KAAIigB,iCAJDjgB,KAAKsa,SAASq4B,8MAWJ3yC,KAAKsa,SAAS9M,cAAdxN,KAAKsa,SAAS9M,8DACT,aAAvBxN,KAAKsa,SAAS9M,iDAMgCxN,KAAIigB,iBAA9BjgB,KAAKsa,SAAS+yC,UAAdrtD,KAAKsa,SAAS+yC,0DAGb,aAAvBrtD,KAAKsa,SAAS9M,cAMS,YAAvBxN,KAAKsa,SAAS9M,cAYS,SAAvBxN,KAAKsa,SAAS9M,qNA7BnBhJ,qDAOAA,+IANyBxE,KAAKsa,SAAS9M,+BACT,aAAvBxN,KAAKsa,SAAS9M,2IAMgCxN,KAAIigB,+BAA9BjgB,KAAKsa,SAAS+yC,6BAGb,aAAvBrtD,KAAKsa,SAAS9M,sHAMS,YAAvBxN,KAAKsa,SAAS9M,sHAYS,SAAvBxN,KAAKsa,SAAS9M,6cA1BQxN,KAAKsa,SAASrX,cAAdjD,KAAKsa,SAASrX,kJAAdjD,KAAKsa,SAASrX,kLAUcjD,KAAIigB,wBAA9BjgB,KAAKsa,SAAS0zC,UAAdhuD,KAAKsa,SAAS0zC,wHADzCxpD,gEACqDxE,KAAIigB,+BAA9BjgB,KAAKsa,SAAS0zC,kLAQjChuD,KAAKsa,SAAS+yC,MACdrtD,KAAKsa,SAAS0zC,QACZhuD,KAAKsa,SAASrX,+BAHNjD,KAAKsa,SAASm8B,oBAAdz2C,KAAKsa,SAASm8B,kIAFhCjyC,4DAGQxE,KAAKsa,SAAS+yC,kBACdrtD,KAAKsa,SAAS0zC,oBACZhuD,KAAKsa,SAASrX,uDAHNjD,KAAKsa,SAASm8B,4NAexBz2C,KAAKsa,SAAS+yC,MACdrtD,KAAKsa,SAAS0zC,QACZhuD,KAAKsa,SAASrX,YACZjD,KAAIigB,wBALCjgB,KAAKsa,SAASC,kBAAdva,KAAKsa,SAASC,iBACZva,KAAKsa,SAASE,kBAAdxa,KAAKsa,SAASE,gKAJjChW,4DAKQxE,KAAKsa,SAAS+yC,kBACdrtD,KAAKsa,SAAS0zC,oBACZhuD,KAAKsa,SAASrX,wBACZjD,KAAIigB,mCALCjgB,KAAKsa,SAASC,oDACZva,KAAKsa,SAASE,+JAwBlCxa,KAAG,wBAAoBA,KAAK2oB,WAAW1nB,OAAS,MAAQjB,MAAI,IAAM,KAAMA,KACvE,aACAA,MAAEsrD,eAECtrD,MAAEi3D,8CAGwCj3D,+BAArBA,KAAK2oB,mBAAL3oB,KAAK2oB,oFAPuC,0KAArE3oB,KAAG,oDAAoBA,KAAK2oB,WAAW1nB,OAAS,MAAQjB,MAAI,IAAM,kCAAMA,KACvE,aACAA,MAAEsrD,sBAECtrD,MAAEi3D,iGAGwCj3D,+BAArBA,KAAK2oB,+MAFxB3oB,KAAG,kDAAL,gBAA4B,2CAA/BwE,qDAAKxE,KAAG,gHA8BD,UAAW,QAAQsjD,SAAStjD,MAAEsrD,YAvBlCtrD,KAAIsa,uDAOwCta,KAAIqtD,QAAUrtD,MAAE2yC,QAAU3yC,MAAEyI,SAAWzI,KAAIigB,iBAA3DjgB,MAAEsrD,sBAAFtrD,MAAEsrD,sEAG9B3iC,GAAWC,MAAM5oB,MAAEsrD,mBAML,YAAdtrD,MAAE0tD,kHAUoB1tD,MAAEi3D,gBAAFj3D,MAAEi3D,mFAIAj3D,kBAAAA,2WA/B/BwE,+BAOEhB,uEAgBAA,iDAOAA,iDA7BS8W,wIAOwCta,KAAIqtD,oBAAUrtD,MAAE2yC,oBAAU3yC,MAAEyI,qBAAWzI,KAAIigB,qCAA3DjgB,MAAEsrD,mCAG9B3iC,GAAWC,MAAM5oB,MAAEsrD,gHAML,YAAdtrD,MAAE0tD,2HAOE,UAAW,QAAQpK,SAAStjD,MAAEsrD,wJAGZtrD,MAAEi3D,uEAIAj3D,kdA5BIA,MAAE0tD,oBAAF1tD,MAAE0tD,kIADjClpD,8EAC+BxE,MAAE0tD,mMAUU1tD,MAAEsrD,YAActrD,KAAIqtD,MAAQrtD,MAAEyI,SAAWzI,KAAIigB,wBAA/DjgB,MAAE2yC,cAAF3yC,MAAE2yC,4HAD3BnuC,sEAC2CxE,MAAEsrD,wBAActrD,KAAIqtD,kBAAQrtD,MAAEyI,qBAAWzI,KAAIigB,iCAA/DjgB,MAAE2yC,8LAMa3yC,KAAIigB,wBAAjBjgB,MAAEyI,SAAFzI,MAAEyI,uHAD7BjE,oEACwCxE,KAAIigB,+BAAjBjgB,MAAEyI,gNAMCzI,kBAAAA,6JAAAA,wJArC7BA,cAWFA,KAAQsrD,SAAStrD,yFAnBNA,4DAGEA,KAAQsrD,SAAStrD,gBAJnCwE,8EAKYxE,KAAc,WAAYA,yBACrB2vD,GAAU,SAAU,WAAY3vD,yBAChC4vD,GAAS,SAAU,WAAY5vD,iKAH9BA,KAAQsrD,SAAStrD,QAgB9BA,KAAQsrD,SAAStrD,uWAkDjBA,KAAG,yBAAqBA,KAAKiuB,QAAQhtB,OAAS,MAAQjB,MAAI,IAAM,KAAMA,KACrE,UACAA,MAAOua,iCAEe,UAAnBva,MAAO82D,WAEiB,UAAnB92D,MAAO82D,WAEY,WAAnB92D,MAAO82D,wEAG2B92D,+BAAlBA,KAAKiuB,gBAALjuB,KAAKiuB,iFAXqC,0KAAnEjuB,KAAG,qDAAqBA,KAAKiuB,QAAQhtB,OAAS,MAAQjB,MAAI,IAAM,kCAAMA,KACrE,UACAA,MAAOua,2HASmCva,+BAAlBA,KAAKiuB,4MAFxBjuB,KAAG,kDAAL,gBAA4B,2CAA/BwE,qDAAKxE,KAAG,gFAFHA,KAAG,iDAAL,gBAA2B,2CAA9BwE,qDAAKxE,KAAG,+EAFHA,KAAG,iDAAL,gBAA2B,2CAA9BwE,qDAAKxE,KAAG,wHA8BJk9D,GAASl9D,MAAOua,SAA8B,YAAnBva,MAAO0tD,UAlBjC1tD,KAAIsa,WAAata,MAAO82D,iGAOvB92D,KAAIqtD,MACJrtD,MAAOyI,KACPzI,MAAOguD,MACPhuD,MAAOiuD,YACDjuD,MAAOonC,kBACPpnC,MAAOqnC,kBACPrnC,KAAIsa,gBACNta,KAAIigB,iBATCjgB,MAAOua,kBAAPva,MAAOua,iBACLva,MAAOwN,kBAAPxN,MAAOwN,+MAyBIxN,kBAAAA,gKAKvBiuB,GAAQ1oB,KAAKvF,MAAOua,SAAS+sB,SAA8B,WAAnBtnC,MAAO82D,kBAG9C92D,MAAO0tD,iFAMc1tD,kBAAAA,waA/C/BwE,SACEhB,uEA+BAA,2BAIAA,uEAUAA,iDA5CW8W,WAAata,MAAO82D,uIAOvB92D,KAAIqtD,kBACJrtD,MAAOyI,iBACPzI,MAAOguD,kBACPhuD,MAAOiuD,wBACDjuD,MAAOonC,8BACPpnC,MAAOqnC,8BACPrnC,KAAIsa,4BACNta,KAAIigB,mCATCjgB,MAAOua,oDACLva,MAAOwN,2CAYpB0vD,GAASl9D,MAAOua,SAA8B,YAAnBva,MAAO0tD,wJAaV1tD,sGAKvBiuB,GAAQ1oB,KAAKvF,MAAOua,SAAS+sB,SAA8B,WAAnBtnC,MAAO82D,8GAG9C92D,MAAO0tD,wJAMc1tD,mfA5C4Bk9D,GAASl9D,MAAOua,yBAAxCva,MAAO0tD,oBAAP1tD,MAAO0tD,qJAAiBwP,GAASl9D,MAAOua,qCAAxCva,MAAO0tD,6LAmBO1tD,KAAIigB,iBAAtBjgB,MAAOyI,SAAPzI,MAAOyI,yDAC3BwlB,GAAQ1oB,KAAKvF,MAAOua,SAAS2F,OAAS,kGAF7C1b,0FAC6CxE,KAAIigB,+BAAtBjgB,MAAOyI,4BAC3BwlB,GAAQ1oB,KAAKvF,MAAOua,SAAS2F,OAAS,iSACGlgB,KAAIigB,iBAAvBjgB,MAAOguD,UAAPhuD,MAAOguD,0DAC3B//B,GAAQ1oB,KAAKvF,MAAOua,SAAS2F,OAAS,yJADClgB,KAAIigB,+BAAvBjgB,MAAOguD,6BAC3B//B,GAAQ1oB,KAAKvF,MAAOua,SAAS2F,OAAS,gTACGlgB,KAAIigB,wBAAvBjgB,MAAOiuD,UAAPjuD,MAAOiuD,2IAAYjuD,KAAIigB,+BAAvBjgB,MAAOiuD,+LAaPjuD,MAAOsnC,oBAAPtnC,MAAOsnC,+JAAPtnC,MAAOsnC,yLAGbtnC,MAAOua,wBAAsBva,MAAO82D,oBAAP92D,MAAO82D,qJAApC92D,MAAOua,oCAAsBva,MAAO82D,0JA1D5D92D,cAeFA,KAAQua,OAAOva,uFAvBNA,4DAGIA,KAAQua,OAAOva,gBAJjCwE,8EAKYxE,KAAc,SAAUA,yBACnB2vD,GAAU,SAAU,SAAU3vD,yBAC9B4vD,GAAS,SAAU,SAAU5vD,iKAH5BA,KAAQua,OAAOva,QAoB5BA,KAAQua,OAAOva,qWAkEfA,KAAG,2BAAuBA,KAAK+2D,aAAa91D,OAAS,MAAQjB,MAAI,IAAM,KAAMA,MAAYsF,yCACzCtF,+BAAvBA,KAAK+2D,qBAAL/2D,KAAK+2D,sFAD4C,sIAA1E/2D,KAAG,uDAAuBA,KAAK+2D,aAAa91D,OAAS,MAAQjB,MAAI,IAAM,iCAAMA,MAAYsF,0CACzCtF,+BAAvBA,KAAK+2D,8aAUF/2D,MAAYw2D,kBAAZx2D,MAAYw2D,qFAIhBx2D,MAAYm2D,cAAZn2D,MAAYm2D,qSAVvC3xD,SACEhB,2BAIAA,2BAIAA,sJAH6BxD,MAAYw2D,qEAIhBx2D,MAAYm2D,iVAhBlCn2D,cAKFA,KAAQ02D,YAAY12D,4FAbNA,4DAGDA,KAAQ02D,YAAY12D,gBAJtCwE,8EAKYxE,KAAc,cAAeA,yBACxB2vD,GAAU,SAAU,cAAe3vD,yBACnC4vD,GAAS,SAAU,cAAe5vD,iKAHjCA,KAAQ02D,YAAY12D,QAUjCA,KAAQ02D,YAAY12D,yWAkBuBA,KAAG,2BACLA,KAAG,yBACEA,KAAG,4OAFtDwE,yBACAA,yBACAA,mCAFkCxE,mBACAA,mBACAA,qCAFcA,KAAG,iDACLA,KAAG,+CACEA,KAAG,wKA3VlDA,gBAIwB,IAAzBA,KAAOoiB,sBAULpiB,cAIFA,KAAQm9D,iBAQNn9D,cAOFA,KAAQigB,gBAUNjgB,cAIFA,KAAQia,eAiDNja,cAIFA,KAAQsa,kBAwENta,KAAK2oB,gCAAV1nB,+EA4DKjB,KAAKiuB,8BAAVhtB,oFAgFKjB,KAAK+2D,oCAAV91D,qFAgCGjB,weA3UgCA,KAAQm9D,8DAYRn9D,KAAQigB,6DAiBRjgB,KAAQia,4DAqDRja,KAAQsa,+FAjGjD9V,SACEhB,gDAYAA,OAEEA,mDAYAA,mDAiBAA,mDAqDAA,sPAlFgExD,KAAc,wBAYfA,KAAc,uBAiBfA,KAAc,sBAqDXA,KAAc,iDA/FzEA,qEAIwB,IAAzBA,KAAOoiB,uHAULpiB,sFAD8BA,KAAQm9D,SAKxCn9D,KAAQm9D,8GAQNn9D,sIAD8BA,KAAQigB,QAQxCjgB,KAAQigB,6GAUNjgB,sFAD8BA,KAAQia,OAKxCja,KAAQia,4GAiDNja,sFAD8BA,KAAQsa,UAKxCta,KAAQsa,qIAwENta,KAAK2oB,mBAAV1nB,uHAAAA,0DA4DKjB,KAAKiuB,gBAAVhtB,8HAAAA,6DAgFKjB,KAAK+2D,sBAAV91D,gIAAAA,mCAgCGjB,uHAzV4B9B,EAAG8B,KAAc,EAAI,IAAMgY,EAAGhY,KAAc,IAAO,EAAGkJ,SAAU,iEA6K/FjI,qCA4DAA,uCAgFAA,6CA7SoB/C,EAAG8B,KAAc,IAAO,EAAGgY,EAAGhY,KAAc,EAAI,IAAMkJ,SAAU,ubAxB/Eg0D,GAAS3iD,SACVixB,EAAK3nC,SAASsgD,eAAe5pC,WAC5BixB,GAAoB,UAAfA,EAAGuI,wVAvaNqpB,EAAS3R,KAAEA,KAElBf,KACA2S,GAAWpjD,MAAO,EAAGK,SAAU,EAAGgxC,YAAc/wC,UAAYm8C,sBAC1D4G,EAAchZ,WAAayU,iBAEjC/O,EAAOx+C,UAAY,aACnBw+C,EAAO/mC,UAAY,YAEfmqC,EAAMlD,EAASkT,IAAc7R,GAASE,QAAQ7qD,YAkJzC28D,aAkKEC,EAAU/I,UACVA,GAAQnR,SAAS,cAGjBma,EAAOhJ,SACiB,SAAxBA,GAAQj0D,MAAM,EAAG,YAGjBk9D,EAAczgD,UACdA,EAAM,GAAG1S,MAAM,QAAQ,YAGvBozD,EAAkBpjD,MACV,iBAAXA,SAAkCA,SACzBjc,OAAO4V,KAAK+Z,GAAQ7Z,OAAO8uC,MAAK11C,QAAkC5M,IAA1BqtB,GAAQzgB,GAAM+M,MACpD,oBAGRqjD,EAAY3gD,UAEZ0gD,EADQD,EAAczgD,aAItB4gD,EAAqBxQ,UAErBjwC,GADc,WAAPiwC,GAA0B,OAAPA,EACfsP,EAAWxiD,QAAUwiD,EAAWziD,mBAzLpDwwC,EAAKzqC,OAASmtC,EAAIntC,cAGlByqC,EAAKxlD,KAAOkoD,EAAIloD,YAGhBwlD,EAAKkN,KAAOxK,EAAIwK,MnE7LQ,SmEgMxBlN,EAAKzwC,uBAEGzM,EAAOiwD,EAAOrQ,EAAIC,IAAM,OAASmQ,EAAUpQ,EAAIC,IAAM,UAAY,eACnEA,EACFW,EACAvX,EAAU,OACVl8B,EAAS,UACTC,EAAO,eACPvX,EAAO,iBAEHgX,EAAQmzC,EAAIC,GAAG9iD,MAAM,KAEd,aAATiD,GACF6/C,EAAKD,EAAIC,GACTW,EAAK6P,EAAqBzQ,EAAIC,MAE9BA,EAAKpzC,EAAM,GACX+zC,EAAK/zC,EAAM,GACXhX,EAAOgX,EAAM,IAAM,YAGR,YAATzM,EAAoBipC,EAAUx8B,EAAM,GACtB,SAATzM,IACP+M,EAASmjD,EAAczjD,GACvBO,EAAOojD,EAAY3jD,WAGbzM,KAAAA,EAAM6/C,GAAAA,EAAIW,GAAAA,EAAIvX,QAAAA,EAASl8B,OAAAA,EAAQC,KAAAA,EAAMvX,KAAAA,GA3BlC66D,UA+BbpT,EAAKpwC,wBAKD+yC,EACAW,EAJExgD,EAAO,WACT8M,EAAW,KACXq4B,EAAO,WAGP8D,EAAU,OACVl8B,EAAS,UACTC,EAAO,eACPvX,EAAO,cAELmqD,EAAI9yC,gBACAyjD,EAAS3Q,EAAI9yC,SAAS7R,EAAE8B,MAAM,KACpCiD,EAAOiwD,EAAOrQ,EAAI9yC,SAAS7R,GAAK,OAAS+0D,EAAUpQ,EAAI9yC,SAAS7R,GAAK,UAAY,WAEjF6R,EAAW8yC,EAAI9yC,SAASA,SACxBq4B,EAAOya,EAAI9yC,SAASq4B,MAAQ,WAC5B0a,EAAc,aAAT7/C,EAAsB4/C,EAAI9yC,SAAS7R,EAAIs1D,EAAO,GACnD/P,EAAc,aAATxgD,EAAsBqwD,EAAqBxQ,GAAM0Q,EAAO,GAChD,YAATvwD,IAAoBipC,EAAUsnB,EAAO,IAC5B,SAATvwD,IACF+M,EAASmjD,EAAcK,GACvBvjD,EAAOojD,EAAYG,IAErB96D,EAAO86D,EAAO,IAAM,gBAEpB1Q,EAAKwQ,EAAqBnT,EAAKzwC,MAAMozC,IACrCW,EAAK6P,EAAqBxQ,UAGpB/yC,SAAAA,EAAUq4B,KAAAA,EAAMnlC,KAAAA,EAAM6/C,GAAAA,EAAIW,GAAAA,EAAIvX,QAAAA,EAASl8B,OAAAA,EAAQC,KAAAA,EAAMvX,KAAAA,GA/B/C+6D,UAmChBtT,EAAK/hC,0BAEEykC,EAAIzkC,0BAEHA,EAAaykC,EAAIzkC,WAAWnW,KAAIjE,mBAC7B+8C,EAAQ7iD,EAAEA,GAAK8F,EAChBokC,EAAOpkC,EAAEokC,MAAQ,WACjB4pB,EAAa0B,QAAQ1vD,EAAEsnD,QACvBA,EAAStnD,EAAEsnD,QAAU,UACrBzT,EAAc7zC,EAAE6zC,aAAe,EAC/Bn/C,EAAOsL,EAAEtL,MAAQ,EACjBivD,EAAU3jD,EAAE2jD,SAAW,EACvBh0D,EAAIqQ,EAAErQ,GAAK,EACX8Z,EAAIzJ,EAAEyJ,GAAK,EACX45C,EAAQrjD,EAAEqjD,OAAS,EACnBlE,EAAUn/C,EAAEm/C,SAAW,GACvBuJ,EAAQ1oD,EAAE0oD,QAAS,SACrBrF,QAAO5H,EAAOx+C,oBAAsBomD,SAChCtG,SAAAA,EAAU7iD,EAAAA,EAAGkqC,KAAAA,EAAM4pB,WAAAA,EAAY1G,OAAAA,EAAQzT,YAAAA,EAAan/C,KAAAA,EAAMivD,QAAAA,EAASh0D,EAAAA,EAAG8Z,EAAAA,EAAG45C,MAAAA,EAAOlE,QAAAA,EAASuJ,MAAAA,aAG5FtuC,EArBSu1C,UAyBlBxT,EAAKz8B,uBAEEm/B,EAAIn/B,uBACHA,EAAUm/B,EAAIn/B,QAAQzb,KAAI1P,iBACvByX,EAAM9R,EAAEA,EAACulD,GAAEA,EAAEC,GAAEA,EAAExsD,EAAEA,EAACwB,KAAEA,GAAQH,EAC/B0K,EAAOmwD,EAAkBpjD,GACzBgiD,EAA0B,SAAbz5D,EAAE+yD,OACfA,EAAS0G,GAAcz5D,EAAE+yD,OAAS/yD,EAAE+yD,OAAS,UAC7CnI,EAAU5qD,EAAE4qD,SAAW,GACvBtmB,EAAWtkC,EAAEskC,WAAY,EACzBC,EAAWvkC,EAAEukC,WAAY,EACzBC,EAAUxkC,EAAEwkC,UAAW,EACvBwvB,EAAUh0D,EAAEg0D,SAAW,GACvB5E,EAAUpvD,EAAEovD,SAAW,EACvBh0D,EAAI4E,EAAE5E,GAAK,EACX8Z,EAAIlV,EAAEkV,GAAK,EACX45C,EAAQ9uD,EAAE8uD,OAAS,SACrBA,QAAO5H,EAAOx+C,oBAAsBomD,SAEtCr3C,OAAAA,EACA/M,KAAAA,EACA+uD,WAAAA,EACA1G,OAAAA,EACAnI,QAAAA,EACAjlD,EAAAA,EACAulD,GAAAA,EACAC,GAAAA,EACAxsD,EAAAA,EACAwB,KAAAA,EACAivD,QAAAA,EACA9qB,SAAAA,EACAC,SAAAA,EACAC,QAAAA,EACAwvB,QAAAA,EACA54D,EAAAA,EACA8Z,EAAAA,EACA45C,MAAAA,aAIG3jC,EAxCMkwC,UA4CfzT,EAAKqM,4BAEE3J,EAAI2J,4BACHA,EAAe3J,EAAI2J,aAAavkD,KAAItR,eACjCoE,EAAI+gD,KAAEA,EAAIpjD,KAAEA,EAAIuzD,OAAEA,GAAUt1D,EAC7Bo1D,EAAOp1D,EAAEo1D,OAAQ,EACjBC,EAASr1D,EAAEq1D,SAAU,EACrBF,EAAQn1D,EAAEm1D,OAAS,iBAGjB/wD,KAAAA,EAAM+gD,KAAAA,EAAMpjD,KAAAA,EAAMqzD,KAAAA,EAAMC,OAAAA,EAAQH,QAFxBl1D,EAAEk1D,SAAW,EAEoBC,MAAAA,EAAOF,KAD3Cj1D,EAAEi1D,MAAQ,eACuCK,OAAAA,aAGzDO,EAbWqH,MA4Cb1T,WAOA2T,WACA/Q,GAAYrC,KAAgB,YAAcmC,EAAIC,IAgEjD,iBAAkBlrD,SAAYirD,EAAIzkC,aAAcykC,EAAIn/B,SACnDo0B,GAAUhhC,GAAQqB,KAAK,mJA7QvBE,GAAQ3hB,eACbmsD,EAAMvtC,KAAKC,MAAMqqC,EAAS,KAC1BoT,kCAtIcH,OACdhQ,EAAMlD,EAASkT,IAAc7R,GAASE,QAAQ7qD,IACzCspD,EAASkT,IAAYlT,EAASrqD,KAAKutD,GACxCxqC,GAAQjT,QACR4tD,IAVCe,CAAOlB,+CAkCDhQ,EAAI3B,SAGX2B,EAAIntC,OAASyqC,EAAKzqC,UAGdyqC,EAAKxlD,SACPkoD,EAAIloD,KAAOwlD,EAAKxlD,eAETkoD,EAAIloD,KnEhFW,ImEoFpBwlD,EAAKkN,SACPxK,EAAIwK,KAAOlN,EAAKkN,eAETxK,EAAIwK,KAIW,aAApBlN,EAAKzwC,MAAMzM,SAAqB4/C,EAAIC,GAAK3C,EAAKzwC,MAAMozC,iBAGhDkR,GAD2B,SAApB7T,EAAKzwC,MAAMzM,KAAkB,WAAak9C,EAAKzwC,MAAMM,OAASmwC,EAAKzwC,MAAMw8B,QAC7DiU,EAAKzwC,MAAMozC,GAAI3C,EAAKzwC,MAAM+zC,IAC3B,aAApBtD,EAAKzwC,MAAMhX,MAAqBs7D,EAAU1+D,KAAK6qD,EAAKzwC,MAAMhX,UAC9DmqD,EAAIC,GAAKkR,EAAU1zD,KAAK,WAItB6/C,EAAKpwC,SAASA,UAAuC,OAA3BowC,EAAKpwC,SAASA,gBAC1C8yC,EAAI9yC,UAAYA,SAAUowC,EAAKpwC,SAASA,aACpC6J,GAAUumC,EAAKpwC,SAASA,eAAW8yC,EAAI9yC,SAASq4B,KAAO+X,EAAKpwC,SAASq4B,QAC9C,aAAvB+X,EAAKpwC,SAAS9M,SAAqB4/C,EAAI9yC,SAAS7R,EAAIiiD,EAAKpwC,SAAS+yC,iBAG9DkR,GAD+B,SAAvB7T,EAAKpwC,SAAS9M,KAAkB,WAAak9C,EAAKpwC,SAASC,OAASmwC,EAAKpwC,SAASm8B,QACtEiU,EAAKpwC,SAAS+yC,GAAI3C,EAAKpwC,SAAS0zC,IAC/B,aAAvBtD,EAAKpwC,SAASrX,MAAqBs7D,EAAU1+D,KAAK6qD,EAAKpwC,SAASrX,UACpEmqD,EAAI9yC,SAAS7R,EAAI81D,EAAU1zD,KAAK,oBAI3BuiD,EAAI9yC,SACXowC,EAAKz8B,QAAQvvB,SAAQoE,GAAKA,EAAE4qD,QAAU,KACtChD,EAAK/hC,WAAWjqB,SAAQ6P,GAAKA,EAAEm/C,QAAU,KAIvChD,EAAK/hC,WAAW1nB,WAClBmsD,EAAIzkC,WAAa+hC,EAAK/hC,WAAWnW,KAAIjE,UAC7Bw/C,GAAQzC,SAAU/8C,EAAE+8C,SAAU7iD,EAAG8F,EAAE9F,UACrCkgB,GAAWC,MAAMra,EAAE+8C,YAAWyC,EAAKpb,KAAOpkC,EAAEokC,MAC5Cya,EAAI9yC,UAAY/L,EAAEm/C,UAASK,EAAKL,QAAUn/C,EAAEm/C,SAC5Cn/C,EAAEguD,aAAYxO,EAAK8H,OAAStnD,EAAEsnD,QAC9BtnD,EAAEguD,YAAgC,IAAlBhuD,EAAE6zC,cAAmB2L,EAAK3L,YAAc7zC,EAAE6zC,aAC1D7zC,EAAEtL,MAAmB,IAAXsL,EAAEtL,OAAY8qD,EAAK9qD,KAAOsL,EAAEtL,MACtCsL,EAAE2jD,UAASnE,EAAKmE,QAAU3jD,EAAE2jD,UAC5B3jD,EAAErQ,GAAKqQ,EAAEyJ,KACX+1C,EAAK7vD,EAAIqQ,EAAErQ,EACX6vD,EAAK/1C,EAAIzJ,EAAEyJ,GAETzJ,EAAEqjD,QAAO7D,EAAK6D,MAAQrjD,EAAEqjD,OACxBrjD,EAAE0oD,QAAOlJ,EAAKkJ,OAAQ,GACnBlJ,eAEGX,EAAIzkC,WAGd+hC,EAAKz8B,QAAQhtB,WACfmsD,EAAIn/B,QAAUy8B,EAAKz8B,QAAQzb,KAAI1P,UACvBirD,GAAQxzC,OAAQzX,EAAEyX,OAAQ9R,EAAG3F,EAAE2F,EAAGhH,EAAGqB,EAAErB,EAAGwB,KAAMH,EAAEG,aACpDgrB,GAAQ1oB,KAAKzC,EAAEyX,SAAS2F,OAAS,IAAG6tC,EAAKC,GAAKlrD,EAAEkrD,IAChD//B,GAAQ1oB,KAAKzC,EAAEyX,SAAS2F,OAAS,IAAG6tC,EAAKE,GAAKnrD,EAAEmrD,IAC/CnrD,EAAEy5D,WACe,YAAbz5D,EAAE+yD,SAAsB9H,EAAK8H,OAAS/yD,EAAE+yD,QAD9B9H,EAAK8H,OAAS,OAE7B/yD,EAAE4qD,UAASK,EAAKL,QAAU5qD,EAAE4qD,SAC5B5qD,EAAEskC,WAAU2mB,EAAK3mB,SAAW,GAC5BtkC,EAAEukC,WAAU0mB,EAAK1mB,SAAW,GAC5BvkC,EAAEwkC,SAAWrZ,GAAQ1oB,KAAKzC,EAAEyX,SAAS+sB,SAAyB,WAAdxkC,EAAEg0D,UAAsB/I,EAAKzmB,QAAU,GACvFxkC,EAAEg0D,UAAY7oC,GAAQ1oB,KAAKzC,EAAEyX,SAAS+sB,SAAyB,WAAdxkC,EAAEg0D,WAAuB/I,EAAK+I,QAAUh0D,EAAEg0D,SAC3Fh0D,EAAEovD,UAASnE,EAAKmE,QAAUpvD,EAAEovD,UAC5BpvD,EAAE5E,GAAK4E,EAAEkV,KACX+1C,EAAK7vD,EAAI4E,EAAE5E,EACX6vD,EAAK/1C,EAAIlV,EAAEkV,GAETlV,EAAE8uD,QAAO7D,EAAK6D,MAAQ9uD,EAAE8uD,OACrB7D,eAEGX,EAAIn/B,QAGdy8B,EAAKqM,aAAa91D,WACpBmsD,EAAI2J,aAAerM,EAAKqM,aAAavkD,KAAItR,UACjC6sD,GAAQzoD,KAAMpE,EAAEoE,KAAM+gD,KAAMnlD,EAAEmlD,KAAMpjD,KAAM/B,EAAE+B,KAAMkzD,KAAMj1D,EAAEi1D,aAC5Dj1D,EAAEo1D,OAAMvI,EAAKuI,KAAO,GACpBp1D,EAAEq1D,SAAQxI,EAAKwI,OAAS,GACZ,YAAZr1D,EAAEm1D,QAAqBtI,EAAKsI,MAAQn1D,EAAEm1D,OACxB,IAAdn1D,EAAEk1D,UAAerI,EAAKqI,QAAUl1D,EAAEk1D,SAClCl1D,EAAEs1D,SAAQzI,EAAKyI,OAASt1D,EAAEs1D,QACvBzI,eAEGX,EAAI2J,aArIjBlqD,6BAYWugD,GACZxqC,GAAQtf,IAAIuc,KAAKM,UAAUitC,IAZ1BvrC,CAAKurC,yBACL1tC,aAAao6C,QAAQ,OAAQ0B,yBAC7B97C,aAAao6C,QAAQ,WAAY2B,4BA2ZjChB,GAAmB/qD,EAAOxI,WACrBozD,EAAiBC,IAAcC,KAAW9qD,KAASxI,UAClDozD,EAAiBN,KAAMtqD,KAASxI,KAASA,uBAhZ3BhC,EAAM+M,mBACbrR,IAAVqR,OACForD,EAAQn4D,GAAM+M,IAAUorD,EAAQn4D,GAAM+M,YrE26BxC3F,KACOH,IqEt6BLwjD,GAAU,SAAUzqD,EAAM+M,EAA1B09C,QAEA0N,EAAQn4D,IAASm4D,EAAQn4D,gBAsTN+a,UACd3hB,OAAO4V,KAAKC,GAAQC,OAAO8uC,MAAK11C,QAAkC5M,IAA1BuT,GAAQ3G,GAAMyS,uBAWvD1R,GACJ+8C,SAHetuC,GADM1e,OAAO4V,KAAKyU,GAAWC,OAAOugB,OAAO7qC,OAAO4V,KAAKyU,GAAWzC,YAKjFzd,EAHQ41D,IAIR9B,YAAY,EACZ1G,OAAQ,UACRzT,YAAa,EACbzP,KAAM,WACN1vC,KAAM,EACNg0D,OAAO,EACP/4D,EAAG,EACH8Z,EAAG,EACH45C,MAAO,EACPlE,QAAS,QAEXhD,EAAK/hC,eAAiB+hC,EAAK/hC,WAAYpa,wBAIjCf,EAAO4P,GAAG6Q,GAAQlP,QAClBxE,EAAS6C,GAAG6Q,GAAQzgB,IACpB/E,EAAI41D,IACJv7D,GACJyX,OAAAA,EACA9R,EAAAA,EACAhH,EAAG,IACH86D,YAAY,EACZ1G,OAAQ,UACRroD,KAAAA,EACAvK,KAAM,IACNmkC,UAAU,EACVC,UAAU,EACVC,SAAS,EACTppC,EAAG,EACH8Z,EAAG,EACH45C,MAAO,EACPlE,QAAS,GACToJ,QAAS,IAEP7oC,GAAQ1oB,KAAKgV,IAAS2F,OAAS,IAAGpd,EAAEkrD,GAAKrwC,GAAE,KAAQ0gD,IAAyB51D,GAC5EwlB,GAAQ1oB,KAAKgV,IAAS2F,OAAS,IAAGpd,EAAEmrD,GAAKtwC,GAAE,IAAO0gD,IAAyB51D,OAC/EiiD,EAAKz8B,YAAcy8B,EAAKz8B,QAASnrB,sBAcjC4nD,EAAKqM,iBAAmBrM,EAAKqM,cAT3BzxD,KAAM,UACN+gD,KAAM,SACNpjD,KAAM,GACNqzD,MAAM,EACNC,QAAQ,EACRH,QAAS,EACTC,MAAO,UACPF,KAAM,8CA4BqBnM,EAAO5nC,cAAgB,gCActBsoC,EAAKxlD,UAALwlD,EAAKxlD,2CAAiBwlD,EAAKkN,UAALlN,EAAKkN,wBASnBlN,EAAKzqC,YAASrf,gCAOnB8pD,EAAKzqC,YAALyqC,EAAKzqC,6CAcTyqC,EAAKzwC,MAAMzM,UAAXk9C,EAAKzwC,MAAMzM,2CAETk9C,EAAKzwC,MAAMhX,UAAXynD,EAAKzwC,MAAMhX,2CAKXynD,EAAKzwC,MAAMozC,QAAX3C,EAAKzwC,MAAMozC,yCAKT3C,EAAKzwC,MAAM+zC,QAAXtD,EAAKzwC,MAAM+zC,yCAOpBtD,EAAKzwC,MAAMw8B,aAAXiU,EAAKzwC,MAAMw8B,8CAaZiU,EAAKzwC,MAAMM,YAAXmwC,EAAKzwC,MAAMM,6CACTmwC,EAAKzwC,MAAMO,UAAXkwC,EAAKzwC,MAAMO,2CAqBbkwC,EAAKpwC,SAASA,cAAdowC,EAAKpwC,SAASA,+CAWhBowC,EAAKpwC,SAASq4B,UAAd+X,EAAKpwC,SAASq4B,2CAWJ+X,EAAKpwC,SAAS9M,UAAdk9C,EAAKpwC,SAAS9M,2CAEZk9C,EAAKpwC,SAASrX,UAAdynD,EAAKpwC,SAASrX,2CAKdynD,EAAKpwC,SAAS+yC,QAAd3C,EAAKpwC,SAAS+yC,yCAKZ3C,EAAKpwC,SAAS0zC,QAAdtD,EAAKpwC,SAAS0zC,yCAOvBtD,EAAKpwC,SAASm8B,aAAdiU,EAAKpwC,SAASm8B,8CAafiU,EAAKpwC,SAASC,YAAdmwC,EAAKpwC,SAASC,6CACZmwC,EAAKpwC,SAASE,UAAdkwC,EAAKpwC,SAASE,2CA+BTkwC,EAAK/hC,gBAAL+hC,EAAK/hC,mDAOEpa,EAAEm/C,aAAFn/C,EAAEm/C,gDAKFn/C,EAAE+8C,cAAF/8C,EAAE+8C,iDAKR/8C,EAAEokC,UAAFpkC,EAAEokC,6CAMApkC,EAAE9F,OAAF8F,EAAE9F,2EAQJ8F,EAAE0oD,WAAF1oD,EAAE0oD,6EAiCHvM,EAAKz8B,aAALy8B,EAAKz8B,gDAOE1T,EAAOmzC,aAAPnzC,EAAOmzC,gDAIvBnzC,EAAOA,YAAPA,EAAOA,+CACLA,EAAO/M,UAAP+M,EAAO/M,6CAcG+M,EAAO9R,OAAP8R,EAAO9R,0CAEL8R,EAAOyzC,QAAPzzC,EAAOyzC,2CAELzzC,EAAO0zC,QAAP1zC,EAAO0zC,6GAaP1zC,EAAO+sB,aAAP/sB,EAAO+sB,gDAGgB/sB,EAAOu8C,aAAPv8C,EAAOu8C,+EAwBrCpM,EAAKqM,kBAALrM,EAAKqM,sFAUFL,EAAYF,YAAZE,EAAYF,+CAIhBE,EAAYP,UAAZO,EAAYP,yVClvBhCz+C,GAAY7C,4IAMd7U,KAAMA,MAAU,kFAG0BA,KAAQA,eAChDA,KAAMA,MAAU,iBAAUA,KAAQA,mNAMpC0X,GAAY7C,uEAnBb7U,mBAAcA,oBAAe2X,YAAzCnT,SACEhB,OACEA,OACEA,OAIJA,OACEA,OACAA,OAEAA,OACEA,OACAA,OACAA,OAIJA,OACEA,iCAPmDxD,KAAQA,kCACtBA,KAAQA,uCAbrCA,wBAAcA,mCAQgFkJ,SAAAlJ,2CAC/DmJ,MAAOnJ,2CAEjCmJ,MAAAnJ,KAAOkJ,SAAAlJ,2CAQmBmJ,MAAAnJ,KAAOkJ,SAAAlJ,oGA/DvCkJ,WACLC,EAAmB,IAAXD,EACR2X,GAAwBxH,OAAQ,EAAGC,GAAI,GAAvCuH,GAAsDtH,MAAO,EAAGC,MAAO,EAAGC,MAAO,EAAGC,KAAM,EAAGC,QAAS,GACtG6kD,EAAQz9D,KAAKoc,SAAW,GACxBkwC,EAAajwC,GAARohD,EAAW39C,EAAuBA,GACvCmtC,EAAa5wC,GAARohD,EAAW39C,EAAuBA,GAcvCvG,EAAW8C,IAZbgH,QAAS,EACTI,QAAS,EACTG,QAAS,EACTG,gBAAiB,EACjBC,SAAU,EACVE,WAAY,EACZI,mBAAoB,EACpBM,QAAS,EACTH,WAAY,EACZ8C,QAAS,EACTI,UAAW,QAsBXzlB,EAAOd,OAAOmiD,WAAa,IAA0B,GAApBniD,OAAOmiD,WAAmB,WAC3DniD,OAAO42D,YAAc,MACrB91D,GAAQ,mEApBRmhB,SAAU,eAAgB,4BAC1BI,SAAU,iBAAkB,4BAC5BG,SAAU,gBAAiB,yBAC3BG,iBAAkB,gBAAiB,wBACnCC,UAAW,8BAA+B,wCAC1CE,YAAa,0BAA2B,6BACxCI,oBAAqB,4BAA6B,+BAClDM,SAAU,yBAA0B,4BACpCH,YAAa,iCAAkC,mCAC/C8C,SACI,4DACA,sEAEJI,WACI,GACA,sRC3BgB1oB,KAAG,oBAG8DA,KAAG,uBACxBA,KAAG,sBACJA,KAAG,qBACSA,KAAG,kBACjBA,KAAG,q/BAbpEwE,SACEhB,kCAIAA,OACEA,qBAEAA,OACEA,qBACAA,qBACAA,qBACAA,qBACAA,iFAPkBxD,KAAG,6CAG8DA,KAAG,gDACxBA,KAAG,+CACJA,KAAG,8CACSA,KAAG,2CACjBA,KAAG,kFARpDgY,EAAG,IAAK7O,MAAOD,GAAUA,SAAAA,oLARnCA,GAAW,+FAIQ8gD,EAAOloC,MAAQ,+GCsDV9hB,KAAG,8DAAa,6GADxCwE,SACEhB,4BACAA,WAAgCxD,0DADVA,KAAG,wCACOA,UAAAA,kHAauCA,KAAG,iIAA5EwE,kCAAmDxE,iCAAsBA,KAAG,0JA5BrDA,KAAG,mBAEDA,KAAG,oBACLA,KAAG,kBAKHA,mBAAiBA,cAW9BygD,GAASzgD,KAAG,0BACZygD,GAASzgD,KAAG,wBAGCA,KAAG,uBACcA,KAAG,qBAGxC1B,OAAO4V,KAAKlU,MAAQiB,SAAW3C,OAAO4V,KAAKqI,IAAetb,UAfjD,QAATjB,8FAZqC,4GAQQ,yRAPdA,8UAJxCwE,SACEhB,OACEA,OACEA,4BACAA,OACEA,cACAA,kBAFgCxD,aAMpCwD,OACEA,4BACAA,WAAiCxD,qCAUnCwD,6BACAA,6BAEAA,OACEA,qBACAA,mGAAgCxD,qBA1BkCA,2CAE3CA,KAAG,6CAEDA,KAAG,8CACLA,KAAG,kCAFQA,yBAOXA,mBAAiBA,mCACPA,UAAAA,MAGrB,QAATA,kHAOOygD,GAASzgD,KAAG,+DACZygD,GAASzgD,KAAG,6DAGCA,KAAG,mDACcA,KAAG,qCAGxC1B,OAAO4V,KAAKlU,MAAQiB,SAAW3C,OAAO4V,KAAKqI,IAAetb,mWAtE/DiE,EAAO,GACPsI,EAAO,QACPgP,EAAM,YAuBDiiD,EAAQv5D,EAAMK,QACnBm5D,EAAOx5D,GAAQK,KACfma,aAAao6C,QAAQ,QAASj6C,KAAKM,UAAUu+C,IAC7Cr9C,GAAQqB,KAAKs3C,EAAG,sBAChB2E,aAMKA,SACL3U,EAAO5pC,MAAQ,qCAhCVlb,SACMmc,GAAQD,MAAM44C,EAAG,uBACxB0E,EAAOx5D,UACAmc,GAAQD,MAAM44C,EAAG,2BACf,QAATxsD,OACKgP,SACM6E,GAAQD,MAAM44C,EAAG,6BACtB3T,MAAWuY,SAAS15D,SAAasX,MACvC6pC,EAAKwY,OAAOtyD,WACR1I,SAASuc,MAAM9c,IAAI+iD,GACnBoY,EAAQv5D,GAAQsX,IAAAA,OACjB0E,IACCC,QAAQC,MAAMF,GACdG,GAAQD,MAAM44C,EAAG,8BAKrByE,EAAQv5D,uBAUZw5D,EAASniD,MACTmD,aAAao/C,WAAW,uBAWYtxD,6BAQDtI,gCAMCsX,wgBChCfxc,MAAIkF,MAAQ,SACzBlF,6hBAFRwE,SACEhB,wCAIAA,OACEA,OAAoCA,cACpCA,OAAiCA,cACjCA,OAAkCA,6GAPjBxD,MAAIkF,MAAQ,2BACzBlF,wKAHHA,0BAALiB,iJADiBjB,sBAAyBA,gDAA9CwE,yFACSxE,aAALiB,0HAAAA,yDADiBjB,iCAAyBA,wCAC1CiB,6CADyEiI,SAAU,0GAAVA,SAAU,+NAtB5E61D,YACA5zD,aACAC,cAOF4zD,EAAW99D,QAChB8oD,EAAO9oD,EAAIA,UACXqoD,YACA0V,EAAU1V,GAAW0V,EAAU1V,EAAU,GAAG/oD,gBAC5Cy+D,EAAU1V,GAASS,EAAO9oD,GAAKgpD,EAASjpD,mBAEnCi+D,EAAQh+D,QACb8oD,EAAOnoC,KAAO,UACdmoC,EAAOlnD,EAAIi8D,EAAQ79D,WACnB8oD,EAAO9oD,EAAIA,oItEsBO,IAAC5B,EAAOi6C,EAAKv4C,qBAAZ1B,EsErCF6L,EAAQ,GtEqCCouC,EsErCG,EtEqCEv4C,EsErCC,GAAjCm+D,EtEsCQp+D,KAAKC,IAAID,KAAKw4C,IAAIx4C,KAAKuV,MAAMhX,GAAQ0B,GAAMu4C,yBsErCnDiK,EAAOub,EAAQvsD,KAAI1P,IACbonD,EAASpnD,SACVonD,EAASpnD,GAAKyoD,QACXrB,EAASpnD,8BAuBSk8D,EAAW99D,MACXg+D,EAAQh+D,MACRqiD,GAASriD,2NCmCvBlB,0BAALiB,4IADJuD,kFACSxE,aAALiB,+HAAAA,iEAHCjB,KAAWiB,OAAS,EAAIjB,KAAG,mBAAqBA,KAAOua,aAAgBva,KAAO+hB,aAAiB/hB,KAAOkpC,0CAAxC,kBAAwB,qCAA3F1kC,qEAAKxE,KAAWiB,OAAS,EAAIjB,KAAG,mBAAqBA,KAAOua,uEAI7Bva,UAAuBA,WAAiBA,sDAA1B,kBAAiB,0EAA1DwE,SAAKhB,yFAMCxD,KAAG,qDAAbwE,2CAAUxE,KAAG,0JAlBVA,KAAG,+BAiBHA,KAAWA,QAKXA,KAAG,qBACJA,KAAG,yBACHA,KAAG,yBAGFA,KAAG,uBAzBHA,KAAWiB,kCAETjB,KAAG,4GADRwE,kBACAA,oCAAKxE,KAAG,mGAGLA,oNAemB,kHAKC,kBAAc,2QA/B3CwE,SACEhB,cAEAA,OACEA,yFAqBAA,cACAA,yBAA8CxD,eAC9CwD,qBACAA,qBAEAA,cACAA,yBAAkCxD,mBAAcA,eAChDwD,uEA5BKxD,KAAG,sCAEHA,KAAWiB,oCAeXjB,KAAWA,0FAKXA,KAAG,8CACJA,KAAG,kDACHA,KAAG,kDAGFA,KAAG,6VAnFNiuB,EADOtlB,MAAMC,KAAK/E,SAASugD,iBAAiB,YAC7B5xC,KAAI46C,GAAOzkD,MAAMC,KAAKwkD,EAAIhJ,iBAAiB,oBAAoB5xC,KAAIg5B,GAAMA,EAAGhlC,aAAa,cAAYizD,OAEpH2F,EAAgBpF,EAAG,yBACnBqF,EAAerF,EAAG,wBAClBsF,EAAetF,EAAG,wBAClBuF,EAAUvF,EAAG,mBAEbwF,EAAgBvhD,GAAK,oCAAqC,UAC1DwhD,EAAOxhD,GAAK,+CAAgD,aAC5DyhD,EAAczhD,GAAK,uCAAwC,gBAC3Dw8C,GAAmB/qD,EAAOxI,WACtBozD,EAAiBC,IAAcC,KAAW9qD,KAASxI,UAClDozD,EAAiBN,KAAMtqD,KAASxI,KAASA,GAE9C0mD,UAAqBjrD,IAAIsrB,IAC1Bzb,KAAI+H,UACCixB,EAAK3nC,SAASsgD,eAAe5pC,GAC7BolD,EAAan0B,EAAGhlC,aAAa,WAC7Bo5D,WAWc79C,UACfA,EAEDA,EAAQuhC,SAAS,gBACVgc,EACPv9C,EAAQuhC,SAAS,YACV,cACPvhC,EAAQuhC,SAAS,YACV,cACPvhC,EAAQuhC,SAAS,SACV,WACPvhC,EAAQuhC,SAAS,SACV,WACPvhC,EAAQuhC,SAAS,SACV,WACPvhC,EAAQuhC,SAAS,MACV,QACPvhC,EAAQuhC,SAAS,QACVic,EACJx9C,EAjBI,KAbS89C,CAAeF,GAC7BG,EAAYt0B,EAAGhlC,aAAa,UAC5B8uD,EAAS9pB,EAAGhlC,aAAa,YAAcs5D,MAAgBnc,IAAImc,GAAW77D,KAAO,MAC7E8d,EAAU49C,GAAcC,EAAc3hD,GAAK0hD,EAAYC,GAAeR,EACtEl2B,EAAS42B,EAAY7hD,GAAK6hD,EAAWxK,GAAUA,GAAU+J,SACtD9kD,OAAQkgD,EAAgB,UAAWlgD,GAASwH,QAAAA,EAASmnB,OAAAA,MAE7D62B,OAAMjhE,EAAGC,IAAOD,EAAEijB,QAAUhjB,EAAEgjB,SAAW,EAAI,IAC5Ci+C,EAA8F,YAAtEr9D,IAAIirD,EAAWp7C,KAAIvN,IAAMA,EAAE8c,QAAS9c,EAAEikC,QAAQr+B,KAAK,SAAQ5J,OACnFsZ,EAASylD,EAAgBpS,EAAW,GAAK,kBA7B3B3tC,IAAY,SAAU,SAAU,aAAc,YAAa,UAAW,YAAYqjC,SAASrjC,wBAuDtF+pC,EAAOjoC,QAAU,wECzD1C,SAASk+C,GAAKv8D,GAAMkF,KAAEA,EAAIwiC,GAAEA,GAAM18B,EAAS,IACvC,MAAMrK,EAAQ4G,iBAAiBvH,GACzB8H,EAAgC,SAApBnH,EAAMmH,UAAuB,GAAKnH,EAAMmH,WACnD00D,EAAIC,GAAM97D,EAAM+7D,gBAAgB71D,MAAM,KAAKiI,IAAIu9B,YAChDihB,EAAMpoD,EAAK0C,KAAO1C,EAAKuC,MAAQ+0D,EAAK90B,EAAGjgC,OAAUigC,EAAG9/B,KAAO40D,GAC3DjP,EAAMroD,EAAK2C,IAAM3C,EAAKwC,OAAS+0D,EAAK/0B,EAAGhgC,QAAWggC,EAAG7/B,IAAM40D,IAC3Dh3D,MAAEA,EAAQ,EAACD,SAAEA,EAAW,CAACjE,GAAqB,IAAflE,KAAKs/D,KAAKp7D,IAAQ+J,OAAEA,EAAS4xC,IAAalyC,EAC/E,MAAO,CACHvF,MAAAA,EACAD,SAAUvK,EAAYuK,GAAYA,EAASnI,KAAKs/D,KAAKrP,EAAKA,EAAKC,EAAKA,IAAO/nD,EAC3E8F,OAAAA,EACAE,IAAK,CAACzG,EAAGo2C,KACL,MAAM3gD,EAAI2gD,EAAImS,EACRh5C,EAAI6mC,EAAIoS,EACRkB,EAAK1pD,EAAIo2C,EAAIj2C,EAAKuC,MAAQigC,EAAGjgC,MAC7BinD,EAAK3pD,EAAIo2C,EAAIj2C,EAAKwC,OAASggC,EAAGhgC,OACpC,MAAO,cAAcI,eAAuBtN,QAAQ8Z,cAAcm6C,MAAOC,kWCgGpEpyD,kBAAgBA,8EAArBwE,4CAAKxE,kBAAgBA,gFAkBYA,KAAeA,mIAAlB,8CANnBA,KAAesjD,SAAStjD,OAAQ,EAAI,8CAGlCA,KAAWA,OAASA,+HAN/BwE,SACEhB,cAQAA,4EANOxD,KAAesjD,SAAStjD,OAAQ,EAAI,gCAGlCA,KAAWA,OAASA,oCAGAA,KAAeA,6EAX3CA,kBAAgBA,6BACd1B,OAAO4V,KAAKlU,KAAWA,mBAAmBA,sBAA/CiB,oNAFJuD,SACEhB,mGAAKxD,kBAAgBA,kCACd1B,OAAO4V,KAAKlU,KAAWA,4HAuBIA,KAAG,4DAAnCwE,kCAAkBxE,qCAAcA,KAAG,mFAFEA,KAAG,8DAAxCwE,kCAAkBxE,qCAAmBA,KAAG,iFAkBrCA,kBAAgBA,gDAArBwE,wCAAKxE,kBAAgBA,8GAYOA,KAAG,yBACFA,KAAG,0BACJA,KAAG,+SANGA,KAAG,mOAGfA,KAAQwN,uVALhChJ,SACEhB,OACEA,WAAkExD,KAAQkF,aAE5E1B,OACEA,OACEA,cACAA,cACAA,kBAHkBxD,KAAQwN,aAM9BhK,OACEA,WAAgCxD,KAAQq2D,cAE1C7yD,OACEA,WAA4DxD,KAAQsgE,eAEtE98D,OACEA,4GAAqCxD,2CAhBLA,KAAG,4DAA+BA,KAAQkF,UAARlF,KAAQkF,4BAIhDlF,KAAG,sDACFA,KAAG,uDACJA,KAAG,4CAHTA,KAAQwN,kBAOIxN,KAAQq2D,4BAGoBr2D,KAAQsgE,YAARtgE,KAAQsgE,uUAuBlDtgE,KAAG,iEAJnBwE,SAOEhB,mFAHcxD,KAAG,wOAsBnBwE,iIAFmF,sEAAxCxE,KAAG,iCAA9CwE,uEAA2CxE,KAAG,oJAlC7CA,MAAgBA,YAChBA,kBAAgBA,cA6BUA,KAAeA,qDArBvCoZ,GAAepZ,QAAiBA,KAAQA,SAAkBoZ,GAAepZ,sFAwBzEoZ,GAAepZ,gNAHM,6IAxBVA,KAAG,iKAqBVA,KAAWA,OAAMA,4JA5B9BwE,SACEhB,qBACAA,qBACAA,OACEA,WAEcxD,KAAQA,qCAgBxBwD,OACEA,cAQAA,4BAEFA,yHAhCKxD,MAAgBA,mCAChBA,kBAAgBA,qCAKHA,KAAG,4DADLA,KAAQA,QAIjBoZ,GAAepZ,QAAiBA,KAAQA,SAAkBoZ,GAAepZ,iFAkBrEA,KAAWA,OAAMA,qCAGGA,KAAeA,wJ5EgoB1D,SAA0B0D,EAAMkF,EAAMxK,EAAIsQ,GACtC,IAAK9F,EACD,OAAO5K,EACX,MAAMotC,EAAK1nC,EAAK2H,wBAChB,GAAIzC,EAAK0C,OAAS8/B,EAAG9/B,MAAQ1C,EAAK23D,QAAUn1B,EAAGm1B,OAAS33D,EAAK2C,MAAQ6/B,EAAG7/B,KAAO3C,EAAK43D,SAAWp1B,EAAGo1B,OAC9F,OAAOxiE,EACX,MAAMmL,MAAEA,EAAQ,EAACD,SAAEA,EAAW,IAAG8F,OAAEA,EAAS/Q,EAE5CqR,MAAOH,EAAa/M,IAAQ+G,EAAKqG,IAEjCA,EAAML,EAAajG,EAAQ+F,KAAEA,EAAOjR,EAAIkR,IAAEA,GAAQ9Q,EAAGsF,EAAM,CAAEkF,KAAAA,EAAMwiC,GAAAA,GAAM18B,GACzE,IAEIxJ,EAFA2J,GAAU,EACVQ,GAAU,EAUd,SAASkP,IACDrP,GACA7E,EAAY3G,EAAMwB,GACtB2J,GAAU,EAsBd,OApBA3L,GAAKd,IAQD,IAPKiN,GAAWjN,GAAO+M,IACnBE,GAAU,GAEVA,GAAWjN,GAAOoN,IAClBP,EAAK,EAAG,GACRsP,MAEC1P,EACD,OAAO,EAEX,GAAIQ,EAAS,CACT,MACM5G,EAAI,EAAI,EAAIuG,GADR5M,EAAM+M,GACajG,GAC7B+F,EAAKxG,EAAG,EAAIA,GAEhB,OAAO,KA5BHyG,IACAhK,EAAO+D,EAAYvF,EAAM,EAAG,EAAGwF,EAAUC,EAAO6F,EAAQE,IAEvD/F,IACDkG,GAAU,GA2BlBJ,EAAK,EAAG,GACDsP,6K4EvvBoCve,KAAG,yCApCjC1B,OAAO4V,KAAKlU,KAAWia,kBAAgBja,sBAA5CiB,kEAMI,QAAS,WAAY,sBAAsBjB,mGAuB1CA,KAAQygE,qCAkBP,OAAQ,OAAQ,QAAS,SAAU,iEAMxCzgE,KAAQygE,eAuBNzgE,iBAAoCA,uBAAzCiB,23BApFVuD,SACEhB,cAEAA,OACEA,OACEA,OACEA,OACEA,gEAMJA,kDAoBAA,OACEA,OACEA,cACAA,2BAOAA,OACEA,qBAOVA,OACEA,OACEA,OACEA,mDAMFA,kGA3DYxD,mBA2CYA,qCApCb1B,OAAO4V,KAAKlU,KAAWia,2DAMxB,QAAS,WAAY,kJA8BUja,KAAG,wDAWhC,OAAQ,OAAQ,QAAS,SAAU,kIAMxCA,KAAQygE,oIAuBNzgE,6hBAtLT0gE,GAAYD,MAAM,EAAOv7D,KAAM,GAAIsI,KAAM,UAAW6oD,MAAO,UAAWiK,OAAQ,aAGzEp5D,KAAOy1D,SACPA,EAAWz1D,GAAK+V,YAErB7I,GAAS,SAAU,UAAW,cAShCwwC,cACK+b,EAAKz5D,EAAK5H,GACXslD,EAAOtB,SAASp8C,GAChBwY,aAAao6C,QAAQ5yD,EAAK2Y,KAAKM,UAAU7gB,IAEzCslD,EAAO/kD,KAAKqH,YAEX05D,EAAoBx8D,EAASoJ,EAAM5H,SAClCnC,EAASmC,EAAMnC,OACfo9D,GAAYp9D,EAAOnE,MACnBi6C,GAAO91C,EAAO81C,QAChBunB,MAAMD,UAINA,EAAWtnB,GACXl4B,GAAQD,MAAM,mCACd3d,EAAOnE,MAAQorC,OAAO6O,eAG1BojB,EAAWv4D,GAASoJ,GAAQqzD,KARxBx/C,GAAQD,MAAM,+BAUb2/C,EAAqBvzD,EAAMovD,EAAch3D,SACxCnC,EAASmC,EAAMnC,OACfo9D,GAAYp9D,EAAOnE,SACrBwhE,MAAMD,GACNx/C,GAAQD,MAAM,8BAGdy/C,EAAW,SACLvR,MAAqBqN,EAAWnvD,IACtC8hD,EAAcsN,GAAgB,QACxB57C,EAAc1iB,OAAO8gB,OAAOkwC,GAAeruC,SAAQniB,EAAGC,IAAMD,EAAIC,GAAG,MACrEiiB,EAAc,SACdK,GAAQD,MAAM,uCACd3d,EAAOnE,MAAQorC,OAAO,SAI9BiyB,EAAWnvD,GAAMovD,GAAgBiE,eAE5BG,EAAepE,EAAcpvD,UAC3BmvD,EAAWnvD,GAAMovD,oBAEjBnF,EAAQmF,0DApDhBxR,EAAQh3C,EAAM5B,KAAIhF,GAAQlP,OAAO4V,KAAKyoD,EAAWnvD,IAAOgF,KAAIq8C,KAAepmD,EAAGomD,EAAUrhD,KAAAA,QAAUisD,yBAClGkH,EAAK,YAAahE,oBAClBgE,EAAK,SAAUlJ,wBACfwJ,EAAkBzzD,GACDlP,OAAO8gB,OAAOu9C,EAAWnvD,IAC1ByT,SAAQniB,EAAGC,IAAMD,EAAIC,GAAG,mBAXnB,SAAU,gCA8D9B2hE,EAAQD,MAAO,KACfp/C,GAAQqB,KAAK,sBAAuB,qBAGpCg+C,EAAQD,MAAO,sBAGfzW,EAAOnpC,UAAY,uBAGb3b,EAAO2Y,GAAS6iD,EAAQx7D,MACzBA,IAAQuyD,EAAQvyD,SAIrBy3D,EAAW+D,EAAQlzD,MAAMtI,GAAQw7D,EAAQJ,eACzC7I,EAAQvyD,GAAQw7D,EAAQrK,aACxBqK,EAAQD,MAAO,SACfC,EAAQx7D,KAAO,MACfmc,GAAQqB,KAAK,0BAPTrB,GAAQD,MAAM,4CAUlBu7C,EAAa98C,KAAKC,MAAMD,KAAKM,UAAUnG,aACvCy9C,EAAU53C,KAAKC,MAAMD,KAAKM,UAAU/G,QACpCsG,aAAao/C,WAAW,aACxBp/C,aAAao/C,WAAW,UACxBla,KACAvjC,GAAQqB,KAAK,mCAEQk6C,SACfsE,EAAalH,eAAgB4C,YAC5BsE,EAAWvwB,WAAW,cAAgBisB,EAAesE,QA6BnCt7D,IAASg7D,EAAoBx8D,EAASoJ,EAAM5H,cAuCO86D,EAAQx7D,mCAGtDw7D,EAAQlzD,gCAOIkzD,EAAQrK,oCAGoBqK,EAAQJ,yCActD7I,EAAQmF,+CAMDnF,EAAQmF,GAAgBxjD,GAAewjD,WAiB/Ch3D,IAASm7D,EAAqBvzD,EAAMovD,EAAch3D,UAQlBo7D,EAAepE,EAAcpvD,wUC/JhFhJ,4XAVRA,SAMEhB,cACAA,OACEA,6BAIEA,iDAA4CxD,KAAOmhE,kBAV/BnhE,KAAOohE,6NA/CxBA,IAAwBC,oBAAgB5e,EAAK6e,MAAEA,YAC7C7e,EAAMxhD,WAAawhD,GAAS6e,EAAM72D,UAAU6C,KAAAA,KAAoB,SAATA,IAAiBkF,OAAO+uD,UAAAA,KAAgBA,eAEjGJ,WAAyB19D,UACxBg/C,EAAQh/C,EAAOg/C,UAAYh/C,EAAOg/C,iBACxCh/C,EAAOnE,MAAQ,GACRmjD,wJAjBP+e,GAAW,2DACCC,GAAsB77D,QAClC47D,GAAW,SACL/e,EAAQgf,EAAiB77D,GACzB+8C,EAAOF,EAAMxhD,OAASwhD,EAAM,MAC7BE,EAAKn1C,KAAKu/B,MAAM,sBAcR4V,SACP6D,MAAaC,WACnBD,EAAO0B,sBACC1E,MAEAA,EAAO3jC,KAAKC,MAAM1Z,KAAKgY,cAEpBgD,eACHC,GAAQD,MAAM,uBAGd4oC,EAAOnoC,KAEPe,GAAQtf,IAAIuc,KAAKM,UAAUqjC,EAAK,gBAI1B/vC,EAAIy2C,EAASjpD,iBACPC,EAAGksD,KAAQ5J,EAAKtR,eACxBgY,EAASz2C,EAAIvS,GAAKksD,WAEhB2R,EAAUE,EAAU1V,GAAStoD,YACnCsoD,YACA0V,EAAU1V,GAAW5gD,MAAMC,MAAO3H,OAAQuiD,EAAKviD,UAAW1B,EAAG2B,IAAMuS,EAAIvS,iBAC9DA,EAAIsiD,EAAKviD,OAAQC,EAAI69D,EAAS79D,SAEnCgpD,EAASz2C,EAAIvS,IAAOmsD,GAAI,aACxB4R,EAAU1V,GAAS1pD,KAAK4T,EAAIvS,QAGpC8oD,EAAOhoC,OAAS,KAChBX,GAAQkB,QAAQ,sBAEpBikC,EAAOkb,WAAW/e,GA3ClBgf,CAAQhf,GAHJthC,GAAQD,MAAM,qCAwDG4oC,EAAOhoC,OAAS,aAHJw/C,GAAW,WACVA,GAAW,6HCzDbxhE,6BACLA,iCACGA,8BACmCA,mkCAJjDA,qCAApBwE,SACEhB,cACAA,cACAA,cACAA,cACAA,OACAA,OACAA,OACAA,OACAA,OACAA,WAVkBxD,2DACgBA,gDACLA,oDACGA,iDACmCA,kDAJjDA,kGAHT+hB,yEAGSA,8FCLb,MAAMo3C,GAAQt1D,SAASgE,cAAcmK,KAAKnO,UACzBA,SAASugD,iBAAiBpyC,KAAKnO,UACvD+9D,KAAKv5B,UAAUswB,GAAKx2D,OAAOw2D,GAAK,SAAUzzD,EAAM9G,GAC5CgI,KAAKL,iBAAiBb,EAAM9G,IAEhCwjE,KAAKv5B,UAAUw5B,IAAM1/D,OAAO0/D,IAAM,SAAU38D,EAAM9G,GAC9CgI,KAAKJ,oBAAoBd,EAAM9G,2SC+JzBoG,sMAFJA,+BAIEhB,8BAA8CxD,MAAOmhE,2cAf1C7iE,OAAO4V,KAAKlU,KAAQoU,8BAAzBnT,82BA1CG,IAAMjB,MAAQ,EAAIA,qBAClB,IAAMA,MAAQ,EAAIA,wBACfA,yBACCA,oBAEF0X,GAAY1X,wQAZd2X,+3BAgDa3X,6NArDxBwE,SASEhB,OACEA,OAOAA,OACAA,gBAIJgB,SACEhB,OACEA,cACAA,WAAiCxD,aAEnCwD,OACEA,cACAA,WAAiCxD,aAEnCwD,OACEA,cACAA,WAAiCxD,aAEnCwD,OACEA,cACAA,WAAmBxD,aAErBwD,OACEA,cACAA,WAAmBxD,cAErBwD,OACEA,qCAGFA,QACEA,kBACAA,cAAoDxD,cAEtDwD,QACEA,kBACAA,4DAAoBxD,cAMtBwD,QACEA,kBACAA,0VADkBxD,kEAhDX,IAAMA,MAAQ,EAAIA,8CAClB,IAAMA,MAAQ,EAAIA,4CACfA,gDACCA,oDAEF0X,GAAY1X,0CAQYA,UAAAA,4BAIAA,UAAAA,4BAIAA,UAAAA,0BAIdA,UAAAA,2BAIAA,WAAAA,0GAQiCA,WAAAA,2BAK3C1B,OAAO4V,KAAKlU,KAAQoU,gBAAzBnT,0IAAAA,sBADgBjB,oKAEGA,qDAAJA,gCAAfwE,uCAAmBxE,iCAAJA,yIAxDpBA,mPARTwE,SAMEhB,cACAA,kEALwBxD,MAAOohE,oSA1DxBA,IAAwBC,oBAAgB5e,EAAK6e,MAAEA,YAC7C7e,EAAMxhD,WAAawhD,GAAS6e,EAAM72D,UAAU6C,KAAAA,KAAoB,SAATA,IAAiBkF,OAAO+uD,UAAAA,KAAgBA,eAEjGJ,WAAyB19D,UACxBg/C,EAAQh/C,EAAOg/C,UAAYh/C,EAAOg/C,iBACxCh/C,EAAOnE,MAAQ,GACRmjD,wGAxBPv9C,EAEAgkC,EACAnnB,EACAuzC,6BATAkM,GAAW,EACX/5D,GAAW,EACXxE,EAAO,GACP6+D,EAAU,EACVC,EAAU,EAEV1I,EAAW,4FAIAoI,GAAoB77D,QAC/B47D,GAAW,SACL/e,EAAQgf,EAAiB77D,GACzB+8C,EAAOF,EAAMxhD,OAASwhD,EAAM,MAC7BE,EAAKn1C,KAAKu/B,MAAM,gBAIrBtlC,GAAW,GACX4Z,GAAQqB,KAAK,+BACbxd,EAAO2Y,GAAS8kC,EAAKz9C,gBAWNy9C,SACT6D,MAAaC,WACnBD,EAAO0B,gBAAmB8Z,SAChB1b,EAAU0b,EAAYv+D,OAAO2a,OACrBva,SAASsgD,eAAe,gBAAgBt8C,cAAc,aAC9DpB,aAAa,OAAQ6/C,IAE/BE,EAAOI,cAAcjE,GAjBrBsf,CAAUtf,IANNthC,GAAQD,MAAM,sCA0BZo4C,EAAal7D,OAAO4V,KAAK+Z,GAAQ7Z,OAClC5B,KAAIhF,GAAQlP,OAAO4V,KAAK+Z,GAAQzgB,MAChCisD,cACLv0D,EAAO2Y,GAAS3Y,KACXA,GAAQrB,SAASsgD,eAAej/C,IAASs0D,EAAWlW,SAASp+C,eAC9Dmc,GAAQD,MAAM,uBAGb6M,GAAQ7Z,MAAMilD,QACfprC,GAAQ7Z,MAAMilD,GAAY,MACzBprC,GAAQlP,OAAOs6C,QAChBprC,GAAQlP,OAAOs6C,GAAY,UAC/BprC,GAAQorC,GAAUn0D,GAAQ,aAEnB+oB,GAAQ7Z,MAAM6I,aACdgR,GAAQlP,OAAO9B,aACfgR,GAAQorC,GAAUp8C,YACnBilD,EAAQ/I,GAAM,2BAA2BpU,WAAU,GACzDmd,EAAMhiB,GAAKh7C,EACPgkC,GACAg5B,EAAMz7D,aAAa,SAAUyiC,GAC7BnnB,GACAmgD,EAAMz7D,aAAa,UAAWsb,GAC9BuzC,GACA4M,EAAMz7D,aAAa,SAAU6uD,QACjCuE,EAAU30D,IACNm0D,SAAAA,EACA7rD,KAAM,SACN0nD,QAASgN,EAAM3c,cAEnB7lC,aAAao6C,QAAQ,WAAYj6C,KAAKM,UAAU05C,IAChDpE,GAAavwD,OACbuC,GAAW,QACXuiD,EAAO/nC,OAAS,KAChBZ,GAAQkB,QAAQ,qCAUKynC,EAAO/nC,OAAS,gBA4BEhf,mCAIA6+D,mCAIAC,mCAId74B,gCAIAosB,yDAQiCpwD,gCAIhCm0D,kCAQK5xD,GAAW,WAnET+5D,GAAW,WACVA,GAAW,0bCoIvCh9D,kSAFJA,+BAIEhB,gBAEFgB,iCAF6CxE,MAAOmhE,iBAEjBgB,4WA3CtBniE,6BAALiB,oKAyBK3C,OAAO4V,KAAKlU,KAAQoU,8BAAzBnT,w/BAvDKyW,GAAY1X,wNARjBA,iEAGG2X,spBAkCa3X,wqBAyBAA,iOAjExBwE,SAUEhB,OACEA,OACAA,OAEFA,mBAAUxD,cAGZwE,SACEhB,cACAA,WAA+BxD,eAGjCwE,SACEhB,OACEA,cACAA,WAA0DxD,KAAUmI,UACpE3E,WAA0DxD,KAAUgD,UAGtEQ,OACEA,cACAA,WAA2DxD,KAAUlB,UACrE0E,WAA2DxD,KAAUiF,UAGvEzB,OAIEA,cACAA,wDAAoBxD,aAOtBwD,OACEA,cACAA,WAAmBxD,aAErBwD,OACEA,eACAA,aAAmBxD,eAErBwD,QACEA,yCAGFA,QACEA,kBACAA,cAAoDxD,cAEtDwD,QACEA,kBACAA,4DAAoBxD,cAOtBwD,QACEA,kBACAA,sZADkBxD,sEA9DT0X,GAAY1X,kDAGbA,oCAXJA,mBAgByBA,2BAM6BA,KAAUmI,OAAVnI,KAAUmI,wBACVnI,KAAUgD,OAAVhD,KAAUgD,wBAKThD,KAAUlB,OAAVkB,KAAUlB,wBACVkB,KAAUiF,OAAVjF,KAAUiF,4BAS5DjF,eAALiB,yIAAAA,uBADgBjB,0BASDA,UAAAA,4BAIAA,YAAAA,0GAQiCA,WAAAA,2BAK3C1B,OAAO4V,KAAKlU,KAAQoU,gBAAzBnT,0IAAAA,qBADgBjB,4LAvBmBA,qDAApBA,MAAQA,iCAAvBwE,0CAAexE,MAAQA,oFAyBJA,qDAAJA,gCAAfwE,uCAAmBxE,iCAAJA,yIApEpBA,sPARTwE,SAMEhB,cACAA,kEALwBxD,MAAOohE,oSA3FxBA,IAAwBC,oBAAgB5e,EAAK6e,MAAEA,YAC7C7e,EAAMxhD,WAAawhD,GAAS6e,EAAM72D,UAAU6C,KAAAA,KAAoB,SAATA,IAAiBkF,OAAO+uD,UAAAA,KAAgBA,eAEjGJ,WAAyB19D,UACxBg/C,EAAQh/C,EAAOg/C,UAAYh/C,EAAOg/C,iBACxCh/C,EAAOnE,MAAQ,GACRmjD,WAuEF0f,KACLhkD,MAAM,wBAAwB5R,MAAKjH,GACxBA,EAAKm+C,OAAOl3C,MAAKk3C,UACd3kD,EAAI+E,SAASsB,cAAc,KACjCrG,EAAEilD,KAAOJ,IAAIC,gBAAgBH,GAC7B3kD,EAAE2H,aAAa,WAAY,6BAC3B3H,EAAEklD,qKAtHVa,EAEA3/C,EAGAgkC,EACAnnB,EACAuzC,6BATAkM,GAAW,EACX/5D,GAAW,EAEX+D,GAAc1M,EAAG,EAAGC,EAAG,EAAG+D,EAAG,EAAGmC,EAAG,EAAGkD,EAAG,EAAGnF,EAAG,GAE/Cq2D,EAAW,WACXhD,EAAQ,gBAIN+L,GAAgB,SAAU,UAAW,UAAU5vD,KAAIhF,GAAQlP,OAAO4V,KAAKyoD,EAAWnvD,MAAQisD,uGAEvEjuD,OAChBq5C,eAECrZ,EAAK3nC,SAASsB,cAAc,QAClCqmC,EAAG9iC,UAAYm8C,QACT9sC,EAAIyzB,EAAG3jC,cAAc,KACrBw6D,EAAkB/jE,OAAO8gB,OAAO5T,GAAWX,KAAK,KAC9B,gBAApBw3D,EACAtqD,EAAExR,gBAAgB,aAElBwR,EAAEtR,aAAa,YAAa,UAAY47D,EAAkB,SAC9Dxd,EAAM9sC,EAAEwtC,WAZT+c,CAAgB92D,oCAcHi2D,GAAsB77D,QAClC47D,GAAW,SACL/e,EAAQgf,EAAiB77D,GACzB+8C,EAAOF,EAAMxhD,OAASwhD,EAAM,MAC7BE,EAAKn1C,KAAKu/B,MAAM,qBAIrBtlC,GAAW,OACXvC,EAAO2Y,GAAS8kC,EAAKz9C,gBAWNy9C,SACT6D,MAAaC,WACnBD,EAAO0B,gBAAmB8Z,SAChBO,EAAUP,EAAYv+D,OAAO2a,OAC7BotB,EAAK3nC,SAASsB,cAAc,QAClCqmC,EAAG9iC,UAAY65D,EAEf/2B,EAAG4Y,iBAAiB,KAAK1lD,SAAQ8sC,IACVA,EAAGg3B,oBACX9jE,SAAQ2H,KACXA,EAAKi9C,SAAS,aAAej9C,EAAKi9C,SAAS,cAC3C9X,EAAGjlC,gBAAgBF,eAGzB0R,EAAIyzB,EAAG3jC,cAAc,SACtBkQ,SACDsJ,GAAQD,MAAM,+BACd3Z,GAAW,SAGTg7D,EAAe1qD,EAAEvM,UAAUk3D,QAAQC,iBACrCF,WACQ3jE,EAACC,EAAEA,EAAC+D,EAAEA,EAACmC,EAAEA,EAACkD,EAAEA,EAACnF,EAAEA,GAAMy/D,EAAa9gD,OACpCihD,EAAMx6D,IAAMA,EAAEy6D,QAAQ,OAC5Br3D,EAAYlN,OAAOiC,OAAOiL,GAAa1M,EAAG8jE,EAAI9jE,GAAIC,EAAG6jE,EAAI7jE,GAAI+D,EAAG8/D,EAAI9/D,GAAImC,EAAG29D,EAAI39D,GAAIkD,EAAGy6D,EAAIz6D,GAAInF,EAAG4/D,EAAI5/D,MAEzG+U,EAAExR,gBAAgB,UAClBs+C,EAAM9sC,EAAEwtC,YAEZiB,EAAOkb,WAAW/e,GAvClBsf,CAAUtf,IALNthC,GAAQD,MAAM,wCA+CZo4C,EAAal7D,OAAO4V,KAAK+Z,GAAQ7Z,OAClC5B,KAAIhF,GAAQlP,OAAO4V,KAAK+Z,GAAQzgB,MAChCisD,cACLv0D,EAAO2Y,GAAS3Y,KACXA,GAAQrB,SAASsgD,eAAej/C,IAASs0D,EAAWlW,SAASp+C,eAC9Dmc,GAAQD,MAAM,uBAGb6M,GAAQ7Z,MAAMilD,QACfprC,GAAQ7Z,MAAMilD,GAAY,MACzBprC,GAAQlP,OAAOs6C,QAChBprC,GAAQlP,OAAOs6C,GAAY,UAC/BprC,GAAQorC,GAAUn0D,GAAQ,YACpBgb,EAAS2kC,EAAIvB,SAAS,YAAc,EAAIuB,EAAIvB,SAAS,aAAe,EAAI,MAC9Er1B,GAAQ1oB,KAAKL,IAAUgb,OAAAA,aACjBsrB,EAAK3nC,SAASsB,cAAc,QAClCqmC,EAAG9iC,UAAYm8C,QACTqd,EAAQ12B,EAAG3jC,cAAc,KAC/Bq6D,EAAMhiB,GAAKh7C,EACPgkC,GACAg5B,EAAMz7D,aAAa,SAAUyiC,GAC7BnnB,GACAmgD,EAAMz7D,aAAa,UAAWsb,GAC9BuzC,GACA4M,EAAMz7D,aAAa,SAAU6uD,QACjCuE,EAAU30D,IACNm0D,SAAAA,EACA7rD,KAAM,SACNjI,MAAQ2a,OAAAA,GACRg1C,QAASgN,EAAM3c,cAEnB7lC,aAAao6C,QAAQ,WAAYj6C,KAAKM,UAAU05C,IAChDpE,GAAavwD,OACbuC,GAAW,QACXuiD,EAAO9nC,OAAS,KAChBb,GAAQkB,QAAQ,qCAoBKynC,EAAO9nC,OAAS,gBAsBF2iC,gCAM6Br5C,EAAUrD,mCACVqD,EAAUxI,mCAKTwI,EAAU1M,mCACV0M,EAAUvG,mCAQjDoxD,qCASDntB,gCAIAosB,yDAQiCpwD,gCAIhCm0D,kCASK5xD,GAAW,WAhFT+5D,GAAW,WACVA,GAAW,gKC1HpBxhE,YAAiBA,qEAD9CwE,6CAA2Bqd,6CACE7hB,qBAAiBA,2HAVnC6hB,YACkBihD,gBAAgB3gE,OAAO0xC,SAAShC,QACxC9kC,IAAI,uBACf42C,EAAMxhD,OAAO0xC,SAASkQ,KAAKhmC,QAAQ,SAAU,UACvC5b,OAAO4gE,KAAKpf,EAAK,UACzBqf,6DATKlgE,EAAC2oD,KAAEA,EAAIwX,QAAEA,KAEhB7V,EAAMlD,EAASpnD,IAAMyoD,GAASE,QAAQ7qD,ojDCE1C4D,SACEhB,OACEA,yBADaxD,iEAFbA,6EAAAA,sKAJF6zC,SAASkQ,KAAOlQ,SAASqvB,OAASrvB,SAASsvB,iICI1CnjE,cADHwE,iCACGxE,mCADakJ,SAAU,8DADvBlJ,6EAAAA,qKAHM+qB,4bCWQ/qB,oDADfwE,SACEhB,+BAAaxD,kIAFZA,MAASA,oIADaA,6DAA7BwE,kUAA6BxE,mNANlBV,YACAyrB,UACAmuC,WACAkK,GAAO,2kBCgBCpjE,mDADfwE,SACEhB,+BAAaxD,kIAFZA,MAASA,sIAD0DA,yBAAmBA,wBAAsBA,2HAAnHwE,sEAAqIxE,sRAA3DA,oCAAmBA,oCAAsBA,wSAhBxGV,YACAyrB,UACAmuC,cACAV,aACAC,eACA4K,GAAW,eACX57D,GAAW,cACX67D,GAAU,YACV/C,GAAQ,cACRgD,8XACU39D,IACjBA,EAAMswD,kBACNqN,+NCFqD,yBAAjBvjE,2CAAtCwE,mCAAgBxE,gEAAsBA,uDADnCi+D,QAAQj+D,0FAARi+D,QAAQj+D,wKAVFkH,oFACRs8D,EAAS9jD,aAAaC,QAAQzY,uBAC9BgyD,EAAMc,oCACOp0D,GACZA,EAAMswD,kBACNx2C,aAAao/C,WAAW53D,OACxBs8D,EAAS,gOCeExjE,eAAaA,QAAcA,wEAFjB0X,GAAY1X,oHADFA,OAAeA,cAApCwE,SACEhB,8DADmBxD,OAAeA,kBAGnCA,eAAaA,QAAcA,wZAKxBA,qBAAmBA,kEAAnBA,qBAAmBA,qEAVpBA,KAAiBA,2BAAtBiB,6TAFNuD,SACEhB,+GACSxD,KAAiBA,cAAtBiB,0HAAAA,uHAAAA,iMAkBLjB,sKAAAA,sLAFWA,KAAG,yIAAHA,KAAG,iLADbA,OAlBGyX,wBAALxW,uOAFNuD,SACEhB,yGACSiU,WAALxW,0HAAAA,4CAkBEjB,oGAlBFiB,sNATAwiE,EAAgBnkE,IAClB2gB,GAAOne,IAAIxC,GACXogB,aAAao6C,QAAQ,SAAUx6D,iBAETkO,GAASlP,OAAO4V,KAAKC,GAAQ3G,OASjBi2D,EAAa5O,uGCPhD70D,qPAAAA,kPAHiBA,SAAoBA,KAAG,2IAAHA,KAAG,2OAJvCgqD,EAAOnpC,UAAY,yECNhB,MAAM6iD,GAAQ,CACnB,CAAC,GAAI,SACL,CAAC,IAAK,QACN,CAAC,IAAK,SACN,CAAC,IAAK,UACN,CAAC,IAAK,SACN,CAAC,IAAK,SAGKC,GAAY,CAAC,KAAM,SAAU,YAAa,YAAa,SAEvDC,GAAU,CAAC,KAAM,SAAU,eAAgB,WAAY,6FCM3D5jE,iBAAeA,iFAAfA,iBAAeA,oGADGA,OAAaA,2KAAbA,OAAaA,mKASjCA,sKAAAA,wLAFWA,KAAG,2IAAHA,KAAG,kLADbA,OAPG2jE,wBAAL1iE,uOAFNuD,SACEhB,wGACSmgE,WAAL1iE,0HAAAA,4CAOEjB,oGAPFiB,sNARA4iE,EAAkBvkE,IACpB0gB,GAAKle,IAAIxC,GACTogB,aAAao6C,QAAQ,OAAQx6D,oBAO6BukE,EAAeC,uJCCpE9jE,eAAaA,iFAAbA,eAAaA,oGADKA,OAAMA,2KAANA,OAAMA,mKAS1BA,yKAAAA,yLAFWA,KAAG,4IAAHA,KAAG,mLADbA,OAPG4jE,wBAAL3iE,uOAFNuD,SACEhB,wGACSogE,WAAL3iE,0HAAAA,4CAOEjB,oGAPFiB,sNARA8iE,EAAmBzkE,IACrBygB,GAAOje,IAAIxC,GACXogB,aAAao6C,QAAQ,SAAUx6D,oBAOsBykE,EAAgB9+D,uKCGhEjF,gBAAcA,iFAAdA,gBAAcA,oGADIA,OAAeA,2KAAfA,OAAeA,mKASnCA,qKAAAA,uLAFWA,KAAG,0IAAHA,KAAG,iLADbA,OAPG0jE,wBAALziE,uOAFNuD,SACEhB,wGACSkgE,WAALziE,0HAAAA,4CAOEjB,oGAPFiB,sNAVA+iE,EAAc1kE,IACK,iBAAVA,IAEX2D,GAAKnB,IAAIxC,GACTogB,aAAao6C,QAAQ,OAAQpvB,OAAOprC,sBAOwB0kE,EAAWC,qJCN5DjkE,iCAD2BA,2CAA1CwE,SACEhB,0BADaxD,0DACAA,qDAD2BA,oEAT/BkkE,UACAhL,cACAqK,gHACU39D,IACjBA,EAAMswD,kBACNqN,uNCEJ/+D,2BAAsCxE,wGAR3BV,cACA6kE,wFACUv+D,UACXtG,EAAQsG,EAAMnC,OAAOnE,MAC3B6kE,EAAQ7kE,oQCOZkF,2BAA0DxE,wKAX/CV,cACA6kE,UACA5qB,EAAM,UACNv4C,EAAMojE,EAAAA,WACN96D,EAAO,wKACG1D,UACXtG,EAAQsG,EAAMnC,OAAOnE,MAC3B6kE,GAAS7kE,4KCuBwBU,KAAG,mCAAqCA,qFAAxCA,KAAG,wJAFjCA,wBACIA,OAAYiZ,wCAGEjZ,aAAkBA,mJAJpCA,+BACIA,OAAYiZ,0IAGEjZ,gNAMYA,KAAG,yCAA2CA,qFAA9CA,KAAG,8JAFjCA,wB/FjC6B,I+FkCzBA,wCAGa,MAAQ,OAAS,SAAYA,aAAuBA,mJAJrEA,+B/FjC6B,I+FkCzBA,4IAG0CA,wKAKhDA,8EAAAA,qOADWA,KAAG,yNAnBnBwE,SACEhB,kNAkBcxD,KAAG,sWApCfqgB,GAAOve,IAAImX,IACXyG,aAAao/C,WAAW,gBAGxBx+C,GAAYxe,I/FToB,G+FUhC4d,aAAao/C,WAAW,gBAEP3zD,IACjBmV,GAAYxe,IAAIqJ,GAChBuU,aAAao6C,QAAQ,cAAepvB,OAAOv/B,KAE1BkrD,IACjBh2C,GAAOve,IAAIu0D,GACX32C,aAAao6C,QAAQ,SAAUzD,sICQEr2D,KAAG,mCAAqCA,qFAAxCA,KAAG,4JAJjCA,yDAC8BA,KAAG,+BAAiCA,cAE9DA,OAAgBkZ,wCAIFlZ,aAAsBA,8LAPxCA,sDAC8BA,KAAG,kCAE7BA,OAAgBkZ,0IAIFlZ,gOAKpBA,kFAAAA,0KADWA,KAAG,qMAdnBwE,SACEhB,qIAacxD,KAAG,iSA7BfugB,GAAWze,IAAIoX,IACfwG,aAAao/C,WAAW,0BAIlBzI,EAAQ,KAAO,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG7jD,SADvB,mBACyCzR,KAAKmc,MAAsB,GAAhBnc,KAAKoc,aAAiBtS,KAAK,IAC/F0V,GAAWze,IAAIu0D,GACf32C,aAAao6C,QAAQ,aAAczD,IAElBA,IACjB91C,GAAWze,IAAIu0D,GACf32C,aAAao6C,QAAQ,aAAczD,sICWFr2D,KAAG,mCAAqCA,qFAAxCA,KAAG,4JAJjCA,yDAC8BA,KAAG,+BAAiCA,cAE9DA,OAAemZ,wCAIDnZ,aAAqBA,8LAPvCA,sDAC8BA,KAAG,kCAE7BA,OAAemZ,0IAIDnZ,gOAKpBA,iFAAAA,yKADWA,KAAG,oMAdnBwE,SACEhB,qIAacxD,KAAG,gSA7BfwgB,GAAU1e,IAAIqX,IACduG,aAAao/C,WAAW,yBAIlBzI,EAAQ,KAAO,EAAG,EAAG,EAAG,EAAG,EAAG,GAAG7jD,SADvB,mBACyCzR,KAAKmc,MAAsB,GAAhBnc,KAAKoc,aAAiBtS,KAAK,IAC/F2V,GAAU1e,IAAIu0D,GACd32C,aAAao6C,QAAQ,YAAazD,IAEjBA,IACjB71C,GAAU1e,IAAIu0D,GACd32C,aAAao6C,QAAQ,YAAazD,sXCPtC7xD,kBACAA,4BADyDxE,kBACCA,8QAZ/CV,cACA6kE,UACA5qB,EAAM,UACNv4C,EAAMojE,EAAAA,WACN96D,EAAO,wKACG1D,UACXtG,EAAQsG,EAAMnC,OAAOnE,MAC3B6kE,GAAS7kE,gKCMU,MAAQ,OAAS,SAAYU,aAAiBA,uFAAjBA,0HAK/CA,6EAAAA,6KADWA,KAAG,gMAPnBwE,SACEhB,oIAMcxD,KAAG,uRAbEV,IACjBmhB,GAAM3e,IAAIxC,GACVogB,aAAao6C,QAAQ,QAASpvB,OAAO25B,qLCQPrkE,kdADlCwE,6BAGEhB,4NAFgCxD,ytBCJzBA,gCACIA,aACFA,SACJA,KAAGA,KAAO6hB,KAAO,uBAAyB,4BACtC7hB,KAAG,0HAJLA,yCACIA,kBAENA,KAAGA,KAAO6hB,KAAO,uBAAyB,qCACtC7hB,KAAG,uOAVVupD,GAAW,6ICMNvpD,4BACEA,SACJA,KAAGA,KAAO6hB,KAAO,qBAAuB,0BACpC7hB,KAAG,wHAHLA,iCAEFA,KAAGA,KAAO6hB,KAAO,qBAAuB,mCACpC7hB,KAAG,uOATVupD,GAAW,gGC8CyFvpD,mFAAAA,4EACAA,mFAAAA,4EACEA,oFAAAA,6EACtCA,kFAAAA,mHAG1CA,SAAmBA,KAAG,2FACtBA,SAAkBA,KAAG,0FACrBA,SAAoBA,KAAG,sOAFJA,KAAG,+FACJA,KAAG,8FACDA,KAAG,mSAFyBA,oFAAAA,6EACFA,mFAAAA,4EACIA,qFAAAA,wIAV7CA,uDAE2BA,KAAG,qHACHA,KAAG,qHACFA,KAAG,6GACtCA,SAAiBA,KAAG,sEAEnCA,KAAO6hB,8OARhBrd,6BAEEhB,8IAD6BxD,oDAE2BA,KAAG,8FACHA,KAAG,8FACFA,KAAG,+FACrBA,KAAG,sEAEnCA,KAAO6hB,6bApCPyiD,EAAgBC,EAAcj/D,GACnC+b,GAAQtW,QACRg4C,UAAUyhB,UAAUC,UAAUF,GAAch4D,WACxCszC,iBACIx+B,GAAQkB,QAAQjd,KACjB,QACJ4b,IACCG,GAAQD,MAAM,yBACdD,QAAQC,MAAMF,sKArBd8oC,EAAOnoC,KACP0hC,IAAU1jC,KAAKC,MAAMqqC,EAAS,KAAM,mBAG9B3G,eACKvxC,KAASgtD,EAAU1V,UACpB6D,MAAWlD,EAASj4C,WACnBm7C,EAAI3B,KACXjI,EAAK3jD,KAAKutD,GAEd7J,GAASC,EAAM,2BAeb4J,EAAMjD,EAAS,GAAGtG,WAAW,IAAK,OAExCygB,EADYzwB,SAASqvB,OAASrvB,SAASsvB,SAAW,QAAU/V,EACvC,oCAMrBkX,4DAHgBI,UAAUva,EAAS,MAGd,mCAIrBma,EADgBI,UAAUva,EAAS,IACV,8BAOC5G,GAAS,KAAM,WACfA,GAAS,KAAM,WACfA,GAAS,KAAM,kGCjCtCvjD,kFAAAA,2EAIAA,oFAAAA,6EAIAA,oFAAAA,0IAX0BA,gDAETA,SAAqBA,KAAG,yFAIxBA,SAAuBA,KAAG,2FAI1BA,SAAuBA,KAAG,uPAXlDwE,6BAEEhB,oGAD+BxD,sDAEYA,KAAG,0FAIDA,KAAG,4FAIHA,KAAG,kYArB9CgqD,EAAOhoC,OAAS,gBAGhBgoC,EAAO/nC,OAAS,gBAGhB+nC,EAAO9nC,OAAS,8ICWgBliB,6BAA6BA,oBAAsBA,KAAG,qGAAtDA,kCAAmDA,KAAG,0IADrFA,kFAAAA,uOAlBD2kE,GAAc,EACdC,EAAc,YAQlBziE,OAAO4D,iBAAiB,uBAAuBH,IAC3Cg/D,EAAch/D,MACd++D,GAAc,MAElBxiE,OAAO4D,iBAAiB,qBACpBsb,GAAQkB,QAAQ,0CAXhBoiD,GAAc,GACdC,EAAYC,SACZD,EAAYE,WAAWv4D,WACnBq4D,EAAc,8UCNtBpgE,6BAGEhB,wcCEOxD,4BACIA,aACF4iB,GAAQC,SACZ7iB,KAAG,wBACCA,KAAG,oHAJLA,qCACIA,kBAENA,KAAG,iCACCA,KAAG,sOATXkL,EAAWi/C,EAAS,iJCKdnqD,4BACIA,aACF4iB,GAAQE,SACZ9iB,6BACIA,KAAG,qHAJLA,qCACIA,kBAENA,sCACIA,KAAG,uOATX+kE,EAAW5a,EAAS,GAAKvnC,GAAQ3hB,SAAW,mJCKbjB,6BAA6BA,SAAkBA,KAAG,uGAAlDA,kCAA+CA,KAAG,2MAJhFgqD,EAAOjoC,QAAU,4ICIW/hB,2BAA2BA,SAAgBA,KAAG,iHAA9CA,gCAA2CA,KAAG,yMAJ1EgqD,EAAOloC,MAAQ,8ICIe9hB,6BAA6BA,SAAkBA,KAAG,uGAAlDA,kCAA+CA,KAAG,8K9GmC7E,IAAiBwc,EAAAA,E8GvCZ,iC9GwCDra,OAAO4gE,KAAKvmD,EAAK,8L+G1BDxc,OAAYA,WAAiBA,KAAcA,cAAoBA,KAAeA,2FAA9EA,OAAYA,oBAAiBA,KAAcA,uBAAoBA,KAAeA,yKAHtEA,0BAA0BA,KAAG,6BAErDA,0BAALiB,uOAHNuD,6BAEEhB,6FADiCxD,mCAA0BA,KAAG,iDAErDA,aAALiB,0HAAAA,mFAAAA,4PAbkB+jE,QACpBhnB,GAAOl8C,IAAIkjE,GACXtlD,aAAao6C,QAAQ,SAAUkL,IAEZhnB,UACbinB,MAAmBtoB,KAAKuoB,cAAclnB,IAAWxwC,KAAM,oB/G8BtC/D,E+G7BLw7D,EAAaE,GAAGnnB,I/G6BC8W,OAAO,GAAG92C,cAAgBvU,EAAIjJ,MAAM,GAAjD,IAACiJ,iJgH5BUzJ,0BAA0BA,SAAeA,KAAG,oHAA5CA,+BAAyCA,KAAG,wPAN7EkqD,EAASF,EAAOlnD,GAAK+c,KAAKC,MAAMqqC,EAAS,YACzCH,EAAOnoC,KAAO,UACdmoC,EAAO5nC,cAAgB,0NCmBlBpiB,kDA4BAA,KAAO6hB,wdAAP7hB,KAAO6hB,qqCA3BL7hB,KAAO6hB,84EAPX7hB,yGAFPwE,2DAEOxE,mfCwHEA,KAAO6hB,qCAGP7hB,KAAO8hB,cACP9hB,KAAO+hB,gBACP/hB,KAAOgiB,eACPhiB,KAAOiiB,eACPjiB,KAAOkiB,eACPliB,KAAO6gB,kBACP7gB,KAAOogB,cAEPpgB,MAAYA,4NAhBYA,2CAA/BwE,SACEhB,6WAOKxD,KAAO8hB,8FACP9hB,KAAO+hB,gGACP/hB,KAAOgiB,+FACPhiB,KAAOiiB,+FACPjiB,KAAOkiB,+FACPliB,KAAO6gB,kGACP7gB,KAAOogB,8FAEPpgB,MAAYA,oIAhBYA,6UAFpBA,KAAO8C,wGAAP9C,KAAO8C,sfAOoB9C,KAAO8C,mGAAP9C,KAAO8C,4hDAR1C9C,KAAOmiB,6bAjHRijD,EACAj6D,EACAC,qRAEAqgD,EADAsT,KAEAkE,EAAU,gBACdzI,EAAU,QAoCNl8D,OAAO4zC,QAAQwsB,GAAQhgE,WAAUwG,GAAQsX,IAAAA,UACjCA,SACM6pC,MAAWuY,SAAS15D,SAAasX,MACvC3Y,SAASuc,MAAM9c,IAAI+iD,OAK3B/nD,OAAO4zC,QAAQ2nB,GAAWn7D,WAAUwG,GAAQm0D,SAAAA,EAAU7rD,KAAAA,EAAMjI,KAAAA,EAAM2vD,QAAAA,OAC9DjnC,GAAQorC,GAAUn0D,GAAQ,EACtBK,IACA0oB,GAAQ1oB,KAAKL,GAAQK,uBAKvBiX,MAAUmnC,IAAIxhD,OAAO0xC,SAASkQ,MAC9BshB,EAA6C,MAAjC7oD,EAAI8oD,aAAa9zD,IAAI,QACjC+zD,GAAa/oD,EAAI8oD,aAAa9zD,IAAI,QAClCg0D,EAAWhpD,EAAI8oD,aAAa9zD,IAAI,OAChCi0D,EAAYjpD,EAAI8oD,aAAa9zD,IAAI,QACjC5I,EAAO4T,EAAI8oD,aAAa9zD,IAAI,YAC7Bg0D,IAAaC,YAEdD,gBAwBclgE,cAEdua,KAAKC,MAAMxa,IACJ,QAEJ8b,UACHD,QAAQC,MAAMA,GACdC,GAAQD,MAAMA,EAAMC,UACb,GA9BFqkD,CAAaF,UAElBtb,EAASrqD,KAAKggB,KAAKC,MAAM0lD,SAEpBC,OACLha,EAAOga,IAEPD,GAAYC,KACC,QAAT78D,GACAyY,GAAQqB,KAAK,kBAAmB,UAEpCu8C,EAAU,IAAM,MACZoG,GACIE,OACAtC,EAAUsC,QACdvb,EAAO7nC,KAAO,WAGd6nC,EAAOnoC,KAAO,MA7E1B8jD,yCACIP,EAAUj6D,EAAOC,YA4FMw6D,SACjBz6D,EAAQhJ,OAAOmiD,WACfl5C,EAASjJ,OAAO42D,YAAc,GAC9B1U,EAAUtjD,KAAKyjD,KAAKr5C,EAAQy6D,GAC5B9mB,EAAI/9C,KAAKmc,MAAM/R,EAAQk5C,GACvBE,EAAUxjD,KAAKmc,MAAM9R,EAAS0zC,UAE5BuF,EAAUE,EAASzF,EADjB/9C,KAAKmc,MAAM9R,EAASm5C,IAlGHshB,CAAkBC,gDAErBnkD,EAAQ1e,SAC1BwQ,EAAIy2C,EAASjpD,UAEdg+D,EAAUt9C,KACPqoC,EAAOnoC,WAEPo9C,EAAUt9C,GAAUs9C,EAAUt9C,EAAS,GAAGnhB,gBAC1Cy+D,EAAUt9C,GAAQqoC,EAAO9oD,GAAKuS,SAC9Bg4C,OAAO7qD,SAIPq+D,EAAUt9C,GAAUhZ,MAAMC,MAAO3H,OAAQmkE,KAAa7lE,EAAG2B,IAAMuS,EAAIvS,SAGlEwe,aAAaC,QAAQ,gBACtBs2C,EAAU74C,GAAGjJ,GAAQiJ,GAAGjJ,GAAQC,aAIpC6qD,EAAUt9C,GAAQ1gB,OAASmkE,SACrB78D,EAAI02D,EAAUt9C,QACpBs9C,EAAUt9C,OAAchZ,MAAMy8D,GAAUlxD,QAAQ1B,KAAItR,QAAeN,IAAT2H,EAAErH,GAAmBqH,EAAErH,GAAKuS,EAAIvS,WAE9F69D,EAAUE,EAAUt9C,GAAQnhB,MAAM,EAAG4kE,KAEjCpb,EAAOnoC,MAAQmoC,EAAO7nC,YACtB6nC,EAAOlnD,EAAIm8D,EAAUt9C,GAAQqoC,EAAO9oD,MA5BzC6kE,CAAmBxc,4BC1BF,kBAAmBxG,WACrCA,UAAUijB,cAAcnjB,SAAS,iBAG7BojB,GAAM,oEAAQ,CAClBxiE,OAAQI,SAAS8sD,KACjBz+C,MAAO"}