var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function l(){return Object.create(null)}function i(e){e.forEach(n)}function r(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function c(e){let t;return s(e,(e=>t=e))(),t}function a(e,t,n){e.$$.on_destroy.push(s(t,n))}function d(e,t,n,l){if(e){const i=u(e,t,n,l);return e[0](i)}}function u(e,t,n,l){return e[1]&&l?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](l(t))):n.ctx}function f(e,t,n,l,i,r,o){const s=function(e,t,n,l){if(e[2]&&l){const i=e[2](l(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let l=0;l<n;l+=1)e[l]=t.dirty[l]|i[l];return e}return t.dirty|i}return t.dirty}(t,l,i,r);if(s){const i=u(t,n,l,o);e.p(i,s)}}function p(e){return null==e?"":e}function h(e,t,n=t){return e.set(n),t}const m="undefined"!=typeof window;let g=m?()=>window.performance.now():()=>Date.now(),v=m?e=>requestAnimationFrame(e):e;const $=new Set;function y(e){$.forEach((t=>{t.c(e)||($.delete(t),t.f())})),0!==$.size&&v(y)}function b(e){let t;return 0===$.size&&v(y),{promise:new Promise((n=>{$.add(t={c:e,f:n})})),abort(){$.delete(t)}}}function w(e,t){e.appendChild(t)}function k(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode.removeChild(e)}function q(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function j(e){return document.createElement(e)}function z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function C(e){return document.createTextNode(e)}function _(){return C(" ")}function B(){return C("")}function S(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function E(e){return function(t){return t.preventDefault(),e.call(this,t)}}function M(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function H(e){return""===e?null:+e}function I(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function A(e,t){e.value=null==t?"":t}function L(e,t,n,l){e.style.setProperty(t,n,l?"important":"")}function T(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function F(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function O(e,t,n){e.classList[n?"add":"remove"](t)}class D{constructor(e=null){this.a=e,this.e=this.n=null}m(e,t,n=null){this.e||(this.e=j(t.nodeName),this.t=t,this.h(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)k(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(x)}}const P=new Set;let G,J=0;function R(e,t,n,l,i,r,o,s=0){const c=16.666/l;let a="{\n";for(let e=0;e<=1;e+=c){const l=t+(n-t)*r(e);a+=100*e+`%{${o(l,1-l)}}\n`}const d=a+`100% {${o(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${s}`,f=e.ownerDocument;P.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(j("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[u]||(h[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?m+", ":""}${u} ${l}ms linear ${i}ms 1 both`,J+=1,u}function N(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-l.length;i&&(e.style.animation=l.join(", "),J-=i,J||v((()=>{J||(P.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),P.clear())})))}function K(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:l}=t,i=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=l,function(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const l=getComputedStyle(e),i="none"===l.transform?"":l.transform;e.style.transform=`${i} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}(e,i)}}function W(e){G=e}function U(){if(!G)throw new Error("Function called outside component initialization");return G}const Z=[],X=[],V=[],Y=[],Q=Promise.resolve();let ee=!1;function te(e){V.push(e)}function ne(e){Y.push(e)}let le=!1;const ie=new Set;function re(){if(!le){le=!0;do{for(let e=0;e<Z.length;e+=1){const t=Z[e];W(t),oe(t.$$)}for(W(null),Z.length=0;X.length;)X.pop()();for(let e=0;e<V.length;e+=1){const t=V[e];ie.has(t)||(ie.add(t),t())}V.length=0}while(Z.length);for(;Y.length;)Y.pop()();ee=!1,le=!1,ie.clear()}}function oe(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(te)}}let se;function ce(){return se||(se=Promise.resolve(),se.then((()=>{se=null}))),se}function ae(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const de=new Set;let ue;function fe(){ue={r:0,c:[],p:ue}}function pe(){ue.r||i(ue.c),ue=ue.p}function he(e,t){e&&e.i&&(de.delete(e),e.i(t))}function me(e,t,n,l){if(e&&e.o){if(de.has(e))return;de.add(e),ue.c.push((()=>{de.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}const ge={duration:0};function ve(n,l,i){let o,s,c=l(n,i),a=!1,d=0;function u(){o&&N(n,o)}function f(){const{delay:l=0,duration:i=300,easing:r=t,tick:f=e,css:p}=c||ge;p&&(o=R(n,0,1,i,l,r,p,d++)),f(0,1);const h=g()+l,m=h+i;s&&s.abort(),a=!0,te((()=>ae(n,!0,"start"))),s=b((e=>{if(a){if(e>=m)return f(1,0),ae(n,!0,"end"),u(),a=!1;if(e>=h){const t=r((e-h)/i);f(t,1-t)}}return a}))}let p=!1;return{start(){p||(N(n),r(c)?(c=c(),ce().then(f)):f())},invalidate(){p=!1},end(){a&&(u(),a=!1)}}}function $e(n,l,o,s){let c=l(n,o),a=s?0:1,d=null,u=null,f=null;function p(){f&&N(n,f)}function h(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(l){const{delay:r=0,duration:o=300,easing:s=t,tick:m=e,css:v}=c||ge,$={start:g()+r,b:l};l||($.group=ue,ue.r+=1),d||u?u=$:(v&&(p(),f=R(n,a,l,o,r,s,v)),l&&m(0,1),d=h($,o),te((()=>ae(n,l,"start"))),b((e=>{if(u&&e>u.start&&(d=h(u,o),u=null,ae(n,d.b,"start"),v&&(p(),f=R(n,a,d.b,d.duration,0,s,c.css))),d)if(e>=d.end)m(a=d.b,1-a),ae(n,d.b,"end"),u||(d.b?p():--d.group.r||i(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;a=d.a+d.d*s(t/d.duration),m(a,1-a)}return!(!d&&!u)})))}return{run(e){r(c)?ce().then((()=>{c=c(),m(e)})):m(e)},end(){p(),d=u=null}}}function ye(e,t){const n=t.token={};function l(e,l,i,r){if(t.token!==n)return;t.resolved=r;let o=t.ctx;void 0!==i&&(o=o.slice(),o[i]=r);const s=e&&(t.current=e)(o);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==l&&e&&(fe(),me(e,1,1,(()=>{t.blocks[n]=null})),pe())})):t.block.d(1),s.c(),he(s,1),s.m(t.mount(),t.anchor),c=!0),t.block=s,t.blocks&&(t.blocks[l]=s),c&&re()}if((i=e)&&"object"==typeof i&&"function"==typeof i.then){const n=U();if(e.then((e=>{W(n),l(t.then,1,t.value,e),W(null)}),(e=>{if(W(n),l(t.catch,2,t.error,e),W(null),!t.hasCatch)throw e})),t.current!==t.pending)return l(t.pending,0),!0}else{if(t.current!==t.then)return l(t.then,1,t.value,e),!0;t.resolved=e}var i}const be="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function we(e,t){me(e,1,1,(()=>{t.delete(e.key)}))}function ke(e,t){e.f(),we(e,t)}function xe(e,t,n,l,i,r,o,s,c,a,d,u){let f=e.length,p=r.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const g=[],v=new Map,$=new Map;for(h=p;h--;){const e=u(i,r,h),s=n(e);let c=o.get(s);c?l&&c.p(e,t):(c=a(s,e),c.c()),v.set(s,g[h]=c),s in m&&$.set(s,Math.abs(h-m[s]))}const y=new Set,b=new Set;function w(e){he(e,1),e.m(s,d),o.set(e.key,e),d=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],l=t.key,i=n.key;t===n?(d=t.first,f--,p--):v.has(i)?!o.has(l)||y.has(l)?w(t):b.has(i)?f--:$.get(l)>$.get(i)?(b.add(l),w(t)):(y.add(i),f--):(c(n,o),f--)}for(;f--;){const t=e[f];v.has(t.key)||c(t,o)}for(;p;)w(g[p-1]);return g}function qe(e,t,n){const l=e.$$.props[t];void 0!==l&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function je(e){e&&e.c()}function ze(e,t,l){const{fragment:o,on_mount:s,on_destroy:c,after_update:a}=e.$$;o&&o.m(t,l),te((()=>{const t=s.map(n).filter(r);c?c.push(...t):i(t),e.$$.on_mount=[]})),a.forEach(te)}function Ce(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function _e(e,t){-1===e.$$.dirty[0]&&(Z.push(e),ee||(ee=!0,Q.then(re)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Be(t,n,r,o,s,c,a=[-1]){const d=G;W(t);const u=n.props||{},f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:l(),dirty:a,skip_bound:!1};let p=!1;if(f.ctx=r?r(t,u,((e,n,...l)=>{const i=l.length?l[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),p&&_e(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!o&&o(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(x)}else f.fragment&&f.fragment.c();n.intro&&he(t.$$.fragment),ze(t,n.target,n.anchor),re()}W(d)}class Se{$destroy(){Ce(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Ee=e=>({}),Me=e=>({});function He(e){let t;const n=e[9]["custom-tip"],l=d(n,e,e[8],Me);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,t){l&&l.p&&256&t&&f(l,n,e,e[8],t,Ee,Me)},i(e){t||(he(l,e),t=!0)},o(e){me(l,e),t=!1},d(e){l&&l.d(e)}}}function Ie(t){let n,l;return{c(){n=j("div"),l=C(t[0]),M(n,"class","default-tip svelte-1cy3723"),M(n,"style",t[6])},m(e,t){k(e,n,t),w(n,l)},p(e,t){1&t&&I(l,e[0])},i:e,o:e,d(e){e&&x(n)}}}function Ae(e){let t,n,l,i,r,o,s;const c=e[9].default,a=d(c,e,e[8],null),u=[Ie,He],p=[];function h(e,t){return e[0]?0:1}return r=h(e),o=p[r]=u[r](e),{c(){t=j("div"),n=j("span"),a&&a.c(),l=_(),i=j("div"),o.c(),M(n,"class","tooltip-slot svelte-1cy3723"),M(i,"class","tooltip svelte-1cy3723"),O(i,"active",e[4]),O(i,"left",e[3]),O(i,"right",e[5]),O(i,"bottom",e[2]),O(i,"top",e[1]),M(t,"class","tooltip-wrapper svelte-1cy3723")},m(e,o){k(e,t,o),w(t,n),a&&a.m(n,null),w(t,l),w(t,i),p[r].m(i,null),s=!0},p(e,[t]){a&&a.p&&256&t&&f(a,c,e,e[8],t,null,null);let n=r;r=h(e),r===n?p[r].p(e,t):(fe(),me(p[n],1,1,(()=>{p[n]=null})),pe(),o=p[r],o||(o=p[r]=u[r](e),o.c()),he(o,1),o.m(i,null)),16&t&&O(i,"active",e[4]),8&t&&O(i,"left",e[3]),32&t&&O(i,"right",e[5]),4&t&&O(i,"bottom",e[2]),2&t&&O(i,"top",e[1])},i(e){s||(he(a,e),he(o),s=!0)},o(e){me(a,e),me(o),s=!1},d(e){e&&x(t),a&&a.d(e),p[r].d()}}}function Le(e,t,n){let{$$slots:l={},$$scope:i}=t,{tip:r=""}=t,{top:o=!1}=t,{bottom:s=!1}=t,{left:c=!1}=t,{active:a=!1}=t,{color:d="#222"}=t,u=!(o||s||c),f=`background-color: ${d};`;return e.$$set=e=>{"tip"in e&&n(0,r=e.tip),"top"in e&&n(1,o=e.top),"bottom"in e&&n(2,s=e.bottom),"left"in e&&n(3,c=e.left),"active"in e&&n(4,a=e.active),"color"in e&&n(7,d=e.color),"$$scope"in e&&n(8,i=e.$$scope)},[r,o,s,c,a,u,f,d,i,l]}class Te extends Se{constructor(e){super(),Be(this,e,Le,Ae,o,{tip:0,top:1,bottom:2,left:3,active:4,color:7})}}function Fe(e){let t,n;return t=new Te({props:{tip:e[1],$$slots:{default:[Oe]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};32&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function Oe(t){let n,l,i;return{c(){n=j("span"),n.textContent="🔖",L(n,"cursor","pointer")},m(e,r){k(e,n,r),l||(i=S(n,"click",t[2]),l=!0)},p:e,d(e){e&&x(n),l=!1,i()}}}function De(e){let t,n,l=e[0]&&Fe(e);return{c(){l&&l.c(),t=B()},m(e,i){l&&l.m(e,i),k(e,t,i),n=!0},p(e,[n]){e[0]?l?(l.p(e,n),1&n&&he(l,1)):(l=Fe(e),l.c(),he(l,1),l.m(t.parentNode,t)):l&&(fe(),me(l,1,1,(()=>{l=null})),pe())},i(e){n||(he(l),n=!0)},o(e){me(l),n=!1},d(e){l&&l.d(e),e&&x(t)}}}function Pe(e,t,n){let{key:l}=t;const i=(r=l).charAt(0).toUpperCase()+r.slice(1)+" value is saved and auto-applied. Click to remove saved value and use default settings on load";var r;let o;return e.$$set=e=>{"key"in e&&n(3,l=e.key)},e.$$.update=()=>{8&e.$$.dirty&&n(0,o=localStorage.getItem(l))},[o,i,function(){localStorage.removeItem(l),n(0,o=!1)},l]}class Ge extends Se{constructor(e){super(),Be(this,e,Pe,De,o,{key:3})}}function Je(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function Re(e){const t=e-1;return t*t*t+1}function Ne(e,{delay:n=0,duration:l=400,easing:i=t}){const r=+getComputedStyle(e).opacity;return{delay:n,duration:l,easing:i,css:e=>"opacity: "+e*r}}function Ke(e,{delay:t=0,duration:n=400,easing:l=Re,x:i=0,y:r=0,opacity:o=0}){const s=getComputedStyle(e),c=+s.opacity,a="none"===s.transform?"":s.transform,d=c*(1-o);return{delay:t,duration:n,easing:l,css:(e,t)=>`\n\t\t\ttransform: ${a} translate(${(1-e)*i}px, ${(1-e)*r}px);\n\t\t\topacity: ${c-d*t}`}}function We(e,{delay:t=0,duration:n=400,easing:l=Re}){const i=getComputedStyle(e),r=+i.opacity,o=parseFloat(i.height),s=parseFloat(i.paddingTop),c=parseFloat(i.paddingBottom),a=parseFloat(i.marginTop),d=parseFloat(i.marginBottom),u=parseFloat(i.borderTopWidth),f=parseFloat(i.borderBottomWidth);return{delay:t,duration:n,easing:l,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*r};height: ${e*o}px;padding-top: ${e*s}px;padding-bottom: ${e*c}px;margin-top: ${e*a}px;margin-bottom: ${e*d}px;border-top-width: ${e*u}px;border-bottom-width: ${e*f}px;`}}function Ue(e,{delay:t=0,speed:n,duration:l,easing:i=Je}){const r=e.getTotalLength();return void 0===l?l=void 0===n?800:r/n:"function"==typeof l&&(l=l(r)),{delay:t,duration:l,easing:i,css:(e,t)=>`stroke-dasharray: ${e*r} ${t*r}`}}const Ze=[];function Xe(t,n=e){let l;const i=[];function r(e){if(o(t,e)&&(t=e,l)){const e=!Ze.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),Ze.push(n,t)}if(e){for(let e=0;e<Ze.length;e+=2)Ze[e][0](Ze[e+1]);Ze.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(o,s=e){const c=[o,s];return i.push(c),1===i.length&&(l=n(r)||e),o(t),()=>{const e=i.indexOf(c);-1!==e&&i.splice(e,1),0===i.length&&(l(),l=null)}}}}const Ve={field:{metals:30,colours:42,stains:1,patterns:12},division:{metals:30,colours:42,stains:1,patterns:6},charge:{metals:16,colours:24,stains:1,patterns:0},metals:{argent:3,or:2},colours:{gules:5,azure:4,sable:3,purpure:3,vert:2},stains:{murrey:1,sanguine:1,"tenné":1},patterns:{semy:1,vair:2,vairInPale:1,vairEnPointe:2,ermine:2,chequy:4,lozengy:2,fusily:1,pally:4,barry:4,gemelles:1,bendy:3,bendySinister:2,palyBendy:1,pappellony:2,masoned:3,fretty:2}},Ye={argent:"#fafafa",or:"#ffe066",gules:"#d7374a",sable:"#333333",azure:"#377cd7",vert:"#26c061",purpure:"#522d5b",murrey:"#8b004b",sanguine:"#b22222","tenné":"#c67000"},Qe={types:{basic:10,regional:2,historical:1,specific:1,banner:1,simple:2,fantasy:1,middleEarth:0},basic:{heater:12,spanish:6,french:1},regional:{horsehead:1,horsehead2:1,polish:1,hessen:1,swiss:1},historical:{boeotian:1,roman:2,kite:1,oldFrench:5,renaissance:2,baroque:2},specific:{targe:1,targe2:0,pavise:5,wedged:10},banner:{flag:1,pennon:0,guidon:0,banner:0,dovetail:1,gonfalon:5,pennant:0},simple:{round:12,oval:6,vesicaPiscis:1,square:1,diamond:2,no:0},fantasy:{fantasy1:2,fantasy2:2,fantasy3:1,fantasy4:1,fantasy5:3},middleEarth:{noldor:1,gondor:1,easterling:1,erebor:1,ironHills:1,urukHai:1,moriaOrc:1}},et=["a","b","c","d","e","f","g","h","i","y","z","kn","bh","df","pq","jo","lm","abc","def","ghi","adg","beh","cfi","jeo","jln","kmo","peq","lem","bhdf","jleh","behdf","acegi","bdefh","kenpq","abcpqh","abcdefgzi","ABCDEFGHIJKL"],tt={conventional:{e:20,abcdefgzi:3,beh:3,behdf:2,acegi:1,kn:3,bhdf:1,jeo:1,abc:3,jln:6,jlh:3,kmo:2,jleh:1,def:3,abcpqh:4,ABCDEFGHIJKL:1},complex:{e:40,beh:1,kn:1,jeo:1,abc:2,jln:7,jlh:2,def:1,abcpqh:1},divisions:{perPale:{e:15,pq:5,jo:2,jl:2,ABCDEFGHIJKL:1},perFess:{e:12,kn:4,jkl:2,gizgiz:1,jlh:3,kmo:1,ABCDEFGHIJKL:1},perBend:{e:5,lm:5,bcfdgh:1},perBendSinister:{e:1,jo:1},perCross:{e:4,jlmo:1,jj:1,jo:2,jl:1},perChevron:{e:1,jlh:1,dfk:1,dfbh:2,bdefh:1},perChevronReversed:{e:1,mok:2,dfh:2,dfbh:1,bdefh:1},perSaltire:{bhdf:8,e:3,abcdefgzi:1,bh:1,df:1,beh:1,behdf:1,ABCDEFGHIJKL:1},perPile:{ee:3,be:2,abceh:1,abcabc:1,jleh:1}},ordinariesOn:{pale:{ee:12,beh:10,kn:3,bb:1},fess:{ee:1,def:3},bar:{defdefdef:1},fessCotissed:{ee:1,def:3},fessDoubleCotissed:{ee:1,defdef:3},bend:{ee:2,jo:1,joe:1},bendSinister:{ee:1,lm:1,lem:4},bendlet:{joejoejoe:1},bendletSinister:{lemlemlem:1},bordure:{ABCDEFGHIJKL:1},chief:{abc:5,bb:1},quarter:{jjj:1},canton:{yyyy:1},cross:{eeee:1,behdfbehdf:3,behbehbeh:2},crossParted:{e:5,ee:1},saltire:{ee:5,jlemo:1},saltireParted:{e:5,ee:1},pall:{ee:1,acez:5,jlhh:3},pallReversed:{ee:1,bemo:5},pile:{bb:1},pileInBend:{eeee:1,eeoo:1},pileInBendSinister:{eeee:1,eemm:1}},ordinariesOff:{pale:{yy:1},fess:{abc:3,abcz:1},bar:{abc:2,abcgzi:1,jlh:5,bgi:2,ach:1},gemelle:{abc:1},bend:{cg:2,cc:1},bendSinister:{ai:2,aa:1},bendlet:{cg:2,cc:1},bendletSinister:{ai:2,aa:1},bordure:{e:4,jleh:2,kenken:1,peqpeq:1},orle:{e:4,jleh:1,kenken:1,peqpeq:1},chief:{emo:2,emoz:1,ez:2},terrace:{e:5,def:1,bdf:3},mount:{e:5,def:1,bdf:3},point:{e:2,def:1,bdf:3,acbdef:1},flaunches:{e:3,kn:1,beh:3},gyron:{bh:1},quarter:{e:1},canton:{e:5,beh:1,def:1,bdefh:1,kn:1},cross:{acgi:1},pall:{BCKFEILGbdmfo:1},pallReversed:{aczac:1},chevron:{ach:3,hh:1},chevronReversed:{bb:1},pile:{acdfgi:1,acac:1},pileInBend:{cg:1},pileInBendSinister:{ai:1},label:{defgzi:2,eh:3,defdefhmo:1,egiegi:1,pqn:5}},inescutcheonHeater:{e:3,jln:1},inescutcheonOldFrench:{e:3,jln:1},inescutcheonSpanish:{e:3,jln:1},mascle:{e:15,abcdefgzi:3,beh:3,bdefh:4,acegi:1,kn:3,joe:2,abc:3,jlh:8,jleh:1,df:3,abcpqh:4,pqe:3,eknpq:3},lionRampant:{e:10,def:2,abc:2,bdefh:1,kn:1,jlh:2,abcpqh:1},lionPassant:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},wolfPassant:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},"greyhoundСourant":{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},griffinRampant:{e:10,def:2,abc:2,bdefh:1,kn:1,jlh:2,abcpqh:1},griffinPassant:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},boarRampant:{e:12,beh:1,kn:1,jln:2},eagle:{e:15,beh:1,kn:1,abc:1,jlh:2,def:2,pq:1},raven:{e:15,beh:1,kn:1,jeo:1,abc:3,jln:3,def:1},wyvern:{e:10,jln:1},garb:{e:1,def:3,abc:2,beh:1,kn:1,jln:3,jleh:1,abcpqh:1,joe:1,lme:1},crown:{e:10,abcdefgzi:1,beh:3,behdf:2,acegi:1,kn:1,pq:2,abc:1,jln:4,jleh:1,def:2,abcpqh:3},hand:{e:10,jln:2,kn:1,jeo:1,abc:2,pqe:1}},nt={straight:40,wavy:8,engrailed:4,invecked:3,rayonne:3,embattled:1,raguly:1,urdy:1,dancetty:1,indented:2,dentilly:1,bevilled:1,angled:1,flechy:1,barby:1,enclavy:1,escartely:1,arched:2,archedReversed:1,nowy:1,nowyReversed:1,embattledGhibellin:1,embattledNotched:1,embattledGrady:1,dovetailedIndented:1,dovetailed:1,potenty:1,potentyDexter:1,potentySinister:1,nebuly:2,seaWaves:1,dragonTeeth:1,firTrees:1},lt={variants:{perPale:5,perFess:5,perBend:2,perBendSinister:1,perChevron:1,perChevronReversed:1,perCross:5,perPile:1,perSaltire:1,gyronny:1,chevronny:1},perPale:nt,perFess:nt,perBend:nt,perBendSinister:nt,perChevron:nt,perChevronReversed:nt,perCross:{straight:20,wavy:5,engrailed:4,invecked:3,rayonne:1,embattled:1,raguly:1,urdy:1,indented:2,dentilly:1,bevilled:1,angled:1,embattledGhibellin:1,embattledGrady:1,dovetailedIndented:1,dovetailed:1,potenty:1,potentyDexter:1,potentySinister:1,nebuly:1},perPile:nt},it={lined:{pale:7,fess:5,bend:3,bendSinister:2,chief:5,bar:2,gemelle:1,fessCotissed:1,fessDoubleCotissed:1,bendlet:2,bendletSinister:1,terrace:3,cross:6,crossParted:1,saltire:2,saltireParted:1},straight:{bordure:8,orle:4,mount:1,point:2,flaunches:1,gore:1,gyron:1,quarter:1,canton:2,pall:3,pallReversed:2,chevron:4,chevronReversed:3,pile:2,pileInBend:2,pileInBendSinister:1,piles:1,pilesInPoint:2,label:1}},rt={types:{conventional:30,crosses:8,animals:3,birds:2,aquatic:1,seafaring:1,fantastic:3,plants:1,agriculture:1,arms:3,bodyparts:1,architecture:1,miscellaneous:3,inescutcheon:3,uploaded:0},single:{conventional:12,crosses:8,plants:2,animals:11,birds:4,aquatic:2,seafaring:2,fantastic:7,agriculture:1,arms:6,bodyparts:1,architecture:1,miscellaneous:8,inescutcheon:5,uploaded:0},semy:{conventional:12,crosses:3,plants:1},conventional:{lozenge:2,fusil:4,mascle:4,rustre:2,lozengeFaceted:3,lozengePloye:1,roundel:4,roundel2:3,annulet:4,mullet:5,mulletPierced:1,mulletFaceted:1,mullet4:3,mullet6:4,mullet6Pierced:1,mullet6Faceted:1,mullet7:1,mullet8:1,mullet10:1,estoile:1,compassRose:1,billet:5,delf:0,triangle:3,trianglePierced:1,goutte:4,heart:4,pique:2,"сarreau":1,trefle:2,fleurDeLis:6,sun:3,sunInSplendour:1,crescent:5,fountain:1,fountain:1},inescutcheon:{inescutcheonHeater:2,inescutcheonOldFrench:1,inescutcheonSpanish:4},crosses:{crossHummetty:15,crossVoided:1,crossPattee:3,crossPotent:2,crossClechy:3,crosslet:1,crossBottony:1,crossFleury:3,crossPatonce:1,crossPommy:1,crossGamma:1,crossArrowed:1,crossFitchy:1,crossCercelee:1,crossMoline:2,crossFourchy:1,crossAvellane:1,crossErminee:1,crossMaltese:3,crossCeltic:1,crossOccitan:1,crossSaltire:3,crossTau:1},animals:{lionRampant:4,lionPassant:1,wolfPassant:1,"greyhoundСourant":1,boarRampant:1,horseRampant:1,horseSalient:1,bullPassant:1,goat:1,lamb:1,bullHeadCaboshed:1,deerHeadCaboshed:1},fantastic:{dragonPassant:3,wyvern:2,griffinPassant:1,griffinRampant:1,eagleTwoHeards:2,unicornRampant:1,pegasus:1,serpent:1},birds:{eagle:9,raven:2,cock:3,parrot:1,swan:2,swanErased:1,heron:1},plants:{cinquefoil:1,rose:1},aquatic:{escallop:5,pike:1,cancer:1},seafaring:{anchor:3,boat:1},agriculture:{garb:1},arms:{sword:5,sabre:1,sabresCrossed:1,hatchet:2,lochaberAxe:1,mallet:1,bowWithArrow:2,bow:1,arrow:1,arrowsSheaf:1},bodyparts:{hand:1},architecture:{tower:1,castle:1},miscellaneous:{crown:3,key:1,buckle:1,bugleHorn:1,horseshoe:3,stagsAttires:1,cowHorns:2,wing:1,wingSword:1,lute:1,harp:1,wheel:2},uploaded:{},natural:{fountain:"azure",garb:"or",raven:"sable"},sinister:["crossGamma","lionRampant","lionPassant","wolfPassant","greyhoundСourant","boarRampant","horseRampant","horseSalient","bullPassant","eagle","raven","cock","parrot","swan","swanErased","heron","pike","dragonPassant","wyvern","griffinPassant","griffinRampant","unicornRampant","pegasus","serpent","hatchet","lochaberAxe","hand","wing","wingSword","lute","harp","bow"],reversed:["goutte","mullet","mullet7","crescent","crossTau","cancer","sword","hand","horseshoe","arrow","arrows"]},ot={heater:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32.25,37.5],h:[0,50],i:[32.25,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-32.5,32.5],n:[0,42.5],o:[32.5,32.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.2,-20],E:[66.2,-20],J:[-55.5,26],F:[55.5,26],I:[-33,62],G:[33,62],H:[0,89.5]},spanish:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,50],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.4,-20],E:[66.4,-20],J:[-66.4,26],F:[66.4,26],I:[-49,70],G:[49,70],H:[0,92]},french:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,65],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.4,-20],E:[66.4,-20],J:[-66.4,26],F:[66.4,26],I:[-65.4,70],G:[65.4,70],H:[0,89]},horsehead:{a:[-43.75,-47.5],b:[0,-50],c:[43.75,-47.5],d:[-35,0],e:[0,0],f:[35,0],h:[0,50],y:[-50,-50],z:[0,55],j:[-35,-35],k:[0,-40],l:[35,-35],m:[-30,30],n:[0,40],o:[30,30],p:[-27.5,0],q:[27.5,0],A:[-71,-52],B:[-24,-73],C:[24,-73],D:[71,-52],K:[-62,-16],E:[62,-16],J:[-39,20],F:[39,20],I:[-33.5,60],G:[33.5,60],H:[0,91.5]},horsehead2:{a:[-37.5,-47.5],b:[0,-50],c:[37.5,-47.5],d:[-35,0],e:[0,0],f:[35,0],g:[-35,-47.5],h:[0,50],i:[35,-47.5],y:[-50,-50],z:[0,55],j:[-30,-30],k:[0,-40],l:[30,-30],m:[-30,30],n:[0,40],o:[30,30],p:[-27.5,0],q:[27.5,0],A:[-49,-39],B:[-22,-70],C:[22,-70],D:[49,-39],K:[-51,-2],E:[51,-2],J:[-38.5,31],F:[38.5,31],I:[-35,67],G:[35,67],H:[0,85]},polish:{a:[-35,-50],b:[0,-50],c:[35,-50],d:[-40,0],e:[0,0],f:[40,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-50,-50],z:[0,65],j:[-27.5,-27.5],k:[0,-45],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,45],o:[27.5,27.5],p:[-32.5,0],q:[32.5,0],A:[-48,-52],B:[-23,-80],C:[23,-80],D:[48,-52],K:[-47,-10],E:[47,-10],J:[-62,32],F:[62,32],I:[-37,68],G:[37,68],H:[0,86]},hessen:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,52.5],j:[-40,-40],k:[0,-40],l:[40,-40],m:[-40,40],n:[0,40],o:[40,40],p:[-40,0],q:[40,0],A:[-69,-64],B:[-22,-76],C:[22,-76],D:[69,-64],K:[-66.4,-20],E:[66.4,-20],J:[-62,26],F:[62,26],I:[-46,70],G:[46,70],H:[0,91.5]},swiss:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32,37.5],h:[0,50],i:[32,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-32,32.5],n:[0,42.5],o:[32,32.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66],C:[22,-66],D:[66.2,-66.6],K:[-63,-20],E:[63,-20],J:[-50,26],F:[50,26],I:[-29,62],G:[29,62],H:[0,89.5]},boeotian:{a:[-37.5,-47.5],b:[0,-47.5],c:[37.5,-47.5],d:[-25,0],e:[0,0],f:[25,0],g:[-37.5,47.5],h:[0,47.5],i:[37.5,47.5],y:[-48,-48],z:[0,60],j:[-32.5,-37.5],k:[0,-45],l:[32.5,-37.5],m:[-32.5,37.5],n:[0,45],o:[32.5,37.5],p:[-20,0],q:[20,0],A:[-45,-55],B:[-20,-77],C:[20,-77],D:[45,-55],K:[-59,-25],E:[59,-25],J:[-58,27],F:[58,27],I:[-39,63],G:[39,63],H:[0,81]},roman:{a:[-40,-52.5],b:[0,-52.5],c:[40,-52.5],d:[-40,0],e:[0,0],f:[40,0],g:[-40,52.5],h:[0,52.5],i:[40,52.5],y:[-42.5,-52.5],z:[0,65],j:[-30,-37.5],k:[0,-37.5],l:[30,-37.5],m:[-30,37.5],n:[0,37.5],o:[30,37.5],p:[-30,0],q:[30,0],A:[-51.5,-65],B:[-17,-75],C:[17,-75],D:[51.5,-65],K:[-51.5,-21],E:[51.5,-21],J:[-51.5,21],F:[51.5,21],I:[-51.5,65],G:[51.5,65],H:[-17,75],L:[17,75]},kite:{b:[0,-65],e:[0,-15],h:[0,35],z:[0,35],k:[0,-50],n:[0,20],p:[-20,-15],q:[20,-15],A:[-38,-52],B:[-29,-78],C:[29,-78],D:[38,-52],K:[-33,-20],E:[33,-20],J:[-25,11],F:[25,11],I:[-15,42],G:[15,42],H:[0,73],L:[0,-91]},oldFrench:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,45],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.2,-20],E:[66.2,-20],J:[-64,26],F:[64,26],I:[-45,62],G:[45,62],H:[0,91]},renaissance:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-41.5,0],e:[0,0],f:[41.5,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-61,-55],B:[-23,-67],C:[23,-67],D:[61,-55],K:[-55,-11],E:[55,-11],J:[-65,31],F:[65,31],I:[-45,76],G:[45,76],H:[0,87]},baroque:{a:[-43.75,-45],b:[0,-45],c:[43.75,-45],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,60],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-65,-54.5],B:[-22,-65],C:[22,-65],D:[65,-54.5],K:[-58.5,-15],E:[58.5,-15],J:[-65,31],F:[66,31],I:[-35,73],G:[35,73],H:[0,89]},targe:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,50],j:[-40,-40],k:[0,-40],l:[40,-40],m:[-40,40],n:[0,40],o:[40,40],p:[-32.5,0],q:[32.5,0],A:[-66.2,-60],B:[-22,-77],C:[22,-86],D:[60,-66.6],K:[-28,-20],E:[57,-20],J:[-61,26],F:[61,26],I:[-49,63],G:[49,59],H:[0,80]},targe2:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-40,0],e:[0,0],f:[40,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,60],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-32.5,0],q:[32.5,0],A:[-55,-59],B:[-15,-59],C:[24,-79],D:[51,-58],K:[-40,-14],E:[51,-14],J:[-64,26],F:[62,26],I:[-46,66],G:[48,67],H:[0,83]},pavise:{a:[-40,-52.5],b:[0,-52.5],c:[40,-52.5],d:[-40,0],e:[0,0],f:[40,0],g:[-40,52.5],h:[0,52.5],i:[40,52.5],y:[-42.5,-52.5],z:[0,60],j:[-30,-35],k:[0,-37.5],l:[30,-35],m:[-30,35],n:[0,37.5],o:[30,35],p:[-30,0],q:[30,0],A:[-57,-55],B:[-22,-74],C:[22,-74],D:[57,-55],K:[-54,-11],E:[54,-11],J:[-50,36],F:[50,36],I:[-46,81],G:[46,81],H:[0,81]},wedged:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32.25,37.5],h:[0,50],i:[32.25,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-32.5,32.5],n:[0,42.5],o:[32.5,32.5],p:[-37.5,0],q:[37.5,0],A:[-66,-53],B:[-22,-72.5],C:[22,-72.5],D:[66,-53],K:[-62.6,-13],E:[62.6,-13],J:[-50,26],F:[50,26],I:[-27,62],G:[27,62],H:[0,87]},flag:{a:[-60,-40],b:[0,-40],c:[60,-40],d:[-60,0],e:[0,0],f:[60,0],g:[-60,40],h:[0,40],i:[60,40],y:[-60,-42.5],z:[0,40],j:[-45,-30],k:[0,-30],l:[45,-30],m:[-45,30],n:[0,30],o:[45,30],p:[-45,0],q:[45,0],A:[-81,-51],B:[-27,-51],C:[27,-51],D:[81,-51],K:[-81,-17],E:[81,-17],J:[-81,17],F:[81,17],I:[-81,51],G:[81,51],H:[-27,51],L:[27,51]},pennon:{a:[-75,-40],d:[-75,0],e:[-25,0],f:[25,0],g:[-75,40],y:[-70,-42.5],j:[-60,-30],m:[-60,30],p:[-60,0],q:[5,0],A:[-81,-48],B:[-43,-36],C:[-4.5,-24],D:[33,-12],E:[72,0],F:[33,12],G:[-4.5,24],H:[-43,36],I:[-81,48],J:[-81,17],K:[-81,-17]},guidon:{a:[-60,-40],b:[0,-40],c:[60,-40],d:[-60,0],e:[0,0],g:[-60,40],h:[0,40],i:[60,40],y:[-60,-42.5],z:[0,40],j:[-45,-30],k:[0,-30],l:[45,-30],m:[-45,30],n:[0,30],o:[45,30],p:[-45,0],A:[-81,-51],B:[-27,-51],C:[27,-51],D:[78,-51],K:[-81,-17],E:[40.5,-17],J:[-81,17],F:[40.5,17],I:[-81,51],G:[78,51],H:[-27,51],L:[27,51]},banner:{a:[-50,-50],b:[0,-50],c:[50,-50],d:[-50,0],e:[0,0],f:[50,0],g:[-50,40],h:[0,40],i:[50,40],y:[-50,-50],z:[0,40],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,27.5],n:[0,27.5],o:[37.5,27.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-66.5,66.5],G:[66.5,66.5],H:[-25,75],L:[25,75]},dovetail:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],i:[49.75,50],y:[-50,-50],z:[0,40],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,32.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-16.5],E:[66.5,-16.5],J:[-66.5,34.5],F:[66.5,34.5],I:[-66.5,84.5],G:[66.5,84.5],H:[-25,64],L:[25,64]},gonfalon:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],h:[0,50],i:[49.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-40,63],G:[40,63],H:[0,88]},pennant:{a:[-45,-50],b:[0,-50],c:[45,-50],e:[0,0],h:[0,50],y:[-50,-50],z:[0,50],j:[-32.5,-37.5],k:[0,-37.5],l:[32.5,-37.5],n:[0,37.5],A:[-60,-76],B:[-22,-76],C:[22,-76],D:[60,-76],K:[-46,-38],E:[46,-38],J:[-31,0],F:[31,0],I:[-16,38],G:[16,38],H:[0,76]},round:{a:[-40,-47.5],b:[0,-47.5],c:[40,-47.5],d:[-40,0],e:[0,0],f:[40,0],g:[-32.5,47.5],h:[0,47.5],i:[32.5,47.5],y:[-48,-48],z:[0,57.5],j:[-35.5,-35.5],k:[0,-37.5],l:[35.5,-35.5],m:[-35.5,35.5],n:[0,37.5],o:[35.5,35.5],p:[-36.5,0],q:[36.5,0],A:[-59,-48],B:[-23,-73],C:[23,-73],D:[59,-48],K:[-76,-10],E:[76,-10],J:[-70,31],F:[70,31],I:[-42,64],G:[42,64],H:[0,77]},oval:{a:[-37.5,-50],b:[0,-50],c:[37.5,-50],d:[-43,0],e:[0,0],f:[43,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-48,-48],z:[0,60],j:[-35.5,-37.5],k:[0,-37.5],l:[35.5,-37.5],m:[-35.5,37.5],n:[0,50],o:[35.5,37.5],p:[-36.5,0],q:[36.5,0],A:[-48,-48],B:[-23,-78],C:[23,-78],D:[48,-48],K:[-59,-10],E:[59,-10],J:[-55,31],F:[55,31],I:[-36,68],G:[36,68],H:[0,85]},vesicaPiscis:{a:[-32,-37],b:[0,-50],c:[32,-37],d:[-32,0],e:[0,0],f:[32,0],g:[-32,37],h:[0,50],i:[32,37],y:[-50,-50],z:[0,62],j:[-27.5,-27.5],k:[0,-37],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,42],o:[27.5,27.5],p:[-27.5,0],q:[27.5,0],A:[-45,-32],B:[-29,-63],C:[29,-63],D:[45,-32],K:[-50,0],E:[50,0],J:[-45,32],F:[45,32],I:[-29,63],G:[29,63],H:[0,89],L:[0,-89]},square:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],h:[0,50],i:[49.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-66.5,66.5],G:[66.5,66.5],H:[-22,66.5],L:[22,66.5]},diamond:{a:[-32,-37],b:[0,-50],c:[32,-37],d:[-43,0],e:[0,0],f:[43,0],g:[-32,37],h:[0,50],i:[32,37],y:[-50,-50],z:[0,62],j:[-27.5,-27.5],k:[0,-37],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,42],o:[27.5,27.5],p:[-37,0],q:[37,0],A:[-43,-28],B:[-22,-56],C:[22,-56],D:[43,-28],K:[-63,0],E:[63,0],J:[-42,28],F:[42,28],I:[-22,56],G:[22,56],H:[0,83],L:[0,-82]},no:{a:[-66.5,-66.5],b:[0,-66.5],c:[66.5,-66.5],d:[-66.5,0],e:[0,0],f:[66.5,0],g:[-66.5,66.5],h:[0,66.5],i:[66.5,66.5],y:[-50,-50],z:[0,75],j:[-50,-50],k:[0,-50],l:[50,-50],m:[-50,50],n:[0,50],o:[50,50],p:[-50,0],q:[50,0],A:[-91.5,-91.5],B:[-30.5,-91.5],C:[30.5,-91.5],D:[91.5,-91.5],K:[-91.5,-30.5],E:[91.5,-30.5],J:[-91.5,30.5],F:[91.5,30.5],I:[-91.5,91.5],G:[91.5,91.5],H:[-30.5,91.5],L:[30.5,91.5]},fantasy1:{a:[-45,-45],b:[0,-50],c:[45,-45],d:[-40,0],e:[0,0],f:[40,0],g:[-36,42.5],h:[0,50],i:[36,42.5],y:[-50,-50],z:[0,60],j:[-37,-37],k:[0,-40],l:[37,-37],m:[-32,32],n:[0,40],o:[32,32],p:[-28.5,0],q:[28.5,0],A:[-66,-55],B:[-22,-67],C:[22,-67],D:[66,-55],K:[-53,-20],E:[53,-20],J:[-46,26],F:[46,26],I:[-29,62],G:[29,62],H:[0,84]},fantasy2:{a:[-45,-45],b:[0,-45],c:[45,-45],d:[-35,0],e:[0,0],f:[35,0],g:[-36,42.5],h:[0,45],i:[36,42.5],y:[-50,-50],z:[0,55],j:[-32.5,-32.5],k:[0,-40],l:[32.5,-32.5],m:[-30,30],n:[0,40],o:[30,30],p:[-27.5,0],q:[27.5,0],A:[-58,-35],B:[-44,-67],C:[44,-67],D:[58,-35],K:[-39,-5],E:[39,-5],J:[-57,26],F:[57,26],I:[-32,58],G:[32,58],H:[0,83],L:[0,-72]},fantasy3:{a:[-40,-45],b:[0,-50],c:[40,-45],d:[-35,0],e:[0,0],f:[35,0],g:[-36,42.5],h:[0,50],i:[36,42.5],y:[-50,-50],z:[0,55],j:[-32.5,-32.5],k:[0,-40],l:[32.5,-32.5],m:[-30,30],n:[0,40],o:[30,30],p:[-27.5,0],q:[27.5,0],A:[-56,-42],B:[-22,-72],C:[22,-72],D:[56,-42],K:[-37,-11],E:[37,-11],J:[-60,20],F:[60,20],I:[-34,56],G:[34,56],H:[0,83]},fantasy4:{a:[-50,-45],b:[0,-50],c:[50,-45],d:[-45,0],e:[0,0],f:[45,0],g:[-40,45],h:[0,50],i:[40,45],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-45],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,45],o:[37.5,37.5],p:[-35,0],q:[35,0],A:[-75,-56],B:[-36,-61],C:[36,-61],D:[75,-56],K:[-67,-12],E:[67,-12],J:[-63,32],F:[63,32],I:[-42,75],G:[42,75],H:[0,91.5],L:[0,-79]},fantasy5:{a:[-45,-50],b:[0,-50],c:[45,-50],d:[-40,0],e:[0,0],f:[40,0],g:[-30,45],h:[0,50],i:[30,45],y:[-50,-50],z:[0,60],j:[-37,-37],k:[0,-40],l:[37,-37],m:[-32,32],n:[0,40],o:[32,32],p:[-28.5,0],q:[28.5,0],A:[-61,-67],B:[-22,-76],C:[22,-76],D:[61,-67],K:[-58,-25],E:[58,-25],J:[-48,20],F:[48,20],I:[-28.5,60],G:[28.5,60],H:[0,89]},noldor:{b:[0,-65],e:[0,-15],h:[0,35],z:[0,35],k:[0,-50],n:[0,30],p:[-20,-15],q:[20,-15],A:[-34,-47],B:[-20,-68],C:[20,-68],D:[34,-47],K:[-18,-20],E:[18,-20],J:[-26,11],F:[26,11],I:[-14,43],G:[14,43],H:[0,74],L:[0,-85]},gondor:{a:[-32.5,-50],b:[0,-50],c:[32.5,-50],d:[-32.5,0],e:[0,0],f:[32.5,0],g:[-32.5,50],h:[0,50],i:[32.5,50],y:[-42.5,-52.5],z:[0,65],j:[-25,-37.5],k:[0,-37.5],l:[25,-37.5],m:[-25,30],n:[0,37.5],o:[25,30],p:[-25,0],q:[25,0],A:[-42,-52],B:[-17,-75],C:[17,-75],D:[42,-52],K:[-42,-15],E:[42,-15],J:[-42,22],F:[42,22],I:[-26,60],G:[26,60],H:[0,87]},easterling:{a:[-40,-47.5],b:[0,-47.5],c:[40,-47.5],d:[-40,0],e:[0,0],f:[40,0],g:[-40,47.5],h:[0,47.5],i:[40,47.5],y:[-42.5,-52.5],z:[0,65],j:[-30,-37.5],k:[0,-37.5],l:[30,-37.5],m:[-30,37.5],n:[0,37.5],o:[30,37.5],p:[-30,0],q:[30,0],A:[-52,-72],B:[0,-65],D:[52,-72],K:[-52,-24],E:[52,-24],J:[-52,24],F:[52,24],I:[-52,72],G:[52,72],H:[0,65]},erebor:{a:[-40,-40],b:[0,-55],c:[40,-40],d:[-40,0],e:[0,0],f:[40,0],g:[-40,40],h:[0,55],i:[40,40],y:[-50,-50],z:[0,50],j:[-35,-35],k:[0,-45],l:[35,-35],m:[-35,35],n:[0,45],o:[35,35],p:[-37.5,0],q:[37.5,0],A:[-47,-46],B:[-22,-81],C:[22,-81],D:[47,-46],K:[-66.5,0],E:[66.5,0],J:[-47,46],F:[47,46],I:[-22,81],G:[22,81]},ironHills:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.25,0],e:[0,0],f:[43.25,0],g:[-42.5,42.5],h:[0,50],i:[42.5,42.5],y:[-50,-50],z:[0,62.5],j:[-32.5,-32.5],k:[0,-40],l:[32.5,-32.5],m:[-32.5,32.5],n:[0,40],o:[32.5,32.5],p:[-37.5,0],q:[37.5,0],A:[-61,-67],B:[-22,-74],C:[22,-74],D:[61,-67],K:[-59,-20],E:[59,-20],J:[-57,26],F:[57,26],I:[-33,64],G:[33,64],H:[0,88]},urukHai:{a:[-40,-45],b:[0,-45],c:[40,-45],d:[-36,0],e:[0,0],f:[36,0],g:[-32.25,40],h:[0,40],i:[32.25,40],y:[-50,-50],z:[0,40],j:[-32.5,-32.5],k:[0,-37.5],l:[32.5,-32.5],m:[-27.5,27.5],n:[0,32.5],o:[27.5,27.5],p:[-37.5,0],q:[37.5,0],A:[-31,-79],B:[-1,-90],C:[31,-74],D:[61,-57],K:[-55,-19],E:[53,-19],J:[-45,19],F:[45,19],I:[-33,57],G:[35,57],H:[0,57],L:[-39,-50]},moriaOrc:{a:[-37.5,-37.5],b:[0,-37.5],c:[37.5,-37.5],d:[-37.5,0],e:[0,0],f:[37.5,0],g:[-37.5,37.5],h:[0,37.5],i:[37.5,37.5],y:[-50,-50],z:[0,40],j:[-30,-30],k:[0,-30],l:[30,-30],m:[-30,30],n:[0,30],o:[30,30],p:[-30,0],q:[30,0],A:[-48,-48],B:[-16,-50],C:[16,-46],D:[39,-61],K:[-52,-19],E:[52,-26],J:[-42,9],F:[52,9],I:[-31,40],G:[40,43],H:[4,47]}},st={heater:"0 10 200 200",spanish:"0 10 200 200",french:"0 10 200 200",horsehead:"0 10 200 200",horsehead2:"0 10 200 200",polish:"0 0 200 200",hessen:"0 5 200 200",swiss:"0 10 200 200",boeotian:"0 0 200 200",roman:"0 0 200 200",kite:"0 0 200 200",oldFrench:"0 10 200 200",renaissance:"0 5 200 200",baroque:"0 10 200 200",targe:"0 0 200 200",targe2:"0 0 200 200",pavise:"0 0 200 200",wedged:"0 10 200 200",flag:"0 0 200 200",pennon:"2.5 0 200 200",guidon:"2.5 0 200 200",banner:"0 10 200 200",dovetail:"0 10 200 200",gonfalon:"0 10 200 200",pennant:"0 0 200 200",round:"0 0 200 200",oval:"0 0 200 200",vesicaPiscis:"0 0 200 200",square:"0 0 200 200",diamond:"0 0 200 200",no:"0 0 200 200",fantasy1:"0 0 200 200",fantasy2:"0 5 200 200",fantasy3:"0 5 200 200",fantasy4:"0 5 200 200",fantasy5:"0 0 200 200",noldor:"0 0 200 200",gondor:"0 5 200 200",easterling:"0 0 200 200",erebor:"0 0 200 200",ironHills:"0 5 200 200",urukHai:"0 0 200 200",moriaOrc:"0 0 200 200"};function ct(e){return e[Math.floor(Math.random()*e.length)]}function at(e){if(!e.array){const t=[];for(const n in e)for(let l=0;l<e[n];l++)t.push(n);Object.defineProperty(e,"array",{enumerable:!1,configurable:!0,writable:!1,value:t})}return e.array[Math.floor(Math.random()*e.array.length)]}function dt(e){return Math.random()<e}function ut(e){return e.replace(/\.[^/.]+$/,"").replace(/_/g," ").replace(/^[0-9]/,"_").replace(/\W+(.)/g,((e,t)=>t.toUpperCase()))}const ft=function(){const e=e=>{const t=localStorage.getItem(e);return"null"===t?null:t},t=e=>localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null,n=+e("size")||200,l=e("diaper")||null,i=e("grad")||ct(["luster","spotlight","backlight"]),r=e("shield")||at(Qe[at(Qe.types)]),o=t("colors")||JSON.parse(JSON.stringify(Ye)),s=t("tinctures")||JSON.parse(JSON.stringify(Ve)),c=e("border")||"#333333",a=+e("borderWidth")||1,d=e("background")||"#333333",u=+e("scale")||2,f=+e("grid")||1,p=t("showGrid")||0;return{size:n,diaper:l,grad:i,shield:r,colors:o,tinctures:s,border:c,borderWidth:a,background:d,scale:u,grid:f,showGrid:p}}(),pt=Xe(ft.size),ht=Xe(ft.grad),mt=Xe(ft.diaper),gt=Xe(ft.shield),vt=Xe(ft.colors),$t=Xe(ft.tinctures),yt=Xe(ft.background),bt=Xe(ft.scale),wt=Xe(ft.border),kt=Xe(ft.borderWidth),xt=Xe(ft.grid),qt=Xe(ft.showGrid),jt=Xe([]),zt=Xe([]),Ct=Xe(0),_t=Xe({edit:0,about:0,i:0}),Bt=Xe(null),St=(()=>{const{subscribe:e,set:t,update:n}=Xe([void 0,-1]);let l=[],i=-1;return{subscribe:e,length:()=>l.length,reset:()=>{l=[],i=-1,t([void 0,-1])},add(e){e!==l[i]&&(i<l.length-1&&(l=l.slice(0,i+1)),l.push(e),i+=1,t([l[i],i]))},undo:()=>n((e=>(i>0&&(i-=1),[l[i],i]))),redo:()=>n((e=>(i<l.length-1&&(i+=1),[l[i],i])))}})(),Et=Xe([]),Mt=Xe([]);async function Ht(e){const t=void 0!==e?[document.getElementById("coa"+e)]:document.querySelectorAll("svg.coa");let n=+t[0].getAttribute("width"),l=+t[0].getAttribute("height");const i=t.length>1?Math.floor(window.innerWidth/n):1,r=t.length>1?Math.ceil(t.length/i):1,o=c(bt);n=Math.round(n*o),l=Math.round(l*o);const s=document.createElement("canvas"),a=s.getContext("2d");s.width=n*i,s.height=l*r;let d=0;t.forEach((async function(e,r){const o=await async function(e){const t=e.cloneNode(!0),n=t.getElementsByTagName("defs")[0],l=t.getElementById("grid"),i=t.getElementById("gridPattern");l&&l.remove();i&&i.remove();const r=c(gt),o=c(ht),s=c(mt);n.insertAdjacentHTML("beforeend",defs.getElementById(r).outerHTML),o&&n.insertAdjacentHTML("beforeend",defs.getElementById(o).outerHTML);s&&n.insertAdjacentHTML("beforeend",defs.getElementById(s).outerHTML);t.querySelectorAll(".charge[charge]").forEach((e=>{const t=e.getAttribute("charge");n.insertAdjacentHTML("beforeend",defs.getElementById(t).outerHTML)}));const a=t.getElementById("field").getAttribute("fill").split("(#")[1]?.split(")")[0];a&&n.insertAdjacentHTML("beforeend",document.getElementById(a).outerHTML);const d=t.getElementById("division")?.querySelector("rect").getAttribute("fill").split("(#")[1]?.split(")")[0];d&&n.insertAdjacentHTML("beforeend",document.getElementById(d).outerHTML);const u=(new XMLSerializer).serializeToString(t),f=new Blob([u],{type:"image/svg+xml;charset=utf-8"});return window.URL.createObjectURL(f)}(e),u=new Image;u.src=o,u.onload=()=>{URL.revokeObjectURL(o),a.drawImage(u,r%i*n,Math.floor(r/i)*l,n,l),d++,d===t.length&&function(e){const t=document.createElement("a");t.download="armoria_download.png",e.toBlob((function(n){console.log(n),t.href=window.URL.createObjectURL(n),document.body.appendChild(t),t.click(),setTimeout((function(){e.remove(),window.URL.revokeObjectURL(t.href)}),5e3)}))}(s)}}))}function It(e,t,n){const l=e.slice();return l[43]=t[n],l}function At(e,t,n){const l=e.slice();return l[46]=t[n],l}function Lt(e,t,n){const l=e.slice();return l[49]=t[n],l}function Tt(e,t,n){const l=e.slice();return l[55]=t[n],l}function Ft(e,t,n){const l=e.slice();return l[52]=t[n],l}function Ot(e){let t,n,l,i,r,o,s,c=function(e){return document.getElementById(e).innerHTML}(e[55])+"",a=e[55].split(/(?=[A-Z])/).join(" ")+"";function d(...t){return e[18](e[55],...t)}return{c(){t=j("bt"),n=z("svg"),l=_(),i=C(a),r=_(),M(n,"class","shield svelte-q9jqkf"),M(n,"width","26"),M(n,"height","26"),M(n,"viewBox","0 0 200 210"),O(n,"selected",e[55]===e[4]),M(t,"class","svelte-q9jqkf")},m(e,a){k(e,t,a),w(t,n),n.innerHTML=c,w(t,l),w(t,i),w(t,r),o||(s=S(t,"click",d),o=!0)},p(t,l){e=t,16&l[0]&&O(n,"selected",e[55]===e[4])},d(e){e&&x(t),o=!1,s()}}}function Dt(e){let t,n,l,i,r,o,s=e[52].split(/(?=[A-Z])/).join(" ")+"",c=Object.keys(Qe[e[52]]),a=[];for(let t=0;t<c.length;t+=1)a[t]=Ot(Tt(e,c,t));return{c(){t=j("div"),n=j("div");for(let e=0;e<a.length;e+=1)a[e].c();l=_(),i=j("bl"),r=C(s),o=_(),M(n,"class","dropdown level3 iconed svelte-q9jqkf"),M(i,"class","svelte-q9jqkf"),M(t,"class","container svelte-q9jqkf")},m(e,s){k(e,t,s),w(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);w(t,l),w(t,i),w(i,r),w(t,o)},p(e,t){if(16&t[0]){let l;for(c=Object.keys(Qe[e[52]]),l=0;l<c.length;l+=1){const i=Tt(e,c,l);a[l]?a[l].p(i,t):(a[l]=Ot(i),a[l].c(),a[l].m(n,null))}for(;l<a.length;l+=1)a[l].d(1);a.length=c.length}},d(e){e&&x(t),q(a,e)}}}function Pt(e){let t;return{c(){t=C("Shield")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Gt(e){let t;return{c(){t=C("Tinctures")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Jt(e){let t,n,l,i,r=e[49]+"";function o(...t){return e[21](e[49],...t)}return{c(){t=j("bt"),n=C(r),M(t,"class","svelte-q9jqkf"),O(t,"selected",e[49]===e[2])},m(e,r){k(e,t,r),w(t,n),l||(i=S(t,"click",o),l=!0)},p(n,l){e=n,4100&l[0]&&O(t,"selected",e[49]===e[2])},d(e){e&&x(t),l=!1,i()}}}function Rt(e){let t;return{c(){t=C("Gradient")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Nt(e){let t,n,l,i,r=e[46]+"";function o(...t){return e[23](e[46],...t)}return{c(){t=j("bt"),n=C(r),M(t,"class","svelte-q9jqkf"),O(t,"selected",e[46]===e[3])},m(e,r){k(e,t,r),w(t,n),l||(i=S(t,"click",o),l=!0)},p(n,l){e=n,8200&l[0]&&O(t,"selected",e[46]===e[3])},d(e){e&&x(t),l=!1,i()}}}function Kt(e){let t;return{c(){t=C("Damasking")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Wt(e){let t,n,l,i,r=e[43][1]+"";function o(...t){return e[24](e[43],...t)}return{c(){t=j("bt"),n=C(r),M(t,"class","svelte-q9jqkf"),O(t,"selected",e[1]==e[43][0])},m(e,r){k(e,t,r),w(t,n),l||(i=S(t,"click",o),l=!0)},p(n,l){e=n,2050&l[0]&&O(t,"selected",e[1]==e[43][0])},d(e){e&&x(t),l=!1,i()}}}function Ut(e){let t;return{c(){t=C("Gallery")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Zt(e){let t,n;return t=new Te({props:{tip:"Restore default color",$$slots:{default:[Xt]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};128&n[0]|134217728&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function Xt(t){let n,l,i,r;return{c(){n=z("svg"),l=z("use"),M(l,"href","#undo-icon"),M(n,"class","navBarIcon active smaller svelte-q9jqkf")},m(e,o){k(e,n,o),w(n,l),i||(r=S(n,"click",t[25]),i=!0)},p:e,d(e){e&&x(n),i=!1,r()}}}function Vt(e){let t;return{c(){t=C("Border")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Yt(t){let n,l,i,r;return{c(){n=z("svg"),l=z("use"),M(l,"href","#random-icon"),M(n,"class","navBarIcon active smaller svelte-q9jqkf")},m(e,o){k(e,n,o),w(n,l),i||(r=S(n,"click",t[15]),i=!0)},p:e,d(e){e&&x(n),i=!1,r()}}}function Qt(e){let t,n;return t=new Te({props:{tip:"Restore default color",$$slots:{default:[en]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};32&n[0]|134217728&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function en(t){let n,l,i,r;return{c(){n=z("svg"),l=z("use"),M(l,"href","#undo-icon"),M(n,"class","navBarIcon active smaller svelte-q9jqkf")},m(e,o){k(e,n,o),w(n,l),i||(r=S(n,"click",t[28]),i=!0)},p:e,d(e){e&&x(n),i=!1,r()}}}function tn(e){let t;return{c(){t=C("Background")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function nn(e){let t;return{c(){t=C("Scale")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function ln(t){let n,l=t[16]("rollback","inactive")+"";return{c(){n=j("bd"),M(n,"class","svelte-q9jqkf")},m(e,t){k(e,n,t),n.innerHTML=l},p:e,i:e,o:e,d(e){e&&x(n)}}}function rn(e){let t,n,l,i,r;return n=new Te({props:{tip:"Roll to the previous list. Hotkey: Backspace",$$slots:{default:[on]},$$scope:{ctx:e}}}),{c(){t=j("bt"),je(n.$$.fragment),M(t,"class","svelte-q9jqkf")},m(o,s){k(o,t,s),ze(n,t,null),l=!0,i||(r=S(t,"click",e[32]),i=!0)},p(e,t){const l={};134217728&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(he(n.$$.fragment,e),l=!0)},o(e){me(n.$$.fragment,e),l=!1},d(e){e&&x(t),Ce(n),i=!1,r()}}}function on(t){let n,l,i=t[16]("rollback")+"";return{c(){l=B(),n=new D(l)},m(e,t){n.m(i,e,t),k(e,l,t)},p:e,d(e){e&&x(l),e&&n.d()}}}function sn(t){let n,l,i=t[16]("reroll")+"";return{c(){l=B(),n=new D(l)},m(e,t){n.m(i,e,t),k(e,l,t)},p:e,d(e){e&&x(l),e&&n.d()}}}function cn(t){let n,l,i=t[16]("download")+"";return{c(){l=B(),n=new D(l)},m(e,t){n.m(i,e,t),k(e,l,t)},p:e,d(e){e&&x(l),e&&n.d()}}}function an(e){let t;return{c(){t=C("Raster")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function dn(e){let t;return{c(){t=C("Vector")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function un(e){let t,n,l,i,r,o,s,c;const a=[pn,fn],d=[];function u(e,t){return e[0]>0?0:1}t=u(e),n=d[t]=a[t](e);const f=[gn,mn],p=[];function h(e,t){return 1&t[0]&&(i=!!(e[0]<St.length()-1)),i?0:1}return r=h(e,[-1]),o=p[r]=f[r](e),{c(){n.c(),l=_(),o.c(),s=B()},m(e,n){d[t].m(e,n),k(e,l,n),p[r].m(e,n),k(e,s,n),c=!0},p(e,i){let c=t;t=u(e),t===c?d[t].p(e,i):(fe(),me(d[c],1,1,(()=>{d[c]=null})),pe(),n=d[t],n||(n=d[t]=a[t](e),n.c()),he(n,1),n.m(l.parentNode,l));let m=r;r=h(e,i),r===m?p[r].p(e,i):(fe(),me(p[m],1,1,(()=>{p[m]=null})),pe(),o=p[r],o||(o=p[r]=f[r](e),o.c()),he(o,1),o.m(s.parentNode,s))},i(e){c||(he(n),he(o),c=!0)},o(e){me(n),me(o),c=!1},d(e){d[t].d(e),e&&x(l),p[r].d(e),e&&x(s)}}}function fn(t){let n,l=t[16]("undo","inactive")+"";return{c(){n=j("bd"),M(n,"class","svelte-q9jqkf")},m(e,t){k(e,n,t),n.innerHTML=l},p:e,i:e,o:e,d(e){e&&x(n)}}}function pn(e){let t,n,l,i,r;return n=new Te({props:{tip:"Revert the latest change. Hotkey: Z",$$slots:{default:[hn]},$$scope:{ctx:e}}}),{c(){t=j("bt"),je(n.$$.fragment),M(t,"class","svelte-q9jqkf")},m(o,s){k(o,t,s),ze(n,t,null),l=!0,i||(r=S(t,"click",e[36]),i=!0)},p(e,t){const l={};134217728&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(he(n.$$.fragment,e),l=!0)},o(e){me(n.$$.fragment,e),l=!1},d(e){e&&x(t),Ce(n),i=!1,r()}}}function hn(t){let n,l,i=t[16]("undo")+"";return{c(){l=B(),n=new D(l)},m(e,t){n.m(i,e,t),k(e,l,t)},p:e,d(e){e&&x(l),e&&n.d()}}}function mn(t){let n,l=t[16]("redo","inactive")+"";return{c(){n=j("bd"),M(n,"class","svelte-q9jqkf")},m(e,t){k(e,n,t),n.innerHTML=l},p:e,i:e,o:e,d(e){e&&x(n)}}}function gn(e){let t,n,l,i,r;return n=new Te({props:{tip:"Restore next change. Hotkey: X",$$slots:{default:[vn]},$$scope:{ctx:e}}}),{c(){t=j("bt"),je(n.$$.fragment),M(t,"class","svelte-q9jqkf")},m(o,s){k(o,t,s),ze(n,t,null),l=!0,i||(r=S(t,"click",e[37]),i=!0)},p(e,t){const l={};134217728&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(he(n.$$.fragment,e),l=!0)},o(e){me(n.$$.fragment,e),l=!1},d(e){e&&x(t),Ce(n),i=!1,r()}}}function vn(t){let n,l,i=t[16]("redo")+"";return{c(){l=B(),n=new D(l)},m(e,t){n.m(i,e,t),k(e,l,t)},p:e,d(e){e&&x(l),e&&n.d()}}}function $n(e){let t,n,l,i,r,o;return n=new Te({props:{tip:"Get back to Gallery",left:!0,$$slots:{default:[yn]},$$scope:{ctx:e}}}),{c(){t=j("bt"),je(n.$$.fragment),M(t,"id","back"),M(t,"class","svelte-q9jqkf")},m(l,s){k(l,t,s),ze(n,t,null),i=!0,r||(o=S(t,"click",e[38]),r=!0)},p(e,t){const l={};134217728&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){i||(he(n.$$.fragment,e),te((()=>{l||(l=$e(t,Ne,{},!0)),l.run(1)})),i=!0)},o(e){me(n.$$.fragment,e),l||(l=$e(t,Ne,{},!1)),l.run(0),i=!1},d(e){e&&x(t),Ce(n),e&&l&&l.end(),r=!1,o()}}}function yn(t){let n,l,i=t[16]("back")+"";return{c(){l=B(),n=new D(l)},m(e,t){n.m(i,e,t),k(e,l,t)},p:e,d(e){e&&x(l),e&&n.d()}}}function bn(e){let t,n,l,i,r;return n=new Te({props:{tip:"Show about screen. Hotkey: F1",left:!0,$$slots:{default:[wn]},$$scope:{ctx:e}}}),{c(){t=j("bt"),je(n.$$.fragment),M(t,"class","svelte-q9jqkf")},m(o,s){k(o,t,s),ze(n,t,null),l=!0,i||(r=S(t,"click",e[39]),i=!0)},p(e,t){const l={};134217728&t[1]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(he(n.$$.fragment,e),l=!0)},o(e){me(n.$$.fragment,e),l=!1},d(e){e&&x(t),Ce(n),i=!1,r()}}}function wn(t){let n,l,i=t[16]("about")+"";return{c(){l=B(),n=new D(l)},m(e,t){n.m(i,e,t),k(e,l,t)},p:e,d(e){e&&x(l),e&&n.d()}}}function kn(e){let t,n,l,r,o,s,c,a,d,u,f,p,h,m,g,v,$,y,b,B,E,I,L,T,F,D,P,G,J,R,N,K,W,U,Z,X,V,Y,Q,ee,te,ne,le,ie,re,oe,se,ce,ae,de,ue,ge,ve,$e,ye,be,we,ke,xe,qe,_e,Be,Se,Ee,Me,He,Ie,Ae,Le,Fe,Oe,De,Pe,Je,Re,Ne,Ke,We,Ue,Ze,Xe,Ve,Ye,et,tt,nt,lt,it,rt,ot,st,ct,at,dt,ut,ft,pt,ht,mt,gt,vt,$t,yt,bt,wt,kt,xt,qt,jt,zt,Ct,_t,Bt,St,Et,Mt,Ht,Tt,Ot,Xt,en=e[16]("options")+"",on=e[16]("upload")+"",fn=Object.keys(Qe.types),pn=[];for(let t=0;t<fn.length;t+=1)pn[t]=Dt(Ft(e,fn,t));v=new Ge({props:{key:"shield"}}),y=new Te({props:{tip:"Shield or banner form. Some forms do not work well with auto-generated heralrdy",$$slots:{default:[Pt]},$$scope:{ctx:e}}}),E=new Ge({props:{key:"tinctures"}}),L=new Ge({props:{key:"colors"}}),F=new Te({props:{tip:"Define tinctures. Edit COA to change tincture itself",$$slots:{default:[Gt]},$$scope:{ctx:e}}});let hn=e[12],mn=[];for(let t=0;t<hn.length;t+=1)mn[t]=Jt(Lt(e,hn,t));W=new Ge({props:{key:"grad"}}),Z=new Te({props:{tip:"Gradient (overlay) style to be applied over coat of arms",$$slots:{default:[Rt]},$$scope:{ctx:e}}});let gn=e[13],vn=[];for(let t=0;t<gn.length;t+=1)vn[t]=Nt(At(e,gn,t));le=new Ge({props:{key:"diaper"}}),re=new Te({props:{tip:"Diaper (subtle backing on coat of arms) style",$$slots:{default:[Kt]},$$scope:{ctx:e}}});let yn=e[11],wn=[];for(let t=0;t<yn.length;t+=1)wn[t]=Wt(It(e,yn,t));ue=new Ge({props:{key:"size"}}),ve=new Te({props:{tip:"Gallery size",$$slots:{default:[Ut]},$$scope:{ctx:e}}});let kn="#333333"!==e[7]&&Zt(e);Ie=new Ge({props:{key:"border"}}),Le=new Te({props:{tip:"Border style for coat of arms",$$slots:{default:[Vt]},$$scope:{ctx:e}}}),Re=new Te({props:{tip:"Select random color",$$slots:{default:[Yt]},$$scope:{ctx:e}}});let xn="#333333"!==e[5]&&Qt(e);Xe=new Ge({props:{key:"background"}}),Ye=new Te({props:{tip:"Background color",$$slots:{default:[tn]},$$scope:{ctx:e}}}),at=new Ge({props:{key:"scale"}}),ut=new Te({props:{tip:"Downloaded image size, 1 is default size, 2 - 2x size, etc.",$$slots:{default:[nn]},$$scope:{ctx:e}}});const qn=[rn,ln],jn=[];function zn(e,t){return e[9]?0:1}pt=zn(e),ht=jn[pt]=qn[pt](e),vt=new Te({props:{tip:"Regenerate coat of arms. Hotkey: Enter",$$slots:{default:[sn]},$$scope:{ctx:e}}}),bt=new Te({props:{tip:"Download png image. Set size in options. Hotkey: D",$$slots:{default:[cn]},$$scope:{ctx:e}}}),Ct=new Te({props:{tip:"Upload raster charge (one color, quality loss on scale) from jpg, png or svg image",left:!0,$$slots:{default:[an]},$$scope:{ctx:e}}}),St=new Te({props:{tip:"Upload vector charge (multicolor and lossless scalable) from prepared svg",left:!0,$$slots:{default:[dn]},$$scope:{ctx:e}}});let Cn=e[10].edit&&un(e),_n=e[10].edit&&$n(e),Bn=(e[14]||!e[10].edit)&&bn(e);return{c(){t=j("div"),n=j("ul"),l=z("svg"),r=z("title"),o=C("Armoria: Heraldry Generator"),s=z("path"),c=_(),a=j("div"),d=j("bl"),u=_(),f=j("div"),p=j("div"),h=j("div");for(let e=0;e<pn.length;e+=1)pn[e].c();m=_(),g=j("bl"),je(v.$$.fragment),$=_(),je(y.$$.fragment),b=_(),B=j("bt"),je(E.$$.fragment),I=_(),je(L.$$.fragment),T=_(),je(F.$$.fragment),D=_(),P=j("div"),G=j("div"),J=j("bt"),J.textContent="No gradient",R=_();for(let e=0;e<mn.length;e+=1)mn[e].c();N=_(),K=j("bl"),je(W.$$.fragment),U=_(),je(Z.$$.fragment),X=_(),V=j("div"),Y=j("div"),Q=j("bt"),Q.textContent="No pattern",ee=_();for(let e=0;e<vn.length;e+=1)vn[e].c();te=_(),ne=j("bl"),je(le.$$.fragment),ie=_(),je(re.$$.fragment),oe=_(),se=j("div"),ce=j("div");for(let e=0;e<wn.length;e+=1)wn[e].c();ae=_(),de=j("bl"),je(ue.$$.fragment),ge=_(),je(ve.$$.fragment),$e=_(),ye=j("div"),be=j("div"),we=j("bl"),ke=C("Color\n              "),kn&&kn.c(),xe=_(),qe=j("input"),_e=_(),Be=j("bl"),Se=C("Width\n              "),Ee=j("input"),Me=_(),He=j("bl"),je(Ie.$$.fragment),Ae=_(),je(Le.$$.fragment),Fe=_(),Oe=j("div"),De=j("div"),Pe=j("bl"),Je=C("Color\n              "),je(Re.$$.fragment),Ne=_(),xn&&xn.c(),Ke=_(),We=j("input"),Ue=_(),Ze=j("bl"),je(Xe.$$.fragment),Ve=_(),je(Ye.$$.fragment),et=_(),tt=j("div"),nt=j("div"),lt=j("bl"),it=j("input"),rt=_(),ot=j("input"),st=_(),ct=j("bl"),je(at.$$.fragment),dt=_(),je(ut.$$.fragment),ft=_(),ht.c(),mt=_(),gt=j("bt"),je(vt.$$.fragment),$t=_(),yt=j("bt"),je(bt.$$.fragment),wt=_(),kt=j("div"),xt=j("bl"),qt=_(),jt=j("div"),zt=j("bt"),je(Ct.$$.fragment),_t=_(),Bt=j("bt"),je(St.$$.fragment),Et=_(),Cn&&Cn.c(),Mt=_(),_n&&_n.c(),Ht=_(),Bn&&Bn.c(),M(s,"fill","#fff"),M(s,"stroke","none"),M(s,"d","m 46,3 0.6,1.4 c -1.5,0.7 -2.6,1.4 -3.3,2.2 -0.7,0.7 -1.2,1.5 -1.5,2.4 -0.3,0.9 -0.4,2.2 -0.4,3.9 0,0.6 0,1.3 0,2.2 l 0.5,23.2 c 0,2.5 0.3,4.2 0.8,5 0.4,0.6 0.8,0.8 1.3,0.8 0.6,0 1.5,-0.6 2.8,-1.8 l 0.9,1.1 -5.8,4.9 -1.9,1.6 C 38.4,49.2 37.2,48.2 36.5,46.9 35.8,45.7 35.3,36.7 35.2,34 c -7.6,0.1 -20.2,0 -20.2,0 0,0 -7.4,9.1 -7.4,11.1 0,0.6 0.2,1.1 0.6,1.8 0.5,0.9 0.8,1.4 0.8,1.7 0,0.4 -0.1,0.7 -0.4,1 -0.3,0.3 -0.6,0.4 -1.1,0.4 -0.5,0 -0.9,-0.2 -1.2,-0.6 -0.5,-0.6 -0.7,-1.3 -0.7,-2.2 0,-1 0.3,-2.1 0.8,-3.3 C 8.8,39.9 11.3,36.7 14.1,32.9 11.1,30.7 9,28.5 7.8,26.4 6.6,24.4 6,22.1 6,19.5 c 0,-3 0.8,-5.7 2.3,-8.3 1.5,-2.5 3.8,-4.5 6.9,-6 3.1,-1.5 6.2,-2.2 9.4,-2.2 4.9,0 9.7,1.7 14.3,5.1 1.1,-1.2 2.2,-2.1 3.2,-2.9 1,-0.8 2.4,-1.5 4,-2.3 z M 30.7,10.2 c -2.6,-1.3 -5.2,-1.9 -7.8,-1.9 -2.7,0 -5.3,0.6 -7.8,1.8 -2.4,1.2 -4.2,2.8 -5.4,4.7 -1.2,1.9 -1.8,3.9 -1.8,5.9 0,4.2 2.3,8 6.9,11.3 L 25.2,17.7 c -1.6,-0.8 -2.9,-1.3 -4.2,-1.3 -1.7,0 -3.1,0.8 -4.2,2.4 -0.4,0.7 -1,0.5 -1.1,-0.2 0,-0.6 0.3,-1.5 1,-2.7 0.7,-1.1 1.6,-2.1 2.9,-2.8 1.3,-0.7 2.6,-1.1 4,-1.1 1.4,0 3.1,0.4 4.9,1.1 z m 4,3.2 C 34,12.4 32.8,11.5 32,11 L 18.4,29.4 h 16.7 z"),M(l,"class","logo svelte-q9jqkf"),M(l,"width","35"),M(l,"height","35"),M(l,"viewBox","-2 -1 55 55"),M(d,"class","svelte-q9jqkf"),M(h,"class","dropdown level2 svelte-q9jqkf"),M(g,"class","svelte-q9jqkf"),M(p,"class","container svelte-q9jqkf"),M(B,"class","svelte-q9jqkf"),M(J,"class","svelte-q9jqkf"),O(J,"selected",!e[2]),M(G,"class","dropdown level2 svelte-q9jqkf"),M(K,"class","svelte-q9jqkf"),M(P,"class","container svelte-q9jqkf"),M(Q,"class","svelte-q9jqkf"),O(Q,"selected",!e[3]),M(Y,"class","dropdown level2 svelte-q9jqkf"),M(ne,"class","svelte-q9jqkf"),M(V,"class","container svelte-q9jqkf"),M(ce,"class","dropdown level2 svelte-q9jqkf"),M(de,"class","svelte-q9jqkf"),M(se,"class","container svelte-q9jqkf"),M(qe,"type","color"),M(qe,"class","svelte-q9jqkf"),M(we,"class","svelte-q9jqkf"),M(Ee,"class","right svelte-q9jqkf"),M(Ee,"type","number"),M(Ee,"min","0"),M(Ee,"max","4"),M(Ee,"step",".1"),M(Be,"class","svelte-q9jqkf"),M(be,"class","dropdown level2 svelte-q9jqkf"),M(He,"class","svelte-q9jqkf"),M(ye,"class","container svelte-q9jqkf"),M(We,"type","color"),M(We,"class","svelte-q9jqkf"),M(Pe,"class","svelte-q9jqkf"),M(De,"class","dropdown level2 svelte-q9jqkf"),M(Ze,"class","svelte-q9jqkf"),M(Oe,"class","container svelte-q9jqkf"),M(it,"type","range"),M(it,"min","1"),M(it,"max","4"),M(it,"step",".1"),M(it,"class","svelte-q9jqkf"),M(ot,"type","number"),M(ot,"min","1"),M(ot,"max","4"),M(ot,"step",".1"),M(ot,"class","svelte-q9jqkf"),M(lt,"class","wide svelte-q9jqkf"),M(nt,"class","dropdown level2 svelte-q9jqkf"),M(ct,"class","svelte-q9jqkf"),M(tt,"class","container svelte-q9jqkf"),M(f,"class","dropdown level1 svelte-q9jqkf"),M(a,"class","container svelte-q9jqkf"),M(gt,"class","svelte-q9jqkf"),M(yt,"class","svelte-q9jqkf"),M(xt,"class","svelte-q9jqkf"),M(zt,"class","svelte-q9jqkf"),M(Bt,"class","svelte-q9jqkf"),M(jt,"class","dropdown level1 svelte-q9jqkf"),M(kt,"class","container svelte-q9jqkf"),M(n,"class","svelte-q9jqkf"),M(t,"id","navbar")},m(i,x){k(i,t,x),w(t,n),w(n,l),w(l,r),w(r,o),w(l,s),w(n,c),w(n,a),w(a,d),d.innerHTML=en,w(a,u),w(a,f),w(f,p),w(p,h);for(let e=0;e<pn.length;e+=1)pn[e].m(h,null);w(p,m),w(p,g),ze(v,g,null),w(g,$),ze(y,g,null),w(f,b),w(f,B),ze(E,B,null),w(B,I),ze(L,B,null),w(B,T),ze(F,B,null),w(f,D),w(f,P),w(P,G),w(G,J),w(G,R);for(let e=0;e<mn.length;e+=1)mn[e].m(G,null);w(P,N),w(P,K),ze(W,K,null),w(K,U),ze(Z,K,null),w(f,X),w(f,V),w(V,Y),w(Y,Q),w(Y,ee);for(let e=0;e<vn.length;e+=1)vn[e].m(Y,null);w(V,te),w(V,ne),ze(le,ne,null),w(ne,ie),ze(re,ne,null),w(f,oe),w(f,se),w(se,ce);for(let e=0;e<wn.length;e+=1)wn[e].m(ce,null);w(se,ae),w(se,de),ze(ue,de,null),w(de,ge),ze(ve,de,null),w(f,$e),w(f,ye),w(ye,be),w(be,we),w(we,ke),kn&&kn.m(we,null),w(we,xe),w(we,qe),A(qe,e[7]),w(be,_e),w(be,Be),w(Be,Se),w(Be,Ee),A(Ee,e[8]),w(ye,Me),w(ye,He),ze(Ie,He,null),w(He,Ae),ze(Le,He,null),w(f,Fe),w(f,Oe),w(Oe,De),w(De,Pe),w(Pe,Je),ze(Re,Pe,null),w(Pe,Ne),xn&&xn.m(Pe,null),w(Pe,Ke),w(Pe,We),A(We,e[5]),w(Oe,Ue),w(Oe,Ze),ze(Xe,Ze,null),w(Ze,Ve),ze(Ye,Ze,null),w(f,et),w(f,tt),w(tt,nt),w(nt,lt),w(lt,it),A(it,e[6]),w(lt,rt),w(lt,ot),A(ot,e[6]),w(tt,st),w(tt,ct),ze(at,ct,null),w(ct,dt),ze(ut,ct,null),w(n,ft),jn[pt].m(n,null),w(n,mt),w(n,gt),ze(vt,gt,null),w(n,$t),w(n,yt),ze(bt,yt,null),w(n,wt),w(n,kt),w(kt,xt),xt.innerHTML=on,w(kt,qt),w(kt,jt),w(jt,zt),ze(Ct,zt,null),w(jt,_t),w(jt,Bt),ze(St,Bt,null),w(n,Et),Cn&&Cn.m(n,null),w(n,Mt),_n&&_n.m(n,null),w(n,Ht),Bn&&Bn.m(n,null),Tt=!0,Ot||(Xt=[S(B,"click",e[19]),S(J,"click",e[20]),S(Q,"click",e[22]),S(qe,"input",e[26]),S(Ee,"input",e[27]),S(We,"input",e[29]),S(it,"change",e[30]),S(it,"input",e[30]),S(ot,"input",e[31]),S(gt,"click",e[17]),S(yt,"click",e[33]),S(zt,"click",e[34]),S(Bt,"click",e[35])],Ot=!0)},p(e,t){if(16&t[0]){let n;for(fn=Object.keys(Qe.types),n=0;n<fn.length;n+=1){const l=Ft(e,fn,n);pn[n]?pn[n].p(l,t):(pn[n]=Dt(l),pn[n].c(),pn[n].m(h,null))}for(;n<pn.length;n+=1)pn[n].d(1);pn.length=fn.length}const l={};134217728&t[1]&&(l.$$scope={dirty:t,ctx:e}),y.$set(l);const i={};if(134217728&t[1]&&(i.$$scope={dirty:t,ctx:e}),F.$set(i),4&t[0]&&O(J,"selected",!e[2]),4100&t[0]){let n;for(hn=e[12],n=0;n<hn.length;n+=1){const l=Lt(e,hn,n);mn[n]?mn[n].p(l,t):(mn[n]=Jt(l),mn[n].c(),mn[n].m(G,null))}for(;n<mn.length;n+=1)mn[n].d(1);mn.length=hn.length}const r={};if(134217728&t[1]&&(r.$$scope={dirty:t,ctx:e}),Z.$set(r),8&t[0]&&O(Q,"selected",!e[3]),8200&t[0]){let n;for(gn=e[13],n=0;n<gn.length;n+=1){const l=At(e,gn,n);vn[n]?vn[n].p(l,t):(vn[n]=Nt(l),vn[n].c(),vn[n].m(Y,null))}for(;n<vn.length;n+=1)vn[n].d(1);vn.length=gn.length}const o={};if(134217728&t[1]&&(o.$$scope={dirty:t,ctx:e}),re.$set(o),2050&t[0]){let n;for(yn=e[11],n=0;n<yn.length;n+=1){const l=It(e,yn,n);wn[n]?wn[n].p(l,t):(wn[n]=Wt(l),wn[n].c(),wn[n].m(ce,null))}for(;n<wn.length;n+=1)wn[n].d(1);wn.length=yn.length}const s={};134217728&t[1]&&(s.$$scope={dirty:t,ctx:e}),ve.$set(s),"#333333"!==e[7]?kn?(kn.p(e,t),128&t[0]&&he(kn,1)):(kn=Zt(e),kn.c(),he(kn,1),kn.m(we,xe)):kn&&(fe(),me(kn,1,1,(()=>{kn=null})),pe()),128&t[0]&&A(qe,e[7]),256&t[0]&&H(Ee.value)!==e[8]&&A(Ee,e[8]);const c={};134217728&t[1]&&(c.$$scope={dirty:t,ctx:e}),Le.$set(c);const a={};134217728&t[1]&&(a.$$scope={dirty:t,ctx:e}),Re.$set(a),"#333333"!==e[5]?xn?(xn.p(e,t),32&t[0]&&he(xn,1)):(xn=Qt(e),xn.c(),he(xn,1),xn.m(Pe,Ke)):xn&&(fe(),me(xn,1,1,(()=>{xn=null})),pe()),32&t[0]&&A(We,e[5]);const d={};134217728&t[1]&&(d.$$scope={dirty:t,ctx:e}),Ye.$set(d),64&t[0]&&A(it,e[6]),64&t[0]&&H(ot.value)!==e[6]&&A(ot,e[6]);const u={};134217728&t[1]&&(u.$$scope={dirty:t,ctx:e}),ut.$set(u);let f=pt;pt=zn(e),pt===f?jn[pt].p(e,t):(fe(),me(jn[f],1,1,(()=>{jn[f]=null})),pe(),ht=jn[pt],ht||(ht=jn[pt]=qn[pt](e),ht.c()),he(ht,1),ht.m(n,mt));const p={};134217728&t[1]&&(p.$$scope={dirty:t,ctx:e}),vt.$set(p);const m={};134217728&t[1]&&(m.$$scope={dirty:t,ctx:e}),bt.$set(m);const g={};134217728&t[1]&&(g.$$scope={dirty:t,ctx:e}),Ct.$set(g);const v={};134217728&t[1]&&(v.$$scope={dirty:t,ctx:e}),St.$set(v),e[10].edit?Cn?(Cn.p(e,t),1024&t[0]&&he(Cn,1)):(Cn=un(e),Cn.c(),he(Cn,1),Cn.m(n,Mt)):Cn&&(fe(),me(Cn,1,1,(()=>{Cn=null})),pe()),e[10].edit?_n?(_n.p(e,t),1024&t[0]&&he(_n,1)):(_n=$n(e),_n.c(),he(_n,1),_n.m(n,Ht)):_n&&(fe(),me(_n,1,1,(()=>{_n=null})),pe()),e[14]||!e[10].edit?Bn?(Bn.p(e,t),1024&t[0]&&he(Bn,1)):(Bn=bn(e),Bn.c(),he(Bn,1),Bn.m(n,null)):Bn&&(fe(),me(Bn,1,1,(()=>{Bn=null})),pe())},i(e){Tt||(he(v.$$.fragment,e),he(y.$$.fragment,e),he(E.$$.fragment,e),he(L.$$.fragment,e),he(F.$$.fragment,e),he(W.$$.fragment,e),he(Z.$$.fragment,e),he(le.$$.fragment,e),he(re.$$.fragment,e),he(ue.$$.fragment,e),he(ve.$$.fragment,e),he(kn),he(Ie.$$.fragment,e),he(Le.$$.fragment,e),he(Re.$$.fragment,e),he(xn),he(Xe.$$.fragment,e),he(Ye.$$.fragment,e),he(at.$$.fragment,e),he(ut.$$.fragment,e),he(ht),he(vt.$$.fragment,e),he(bt.$$.fragment,e),he(Ct.$$.fragment,e),he(St.$$.fragment,e),he(Cn),he(_n),he(Bn),Tt=!0)},o(e){me(v.$$.fragment,e),me(y.$$.fragment,e),me(E.$$.fragment,e),me(L.$$.fragment,e),me(F.$$.fragment,e),me(W.$$.fragment,e),me(Z.$$.fragment,e),me(le.$$.fragment,e),me(re.$$.fragment,e),me(ue.$$.fragment,e),me(ve.$$.fragment,e),me(kn),me(Ie.$$.fragment,e),me(Le.$$.fragment,e),me(Re.$$.fragment,e),me(xn),me(Xe.$$.fragment,e),me(Ye.$$.fragment,e),me(at.$$.fragment,e),me(ut.$$.fragment,e),me(ht),me(vt.$$.fragment,e),me(bt.$$.fragment,e),me(Ct.$$.fragment,e),me(St.$$.fragment,e),me(Cn),me(_n),me(Bn),Tt=!1},d(e){e&&x(t),q(pn,e),Ce(v),Ce(y),Ce(E),Ce(L),Ce(F),q(mn,e),Ce(W),Ce(Z),q(vn,e),Ce(le),Ce(re),q(wn,e),Ce(ue),Ce(ve),kn&&kn.d(),Ce(Ie),Ce(Le),Ce(Re),xn&&xn.d(),Ce(Xe),Ce(Ye),Ce(at),Ce(ut),jn[pt].d(),Ce(vt),Ce(bt),Ce(Ct),Ce(St),Cn&&Cn.d(),_n&&_n.d(),Bn&&Bn.d(),Ot=!1,i(Xt)}}}function xn(e,t,n){let l,i,r,o,s,c,d,u,f,p,m;a(e,St,(e=>n(41,l=e))),a(e,pt,(e=>n(1,i=e))),a(e,ht,(e=>n(2,r=e))),a(e,mt,(e=>n(3,o=e))),a(e,gt,(e=>n(4,s=e))),a(e,yt,(e=>n(5,c=e))),a(e,bt,(e=>n(6,d=e))),a(e,wt,(e=>n(7,u=e))),a(e,kt,(e=>n(8,f=e))),a(e,Ct,(e=>n(9,p=e))),a(e,_t,(e=>n(10,m=e)));const g=window.innerWidth>600,v={};function $(e,t){v[e]?localStorage.setItem(e,t):v[e]=!0}let y;return e.$$.update=()=>{1024&e.$$.dirty[1]&&n(0,y=l[1]),2&e.$$.dirty[0]&&$("size",i),4&e.$$.dirty[0]&&$("grad",r),8&e.$$.dirty[0]&&$("diaper",o),16&e.$$.dirty[0]&&$("shield",s),32&e.$$.dirty[0]&&$("background",c),64&e.$$.dirty[0]&&$("scale",d),128&e.$$.dirty[0]&&$("border",u),256&e.$$.dirty[0]&&$("borderWidth",f)},[y,i,r,o,s,c,d,u,f,p,m,[[80,"Giant"],[100,"Huge"],[150,"Large"],[200,"Medium"],[300,"Small"],[400,"Tiny"]],["luster","spotlight","backlight"],["nourse","tessellation","sennwald","sulzbach"],g,function(){h(yt,c="#"+[0,0,0,0,0,0].map((()=>"0123456789ABCDEF"[Math.floor(16*Math.random())])).join(""),c)},function(e,t="active"){return g?e:`<svg class="navBarIcon ${t}"><use href="#${e}-icon"></use></svg>`},function(){h(Ct,p+=1,p),localStorage.getItem("shield")||(h(gt,s=at(Qe[at(Qe.types)]),s),v.shield=!1)},e=>h(gt,s=e,s),()=>h(_t,m.tinctures=1,m),()=>h(ht,r=null,r),e=>h(ht,r=e,r),()=>h(mt,o=null,o),e=>h(mt,o=e,o),e=>h(pt,i=e[0],i),()=>h(wt,u="#333333",u),function(){u=this.value,wt.set(u)},function(){f=H(this.value),kt.set(f)},()=>h(yt,c="#333333",c),function(){c=this.value,yt.set(c)},function(){d=H(this.value),bt.set(d)},function(){d=H(this.value),bt.set(d)},()=>h(Ct,p-=1,p),()=>Ht(),()=>h(_t,m.raster=1,m),()=>h(_t,m.vector=1,m),()=>St.undo(),()=>St.redo(),()=>h(_t,m.edit=0,m),()=>h(_t,m.about=1,m)]}class qn extends Se{constructor(e){super(),Be(this,e,xn,kn,o,{},[-1,-1])}}function jn(t){let n,l,i,r,o,s,c,a,d,u,f,p,h,m,g,v,$,y;return{c(){n=z("svg"),l=z("g"),i=z("path"),o=z("path"),a=z("g"),d=z("rect"),f=z("path"),m=z("rect"),v=z("g"),$=z("path"),M(i,"stroke-width","1"),M(i,"d","M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z"),M(o,"d",s=t[7][t[6]][0]),M(d,"x","0"),M(d,"y","0"),M(d,"width","200"),M(d,"height","200"),M(d,"fill",u=t[2][t[4]]),M(f,"d",p=t[7][t[6]][1]),M(f,"fill",h=t[2][t[5]]),M(m,"x","0"),M(m,"y","0"),M(m,"width","200"),M(m,"height","200"),M(m,"fill","url(#nourse)"),M(a,"stroke","none"),M(l,"clip-path","url(#heater)"),M(l,"stroke","#fff"),M(l,"stroke-width",".5"),M($,"d","M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z"),M(v,"stroke","#000"),M(v,"fill","url(#backlight)"),M(n,"width",t[1]),M(n,"height",t[1]),M(n,"viewBox","0 0 200 200")},m(e,t){k(e,n,t),w(n,l),w(l,i),w(l,o),w(l,a),w(a,d),w(a,f),w(a,m),w(n,v),w(v,$)},p(e,[l]){t=e,4&l&&u!==(u=t[2][t[4]])&&M(d,"fill",u),4&l&&h!==(h=t[2][t[5]])&&M(f,"fill",h),2&l&&M(n,"width",t[1]),2&l&&M(n,"height",t[1])},i(e){r||te((()=>{r=ve(i,Ue,{duration:t[0]}),r.start()})),c||te((()=>{c=ve(o,Ue,{delay:t[0]}),c.start()})),g||te((()=>{g=ve(a,Ne,{delay:t[3],duration:t[0]}),g.start()})),y||te((()=>{y=ve($,Ue,{delay:t[3],duration:t[0]}),y.start()}))},o:e,d(e){e&&x(n)}}}function zn(e,t,n){let l;a(e,vt,(e=>n(2,l=e)));let{duration:i}=t;const r=2.6*i,o={argent:3,or:2},s={gules:5,sable:3,azure:4,vert:2,purpure:3},c=Math.random()>.5,d=at(c?o:s),u=at(c?s:o),f=at({perPale:2,perFess:2,perBend:2,perBendSinister:1,perCross:6,perChevron:1,perChevronReversed:1,perPile:2,perSaltire:5,gyronny:1,chevronny:1});let p=window.innerWidth<600?.9*window.innerWidth:500;return window.innerHeight<600&&(p*=.5),e.$$set=e=>{"duration"in e&&n(0,i=e.duration)},[i,p,l,r,d,u,f,{perPale:["M100,25 v175","M100,0 v200 h100 v-200 Z"],perFess:["M27.5,100 h145","M0,100 h200 v100 h-200 Z"],perBend:["M0,0 l200,200","M0,0 l200,200 h-200 Z"],perBendSinister:["M200,0 L0,200","M200,0 L0,200 h200 Z"],perCross:["M100,25 v175 M27.5,100 h145","M100,0 v200 h-100 v-100 h200 v-100 Z"],perChevron:["M0,0 l100,100 l100,-100","M0,0 l100,100 l100,-100 Z"],perChevronReversed:["M0,200 l100,-100 l100,100","M0,200 l100,-100 l100,100 Z"],perPile:["M15,0 l85,200 l85,-200","M15,0 l85,200 l85,-200 Z"],perSaltire:["M0,0 L200,200 M200,0 l-200,200","M0,0 L200,200 v-200 l-200,200 Z"],gyronny:["M0,0 l200,200 M200,100 h-200 M100,0 v200 M0,200 l200,-200","M0,0 l200,200 v-100 h-200 h-100 M100,0 v200, h-100 l200,-200 h-100"],chevronny:["","M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z"]}]}class Cn extends Se{constructor(e){super(),Be(this,e,zn,jn,o,{duration:0})}}function _n(e){let t,n,l,i,r,o,s,c,a,d,u,f;return r=new Cn({props:{duration:Bn}}),{c(){t=j("div"),n=j("span"),n.textContent="×",l=_(),i=j("div"),je(r.$$.fragment),o=_(),s=j("div"),s.innerHTML='<a target="_blank" href="https://discord.com/invite/X7E84HU" class="svelte-1hsznv3"><span translate="no" class="svelte-1hsznv3">Discord</span></a> \n      <a target="_blank" href="https://github.com/Azgaar/Armoria" class="svelte-1hsznv3"><span translate="no" class="svelte-1hsznv3">GitHub</span></a> \n      <a target="_blank" href="https://www.patreon.com/azgaar" class="svelte-1hsznv3"><span translate="no" class="svelte-1hsznv3">Patreon</span></a>',M(n,"class","close svelte-1hsznv3"),M(s,"class","buttons svelte-1hsznv3"),M(i,"id","aboutCont"),M(i,"class","svelte-1hsznv3"),M(t,"id","about"),M(t,"class","svelte-1hsznv3")},m(c,a){k(c,t,a),w(t,n),w(t,l),w(t,i),ze(r,i,null),w(i,o),w(i,s),d=!0,u||(f=S(n,"click",e[1]),u=!0)},p(t,[n]){e=t},i(e){d||(he(r.$$.fragment,e),c||te((()=>{c=ve(s,Ke,{y:200,delay:Bn,duration:Bn}),c.start()})),te((()=>{a||(a=$e(t,Ne,{},!0)),a.run(1)})),d=!0)},o(e){me(r.$$.fragment,e),a||(a=$e(t,Ne,{},!1)),a.run(0),d=!1},d(e){e&&x(t),Ce(r),e&&a&&a.end(),u=!1,f()}}}const Bn=1e3;function Sn(e,t,n){let l;a(e,_t,(e=>n(0,l=e)));return[l,()=>h(_t,l.about=0,l)]}class En extends Se{constructor(e){super(),Be(this,e,Sn,_n,o,{})}}function Mn(e,t,n){const l=e.currentTarget,[i,r,o]=function(e){if(!e)return[0,0,0,0,0,1];const t=e.replace(/[a-z()]/g,"").replace(/[ ]/g,",").split(",");return[+t[0]||0,+t[1]||0,+t[2]||0,+t[3]||0,+t[4]||0,+t[5]||1]}(l.getAttribute("transform")),s=e.x,a=e.y,d=+l.closest("svg").getAttribute("width")/200;document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",v),document.removeEventListener("mousemove",$),document.removeEventListener("mousemove",y),document.body.style.cursor="auto",St.add(JSON.stringify(n))}),{once:!0});const u=t.size||1,f=t.angle||0,p=-i*(Math.PI/180),h=Math.cos(p),m=Math.sin(p),g=c(xt);function v(e){const n=r+(e.x-s)/d,i=o+(e.y-a)/d,c=n*h-i*m,u=n*m+i*h;t.x=Math.round(c/g)*g,t.y=Math.round(u/g)*g,b(l,t)}function $(e){const i=o+(e.y-a)/d;t.size=u+Math.round(i)/-100,b(l,t),t.p&&St.add(JSON.stringify(n))}function y(e){const n=r+(e.x-s)/d;let i=f+Math.round(n/1.8);i>180&&(i=i%180-180),i<-179&&(i=i%180+180),t.angle=i,b(l,t)}function b(e,t){const n=Hn(t);n?e.setAttribute("transform",n):e.removeAttribute("transform")}e.shiftKey?(document.addEventListener("mousemove",$),document.body.style.cursor="ns-resize"):e.ctrlKey||e.metaKey?(document.addEventListener("mousemove",y),document.body.style.cursor="ew-resize"):(document.addEventListener("mousemove",v),document.body.style.cursor="move")}function Hn(e){if(!(e.x||e.y||e.angle||e.size))return null;const t=e.p?1:e.size;return`rotate(${e.angle||0}) translate(${e.x||0} ${e.y||0}) scale(${t||1})`}function In(e){let t,n,l,i,r,o=Fn(e[0].ordinary,e[0].line)+"";return{c(){t=z("g"),M(t,"class","ordinary"),M(t,"i",e[1]),M(t,"transform",n=Hn(e[0])),M(t,"transform-origin","center"),M(t,"fill",l=e[3][e[4]])},m(n,l){k(n,t,l),t.innerHTML=o,i||(r=S(t,"mousedown",e[5]),i=!0)},p(e,i){1&i&&o!==(o=Fn(e[0].ordinary,e[0].line)+"")&&(t.innerHTML=o),2&i&&M(t,"i",e[1]),1&i&&n!==(n=Hn(e[0]))&&M(t,"transform",n),24&i&&l!==(l=e[3][e[4]])&&M(t,"fill",l)},d(e){e&&x(t),i=!1,r()}}}function An(e){let t,n,l,i,r,o;return{c(){t=z("g"),n=z("path"),M(n,"d",e[2]),M(n,"fill","none"),M(n,"stroke",l=e[3][e[4]]),M(n,"stroke-width","5%"),M(n,"transform","scale(.85)"),M(n,"transform-origin","center"),M(t,"class","ordinary"),M(t,"i",e[1]),M(t,"transform",i=Hn(e[0])),M(t,"transform-origin","center")},m(l,i){k(l,t,i),w(t,n),r||(o=S(t,"mousedown",e[5]),r=!0)},p(e,r){4&r&&M(n,"d",e[2]),24&r&&l!==(l=e[3][e[4]])&&M(n,"stroke",l),2&r&&M(t,"i",e[1]),1&r&&i!==(i=Hn(e[0]))&&M(t,"transform",i)},d(e){e&&x(t),r=!1,o()}}}function Ln(e){let t,n,l,i,r,o;return{c(){t=z("g"),n=z("path"),M(n,"d",e[2]),M(n,"fill","none"),M(n,"stroke",l=e[3][e[4]]),M(n,"stroke-width","16.7%"),M(t,"class","ordinary"),M(t,"i",e[1]),M(t,"transform",i=Hn(e[0])),M(t,"transform-origin","center")},m(l,i){k(l,t,i),w(t,n),r||(o=S(t,"mousedown",e[5]),r=!0)},p(e,r){4&r&&M(n,"d",e[2]),24&r&&l!==(l=e[3][e[4]])&&M(n,"stroke",l),2&r&&M(t,"i",e[1]),1&r&&i!==(i=Hn(e[0]))&&M(t,"transform",i)},d(e){e&&x(t),r=!1,o()}}}function Tn(t){let n;function l(e,t){return"bordure"===e[0].ordinary?Ln:"orle"===e[0].ordinary?An:In}let i=l(t),r=i(t);return{c(){r.c(),n=B()},m(e,t){r.m(e,t),k(e,n,t)},p(e,[t]){i===(i=l(e))&&r?r.p(e,t):(r.d(1),r=i(e),r&&(r.c(),r.m(n.parentNode,n)))},i:e,o:e,d(e){r.d(e),e&&x(n)}}}function Fn(e,t){if(!t)return document.getElementById(e)?.innerHTML;const n=document.getElementById(e),l=document.getElementById(t)?document.getElementById(t):document.getElementById("straight");return n.innerHTML.replace(/{line}/g,l.getAttribute("d")).replace(/dpath/g,"d")}function On(e,t,n){let{coa:l}=t,{ordinary:i}=t,{i:r}=t,{shieldPath:o}=t,{colors:s}=t,{t:c}=t,{type:a}=t;return e.$$set=e=>{"coa"in e&&n(6,l=e.coa),"ordinary"in e&&n(0,i=e.ordinary),"i"in e&&n(1,r=e.i),"shieldPath"in e&&n(2,o=e.shieldPath),"colors"in e&&n(3,s=e.colors),"t"in e&&n(4,c=e.t),"type"in e&&n(7,a=e.type)},[i,r,o,s,c,function(e){"Edit"===a&&Mn(e,i,l)},l,a]}class Dn extends Se{constructor(e){super(),Be(this,e,On,Tn,o,{coa:6,ordinary:0,i:1,shieldPath:2,colors:3,t:4,type:7})}}function Pn(e,t,n){const l=e.slice();return l[14]=t[n],l}function Gn(e){let t,n,l,i;return{c(){t=z("use"),M(t,"href",n="#"+e[0].charge),M(t,"transform",l=e[6](e[4],e[0],e[14])),M(t,"transform-origin","center"),M(t,"fill",i=e[2][e[3]])},m(e,n){k(e,t,n)},p(e,r){1&r&&n!==(n="#"+e[0].charge)&&M(t,"href",n),17&r&&l!==(l=e[6](e[4],e[0],e[14]))&&M(t,"transform",l),12&r&&i!==(i=e[2][e[3]])&&M(t,"fill",i)},d(e){e&&x(t)}}}function Jn(t){let n,l,i,r,o,s=[...new Set(t[0].p)].filter(t[11]),c=[];for(let e=0;e<s.length;e+=1)c[e]=Gn(Pn(t,s,e));return{c(){n=z("g");for(let e=0;e<c.length;e+=1)c[e].c();M(n,"class","charge"),M(n,"i",t[1]),M(n,"charge",l=t[5](t[0].charge)),M(n,"transform",i=Hn(t[0])),M(n,"transform-origin","center"),M(n,"stroke","#000")},m(e,l){k(e,n,l);for(let e=0;e<c.length;e+=1)c[e].m(n,null);r||(o=S(n,"mousedown",t[7]),r=!0)},p(e,[t]){if(93&t){let l;for(s=[...new Set(e[0].p)].filter(e[11]),l=0;l<s.length;l+=1){const i=Pn(e,s,l);c[l]?c[l].p(i,t):(c[l]=Gn(i),c[l].c(),c[l].m(n,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=s.length}2&t&&M(n,"i",e[1]),1&t&&l!==(l=e[5](e[0].charge))&&M(n,"charge",l),1&t&&i!==(i=Hn(e[0]))&&M(n,"transform",i)},i:e,o:e,d(e){e&&x(n),q(c,e),r=!1,o()}}}function Rn(e,t,n){let l;a(e,Et,(e=>n(12,l=e)));let{coa:i}=t,{charge:r}=t,{i:o}=t,{shield:s}=t,{colors:c}=t,{t:d}=t,{type:u}=t;const f=document.getElementById("charges");let p;return e.$$set=e=>{"coa"in e&&n(8,i=e.coa),"charge"in e&&n(0,r=e.charge),"i"in e&&n(1,o=e.i),"shield"in e&&n(9,s=e.shield),"colors"in e&&n(2,c=e.colors),"t"in e&&n(3,d=e.t),"type"in e&&n(10,u=e.type)},e.$$.update=()=>{512&e.$$.dirty&&n(4,p=ot[s]||ot.spanish)},[r,o,c,d,p,function(e){return l[e]||f.querySelector("#"+e)||(h(Et,l[e]=1,l),fetch("charges/"+e+".svg").then((e=>e.text())).then((e=>{const t=document.createElement("html");t.innerHTML=e,f.insertAdjacentHTML("beforeend",t.querySelector("g").outerHTML)}))),e},function(e,t,n){const[l,i]=e[n],r=t.size||1;return`translate(${l} ${i}) scale(${t.sinister||t.reversed?`${t.sinister?"-":""}${r}, ${t.reversed?"-":""}${r}`:r})`},function(e){"Edit"===u&&Mn(e,r,i)},i,s,u,e=>p[e]]}class Nn extends Se{constructor(e){super(),Be(this,e,Rn,Jn,o,{coa:8,charge:0,i:1,shield:9,colors:2,t:3,type:10})}}function Kn(e,t,n){const l=e.slice();return l[22]=t[n],l[4]=n,l}function Wn(e,t,n){const l=e.slice();return l[24]=t[n],l[4]=n,l}function Un(e,t,n){const l=e.slice();return l[22]=t[n],l[4]=n,l}function Zn(e,t,n){const l=e.slice();return l[24]=t[n],l[4]=n,l}function Xn(e,t,n){const l=e.slice();return l[22]=t[n],l[4]=n,l}function Vn(e,t,n){const l=e.slice();return l[24]=t[n],l[4]=n,l}function Yn(e){let t,n,l=function(e,t){if(!t)return document.getElementById(e)?.innerHTML;const n=document.getElementById(e),l=document.getElementById(t)?document.getElementById(t):document.getElementById("straight");return n.innerHTML.replace(/{line}/g,l.getAttribute("d")).replace(/dpath/g,"d")}(e[11].division,e[11].line)+"";return{c(){t=z("clipPath"),M(t,"id",n="divisionClip"+e[4])},m(e,n){k(e,t,n),t.innerHTML=l},p(e,l){16&l&&n!==(n="divisionClip"+e[4])&&M(t,"id",n)},d(e){e&&x(t)}}}function Qn(e){let t,n;return t=new Dn({props:{coa:e[0],ordinary:e[24],i:e[4],shieldPath:e[8],colors:e[5],t:e[14],type:e[3]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),256&n&&(l.shieldPath=e[8]),32&n&&(l.colors=e[5]),8&n&&(l.type=e[3]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function el(e){let t,n;return t=new Dn({props:{coa:e[0],ordinary:e[24],i:e[4],shieldPath:e[8],colors:e[5],t:e[24].t,type:e[3]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),256&n&&(l.shieldPath=e[8]),32&n&&(l.colors=e[5]),8&n&&(l.type=e[3]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function tl(e){let t,n,l,i;const r=[el,Qn],o=[];return~(t=function(e,t){return"field"===e[24].divided?0:"counter"===e[24].divided?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),l=B()},m(e,n){~t&&o[t].m(e,n),k(e,l,n),i=!0},p(e,t){n&&n.p(e,t)},i(e){i||(he(n),i=!0)},o(e){me(n),i=!1},d(e){~t&&o[t].d(e),e&&x(l)}}}function nl(e){let t,n;return{c(){t=z("rect"),M(t,"class","diaper"),M(t,"x","0"),M(t,"y","0"),M(t,"width","200"),M(t,"height","200"),M(t,"fill",n="url(#"+e[9]+")"),L(t,"pointer-events","none")},m(e,n){k(e,t,n)},p(e,l){512&l&&n!==(n="url(#"+e[9]+")")&&M(t,"fill",n)},d(e){e&&x(t)}}}function ll(e){let t,n;return t=new Nn({props:{coa:e[0],charge:e[22],i:e[4],shield:e[7],colors:e[5],t:e[14],type:e[3]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),128&n&&(l.shield=e[7]),32&n&&(l.colors=e[5]),8&n&&(l.type=e[3]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function il(e){let t,n;return t=new Nn({props:{coa:e[0],charge:e[22],i:e[4],shield:e[7],colors:e[5],t:e[22].t,type:e[3]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),128&n&&(l.shield=e[7]),32&n&&(l.colors=e[5]),8&n&&(l.type=e[3]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function rl(e){let t,n,l,i;const r=[il,ll],o=[];return~(t=function(e,t){return"field"===e[22].layer?0:"counter"===e[22].layer?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),l=B()},m(e,n){~t&&o[t].m(e,n),k(e,l,n),i=!0},p(e,t){n&&n.p(e,t)},i(e){i||(he(n),i=!0)},o(e){me(n),i=!1},d(e){~t&&o[t].d(e),e&&x(l)}}}function ol(e){let t,n;return t=new Dn({props:{coa:e[0],ordinary:e[24],i:e[4],shieldPath:e[8],colors:e[5],t:e[0].t1,type:e[3]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),256&n&&(l.shieldPath=e[8]),32&n&&(l.colors=e[5]),1&n&&(l.t=e[0].t1),8&n&&(l.type=e[3]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function sl(e){let t,n;return t=new Dn({props:{coa:e[0],ordinary:e[24],i:e[4],shieldPath:e[8],colors:e[5],t:e[24].t,type:e[3]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),256&n&&(l.shieldPath=e[8]),32&n&&(l.colors=e[5]),8&n&&(l.type=e[3]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function cl(e){let t,n,l,i;const r=[sl,ol],o=[];return~(t=function(e,t){return"division"===e[24].divided?0:"counter"===e[24].divided?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),l=B()},m(e,n){~t&&o[t].m(e,n),k(e,l,n),i=!0},p(e,t){n&&n.p(e,t)},i(e){i||(he(n),i=!0)},o(e){me(n),i=!1},d(e){~t&&o[t].d(e),e&&x(l)}}}function al(e){let t,n;return{c(){t=z("rect"),M(t,"class","diaper"),M(t,"x","0"),M(t,"y","0"),M(t,"width","200"),M(t,"height","200"),M(t,"fill",n="url(#"+e[9]+")"),L(t,"pointer-events","none")},m(e,n){k(e,t,n)},p(e,l){512&l&&n!==(n="url(#"+e[9]+")")&&M(t,"fill",n)},d(e){e&&x(t)}}}function dl(e){let t,n;return t=new Nn({props:{coa:e[0],charge:e[22],i:e[4],shield:e[7],colors:e[5],t:e[0].t1,type:e[3]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),128&n&&(l.shield=e[7]),32&n&&(l.colors=e[5]),1&n&&(l.t=e[0].t1),8&n&&(l.type=e[3]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function ul(e){let t,n;return t=new Nn({props:{coa:e[0],charge:e[22],i:e[4],shield:e[7],colors:e[5],t:e[22].t,type:e[3]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),128&n&&(l.shield=e[7]),32&n&&(l.colors=e[5]),8&n&&(l.type=e[3]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function fl(e){let t,n,l,i;const r=[ul,dl],o=[];return~(t=function(e,t){return"division"===e[22].layer?0:"counter"===e[22].layer?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),l=B()},m(e,n){~t&&o[t].m(e,n),k(e,l,n),i=!0},p(e,t){n&&n.p(e,t)},i(e){i||(he(n),i=!0)},o(e){me(n),i=!1},d(e){~t&&o[t].d(e),e&&x(l)}}}function pl(e){let t,n,l=!e[24].divided&&function(e){let t,n;return t=new Dn({props:{coa:e[0],ordinary:e[24],i:e[4],shieldPath:e[8],colors:e[5],t:e[24].t,type:e[3]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),256&n&&(l.shieldPath=e[8]),32&n&&(l.colors=e[5]),8&n&&(l.type=e[3]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}(e);return{c(){l&&l.c(),t=B()},m(e,i){l&&l.m(e,i),k(e,t,i),n=!0},p(e,t){e[24].divided||l.p(e,t)},i(e){n||(he(l),n=!0)},o(e){me(l),n=!1},d(e){l&&l.d(e),e&&x(t)}}}function hl(e){let t,n;return{c(){t=z("rect"),M(t,"class","diaper"),M(t,"x","0"),M(t,"y","0"),M(t,"width","200"),M(t,"height","200"),M(t,"fill",n="url(#"+e[9]+")"),L(t,"pointer-events","none")},m(e,n){k(e,t,n)},p(e,l){512&l&&n!==(n="url(#"+e[9]+")")&&M(t,"fill",n)},d(e){e&&x(t)}}}function ml(e){let t,n,l=(!e[22].layer||!e[11])&&function(e){let t,n;return t=new Nn({props:{coa:e[0],charge:e[22],i:e[4],shield:e[7],colors:e[5],t:e[22].t,type:e[3]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),128&n&&(l.shield=e[7]),32&n&&(l.colors=e[5]),8&n&&(l.type=e[3]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}(e);return{c(){l&&l.c(),t=B()},m(e,i){l&&l.m(e,i),k(e,t,i),n=!0},p(e,t){e[22].layer&&e[11]||l.p(e,t)},i(e){n||(he(l),n=!0)},o(e){me(l),n=!1},d(e){l&&l.d(e),e&&x(t)}}}function gl(e){let t,n,l,i,r,o,s,c,a,d,u,f,p,h=e[11]&&"no"!==e[11].division&&Yn(e),m=e[11]&&"no"!==e[11].division&&function(e){let t,n,l,i,r,o,s,c,a,d=e[12],u=[];for(let t=0;t<d.length;t+=1)u[t]=tl(Vn(e,d,t));const f=e=>me(u[e],1,1,(()=>{u[e]=null}));let p="field"===e[10]&&nl(e),h=e[13],m=[];for(let t=0;t<h.length;t+=1)m[t]=rl(Xn(e,h,t));const g=e=>me(m[e],1,1,(()=>{m[e]=null}));let v=e[12],$=[];for(let t=0;t<v.length;t+=1)$[t]=cl(Zn(e,v,t));const y=e=>me($[e],1,1,(()=>{$[e]=null}));let b="division"===e[10]&&al(e),j=e[13],C=[];for(let t=0;t<j.length;t+=1)C[t]=fl(Un(e,j,t));const _=e=>me(C[e],1,1,(()=>{C[e]=null}));return{c(){for(let e=0;e<u.length;e+=1)u[e].c();t=B(),p&&p.c(),n=B();for(let e=0;e<m.length;e+=1)m[e].c();l=z("g"),i=z("rect");for(let e=0;e<$.length;e+=1)$[e].c();o=B(),b&&b.c(),s=B();for(let e=0;e<C.length;e+=1)C[e].c();M(i,"x","0"),M(i,"y","0"),M(i,"width","200"),M(i,"height","200"),M(i,"fill",r=e[5][e[14]]||e[15](e[14])),M(l,"id","division"),M(l,"clip-path",c="url(#divisionClip"+e[4]+")")},m(e,r){for(let t=0;t<u.length;t+=1)u[t].m(e,r);k(e,t,r),p&&p.m(e,r),k(e,n,r);for(let t=0;t<m.length;t+=1)m[t].m(e,r);k(e,l,r),w(l,i);for(let e=0;e<$.length;e+=1)$[e].m(l,null);w(l,o),b&&b.m(l,null),w(l,s);for(let e=0;e<C.length;e+=1)C[e].m(l,null);a=!0},p(e,w){if(20777&w){let n;for(d=e[12],n=0;n<d.length;n+=1){const l=Vn(e,d,n);u[n]?(u[n].p(l,w),he(u[n],1)):(u[n]=tl(l),u[n].c(),he(u[n],1),u[n].m(t.parentNode,t))}for(fe(),n=d.length;n<u.length;n+=1)f(n);pe()}if("field"===e[10]?p?p.p(e,w):(p=nl(e),p.c(),p.m(n.parentNode,n)):p&&(p.d(1),p=null),24745&w){let t;for(h=e[13],t=0;t<h.length;t+=1){const n=Xn(e,h,t);m[t]?(m[t].p(n,w),he(m[t],1)):(m[t]=rl(n),m[t].c(),he(m[t],1),m[t].m(l.parentNode,l))}for(fe(),t=h.length;t<m.length;t+=1)g(t);pe()}if((!a||32&w&&r!==(r=e[5][e[14]]||e[15](e[14])))&&M(i,"fill",r),4393&w){let t;for(v=e[12],t=0;t<v.length;t+=1){const n=Zn(e,v,t);$[t]?($[t].p(n,w),he($[t],1)):($[t]=cl(n),$[t].c(),he($[t],1),$[t].m(l,o))}for(fe(),t=v.length;t<$.length;t+=1)y(t);pe()}if("division"===e[10]?b?b.p(e,w):(b=al(e),b.c(),b.m(l,s)):b&&(b.d(1),b=null),8361&w){let t;for(j=e[13],t=0;t<j.length;t+=1){const n=Un(e,j,t);C[t]?(C[t].p(n,w),he(C[t],1)):(C[t]=fl(n),C[t].c(),he(C[t],1),C[t].m(l,null))}for(fe(),t=j.length;t<C.length;t+=1)_(t);pe()}(!a||16&w&&c!==(c="url(#divisionClip"+e[4]+")"))&&M(l,"clip-path",c)},i(e){if(!a){for(let e=0;e<d.length;e+=1)he(u[e]);for(let e=0;e<h.length;e+=1)he(m[e]);for(let e=0;e<v.length;e+=1)he($[e]);for(let e=0;e<j.length;e+=1)he(C[e]);a=!0}},o(e){u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)me(u[e]);m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)me(m[e]);$=$.filter(Boolean);for(let e=0;e<$.length;e+=1)me($[e]);C=C.filter(Boolean);for(let e=0;e<C.length;e+=1)me(C[e]);a=!1},d(e){q(u,e),e&&x(t),p&&p.d(e),e&&x(n),q(m,e),e&&x(l),q($,e),b&&b.d(),q(C,e)}}}(e),g=e[12],v=[];for(let t=0;t<g.length;t+=1)v[t]=pl(Wn(e,g,t));const $=e=>me(v[e],1,1,(()=>{v[e]=null}));let y="overall"===e[10]&&hl(e),b=e[13],j=[];for(let t=0;t<b.length;t+=1)j[t]=ml(Kn(e,b,t));const C=e=>me(j[e],1,1,(()=>{j[e]=null}));return{c(){t=z("defs"),h&&h.c(),n=_(),l=z("g"),i=z("rect"),m&&m.c(),o=B();for(let e=0;e<v.length;e+=1)v[e].c();s=B(),y&&y.c(),c=B();for(let e=0;e<j.length;e+=1)j[e].c();d=_(),u=z("path"),M(i,"id","field"),M(i,"x","0"),M(i,"y","0"),M(i,"width","200"),M(i,"height","200"),M(i,"fill",r=e[5][e[0].t1]||e[15](e[0].t1)),M(l,"id","shield"),M(l,"clip-path",a="url(#"+e[7]+")"),M(u,"class","grad"),M(u,"d",e[8]),M(u,"fill",f="url(#"+e[6]+")"),M(u,"stroke",e[1]),M(u,"stroke-width",e[2]),L(u,"pointer-events","none")},m(e,r){k(e,t,r),h&&h.m(t,null),k(e,n,r),k(e,l,r),w(l,i),m&&m.m(l,null),w(l,o);for(let e=0;e<v.length;e+=1)v[e].m(l,null);w(l,s),y&&y.m(l,null),w(l,c);for(let e=0;e<j.length;e+=1)j[e].m(l,null);k(e,d,r),k(e,u,r),p=!0},p(e,[t]){if(e[11]&&"no"!==e[11].division&&h.p(e,t),(!p||33&t&&r!==(r=e[5][e[0].t1]||e[15](e[0].t1)))&&M(i,"fill",r),e[11]&&"no"!==e[11].division&&m.p(e,t),4393&t){let n;for(g=e[12],n=0;n<g.length;n+=1){const i=Wn(e,g,n);v[n]?(v[n].p(i,t),he(v[n],1)):(v[n]=pl(i),v[n].c(),he(v[n],1),v[n].m(l,s))}for(fe(),n=g.length;n<v.length;n+=1)$(n);pe()}if("overall"===e[10]?y?y.p(e,t):(y=hl(e),y.c(),y.m(l,c)):y&&(y.d(1),y=null),10409&t){let n;for(b=e[13],n=0;n<b.length;n+=1){const i=Kn(e,b,n);j[n]?(j[n].p(i,t),he(j[n],1)):(j[n]=ml(i),j[n].c(),he(j[n],1),j[n].m(l,null))}for(fe(),n=b.length;n<j.length;n+=1)C(n);pe()}(!p||128&t&&a!==(a="url(#"+e[7]+")"))&&M(l,"clip-path",a),(!p||256&t)&&M(u,"d",e[8]),(!p||64&t&&f!==(f="url(#"+e[6]+")"))&&M(u,"fill",f),(!p||2&t)&&M(u,"stroke",e[1]),(!p||4&t)&&M(u,"stroke-width",e[2])},i(e){if(!p){he(m);for(let e=0;e<g.length;e+=1)he(v[e]);for(let e=0;e<b.length;e+=1)he(j[e]);p=!0}},o(e){me(m),v=v.filter(Boolean);for(let e=0;e<v.length;e+=1)me(v[e]);j=j.filter(Boolean);for(let e=0;e<j.length;e+=1)me(j[e]);p=!1},d(e){e&&x(t),h&&h.d(),e&&x(n),e&&x(l),m&&m.d(),q(v,e),y&&y.d(),q(j,e),e&&x(d),e&&x(u)}}}function vl(e,t,n){let l,i,r,o,s;a(e,vt,(e=>n(16,l=e))),a(e,ht,(e=>n(17,i=e))),a(e,gt,(e=>n(18,r=e))),a(e,mt,(e=>n(19,o=e))),a(e,Mt,(e=>n(20,s=e)));let{coa:c}=t,{i:d}=t,{border:u}=t,{borderWidth:f}=t,{type:p}=t;const{division:m,ordinaries:g=[],charges:v=[]}=c,$=m?m.t:"";let y,b,w,k,x,q;return e.$$set=e=>{"coa"in e&&n(0,c=e.coa),"i"in e&&n(4,d=e.i),"border"in e&&n(1,u=e.border),"borderWidth"in e&&n(2,f=e.borderWidth),"type"in e&&n(3,p=e.type)},e.$$.update=()=>{65536&e.$$.dirty&&n(5,y=l),131073&e.$$.dirty&&n(6,b=c.grad||i),262145&e.$$.dirty&&n(7,w=c.shield||r),128&e.$$.dirty&&n(8,k=document.querySelector(`#defs g#shields > #${w} > path`).getAttribute("d")),524297&e.$$.dirty&&n(9,x="menuItem"===p?null:c.diaper||o),512&e.$$.dirty&&n(10,q=x?function(){const e=!c.t1.includes("-"),t=!$.includes("-");return e&&t?"overall":e?"field":t?"division":null}():null)},[c,u,f,p,d,y,b,w,k,x,q,m,g,v,$,function(e){return y[e]?y[e]:(h(Mt,s[s.length]=e,s),"url(#"+e+")")}]}class $l extends Se{constructor(e){super(),Be(this,e,vl,gl,o,{coa:0,i:4,border:1,borderWidth:2,type:3})}}function yl(e){let t,n,l,i,r,o,s;return{c(){t=z("pattern"),n=z("path"),l=_(),i=z("g"),r=z("rect"),M(n,"d","M 100 0 L 0 0 0 100"),M(n,"fill","none"),M(n,"stroke","#000"),M(n,"opacity",".2"),M(n,"stroke-width",".5"),M(t,"id","gridPattern"),M(t,"width",e[2]),M(t,"height",e[2]),M(t,"patternUnits","userSpaceOnUse"),M(r,"x","-200"),M(r,"y","-200"),M(r,"width","400"),M(r,"height","400"),M(r,"fill","url(#gridPattern)"),M(i,"id","grid"),L(i,"pointer-events","none"),M(i,"transform",e[0]),M(i,"transform-origin","center")},m(e,o){k(e,t,o),w(t,n),k(e,l,o),k(e,i,o),w(i,r),s=!0},p(e,n){(!s||4&n)&&M(t,"width",e[2]),(!s||4&n)&&M(t,"height",e[2]),(!s||1&n)&&M(i,"transform",e[0])},i(e){s||(e&&te((()=>{o||(o=$e(i,Ne,{},!0)),o.run(1)})),s=!0)},o(e){e&&(o||(o=$e(i,Ne,{},!1)),o.run(0)),s=!1},d(e){e&&x(t),e&&x(l),e&&x(i),e&&o&&o.end()}}}function bl(e){let t,n=e[1]&&yl(e);return{c(){n&&n.c(),t=B()},m(e,l){n&&n.m(e,l),k(e,t,l)},p(e,[l]){e[1]?n?(n.p(e,l),2&l&&he(n,1)):(n=yl(e),n.c(),he(n,1),n.m(t.parentNode,t)):n&&(fe(),me(n,1,1,(()=>{n=null})),pe())},i(e){he(n)},o(e){me(n)},d(e){n&&n.d(e),e&&x(t)}}}function wl(e,t,n){let l,i,r,o;return a(e,_t,(e=>n(3,l=e))),a(e,qt,(e=>n(1,i=e))),a(e,xt,(e=>n(2,r=e))),e.$$.update=()=>{8&e.$$.dirty&&n(0,o=l.transform||null)},[o,i,r]}class kl extends Se{constructor(e){super(),Be(this,e,wl,bl,o,{})}}function xl(e,t,n){const l=e.slice();return l[3]=t[n],l}function ql(e){let t,n,l,i,r,o=e[0],s=[];for(let t=0;t<o.length;t+=1)s[t]=jl(xl(e,o,t));return{c(){t=z("g"),n=z("g");for(let e=0;e<s.length;e+=1)s[e].c();M(n,"id","positions"),M(n,"transform","translate(100, 100)"),M(t,"transform",i=e[1].transform||null),M(t,"transform-origin","center")},m(e,l){k(e,t,l),w(t,n);for(let e=0;e<s.length;e+=1)s[e].m(n,null);r=!0},p(e,l){if(3&l){let t;for(o=e[0],t=0;t<o.length;t+=1){const i=xl(e,o,t);s[t]?s[t].p(i,l):(s[t]=jl(i),s[t].c(),s[t].m(n,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=o.length}(!r||2&l&&i!==(i=e[1].transform||null))&&M(t,"transform",i)},i(e){r||(e&&te((()=>{l||(l=$e(n,Ne,{},!0)),l.run(1)})),r=!0)},o(e){e&&(l||(l=$e(n,Ne,{},!1)),l.run(0)),r=!1},d(e){e&&x(t),q(s,e),e&&l&&l.end()}}}function jl(e){let t,n,l,i,r,o,s,c,a,d,u=e[3][0]+"";return{c(){t=z("g"),n=z("circle"),r=z("text"),o=C(u),M(n,"cx",l=e[3][1][0]),M(n,"cy",i=e[3][1][1]),M(n,"r","3"),M(n,"class","svelte-126fbzm"),O(n,"active",e[1].positions.includes(e[3][0])),L(r,"dominant-baseline","central"),M(r,"x",s=e[3][1][0]),M(r,"y",c=e[3][1][1]),M(r,"class","svelte-126fbzm"),O(r,"active",e[1].positions.includes(e[3][0])),M(t,"id",a=e[3][0]),M(t,"class",d=p(Cl(e[3][0]))+" svelte-126fbzm")},m(e,l){k(e,t,l),w(t,n),w(t,r),w(r,o)},p(e,f){1&f&&l!==(l=e[3][1][0])&&M(n,"cx",l),1&f&&i!==(i=e[3][1][1])&&M(n,"cy",i),3&f&&O(n,"active",e[1].positions.includes(e[3][0])),1&f&&u!==(u=e[3][0]+"")&&I(o,u),1&f&&s!==(s=e[3][1][0])&&M(r,"x",s),1&f&&c!==(c=e[3][1][1])&&M(r,"y",c),3&f&&O(r,"active",e[1].positions.includes(e[3][0])),1&f&&a!==(a=e[3][0])&&M(t,"id",a),1&f&&d!==(d=p(Cl(e[3][0]))+" svelte-126fbzm")&&M(t,"class",d)},d(e){e&&x(t)}}}function zl(e){let t,n=e[1].positions&&ql(e);return{c(){n&&n.c(),t=B()},m(e,l){n&&n.m(e,l),k(e,t,l)},p(e,[l]){e[1].positions?n?(n.p(e,l),2&l&&he(n,1)):(n=ql(e),n.c(),he(n,1),n.m(t.parentNode,t)):n&&(fe(),me(n,1,1,(()=>{n=null})),pe())},i(e){he(n)},o(e){me(n)},d(e){n&&n.d(e),e&&x(t)}}}function Cl(e){return"abcdefghi".includes(e)?"green":"ABCDEFGHIJKL".includes(e)?"red":"zy".includes(e)?"yellow":"blue"}function _l(e,t,n){let l,i,r;return a(e,gt,(e=>n(2,l=e))),a(e,_t,(e=>n(1,i=e))),e.$$.update=()=>{4&e.$$.dirty&&n(0,r=ot[l]?Object.entries(ot[l]):Object.entries(ot.spanish))},[r,i]}class Bl extends Se{constructor(e){super(),Be(this,e,_l,zl,o,{})}}function Sl(e){let t,n,l;return t=new kl({}),n=new Bl({}),{c(){je(t.$$.fragment),je(n.$$.fragment)},m(e,i){ze(t,e,i),ze(n,e,i),l=!0},i(e){l||(he(t.$$.fragment,e),he(n.$$.fragment,e),l=!0)},o(e){me(t.$$.fragment,e),me(n.$$.fragment,e),l=!1},d(e){Ce(t,e),Ce(n,e)}}}function El(e){let t,n,l,i,r,o;n=new $l({props:{coa:e[0],i:e[1],border:e[5],borderWidth:e[6],type:e[1]}});let s="Edit"===e[1]&&Sl();return{c(){t=z("svg"),je(n.$$.fragment),s&&s.c(),M(t,"id",l="coa"+e[1]),M(t,"class","coa"),M(t,"xmlns","http://www.w3.org/2000/svg"),M(t,"width",e[2]),M(t,"height",e[3]),M(t,"viewBox",e[4])},m(l,c){k(l,t,c),ze(n,t,null),s&&s.m(t,null),i=!0,r||(o=S(t,"click",e[7]),r=!0)},p(e,[r]){const o={};1&r&&(o.coa=e[0]),2&r&&(o.i=e[1]),32&r&&(o.border=e[5]),64&r&&(o.borderWidth=e[6]),2&r&&(o.type=e[1]),n.$set(o),"Edit"===e[1]?s?2&r&&he(s,1):(s=Sl(),s.c(),he(s,1),s.m(t,null)):s&&(fe(),me(s,1,1,(()=>{s=null})),pe()),(!i||2&r&&l!==(l="coa"+e[1]))&&M(t,"id",l),(!i||4&r)&&M(t,"width",e[2]),(!i||8&r)&&M(t,"height",e[3]),(!i||16&r)&&M(t,"viewBox",e[4])},i(e){i||(he(n.$$.fragment,e),he(s),i=!0)},o(e){me(n.$$.fragment,e),me(s),i=!1},d(e){e&&x(t),Ce(n),s&&s.d(),r=!1,o()}}}function Ml(e,t,n){let l,i,r;a(e,gt,(e=>n(8,l=e))),a(e,wt,(e=>n(5,i=e))),a(e,kt,(e=>n(6,r=e)));let o,{coa:s}=t,{i:c}=t,{w:d}=t,{h:u}=t;return e.$$set=e=>{"coa"in e&&n(0,s=e.coa),"i"in e&&n(1,c=e.i),"w"in e&&n(2,d=e.w),"h"in e&&n(3,u=e.h)},e.$$.update=()=>{257&e.$$.dirty&&n(4,o=st[s.shield||l]||"0 0 200 200")},[s,c,d,u,o,i,r,function(){console.log(JSON.stringify(s))}]}class Hl extends Se{constructor(e){super(),Be(this,e,Ml,El,o,{coa:0,i:1,w:2,h:3})}}function Il(e){let t,n,l,i,r;return i=new $l({props:{coa:e[0],i:e[3],border:"#333",borderWidth:"2",type:"menuItem"}}),{c(){t=z("svg"),n=z("title"),l=C(e[1]),je(i.$$.fragment),M(t,"class","menuItem"),M(t,"xmlns","http://www.w3.org/2000/svg"),M(t,"width",e[2]),M(t,"height",e[2]),M(t,"viewBox","0 0 200 200")},m(e,o){k(e,t,o),w(t,n),w(n,l),ze(i,t,null),r=!0},p(e,[n]){(!r||2&n)&&I(l,e[1]);const o={};1&n&&(o.coa=e[0]),i.$set(o),(!r||4&n)&&M(t,"width",e[2]),(!r||4&n)&&M(t,"height",e[2])},i(e){r||(he(i.$$.fragment,e),r=!0)},o(e){me(i.$$.fragment,e),r=!1},d(e){e&&x(t),Ce(i)}}}function Al(e,t,n){let{coa:l}=t,{title:i}=t,{itemSize:r}=t;const o=Math.floor(1e6*Math.random());return e.$$set=e=>{"coa"in e&&n(0,l=e.coa),"title"in e&&n(1,i=e.title),"itemSize"in e&&n(2,r=e.itemSize)},[l,i,r,o]}class Ll extends Se{constructor(e){super(),Be(this,e,Al,Il,o,{coa:0,title:1,itemSize:2})}}function Tl(t){let n,l,o,s,c,a,d;return{c(){n=C("Type:\n"),l=j("select"),o=j("option"),o.textContent="Tincture",s=j("option"),s.textContent="Pattern",c=j("option"),c.textContent="Semy",o.__value="tincture",o.value=o.__value,s.__value="pattern",s.value=s.__value,c.__value="semy",c.value=c.__value,void 0===t[0]&&te((()=>t[2].call(l)))},m(e,i){k(e,n,i),k(e,l,i),w(l,o),w(l,s),w(l,c),T(l,t[0]),a||(d=[S(l,"change",t[2]),S(l,"input",(function(){r(t[1])&&t[1].apply(this,arguments)}))],a=!0)},p(e,[n]){t=e,1&n&&T(l,t[0])},i:e,o:e,d(e){e&&x(n),e&&x(l),a=!1,i(d)}}}function Fl(e,t,n){let{type:l}=t,{updateSection:i}=t;return e.$$set=e=>{"type"in e&&n(0,l=e.type),"updateSection"in e&&n(1,i=e.updateSection)},[l,i,function(){l=F(this),n(0,l)}]}class Ol extends Se{constructor(e){super(),Be(this,e,Fl,Tl,o,{type:0,updateSection:1})}}function Dl(t){let n,l,i,r,o,s,c,a,d,u;return{c(){n=j("span"),n.textContent="Size:",l=_(),i=j("select"),r=j("option"),r.textContent="Big",o=j("option"),o.textContent="Standard",s=j("option"),s.textContent="Small",c=j("option"),c.textContent="Smaller",a=j("option"),a.textContent="Smallest",L(n,"margin-left","1em"),r.__value="big",r.value=r.__value,o.__value="standard",o.value=o.__value,s.__value="small",s.value=s.__value,c.__value="smaller",c.value=c.__value,a.__value="smallest",a.value=a.__value,void 0===t[0]&&te((()=>t[1].call(i)))},m(e,f){k(e,n,f),k(e,l,f),k(e,i,f),w(i,r),w(i,o),w(i,s),w(i,c),w(i,a),T(i,t[0]),d||(u=S(i,"change",t[1]),d=!0)},p(e,[t]){1&t&&T(i,e[0])},i:e,o:e,d(e){e&&x(n),e&&x(l),e&&x(i),d=!1,u()}}}function Pl(e,t,n){let{size:l}=t;return e.$$set=e=>{"size"in e&&n(0,l=e.size)},[l,function(){l=F(this),n(0,l)}]}class Gl extends Se{constructor(e){super(),Be(this,e,Pl,Dl,o,{size:0})}}function Jl(e,t,n){const l=e.slice();return l[6]=t[n],l}function Rl(e){let t,n,l,i,r,o;function s(...t){return e[3](e[6],...t)}return n=new Ll({props:{coa:e[6],title:e[6].title,itemSize:e[1]}}),{c(){t=j("div"),je(n.$$.fragment),l=_(),M(t,"class","item"),O(t,"selected",e[0]===e[6].t1)},m(e,c){k(e,t,c),ze(n,t,null),w(t,l),i=!0,r||(o=S(t,"click",s),r=!0)},p(l,i){e=l;const r={};2&i&&(r.itemSize=e[1]),n.$set(r),5&i&&O(t,"selected",e[0]===e[6].t1)},i(e){i||(he(n.$$.fragment,e),i=!0)},o(e){me(n.$$.fragment,e),i=!1},d(e){e&&x(t),Ce(n),r=!1,o()}}}function Nl(e){let t,n,l,i,r=e[2],o=[];for(let t=0;t<r.length;t+=1)o[t]=Rl(Jl(e,r,t));const s=e=>me(o[e],1,1,(()=>{o[e]=null}));return{c(){t=j("div"),t.textContent="Tincture:",n=_();for(let e=0;e<o.length;e+=1)o[e].c();l=B()},m(e,r){k(e,t,r),k(e,n,r);for(let t=0;t<o.length;t+=1)o[t].m(e,r);k(e,l,r),i=!0},p(e,[t]){if(7&t){let n;for(r=e[2],n=0;n<r.length;n+=1){const i=Jl(e,r,n);o[n]?(o[n].p(i,t),he(o[n],1)):(o[n]=Rl(i),o[n].c(),he(o[n],1),o[n].m(l.parentNode,l))}for(fe(),n=r.length;n<o.length;n+=1)s(n);pe()}},i(e){if(!i){for(let e=0;e<r.length;e+=1)he(o[e]);i=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)me(o[e]);i=!1},d(e){e&&x(t),e&&x(n),q(o,e),e&&x(l)}}}function Kl(e,t,n){let l;a(e,$t,(e=>n(4,l=e)));let{t1:i}=t,{itemSize:r}=t;const o=e=>e.charAt(0).toUpperCase()+e.slice(1),s=["metals","colours","stains"].map((e=>Object.keys(l[e]).map((t=>({t1:t,title:`${o(e.slice(0,-1))}: ${o(t)}`}))))).flat();return e.$$set=e=>{"t1"in e&&n(0,i=e.t1),"itemSize"in e&&n(1,r=e.itemSize)},[i,r,s,e=>n(0,i=e.t1)]}class Wl extends Se{constructor(e){super(),Be(this,e,Kl,Nl,o,{t1:0,itemSize:1})}}function Ul(t){let n,l,i,r,o,s,c;return{c(){n=j("div"),l=j("input"),i=_(),r=j("label"),o=C("Switch"),M(l,"id",t[1]),M(l,"class","switch-input svelte-1iy0slw"),M(l,"type","checkbox"),M(r,"for",t[1]),M(r,"class","switch-label svelte-1iy0slw"),M(n,"class","switch svelte-1iy0slw")},m(e,a){k(e,n,a),w(n,l),l.checked=t[0],w(n,i),w(n,r),w(r,o),s||(c=S(l,"change",t[2]),s=!0)},p(e,[t]){1&t&&(l.checked=e[0])},i:e,o:e,d(e){e&&x(n),s=!1,c()}}}function Zl(e,t,n){let{checked:l=!1}=t;const i="switch"+Math.floor(1e6*Math.random());return e.$$set=e=>{"checked"in e&&n(0,l=e.checked)},[l,i,function(){l=this.checked,n(0,l)}]}class Xl extends Se{constructor(e){super(),Be(this,e,Zl,Ul,o,{checked:0})}}function Vl(e){let t;return{c(){t=C("Size:")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Yl(e){let t;return{c(){t=j("span"),t.textContent="Rotation:",L(t,"margin-left","1em")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Ql(e){let t;return{c(){t=j("span"),t.textContent="Shift:",L(t,"margin-left","1em")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function ei(e){let t;return{c(){t=j("span"),t.textContent="Step:",L(t,"margin-left","1em")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function ti(e){let t,n,l,r,o,s,c,a,d,u,f,p,h,m,g,v,$,y,b,w,q,z,C,B;function E(t){e[9].call(null,t)}t=new Te({props:{tip:"Element size",$$slots:{default:[Vl]},$$scope:{ctx:e}}}),s=new Te({props:{tip:"Element rotation",$$slots:{default:[Yl]},$$scope:{ctx:e}}}),u=new Te({props:{tip:"Element shift",$$slots:{default:[Ql]},$$scope:{ctx:e}}}),v=new Te({props:{tip:"Grid size: define position shift and drag step",$$slots:{default:[ei]},$$scope:{ctx:e}}});let I={};return void 0!==e[2]&&(I.checked=e[2]),w=new Xl({props:I}),X.push((()=>qe(w,"checked",E))),{c(){je(t.$$.fragment),n=_(),l=j("input"),o=_(),je(s.$$.fragment),c=_(),a=j("input"),d=_(),je(u.$$.fragment),f=_(),p=j("input"),h=_(),m=j("input"),g=_(),je(v.$$.fragment),$=_(),y=j("input"),b=_(),je(w.$$.fragment),M(l,"type","number"),M(l,"min","1"),M(l,"max","500"),M(l,"step","1"),l.value=r=100*e[0].size|0,M(l,"class","svelte-17wdl8q"),L(a,"margin-left","1em"),M(a,"type","number"),M(a,"min","-180"),M(a,"max","180"),M(a,"class","svelte-17wdl8q"),M(p,"type","number"),M(p,"min","-100"),M(p,"max","100"),M(p,"step",e[1]),M(p,"class","svelte-17wdl8q"),M(m,"type","number"),M(m,"min","-100"),M(m,"max","100"),M(m,"step",e[1]),M(m,"class","svelte-17wdl8q"),M(y,"type","number"),M(y,"min","1"),M(y,"max","50"),M(y,"class","svelte-17wdl8q")},m(i,r){ze(t,i,r),k(i,n,r),k(i,l,r),k(i,o,r),ze(s,i,r),k(i,c,r),k(i,a,r),A(a,e[0].angle),k(i,d,r),ze(u,i,r),k(i,f,r),k(i,p,r),A(p,e[0].x),k(i,h,r),k(i,m,r),A(m,e[0].y),k(i,g,r),ze(v,i,r),k(i,$,r),k(i,y,r),A(y,e[1]),k(i,b,r),ze(w,i,r),z=!0,C||(B=[S(l,"input",e[4]),S(a,"input",e[5]),S(a,"change",e[3]),S(p,"input",e[6]),S(m,"input",e[7]),S(y,"input",e[8])],C=!0)},p(e,[n]){const i={};2048&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i),(!z||1&n&&r!==(r=100*e[0].size|0))&&(l.value=r);const o={};2048&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o),1&n&&H(a.value)!==e[0].angle&&A(a,e[0].angle);const c={};2048&n&&(c.$$scope={dirty:n,ctx:e}),u.$set(c),(!z||2&n)&&M(p,"step",e[1]),1&n&&H(p.value)!==e[0].x&&A(p,e[0].x),(!z||2&n)&&M(m,"step",e[1]),1&n&&H(m.value)!==e[0].y&&A(m,e[0].y);const d={};2048&n&&(d.$$scope={dirty:n,ctx:e}),v.$set(d),2&n&&H(y.value)!==e[1]&&A(y,e[1]);const f={};!q&&4&n&&(q=!0,f.checked=e[2],ne((()=>q=!1))),w.$set(f)},i(e){z||(he(t.$$.fragment,e),he(s.$$.fragment,e),he(u.$$.fragment,e),he(v.$$.fragment,e),he(w.$$.fragment,e),z=!0)},o(e){me(t.$$.fragment,e),me(s.$$.fragment,e),me(u.$$.fragment,e),me(v.$$.fragment,e),me(w.$$.fragment,e),z=!1},d(e){Ce(t,e),e&&x(n),e&&x(l),e&&x(o),Ce(s,e),e&&x(c),e&&x(a),e&&x(d),Ce(u,e),e&&x(f),e&&x(p),e&&x(h),e&&x(m),e&&x(g),Ce(v,e),e&&x($),e&&x(y),e&&x(b),Ce(w,e),C=!1,i(B)}}}function ni(e,t,n){let l,i,r;a(e,_t,(e=>n(10,l=e))),a(e,xt,(e=>n(1,i=e))),a(e,qt,(e=>n(2,r=e)));let{e:o}=t;return e.$$set=e=>{"e"in e&&n(0,o=e.e)},[o,i,r,function(){h(_t,l.transform=`rotate(${o.angle||0})`,l)},function(){n(0,o.size=this.value/100,o)},function(){o.angle=H(this.value),n(0,o)},function(){o.x=H(this.value),n(0,o)},function(){o.y=H(this.value),n(0,o)},function(){i=H(this.value),xt.set(i)},function(e){r=e,qt.set(r)}]}class li extends Se{constructor(e){super(),Be(this,e,ni,ti,o,{e:0})}}function ii(e){let t,n,l=e[1]&&ri(e),i=e[1]+1<e[0].length&&oi(e);return{c(){l&&l.c(),t=_(),i&&i.c(),n=B()},m(e,r){l&&l.m(e,r),k(e,t,r),i&&i.m(e,r),k(e,n,r)},p(e,r){e[1]?l?l.p(e,r):(l=ri(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),e[1]+1<e[0].length?i?i.p(e,r):(i=oi(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){l&&l.d(e),e&&x(t),i&&i.d(e),e&&x(n)}}}function ri(t){let n,l,i;return{c(){n=j("b"),n.textContent="🠗",M(n,"title","Move down"),M(n,"class","svelte-1lm7r0h")},m(e,r){k(e,n,r),l||(i=S(n,"click",t[5]),l=!0)},p:e,d(e){e&&x(n),l=!1,i()}}}function oi(t){let n,l,i;return{c(){n=j("b"),n.textContent="🠕",M(n,"title","Move up"),M(n,"class","svelte-1lm7r0h")},m(e,r){k(e,n,r),l||(i=S(n,"click",t[4]),l=!0)},p:e,d(e){e&&x(n),l=!1,i()}}}function si(t){let n,l,r,o,s,c,a,d=t[0].length>1&&ii(t);return{c(){n=j("b"),n.textContent="✖",l=_(),r=j("b"),r.textContent="🗗",o=_(),d&&d.c(),s=B(),M(n,"title","Remove"),M(n,"class","svelte-1lm7r0h"),M(r,"title","Copy"),M(r,"class","svelte-1lm7r0h")},m(e,i){k(e,n,i),k(e,l,i),k(e,r,i),k(e,o,i),d&&d.m(e,i),k(e,s,i),c||(a=[S(n,"click",t[2]),S(r,"click",t[3])],c=!0)},p(e,[t]){e[0].length>1?d?d.p(e,t):(d=ii(e),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null)},i:e,o:e,d(e){e&&x(n),e&&x(l),e&&x(r),e&&x(o),d&&d.d(e),e&&x(s),c=!1,i(a)}}}function ci(e,t,n){let{els:l}=t,{el:i}=t,{i:r}=t;return e.$$set=e=>{"els"in e&&n(0,l=e.els),"el"in e&&n(6,i=e.el),"i"in e&&n(1,r=e.i)},[l,r,()=>n(0,l=l.filter(((e,t)=>t!==r))),()=>n(0,l=[...l,JSON.parse(JSON.stringify(i))]),()=>n(0,[l[r],l[r+1]]=[l[r+1],l[r]],l),()=>n(0,[l[r],l[r-1]]=[l[r-1],l[r]],l),i]}class ai extends Se{constructor(e){super(),Be(this,e,ci,si,o,{els:0,el:6,i:1})}}const di=function(e=Math.floor(1e9*Math.random())){Math.seedrandom(e);let t=null,n=[];const l=c($t),i={seed:e,t1:f("field")};let r=!!dt(t?.5:.9);const o=r&&dt(.3)||dt(.5)?at(it.lined):null,s=!r&&dt(.6)||dt(.3)?o||at(it.straight):null,a=dt(["chief","terrace","chevron","quarter","flaunches"].includes(s)||r&&s?.03:r?.3:s?.7:.995),d=a?at(lt.variants):null,u=()=>r=at(s||a?rt[at(rt.types)]:rt[at(rt.single)]);if(r&&u(),d){const e=f("division",n,dt(.98)?i.t1:null);i.division={division:d,t:e},lt[d]&&(i.division.line=t||s&&dt(.7)?"straight":at(lt[d]))}if(s&&(i.ordinaries=[{ordinary:s,t:f("charge",n,i.t1)}],o&&(i.ordinaries[0].line=t||d&&dt(.7)?"straight":at(nt)),d&&!r&&!t&&dt(.5)&&"bordure"!==s&&"orle"!==s&&(dt(.8)?i.ordinaries[0].divided="counter":dt(.6)?i.ordinaries[0].divided="field":i.ordinaries[0].divided="division")),r){let e="e",l="gules";const o=i.ordinaries?i.ordinaries[0].t:null;if(tt.ordinariesOn[s]&&dt(.8)){for(e=at(tt.ordinariesOn[s]);rt.natural[r]===o;)u();l=!t&&dt(.3)?i.t1:f("charge",[],o)}else if(tt.ordinariesOff[s]&&dt(.95)){for(e=at(tt.ordinariesOff[s]);rt.natural[r]===i.t1;)u();l=!t&&dt(.3)?o:f("charge",n,i.t1)}else if(tt.divisions[d]){for(e=at(tt.divisions[d]);rt.natural[r]===i.t1;)u();l=f("charge",o?n.concat(o):n,i.t1)}else if(tt[r]){for(e=at(tt[r]);rt.natural[r]===i.t1;)u();l=f("charge",n,i.t1)}else{for(e=t?"e":rt.conventional[r]?at(tt.conventional):at(tt.complex);rt.natural[r]===i.t1;)u();l=f("charge",n.concat(o),i.t1)}if(rt.natural[r]&&(l=rt.natural[r]),i.charges=[{charge:r,t:l,p:e}],"ABCDEFGHIKL"===e&&dt(.95))i.charges[0].charge=at(rt.conventional),i.charges.push({charge:at(rt[at(rt.single)]),t:f("charge",n,i.t1),p:"e"});else if(dt(.8)&&"inescutcheon"===r.slice(0,12))i.charges.push({charge:at(rt[at(rt.types)]),t:f("charge",[],l),p:e,size:.5});else if(d&&!s){const l=!(t||i.line&&"straight"!==i.line);if(dt(.3)&&["perPale","perFess"].includes(d)&&"straight"===i.line){if(i.charges[0].layer="field",dt(.95)){const t="e"===e||dt(.5)?"e":at(tt.divisions[d]);i.charges.push({charge:at(rt[at(rt.single)]),t:f("charge",n,i.t3),p:t,layer:"division"})}}else if(l&&dt(.4))i.charges[0].layer="counter";else if(["perPale","perFess","perBend","perBendSinister"].includes(d)){const[e,t]="perPale"===d?["pp","qq"]:"perFess"===d?["kk","nn"]:"perBend"===d?["ll","mm"]:["jj","oo"];i.charges[0].p=e,i.charges.push({charge:at(rt[at(rt.single)]),t:f("charge",n,i.t3),p:t})}else l&&e.length>1&&(i.charges[0].layer="counter")}i.charges.forEach((e=>function(e){e.size=(e.size||1)*ui(e.p,s),e.p=[...new Set(e.p)].join(""),dt(.05)&&rt.sinister.includes(e.charge)&&(e.sinister=1);dt(.05)&&rt.reversed.includes(e.charge)&&(e.reversed=1)}(e)))}function f(e,i=[],r){const o=r?r.includes("-")?r.split("-")[1]:r:null;let s=at(l[e]);r&&"patterns"!==s&&(s="metals"===p(o)?"colours":"metals"),"metals"===s&&i.includes("or")&&i.includes("argent")&&(s="colours");let c=at(l[s]);for(;c===o||i.includes(c);)c=at(l[s]);return"patterns"!==s&&"charge"!==e&&n.push(c),"patterns"===s&&(t=c,c=function(e,t,i=""){let r=null,o=null;dt(.15)?i="-small":dt(.05)?i="-smaller":dt(.035)?i="-big":dt(.001)&&(i="-smallest");dt(.5)&&["vair","vairInPale","vairEnPointe"].includes(e)?(r="azure",o="argent"):dt(.8)&&"ermine"===e?(r="argent",o="sable"):"pappellony"===e?dt(.2)?(r="gules",o="or"):dt(.2)?(r="argent",o="sable"):dt(.2)&&(r="azure",o="argent"):"masoned"===e?dt(.3)?(r="gules",o="argent"):dt(.3)?(r="argent",o="sable"):dt(.1)&&(r="or",o="sable"):"fretty"===e?"sable"===o||dt(.35)?(r="argent",o="gules"):dt(.25)?(r="sable",o="or"):dt(.15)&&(r="gules",o="argent"):"semy"===e&&(e+="_of_"+at(rt[at(rt.semy)]));if(!r||!o){const e=dt(.7);r=at(e?l.metals:l.colours),o=at(e?l.colours:l.metals)}"division"===t&&(n.includes(r)&&(r=h(r)),n.includes(o)&&(o=h(o)));return n.push(r,o),`${e}-${r}-${o}${i}`}(c,e)),c}function p(e){const t=e.includes("-")?e.split("-")[1]:e;return Object.keys(l.metals).includes(t)?"metals":Object.keys(l.colours).includes(t)?"colours":Object.keys(l.stains).includes(t)?"stains":void 0}function h(e,t){const n=p(e);for(;!t||t===e;)t=at(l[n]);return t}return i},ui=(e,t)=>"e"!==e||"bordure"!==t&&"orle"!==t?"e"===e?1.5:["p","q","pp","qq","pq","kn","n","n","kk","nn","oo","jj"].includes(e)||"jln"===e||"jlh"===e?.7:"abcpqh"===e?.5:e.length>10?.18:e.length>7?.3:e.length>4?.4:.5:1.1;function fi(e,t,n){const l=e.slice();return l[73]=t[n],l}function pi(e,t,n){const l=e.slice();return l[0]=t[n],l}function hi(e,t,n){const l=e.slice();return l[78]=t[n],l}function mi(e,t,n){const l=e.slice();return l[70]=t[n],l[71]=t,l[72]=n,l}function gi(e,t,n){const l=e.slice();return l[0]=t[n],l}function vi(e,t,n){const l=e.slice();return l[0]=t[n],l}function $i(e,t,n){const l=e.slice();return l[81]=t[n],l[82]=t,l[72]=n,l}function yi(e,t,n){const l=e.slice();return l[0]=t[n],l}function bi(e,t,n){const l=e.slice();return l[78]=t[n],l}function wi(e,t,n){const l=e.slice();return l[0]=t[n],l}function ki(e,t,n){const l=e.slice();return l[0]=t[n],l}function xi(e,t,n){const l=e.slice();return l[0]=t[n],l}function qi(e,t,n){const l=e.slice();return l[0]=t[n],l}function ji(e,t,n){const l=e.slice();return l[78]=t[n],l}function zi(e,t,n){const l=e.slice();return l[0]=t[n],l}function Ci(e){let t,n;return t=new Hl({props:{coa:e[0],i:"Edit",w:e[4],h:e[4]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};1&n[0]&&(l.coa=e[0]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function _i(e){let t,n,l;function i(t){e[14].call(null,t)}let r={};return void 0!==e[2].field.size&&(r.size=e[2].field.size),t=new Gl({props:r}),X.push((()=>qe(t,"size",i))),{c(){je(t.$$.fragment)},m(e,n){ze(t,e,n),l=!0},p(e,l){const i={};!n&&4&l[0]&&(n=!0,i.size=e[2].field.size,ne((()=>n=!1))),t.$set(i)},i(e){l||(he(t.$$.fragment,e),l=!0)},o(e){me(t.$$.fragment,e),l=!1},d(e){Ce(t,e)}}}function Bi(e){let t,n,l,i;function r(t){e[16].call(null,t)}let o={itemSize:e[5]};return void 0!==e[2].field.t2&&(o.t1=e[2].field.t2),n=new Wl({props:o}),X.push((()=>qe(n,"t1",r))),{c(){t=j("div"),je(n.$$.fragment),M(t,"class","subsection svelte-wnwq85")},m(e,l){k(e,t,l),ze(n,t,null),i=!0},p(e,t){const i={};!l&&4&t[0]&&(l=!0,i.t1=e[2].field.t2,ne((()=>l=!1))),n.$set(i)},i(e){i||(he(n.$$.fragment,e),i=!0)},o(e){me(n.$$.fragment,e),i=!1},d(e){e&&x(t),Ce(n)}}}function Si(e){let t,n,l,i,r=e[6].map(e[17]),o=[];for(let t=0;t<r.length;t+=1)o[t]=Ei(zi(e,r,t));const s=e=>me(o[e],1,1,(()=>{o[e]=null}));return{c(){t=j("div"),n=j("div"),n.textContent="Pattern:",l=_();for(let e=0;e<o.length;e+=1)o[e].c();M(t,"class","subsection svelte-wnwq85")},m(e,r){k(e,t,r),w(t,n),w(t,l);for(let e=0;e<o.length;e+=1)o[e].m(t,null);i=!0},p(e,n){if(100&n[0]){let l;for(r=e[6].map(e[17]),l=0;l<r.length;l+=1){const i=zi(e,r,l);o[l]?(o[l].p(i,n),he(o[l],1)):(o[l]=Ei(i),o[l].c(),he(o[l],1),o[l].m(t,null))}for(fe(),l=r.length;l<o.length;l+=1)s(l);pe()}},i(e){if(!i){for(let e=0;e<r.length;e+=1)he(o[e]);i=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)me(o[e]);i=!1},d(e){e&&x(t),q(o,e)}}}function Ei(e){let t,n,l,i,r,o;function s(...t){return e[18](e[0],...t)}return n=new Ll({props:{coa:e[0],title:fr(e[0].pattern),itemSize:e[5]}}),{c(){t=j("div"),je(n.$$.fragment),l=_(),M(t,"class","item"),O(t,"selected",e[2].field.pattern===e[0].pattern)},m(e,c){k(e,t,c),ze(n,t,null),w(t,l),i=!0,r||(o=S(t,"click",s),r=!0)},p(l,i){e=l;const r={};4&i[0]&&(r.coa=e[0]),4&i[0]&&(r.title=fr(e[0].pattern)),n.$set(r),68&i[0]&&O(t,"selected",e[2].field.pattern===e[0].pattern)},i(e){i||(he(n.$$.fragment,e),i=!0)},o(e){me(n.$$.fragment,e),i=!1},d(e){e&&x(t),Ce(n),r=!1,o()}}}function Mi(e){let t,n,l,i,r,o,s,c,a=[],d=new Map,u=e[7],f=[];for(let t=0;t<u.length;t+=1)f[t]=Hi(ji(e,u,t));let p=Object.keys(rt[e[2].field.semy]).map(e[20]);const h=e=>e[0];for(let t=0;t<p.length;t+=1){let n=qi(e,p,t),l=h(n);d.set(l,a[t]=Ii(l,n))}return{c(){t=j("div"),n=j("div"),l=C("Charge:\n            "),i=j("select");for(let e=0;e<f.length;e+=1)f[e].c();r=_();for(let e=0;e<a.length;e+=1)a[e].c();M(i,"class","svelte-wnwq85"),void 0===e[2].field.semy&&te((()=>e[19].call(i))),M(t,"class","subsection svelte-wnwq85")},m(d,u){k(d,t,u),w(t,n),w(n,l),w(n,i);for(let e=0;e<f.length;e+=1)f[e].m(i,null);T(i,e[2].field.semy),w(t,r);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0,s||(c=S(i,"change",e[19]),s=!0)},p(e,n){if(128&n[0]){let t;for(u=e[7],t=0;t<u.length;t+=1){const l=ji(e,u,t);f[t]?f[t].p(l,n):(f[t]=Hi(l),f[t].c(),f[t].m(i,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=u.length}if(132&n[0]&&T(i,e[2].field.semy),36&n[0]){const l=Object.keys(rt[e[2].field.semy]).map(e[20]);fe(),a=xe(a,n,h,1,e,l,d,t,we,Ii,null,qi),pe()}},i(e){if(!o){for(let e=0;e<p.length;e+=1)he(a[e]);o=!0}},o(e){for(let e=0;e<a.length;e+=1)me(a[e]);o=!1},d(e){e&&x(t),q(f,e);for(let e=0;e<a.length;e+=1)a[e].d();s=!1,c()}}}function Hi(t){let n,l,i,r=fr(t[78])+"";return{c(){n=j("option"),l=C(r),n.__value=i=t[78],n.value=n.__value},m(e,t){k(e,n,t),w(n,l)},p:e,d(e){e&&x(n)}}}function Ii(e,t){let n,l,i,r,o,s;function c(...e){return t[21](t[0],...e)}return l=new Ll({props:{coa:t[0],title:fr(t[0].charge),itemSize:t[5]}}),{key:e,first:null,c(){n=j("div"),je(l.$$.fragment),i=_(),M(n,"class","item"),O(n,"selected",t[2].field.charge===t[0].charge),this.first=n},m(e,t){k(e,n,t),ze(l,n,null),w(n,i),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,i){t=e;const r={};4&i[0]&&(r.coa=t[0]),4&i[0]&&(r.title=fr(t[0].charge)),l.$set(r),4&i[0]&&O(n,"selected",t[2].field.charge===t[0].charge)},i(e){r||(he(l.$$.fragment,e),r=!0)},o(e){me(l.$$.fragment,e),r=!1},d(e){e&&x(n),Ce(l),o=!1,s()}}}function Ai(e,t){let n,l,i,r,o,s;function c(...e){return t[23](t[0],...e)}return l=new Ll({props:{coa:t[0],title:fr(t[0].division.division),itemSize:t[5]}}),{key:e,first:null,c(){n=j("div"),je(l.$$.fragment),i=_(),M(n,"class","item"),O(n,"selected",t[2].division.division===t[0].division.division),this.first=n},m(e,t){k(e,n,t),ze(l,n,null),w(n,i),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,i){t=e;const r={};5&i[0]&&(r.coa=t[0]),5&i[0]&&(r.title=fr(t[0].division.division)),l.$set(r),5&i[0]&&O(n,"selected",t[2].division.division===t[0].division.division)},i(e){r||(he(l.$$.fragment,e),r=!0)},o(e){me(l.$$.fragment,e),r=!1},d(e){e&&x(n),Ce(l),o=!1,s()}}}function Li(e){let t,n,l,i,r=[],o=new Map,s=Object.keys(nt).map(e[24]);const c=e=>e[0];for(let t=0;t<s.length;t+=1){let n=ki(e,s,t),l=c(n);o.set(l,r[t]=Ti(l,n))}return{c(){t=j("div"),n=j("div"),n.textContent="Line:",l=_();for(let e=0;e<r.length;e+=1)r[e].c();M(t,"class","subsection svelte-wnwq85")},m(e,o){k(e,t,o),w(t,n),w(t,l);for(let e=0;e<r.length;e+=1)r[e].m(t,null);i=!0},p(e,n){if(37&n[0]){const l=Object.keys(nt).map(e[24]);fe(),r=xe(r,n,c,1,e,l,o,t,we,Ti,null,ki),pe()}},i(e){if(!i){for(let e=0;e<s.length;e+=1)he(r[e]);i=!0}},o(e){for(let e=0;e<r.length;e+=1)me(r[e]);i=!1},d(e){e&&x(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Ti(e,t){let n,l,i,r,o,s;function c(...e){return t[25](t[0],...e)}return l=new Ll({props:{coa:t[0],title:fr(t[0].line),itemSize:t[5]}}),{key:e,first:null,c(){n=j("div"),je(l.$$.fragment),i=_(),M(n,"class","item"),O(n,"selected",t[2].division.line===t[0].line),this.first=n},m(e,t){k(e,n,t),ze(l,n,null),w(n,i),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,i){t=e;const r={};5&i[0]&&(r.coa=t[0]),5&i[0]&&(r.title=fr(t[0].line)),l.$set(r),5&i[0]&&O(n,"selected",t[2].division.line===t[0].line)},i(e){r||(he(l.$$.fragment,e),r=!0)},o(e){me(l.$$.fragment,e),r=!1},d(e){e&&x(n),Ce(l),o=!1,s()}}}function Fi(e){let t,n,l,i,r,o,s,c,a,d,u,f,p;function h(t){e[26].call(null,t)}let m={updateSection:dr};void 0!==e[2].division.type&&(m.type=e[2].division.type),n=new Ol({props:m}),X.push((()=>qe(n,"type",h)));let g="tincture"!==e[2].division.type&&Oi(e);function v(t){e[28].call(null,t)}let $={itemSize:e[5]};void 0!==e[2].division.t1&&($.t1=e[2].division.t1),s=new Wl({props:$}),X.push((()=>qe(s,"t1",v)));let y="tincture"!==e[2].division.type&&Di(e),b="pattern"===e[2].division.type&&Pi(e),q="semy"===e[2].division.type&&Ji(e);return{c(){t=j("div"),je(n.$$.fragment),i=_(),g&&g.c(),r=_(),o=j("div"),je(s.$$.fragment),a=_(),y&&y.c(),d=_(),b&&b.c(),u=_(),q&&q.c(),f=B(),M(t,"class","subsection svelte-wnwq85"),M(o,"class","subsection svelte-wnwq85")},m(e,l){k(e,t,l),ze(n,t,null),w(t,i),g&&g.m(t,null),k(e,r,l),k(e,o,l),ze(s,o,null),k(e,a,l),y&&y.m(e,l),k(e,d,l),b&&b.m(e,l),k(e,u,l),q&&q.m(e,l),k(e,f,l),p=!0},p(e,i){const r={};!l&&4&i[0]&&(l=!0,r.type=e[2].division.type,ne((()=>l=!1))),n.$set(r),"tincture"!==e[2].division.type?g?(g.p(e,i),4&i[0]&&he(g,1)):(g=Oi(e),g.c(),he(g,1),g.m(t,null)):g&&(fe(),me(g,1,1,(()=>{g=null})),pe());const o={};!c&&4&i[0]&&(c=!0,o.t1=e[2].division.t1,ne((()=>c=!1))),s.$set(o),"tincture"!==e[2].division.type?y?(y.p(e,i),4&i[0]&&he(y,1)):(y=Di(e),y.c(),he(y,1),y.m(d.parentNode,d)):y&&(fe(),me(y,1,1,(()=>{y=null})),pe()),"pattern"===e[2].division.type?b?(b.p(e,i),4&i[0]&&he(b,1)):(b=Pi(e),b.c(),he(b,1),b.m(u.parentNode,u)):b&&(fe(),me(b,1,1,(()=>{b=null})),pe()),"semy"===e[2].division.type?q?(q.p(e,i),4&i[0]&&he(q,1)):(q=Ji(e),q.c(),he(q,1),q.m(f.parentNode,f)):q&&(fe(),me(q,1,1,(()=>{q=null})),pe())},i(e){p||(he(n.$$.fragment,e),he(g),he(s.$$.fragment,e),he(y),he(b),he(q),p=!0)},o(e){me(n.$$.fragment,e),me(g),me(s.$$.fragment,e),me(y),me(b),me(q),p=!1},d(e){e&&x(t),Ce(n),g&&g.d(),e&&x(r),e&&x(o),Ce(s),e&&x(a),y&&y.d(e),e&&x(d),b&&b.d(e),e&&x(u),q&&q.d(e),e&&x(f)}}}function Oi(e){let t,n,l;function i(t){e[27].call(null,t)}let r={};return void 0!==e[2].division.size&&(r.size=e[2].division.size),t=new Gl({props:r}),X.push((()=>qe(t,"size",i))),{c(){je(t.$$.fragment)},m(e,n){ze(t,e,n),l=!0},p(e,l){const i={};!n&&4&l[0]&&(n=!0,i.size=e[2].division.size,ne((()=>n=!1))),t.$set(i)},i(e){l||(he(t.$$.fragment,e),l=!0)},o(e){me(t.$$.fragment,e),l=!1},d(e){Ce(t,e)}}}function Di(e){let t,n,l,i;function r(t){e[29].call(null,t)}let o={itemSize:e[5]};return void 0!==e[2].division.t2&&(o.t1=e[2].division.t2),n=new Wl({props:o}),X.push((()=>qe(n,"t1",r))),{c(){t=j("div"),je(n.$$.fragment),M(t,"class","subsection svelte-wnwq85")},m(e,l){k(e,t,l),ze(n,t,null),i=!0},p(e,t){const i={};!l&&4&t[0]&&(l=!0,i.t1=e[2].division.t2,ne((()=>l=!1))),n.$set(i)},i(e){i||(he(n.$$.fragment,e),i=!0)},o(e){me(n.$$.fragment,e),i=!1},d(e){e&&x(t),Ce(n)}}}function Pi(e){let t,n,l,i,r=e[6].map(e[30]),o=[];for(let t=0;t<r.length;t+=1)o[t]=Gi(wi(e,r,t));const s=e=>me(o[e],1,1,(()=>{o[e]=null}));return{c(){t=j("div"),n=j("div"),n.textContent="Pattern:",l=_();for(let e=0;e<o.length;e+=1)o[e].c();M(t,"class","subsection svelte-wnwq85")},m(e,r){k(e,t,r),w(t,n),w(t,l);for(let e=0;e<o.length;e+=1)o[e].m(t,null);i=!0},p(e,n){if(100&n[0]){let l;for(r=e[6].map(e[30]),l=0;l<r.length;l+=1){const i=wi(e,r,l);o[l]?(o[l].p(i,n),he(o[l],1)):(o[l]=Gi(i),o[l].c(),he(o[l],1),o[l].m(t,null))}for(fe(),l=r.length;l<o.length;l+=1)s(l);pe()}},i(e){if(!i){for(let e=0;e<r.length;e+=1)he(o[e]);i=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)me(o[e]);i=!1},d(e){e&&x(t),q(o,e)}}}function Gi(e){let t,n,l,i,r,o;function s(...t){return e[31](e[0],...t)}return n=new Ll({props:{coa:e[0],title:fr(e[0].pattern),itemSize:e[5]}}),{c(){t=j("div"),je(n.$$.fragment),l=_(),M(t,"class","item"),O(t,"selected",e[2].division.pattern===e[0].pattern)},m(e,c){k(e,t,c),ze(n,t,null),w(t,l),i=!0,r||(o=S(t,"click",s),r=!0)},p(l,i){e=l;const r={};4&i[0]&&(r.coa=e[0]),4&i[0]&&(r.title=fr(e[0].pattern)),n.$set(r),68&i[0]&&O(t,"selected",e[2].division.pattern===e[0].pattern)},i(e){i||(he(n.$$.fragment,e),i=!0)},o(e){me(n.$$.fragment,e),i=!1},d(e){e&&x(t),Ce(n),r=!1,o()}}}function Ji(e){let t,n,l,i,r,o,s,c,a=[],d=new Map,u=e[7],f=[];for(let t=0;t<u.length;t+=1)f[t]=Ri(bi(e,u,t));let p=Object.keys(rt[e[2].division.semy]).map(e[33]);const h=e=>e[0];for(let t=0;t<p.length;t+=1){let n=yi(e,p,t),l=h(n);d.set(l,a[t]=Ni(l,n))}return{c(){t=j("div"),n=j("div"),l=C("Charge:\n              "),i=j("select");for(let e=0;e<f.length;e+=1)f[e].c();r=_();for(let e=0;e<a.length;e+=1)a[e].c();M(i,"class","svelte-wnwq85"),void 0===e[2].division.semy&&te((()=>e[32].call(i))),M(t,"class","subsection svelte-wnwq85")},m(d,u){k(d,t,u),w(t,n),w(n,l),w(n,i);for(let e=0;e<f.length;e+=1)f[e].m(i,null);T(i,e[2].division.semy),w(t,r);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0,s||(c=S(i,"change",e[32]),s=!0)},p(e,n){if(128&n[0]){let t;for(u=e[7],t=0;t<u.length;t+=1){const l=bi(e,u,t);f[t]?f[t].p(l,n):(f[t]=Ri(l),f[t].c(),f[t].m(i,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=u.length}if(132&n[0]&&T(i,e[2].division.semy),36&n[0]){const l=Object.keys(rt[e[2].division.semy]).map(e[33]);fe(),a=xe(a,n,h,1,e,l,d,t,we,Ni,null,yi),pe()}},i(e){if(!o){for(let e=0;e<p.length;e+=1)he(a[e]);o=!0}},o(e){for(let e=0;e<a.length;e+=1)me(a[e]);o=!1},d(e){e&&x(t),q(f,e);for(let e=0;e<a.length;e+=1)a[e].d();s=!1,c()}}}function Ri(t){let n,l,i,r=fr(t[78])+"";return{c(){n=j("option"),l=C(r),n.__value=i=t[78],n.value=n.__value},m(e,t){k(e,n,t),w(n,l)},p:e,d(e){e&&x(n)}}}function Ni(e,t){let n,l,i,r,o,s;function c(...e){return t[34](t[0],...e)}return l=new Ll({props:{coa:t[0],title:fr(t[0].charge),itemSize:t[5]}}),{key:e,first:null,c(){n=j("div"),je(l.$$.fragment),i=_(),M(n,"class","item"),O(n,"selected",t[2].division.charge===t[0].charge),this.first=n},m(e,t){k(e,n,t),ze(l,n,null),w(n,i),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,i){t=e;const r={};4&i[0]&&(r.coa=t[0]),4&i[0]&&(r.title=fr(t[0].charge)),l.$set(r),4&i[0]&&O(n,"selected",t[2].division.charge===t[0].charge)},i(e){r||(he(l.$$.fragment,e),r=!0)},o(e){me(l.$$.fragment,e),r=!1},d(e){e&&x(n),Ce(l),o=!1,s()}}}function Ki(e){let t,n,l,r,o,s,c,a,d;function u(){e[36].call(l,e[82],e[72])}return{c(){t=j("div"),n=C("Divided:\n            "),l=j("select"),r=j("option"),r.textContent="No (standard)",o=j("option"),o.textContent="Crop by main field",s=j("option"),s.textContent="Crop by division",c=j("option"),c.textContent="Сountercharged",r.__value="",r.value=r.__value,o.__value="field",o.value=o.__value,s.__value="division",s.value=s.__value,c.__value="counter",c.value=c.__value,M(l,"class","svelte-wnwq85"),void 0===e[81].divided&&te(u),M(t,"class","subsection svelte-wnwq85")},m(i,f){k(i,t,f),w(t,n),w(t,l),w(l,r),w(l,o),w(l,s),w(l,c),T(l,e[81].divided),a||(d=[S(l,"change",u),S(t,"click",dr)],a=!0)},p(t,n){e=t,132&n[0]&&T(l,e[81].divided)},d(e){e&&x(t),a=!1,i(d)}}}function Wi(e,t){let n,l,i,r,o,s;function c(...e){return t[38](t[81],t[0],t[82],t[72],...e)}return l=new Ll({props:{coa:t[0],title:fr(t[0].ordinary),itemSize:t[5]}}),{key:e,first:null,c(){n=j("div"),je(l.$$.fragment),i=_(),M(n,"class","item"),O(n,"selected",t[81].ordinary===t[0].ordinary),this.first=n},m(e,t){k(e,n,t),ze(l,n,null),w(n,i),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,i){t=e;const r={};5&i[0]&&(r.coa=t[0]),5&i[0]&&(r.title=fr(t[0].ordinary)),l.$set(r),261&i[0]&&O(n,"selected",t[81].ordinary===t[0].ordinary)},i(e){r||(he(l.$$.fragment,e),r=!0)},o(e){me(l.$$.fragment,e),r=!1},d(e){e&&x(n),Ce(l),o=!1,s()}}}function Ui(e){let t,n,l,i,r=[],o=new Map;function s(...t){return e[39](e[81],...t)}let c=Object.keys(nt).map(s);const a=e=>e[0];for(let t=0;t<c.length;t+=1){let n=gi(e,c,t),l=a(n);o.set(l,r[t]=Zi(l,n))}return{c(){t=j("div"),n=j("div"),n.textContent="Line:",l=_();for(let e=0;e<r.length;e+=1)r[e].c();M(t,"class","subsection svelte-wnwq85")},m(e,o){k(e,t,o),w(t,n),w(t,l);for(let e=0;e<r.length;e+=1)r[e].m(t,null);i=!0},p(n,l){if(e=n,37&l[0]){const n=Object.keys(nt).map(s);fe(),r=xe(r,l,a,1,e,n,o,t,we,Zi,null,gi),pe()}},i(e){if(!i){for(let e=0;e<c.length;e+=1)he(r[e]);i=!0}},o(e){for(let e=0;e<r.length;e+=1)me(r[e]);i=!1},d(e){e&&x(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Zi(e,t){let n,l,i,r,o,s;function c(...e){return t[40](t[81],t[0],t[82],t[72],...e)}return l=new Ll({props:{coa:t[0],title:fr(t[0].line),itemSize:t[5]}}),{key:e,first:null,c(){n=j("div"),je(l.$$.fragment),i=_(),M(n,"class","item"),O(n,"selected",t[81].line===t[0].line),this.first=n},m(e,t){k(e,n,t),ze(l,n,null),w(n,i),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,i){t=e;const r={};5&i[0]&&(r.coa=t[0]),5&i[0]&&(r.title=fr(t[0].line)),l.$set(r),5&i[0]&&O(n,"selected",t[81].line===t[0].line)},i(e){r||(he(l.$$.fragment,e),r=!0)},o(e){me(l.$$.fragment,e),r=!1},d(e){e&&x(n),Ce(l),o=!1,s()}}}function Xi(e){let t,n,l,i;function r(t){e[41].call(null,t,e[81])}let o={itemSize:e[5]};return void 0!==e[81].t&&(o.t1=e[81].t),n=new Wl({props:o}),X.push((()=>qe(n,"t1",r))),{c(){t=j("div"),je(n.$$.fragment),M(t,"class","subsection svelte-wnwq85")},m(e,l){k(e,t,l),ze(n,t,null),i=!0},p(t,i){e=t;const r={};!l&&4&i[0]&&(l=!0,r.t1=e[81].t,ne((()=>l=!1))),n.$set(r)},i(e){i||(he(n.$$.fragment,e),i=!0)},o(e){me(n.$$.fragment,e),i=!1},d(e){e&&x(t),Ce(n)}}}function Vi(e){let t,n,l,r,o,s,c,a,d,u,f,p,h,m,g,v,$,y,b,q,z,B,E=(e[2].ordinaries.length>1?e[72]+1:"")+"",H=[],A=new Map;function L(t){e[35].call(null,t)}let T={el:e[81],i:e[72]};void 0!==e[2].ordinaries&&(T.els=e[2].ordinaries),a=new ai({props:T}),X.push((()=>qe(a,"els",L)));let F=e[0].division&&Ki(e);function O(...t){return e[37](e[81],...t)}let D=e[8].map(O);const P=e=>e[0];for(let t=0;t<D.length;t+=1){let n=vi(e,D,t),l=P(n);A.set(l,H[t]=Wi(l,n))}let G=it.lined[e[81].ordinary]&&Ui(e),J="counter"!==e[81].divided&&Xi(e);function R(t){e[42].call(null,t,e[81],e[82],e[72])}let N={};return void 0!==e[81]&&(N.e=e[81]),$=new li({props:N}),X.push((()=>qe($,"e",R))),{c(){t=j("div"),n=C("Ordinary "),l=C(E),o=_(),s=j("div"),c=j("div"),je(a.$$.fragment),u=_(),F&&F.c(),f=_(),p=j("div");for(let e=0;e<H.length;e+=1)H[e].c();h=_(),G&&G.c(),m=_(),J&&J.c(),g=_(),v=j("div"),je($.$$.fragment),b=_(),M(t,"class","section svelte-wnwq85"),M(c,"class","subsection svelte-wnwq85"),M(p,"class","subsection svelte-wnwq85"),M(v,"class","subsection svelte-wnwq85"),M(s,"class","panel svelte-wnwq85")},m(e,i){k(e,t,i),w(t,n),w(t,l),k(e,o,i),k(e,s,i),w(s,c),ze(a,c,null),w(s,u),F&&F.m(s,null),w(s,f),w(s,p);for(let e=0;e<H.length;e+=1)H[e].m(p,null);w(s,h),G&&G.m(s,null),w(s,m),J&&J.m(s,null),w(s,g),w(s,v),ze($,v,null),w(s,b),q=!0,z||(B=[S(t,"click",ar),S(p,"click",dr)],z=!0)},p(t,n){e=t,(!q||4&n[0])&&E!==(E=(e[2].ordinaries.length>1?e[72]+1:"")+"")&&I(l,E);const i={};if(4&n[0]&&(i.el=e[81]),!d&&4&n[0]&&(d=!0,i.els=e[2].ordinaries,ne((()=>d=!1))),a.$set(i),e[0].division?F?F.p(e,n):(F=Ki(e),F.c(),F.m(s,f)):F&&(F.d(1),F=null),293&n[0]){const t=e[8].map(O);fe(),H=xe(H,n,P,1,e,t,A,p,we,Wi,null,vi),pe()}it.lined[e[81].ordinary]?G?(G.p(e,n),4&n[0]&&he(G,1)):(G=Ui(e),G.c(),he(G,1),G.m(s,m)):G&&(fe(),me(G,1,1,(()=>{G=null})),pe()),"counter"!==e[81].divided?J?(J.p(e,n),4&n[0]&&he(J,1)):(J=Xi(e),J.c(),he(J,1),J.m(s,g)):J&&(fe(),me(J,1,1,(()=>{J=null})),pe());const r={};!y&&4&n[0]&&(y=!0,r.e=e[81],ne((()=>y=!1))),$.$set(r)},i(e){if(!q){r||te((()=>{r=ve(t,We,{}),r.start()})),he(a.$$.fragment,e);for(let e=0;e<D.length;e+=1)he(H[e]);he(G),he(J),he($.$$.fragment,e),q=!0}},o(e){me(a.$$.fragment,e);for(let e=0;e<H.length;e+=1)me(H[e]);me(G),me(J),me($.$$.fragment,e),q=!1},d(e){e&&x(t),e&&x(o),e&&x(s),Ce(a),F&&F.d();for(let e=0;e<H.length;e+=1)H[e].d();G&&G.d(),J&&J.d(),Ce($),z=!1,i(B)}}}function Yi(t){let n,l,i,r=fr(t[78])+"";return{c(){n=j("option"),l=C(r),n.__value=i=t[78],n.value=n.__value},m(e,t){k(e,n,t),w(n,l)},p:e,d(e){e&&x(n)}}}function Qi(e){let t,n,l,i,r,o,s,c,a=!ur(e[70].charge),d=a&&er();function u(){e[44].call(l,e[71],e[72])}return{c(){t=j("span"),t.textContent="Divided:",n=_(),l=j("select"),i=j("option"),i.textContent="No (standard)",r=j("option"),r.textContent="Crop by main field",o=j("option"),o.textContent="Crop by division",d&&d.c(),L(t,"margin-left","1em"),i.__value="",i.value=i.__value,r.__value="field",r.value=r.__value,o.__value="division",o.value=o.__value,M(l,"class","svelte-wnwq85"),void 0===e[70].layer&&te(u)},m(a,f){k(a,t,f),k(a,n,f),k(a,l,f),w(l,i),w(l,r),w(l,o),d&&d.m(l,null),T(l,e[70].layer),s||(c=S(l,"change",u),s=!0)},p(t,n){e=t,4&n[0]&&(a=!ur(e[70].charge)),a?d||(d=er(),d.c(),d.m(l,null)):d&&(d.d(1),d=null),132&n[0]&&T(l,e[70].layer)},d(e){e&&x(t),e&&x(n),e&&x(l),d&&d.d(),s=!1,c()}}}function er(e){let t;return{c(){t=j("option"),t.textContent="Сountercharged",t.__value="counter",t.value=t.__value},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function tr(e,t){let n,l,i,r,o,s;function c(...e){return t[47](t[70],t[0],t[71],t[72],...e)}return l=new Ll({props:{coa:t[0],title:fr(t[0].c),itemSize:t[5]}}),{key:e,first:null,c(){n=j("div"),je(l.$$.fragment),i=_(),M(n,"class","item"),O(n,"selected",t[70].charge===t[0].c),this.first=n},m(e,t){k(e,n,t),ze(l,n,null),w(n,i),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,i){t=e;const r={};5&i[0]&&(r.coa=t[0]),5&i[0]&&(r.title=fr(t[0].c)),l.$set(r),5&i[0]&&O(n,"selected",t[70].charge===t[0].c)},i(e){r||(he(l.$$.fragment,e),r=!0)},o(e){me(l.$$.fragment,e),r=!1},d(e){e&&x(n),Ce(l),o=!1,s()}}}function nr(e){let t,n,l,i;function r(t){e[48].call(null,t,e[70])}let o={itemSize:e[5]};return void 0!==e[70].t&&(o.t1=e[70].t),n=new Wl({props:o}),X.push((()=>qe(n,"t1",r))),{c(){t=j("div"),je(n.$$.fragment),M(t,"class","subsection svelte-wnwq85")},m(e,l){k(e,t,l),ze(n,t,null),i=!0},p(t,i){e=t;const r={};!l&&4&i[0]&&(l=!0,r.t1=e[70].t,ne((()=>l=!1))),n.$set(r)},i(e){i||(he(n.$$.fragment,e),i=!0)},o(e){me(n.$$.fragment,e),i=!1},d(e){e&&x(t),Ce(n)}}}function lr(e){let t;return{c(){t=C("Positions:")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function ir(t){let n,l,i,r=t[73]+"";return{c(){n=j("option"),l=C(r),n.__value=i=t[73],n.value=n.__value},m(e,t){k(e,n,t),w(n,l)},p:e,d(e){e&&x(n)}}}function rr(e){let t;return{c(){t=j("span"),t.textContent="Sinister:",L(t,"margin-left","1em")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function or(e){let t;return{c(){t=j("span"),t.textContent="Reversed:",L(t,"margin-left","1em")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function sr(e){let t,n,l,r,o,s,c,a,d,u,f,p,h,m,g,v,$,y,b,z,B,E,H,F,O,D,P,G,J,R,N,K,W,U,Z,V,Y,Q,ee,le,ie=(e[2].charges.length>1?e[72]+1:"")+"",re=[],oe=new Map,se=!ur(e[70].charge)&&"counter"!==e[70].layer,ce=e[7],ae=[];for(let t=0;t<ce.length;t+=1)ae[t]=Yi(hi(e,ce,t));function de(){e[43].call(u,e[71],e[72])}let ue=e[0].division&&Qi(e);function ge(t){e[45].call(null,t)}let $e={el:e[70],i:e[72]};function ye(...t){return e[46](e[70],...t)}void 0!==e[2].charges&&($e.els=e[2].charges),h=new ai({props:$e}),X.push((()=>qe(h,"els",ge)));let be=Object.keys(rt[e[70].type]).map(ye);const ke=e=>e[0];for(let t=0;t<be.length;t+=1){let n=pi(e,be,t),l=ke(n);oe.set(l,re[t]=tr(l,n))}let _e=se&&nr(e);function Be(){e[49].call(B,e[71],e[72])}function Se(...t){return e[50](e[70],...t)}function Ee(...t){return e[51](e[70],...t)}b=new Te({props:{tip:"Points on shield to place a charge",$$slots:{default:[lr]},$$scope:{ctx:e}}});let Me=et,He=[];for(let t=0;t<Me.length;t+=1)He[t]=ir(fi(e,Me,t));function Ie(){e[53].call(H,e[71],e[72])}function Ae(...t){return e[54](e[70],e[71],e[72],...t)}function Le(...t){return e[55](e[70],...t)}function Fe(t){e[57].call(null,t,e[70])}O=new Te({props:{tip:"Turn charge to the left",$$slots:{default:[rr]},$$scope:{ctx:e}}});let Oe={};function De(t){e[58].call(null,t,e[70])}void 0!==e[70].sinister&&(Oe.checked=e[70].sinister),P=new Xl({props:Oe}),X.push((()=>qe(P,"checked",Fe))),R=new Te({props:{tip:"Show charge upside down",$$slots:{default:[or]},$$scope:{ctx:e}}});let Pe={};function Ge(t){e[59].call(null,t,e[70],e[71],e[72])}void 0!==e[70].reversed&&(Pe.checked=e[70].reversed),K=new Xl({props:Pe}),X.push((()=>qe(K,"checked",De)));let Je={};return void 0!==e[70]&&(Je.e=e[70]),V=new li({props:Je}),X.push((()=>qe(V,"e",Ge))),{c(){t=j("div"),n=C("Charge "),l=C(ie),o=_(),s=j("div"),c=j("div"),a=j("div"),d=C("Category:\n            "),u=j("select");for(let e=0;e<ae.length;e+=1)ae[e].c();f=_(),ue&&ue.c(),p=_(),je(h.$$.fragment),g=_();for(let e=0;e<re.length;e+=1)re[e].c();v=_(),_e&&_e.c(),$=_(),y=j("div"),je(b.$$.fragment),z=_(),B=j("input"),E=_(),H=j("select");for(let e=0;e<He.length;e+=1)He[e].c();F=_(),je(O.$$.fragment),D=_(),je(P.$$.fragment),J=_(),je(R.$$.fragment),N=_(),je(K.$$.fragment),U=_(),Z=j("div"),je(V.$$.fragment),M(t,"class","section svelte-wnwq85"),M(u,"class","svelte-wnwq85"),void 0===e[70].type&&te(de),M(c,"class","subsection svelte-wnwq85"),L(B,"margin-left",".6em"),L(B,"width","8.6em"),M(H,"class","pseudoSelect svelte-wnwq85"),void 0===e[70].p&&te(Ie),M(y,"class","subsection svelte-wnwq85"),M(Z,"class","subsection svelte-wnwq85"),M(s,"class","panel svelte-wnwq85")},m(i,r){k(i,t,r),w(t,n),w(t,l),k(i,o,r),k(i,s,r),w(s,c),w(c,a),w(a,d),w(a,u);for(let e=0;e<ae.length;e+=1)ae[e].m(u,null);T(u,e[70].type),w(a,f),ue&&ue.m(a,null),w(a,p),ze(h,a,null),w(c,g);for(let e=0;e<re.length;e+=1)re[e].m(c,null);w(s,v),_e&&_e.m(s,null),w(s,$),w(s,y),ze(b,y,null),w(y,z),w(y,B),A(B,e[70].p),w(y,E),w(y,H);for(let e=0;e<He.length;e+=1)He[e].m(H,null);T(H,e[70].p),w(y,F),ze(O,y,null),w(y,D),ze(P,y,null),w(y,J),ze(R,y,null),w(y,N),ze(K,y,null),w(s,U),w(s,Z),ze(V,Z,null),Q=!0,ee||(le=[S(t,"click",ar),S(u,"change",de),S(u,"input",dr),S(B,"input",Be),S(B,"input",Se),S(B,"focus",Ee),S(B,"blur",e[52]),S(H,"change",Ie),S(H,"change",Ae),S(H,"focus",Le),S(H,"blur",e[56])],ee=!0)},p(t,n){if(e=t,(!Q||4&n[0])&&ie!==(ie=(e[2].charges.length>1?e[72]+1:"")+"")&&I(l,ie),128&n[0]){let t;for(ce=e[7],t=0;t<ce.length;t+=1){const l=hi(e,ce,t);ae[t]?ae[t].p(l,n):(ae[t]=Yi(l),ae[t].c(),ae[t].m(u,null))}for(;t<ae.length;t+=1)ae[t].d(1);ae.length=ce.length}132&n[0]&&T(u,e[70].type),e[0].division?ue?ue.p(e,n):(ue=Qi(e),ue.c(),ue.m(a,p)):ue&&(ue.d(1),ue=null);const i={};if(4&n[0]&&(i.el=e[70]),!m&&4&n[0]&&(m=!0,i.els=e[2].charges,ne((()=>m=!1))),h.$set(i),37&n[0]){const t=Object.keys(rt[e[70].type]).map(ye);fe(),re=xe(re,n,ke,1,e,t,oe,c,we,tr,null,pi),pe()}4&n[0]&&(se=!ur(e[70].charge)&&"counter"!==e[70].layer),se?_e?(_e.p(e,n),4&n[0]&&he(_e,1)):(_e=nr(e),_e.c(),he(_e,1),_e.m(s,$)):_e&&(fe(),me(_e,1,1,(()=>{_e=null})),pe());const r={};if(1024&n[3]&&(r.$$scope={dirty:n,ctx:e}),b.$set(r),132&n[0]&&B.value!==e[70].p&&A(B,e[70].p),0&n){let t;for(Me=et,t=0;t<Me.length;t+=1){const l=fi(e,Me,t);He[t]?He[t].p(l,n):(He[t]=ir(l),He[t].c(),He[t].m(H,null))}for(;t<He.length;t+=1)He[t].d(1);He.length=Me.length}132&n[0]&&T(H,e[70].p);const o={};1024&n[3]&&(o.$$scope={dirty:n,ctx:e}),O.$set(o);const d={};!G&&4&n[0]&&(G=!0,d.checked=e[70].sinister,ne((()=>G=!1))),P.$set(d);const f={};1024&n[3]&&(f.$$scope={dirty:n,ctx:e}),R.$set(f);const g={};!W&&4&n[0]&&(W=!0,g.checked=e[70].reversed,ne((()=>W=!1))),K.$set(g);const v={};!Y&&4&n[0]&&(Y=!0,v.e=e[70],ne((()=>Y=!1))),V.$set(v)},i(e){if(!Q){r||te((()=>{r=ve(t,We,{}),r.start()})),he(h.$$.fragment,e);for(let e=0;e<be.length;e+=1)he(re[e]);he(_e),he(b.$$.fragment,e),he(O.$$.fragment,e),he(P.$$.fragment,e),he(R.$$.fragment,e),he(K.$$.fragment,e),he(V.$$.fragment,e),Q=!0}},o(e){me(h.$$.fragment,e);for(let e=0;e<re.length;e+=1)me(re[e]);me(_e),me(b.$$.fragment,e),me(O.$$.fragment,e),me(P.$$.fragment,e),me(R.$$.fragment,e),me(K.$$.fragment,e),me(V.$$.fragment,e),Q=!1},d(e){e&&x(t),e&&x(o),e&&x(s),q(ae,e),ue&&ue.d(),Ce(h);for(let e=0;e<re.length;e+=1)re[e].d();_e&&_e.d(),Ce(b),q(He,e),Ce(O),Ce(P),Ce(R),Ce(K),Ce(V),ee=!1,i(le)}}}function cr(t){let n,l,r,s,c,a,d,u,f,p,h,m,g,v,$,y,b,z,C,B,E,H,I,A,T,F,D,P,G,J,R,N,K,W,U=t[0],Z=[],V=new Map,Y=Ci(t);function Q(e){t[13].call(null,e)}let ee={updateSection:dr};void 0!==t[2].field.type&&(ee.type=t[2].field.type),u=new Ol({props:ee}),X.push((()=>qe(u,"type",Q)));let le="tincture"!==t[2].field.type&&_i(t);function ie(e){t[15].call(null,e)}let re={itemSize:t[5]};void 0!==t[2].field.t1&&(re.t1=t[2].field.t1),g=new Wl({props:re}),X.push((()=>qe(g,"t1",ie)));let oe="tincture"!==t[2].field.type&&Bi(t),se="pattern"===t[2].field.type&&Si(t),ce="semy"===t[2].field.type&&Mi(t),ae=["no"].concat(Object.keys(lt.variants)).map(t[22]);const de=e=>e[0];for(let e=0;e<ae.length;e+=1){let n=xi(t,ae,e),l=de(n);V.set(l,Z[e]=Ai(l,n))}let ue=lt[t[0].division?.division]&&Li(t),ge=t[0].division&&Fi(t),$e=t[2].ordinaries,ye=[];for(let e=0;e<$e.length;e+=1)ye[e]=Vi($i(t,$e,e));const be=e=>me(ye[e],1,1,(()=>{ye[e]=null}));let ke=t[2].charges,_e=[];for(let e=0;e<ke.length;e+=1)_e[e]=sr(mi(t,ke,e));const Be=e=>me(_e[e],1,1,(()=>{_e[e]=null}));return{c(){n=j("div"),Y.c(),l=_(),r=j("div"),s=j("div"),s.textContent="Field",c=_(),a=j("div"),d=j("div"),je(u.$$.fragment),p=_(),le&&le.c(),h=_(),m=j("div"),je(g.$$.fragment),$=_(),oe&&oe.c(),y=_(),se&&se.c(),b=_(),ce&&ce.c(),z=_(),C=j("div"),C.textContent="Division",B=_(),E=j("div"),H=j("div");for(let e=0;e<Z.length;e+=1)Z[e].c();I=_(),ue&&ue.c(),A=_(),ge&&ge.c(),T=_();for(let e=0;e<ye.length;e+=1)ye[e].c();F=_();for(let e=0;e<_e.length;e+=1)_e[e].c();D=_(),P=j("div"),P.textContent="Add Ordinary",G=_(),J=j("div"),J.textContent="Add Charge",M(s,"class","section svelte-wnwq85"),O(s,"expanded",!1),M(d,"class","subsection svelte-wnwq85"),M(m,"class","subsection svelte-wnwq85"),M(a,"class","panel svelte-wnwq85"),M(C,"class","section svelte-wnwq85"),M(H,"class","subsection svelte-wnwq85"),M(E,"class","panel svelte-wnwq85"),M(P,"class","buttonLine svelte-wnwq85"),M(J,"class","buttonLine svelte-wnwq85"),M(r,"id","menu"),L(r,"width",t[1]+"%"),M(r,"class","svelte-wnwq85"),M(n,"id","editor"),M(n,"class","svelte-wnwq85")},m(e,i){k(e,n,i),Y.m(n,null),w(n,l),w(n,r),w(r,s),w(r,c),w(r,a),w(a,d),ze(u,d,null),w(d,p),le&&le.m(d,null),w(a,h),w(a,m),ze(g,m,null),w(a,$),oe&&oe.m(a,null),w(a,y),se&&se.m(a,null),w(a,b),ce&&ce.m(a,null),w(r,z),w(r,C),w(r,B),w(r,E),w(E,H);for(let e=0;e<Z.length;e+=1)Z[e].m(H,null);w(E,I),ue&&ue.m(E,null),w(E,A),ge&&ge.m(E,null),w(r,T);for(let e=0;e<ye.length;e+=1)ye[e].m(r,null);w(r,F);for(let e=0;e<_e.length;e+=1)_e[e].m(r,null);w(r,D),w(r,P),w(r,G),w(r,J),N=!0,K||(W=[S(s,"click",ar),S(C,"click",ar),S(H,"click",dr),S(P,"click",t[9]),S(J,"click",t[10])],K=!0)},p(t,i){1&i[0]&&o(U,U=t[0])?(fe(),me(Y,1,1,e),pe(),Y=Ci(t),Y.c(),he(Y),Y.m(n,l)):Y.p(t,i);const s={};!f&&4&i[0]&&(f=!0,s.type=t[2].field.type,ne((()=>f=!1))),u.$set(s),"tincture"!==t[2].field.type?le?(le.p(t,i),4&i[0]&&he(le,1)):(le=_i(t),le.c(),he(le,1),le.m(d,null)):le&&(fe(),me(le,1,1,(()=>{le=null})),pe());const c={};if(!v&&4&i[0]&&(v=!0,c.t1=t[2].field.t1,ne((()=>v=!1))),g.$set(c),"tincture"!==t[2].field.type?oe?(oe.p(t,i),4&i[0]&&he(oe,1)):(oe=Bi(t),oe.c(),he(oe,1),oe.m(a,y)):oe&&(fe(),me(oe,1,1,(()=>{oe=null})),pe()),"pattern"===t[2].field.type?se?(se.p(t,i),4&i[0]&&he(se,1)):(se=Si(t),se.c(),he(se,1),se.m(a,b)):se&&(fe(),me(se,1,1,(()=>{se=null})),pe()),"semy"===t[2].field.type?ce?(ce.p(t,i),4&i[0]&&he(ce,1)):(ce=Mi(t),ce.c(),he(ce,1),ce.m(a,null)):ce&&(fe(),me(ce,1,1,(()=>{ce=null})),pe()),37&i[0]){const e=["no"].concat(Object.keys(lt.variants)).map(t[22]);fe(),Z=xe(Z,i,de,1,t,e,V,H,we,Ai,null,xi),pe()}if(lt[t[0].division?.division]?ue?(ue.p(t,i),1&i[0]&&he(ue,1)):(ue=Li(t),ue.c(),he(ue,1),ue.m(E,A)):ue&&(fe(),me(ue,1,1,(()=>{ue=null})),pe()),t[0].division?ge?(ge.p(t,i),1&i[0]&&he(ge,1)):(ge=Fi(t),ge.c(),he(ge,1),ge.m(E,null)):ge&&(fe(),me(ge,1,1,(()=>{ge=null})),pe()),293&i[0]){let e;for($e=t[2].ordinaries,e=0;e<$e.length;e+=1){const n=$i(t,$e,e);ye[e]?(ye[e].p(n,i),he(ye[e],1)):(ye[e]=Vi(n),ye[e].c(),he(ye[e],1),ye[e].m(r,F))}for(fe(),e=$e.length;e<ye.length;e+=1)be(e);pe()}if(2221&i[0]){let e;for(ke=t[2].charges,e=0;e<ke.length;e+=1){const n=mi(t,ke,e);_e[e]?(_e[e].p(n,i),he(_e[e],1)):(_e[e]=sr(n),_e[e].c(),he(_e[e],1),_e[e].m(r,D))}for(fe(),e=ke.length;e<_e.length;e+=1)Be(e);pe()}(!N||2&i[0])&&L(r,"width",t[1]+"%")},i(e){if(!N){he(Y),he(u.$$.fragment,e),he(le),he(g.$$.fragment,e),he(oe),he(se),he(ce);for(let e=0;e<ae.length;e+=1)he(Z[e]);he(ue),he(ge);for(let e=0;e<$e.length;e+=1)he(ye[e]);for(let e=0;e<ke.length;e+=1)he(_e[e]);R||te((()=>{R=ve(r,Ke,{x:500,duration:1e3}),R.start()})),N=!0}},o(e){me(Y),me(u.$$.fragment,e),me(le),me(g.$$.fragment,e),me(oe),me(se),me(ce);for(let e=0;e<Z.length;e+=1)me(Z[e]);me(ue),me(ge),ye=ye.filter(Boolean);for(let e=0;e<ye.length;e+=1)me(ye[e]);_e=_e.filter(Boolean);for(let e=0;e<_e.length;e+=1)me(_e[e]);N=!1},d(e){e&&x(n),Y.d(e),Ce(u),le&&le.d(),Ce(g),oe&&oe.d(),se&&se.d(),ce&&ce.d();for(let e=0;e<Z.length;e+=1)Z[e].d();ue&&ue.d(),ge&&ge.d(),q(ye,e),q(_e,e),K=!1,i(W)}}}function ar(e){e.target.classList.toggle("expanded");const t=e.target.nextElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"}function dr(e){const t=e.currentTarget.closest(".panel");setTimeout((()=>t.style.maxHeight=t.scrollHeight+"px"),100)}function ur(e){const t=document.getElementById(e);return!!t&&"image"===t.tagName}function fr(e="no"){const t=e.split(/(?=[A-Z])/).join(" ");return t.charAt(0).toUpperCase()+t.slice(1)}function pr(e,t,n){let l,i,r,o,s,c;a(e,_t,(e=>n(3,l=e))),a(e,St,(e=>n(61,i=e))),a(e,$t,(e=>n(62,r=e))),a(e,xt,(e=>n(63,o=e))),a(e,qt,(e=>n(64,s=e))),a(e,Bt,(e=>n(65,c=e)));let{coa:d}=t,{c:u}=t;const f=Math.min(window.innerWidth,window.innerHeight),p=window.innerHeight/window.innerWidth,m=Math.round(.9*f);let g=window.innerWidth<600||p>1?100:Math.round(100*(1.05-p));g/100*window.innerWidth<300&&(g=100);const v=Math.floor(g/1e3*window.innerWidth-4),$=Object.keys(rt.types),y=Object.keys(it.lined).concat(Object.keys(it.straight));let b={},w=0;function k(){function e(e){return e?.includes("-")}function t(e){return"semy"===e?.slice(0,4)}function l(e){return e[0].split("_of_")[1]}function i(e){return $.find((t=>rt[t][e]))}function o(e){return i(l(e))}function s(e){return at("argent"===e||"or"===e?r.colours:r.metals)}return n(2,b.field=function(){const n=t(d.t1)?"semy":e(d.t1)?"pattern":"tincture";let i,r,c="vair",a="lozenge",u="conventional",f="standard";const p=d.t1.split("-");"tincture"===n?(i=d.t1,r=s(d.t1)):(i=p[1],r=p[2],f=p[3]||"standard");"pattern"===n?c=p[0]:"semy"===n&&(a=l(p),u=o(p));return{type:n,t1:i,t2:r,pattern:c,charge:a,semy:u,size:f}}(),b),n(2,b.division=function(){let n,i,r="tincture",c="no",a="straight",u="vair",f="lozenge",p="conventional",h="standard";if(d.division){const m=d.division.t.split("-");r=t(d.division.t)?"semy":e(d.division.t)?"pattern":"tincture",c=d.division.division,a=d.division.line||"straight",n="tincture"===r?d.division.t:m[1],i="tincture"===r?s(n):m[2],"pattern"===r&&(u=m[0]),"semy"===r&&(f=l(m),p=o(m)),h=m[3]||"standard"}else n=s(b.field.t1),i=s(n);return{division:c,line:a,type:r,t1:n,t2:i,pattern:u,charge:f,semy:p,size:h}}(),b),n(2,b.ordinaries=function(){if(!d.ordinaries)return[];return d.ordinaries.map((e=>{const{ordinary:t,t:n}=e,l=e.line||"straight",i=e.size||1,r=e.x||0,o=e.y||0,s=e.angle||0,c=e.divided||"";return s&&q(e),{ordinary:t,t:n,line:l,size:i,x:r,y:o,angle:s,divided:c}}))}(),b),n(2,b.charges=function(){if(!d.charges)return[];return d.charges.map((e=>{const{charge:t,t:n,p:l,size:r}=e,o=i(t),s=e.layer||"",c=e.sinister||!1,a=e.reversed||!1,d=e.x||0,u=e.y||0,f=e.angle||0;return f&&q(e),{charge:t,type:o,layer:s,t:n,p:l,size:r,sinister:c,reversed:a,x:d,y:u,angle:f}}))}(),b),b}function x(e){h(_t,l.transform=`rotate(${e.angle||0}) translate(${e.x||0}, ${e.y||0})`,l),h(_t,l.positions=e.p,l)}function q(e){h(_t,l.transform=`rotate(${e.angle||0})`,l)}h(_t,l.transform=null,l),h(_t,l.positions=null,l),"ontouchstart"in window||!d.ordinaries&&!d.charges||h(Bt,c={type:"info",text:"Drag to move, hold SHIFT and drag vertically to resize, hold CONTROL and drag horizontally to rotate",timeout:5e3},c);return e.$$set=e=>{"coa"in e&&n(0,d=e.coa),"c"in e&&n(12,u=e.c)},e.$$.update=()=>{if(4096&e.$$.dirty[0]&&k(),1073741824&e.$$.dirty[1]&&St.length()&&(n(0,d=JSON.parse(i[0])),k(),n(60,w=0)),4&e.$$.dirty[0])if("tincture"===b.field.type)n(0,d.t1=b.field.t1,d);else{const e=["semy"===b.field.type?"semy_of_"+b.field.charge:b.field.pattern,b.field.t1,b.field.t2];"standard"!==b.field.size&&e.push(b.field.size),n(0,d.t1=e.join("-"),d)}if(5&e.$$.dirty[0])if(b.division.division&&"no"!==b.division.division)if(n(0,d.division={division:b.division.division},d),lt[b.division.division]&&n(0,d.division.line=b.division.line,d),"tincture"===b.division.type)n(0,d.division.t=b.division.t1,d);else{const e=["semy"===b.division.type?"semy_of_"+b.division.charge:b.division.pattern,b.division.t1,b.division.t2];"standard"!==b.division.size&&e.push(b.division.size),n(0,d.division.t=e.join("-"),d)}else delete d.division;5&e.$$.dirty[0]&&(b.ordinaries.length?n(0,d.ordinaries=b.ordinaries.map((e=>{const t={ordinary:e.ordinary,t:e.t};return it.lined[e.ordinary]&&(t.line=e.line),d.division&&e.divided&&(t.divided=e.divided),e.size&&1!==e.size&&(t.size=e.size),(e.x||e.y)&&(t.x=e.x,t.y=e.y),e.angle&&(t.angle=e.angle),t})),d):delete d.ordinaries),5&e.$$.dirty[0]&&(b.charges.length?n(0,d.charges=b.charges.map((e=>{const t={charge:e.charge,t:e.t,p:e.p,size:e.size};return e.layer&&(t.layer=e.layer),e.sinister&&(t.sinister=1),e.reversed&&(t.reversed=1),(e.x||e.y)&&(t.x=e.x,t.y=e.y),e.angle&&(t.angle=e.angle),t})),d):delete d.charges),1&e.$$.dirty[0]|536870912&e.$$.dirty[1]&&(w&&St.add(JSON.stringify(d)),n(60,w=1)),2&e.$$.dirty[2]&&localStorage.setItem("grid",o),4&e.$$.dirty[2]&&localStorage.setItem("showGrid",s)},[d,g,b,l,m,v,["vair","vairInPale","vairEnPointe","ermine","chequy","lozengy","fusily","pally","barry","gemelles","bendy","bendySinister","palyBendy","pappellony","masoned","fretty"],$,y,function(){const e={ordinary:ct(y),t:at(r[at(r.charge)]),line:"straight",size:1,x:0,y:0,angle:0,divided:""};n(2,b.ordinaries=[...b.ordinaries,e],b)},function(){const e=at(rt.single),t={charge:at(rt[e]),t:at(r[at(r.charge)]),p:"e",type:e,size:1.5,sinister:!1,reversed:!1,x:0,y:0,angle:0,layer:""};n(2,b.charges=[...b.charges,t],b)},x,u,function(e){b.field.type=e,n(2,b)},function(e){b.field.size=e,n(2,b)},function(e){b.field.t1=e,n(2,b)},function(e){b.field.t2=e,n(2,b)},e=>new Object({t1:`${e}-${b.field.t1}-${b.field.t2}-${b.field.size}`,pattern:e}),e=>n(2,b.field.pattern=e.pattern,b),function(){b.field.semy=F(this),n(2,b),n(7,$)},e=>new Object({t1:`semy_of_${e}-${b.field.t1}-${b.field.t2}-${b.field.size}`,charge:e}),e=>n(2,b.field.charge=e.charge,b),e=>new Object({t1:d.t1,division:{division:e,t:d.division?d.division.t:b.division.t1,line:b.division.line}}),e=>n(2,b.division.division=e.division.division,b),e=>new Object({line:e,t1:d.t1,division:{division:b.division.division,t:d.division?d.division.t:b.division.t1,line:e}}),e=>n(2,b.division.line=e.line,b),function(e){b.division.type=e,n(2,b)},function(e){b.division.size=e,n(2,b)},function(e){b.division.t1=e,n(2,b)},function(e){b.division.t2=e,n(2,b)},e=>new Object({pattern:e,t1:`${e}-${b.division.t1}-${b.division.t2}-${b.division.size}`}),e=>n(2,b.division.pattern=e.pattern,b),function(){b.division.semy=F(this),n(2,b),n(7,$)},e=>new Object({t1:`semy_of_${e}-${b.division.t1}-${b.division.t2}-${b.division.size}`,charge:e}),e=>n(2,b.division.charge=e.charge,b),function(e){b.ordinaries=e,n(2,b)},function(e,t){e[t].divided=F(this),n(2,b),n(7,$)},(e,t)=>new Object({test:e,ordinary:t,t1:d.t1,division:d.division,ordinaries:[{ordinary:t,line:e.line,t:e.t,divided:e.divided}]}),(e,t,l,i)=>n(2,l[i].ordinary=t.ordinary,b),(e,t)=>new Object({line:t,t1:d.t1,division:d.division,ordinaries:[{ordinary:e.ordinary,line:t,t:e.t,divided:e.divided}]}),(e,t,l,i)=>n(2,l[i].line=t.line,b),function(e,t){t.t=e,n(2,b)},function(e,t,l,i){l[i]=e,n(2,b)},function(e,t){e[t].type=F(this),n(2,b),n(7,$)},function(e,t){e[t].layer=F(this),n(2,b),n(7,$)},function(e){b.charges=e,n(2,b)},(e,t)=>new Object({c:t,t1:d.t1,charges:[{charge:t,t:e.t,p:"e",size:1.5,sinister:e.sinister,reversed:e.reversed}]}),(e,t,l,i)=>n(2,l[i].charge=t.c,b),function(e,t){t.t=e,n(2,b)},function(e,t){e[t].p=this.value,n(2,b),n(7,$)},e=>x(e),e=>x(e),()=>h(_t,l.positions=0,l),function(e,t){e[t].p=F(this),n(2,b),n(7,$)},(e,t,l)=>{n(2,t[l].size=ui(e.p,b.ordinaries[0]?.ordinary),b),x(e)},e=>x(e),()=>h(_t,l.positions=0,l),function(e,t){t.sinister=e,n(2,b)},function(e,t){t.reversed=e,n(2,b)},function(e,t,l,i){l[i]=e,n(2,b)}]}class hr extends Se{constructor(e){super(),Be(this,e,pr,cr,o,{coa:0,c:12},[-1,-1,-1,-1])}}function mr(e,t,n){const l=e.slice();return l[13]=t[n],l[15]=n,l}function gr(e){let t,n;return t=new Hl({props:{coa:e[13],i:e[15],w:e[0],h:e[1]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};4&n&&(l.coa=e[13]),1&n&&(l.w=e[0]),2&n&&(l.h=e[1]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function vr(t){let n,l,r,s,c,a,d,u,f,p,h,m,g,v,$,y=t[13],b=gr(t);function q(...e){return t[6](t[15],...e)}function C(...e){return t[7](t[15],...e)}function B(...e){return t[8](t[15],...e)}return{c(){n=j("div"),b.c(),l=_(),r=j("div"),s=z("svg"),c=z("use"),a=_(),d=z("svg"),u=z("use"),f=_(),p=z("svg"),h=z("use"),m=_(),M(c,"href","#dice-icon"),M(s,"class","svelte-17ll1nv"),M(u,"href","#pencil-icon"),M(d,"class","svelte-17ll1nv"),M(h,"href","#download-icon"),M(p,"class","svelte-17ll1nv"),M(r,"class","control svelte-17ll1nv"),M(n,"class","svelte-17ll1nv")},m(e,t){k(e,n,t),b.m(n,null),w(n,l),w(n,r),w(r,s),w(s,c),w(r,a),w(r,d),w(d,u),w(r,f),w(r,p),w(p,h),w(n,m),g=!0,v||($=[S(s,"click",q),S(d,"click",C),S(p,"click",B)],v=!0)},p(i,r){t=i,4&r&&o(y,y=t[13])?(fe(),me(b,1,1,e),pe(),b=gr(t),b.c(),he(b),b.m(n,l)):b.p(t,r)},i(e){g||(he(b),g=!0)},o(e){me(b),g=!1},d(e){e&&x(n),b.d(e),v=!1,i($)}}}function $r(e){let t,n,l,i=e[2],r=[];for(let t=0;t<i.length;t+=1)r[t]=vr(mr(e,i,t));const o=e=>me(r[e],1,1,(()=>{r[e]=null}));return{c(){t=j("div");for(let e=0;e<r.length;e+=1)r[e].c();M(t,"id","gallery"),L(t,"font-size",Math.ceil(e[0]/20)+"px"),M(t,"class","svelte-17ll1nv")},m(e,n){k(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null);l=!0},p(e,[n]){if(31&n){let l;for(i=e[2],l=0;l<i.length;l+=1){const o=mr(e,i,l);r[l]?(r[l].p(o,n),he(r[l],1)):(r[l]=vr(o),r[l].c(),he(r[l],1),r[l].m(t,null))}for(fe(),l=i.length;l<r.length;l+=1)o(l);pe()}(!l||1&n)&&L(t,"font-size",Math.ceil(e[0]/20)+"px")},i(e){if(!l){for(let e=0;e<i.length;e+=1)he(r[e]);te((()=>{n||(n=$e(t,Ne,{},!0)),n.run(1)})),l=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)me(r[e]);n||(n=$e(t,Ne,{},!1)),n.run(0),l=!1},d(e){e&&x(t),q(r,e),e&&n&&n.end()}}}function yr(e,t,n){let l,i,r,o;a(e,jt,(e=>n(9,l=e))),a(e,Ct,(e=>n(10,i=e))),a(e,zt,(e=>n(11,r=e))),a(e,_t,(e=>n(12,o=e)));let{gallery:s}=t,{w:c}=t,{h:d}=t;function u(e){const t=di();n(5,s[e]=l.length,s),h(Ct,i++,i),h(zt,r[i]=s,r),l.push(t),n(2,p[e]=t,p)}function f(e){h(_t,o.edit=1,o),h(_t,o.c=s[e],o),h(_t,o.i=e,o)}let p;return e.$$set=e=>{"gallery"in e&&n(5,s=e.gallery),"w"in e&&n(0,c=e.w),"h"in e&&n(1,d=e.h)},e.$$.update=()=>{544&e.$$.dirty&&n(2,p=s.map((e=>{let t=l[e]||di();return l[e]||h(jt,l[e]=t,l),t})))},[c,d,p,u,f,s,e=>u(e),e=>f(e),e=>Ht(e)]}class br extends Se{constructor(e){super(),Be(this,e,yr,$r,o,{gallery:5,w:0,h:1})}}const wr=e=>({dragging:2&e}),kr=e=>({dragging:e[1]});function xr(e,t,n){const l=e.slice();return l[23]=t[n],l}function qr(e){let t,n,l,i,r,o;const s=e[12].default,c=d(s,e,e[11],kr),a=c||function(e){let t;return{c(){t=j("div"),t.textContent="Drag & Drop image here or browse"},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}();return{c(){t=j("label"),a&&a.c(),n=_(),l=j("input"),M(l,"type","file"),M(l,"accept","image/*"),M(l,"class","svelte-15uqup1"),M(t,"class","dragging svelte-15uqup1")},m(s,c){k(s,t,c),a&&a.m(t,null),w(t,n),w(t,l),i=!0,r||(o=S(l,"input",e[9](Br)),r=!0)},p(e,t){c&&c.p&&2050&t&&f(c,s,e,e[11],t,wr,kr)},i(e){i||(he(a,e),i=!0)},o(e){me(a,e),i=!1},d(e){e&&x(t),a&&a.d(e),r=!1,o()}}}function jr(t){let n,l,r,o,s,c,a,d,u,f,p,h,m,g,v,$,y,b,C,B,E,I,L,F,O,D,P,G,J,R,N,K,W,U,Z,X,V,Y,Q,ee,ne,le,ie=Object.keys(t[0].types),re=[];for(let e=0;e<ie.length;e+=1)re[e]=zr(xr(t,ie,e));return{c(){n=j("div"),l=j("div"),r=j("div"),r.textContent="Size:",o=j("input"),s=_(),c=j("div"),a=j("div"),a.textContent="Offset X:",d=j("input"),u=_(),f=j("div"),p=j("div"),p.textContent="Offset Y:",h=j("input"),m=_(),g=j("div"),v=z("svg"),$=z("g"),y=z("rect"),b=z("image"),L=z("rect"),F=z("g"),O=z("path"),D=_(),P=j("div"),G=j("div"),J=j("div"),J.textContent="Name:",R=j("input"),N=_(),K=j("div"),W=j("div"),W.textContent="Category:",U=_(),Z=j("select");for(let e=0;e<re.length;e+=1)re[e].c();X=_(),V=j("div"),Y=j("button"),Y.textContent="Add",Q=_(),ee=j("button"),ee.textContent="Cancel",M(r,"class","label"),M(o,"type","number"),M(o,"class","svelte-15uqup1"),M(a,"class","label"),M(d,"type","number"),M(d,"class","svelte-15uqup1"),M(p,"class","label"),M(h,"type","number"),M(h,"class","svelte-15uqup1"),M(n,"class","input"),M(y,"x","0"),M(y,"y","0"),M(y,"width","100%"),M(y,"height","100%"),M(y,"fill","#377cd7"),M(b,"id","imageLoaded"),M(b,"x",C=(100-t[3])/2+t[4]+"%"),M(b,"y",B=(100-t[3])/2+t[5]+"%"),M(b,"width",E=t[3]+"%"),M(b,"height",I=t[3]+"%"),M(L,"x","30%"),M(L,"y","30%"),M(L,"width","40%"),M(L,"height","40%"),M(L,"fill","none"),M(L,"stroke","#000"),M(L,"stroke-width",".5"),M(O,"d","M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z"),M(F,"stroke","#000"),M(F,"fill","url(#backlight)"),M($,"clip-path","url(#heater)"),M($,"stroke","#fff"),M($,"stroke-width",".5"),M(v,"width","100%"),M(v,"height","100%"),M(v,"viewBox","0 0 200 200"),M(g,"class","exampleCOA svelte-15uqup1"),M(J,"class","label"),M(R,"placeholder","Charge name"),R.required=!0,M(R,"class","svelte-15uqup1"),M(W,"class","label"),M(Z,"class","svelte-15uqup1"),void 0===t[7]&&te((()=>t[18].call(Z))),M(Y,"class","svelte-15uqup1"),M(ee,"class","svelte-15uqup1"),M(V,"class","buttons svelte-15uqup1"),M(P,"class","output")},m(e,i){k(e,n,i),w(n,l),w(l,r),w(l,o),A(o,t[3]),w(n,s),w(n,c),w(c,a),w(c,d),A(d,t[4]),w(n,u),w(n,f),w(f,p),w(f,h),A(h,t[5]),k(e,m,i),k(e,g,i),w(g,v),w(v,$),w($,y),w($,b),w($,L),w($,F),w(F,O),k(e,D,i),k(e,P,i),w(P,G),w(G,J),w(G,R),A(R,t[6]),w(P,N),w(P,K),w(K,W),w(K,U),w(K,Z);for(let e=0;e<re.length;e+=1)re[e].m(Z,null);T(Z,t[7]),w(P,X),w(P,V),w(V,Y),w(V,Q),w(V,ee),ne||(le=[S(o,"input",t[14]),S(d,"input",t[15]),S(h,"input",t[16]),S(R,"input",t[17]),S(Z,"change",t[18]),S(Y,"click",t[10]),S(ee,"click",t[19])],ne=!0)},p(e,t){if(8&t&&H(o.value)!==e[3]&&A(o,e[3]),16&t&&H(d.value)!==e[4]&&A(d,e[4]),32&t&&H(h.value)!==e[5]&&A(h,e[5]),24&t&&C!==(C=(100-e[3])/2+e[4]+"%")&&M(b,"x",C),40&t&&B!==(B=(100-e[3])/2+e[5]+"%")&&M(b,"y",B),8&t&&E!==(E=e[3]+"%")&&M(b,"width",E),8&t&&I!==(I=e[3]+"%")&&M(b,"height",I),64&t&&R.value!==e[6]&&A(R,e[6]),1&t){let n;for(ie=Object.keys(e[0].types),n=0;n<ie.length;n+=1){const l=xr(e,ie,n);re[n]?re[n].p(l,t):(re[n]=zr(l),re[n].c(),re[n].m(Z,null))}for(;n<re.length;n+=1)re[n].d(1);re.length=ie.length}129&t&&T(Z,e[7])},i:e,o:e,d(e){e&&x(n),e&&x(m),e&&x(g),e&&x(D),e&&x(P),q(re,e),ne=!1,i(le)}}}function zr(e){let t,n,l,i=e[23]+"";return{c(){t=j("option"),n=C(i),t.__value=l=e[23],t.value=t.__value},m(e,l){k(e,t,l),w(t,n)},p(e,r){1&r&&i!==(i=e[23]+"")&&I(n,i),1&r&&l!==(l=e[23])&&(t.__value=l,t.value=t.__value)},d(e){e&&x(t)}}}function Cr(e){let t,n,l,r,o,s,c,a,d;const u=[jr,qr],f=[];function p(e,t){return e[2]?0:1}return o=p(e),s=f[o]=u[o](e),{c(){t=j("div"),n=j("span"),n.textContent="×",l=_(),r=j("div"),s.c(),M(n,"class","close svelte-15uqup1"),M(r,"class","container svelte-15uqup1"),M(t,"id","rasterUpload"),M(t,"class","svelte-15uqup1")},m(i,s){k(i,t,s),w(t,n),w(t,l),w(t,r),f[o].m(r,null),c=!0,a||(d=[S(n,"click",e[13]),S(t,"drop",E(e[9](_r))),S(t,"dragover",E(e[20])),S(t,"dragleave",E(e[21]))],a=!0)},p(e,[t]){let n=o;o=p(e),o===n?f[o].p(e,t):(fe(),me(f[n],1,1,(()=>{f[n]=null})),pe(),s=f[o],s||(s=f[o]=u[o](e),s.c()),he(s,1),s.m(r,null))},i(e){c||(he(s),c=!0)},o(e){me(s),c=!1},d(e){e&&x(t),f[o].d(),a=!1,i(d)}}}function _r({dataTransfer:{files:e,items:t}}){return e.length?[...e]:t.filter((({kind:e})=>"file"===e)).map((({getAsFile:e})=>e()))}function Br({target:e}){const t=e.files?[...e.files]:[];return e.value="",t}function Sr(e,t,n){let l,i;a(e,Bt,(e=>n(22,l=e))),a(e,_t,(e=>n(8,i=e)));let r,{$$slots:o={},$$scope:s}=t,c=!1,d=!1,u=50,f=0,p=0,m="uploaded";return e.$$set=e=>{"$$scope"in e&&n(11,s=e.$$scope)},[rt,c,d,u,f,p,r,m,i,e=>t=>{n(1,c=!1);const i=e(t),o=i.length?i[0]:[];o.type.match(/image.*/)?(n(2,d=!0),h(Bt,l={type:"info",text:"Fit image into the rectangle for best result"},l),n(6,r=ut(o.name)),function(e){const t=new FileReader;t.onload=function(e){const t=e.target.result;document.getElementById("rasterUpload").querySelector("svg image").setAttribute("href",t)},t.readAsDataURL(e)}(o)):h(Bt,l={type:"error",text:"Not an image file!"},l)},function(){if(n(6,r=ut(r)),!r||document.getElementById(r))return void h(Bt,l={type:"error",text:"Name must be unique id!"},l);rt.types[m]||n(0,rt.types[m]=6,rt),rt.single[m]||n(0,rt.single[m]=6,rt),n(0,rt[m][r]=5,rt),delete rt.types.array,delete rt.single.array,delete rt[m].array;const e=document.getElementById("rasterUpload").querySelector("svg image").cloneNode(!0);e.id=r,document.getElementById("charges").appendChild(e),n(2,d=!1),h(_t,i.raster=0,i)},s,o,()=>h(_t,i.raster=0,i),function(){u=H(this.value),n(3,u)},function(){f=H(this.value),n(4,f)},function(){p=H(this.value),n(5,p)},function(){r=this.value,n(6,r)},function(){m=F(this),n(7,m),n(0,rt)},()=>n(2,d=!1),()=>n(1,c=!0),()=>n(1,c=!1)]}class Er extends Se{constructor(e){super(),Be(this,e,Sr,Cr,o,{})}}const Mr=e=>({dragging:2&e}),Hr=e=>({dragging:e[1]});function Ir(e,t,n){const l=e.slice();return l[23]=t[n],l}function Ar(e,t,n){const l=e.slice();return l[26]=t[n],l}function Lr(e){let t,n,l,i,r,o;const s=e[12].default,c=d(s,e,e[11],Hr),a=c||function(e){let t;return{c(){t=j("div"),t.textContent="Drag & Drop image here or browse"},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}();return{c(){t=j("label"),a&&a.c(),n=_(),l=j("input"),M(l,"type","file"),M(l,"accept","image/svg, text/plain"),M(l,"class","svelte-1lz55sy"),M(t,"class","dragging svelte-1lz55sy")},m(s,c){k(s,t,c),a&&a.m(t,null),w(t,n),w(t,l),i=!0,r||(o=S(l,"input",e[9](Gr)),r=!0)},p(e,t){c&&c.p&&2050&t&&f(c,s,e,e[11],t,Mr,Hr)},i(e){i||(he(a,e),i=!0)},o(e){me(a,e),i=!1},d(e){e&&x(t),a&&a.d(e),r=!1,o()}}}function Tr(t){let n,l,r,o,s,c,a,d,u,f,p,h,m,g,v,$,y,b,C,B,E,H,I,L,F,O,D,P,G,J,R,N,K,W=["argent","or","gules","sable","azure","vert","purpure"],U=[];for(let e=0;e<7;e+=1)U[e]=Fr(Ar(t,W,e));let Z=Object.keys(t[0].types),X=[];for(let e=0;e<Z.length;e+=1)X[e]=Or(Ir(t,Z,e));return{c(){n=j("div"),l=j("div"),l.textContent="SVG Markup:",r=_(),o=j("textarea"),s=_(),c=j("div"),a=j("button"),a.textContent="Download Template",d=_(),u=j("div"),f=z("svg"),p=_(),h=j("div"),m=j("div"),g=j("div"),g.textContent="Tincture:",v=_(),$=j("select");for(let e=0;e<7;e+=1)U[e].c();y=_(),b=j("div"),C=j("div"),C.textContent="Name:",B=_(),E=j("input"),H=_(),I=j("div"),L=j("div"),L.textContent="Category:",F=_(),O=j("select");for(let e=0;e<X.length;e+=1)X[e].c();D=_(),P=j("div"),G=j("button"),G.textContent="Add",J=_(),R=j("button"),R.textContent="Cancel",M(l,"class","label"),M(o,"rows","10"),M(o,"cols","30"),M(o,"class","svelte-1lz55sy"),M(n,"class","input svelte-1lz55sy"),M(f,"width","100%"),M(f,"height","100%"),M(f,"fill",t[6]),M(f,"viewBox","50 50 100 100"),M(u,"class","exampleCOA svelte-1lz55sy"),M(g,"class","label"),M($,"class","svelte-1lz55sy"),void 0===t[6]&&te((()=>t[15].call($))),M(C,"class","label"),M(E,"placeholder","Charge name"),E.required=!0,M(E,"class","svelte-1lz55sy"),M(L,"class","label"),M(O,"class","svelte-1lz55sy"),void 0===t[5]&&te((()=>t[17].call(O))),M(h,"class","output svelte-1lz55sy")},m(e,i){k(e,n,i),w(n,l),w(n,r),w(n,o),A(o,t[3]),w(n,s),w(n,c),w(c,a),k(e,d,i),k(e,u,i),w(u,f),f.innerHTML=t[3],k(e,p,i),k(e,h,i),w(h,m),w(m,g),w(m,v),w(m,$);for(let e=0;e<7;e+=1)U[e].m($,null);T($,t[6]),w(h,y),w(h,b),w(b,C),w(b,B),w(b,E),A(E,t[4]),w(h,H),w(h,I),w(I,L),w(I,F),w(I,O);for(let e=0;e<X.length;e+=1)X[e].m(O,null);T(O,t[5]),w(h,D),w(h,P),w(P,G),w(P,J),w(P,R),N||(K=[S(o,"input",t[14]),S(a,"click",Jr),S($,"change",t[15]),S(E,"input",t[16]),S(O,"change",t[17]),S(G,"click",t[10]),S(R,"click",t[18])],N=!0)},p(e,t){if(8&t&&A(o,e[3]),8&t&&(f.innerHTML=e[3]),320&t&&M(f,"fill",e[6]),256&t){let n;for(W=["argent","or","gules","sable","azure","vert","purpure"],n=0;n<7;n+=1){const l=Ar(e,W,n);U[n]?U[n].p(l,t):(U[n]=Fr(l),U[n].c(),U[n].m($,null))}for(;n<7;n+=1)U[n].d(1)}if(320&t&&T($,e[6]),16&t&&E.value!==e[4]&&A(E,e[4]),1&t){let n;for(Z=Object.keys(e[0].types),n=0;n<Z.length;n+=1){const l=Ir(e,Z,n);X[n]?X[n].p(l,t):(X[n]=Or(l),X[n].c(),X[n].m(O,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=Z.length}33&t&&T(O,e[5])},i:e,o:e,d(e){e&&x(n),e&&x(d),e&&x(u),e&&x(p),e&&x(h),q(U,e),q(X,e),N=!1,i(K)}}}function Fr(e){let t,n,l;return{c(){t=j("option"),n=C(e[26]),t.__value=l=e[8][e[26]],t.value=t.__value},m(e,l){k(e,t,l),w(t,n)},p(e,n){256&n&&l!==(l=e[8][e[26]])&&(t.__value=l,t.value=t.__value)},d(e){e&&x(t)}}}function Or(e){let t,n,l,i=e[23]+"";return{c(){t=j("option"),n=C(i),t.__value=l=e[23],t.value=t.__value},m(e,l){k(e,t,l),w(t,n)},p(e,r){1&r&&i!==(i=e[23]+"")&&I(n,i),1&r&&l!==(l=e[23])&&(t.__value=l,t.value=t.__value)},d(e){e&&x(t)}}}function Dr(e){let t,n,l,r,o,s,c,a,d;const u=[Tr,Lr],f=[];function p(e,t){return e[2]?0:1}return o=p(e),s=f[o]=u[o](e),{c(){t=j("div"),n=j("span"),n.textContent="×",l=_(),r=j("div"),s.c(),M(n,"class","close svelte-1lz55sy"),M(r,"class","container svelte-1lz55sy"),M(t,"id","vectorUpload"),M(t,"class","svelte-1lz55sy")},m(i,s){k(i,t,s),w(t,n),w(t,l),w(t,r),f[o].m(r,null),c=!0,a||(d=[S(n,"click",e[13]),S(t,"drop",E(e[9](Pr))),S(t,"dragover",E(e[19])),S(t,"dragleave",E(e[20]))],a=!0)},p(e,[t]){let n=o;o=p(e),o===n?f[o].p(e,t):(fe(),me(f[n],1,1,(()=>{f[n]=null})),pe(),s=f[o],s||(s=f[o]=u[o](e),s.c()),he(s,1),s.m(r,null))},i(e){c||(he(s),c=!0)},o(e){me(s),c=!1},d(e){e&&x(t),f[o].d(),a=!1,i(d)}}}function Pr({dataTransfer:{files:e,items:t}}){return e.length?[...e]:t.filter((({kind:e})=>"file"===e)).map((({getAsFile:e})=>e()))}function Gr({target:e}){const t=e.files?[...e.files]:[];return e.value="",t}function Jr(){fetch("charges/template.svg").then((e=>e.blob().then((e=>{const t=document.createElement("a");t.href=URL.createObjectURL(e),t.setAttribute("download","armoriaChargeTemplate.txt"),t.click()}))))}function Rr(e,t,n){let l,i,r;a(e,Bt,(e=>n(21,l=e))),a(e,_t,(e=>n(7,i=e))),a(e,vt,(e=>n(8,r=e)));let o,s,{$$slots:c={},$$scope:d}=t,u=!1,f=!1,p="uploaded",m="#d7374a";return e.$$set=e=>{"$$scope"in e&&n(11,d=e.$$scope)},[rt,u,f,o,s,p,m,i,r,e=>t=>{n(1,u=!1);const i=e(t),r=i.length?i[0]:[];r.type.match(/text.*|svg.*/)?(n(2,f=!0),n(4,s=ut(r.name)),function(e){const t=new FileReader;t.onload=function(e){const t=e.target.result,i=document.createElement("html");i.innerHTML=t;const r=i.querySelector("g");if(!r)return h(Bt,l={type:"error",text:"File must be prepared svg. Download template for guidance!"},l),void n(2,f=!1);n(3,o=r.outerHTML)},t.readAsText(e)}(r)):h(Bt,l={type:"error",text:"File must be text or svg!"},l)},function(){if(n(4,s=ut(s)),!s||document.getElementById(s))return void h(Bt,l={type:"error",text:"Name must be unique id!"},l);rt.types[p]||n(0,rt.types[p]=6,rt),rt.single[p]||n(0,rt.single[p]=6,rt),n(0,rt[p][s]=5,rt);const e=document.createElement("html");e.innerHTML=o;const t=e.querySelector("g");t.id=s,defs.insertAdjacentHTML("beforeend",t.outerHTML),n(2,f=!1),h(_t,i.vector=0,i)},d,c,()=>h(_t,i.vector=0,i),function(){o=this.value,n(3,o)},function(){m=F(this),n(6,m)},function(){s=this.value,n(4,s)},function(){p=F(this),n(5,p),n(0,rt)},()=>n(2,f=!1),()=>n(1,u=!0),()=>n(1,u=!1)]}class Nr extends Se{constructor(e){super(),Be(this,e,Rr,Dr,o,{})}}function Kr(e,t,n){const l=getComputedStyle(e),i="none"===l.transform?"":l.transform,o=t.from.width/e.clientWidth,s=t.from.height/e.clientHeight,c=(t.from.left-t.to.left)/o,a=(t.from.top-t.to.top)/s,d=Math.sqrt(c*c+a*a),{delay:u=0,duration:f=(e=>120*Math.sqrt(e)),easing:p=Re}=n;return{delay:u,duration:r(f)?f(d):f,easing:p,css:(e,t)=>`transform: ${i} translate(${t*c}px, ${t*a}px);`}}function Wr(e,t,n){const l=e.slice();return l[35]=t[n],l[36]=t,l[37]=n,l}function Ur(t){let n,l,i;return{c(){n=j("button"),n.textContent="Add Tincture",M(n,"class","svelte-1okvrt6")},m(e,r){k(e,n,r),l||(i=S(n,"click",t[7]),l=!0)},p:e,d(e){e&&x(n),l=!1,i()}}}function Zr(t){let n,l,i;return{c(){n=j("button"),n.textContent="Apply Tincture",M(n,"class","svelte-1okvrt6")},m(e,r){k(e,n,r),l||(i=S(n,"click",t[9]),l=!0)},p:e,d(e){e&&x(n),l=!1,i()}}}function Xr(e){let t,n,l,r,o,s,c,a,d,u,f,p,h,m,g,v,$,y,b,q,z,C;return{c(){t=j("tr"),n=j("td"),l=j("input"),r=_(),o=j("td"),s=j("select"),c=j("option"),c.textContent="Metals",a=j("option"),a.textContent="Colours",d=j("option"),d.textContent="Stains",u=_(),f=j("td"),p=j("input"),h=_(),m=j("td"),g=j("input"),v=_(),$=j("td"),y=j("span"),y.textContent="×",M(l,"type","text"),M(l,"placeholder","Tincture"),M(l,"class","svelte-1okvrt6"),M(n,"class","svelte-1okvrt6"),c.__value="metals",c.value=c.__value,a.__value="colours",a.value=a.__value,d.__value="stains",d.value=d.__value,void 0===e[0].type&&te((()=>e[25].call(s))),M(o,"class","svelte-1okvrt6"),M(p,"type","color"),M(p,"class","svelte-1okvrt6"),M(f,"class","svelte-1okvrt6"),M(g,"type","number"),M(g,"min","0"),M(g,"max","100"),M(g,"step","1"),M(g,"class","svelte-1okvrt6"),M(m,"class","svelte-1okvrt6"),M(y,"class","actionButton svelte-1okvrt6"),M($,"class","svelte-1okvrt6")},m(i,b){k(i,t,b),w(t,n),w(n,l),A(l,e[0].name),w(t,r),w(t,o),w(o,s),w(s,c),w(s,a),w(s,d),T(s,e[0].type),w(t,u),w(t,f),w(f,p),A(p,e[0].color),w(t,h),w(t,m),w(m,g),A(g,e[0].chance),w(t,v),w(t,$),w($,y),q=!0,z||(C=[S(l,"input",e[24]),S(s,"change",e[25]),S(p,"input",e[26]),S(g,"input",e[27]),S(y,"click",e[8])],z=!0)},p(e,t){1&t[0]&&l.value!==e[0].name&&A(l,e[0].name),1&t[0]&&T(s,e[0].type),1&t[0]&&A(p,e[0].color),1&t[0]&&H(g.value)!==e[0].chance&&A(g,e[0].chance)},i(e){q||(te((()=>{b||(b=$e(t,Ne,{},!0)),b.run(1)})),q=!0)},o(e){b||(b=$e(t,Ne,{},!1)),b.run(0),q=!1},d(e){e&&x(t),e&&b&&b.end(),z=!1,i(C)}}}function Vr(e){let t,n;return t=new Te({props:{tip:"Restore default color",$$slots:{default:[Yr]},$$scope:{ctx:e}}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};12&n[0]|128&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function Yr(e){let t,n,l,i;function r(...t){return e[29](e[35],...t)}return{c(){t=z("svg"),n=z("use"),M(n,"href","#undo-icon"),M(t,"width","12"),M(t,"height","12"),M(t,"fill","#fff")},m(e,o){k(e,t,o),w(t,n),l||(i=S(t,"click",r),l=!0)},p(t,n){e=t},d(e){e&&x(t),l=!1,i()}}}function Qr(n,l){let r,o,s,c,a,d,u,f,p,h,m,v,$,y,q,z,B,E,L,T,F,O,D,P,G,J=l[35].t+"",W=l[35].type+"",U=l[5](l[35].type)+"",Z=e;function X(){l[28].call(p,l[35])}let V=Ye[l[35].t]&&l[3][l[35].t]!==Ye[l[35].t]&&Vr(l);function Y(){l[30].call($,l[35])}function Q(...e){return l[31](l[35],...e)}return{key:n,first:null,c(){r=j("tr"),o=j("td"),s=C(J),c=_(),a=j("td"),d=C(W),u=_(),f=j("td"),p=j("input"),h=_(),V&&V.c(),m=_(),v=j("td"),$=j("input"),y=_(),q=j("span"),z=C("/ "),B=C(U),E=_(),L=j("td"),T=j("span"),T.textContent="×",F=_(),M(o,"class","svelte-1okvrt6"),M(a,"class","svelte-1okvrt6"),M(p,"type","color"),M(p,"class","svelte-1okvrt6"),M(f,"class","svelte-1okvrt6"),M($,"type","number"),M($,"min","0"),M($,"max","100"),M($,"step","1"),M($,"class","svelte-1okvrt6"),M(q,"class","totalChance svelte-1okvrt6"),M(v,"class","svelte-1okvrt6"),M(T,"class","actionButton svelte-1okvrt6"),M(L,"class","svelte-1okvrt6"),this.first=r},m(e,t){k(e,r,t),w(r,o),w(o,s),w(r,c),w(r,a),w(a,d),w(r,u),w(r,f),w(f,p),A(p,l[3][l[35].t]),w(f,h),V&&V.m(f,null),w(r,m),w(r,v),w(v,$),A($,l[1][l[35].type][l[35].t]),w(v,y),w(v,q),w(q,z),w(q,B),w(r,E),w(r,L),w(L,T),w(r,F),D=!0,P||(G=[S(p,"input",X),S($,"input",Y),S(T,"click",Q)],P=!0)},p(e,t){l=e,(!D||4&t[0])&&J!==(J=l[35].t+"")&&I(s,J),(!D||4&t[0])&&W!==(W=l[35].type+"")&&I(d,W),12&t[0]&&A(p,l[3][l[35].t]),Ye[l[35].t]&&l[3][l[35].t]!==Ye[l[35].t]?V?(V.p(l,t),12&t[0]&&he(V,1)):(V=Vr(l),V.c(),he(V,1),V.m(f,null)):V&&(fe(),me(V,1,1,(()=>{V=null})),pe()),6&t[0]&&H($.value)!==l[1][l[35].type][l[35].t]&&A($,l[1][l[35].type][l[35].t]),(!D||4&t[0])&&U!==(U=l[5](l[35].type)+"")&&I(B,U)},r(){O=r.getBoundingClientRect()},f(){K(r),Z()},a(){Z(),Z=function(n,l,i,r){if(!l)return e;const o=n.getBoundingClientRect();if(l.left===o.left&&l.right===o.right&&l.top===o.top&&l.bottom===o.bottom)return e;const{delay:s=0,duration:c=300,easing:a=t,start:d=g()+s,end:u=d+c,tick:f=e,css:p}=i(n,{from:l,to:o},r);let h,m=!0,v=!1;function $(){p&&N(n,h),m=!1}return b((e=>{if(!v&&e>=d&&(v=!0),v&&e>=u&&(f(1,0),$()),!m)return!1;if(v){const t=0+1*a((e-d)/c);f(t,1-t)}return!0})),p&&(h=R(n,0,1,c,s,a,p)),s||(v=!0),f(0,1),$}(r,O,Kr,{})},i(e){D||(he(V),D=!0)},o(e){me(V),D=!1},d(e){e&&x(r),V&&V.d(),P=!1,i(G)}}}function eo(e){let t,n,l,r,o,s,c,a,d,u,f,p,h,m,g,v,$,y,b,q,z,C,B,E,I,L,T,F,O,D,P,G,J,R,N,K,W,U,Z,X,V,Y,Q,ee,ne,le,ie,re,oe,se,ce,ae,de,ue,ge,ve,ye,be,we,qe,je,ze,Ce,_e,Be,Se,Ee,Me,He=[],Ie=new Map;function Ae(e,t){return e[0].show?Zr:Ur}let Le=Ae(e),Te=Le(e),Fe=e[0].show&&Xr(e),Oe=e[2];const De=e=>e[35].t;for(let t=0;t<Oe.length;t+=1){let n=Wr(e,Oe,t),l=De(n);Ie.set(l,He[t]=Qr(l,n))}return{c(){t=j("div"),n=j("span"),n.textContent="×",l=_(),r=j("div"),o=j("div"),s=j("table"),c=j("thead"),c.innerHTML="<tr><th>Element</th> \n            <th>Metals</th> \n            <th>Colours</th> \n            <th>Stains</th> \n            <th>Patterns</th></tr>",a=_(),d=j("tbody"),u=j("tr"),f=j("td"),f.textContent="Field",p=_(),h=j("td"),m=j("input"),g=_(),v=j("td"),$=j("input"),y=_(),b=j("td"),q=j("input"),z=_(),C=j("td"),B=j("input"),E=_(),I=j("tr"),L=j("td"),L.textContent="Division",T=_(),F=j("td"),O=j("input"),D=_(),P=j("td"),G=j("input"),J=_(),R=j("td"),N=j("input"),K=_(),W=j("td"),U=j("input"),Z=_(),X=j("tr"),V=j("td"),V.textContent="Charge",Y=_(),Q=j("td"),ee=j("input"),ne=_(),le=j("td"),ie=j("input"),re=_(),oe=j("td"),se=j("input"),ce=_(),ae=j("td"),de=j("input"),ue=_(),ge=j("div"),Te.c(),ve=_(),ye=j("button"),ye.textContent="Restore Default",be=_(),we=j("div"),qe=j("table"),je=j("thead"),je.innerHTML="<tr><th>Tincture</th> \n            <th>Type</th> \n            <th>Color</th> \n            <th>Chance</th> \n            <th>Remove</th></tr>",ze=_(),Ce=j("tbody"),Fe&&Fe.c(),_e=_();for(let e=0;e<He.length;e+=1)He[e].c();M(n,"class","close svelte-1okvrt6"),M(f,"class","svelte-1okvrt6"),M(m,"type","number"),M(m,"min","0"),M(m,"max","100"),M(m,"step","1"),M(m,"class","svelte-1okvrt6"),M(h,"class","svelte-1okvrt6"),M($,"type","number"),M($,"min","0"),M($,"max","100"),M($,"step","1"),M($,"class","svelte-1okvrt6"),M(v,"class","svelte-1okvrt6"),M(q,"type","number"),M(q,"min","0"),M(q,"max","100"),M(q,"step","1"),M(q,"class","svelte-1okvrt6"),M(b,"class","svelte-1okvrt6"),M(B,"type","number"),M(B,"min","0"),M(B,"max","100"),M(B,"step","1"),M(B,"class","svelte-1okvrt6"),M(C,"class","svelte-1okvrt6"),M(L,"class","svelte-1okvrt6"),M(O,"type","number"),M(O,"min","0"),M(O,"max","100"),M(O,"step","1"),M(O,"class","svelte-1okvrt6"),M(F,"class","svelte-1okvrt6"),M(G,"type","number"),M(G,"min","0"),M(G,"max","100"),M(G,"step","1"),M(G,"class","svelte-1okvrt6"),M(P,"class","svelte-1okvrt6"),M(N,"type","number"),M(N,"min","0"),M(N,"max","100"),M(N,"step","1"),M(N,"class","svelte-1okvrt6"),M(R,"class","svelte-1okvrt6"),M(U,"type","number"),M(U,"min","0"),M(U,"max","100"),M(U,"step","1"),M(U,"class","svelte-1okvrt6"),M(W,"class","svelte-1okvrt6"),M(V,"class","svelte-1okvrt6"),M(ee,"type","number"),M(ee,"min","0"),M(ee,"max","100"),M(ee,"step","1"),M(ee,"class","svelte-1okvrt6"),M(Q,"class","svelte-1okvrt6"),M(ie,"type","number"),M(ie,"min","0"),M(ie,"max","100"),M(ie,"step","1"),M(ie,"class","svelte-1okvrt6"),M(le,"class","svelte-1okvrt6"),M(se,"type","number"),M(se,"min","0"),M(se,"max","100"),M(se,"step","1"),M(se,"class","svelte-1okvrt6"),M(oe,"class","svelte-1okvrt6"),M(de,"type","number"),M(de,"min","0"),M(de,"max","100"),M(de,"step","1"),M(de,"class","svelte-1okvrt6"),M(ae,"class","svelte-1okvrt6"),M(s,"class","svelte-1okvrt6"),M(ye,"class","svelte-1okvrt6"),M(ge,"class","contolButtons svelte-1okvrt6"),M(o,"id","left"),M(qe,"id","tincturesTable"),M(qe,"class","svelte-1okvrt6"),M(we,"id","right"),M(r,"id","tincturesCont"),M(r,"class","svelte-1okvrt6"),M(t,"id","tinctures"),M(t,"class","svelte-1okvrt6")},m(i,x){k(i,t,x),w(t,n),w(t,l),w(t,r),w(r,o),w(o,s),w(s,c),w(s,a),w(s,d),w(d,u),w(u,f),w(u,p),w(u,h),w(h,m),A(m,e[1].field.metals),w(u,g),w(u,v),w(v,$),A($,e[1].field.colours),w(u,y),w(u,b),w(b,q),A(q,e[1].field.stains),w(u,z),w(u,C),w(C,B),A(B,e[1].field.patterns),w(d,E),w(d,I),w(I,L),w(I,T),w(I,F),w(F,O),A(O,e[1].division.metals),w(I,D),w(I,P),w(P,G),A(G,e[1].division.colours),w(I,J),w(I,R),w(R,N),A(N,e[1].division.stains),w(I,K),w(I,W),w(W,U),A(U,e[1].division.patterns),w(d,Z),w(d,X),w(X,V),w(X,Y),w(X,Q),w(Q,ee),A(ee,e[1].charge.metals),w(X,ne),w(X,le),w(le,ie),A(ie,e[1].charge.colours),w(X,re),w(X,oe),w(oe,se),A(se,e[1].charge.stains),w(X,ce),w(X,ae),w(ae,de),A(de,e[1].charge.patterns),w(o,ue),w(o,ge),Te.m(ge,null),w(ge,ve),w(ge,ye),w(r,be),w(r,we),w(we,qe),w(qe,je),w(qe,ze),w(qe,Ce),Fe&&Fe.m(Ce,null),w(Ce,_e);for(let e=0;e<He.length;e+=1)He[e].m(Ce,null);Se=!0,Ee||(Me=[S(n,"click",e[11]),S(m,"input",e[12]),S($,"input",e[13]),S(q,"input",e[14]),S(B,"input",e[15]),S(O,"input",e[16]),S(G,"input",e[17]),S(N,"input",e[18]),S(U,"input",e[19]),S(ee,"input",e[20]),S(ie,"input",e[21]),S(se,"input",e[22]),S(de,"input",e[23]),S(ye,"click",e[10])],Ee=!0)},p(e,t){if(2&t[0]&&H(m.value)!==e[1].field.metals&&A(m,e[1].field.metals),2&t[0]&&H($.value)!==e[1].field.colours&&A($,e[1].field.colours),2&t[0]&&H(q.value)!==e[1].field.stains&&A(q,e[1].field.stains),2&t[0]&&H(B.value)!==e[1].field.patterns&&A(B,e[1].field.patterns),2&t[0]&&H(O.value)!==e[1].division.metals&&A(O,e[1].division.metals),2&t[0]&&H(G.value)!==e[1].division.colours&&A(G,e[1].division.colours),2&t[0]&&H(N.value)!==e[1].division.stains&&A(N,e[1].division.stains),2&t[0]&&H(U.value)!==e[1].division.patterns&&A(U,e[1].division.patterns),2&t[0]&&H(ee.value)!==e[1].charge.metals&&A(ee,e[1].charge.metals),2&t[0]&&H(ie.value)!==e[1].charge.colours&&A(ie,e[1].charge.colours),2&t[0]&&H(se.value)!==e[1].charge.stains&&A(se,e[1].charge.stains),2&t[0]&&H(de.value)!==e[1].charge.patterns&&A(de,e[1].charge.patterns),Le===(Le=Ae(e))&&Te?Te.p(e,t):(Te.d(1),Te=Le(e),Te&&(Te.c(),Te.m(ge,ve))),e[0].show?Fe?(Fe.p(e,t),1&t[0]&&he(Fe,1)):(Fe=Xr(e),Fe.c(),he(Fe,1),Fe.m(Ce,_e)):Fe&&(fe(),me(Fe,1,1,(()=>{Fe=null})),pe()),110&t[0]){const n=e[2];fe();for(let e=0;e<He.length;e+=1)He[e].r();He=xe(He,t,De,1,e,n,Ie,Ce,ke,Qr,null,Wr);for(let e=0;e<He.length;e+=1)He[e].a();pe()}},i(e){if(!Se){he(Fe);for(let e=0;e<Oe.length;e+=1)he(He[e]);e&&te((()=>{Be||(Be=$e(t,Ne,{},!0)),Be.run(1)})),Se=!0}},o(e){me(Fe);for(let e=0;e<He.length;e+=1)me(He[e]);e&&(Be||(Be=$e(t,Ne,{},!1)),Be.run(0)),Se=!1},d(e){e&&x(t),Te.d(),Fe&&Fe.d();for(let e=0;e<He.length;e+=1)He[e].d();e&&Be&&Be.end(),Ee=!1,i(Me)}}}function to(e,t,n){let l,i,r,o;a(e,$t,(e=>n(1,l=e))),a(e,vt,(e=>n(3,i=e))),a(e,Bt,(e=>n(33,r=e))),a(e,_t,(e=>n(4,o=e)));let s={show:!1,name:"",type:"colours",color:"#96C8FA",chance:3};for(const e in l)delete l[e].array;let c=[];function d(e,t){c.includes(e)?localStorage.setItem(e,JSON.stringify(t)):c.push(e)}function u(e){if("metals"===e.type||"colours"===e.type){if(Object.keys(l[e.type]).length<3)return void h(Bt,r={type:"error",text:`There should be at least 2 tinctures of type '${e.type}'!`},r)}delete l[e.type][e.t],$t.set(l)}let f;return e.$$.update=()=>{2&e.$$.dirty[0]&&n(2,f=["metals","colours","stains"].map((e=>Object.keys(l[e]).map((t=>({t:t,type:e}))))).flat()),2&e.$$.dirty[0]&&d("tinctures",l),8&e.$$.dirty[0]&&d("colors",i)},[s,l,f,i,o,function(e){return Object.entries(l[e]).reduce(((e,t)=>e+t[1]),0)},u,function(){n(0,s.show=!0,s),h(Bt,r={type:"warn",text:"Set tincture name, type, color and chance and then click on 'Apply Tincture'",timeout:8e3},r)},function(){n(0,s.show=!1,s)},function(){const e=ut(s.name);e&&!i[e]?(h($t,l[s.type][s.name]=s.chance,l),h(vt,i[s.name]=s.color,i),n(0,s.show=!1,s),h(Bt,r={type:"info",text:`Tincture ${s.name} is added`},r)):h(Bt,r={type:"error",text:"Tincture name must be unique!"},r)},function(){h($t,l=JSON.parse(JSON.stringify(Ve)),l),h(vt,i=JSON.parse(JSON.stringify(Ye)),i),localStorage.removeItem("tinctures"),localStorage.removeItem("colors"),c=[],h(Bt,r={type:"info",text:"Default values are restored"},r)},()=>h(_t,o.tinctures=0,o),function(){l.field.metals=H(this.value),$t.set(l)},function(){l.field.colours=H(this.value),$t.set(l)},function(){l.field.stains=H(this.value),$t.set(l)},function(){l.field.patterns=H(this.value),$t.set(l)},function(){l.division.metals=H(this.value),$t.set(l)},function(){l.division.colours=H(this.value),$t.set(l)},function(){l.division.stains=H(this.value),$t.set(l)},function(){l.division.patterns=H(this.value),$t.set(l)},function(){l.charge.metals=H(this.value),$t.set(l)},function(){l.charge.colours=H(this.value),$t.set(l)},function(){l.charge.stains=H(this.value),$t.set(l)},function(){l.charge.patterns=H(this.value),$t.set(l)},function(){s.name=this.value,n(0,s)},function(){s.type=F(this),n(0,s)},function(){s.color=this.value,n(0,s)},function(){s.chance=H(this.value),n(0,s)},function(e){i[e.t]=this.value,vt.set(i),n(2,f),n(1,l)},e=>h(vt,i[e.t]=Ye[e.t],i),function(e){l[e.type][e.t]=H(this.value),$t.set(l),n(2,f),n(1,l)},e=>u(e)]}class no extends Se{constructor(e){super(),Be(this,e,to,eo,o,{},[-1,-1])}}function lo(n){let l,o,s,c,a,d,u,f;return{c(){l=j("div"),o=C(n[0]),M(l,"class",s=p(n[1])+" svelte-skxr9t")},m(e,t){k(e,l,t),w(l,o),d=!0,u||(f=S(l,"click",n[2]),u=!0)},p:e,i(e){d||(te((()=>{a&&a.end(1),c||(c=ve(l,Ke,{y:200,duration:500})),c.start()})),d=!0)},o(n){c&&c.invalidate(),a=function(n,l,o){let s,c=l(n,o),a=!0;const d=ue;function u(){const{delay:l=0,duration:r=300,easing:o=t,tick:u=e,css:f}=c||ge;f&&(s=R(n,1,0,r,l,o,f));const p=g()+l,h=p+r;te((()=>ae(n,!1,"start"))),b((e=>{if(a){if(e>=h)return u(0,1),ae(n,!1,"end"),--d.r||i(d.c),!1;if(e>=p){const t=o((e-p)/r);u(1-t,t)}}return a}))}return d.r+=1,r(c)?ce().then((()=>{c=c(),u()})):u(),{end(e){e&&c.tick&&c.tick(1,0),a&&(s&&N(n,s),a=!1)}}}(l,Ne,{}),d=!1},d(e){e&&x(l),e&&a&&a.end(),u=!1,f()}}}function io(e,t,n){let l;a(e,Bt,(e=>n(3,l=e)));const{text:i,type:r="info",timeout:o=4e3}=l;var s;return s=async()=>{setTimeout((()=>h(Bt,l=null,l)),o)},U().$$.on_mount.push(s),[i,r,function(){h(Bt,l=null,l)}]}class ro extends Se{constructor(e){super(),Be(this,e,io,lo,o,{})}}function oo(e,t,n){const l=e.slice();return l[5]=t[n],l}function so(e){let t,n,l,i,r,o,s,c,a,d,u,f,p,h,m,g,v,$,y,b,q,j,C,_,B,S,E,H,I,A;return{c(){t=z("pattern"),n=z("rect"),i=z("rect"),o=z("rect"),c=z("rect"),d=z("rect"),f=z("line"),p=z("line"),h=z("line"),m=z("line"),g=z("line"),v=z("line"),$=z("line"),y=z("line"),b=z("line"),q=z("line"),j=z("line"),C=z("line"),_=z("line"),B=z("line"),S=z("line"),E=z("line"),M(n,"x","0"),M(n,"y","0"),M(n,"width","200"),M(n,"height","200"),M(n,"stroke","none"),M(n,"fill",l=e[1][e[5].t1]),M(i,"x","0"),M(i,"y","35"),M(i,"width","200"),M(i,"height","30"),M(i,"stroke","none"),M(i,"fill",r=e[1][e[5].t2]),M(o,"x","0"),M(o,"y","135"),M(o,"width","200"),M(o,"height","30"),M(o,"stroke","none"),M(o,"fill",s=e[1][e[5].t2]),M(c,"x","35"),M(c,"y","0"),M(c,"width","30"),M(c,"height","200"),M(c,"stroke","none"),M(c,"fill",a=e[1][e[5].t2]),M(d,"x","135"),M(d,"y","0"),M(d,"width","30"),M(d,"height","200"),M(d,"stroke","none"),M(d,"fill",u=e[1][e[5].t2]),M(f,"x1","0"),M(f,"y1","35"),M(f,"x2","35"),M(f,"y2","35"),M(p,"x1","0"),M(p,"y1","65"),M(p,"x2","35"),M(p,"y2","65"),M(h,"x1","35"),M(h,"y1","165"),M(h,"x2","35"),M(h,"y2","200"),M(m,"x1","65"),M(m,"y1","165"),M(m,"x2","65"),M(m,"y2","200"),M(g,"x1","135"),M(g,"y1","0"),M(g,"x2","135"),M(g,"y2","35"),M(v,"x1","165"),M(v,"y1","0"),M(v,"x2","165"),M(v,"y2","35"),M($,"x1","135"),M($,"y1","65"),M($,"x2","135"),M($,"y2","200"),M(y,"x1","165"),M(y,"y1","65"),M(y,"x2","165"),M(y,"y2","200"),M(b,"x1","35"),M(b,"y1","0"),M(b,"x2","35"),M(b,"y2","135"),M(q,"x1","65"),M(q,"y1","0"),M(q,"x2","65"),M(q,"y2","135"),M(j,"x1","65"),M(j,"y1","35"),M(j,"x2","200"),M(j,"y2","35"),M(C,"x1","65"),M(C,"y1","65"),M(C,"x2","200"),M(C,"y2","65"),M(_,"x1","0"),M(_,"y1","135"),M(_,"x2","135"),M(_,"y2","135"),M(B,"x1","0"),M(B,"y1","165"),M(B,"x2","135"),M(B,"y2","165"),M(S,"x1","165"),M(S,"y1","135"),M(S,"x2","200"),M(S,"y2","135"),M(E,"x1","165"),M(E,"y1","165"),M(E,"x2","200"),M(E,"y2","165"),M(t,"id",H=e[5].id),M(t,"width",I=.28*e[5].mod),M(t,"height",A=.28*e[5].mod),M(t,"viewBox","0 0 200 200"),M(t,"patternTransform","translate(-19,21) rotate(45)"),M(t,"stroke","#000"),M(t,"stroke-width","2")},m(e,l){k(e,t,l),w(t,n),w(t,i),w(t,o),w(t,c),w(t,d),w(t,f),w(t,p),w(t,h),w(t,m),w(t,g),w(t,v),w(t,$),w(t,y),w(t,b),w(t,q),w(t,j),w(t,C),w(t,_),w(t,B),w(t,S),w(t,E)},p(e,f){3&f&&l!==(l=e[1][e[5].t1])&&M(n,"fill",l),3&f&&r!==(r=e[1][e[5].t2])&&M(i,"fill",r),3&f&&s!==(s=e[1][e[5].t2])&&M(o,"fill",s),3&f&&a!==(a=e[1][e[5].t2])&&M(c,"fill",a),3&f&&u!==(u=e[1][e[5].t2])&&M(d,"fill",u),1&f&&H!==(H=e[5].id)&&M(t,"id",H),1&f&&I!==(I=.28*e[5].mod)&&M(t,"width",I),1&f&&A!==(A=.28*e[5].mod)&&M(t,"height",A)},d(e){e&&x(t)}}}function co(e){let t,n,l,i,r,o,s,c,a,d;return{c(){t=z("pattern"),n=z("rect"),i=z("rect"),o=z("line"),M(n,"x","0"),M(n,"y","0"),M(n,"width","100"),M(n,"height","100"),M(n,"fill",l=e[1][e[5].t1]),M(i,"x","0"),M(i,"y","0"),M(i,"width","100"),M(i,"height","50"),M(i,"stroke",r=e[1][e[5].t2]),M(i,"stroke-width","4"),M(o,"x1","50"),M(o,"y1","50"),M(o,"x2","50"),M(o,"y2","100"),M(o,"stroke",s=e[1][e[5].t2]),M(o,"stroke-width","5"),M(t,"id",c=e[5].id),M(t,"width",a=.125*e[5].mod),M(t,"height",d=.125*e[5].mod),M(t,"viewBox","0 0 100 100"),M(t,"fill","none")},m(e,l){k(e,t,l),w(t,n),w(t,i),w(t,o)},p(e,u){3&u&&l!==(l=e[1][e[5].t1])&&M(n,"fill",l),3&u&&r!==(r=e[1][e[5].t2])&&M(i,"stroke",r),3&u&&s!==(s=e[1][e[5].t2])&&M(o,"stroke",s),1&u&&c!==(c=e[5].id)&&M(t,"id",c),1&u&&a!==(a=.125*e[5].mod)&&M(t,"width",a),1&u&&d!==(d=.125*e[5].mod)&&M(t,"height",d)},d(e){e&&x(t)}}}function ao(e){let t,n,l,i,r,o,s,c,a,d,u,f,p,h,m;return{c(){t=z("pattern"),n=z("rect"),i=z("circle"),s=z("circle"),d=z("circle"),M(n,"x","0"),M(n,"y","0"),M(n,"width","100"),M(n,"height","100"),M(n,"fill",l=e[1][e[5].t1]),M(i,"cx","0"),M(i,"cy","51"),M(i,"r","45"),M(i,"stroke",r=e[1][e[5].t2]),M(i,"fill",o=e[1][e[5].t1]),M(i,"stroke-width","10"),M(s,"cx","100"),M(s,"cy","51"),M(s,"r","45"),M(s,"stroke",c=e[1][e[5].t2]),M(s,"fill",a=e[1][e[5].t1]),M(s,"stroke-width","10"),M(d,"cx","50"),M(d,"cy","1"),M(d,"r","45"),M(d,"stroke",u=e[1][e[5].t2]),M(d,"fill",f=e[1][e[5].t1]),M(d,"stroke-width","10"),M(t,"id",p=e[5].id),M(t,"width",h=.125*e[5].mod),M(t,"height",m=.125*e[5].mod),M(t,"viewBox","0 0 100 100")},m(e,l){k(e,t,l),w(t,n),w(t,i),w(t,s),w(t,d)},p(e,g){3&g&&l!==(l=e[1][e[5].t1])&&M(n,"fill",l),3&g&&r!==(r=e[1][e[5].t2])&&M(i,"stroke",r),3&g&&o!==(o=e[1][e[5].t1])&&M(i,"fill",o),3&g&&c!==(c=e[1][e[5].t2])&&M(s,"stroke",c),3&g&&a!==(a=e[1][e[5].t1])&&M(s,"fill",a),3&g&&u!==(u=e[1][e[5].t2])&&M(d,"stroke",u),3&g&&f!==(f=e[1][e[5].t1])&&M(d,"fill",f),1&g&&p!==(p=e[5].id)&&M(t,"id",p),1&g&&h!==(h=.125*e[5].mod)&&M(t,"width",h),1&g&&m!==(m=.125*e[5].mod)&&M(t,"height",m)},d(e){e&&x(t)}}}function uo(e){let t,n,l,i,r,o,s,c;return{c(){t=z("pattern"),n=z("rect"),i=z("polygon"),M(n,"x","0"),M(n,"y","0"),M(n,"width","50"),M(n,"height","100"),M(n,"fill",l=e[1][e[5].t1]),M(i,"points","25,0 50,50 25,100 0,50"),M(i,"fill",r=e[1][e[5].t2]),M(t,"id",o=e[5].id),M(t,"width",s=.125*e[5].mod),M(t,"height",c=.25*e[5].mod),M(t,"viewBox","0 0 50 100"),M(t,"patternTransform","translate(22,44) rotate(-26.5)")},m(e,l){k(e,t,l),w(t,n),w(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t1])&&M(n,"fill",l),3&a&&r!==(r=e[1][e[5].t2])&&M(i,"fill",r),1&a&&o!==(o=e[5].id)&&M(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&M(t,"width",s),1&a&&c!==(c=.25*e[5].mod)&&M(t,"height",c)},d(e){e&&x(t)}}}function fo(e){let t,n,l,i,r,o,s,c;return{c(){t=z("pattern"),n=z("rect"),i=z("line"),M(n,"x","0"),M(n,"y","0"),M(n,"width","50"),M(n,"height","50"),M(n,"fill",l=e[1][e[5].t2]),M(i,"x1","0"),M(i,"y1","37.5"),M(i,"x2","50"),M(i,"y2","37.5"),M(i,"stroke",r=e[1][e[5].t1]),M(i,"stroke-width","25"),M(t,"id",o=e[5].id),M(t,"width",s=.36*e[5].mod),M(t,"height",c=.36*e[5].mod),M(t,"viewBox","0 0 50 50"),M(t,"patternTransform","rotate(-45)")},m(e,l){k(e,t,l),w(t,n),w(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t2])&&M(n,"fill",l),3&a&&r!==(r=e[1][e[5].t1])&&M(i,"stroke",r),1&a&&o!==(o=e[5].id)&&M(t,"id",o),1&a&&s!==(s=.36*e[5].mod)&&M(t,"width",s),1&a&&c!==(c=.36*e[5].mod)&&M(t,"height",c)},d(e){e&&x(t)}}}function po(e){let t,n,l,i,r,o,s,c;return{c(){t=z("pattern"),n=z("rect"),i=z("line"),M(n,"x","0"),M(n,"y","0"),M(n,"width","50"),M(n,"height","50"),M(n,"fill",l=e[1][e[5].t2]),M(i,"x1","0"),M(i,"y1","37.5"),M(i,"x2","50"),M(i,"y2","37.5"),M(i,"stroke",r=e[1][e[5].t1]),M(i,"stroke-width","25"),M(t,"id",o=e[5].id),M(t,"width",s=.36*e[5].mod),M(t,"height",c=.36*e[5].mod),M(t,"viewBox","0 0 50 50"),M(t,"patternTransform","rotate(45)")},m(e,l){k(e,t,l),w(t,n),w(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t2])&&M(n,"fill",l),3&a&&r!==(r=e[1][e[5].t1])&&M(i,"stroke",r),1&a&&o!==(o=e[5].id)&&M(t,"id",o),1&a&&s!==(s=.36*e[5].mod)&&M(t,"width",s),1&a&&c!==(c=.36*e[5].mod)&&M(t,"height",c)},d(e){e&&x(t)}}}function ho(e){let t,n,l,i,r,o,s,c,a,d;return{c(){t=z("pattern"),n=z("rect"),i=z("rect"),o=z("rect"),M(n,"x","0"),M(n,"y","0"),M(n,"width","25"),M(n,"height","100"),M(n,"fill",l=e[1][e[5].t2]),M(i,"x","0"),M(i,"y","35"),M(i,"width","25"),M(i,"height","10"),M(i,"fill",r=e[1][e[5].t1]),M(o,"x","0"),M(o,"y","55"),M(o,"width","25"),M(o,"height","10"),M(o,"fill",s=e[1][e[5].t1]),M(t,"id",c=e[5].id),M(t,"width",a=.125*e[5].mod),M(t,"height",d=.5*e[5].mod),M(t,"viewBox","0 0 25 100")},m(e,l){k(e,t,l),w(t,n),w(t,i),w(t,o)},p(e,u){3&u&&l!==(l=e[1][e[5].t2])&&M(n,"fill",l),3&u&&r!==(r=e[1][e[5].t1])&&M(i,"fill",r),3&u&&s!==(s=e[1][e[5].t1])&&M(o,"fill",s),1&u&&c!==(c=e[5].id)&&M(t,"id",c),1&u&&a!==(a=.125*e[5].mod)&&M(t,"width",a),1&u&&d!==(d=.5*e[5].mod)&&M(t,"height",d)},d(e){e&&x(t)}}}function mo(e){let t,n,l,i,r,o,s,c,a,d;return{c(){t=z("pattern"),n=z("rect"),i=z("rect"),o=z("rect"),M(n,"x","0"),M(n,"y","0"),M(n,"width","25"),M(n,"height","100"),M(n,"fill",l=e[1][e[5].t2]),M(i,"x","0"),M(i,"y","25"),M(i,"width","25"),M(i,"height","25"),M(i,"fill",r=e[1][e[5].t1]),M(o,"x","0"),M(o,"y","75"),M(o,"width","25"),M(o,"height","25"),M(o,"fill",s=e[1][e[5].t1]),M(t,"id",c=e[5].id),M(t,"width",a=.125*e[5].mod),M(t,"height",d=.5*e[5].mod),M(t,"viewBox","0 0 25 100")},m(e,l){k(e,t,l),w(t,n),w(t,i),w(t,o)},p(e,u){3&u&&l!==(l=e[1][e[5].t2])&&M(n,"fill",l),3&u&&r!==(r=e[1][e[5].t1])&&M(i,"fill",r),3&u&&s!==(s=e[1][e[5].t1])&&M(o,"fill",s),1&u&&c!==(c=e[5].id)&&M(t,"id",c),1&u&&a!==(a=.125*e[5].mod)&&M(t,"width",a),1&u&&d!==(d=.5*e[5].mod)&&M(t,"height",d)},d(e){e&&x(t)}}}function go(e){let t,n,l,i,r,o,s,c,a,d;return{c(){t=z("pattern"),n=z("rect"),i=z("rect"),o=z("rect"),M(n,"x","0"),M(n,"y","0"),M(n,"width","100"),M(n,"height","25"),M(n,"fill",l=e[1][e[5].t1]),M(i,"x","25"),M(i,"y","0"),M(i,"width","25"),M(i,"height","25"),M(i,"fill",r=e[1][e[5].t2]),M(o,"x","75"),M(o,"y","0"),M(o,"width","25"),M(o,"height","25"),M(o,"fill",s=e[1][e[5].t2]),M(t,"id",c=e[5].id),M(t,"width",a=.5*e[5].mod),M(t,"height",d=.125*e[5].mod),M(t,"viewBox","0 0 100 25")},m(e,l){k(e,t,l),w(t,n),w(t,i),w(t,o)},p(e,u){3&u&&l!==(l=e[1][e[5].t1])&&M(n,"fill",l),3&u&&r!==(r=e[1][e[5].t2])&&M(i,"fill",r),3&u&&s!==(s=e[1][e[5].t2])&&M(o,"fill",s),1&u&&c!==(c=e[5].id)&&M(t,"id",c),1&u&&a!==(a=.5*e[5].mod)&&M(t,"width",a),1&u&&d!==(d=.125*e[5].mod)&&M(t,"height",d)},d(e){e&&x(t)}}}function vo(e){let t,n,l,i,r,o,s,c;return{c(){t=z("pattern"),n=z("rect"),i=z("polygon"),M(n,"x","0"),M(n,"y","0"),M(n,"width","50"),M(n,"height","100"),M(n,"fill",l=e[1][e[5].t1]),M(i,"points","25,0 50,50 25,100 0,50"),M(i,"fill",r=e[1][e[5].t2]),M(t,"id",o=e[5].id),M(t,"width",s=.125*e[5].mod),M(t,"height",c=.25*e[5].mod),M(t,"viewBox","0 0 50 100")},m(e,l){k(e,t,l),w(t,n),w(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t1])&&M(n,"fill",l),3&a&&r!==(r=e[1][e[5].t2])&&M(i,"fill",r),1&a&&o!==(o=e[5].id)&&M(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&M(t,"width",s),1&a&&c!==(c=.25*e[5].mod)&&M(t,"height",c)},d(e){e&&x(t)}}}function $o(e){let t,n,l,i,r,o,s,c;return{c(){t=z("pattern"),n=z("rect"),i=z("polygon"),M(n,"x","0"),M(n,"y","0"),M(n,"width","50"),M(n,"height","50"),M(n,"fill",l=e[1][e[5].t1]),M(i,"points","25,0 50,25 25,50 0,25"),M(i,"fill",r=e[1][e[5].t2]),M(t,"id",o=e[5].id),M(t,"width",s=.125*e[5].mod),M(t,"height",c=.125*e[5].mod),M(t,"viewBox","0 0 50 50")},m(e,l){k(e,t,l),w(t,n),w(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t1])&&M(n,"fill",l),3&a&&r!==(r=e[1][e[5].t2])&&M(i,"fill",r),1&a&&o!==(o=e[5].id)&&M(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&M(t,"width",s),1&a&&c!==(c=.125*e[5].mod)&&M(t,"height",c)},d(e){e&&x(t)}}}function yo(e){let t,n,l,i,r,o,s,c,a,d;return{c(){t=z("pattern"),n=z("rect"),l=z("rect"),r=z("rect"),M(n,"x","0"),M(n,"y","0"),M(n,"width","50"),M(n,"height","50"),M(l,"x","0"),M(l,"y","0"),M(l,"width","25"),M(l,"height","25"),M(l,"fill",i=e[1][e[5].t1]),M(r,"x","25"),M(r,"y","25"),M(r,"width","25"),M(r,"height","25"),M(r,"fill",o=e[1][e[5].t1]),M(t,"id",s=e[5].id),M(t,"width",c=.25*e[5].mod),M(t,"height",a=.25*e[5].mod),M(t,"viewBox","0 0 50 50"),M(t,"fill",d=e[1][e[5].t2])},m(e,i){k(e,t,i),w(t,n),w(t,l),w(t,r)},p(e,n){3&n&&i!==(i=e[1][e[5].t1])&&M(l,"fill",i),3&n&&o!==(o=e[1][e[5].t1])&&M(r,"fill",o),1&n&&s!==(s=e[5].id)&&M(t,"id",s),1&n&&c!==(c=.25*e[5].mod)&&M(t,"width",c),1&n&&a!==(a=.25*e[5].mod)&&M(t,"height",a),3&n&&d!==(d=e[1][e[5].t2])&&M(t,"fill",d)},d(e){e&&x(t)}}}function bo(e){let t,n,l,i,r,o,s,c,a,d,u,f,p,h,m;return{c(){t=z("pattern"),n=z("rect"),i=z("path"),r=z("path"),o=z("path"),s=z("path"),c=z("path"),a=z("path"),d=z("path"),u=z("path"),M(n,"x","0"),M(n,"y","0"),M(n,"width","25"),M(n,"height","25"),M(n,"fill",l=e[1][e[5].t1]),M(i,"d","m19.1,14.8 c-0.7,2.9 -2.1,5 -3.5,6.5 0.6,-0.1 1.3,-0.6 2,-0.9 -0.4,0.8 -0.8,1.4 -1.2,2.1 0.2,-0.1 1,-0.8 2,-1.8 0.2,1.4 0.4,2.9 0.7,3.9 0.3,-0.9 0.5,-2.5 0.7,-3.9 0.6,0.6 1.2,1.3 2.1,1.8 l -1.2,-2.2 c 0.6,0.3 1.3,0.8 1.9,1 -1.5,-1.6 -2.8,-3.6 -3.5,-6.5z"),M(r,"d","m16.1,14.9 c-0.1,-0.2 -1,0.4 -1.5,-0.8 1.2,1.1 2.5,-1.2 3.5,0.4 0.3,0.7 -1.1,1.8 -2,0.4z"),M(o,"d","m21.9,14.9 c.1,-.2 1,0.4 1.5,-0.8 -1.2,1.1 -2.5,-1.2 -3.5,0.4 -0.3,0.7 1.1,1.8 2,0.4z"),M(s,"d","m19.4,12.4 c-0.2,-0.1 0.7,-0.7 -0.6,-1.4 1.1,1.2 -2,1.7 -0.3,2.9 0.7,0.4 2.4,-0.5 0.9,-1.5z"),M(c,"d","M5.8,4.6 C5.1,7.5 3.7,9.5 2.3,11 2.9,10.9 3.6,10.5 4.2,10.1 3.8,10.9 3.4,11.5 3,12.2 3.3,12.1 4,11.4 5.1,10.4 c 0.2,1.4 0.4,2.9 0.7,3.9 0.3,-0.9 0.5,-2.5 0.7,-3.9 0.6,0.6 1.2,1.3 2.1,1.8 L 7.3,10 c 0.6,0.3 1.3,0.8 1.9,1 C7.7,9.5 6.4,7.5 5.8,4.6Z"),M(a,"d","M2.9,4.7 C2.8,4.6 1.9,5.1 1.3,4 2.6,5.1 3.8,2.8 4.9,4.3 5.2,5 3.8,6.1 2.9,4.7Z"),M(d,"d","M8.6,4.7 C8.7,4.5 9.6,5.1 10.1,3.9 8.9,5.1 7.6,2.7 6.6,4.3 6.3,5 7.7,6.1 8.6,4.7Z"),M(u,"d","M6.1,2.2 C 5.9,2.1 6.8,1.5 5.5,0.8 6.6,2.1 3.5,2.6 5.2,3.7 5.9,4.1 7.6,3.3 6.1,2.2Z"),M(t,"id",f=e[5].id),M(t,"width",p=.125*e[5].mod),M(t,"height",h=.125*e[5].mod),M(t,"viewBox","0 0 25 25"),M(t,"fill",m=e[1][e[5].t2])},m(e,l){k(e,t,l),w(t,n),w(t,i),w(t,r),w(t,o),w(t,s),w(t,c),w(t,a),w(t,d),w(t,u)},p(e,i){3&i&&l!==(l=e[1][e[5].t1])&&M(n,"fill",l),1&i&&f!==(f=e[5].id)&&M(t,"id",f),1&i&&p!==(p=.125*e[5].mod)&&M(t,"width",p),1&i&&h!==(h=.125*e[5].mod)&&M(t,"height",h),3&i&&m!==(m=e[1][e[5].t2])&&M(t,"fill",m)},d(e){e&&x(t)}}}function wo(e){let t,n,l,i,r,o,s,c,a,d,u,f,p;return{c(){t=z("pattern"),n=z("rect"),i=z("path"),o=z("rect"),a=z("path"),M(n,"x","0"),M(n,"y","0"),M(n,"width","25"),M(n,"height","25"),M(n,"fill",l=e[1][e[5].t2]),M(i,"d","m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),M(i,"fill",r=e[1][e[5].t1]),M(o,"x","0"),M(o,"y","25"),M(o,"width","25"),M(o,"height","25"),M(o,"fill",s=e[1][e[5].t1]),M(o,"stroke-width","1"),M(o,"stroke",c=e[1][e[5].t1]),M(a,"d","m12.5,25 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),M(a,"fill",d=e[1][e[5].t2]),M(t,"id",u=e[5].id),M(t,"width",f=.125*e[5].mod),M(t,"height",p=.25*e[5].mod),M(t,"viewBox","0 0 25 50")},m(e,l){k(e,t,l),w(t,n),w(t,i),w(t,o),w(t,a)},p(e,h){3&h&&l!==(l=e[1][e[5].t2])&&M(n,"fill",l),3&h&&r!==(r=e[1][e[5].t1])&&M(i,"fill",r),3&h&&s!==(s=e[1][e[5].t1])&&M(o,"fill",s),3&h&&c!==(c=e[1][e[5].t1])&&M(o,"stroke",c),3&h&&d!==(d=e[1][e[5].t2])&&M(a,"fill",d),1&h&&u!==(u=e[5].id)&&M(t,"id",u),1&h&&f!==(f=.125*e[5].mod)&&M(t,"width",f),1&h&&p!==(p=.25*e[5].mod)&&M(t,"height",p)},d(e){e&&x(t)}}}function ko(e){let t,n,l,i,r,o,s,c;return{c(){t=z("pattern"),n=z("rect"),i=z("path"),M(n,"x","0"),M(n,"y","0"),M(n,"width","200"),M(n,"height","200"),M(n,"fill",l=e[1][e[5].t2]),M(i,"d","m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),M(i,"fill",r=e[1][e[5].t1]),M(i,"stroke","#000"),M(i,"stroke-width",".2"),M(t,"id",o=e[5].id),M(t,"width",s=.125*e[5].mod),M(t,"height",c=.125*e[5].mod),M(t,"viewBox","0 0 25 25")},m(e,l){k(e,t,l),w(t,n),w(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t2])&&M(n,"fill",l),3&a&&r!==(r=e[1][e[5].t1])&&M(i,"fill",r),1&a&&o!==(o=e[5].id)&&M(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&M(t,"width",s),1&a&&c!==(c=.125*e[5].mod)&&M(t,"height",c)},d(e){e&&x(t)}}}function xo(e){let t,n,l,i,r,o,s,c,a,d,u,f;return{c(){t=z("pattern"),n=z("rect"),i=z("path"),o=z("rect"),c=z("path"),M(n,"x","0"),M(n,"y","0"),M(n,"width","25"),M(n,"height","25"),M(n,"fill",l=e[1][e[5].t2]),M(n,"stroke","none"),M(i,"d","m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),M(i,"fill",r=e[1][e[5].t1]),M(o,"x","0"),M(o,"y","25"),M(o,"width","25"),M(o,"height","25"),M(o,"fill",s=e[1][e[5].t1]),M(o,"stroke-width","1"),M(o,"stroke","none"),M(c,"d","m25,25 l-6.25,6.25 v12.5 l-6.25,6.25 l-6.25,-6.25 v-12.5 l-6.25,-6.25 z"),M(c,"fill",a=e[1][e[5].t2]),M(t,"id",d=e[5].id),M(t,"width",u=.125*e[5].mod),M(t,"height",f=.25*e[5].mod),M(t,"viewBox","0 0 25 50"),M(t,"stroke","#000"),M(t,"stroke-width",".2")},m(e,l){k(e,t,l),w(t,n),w(t,i),w(t,o),w(t,c)},p(e,p){3&p&&l!==(l=e[1][e[5].t2])&&M(n,"fill",l),3&p&&r!==(r=e[1][e[5].t1])&&M(i,"fill",r),3&p&&s!==(s=e[1][e[5].t1])&&M(o,"fill",s),3&p&&a!==(a=e[1][e[5].t2])&&M(c,"fill",a),1&p&&d!==(d=e[5].id)&&M(t,"id",d),1&p&&u!==(u=.125*e[5].mod)&&M(t,"width",u),1&p&&f!==(f=.25*e[5].mod)&&M(t,"height",f)},d(e){e&&x(t)}}}function qo(e){let t,n,l,i,r,o,s,c,a,d={ctx:e,current:null,token:null,hasCatch:!1,pending:Co,then:zo,catch:jo,value:8};return ye(r=e[2](e[5]),d),{c(){t=z("pattern"),n=z("rect"),i=z("g"),d.block.c(),M(n,"x","0"),M(n,"y","0"),M(n,"width","150"),M(n,"height","200"),M(n,"fill",l=e[1][e[5].t1]),M(n,"stroke","none"),M(i,"fill",o=e[1][e[5].t2]),M(t,"id",s=e[5].id),M(t,"width",c=.134*e[5].mod),M(t,"height",a=.1787*e[5].mod),M(t,"viewBox","0 0 150 200"),M(t,"stroke","#000")},m(e,l){k(e,t,l),w(t,n),w(t,i),d.block.m(i,d.anchor=null),d.mount=()=>i,d.anchor=null},p(u,f){if(e=u,3&f&&l!==(l=e[1][e[5].t1])&&M(n,"fill",l),d.ctx=e,1&f&&r!==(r=e[2](e[5]))&&ye(r,d));else{const t=e.slice();t[8]=d.resolved,d.block.p(t,f)}3&f&&o!==(o=e[1][e[5].t2])&&M(i,"fill",o),1&f&&s!==(s=e[5].id)&&M(t,"id",s),1&f&&c!==(c=.134*e[5].mod)&&M(t,"width",c),1&f&&a!==(a=.1787*e[5].mod)&&M(t,"height",a)},d(e){e&&x(t),d.block.d(),d.token=null,d=null}}}function jo(t){return{c:e,m:e,p:e,d:e}}function zo(e){let t,n,l=e[8]+"",i=e[8]+"";return{c(){t=z("g"),n=z("g"),M(t,"transform","translate(-60,-50)"),M(n,"transform","translate(10,50)")},m(e,r){k(e,t,r),t.innerHTML=l,k(e,n,r),n.innerHTML=i},p(e,r){1&r&&l!==(l=e[8]+"")&&(t.innerHTML=l),1&r&&i!==(i=e[8]+"")&&(n.innerHTML=i)},d(e){e&&x(t),e&&x(n)}}}function Co(t){return{c:e,m:e,p:e,d:e}}function _o(e){let t;function n(e,t){return"semy"===e[5].type?qo:"vair"===e[5].type?xo:"vairInPale"===e[5].type?ko:"vairEnPointe"===e[5].type?wo:"ermine"===e[5].type?bo:"chequy"===e[5].type?yo:"lozengy"===e[5].type?$o:"fusily"===e[5].type?vo:"pally"===e[5].type?go:"barry"===e[5].type?mo:"gemelles"===e[5].type?ho:"bendy"===e[5].type?po:"bendySinister"===e[5].type?fo:"palyBendy"===e[5].type?uo:"pappellony"===e[5].type?ao:"masoned"===e[5].type?co:"fretty"===e[5].type?so:void 0}let l=n(e),i=l&&l(e);return{c(){i&&i.c(),t=B()},m(e,n){i&&i.m(e,n),k(e,t,n)},p(e,r){l===(l=n(e))&&i?i.p(e,r):(i&&i.d(1),i=l&&l(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i&&i.d(e),e&&x(t)}}}function Bo(t){let n,l=t[0],i=[];for(let e=0;e<l.length;e+=1)i[e]=_o(oo(t,l,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=B()},m(e,t){for(let n=0;n<i.length;n+=1)i[n].m(e,t);k(e,n,t)},p(e,[t]){if(7&t){let r;for(l=e[0],r=0;r<l.length;r+=1){const o=oo(e,l,r);i[r]?i[r].p(o,t):(i[r]=_o(o),i[r].c(),i[r].m(n.parentNode,n))}for(;r<i.length;r+=1)i[r].d(1);i.length=l.length}},i:e,o:e,d(e){q(i,e),e&&x(n)}}}function So(e,t,n){let l,i;a(e,Mt,(e=>n(3,l=e))),a(e,vt,(e=>n(1,i=e)));let r=[];const o=document.getElementById("charges");return e.$$.update=()=>{8&e.$$.dirty&&n(0,r=[...new Set(l)].map((e=>{const[t,n,l,i]=e.split("-"),[r,o]=t.split("_of_");return{id:e,type:r,t1:n,t2:l,mod:function(e){return"small"===e?.5:"smaller"===e?.25:"smallest"===e?.125:"big"===e?2:1}(i),charge:o}})))},[r,i,async function(e){let t="";const n=o.querySelector("#"+e.charge);if(n)t=n.outerHTML;else{const n=await fetch("charges/"+e.charge+".svg"),l=await n.text(),i=document.createElement("html");i.innerHTML=l,t=i.querySelector("g").outerHTML,o.insertAdjacentHTML("beforeend",t)}return t}]}class Eo extends Se{constructor(e){super(),Be(this,e,So,Bo,o,{})}}const{window:Mo}=be;function Ho(e){let t,n;return t=new En({}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function Io(e){let t,n;return t=new Er({}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function Ao(e){let t,n;return t=new Nr({}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function Lo(e){let t,n;return t=new no({}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function To(e){let t,n;return t=new br({props:{gallery:e[2],w:e[0],h:e[1]}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};4&n&&(l.gallery=e[2]),1&n&&(l.w=e[0]),2&n&&(l.h=e[1]),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function Fo(e){let t,n;return t=new hr({props:{coa:e[3],c:e[4].c}}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},p(e,n){const l={};8&n&&(l.coa=e[3]),16&n&&(l.c=e[4].c),t.$set(l)},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function Oo(e){let t,n;return t=new ro({}),{c(){je(t.$$.fragment)},m(e,l){ze(t,e,l),n=!0},i(e){n||(he(t.$$.fragment,e),n=!0)},o(e){me(t.$$.fragment,e),n=!1},d(e){Ce(t,e)}}}function Do(e){let t,n,l,i,r,o,s,c,a,d,u,f,p,h,m,g,v,$;n=new qn({});let y=e[4].about&&Ho(),b=e[4].raster&&Io(),q=e[4].vector&&Ao(),C=e[4].tinctures&&Lo();const B=[Fo,To],E=[];function H(e,t){return e[4].edit?0:1}c=H(e),a=E[c]=B[c](e);let I=e[5]&&Oo();return m=new Eo({}),{c(){t=j("main"),je(n.$$.fragment),l=_(),y&&y.c(),i=_(),b&&b.c(),r=_(),q&&q.c(),o=_(),C&&C.c(),s=_(),a.c(),d=_(),I&&I.c(),u=_(),f=j("div"),p=z("svg"),h=z("defs"),je(m.$$.fragment),M(p,"width","0"),M(p,"height","0"),M(p,"xmlns","http://www.w3.org/2000/svg"),M(f,"id","patterns"),L(f,"position","absolute"),L(t,"background-color",e[6]),M(t,"class","svelte-32wlsa")},m(a,x){k(a,t,x),ze(n,t,null),w(t,l),y&&y.m(t,null),w(t,i),b&&b.m(t,null),w(t,r),q&&q.m(t,null),w(t,o),C&&C.m(t,null),w(t,s),E[c].m(t,null),w(t,d),I&&I.m(t,null),w(t,u),w(t,f),w(f,p),w(p,h),ze(m,h,null),g=!0,v||($=S(Mo,"keydown",e[7]),v=!0)},p(e,[n]){e[4].about?y?16&n&&he(y,1):(y=Ho(),y.c(),he(y,1),y.m(t,i)):y&&(fe(),me(y,1,1,(()=>{y=null})),pe()),e[4].raster?b?16&n&&he(b,1):(b=Io(),b.c(),he(b,1),b.m(t,r)):b&&(fe(),me(b,1,1,(()=>{b=null})),pe()),e[4].vector?q?16&n&&he(q,1):(q=Ao(),q.c(),he(q,1),q.m(t,o)):q&&(fe(),me(q,1,1,(()=>{q=null})),pe()),e[4].tinctures?C?16&n&&he(C,1):(C=Lo(),C.c(),he(C,1),C.m(t,s)):C&&(fe(),me(C,1,1,(()=>{C=null})),pe());let l=c;c=H(e),c===l?E[c].p(e,n):(fe(),me(E[l],1,1,(()=>{E[l]=null})),pe(),a=E[c],a||(a=E[c]=B[c](e),a.c()),he(a,1),a.m(t,d)),e[5]?I?32&n&&he(I,1):(I=Oo(),I.c(),he(I,1),I.m(t,u)):I&&(fe(),me(I,1,1,(()=>{I=null})),pe()),(!g||64&n)&&L(t,"background-color",e[6])},i(e){g||(he(n.$$.fragment,e),he(y),he(b),he(q),he(C),he(a),he(I),he(m.$$.fragment,e),g=!0)},o(e){me(n.$$.fragment,e),me(y),me(b),me(q),me(C),me(a),me(I),me(m.$$.fragment,e),g=!1},d(e){e&&x(t),Ce(n),y&&y.d(),b&&b.d(),q&&q.d(),C&&C.d(),E[c].d(),I&&I.d(),Ce(m),v=!1,$()}}}function Po(e,t,n){let l,i,r,o,s,c,d;a(e,pt,(e=>n(10,l=e))),a(e,jt,(e=>n(11,i=e))),a(e,zt,(e=>n(12,r=e))),a(e,Ct,(e=>n(13,o=e))),a(e,_t,(e=>n(4,s=e))),a(e,Bt,(e=>n(5,c=e))),a(e,yt,(e=>n(6,d=e)));let u,f,p,m,g,v=[];return function(){const e=new URL(window.location.href).searchParams;if(e.has("coa")||e.has("seed")){if(e.get("coa")){if(!function(e){try{return JSON.parse(e),!0}catch(t){return console.error(t),alert("Error: coa value is not valid\r\n"+t.message+"\r\n"+e),!1}}(e.get("coa")))return;const t=JSON.parse(e.get("coa"));i.push(t)}else e.get("seed")&&(n(9,g=e.get("seed")),isNaN(+g)||n(9,g=+g));h(_t,s.edit=1,s),h(zt,r[0]=[0],r)}}(),e.$$.update=()=>{if(1024&e.$$.dirty&&n(8,[u,f,p]=function(e){const t=window.innerWidth,n=window.innerHeight-60,l=Math.ceil(t/e),i=Math.floor(t/l),r=Math.floor(n/i);return[l*r,i,Math.floor(n/r)]}(l),u,(n(0,f),n(10,l)),(n(1,p),n(10,l))),15128&e.$$.dirty){const e=i.length;if(r[o]||(s.edit?(h(zt,r[o]=r[o-1].slice(),r),h(zt,r[o][s.i]=e,r)):h(zt,r[o]=Array.from({length:u},((t,n)=>e+n++)),r)),!s.edit&&r[o].length<u){const t=r[o];h(zt,r[o]=[...Array(u).keys()].map((n=>void 0!==t[n]?t[n]:e+n)),r)}n(2,v=r[o].slice(0,u)),s.edit&&(h(_t,s.c=r[o][s.i],s),n(3,m=i[s.c]||di(g||void 0)),n(9,g=void 0),i[s.c]||i.push(m),St.reset())}},[f,p,v,m,s,c,d,function(e){const t=e.code;if(!["Backspace","Enter","KeyZ","KeyX","KeyD","F1","Escape"].includes(t))return;const n=document.activeElement.tagName;"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&(e.preventDefault(),"Backspace"===t&&o>0?h(Ct,o-=1,o):"Enter"===t?h(Ct,o+=1,o):"KeyZ"===t?St.undo():"KeyX"===t?St.redo():"KeyD"===t?Ht():"F1"===t&&h(_t,s.about=!s.about,s),"Escape"===t&&(h(_t,s.about=0,s),h(_t,s.raster=0,s),h(_t,s.vector=0,s),h(_t,s.tinctures=0,s),h(_t,s.edit=0,s),h(Bt,c=null,c)))}]}return new class extends Se{constructor(e){super(),Be(this,e,Po,Do,o,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
