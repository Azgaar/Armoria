var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function i(){return Object.create(null)}function l(e){e.forEach(n)}function r(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const i=t.subscribe(...n);return i.unsubscribe?()=>i.unsubscribe():i}function c(e){let t;return s(e,(e=>t=e))(),t}function a(e,t,n){e.$$.on_destroy.push(s(t,n))}function d(e,t,n,i){if(e){const l=u(e,t,n,i);return e[0](l)}}function u(e,t,n,i){return e[1]&&i?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](i(t))):n.ctx}function f(e,t,n,i,l,r,o){const s=function(e,t,n,i){if(e[2]&&i){const l=e[2](i(n));if(void 0===t.dirty)return l;if("object"==typeof l){const e=[],n=Math.max(t.dirty.length,l.length);for(let i=0;i<n;i+=1)e[i]=t.dirty[i]|l[i];return e}return t.dirty|l}return t.dirty}(t,i,l,r);if(s){const l=u(t,n,i,o);e.p(l,s)}}function h(e){return null==e?"":e}function p(e,t,n=t){return e.set(n),t}const g="undefined"!=typeof window;let m=g?()=>window.performance.now():()=>Date.now(),$=g?e=>requestAnimationFrame(e):e;const v=new Set;function y(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&$(y)}function b(e){let t;return 0===v.size&&$(y),{promise:new Promise((n=>{v.add(t={c:e,f:n})})),abort(){v.delete(t)}}}function w(e,t){e.appendChild(t)}function x(e,t,n){e.insertBefore(t,n||null)}function k(e){e.parentNode.removeChild(e)}function z(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function C(e){return document.createElement(e)}function _(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function j(e){return document.createTextNode(e)}function B(){return j(" ")}function M(){return j("")}function S(e,t,n,i){return e.addEventListener(t,n,i),()=>e.removeEventListener(t,n,i)}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function P(e){return""===e?null:+e}function H(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function q(e,t){e.value=null==t?"":t}function I(e,t,n,i){e.style.setProperty(t,n,i?"important":"")}function L(e,t){for(let n=0;n<e.options.length;n+=1){const i=e.options[n];if(i.__value===t)return void(i.selected=!0)}}function A(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function F(e,t,n){e.classList[n?"add":"remove"](t)}const T=new Set;let O,G=0;function D(e,t,n,i,l,r,o,s=0){const c=16.666/i;let a="{\n";for(let e=0;e<=1;e+=c){const i=t+(n-t)*r(e);a+=100*e+`%{${o(i,1-i)}}\n`}const d=a+`100% {${o(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${s}`,f=e.ownerDocument;T.add(f);const h=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(C("style")).sheet),p=f.__svelte_rules||(f.__svelte_rules={});p[u]||(p[u]=!0,h.insertRule(`@keyframes ${u} ${d}`,h.cssRules.length));const g=e.style.animation||"";return e.style.animation=`${g?g+", ":""}${u} ${i}ms linear ${l}ms 1 both`,G+=1,u}function R(e,t){const n=(e.style.animation||"").split(", "),i=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),l=n.length-i.length;l&&(e.style.animation=i.join(", "),G-=l,G||$((()=>{G||(T.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),T.clear())})))}function N(e){O=e}function J(){if(!O)throw new Error("Function called outside component initialization");return O}const K=[],W=[],Z=[],U=[],X=Promise.resolve();let V=!1;function Q(e){Z.push(e)}function Y(e){U.push(e)}let ee=!1;const te=new Set;function ne(){if(!ee){ee=!0;do{for(let e=0;e<K.length;e+=1){const t=K[e];N(t),ie(t.$$)}for(N(null),K.length=0;W.length;)W.pop()();for(let e=0;e<Z.length;e+=1){const t=Z[e];te.has(t)||(te.add(t),t())}Z.length=0}while(K.length);for(;U.length;)U.pop()();V=!1,ee=!1,te.clear()}}function ie(e){if(null!==e.fragment){e.update(),l(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Q)}}let le;function re(){return le||(le=Promise.resolve(),le.then((()=>{le=null}))),le}function oe(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const se=new Set;let ce;function ae(){ce={r:0,c:[],p:ce}}function de(){ce.r||l(ce.c),ce=ce.p}function ue(e,t){e&&e.i&&(se.delete(e),e.i(t))}function fe(e,t,n,i){if(e&&e.o){if(se.has(e))return;se.add(e),ce.c.push((()=>{se.delete(e),i&&(n&&e.d(1),i())})),e.o(t)}}const he={duration:0};function pe(n,i,l){let o,s,c=i(n,l),a=!1,d=0;function u(){o&&R(n,o)}function f(){const{delay:i=0,duration:l=300,easing:r=t,tick:f=e,css:h}=c||he;h&&(o=D(n,0,1,l,i,r,h,d++)),f(0,1);const p=m()+i,g=p+l;s&&s.abort(),a=!0,Q((()=>oe(n,!0,"start"))),s=b((e=>{if(a){if(e>=g)return f(1,0),oe(n,!0,"end"),u(),a=!1;if(e>=p){const t=r((e-p)/l);f(t,1-t)}}return a}))}let h=!1;return{start(){h||(R(n),r(c)?(c=c(),re().then(f)):f())},invalidate(){h=!1},end(){a&&(u(),a=!1)}}}function ge(n,i,o,s){let c=i(n,o),a=s?0:1,d=null,u=null,f=null;function h(){f&&R(n,f)}function p(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function g(i){const{delay:r=0,duration:o=300,easing:s=t,tick:g=e,css:$}=c||he,v={start:m()+r,b:i};i||(v.group=ce,ce.r+=1),d||u?u=v:($&&(h(),f=D(n,a,i,o,r,s,$)),i&&g(0,1),d=p(v,o),Q((()=>oe(n,i,"start"))),b((e=>{if(u&&e>u.start&&(d=p(u,o),u=null,oe(n,d.b,"start"),$&&(h(),f=D(n,a,d.b,d.duration,0,s,c.css))),d)if(e>=d.end)g(a=d.b,1-a),oe(n,d.b,"end"),u||(d.b?h():--d.group.r||l(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;a=d.a+d.d*s(t/d.duration),g(a,1-a)}return!(!d&&!u)})))}return{run(e){r(c)?re().then((()=>{c=c(),g(e)})):g(e)},end(){h(),d=u=null}}}function me(e,t){const n=t.token={};function i(e,i,l,r){if(t.token!==n)return;t.resolved=r;let o=t.ctx;void 0!==l&&(o=o.slice(),o[l]=r);const s=e&&(t.current=e)(o);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==i&&e&&(ae(),fe(e,1,1,(()=>{t.blocks[n]=null})),de())})):t.block.d(1),s.c(),ue(s,1),s.m(t.mount(),t.anchor),c=!0),t.block=s,t.blocks&&(t.blocks[i]=s),c&&ne()}if((l=e)&&"object"==typeof l&&"function"==typeof l.then){const n=J();if(e.then((e=>{N(n),i(t.then,1,t.value,e),N(null)}),(e=>{if(N(n),i(t.catch,2,t.error,e),N(null),!t.hasCatch)throw e})),t.current!==t.pending)return i(t.pending,0),!0}else{if(t.current!==t.then)return i(t.then,1,t.value,e),!0;t.resolved=e}var l}const $e="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ve(e,t){fe(e,1,1,(()=>{t.delete(e.key)}))}function ye(e,t,n,i,l,r,o,s,c,a,d,u){let f=e.length,h=r.length,p=f;const g={};for(;p--;)g[e[p].key]=p;const m=[],$=new Map,v=new Map;for(p=h;p--;){const e=u(l,r,p),s=n(e);let c=o.get(s);c?i&&c.p(e,t):(c=a(s,e),c.c()),$.set(s,m[p]=c),s in g&&v.set(s,Math.abs(p-g[s]))}const y=new Set,b=new Set;function w(e){ue(e,1),e.m(s,d),o.set(e.key,e),d=e.first,h--}for(;f&&h;){const t=m[h-1],n=e[f-1],i=t.key,l=n.key;t===n?(d=t.first,f--,h--):$.has(l)?!o.has(i)||y.has(i)?w(t):b.has(l)?f--:v.get(i)>v.get(l)?(b.add(i),w(t)):(y.add(l),f--):(c(n,o),f--)}for(;f--;){const t=e[f];$.has(t.key)||c(t,o)}for(;h;)w(m[h-1]);return m}function be(e,t,n){const i=e.$$.props[t];void 0!==i&&(e.$$.bound[i]=n,n(e.$$.ctx[i]))}function we(e){e&&e.c()}function xe(e,t,i){const{fragment:o,on_mount:s,on_destroy:c,after_update:a}=e.$$;o&&o.m(t,i),Q((()=>{const t=s.map(n).filter(r);c?c.push(...t):l(t),e.$$.on_mount=[]})),a.forEach(Q)}function ke(e,t){const n=e.$$;null!==n.fragment&&(l(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ze(e,t){-1===e.$$.dirty[0]&&(K.push(e),V||(V=!0,X.then(ne)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ce(t,n,r,o,s,c,a=[-1]){const d=O;N(t);const u=n.props||{},f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:i(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:i(),dirty:a,skip_bound:!1};let h=!1;if(f.ctx=r?r(t,u,((e,n,...i)=>{const l=i.length?i[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=l)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](l),h&&ze(t,e)),n})):[],f.update(),h=!0,l(f.before_update),f.fragment=!!o&&o(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(k)}else f.fragment&&f.fragment.c();n.intro&&ue(t.$$.fragment),xe(t,n.target,n.anchor),ne()}N(d)}class _e{$destroy(){ke(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const je=e=>({}),Be=e=>({});function Me(e){let t;const n=e[9]["custom-tip"],i=d(n,e,e[8],Be);return{c(){i&&i.c()},m(e,n){i&&i.m(e,n),t=!0},p(e,t){i&&i.p&&256&t&&f(i,n,e,e[8],t,je,Be)},i(e){t||(ue(i,e),t=!0)},o(e){fe(i,e),t=!1},d(e){i&&i.d(e)}}}function Se(t){let n,i;return{c(){n=C("div"),i=j(t[0]),E(n,"class","default-tip svelte-1cy3723"),E(n,"style",t[6])},m(e,t){x(e,n,t),w(n,i)},p(e,t){1&t&&H(i,e[0])},i:e,o:e,d(e){e&&k(n)}}}function Ee(e){let t,n,i,l,r,o,s;const c=e[9].default,a=d(c,e,e[8],null),u=[Se,Me],h=[];function p(e,t){return e[0]?0:1}return r=p(e),o=h[r]=u[r](e),{c(){t=C("div"),n=C("span"),a&&a.c(),i=B(),l=C("div"),o.c(),E(n,"class","tooltip-slot svelte-1cy3723"),E(l,"class","tooltip svelte-1cy3723"),F(l,"active",e[4]),F(l,"left",e[3]),F(l,"right",e[5]),F(l,"bottom",e[2]),F(l,"top",e[1]),E(t,"class","tooltip-wrapper svelte-1cy3723")},m(e,o){x(e,t,o),w(t,n),a&&a.m(n,null),w(t,i),w(t,l),h[r].m(l,null),s=!0},p(e,[t]){a&&a.p&&256&t&&f(a,c,e,e[8],t,null,null);let n=r;r=p(e),r===n?h[r].p(e,t):(ae(),fe(h[n],1,1,(()=>{h[n]=null})),de(),o=h[r],o||(o=h[r]=u[r](e),o.c()),ue(o,1),o.m(l,null)),16&t&&F(l,"active",e[4]),8&t&&F(l,"left",e[3]),32&t&&F(l,"right",e[5]),4&t&&F(l,"bottom",e[2]),2&t&&F(l,"top",e[1])},i(e){s||(ue(a,e),ue(o),s=!0)},o(e){fe(a,e),fe(o),s=!1},d(e){e&&k(t),a&&a.d(e),h[r].d()}}}function Pe(e,t,n){let{$$slots:i={},$$scope:l}=t,{tip:r=""}=t,{top:o=!1}=t,{bottom:s=!1}=t,{left:c=!1}=t,{active:a=!1}=t,{color:d="#222"}=t,u=!(o||s||c),f=`background-color: ${d};`;return e.$$set=e=>{"tip"in e&&n(0,r=e.tip),"top"in e&&n(1,o=e.top),"bottom"in e&&n(2,s=e.bottom),"left"in e&&n(3,c=e.left),"active"in e&&n(4,a=e.active),"color"in e&&n(7,d=e.color),"$$scope"in e&&n(8,l=e.$$scope)},[r,o,s,c,a,u,f,d,l,i]}class He extends _e{constructor(e){super(),Ce(this,e,Pe,Ee,o,{tip:0,top:1,bottom:2,left:3,active:4,color:7})}}function qe(e){let t,n;return t=new He({props:{tip:"Selected value will be used on app load. Click to apply default value on load",$$slots:{default:[Ie]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};8&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function Ie(t){let n,i,l;return{c(){n=C("span"),n.textContent="ðŸ”–",I(n,"cursor","pointer")},m(e,r){x(e,n,r),i||(l=S(n,"click",t[1]),i=!0)},p:e,d(e){e&&k(n),i=!1,l()}}}function Le(e){let t,n,i=e[0]&&qe(e);return{c(){i&&i.c(),t=M()},m(e,l){i&&i.m(e,l),x(e,t,l),n=!0},p(e,[n]){e[0]?i?(i.p(e,n),1&n&&ue(i,1)):(i=qe(e),i.c(),ue(i,1),i.m(t.parentNode,t)):i&&(ae(),fe(i,1,1,(()=>{i=null})),de())},i(e){n||(ue(i),n=!0)},o(e){fe(i),n=!1},d(e){i&&i.d(e),e&&k(t)}}}function Ae(e,t,n){let i,{key:l}=t;return e.$$set=e=>{"key"in e&&n(2,l=e.key)},e.$$.update=()=>{4&e.$$.dirty&&n(0,i=localStorage.getItem(l))},[i,function(){localStorage.removeItem(l),n(0,i=!1)},l]}class Fe extends _e{constructor(e){super(),Ce(this,e,Ae,Le,o,{key:2})}}function Te(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function Oe(e){const t=e-1;return t*t*t+1}function Ge(e,{delay:n=0,duration:i=400,easing:l=t}){const r=+getComputedStyle(e).opacity;return{delay:n,duration:i,easing:l,css:e=>"opacity: "+e*r}}function De(e,{delay:t=0,duration:n=400,easing:i=Oe,x:l=0,y:r=0,opacity:o=0}){const s=getComputedStyle(e),c=+s.opacity,a="none"===s.transform?"":s.transform,d=c*(1-o);return{delay:t,duration:n,easing:i,css:(e,t)=>`\n\t\t\ttransform: ${a} translate(${(1-e)*l}px, ${(1-e)*r}px);\n\t\t\topacity: ${c-d*t}`}}function Re(e,{delay:t=0,duration:n=400,easing:i=Oe}){const l=getComputedStyle(e),r=+l.opacity,o=parseFloat(l.height),s=parseFloat(l.paddingTop),c=parseFloat(l.paddingBottom),a=parseFloat(l.marginTop),d=parseFloat(l.marginBottom),u=parseFloat(l.borderTopWidth),f=parseFloat(l.borderBottomWidth);return{delay:t,duration:n,easing:i,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*r};height: ${e*o}px;padding-top: ${e*s}px;padding-bottom: ${e*c}px;margin-top: ${e*a}px;margin-bottom: ${e*d}px;border-top-width: ${e*u}px;border-bottom-width: ${e*f}px;`}}function Ne(e,{delay:t=0,speed:n,duration:i,easing:l=Te}){const r=e.getTotalLength();return void 0===i?i=void 0===n?800:r/n:"function"==typeof i&&(i=i(r)),{delay:t,duration:i,easing:l,css:(e,t)=>`stroke-dasharray: ${e*r} ${t*r}`}}const Je=[];function Ke(t,n=e){let i;const l=[];function r(e){if(o(t,e)&&(t=e,i)){const e=!Je.length;for(let e=0;e<l.length;e+=1){const n=l[e];n[1](),Je.push(n,t)}if(e){for(let e=0;e<Je.length;e+=2)Je[e][0](Je[e+1]);Je.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(o,s=e){const c=[o,s];return l.push(c),1===l.length&&(i=n(r)||e),o(t),()=>{const e=l.indexOf(c);-1!==e&&l.splice(e,1),0===l.length&&(i(),i=null)}}}}function We(e){const t=[];for(const n in e)for(let i=0;i<e[n];i++)t.push(n);return t[Math.floor(Math.random()*t.length)]}function Ze(e){return Math.random()<e}const Ue=function(){const e=e=>{const t=localStorage.getItem(e);return"null"===t?null:t},t=e=>localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null,n=+e("size")||200,i=e("diaper")||null,l=e("grad")||(h=["luster","spotlight","backlight"],h[Math.floor(Math.random()*h.length)]),r=e("shield")||We({heater:60,oldFrench:20,spanish:30,french:5,swiss:2,wedged:2,italian:1,round:1,renaissance:1,baroque:1,polish:1,german:1,diamond:1,kite:1,square:2,vesicaPiscis:1,flag:2,gonfalon:3}),o=t("colors")||{argent:"#fafafa",or:"#ffe066",gules:"#d7374a",sable:"#333333",azure:"#377cd7",vert:"#26c061",purpure:"#522d5b"},s=e("border")||"#333333",c=+e("borderWidth")||1,a=e("background")||"#333333",d=+e("scale")||2,u=+e("grid")||1,f=t("showGrid")||0;var h;return{size:n,diaper:i,grad:l,shield:r,colors:o,border:s,borderWidth:c,background:a,scale:d,grid:u,showGrid:f}}(),Xe=Ke(Ue.size),Ve=Ke(Ue.grad),Qe=Ke(Ue.diaper),Ye=Ke(Ue.shield),et=Ke(Ue.colors),tt=Ke(Ue.background),nt=Ke(Ue.scale),it=Ke(Ue.border),lt=Ke(Ue.borderWidth),rt=Ke(Ue.grid),ot=Ke(Ue.showGrid),st=Ke([]),ct=Ke([]),at=Ke(0),dt=Ke({edit:0,about:0,i:0}),ut=(()=>{const{subscribe:e,set:t,update:n}=Ke([void 0,-1]);let i=[],l=-1;return{subscribe:e,length:()=>i.length,reset:()=>{i=[],l=-1,t([void 0,-1])},add(e){e!==i[l]&&(l<i.length-1&&(i=i.slice(0,l+1)),i.push(e),l+=1,t([i[l],l]))},undo:()=>n((e=>(l>0&&(l-=1),[i[l],l]))),redo:()=>n((e=>(l<i.length-1&&(l+=1),[i[l],l]))),toString:()=>`value: ${i}; position: ${l}`}})(),ft=Ke([]),ht=Ke([]);async function pt(e){const t=e?[document.getElementById("coa"+e)]:document.querySelectorAll("svg.coa");let n=+t[0].getAttribute("width"),i=+t[0].getAttribute("height");const l=t.length>1?Math.floor(window.innerWidth/n):1,r=t.length>1?Math.ceil(t.length/l):1,o=c(nt);n=Math.round(n*o),i=Math.round(i*o);const s=document.createElement("canvas"),a=s.getContext("2d");s.width=n*l,s.height=i*r,a.fillStyle=c(tt),a.fillRect(0,0,s.width,s.height);let d=0;t.forEach((async function(e,r){const o=await async function(e){const t=e.cloneNode(!0),n=t.getElementsByTagName("defs")[0],i=t.getElementById("grid"),l=t.getElementById("gridPattern");i&&i.remove();l&&l.remove();const r=c(Ye),o=c(Ve),s=c(Qe);n.insertAdjacentHTML("beforeend",defs.getElementById(r).outerHTML),o&&n.insertAdjacentHTML("beforeend",defs.getElementById(o).outerHTML);s&&n.insertAdjacentHTML("beforeend",defs.getElementById(s).outerHTML);t.querySelectorAll(".charge[charge]").forEach((e=>{const t=e.getAttribute("charge");n.insertAdjacentHTML("beforeend",defs.getElementById(t).outerHTML)}));const a=t.getElementById("field").getAttribute("fill").split("(#")[1]?.split(")")[0];a&&n.insertAdjacentHTML("beforeend",document.getElementById(a).outerHTML);const d=t.getElementById("division")?.querySelector("rect").getAttribute("fill").split("(#")[1]?.split(")")[0];d&&n.insertAdjacentHTML("beforeend",document.getElementById(d).outerHTML);const u=(new XMLSerializer).serializeToString(t),f=new Blob([u],{type:"image/svg+xml;charset=utf-8"});return window.URL.createObjectURL(f)}(e),u=new Image;u.src=o,u.onload=()=>{URL.revokeObjectURL(o),a.drawImage(u,r%l*n,Math.floor(r/l)*i,n,i),d++,d===t.length&&function(e){const t=document.createElement("a");t.download="armoria_download.png",e.toBlob((function(n){console.log(n),t.href=window.URL.createObjectURL(n),document.body.appendChild(t),t.click(),setTimeout((function(){e.remove(),window.URL.revokeObjectURL(t.href)}),5e3)}))}(s)}}))}function gt(e,t,n){const i=e.slice();return i[48]=t[n],i}function mt(e,t,n){const i=e.slice();return i[51]=t[n],i}function $t(e,t,n){const i=e.slice();return i[54]=t[n],i}function vt(e,t,n){const i=e.slice();return i[57]=t[n],i[58]=t,i[59]=n,i}function yt(e,t,n){const i=e.slice();return i[60]=t[n],i[62]=n,i}function bt(e){let t,n,i,l,r,o,s,c=e[13][e[62]]+"",a=e[60].split(/(?=[A-Z])/).join(" ")+"";function d(...t){return e[22](e[60],...t)}return{c(){t=C("bt"),n=_("svg"),i=B(),l=j(a),r=B(),E(n,"class","shield svelte-kxyair"),E(n,"width","26"),E(n,"height","26"),E(n,"viewBox","0 0 200 200"),F(n,"selected",e[60]===e[4]),E(t,"class","svelte-kxyair")},m(e,a){x(e,t,a),w(t,n),n.innerHTML=c,w(t,i),w(t,l),w(t,r),o||(s=S(t,"click",d),o=!0)},p(t,i){e=t,4112&i[0]&&F(n,"selected",e[60]===e[4])},d(e){e&&k(t),o=!1,s()}}}function wt(e){let t;return{c(){t=j("Shield")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function xt(e){let t,n;return t=new He({props:{tip:"Restore default color",$$slots:{default:[kt]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};32&n[0]|2&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function kt(e){let t,n,i;function l(...t){return e[23](e[57],...t)}return{c(){t=C("span"),t.textContent="â­¯",E(t,"class","svelte-kxyair")},m(e,r){x(e,t,r),n||(i=S(t,"click",l),n=!0)},p(t,n){e=t},d(e){e&&k(t),n=!1,i()}}}function zt(e){let t,n,i,l,r,o,s,c,a,d=e[57]+"",u=e[5][e[57]]!==e[18][e[57]]&&xt(e);function f(){e[24].call(r,e[57])}return{c(){t=C("bl"),n=j(d),i=B(),u&&u.c(),l=B(),r=C("input"),o=B(),E(r,"type","color"),E(r,"class","svelte-kxyair"),E(t,"class","svelte-kxyair")},m(d,h){x(d,t,h),w(t,n),w(t,i),u&&u.m(t,null),w(t,l),w(t,r),q(r,e[5][e[57]]),w(t,o),s=!0,c||(a=S(r,"input",f),c=!0)},p(n,i){(e=n)[5][e[57]]!==e[18][e[57]]?u?(u.p(e,i),32&i[0]&&ue(u,1)):(u=xt(e),u.c(),ue(u,1),u.m(t,l)):u&&(ae(),fe(u,1,1,(()=>{u=null})),de()),131104&i[0]&&q(r,e[5][e[57]])},i(e){s||(ue(u),s=!0)},o(e){fe(u),s=!1},d(e){e&&k(t),u&&u.d(),c=!1,a()}}}function Ct(e){let t;return{c(){t=j("Colors")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function _t(e){let t,n,i,l,r=e[54]+"";function o(...t){return e[26](e[54],...t)}return{c(){t=C("bt"),n=j(r),E(t,"class","svelte-kxyair"),F(t,"selected",e[54]===e[2])},m(e,r){x(e,t,r),w(t,n),i||(l=S(t,"click",o),i=!0)},p(n,i){e=n,32772&i[0]&&F(t,"selected",e[54]===e[2])},d(e){e&&k(t),i=!1,l()}}}function jt(e){let t;return{c(){t=j("Gradient")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Bt(e){let t,n,i,l,r=e[51]+"";function o(...t){return e[28](e[51],...t)}return{c(){t=C("bt"),n=j(r),E(t,"class","svelte-kxyair"),F(t,"selected",e[51]===e[3])},m(e,r){x(e,t,r),w(t,n),i||(l=S(t,"click",o),i=!0)},p(n,i){e=n,65544&i[0]&&F(t,"selected",e[51]===e[3])},d(e){e&&k(t),i=!1,l()}}}function Mt(e){let t;return{c(){t=j("Damasking")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function St(e){let t,n;return t=new He({props:{tip:"Restore default color",$$slots:{default:[Et]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};256&n[0]|2&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function Et(t){let n,i,l;return{c(){n=C("span"),n.textContent="â­¯",E(n,"class","svelte-kxyair")},m(e,r){x(e,n,r),i||(l=S(n,"click",t[29]),i=!0)},p:e,d(e){e&&k(n),i=!1,l()}}}function Pt(e){let t;return{c(){t=j("Border")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Ht(e){let t,n,i,l,r=e[48][1]+"";function o(...t){return e[32](e[48],...t)}return{c(){t=C("bt"),n=j(r),E(t,"class","svelte-kxyair"),F(t,"selected",e[1]==e[48][0])},m(e,r){x(e,t,r),w(t,n),i||(l=S(t,"click",o),i=!0)},p(n,i){e=n,16386&i[0]&&F(t,"selected",e[1]==e[48][0])},d(e){e&&k(t),i=!1,l()}}}function qt(e){let t;return{c(){t=j("Gallery")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function It(t){let n,i,l;return{c(){n=C("span"),n.textContent="â­®",E(n,"class","svelte-kxyair")},m(e,r){x(e,n,r),i||(l=S(n,"click",t[21]),i=!0)},p:e,d(e){e&&k(n),i=!1,l()}}}function Lt(e){let t,n;return t=new He({props:{tip:"Restore default color",$$slots:{default:[At]},$$scope:{ctx:e}}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};64&n[0]|2&n[2]&&(i.$$scope={dirty:n,ctx:e}),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function At(t){let n,i,l;return{c(){n=C("span"),n.textContent="â­¯",E(n,"class","svelte-kxyair")},m(e,r){x(e,n,r),i||(l=S(n,"click",t[33]),i=!0)},p:e,d(e){e&&k(n),i=!1,l()}}}function Ft(e){let t;return{c(){t=j("Background")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Tt(e){let t;return{c(){t=j("Scale")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Ot(t){let n;return{c(){n=C("bd"),n.textContent=""+t[20]("rollback"),I(n,"color","#333"),E(n,"class","svelte-kxyair")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function Gt(e){let t,n,i,l,r;return n=new He({props:{tip:"Roll to the previous list. Hotkey: Backspace",$$slots:{default:[Dt]},$$scope:{ctx:e}}}),{c(){t=C("bt"),we(n.$$.fragment),E(t,"class","svelte-kxyair")},m(o,s){x(o,t,s),xe(n,t,null),i=!0,l||(r=S(t,"click",e[37]),l=!0)},p(e,t){const i={};2&t[2]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(e){i||(ue(n.$$.fragment,e),i=!0)},o(e){fe(n.$$.fragment,e),i=!1},d(e){e&&k(t),ke(n),l=!1,r()}}}function Dt(t){let n,i=t[20]("rollback")+"";return{c(){n=j(i)},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function Rt(t){let n,i=t[20]("reroll")+"";return{c(){n=j(i)},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function Nt(t){let n,i=t[20]("download")+"";return{c(){n=j(i)},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function Jt(e){let t,n,i,l,r,o,s,c;const a=[Wt,Kt],d=[];function u(e,t){return e[0]>0?0:1}t=u(e),n=d[t]=a[t](e);const f=[Xt,Ut],h=[];function p(e,t){return 1&t[0]&&(l=!!(e[0]<ut.length()-1)),l?0:1}return r=p(e,[-1]),o=h[r]=f[r](e),{c(){n.c(),i=B(),o.c(),s=M()},m(e,n){d[t].m(e,n),x(e,i,n),h[r].m(e,n),x(e,s,n),c=!0},p(e,l){let c=t;t=u(e),t===c?d[t].p(e,l):(ae(),fe(d[c],1,1,(()=>{d[c]=null})),de(),n=d[t],n||(n=d[t]=a[t](e),n.c()),ue(n,1),n.m(i.parentNode,i));let g=r;r=p(e,l),r===g?h[r].p(e,l):(ae(),fe(h[g],1,1,(()=>{h[g]=null})),de(),o=h[r],o||(o=h[r]=f[r](e),o.c()),ue(o,1),o.m(s.parentNode,s))},i(e){c||(ue(n),ue(o),c=!0)},o(e){fe(n),fe(o),c=!1},d(e){d[t].d(e),e&&k(i),h[r].d(e),e&&k(s)}}}function Kt(t){let n;return{c(){n=C("bd"),n.textContent=""+t[20]("undo"),I(n,"color","#333"),E(n,"class","svelte-kxyair")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function Wt(e){let t,n,i,l,r;return n=new He({props:{tip:"Revert the latest change. Hotkey: Z",$$slots:{default:[Zt]},$$scope:{ctx:e}}}),{c(){t=C("bt"),we(n.$$.fragment),E(t,"class","svelte-kxyair")},m(o,s){x(o,t,s),xe(n,t,null),i=!0,l||(r=S(t,"click",e[40]),l=!0)},p(e,t){const i={};2&t[2]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(e){i||(ue(n.$$.fragment,e),i=!0)},o(e){fe(n.$$.fragment,e),i=!1},d(e){e&&k(t),ke(n),l=!1,r()}}}function Zt(t){let n,i=t[20]("undo")+"";return{c(){n=j(i)},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function Ut(t){let n;return{c(){n=C("bd"),n.textContent=""+t[20]("redo"),I(n,"color","#333"),E(n,"class","svelte-kxyair")},m(e,t){x(e,n,t)},p:e,i:e,o:e,d(e){e&&k(n)}}}function Xt(e){let t,n,i,l,r;return n=new He({props:{tip:"Restore next change. Hotkey: X",$$slots:{default:[Vt]},$$scope:{ctx:e}}}),{c(){t=C("bt"),we(n.$$.fragment),E(t,"class","svelte-kxyair")},m(o,s){x(o,t,s),xe(n,t,null),i=!0,l||(r=S(t,"click",e[41]),l=!0)},p(e,t){const i={};2&t[2]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(e){i||(ue(n.$$.fragment,e),i=!0)},o(e){fe(n.$$.fragment,e),i=!1},d(e){e&&k(t),ke(n),l=!1,r()}}}function Vt(t){let n,i=t[20]("redo")+"";return{c(){n=j(i)},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function Qt(e){let t,n,i,l,r,o;return n=new He({props:{tip:"Get back to Gallery",left:!0,$$slots:{default:[Yt]},$$scope:{ctx:e}}}),{c(){t=C("bt"),we(n.$$.fragment),E(t,"id","back"),E(t,"class","svelte-kxyair")},m(i,s){x(i,t,s),xe(n,t,null),l=!0,r||(o=S(t,"click",e[42]),r=!0)},p(e,t){const i={};2&t[2]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(e){l||(ue(n.$$.fragment,e),Q((()=>{i||(i=ge(t,Ge,{},!0)),i.run(1)})),l=!0)},o(e){fe(n.$$.fragment,e),i||(i=ge(t,Ge,{},!1)),i.run(0),l=!1},d(e){e&&k(t),ke(n),e&&i&&i.end(),r=!1,o()}}}function Yt(t){let n,i=t[20]("back")+"";return{c(){n=j(i)},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function en(e){let t,n,i,l,r;return n=new He({props:{tip:"Show about screen. Hotkey: F1",$$slots:{default:[tn]},$$scope:{ctx:e}}}),{c(){t=C("bt"),we(n.$$.fragment),E(t,"class","svelte-kxyair")},m(o,s){x(o,t,s),xe(n,t,null),i=!0,l||(r=S(t,"click",e[43]),l=!0)},p(e,t){const i={};2&t[2]&&(i.$$scope={dirty:t,ctx:e}),n.$set(i)},i(e){i||(ue(n.$$.fragment,e),i=!0)},o(e){fe(n.$$.fragment,e),i=!1},d(e){e&&k(t),ke(n),l=!1,r()}}}function tn(t){let n,i=t[20]("about")+"";return{c(){n=j(i)},m(e,t){x(e,n,t)},p:e,d(e){e&&k(n)}}}function nn(e){let t,n,i,r,o,s,c,a,d,u,f,h,p,g,m,$,v,y,b,M,H,I,L,A,T,O,G,D,R,N,J,K,W,Z,U,X,V,Q,Y,ee,te,ne,ie,le,re,oe,se,ce,he,pe,ge,me,$e,ve,ye,be,ze,Ce,_e,je,Be,Me,Se,Ee,Pe,qe,Ie,Le,Ae,Te,Oe,Ge,De,Re,Ne,Je,Ke,We,Ze,Ue,Xe,Ve,Qe,Ye,et,tt,nt,it,lt,rt,ot,st,ct,at,dt,ut,ft,ht,pt,xt,kt,Et,At,Dt,Kt,Wt,Zt,Ut=e[19]&&function(e){let t,n,i,l;return{c(){t=_("svg"),n=_("title"),i=j("Armoria: Heraldry Generator"),l=_("path"),E(l,"fill","#fff"),E(l,"stroke","none"),E(l,"d","m 46,3 0.6,1.4 c -1.5,0.7 -2.6,1.4 -3.3,2.2 -0.7,0.7 -1.2,1.5 -1.5,2.4 -0.3,0.9 -0.4,2.2 -0.4,3.9 0,0.6 0,1.3 0,2.2 l 0.5,23.2 c 0,2.5 0.3,4.2 0.8,5 0.4,0.6 0.8,0.8 1.3,0.8 0.6,0 1.5,-0.6 2.8,-1.8 l 0.9,1.1 -5.8,4.9 -1.9,1.6 C 38.4,49.2 37.2,48.2 36.5,46.9 35.8,45.7 35.3,36.7 35.2,34 c -7.6,0.1 -20.2,0 -20.2,0 0,0 -7.4,9.1 -7.4,11.1 0,0.6 0.2,1.1 0.6,1.8 0.5,0.9 0.8,1.4 0.8,1.7 0,0.4 -0.1,0.7 -0.4,1 -0.3,0.3 -0.6,0.4 -1.1,0.4 -0.5,0 -0.9,-0.2 -1.2,-0.6 -0.5,-0.6 -0.7,-1.3 -0.7,-2.2 0,-1 0.3,-2.1 0.8,-3.3 C 8.8,39.9 11.3,36.7 14.1,32.9 11.1,30.7 9,28.5 7.8,26.4 6.6,24.4 6,22.1 6,19.5 c 0,-3 0.8,-5.7 2.3,-8.3 1.5,-2.5 3.8,-4.5 6.9,-6 3.1,-1.5 6.2,-2.2 9.4,-2.2 4.9,0 9.7,1.7 14.3,5.1 1.1,-1.2 2.2,-2.1 3.2,-2.9 1,-0.8 2.4,-1.5 4,-2.3 z M 30.7,10.2 c -2.6,-1.3 -5.2,-1.9 -7.8,-1.9 -2.7,0 -5.3,0.6 -7.8,1.8 -2.4,1.2 -4.2,2.8 -5.4,4.7 -1.2,1.9 -1.8,3.9 -1.8,5.9 0,4.2 2.3,8 6.9,11.3 L 25.2,17.7 c -1.6,-0.8 -2.9,-1.3 -4.2,-1.3 -1.7,0 -3.1,0.8 -4.2,2.4 -0.4,0.7 -1,0.5 -1.1,-0.2 0,-0.6 0.3,-1.5 1,-2.7 0.7,-1.1 1.6,-2.1 2.9,-2.8 1.3,-0.7 2.6,-1.1 4,-1.1 1.4,0 3.1,0.4 4.9,1.1 z m 4,3.2 C 34,12.4 32.8,11.5 32,11 L 18.4,29.4 h 16.7 z"),E(t,"class","logo svelte-kxyair"),E(t,"width","35"),E(t,"height","35"),E(t,"viewBox","-2 -1 55 55")},m(e,r){x(e,t,r),w(t,n),w(n,i),w(t,l)},d(e){e&&k(t)}}}(),Xt=e[12],Vt=[];for(let t=0;t<Xt.length;t+=1)Vt[t]=bt(yt(e,Xt,t));h=new Fe({props:{key:"shield"}}),g=new He({props:{tip:"Shield or banner form. Some forms do not work well with auto-generated heralrdy",$$slots:{default:[wt]},$$scope:{ctx:e}}});let Yt=e[17],tn=[];for(let t=0;t<Yt.length;t+=1)tn[t]=zt(vt(e,Yt,t));const nn=e=>fe(tn[e],1,1,(()=>{tn[e]=null}));M=new Fe({props:{key:"colors"}}),I=new He({props:{tip:"Hue of tinctures and metals. Edit COA to change tincture or metal itself",$$slots:{default:[Ct]},$$scope:{ctx:e}}});let ln=e[15],rn=[];for(let t=0;t<ln.length;t+=1)rn[t]=_t($t(e,ln,t));N=new Fe({props:{key:"grad"}}),K=new He({props:{tip:"Gradient (overlay) style to be applied over coat of arms",$$slots:{default:[jt]},$$scope:{ctx:e}}});let on=e[16],sn=[];for(let t=0;t<on.length;t+=1)sn[t]=Bt(mt(e,on,t));ee=new Fe({props:{key:"diaper"}}),ne=new He({props:{tip:"Diaper (subtle backing on coat of arms) style",$$slots:{default:[Mt]},$$scope:{ctx:e}}});let cn="#333333"!==e[8]&&St(e);be=new Fe({props:{key:"border"}}),Ce=new He({props:{tip:"Border style for coat of arms",$$slots:{default:[Pt]},$$scope:{ctx:e}}});let an=e[14],dn=[];for(let t=0;t<an.length;t+=1)dn[t]=Ht(gt(e,an,t));Ee=new Fe({props:{key:"size"}}),qe=new He({props:{tip:"Gallery size",$$slots:{default:[qt]},$$scope:{ctx:e}}}),Ge=new He({props:{tip:"Select random color",$$slots:{default:[It]},$$scope:{ctx:e}}});let un="#333333"!==e[6]&&Lt(e);We=new Fe({props:{key:"background"}}),Ue=new He({props:{tip:"Background color",$$slots:{default:[Ft]},$$scope:{ctx:e}}}),rt=new Fe({props:{key:"scale"}}),st=new He({props:{tip:"Downloaded image size, 1 is default size, 2 - 2x size, etc.",$$slots:{default:[Tt]},$$scope:{ctx:e}}});const fn=[Gt,Ot],hn=[];function pn(e,t){return e[10]?0:1}at=pn(e),dt=hn[at]=fn[at](e),ht=new He({props:{tip:"Regenerate coat of arms. Hotkey: Enter",$$slots:{default:[Rt]},$$scope:{ctx:e}}}),kt=new He({props:{tip:"Download png image. Set size in options. Hotkey: D",$$slots:{default:[Nt]},$$scope:{ctx:e}}});let gn=e[11].edit&&Jt(e),mn=e[11].edit&&Qt(e),$n=(e[19]||!e[11].edit)&&en(e);return{c(){t=C("div"),n=C("ul"),Ut&&Ut.c(),i=B(),r=C("div"),o=C("bl"),o.textContent=""+e[20]("options"),s=B(),c=C("div"),a=C("div"),d=C("div");for(let e=0;e<Vt.length;e+=1)Vt[e].c();u=B(),f=C("bl"),we(h.$$.fragment),p=B(),we(g.$$.fragment),m=B(),$=C("div"),v=C("div");for(let e=0;e<tn.length;e+=1)tn[e].c();y=B(),b=C("bl"),we(M.$$.fragment),H=B(),we(I.$$.fragment),L=B(),A=C("div"),T=C("div"),O=C("bt"),O.textContent="No gradient",G=B();for(let e=0;e<rn.length;e+=1)rn[e].c();D=B(),R=C("bl"),we(N.$$.fragment),J=B(),we(K.$$.fragment),W=B(),Z=C("div"),U=C("div"),X=C("bt"),X.textContent="No pattern",V=B();for(let e=0;e<sn.length;e+=1)sn[e].c();Q=B(),Y=C("bl"),we(ee.$$.fragment),te=B(),we(ne.$$.fragment),ie=B(),le=C("div"),re=C("div"),oe=C("bl"),se=j("Color\n              "),cn&&cn.c(),ce=B(),he=C("input"),pe=B(),ge=C("bl"),me=j("Width\n              "),$e=C("input"),ve=B(),ye=C("bl"),we(be.$$.fragment),ze=B(),we(Ce.$$.fragment),_e=B(),je=C("div"),Be=C("div");for(let e=0;e<dn.length;e+=1)dn[e].c();Me=B(),Se=C("bl"),we(Ee.$$.fragment),Pe=B(),we(qe.$$.fragment),Ie=B(),Le=C("div"),Ae=C("div"),Te=C("bl"),Oe=j("Color\n              "),we(Ge.$$.fragment),De=B(),un&&un.c(),Re=B(),Ne=C("input"),Je=B(),Ke=C("bl"),we(We.$$.fragment),Ze=B(),we(Ue.$$.fragment),Xe=B(),Ve=C("div"),Qe=C("div"),Ye=C("bl"),et=C("input"),tt=B(),nt=C("input"),it=B(),lt=C("bl"),we(rt.$$.fragment),ot=B(),we(st.$$.fragment),ct=B(),dt.c(),ut=B(),ft=C("bt"),we(ht.$$.fragment),pt=B(),xt=C("bt"),we(kt.$$.fragment),Et=B(),gn&&gn.c(),At=B(),mn&&mn.c(),Dt=B(),$n&&$n.c(),E(o,"class","svelte-kxyair"),E(d,"class","dropdown level2 columns3 iconed svelte-kxyair"),E(f,"class","svelte-kxyair"),E(a,"class","container svelte-kxyair"),E(v,"class","dropdown level2 svelte-kxyair"),E(b,"class","svelte-kxyair"),E($,"class","container svelte-kxyair"),E(O,"class","svelte-kxyair"),F(O,"selected",!e[2]),E(T,"class","dropdown level2 svelte-kxyair"),E(R,"class","svelte-kxyair"),E(A,"class","container svelte-kxyair"),E(X,"class","svelte-kxyair"),F(X,"selected",!e[3]),E(U,"class","dropdown level2 svelte-kxyair"),E(Y,"class","svelte-kxyair"),E(Z,"class","container svelte-kxyair"),E(he,"type","color"),E(he,"class","svelte-kxyair"),E(oe,"class","svelte-kxyair"),E($e,"class","right svelte-kxyair"),E($e,"type","number"),E($e,"min","0"),E($e,"max","4"),E($e,"step",".1"),E(ge,"class","svelte-kxyair"),E(re,"class","dropdown level2 svelte-kxyair"),E(ye,"class","svelte-kxyair"),E(le,"class","container svelte-kxyair"),E(Be,"class","dropdown level2 svelte-kxyair"),E(Se,"class","svelte-kxyair"),E(je,"class","container svelte-kxyair"),E(Ne,"type","color"),E(Ne,"class","svelte-kxyair"),E(Te,"class","svelte-kxyair"),E(Ae,"class","dropdown level2 svelte-kxyair"),E(Ke,"class","svelte-kxyair"),E(Le,"class","container svelte-kxyair"),E(et,"type","range"),E(et,"min","1"),E(et,"max","4"),E(et,"step",".1"),E(et,"class","svelte-kxyair"),E(nt,"type","number"),E(nt,"min","1"),E(nt,"max","4"),E(nt,"step",".1"),E(nt,"class","svelte-kxyair"),E(Ye,"class","wide svelte-kxyair"),E(Qe,"class","dropdown level2 svelte-kxyair"),E(lt,"class","svelte-kxyair"),E(Ve,"class","container svelte-kxyair"),E(c,"class","dropdown level1 svelte-kxyair"),E(r,"class","container svelte-kxyair"),E(ft,"class","svelte-kxyair"),E(xt,"class","svelte-kxyair"),E(n,"class","svelte-kxyair"),E(t,"id","navbar")},m(l,k){x(l,t,k),w(t,n),Ut&&Ut.m(n,null),w(n,i),w(n,r),w(r,o),w(r,s),w(r,c),w(c,a),w(a,d);for(let e=0;e<Vt.length;e+=1)Vt[e].m(d,null);w(a,u),w(a,f),xe(h,f,null),w(f,p),xe(g,f,null),w(c,m),w(c,$),w($,v);for(let e=0;e<tn.length;e+=1)tn[e].m(v,null);w($,y),w($,b),xe(M,b,null),w(b,H),xe(I,b,null),w(c,L),w(c,A),w(A,T),w(T,O),w(T,G);for(let e=0;e<rn.length;e+=1)rn[e].m(T,null);w(A,D),w(A,R),xe(N,R,null),w(R,J),xe(K,R,null),w(c,W),w(c,Z),w(Z,U),w(U,X),w(U,V);for(let e=0;e<sn.length;e+=1)sn[e].m(U,null);w(Z,Q),w(Z,Y),xe(ee,Y,null),w(Y,te),xe(ne,Y,null),w(c,ie),w(c,le),w(le,re),w(re,oe),w(oe,se),cn&&cn.m(oe,null),w(oe,ce),w(oe,he),q(he,e[8]),w(re,pe),w(re,ge),w(ge,me),w(ge,$e),q($e,e[9]),w(le,ve),w(le,ye),xe(be,ye,null),w(ye,ze),xe(Ce,ye,null),w(c,_e),w(c,je),w(je,Be);for(let e=0;e<dn.length;e+=1)dn[e].m(Be,null);w(je,Me),w(je,Se),xe(Ee,Se,null),w(Se,Pe),xe(qe,Se,null),w(c,Ie),w(c,Le),w(Le,Ae),w(Ae,Te),w(Te,Oe),xe(Ge,Te,null),w(Te,De),un&&un.m(Te,null),w(Te,Re),w(Te,Ne),q(Ne,e[6]),w(Le,Je),w(Le,Ke),xe(We,Ke,null),w(Ke,Ze),xe(Ue,Ke,null),w(c,Xe),w(c,Ve),w(Ve,Qe),w(Qe,Ye),w(Ye,et),q(et,e[7]),w(Ye,tt),w(Ye,nt),q(nt,e[7]),w(Ve,it),w(Ve,lt),xe(rt,lt,null),w(lt,ot),xe(st,lt,null),w(n,ct),hn[at].m(n,null),w(n,ut),w(n,ft),xe(ht,ft,null),w(n,pt),w(n,xt),xe(kt,xt,null),w(n,Et),gn&&gn.m(n,null),w(n,At),mn&&mn.m(n,null),w(n,Dt),$n&&$n.m(n,null),Kt=!0,Wt||(Zt=[S(O,"click",e[25]),S(X,"click",e[27]),S(he,"input",e[30]),S($e,"input",e[31]),S(Ne,"input",e[34]),S(et,"change",e[35]),S(et,"input",e[35]),S(nt,"input",e[36]),S(ft,"click",e[38]),S(xt,"click",e[39])],Wt=!0)},p(e,t){if(12304&t[0]){let n;for(Xt=e[12],n=0;n<Xt.length;n+=1){const i=yt(e,Xt,n);Vt[n]?Vt[n].p(i,t):(Vt[n]=bt(i),Vt[n].c(),Vt[n].m(d,null))}for(;n<Vt.length;n+=1)Vt[n].d(1);Vt.length=Xt.length}const i={};if(2&t[2]&&(i.$$scope={dirty:t,ctx:e}),g.$set(i),393248&t[0]){let n;for(Yt=e[17],n=0;n<Yt.length;n+=1){const i=vt(e,Yt,n);tn[n]?(tn[n].p(i,t),ue(tn[n],1)):(tn[n]=zt(i),tn[n].c(),ue(tn[n],1),tn[n].m(v,null))}for(ae(),n=Yt.length;n<tn.length;n+=1)nn(n);de()}const l={};if(2&t[2]&&(l.$$scope={dirty:t,ctx:e}),I.$set(l),4&t[0]&&F(O,"selected",!e[2]),32772&t[0]){let n;for(ln=e[15],n=0;n<ln.length;n+=1){const i=$t(e,ln,n);rn[n]?rn[n].p(i,t):(rn[n]=_t(i),rn[n].c(),rn[n].m(T,null))}for(;n<rn.length;n+=1)rn[n].d(1);rn.length=ln.length}const r={};if(2&t[2]&&(r.$$scope={dirty:t,ctx:e}),K.$set(r),8&t[0]&&F(X,"selected",!e[3]),65544&t[0]){let n;for(on=e[16],n=0;n<on.length;n+=1){const i=mt(e,on,n);sn[n]?sn[n].p(i,t):(sn[n]=Bt(i),sn[n].c(),sn[n].m(U,null))}for(;n<sn.length;n+=1)sn[n].d(1);sn.length=on.length}const o={};2&t[2]&&(o.$$scope={dirty:t,ctx:e}),ne.$set(o),"#333333"!==e[8]?cn?(cn.p(e,t),256&t[0]&&ue(cn,1)):(cn=St(e),cn.c(),ue(cn,1),cn.m(oe,ce)):cn&&(ae(),fe(cn,1,1,(()=>{cn=null})),de()),256&t[0]&&q(he,e[8]),512&t[0]&&P($e.value)!==e[9]&&q($e,e[9]);const s={};if(2&t[2]&&(s.$$scope={dirty:t,ctx:e}),Ce.$set(s),16386&t[0]){let n;for(an=e[14],n=0;n<an.length;n+=1){const i=gt(e,an,n);dn[n]?dn[n].p(i,t):(dn[n]=Ht(i),dn[n].c(),dn[n].m(Be,null))}for(;n<dn.length;n+=1)dn[n].d(1);dn.length=an.length}const c={};2&t[2]&&(c.$$scope={dirty:t,ctx:e}),qe.$set(c);const a={};2&t[2]&&(a.$$scope={dirty:t,ctx:e}),Ge.$set(a),"#333333"!==e[6]?un?(un.p(e,t),64&t[0]&&ue(un,1)):(un=Lt(e),un.c(),ue(un,1),un.m(Te,Re)):un&&(ae(),fe(un,1,1,(()=>{un=null})),de()),64&t[0]&&q(Ne,e[6]);const u={};2&t[2]&&(u.$$scope={dirty:t,ctx:e}),Ue.$set(u),128&t[0]&&q(et,e[7]),128&t[0]&&P(nt.value)!==e[7]&&q(nt,e[7]);const f={};2&t[2]&&(f.$$scope={dirty:t,ctx:e}),st.$set(f);let h=at;at=pn(e),at===h?hn[at].p(e,t):(ae(),fe(hn[h],1,1,(()=>{hn[h]=null})),de(),dt=hn[at],dt||(dt=hn[at]=fn[at](e),dt.c()),ue(dt,1),dt.m(n,ut));const p={};2&t[2]&&(p.$$scope={dirty:t,ctx:e}),ht.$set(p);const m={};2&t[2]&&(m.$$scope={dirty:t,ctx:e}),kt.$set(m),e[11].edit?gn?(gn.p(e,t),2048&t[0]&&ue(gn,1)):(gn=Jt(e),gn.c(),ue(gn,1),gn.m(n,At)):gn&&(ae(),fe(gn,1,1,(()=>{gn=null})),de()),e[11].edit?mn?(mn.p(e,t),2048&t[0]&&ue(mn,1)):(mn=Qt(e),mn.c(),ue(mn,1),mn.m(n,Dt)):mn&&(ae(),fe(mn,1,1,(()=>{mn=null})),de()),e[19]||!e[11].edit?$n?($n.p(e,t),2048&t[0]&&ue($n,1)):($n=en(e),$n.c(),ue($n,1),$n.m(n,null)):$n&&(ae(),fe($n,1,1,(()=>{$n=null})),de())},i(e){if(!Kt){ue(h.$$.fragment,e),ue(g.$$.fragment,e);for(let e=0;e<Yt.length;e+=1)ue(tn[e]);ue(M.$$.fragment,e),ue(I.$$.fragment,e),ue(N.$$.fragment,e),ue(K.$$.fragment,e),ue(ee.$$.fragment,e),ue(ne.$$.fragment,e),ue(cn),ue(be.$$.fragment,e),ue(Ce.$$.fragment,e),ue(Ee.$$.fragment,e),ue(qe.$$.fragment,e),ue(Ge.$$.fragment,e),ue(un),ue(We.$$.fragment,e),ue(Ue.$$.fragment,e),ue(rt.$$.fragment,e),ue(st.$$.fragment,e),ue(dt),ue(ht.$$.fragment,e),ue(kt.$$.fragment,e),ue(gn),ue(mn),ue($n),Kt=!0}},o(e){fe(h.$$.fragment,e),fe(g.$$.fragment,e),tn=tn.filter(Boolean);for(let e=0;e<tn.length;e+=1)fe(tn[e]);fe(M.$$.fragment,e),fe(I.$$.fragment,e),fe(N.$$.fragment,e),fe(K.$$.fragment,e),fe(ee.$$.fragment,e),fe(ne.$$.fragment,e),fe(cn),fe(be.$$.fragment,e),fe(Ce.$$.fragment,e),fe(Ee.$$.fragment,e),fe(qe.$$.fragment,e),fe(Ge.$$.fragment,e),fe(un),fe(We.$$.fragment,e),fe(Ue.$$.fragment,e),fe(rt.$$.fragment,e),fe(st.$$.fragment,e),fe(dt),fe(ht.$$.fragment,e),fe(kt.$$.fragment,e),fe(gn),fe(mn),fe($n),Kt=!1},d(e){e&&k(t),Ut&&Ut.d(),z(Vt,e),ke(h),ke(g),z(tn,e),ke(M),ke(I),z(rn,e),ke(N),ke(K),z(sn,e),ke(ee),ke(ne),cn&&cn.d(),ke(be),ke(Ce),z(dn,e),ke(Ee),ke(qe),ke(Ge),un&&un.d(),ke(We),ke(Ue),ke(rt),ke(st),hn[at].d(),ke(ht),ke(kt),gn&&gn.d(),mn&&mn.d(),$n&&$n.d(),Wt=!1,l(Zt)}}}function ln(e,t,n){let i,l,r,o,s,c,d,u,f,h,g,m;a(e,ut,(e=>n(44,i=e))),a(e,Xe,(e=>n(1,l=e))),a(e,Ve,(e=>n(2,r=e))),a(e,Qe,(e=>n(3,o=e))),a(e,Ye,(e=>n(4,s=e))),a(e,et,(e=>n(5,c=e))),a(e,tt,(e=>n(6,d=e))),a(e,nt,(e=>n(7,u=e))),a(e,it,(e=>n(8,f=e))),a(e,lt,(e=>n(9,h=e))),a(e,at,(e=>n(10,g=e))),a(e,dt,(e=>n(11,m=e)));const $=["heater","oldFrench","spanish","french","swiss","wedged","italian","round","renaissance","baroque","polish","german","diamond","kite","vesicaPiscis","square","flag","pennon","guidon","banner","dovetail","gonfalon","pennant"],v=$.map((e=>document.getElementById(e).innerHTML)),y=["argent","or","gules","sable","azure","vert","purpure"],b={argent:"#fafafa",or:"#ffe066",gules:"#d7374a",sable:"#333333",azure:"#377cd7",vert:"#26c061",purpure:"#522d5b"},w=window.innerWidth>600,x={options:"â˜°",rollback:"â­¯",reroll:"â­®",download:"â‡©",undo:"â¤º",redo:"â¤»",back:"â®ª",about:"A"};const k=[];function z(e,t){k.includes(e)?localStorage.setItem(e,t):k.push(e)}let C;return e.$$.update=()=>{8192&e.$$.dirty[1]&&n(0,C=i[1]),2&e.$$.dirty[0]&&z("size",l),4&e.$$.dirty[0]&&z("grad",r),8&e.$$.dirty[0]&&z("diaper",o),16&e.$$.dirty[0]&&z("shield",s),32&e.$$.dirty[0]&&z("colors",JSON.stringify(c)),64&e.$$.dirty[0]&&z("background",d),128&e.$$.dirty[0]&&z("scale",u),256&e.$$.dirty[0]&&z("border",f),512&e.$$.dirty[0]&&z("borderWidth",h)},[C,l,r,o,s,c,d,u,f,h,g,m,$,v,[[80,"Giant"],[100,"Huge"],[150,"Large"],[200,"Medium"],[300,"Small"],[400,"Tiny"]],["luster","spotlight","backlight"],["nourse","tessellation","sennwald","sulzbach"],y,b,w,function(e){return w?e:x[e]||e},function(){p(tt,d="#"+[0,0,0,0,0,0].map((()=>"0123456789ABCDEF"[Math.floor(16*Math.random())])).join(""),d)},e=>p(Ye,s=e,s),e=>p(et,c[e]=b[e],c),function(e){c[e]=this.value,et.set(c),n(17,y)},()=>p(Ve,r=null,r),e=>p(Ve,r=e,r),()=>p(Qe,o=null,o),e=>p(Qe,o=e,o),()=>p(it,f="#333333",f),function(){f=this.value,it.set(f)},function(){h=P(this.value),lt.set(h)},e=>p(Xe,l=e[0],l),()=>p(tt,d="#333333",d),function(){d=this.value,tt.set(d)},function(){u=P(this.value),nt.set(u)},function(){u=P(this.value),nt.set(u)},()=>p(at,g-=1,g),()=>p(at,g+=1,g),()=>pt(),()=>ut.undo(),()=>ut.redo(),()=>p(dt,m.edit=0,m),()=>p(dt,m.about=1,m)]}class rn extends _e{constructor(e){super(),Ce(this,e,ln,nn,o,{},[-1,-1,-1])}}function on(t){let n,i,l,r,o,s,c,a,d,u,f,h,p,g,m,$,v,y;return{c(){n=_("svg"),i=_("g"),l=_("path"),o=_("path"),a=_("g"),d=_("rect"),f=_("path"),g=_("rect"),$=_("g"),v=_("path"),E(l,"stroke-width","1"),E(l,"d","M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z"),E(o,"d",s=t[7][t[6]][0]),E(d,"x","0"),E(d,"y","0"),E(d,"width","200"),E(d,"height","200"),E(d,"fill",u=t[2][t[4]]),E(f,"d",h=t[7][t[6]][1]),E(f,"fill",p=t[2][t[5]]),E(g,"x","0"),E(g,"y","0"),E(g,"width","200"),E(g,"height","200"),E(g,"fill","url(#nourse)"),E(a,"stroke","none"),E(i,"clip-path","url(#heater)"),E(i,"stroke","#fff"),E(i,"stroke-width",".5"),E(v,"d","M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z"),E($,"stroke","#000"),E($,"fill","url(#backlight)"),E(n,"width",t[1]),E(n,"height",t[1]),E(n,"viewBox","0 0 200 200")},m(e,t){x(e,n,t),w(n,i),w(i,l),w(i,o),w(i,a),w(a,d),w(a,f),w(a,g),w(n,$),w($,v)},p(e,[i]){t=e,4&i&&u!==(u=t[2][t[4]])&&E(d,"fill",u),4&i&&p!==(p=t[2][t[5]])&&E(f,"fill",p),2&i&&E(n,"width",t[1]),2&i&&E(n,"height",t[1])},i(e){r||Q((()=>{r=pe(l,Ne,{duration:t[0]}),r.start()})),c||Q((()=>{c=pe(o,Ne,{delay:t[0]}),c.start()})),m||Q((()=>{m=pe(a,Ge,{delay:t[3],duration:t[0]}),m.start()})),y||Q((()=>{y=pe(v,Ne,{delay:t[3],duration:t[0]}),y.start()}))},o:e,d(e){e&&k(n)}}}function sn(e,t,n){let i;a(e,et,(e=>n(2,i=e)));let{duration:l}=t;const r=2.6*l,o={argent:3,or:2},s={gules:5,sable:3,azure:4,vert:2,purpure:3},c=Math.random()>.5,d=We(c?o:s),u=We(c?s:o),f=We({perPale:2,perFess:2,perBend:2,perBendSinister:1,perCross:6,perChevron:1,perChevronReversed:1,perPile:2,perSaltire:5,gyronny:1,chevronny:1});let h=window.innerWidth<600?.9*window.innerWidth:500;return window.innerHeight<600&&(h*=.5),e.$$set=e=>{"duration"in e&&n(0,l=e.duration)},[l,h,i,r,d,u,f,{perPale:["M100,25 v175","M100,0 v200 h100 v-200 Z"],perFess:["M27.5,100 h145","M0,100 h200 v100 h-200 Z"],perBend:["M0,0 l200,200","M0,0 l200,200 h-200 Z"],perBendSinister:["M200,0 L0,200","M200,0 L0,200 h200 Z"],perCross:["M100,25 v175 M27.5,100 h145","M100,0 v200 h-100 v-100 h200 v-100 Z"],perChevron:["M0,0 l100,100 l100,-100","M0,0 l100,100 l100,-100 Z"],perChevronReversed:["M0,200 l100,-100 l100,100","M0,200 l100,-100 l100,100 Z"],perPile:["M15,0 l85,200 l85,-200","M15,0 l85,200 l85,-200 Z"],perSaltire:["M0,0 L200,200 M200,0 l-200,200","M0,0 L200,200 v-200 l-200,200 Z"],gyronny:["M0,0 l200,200 M200,100 h-200 M100,0 v200 M0,200 l200,-200","M0,0 l200,200 v-100 h-200 h-100 M100,0 v200, h-100 l200,-200 h-100"],chevronny:["","M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z"]}]}class cn extends _e{constructor(e){super(),Ce(this,e,sn,on,o,{duration:0})}}function an(e){let t,n,i,l,r,o,s,c,a,d,u,f;return r=new cn({props:{duration:dn}}),{c(){t=C("div"),n=C("span"),n.textContent="Ã—",i=B(),l=C("div"),we(r.$$.fragment),o=B(),s=C("div"),s.innerHTML='<a target="_blank" href="https://discord.com/invite/X7E84HU" class="svelte-1nsdu3z"><span translate="no" class="svelte-1nsdu3z">Discord</span></a> \n      <a target="_blank" href="https://github.com/Azgaar/Armoria" class="svelte-1nsdu3z"><span translate="no" class="svelte-1nsdu3z">GitHub</span></a> \n      <a target="_blank" href="https://www.patreon.com/azgaar" class="svelte-1nsdu3z"><span translate="no" class="svelte-1nsdu3z">Patreon</span></a>',E(n,"class","close svelte-1nsdu3z"),E(s,"class","buttons svelte-1nsdu3z"),E(l,"id","aboutCont"),E(l,"class","svelte-1nsdu3z"),E(t,"id","about"),E(t,"class","svelte-1nsdu3z")},m(c,a){x(c,t,a),w(t,n),w(t,i),w(t,l),xe(r,l,null),w(l,o),w(l,s),d=!0,u||(f=S(n,"click",e[1]),u=!0)},p(t,[n]){e=t},i(e){d||(ue(r.$$.fragment,e),c||Q((()=>{c=pe(s,De,{y:200,delay:dn,duration:dn}),c.start()})),Q((()=>{a||(a=ge(t,Ge,{},!0)),a.run(1)})),d=!0)},o(e){fe(r.$$.fragment,e),a||(a=ge(t,Ge,{},!1)),a.run(0),d=!1},d(e){e&&k(t),ke(r),e&&a&&a.end(),u=!1,f()}}}const dn=1e3;function un(e,t,n){let i;a(e,dt,(e=>n(0,i=e)));return[i,()=>p(dt,i.about=0,i)]}class fn extends _e{constructor(e){super(),Ce(this,e,un,an,o,{})}}function hn(e){let t,n,i,l,r,o=function(e,t){if(!t)return document.getElementById(e)?.innerHTML;const n=document.getElementById(e),i=document.getElementById(t)?document.getElementById(t):document.getElementById("straight");return n.innerHTML.replace(/{line}/g,i.getAttribute("d")).replace(/dpath/g,"d")}(e[4].ordinary,e[4].line)+"";return{c(){t=_("g"),E(t,"class","ordinary svelte-172iswd"),E(t,"transform",n=$n(e[4])),E(t,"transform-origin","center"),E(t,"fill",i=e[1][e[2]]),F(t,"editable",e[3].edit)},m(n,i){x(n,t,i),t.innerHTML=o,l||(r=S(t,"mousedown",e[9]),l=!0)},p(e,n){6&n&&i!==(i=e[1][e[2]])&&E(t,"fill",i),8&n&&F(t,"editable",e[3].edit)},d(e){e&&k(t),l=!1,r()}}}function pn(e){let t,n,i,l,r,o;return{c(){t=_("g"),n=_("path"),E(n,"d",e[0]),E(n,"fill","none"),E(n,"stroke",i=e[1][e[2]]),E(n,"stroke-width","5%"),E(n,"transform","scale(.85)"),E(n,"transform-origin","center"),E(t,"class","ordinary svelte-172iswd"),E(t,"transform",l=$n(e[4])),E(t,"transform-origin","center"),F(t,"editable",e[3].edit)},m(i,l){x(i,t,l),w(t,n),r||(o=S(t,"mousedown",e[8]),r=!0)},p(e,l){1&l&&E(n,"d",e[0]),6&l&&i!==(i=e[1][e[2]])&&E(n,"stroke",i),8&l&&F(t,"editable",e[3].edit)},d(e){e&&k(t),r=!1,o()}}}function gn(e){let t,n,i,l,r,o;return{c(){t=_("g"),n=_("path"),E(n,"d",e[0]),E(n,"fill","none"),E(n,"stroke",i=e[1][e[2]]),E(n,"stroke-width","16.7%"),E(t,"class","ordinary svelte-172iswd"),E(t,"transform",l=$n(e[4])),E(t,"transform-origin","center"),F(t,"editable",e[3].edit)},m(i,l){x(i,t,l),w(t,n),r||(o=S(t,"mousedown",e[7]),r=!0)},p(e,l){1&l&&E(n,"d",e[0]),6&l&&i!==(i=e[1][e[2]])&&E(n,"stroke",i),8&l&&F(t,"editable",e[3].edit)},d(e){e&&k(t),r=!1,o()}}}function mn(t){let n;let i=function(e,t){return"bordure"===e[4].ordinary?gn:"orle"===e[4].ordinary?pn:hn}(t)(t);return{c(){i.c(),n=M()},m(e,t){i.m(e,t),x(e,n,t)},p(e,[t]){i.p(e,t)},i:e,o:e,d(e){i.d(e),e&&k(n)}}}function $n(e){return e.x||e.y||e.angle||e.size?`rotate(${e.angle||0}) translate(${e.x||0} ${e.y||0}) scale(${e.size||1})`:null}function vn(e,t,n){let i,l;a(e,dt,(e=>n(3,i=e))),a(e,rt,(e=>n(10,l=e)));let{coa:r}=t,{shieldPath:o}=t,{colors:s}=t,{t:c}=t;const d=r.ordinary;function u(e,t){if(!i.edit)return;const n=e.currentTarget,[o,s,c]=function(e){if(!e)return[0,0,0,0,0,1];const t=e.replace(/[a-z()]/g,"").replace(/[ ]/g,",").split(",");return[+t[0]||0,+t[1]||0,+t[2]||0,+t[3]||0,+t[4]||0,+t[5]||1]}(n.getAttribute("transform")),a=e.x,d=e.y,u=+n.closest("svg").getAttribute("width")/200,f=-o*(Math.PI/180),h=Math.cos(f),p=Math.sin(f);function g(e){document.body.style.cursor="move";const i=s+(e.x-a)/u,r=c+(e.y-d)/u,o=i*h-r*p,f=i*p+r*h;t.x=Math.round(o/l)*l,t.y=Math.round(f/l)*l;const g=$n(t);g?n.setAttribute("transform",g):n.removeAttribute("transform")}document.addEventListener("mousemove",g),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",g),document.body.style.cursor="auto",ut.add(JSON.stringify(r))}),{once:!0})}return e.$$set=e=>{"coa"in e&&n(6,r=e.coa),"shieldPath"in e&&n(0,o=e.shieldPath),"colors"in e&&n(1,s=e.colors),"t"in e&&n(2,c=e.t)},[o,s,c,i,d,u,r,function(e){i.edit&&u(e,d)},function(e){i.edit&&u(e,d)},function(e){i.edit&&u(e,d)}]}class yn extends _e{constructor(e){super(),Ce(this,e,vn,mn,o,{coa:6,shieldPath:0,colors:1,t:2})}}const bn={field:{metals:5,colours:7,patterns:2},division:{metals:5,colours:7,patterns:1},charge:{metals:2,colours:3},metals:{field:{argent:3,or:2},division:{argent:3,or:2},charge:{argent:1,or:2}},colours:{field:{gules:5,sable:3,azure:4,vert:2,purpure:3},division:{gules:5,sable:3,azure:4,vert:2,purpure:3},charge:{gules:7,sable:1,azure:5,vert:3,purpure:2}},patterns:{field:{semy:1,vair:2,vairInPale:1,vairEnPointe:2,ermine:2,chequy:4,lozengy:2,fusily:1,pally:4,barry:4,gemelles:1,bendy:3,bendySinister:2,palyBendy:1,pappellony:2,masoned:3,fretty:2},division:{semy:1,vair:3,vairInPale:2,vairEnPointe:3,ermine:4,chequy:3,lozengy:1,fusily:1,pally:5,barry:5,bendy:2,bendySinister:1,pappellony:1,masoned:3,fretty:1}}},wn=["a","b","c","d","e","f","g","h","i","kn","bh","df","pq","jo","lm","abc","def","ghi","adg","beh","cfi","jeo","jln","kmo","peq","lem","bhdf","jleh","behdf","acegi","bdefh","kenpq","abcpqh","abcdefgzi","ABCDEFGHIJKL"],xn={conventional:{e:20,abcdefgzi:3,beh:3,behdf:2,acegi:1,kn:3,bhdf:1,jeo:1,abc:3,jln:6,jlh:3,kmo:2,jleh:1,def:3,abcpqh:4,ABCDEFGHIJKL:1},complex:{e:40,beh:1,kn:1,jeo:1,abc:2,jln:7,jlh:2,def:1,abcpqh:1},divisions:{perPale:{e:15,pq:5,jo:2,jl:2,ABCDEFGHIJKL:1},perFess:{e:12,kn:4,jkl:2,gizgiz:1,jlh:3,kmo:1,ABCDEFGHIJKL:1},perBend:{e:5,lm:5,bcfdgh:1},perBendSinister:{e:1,jo:1},perCross:{e:4,jlmo:1,jj:1,jo:2,jl:1},perChevron:{e:1,jlh:1,dfk:1,dfkh:2,bdefh:1},perChevronReversed:{e:1,mok:2,dfh:2,dfkh:1,bdefh:1},perSaltire:{bhdf:8,e:3,abcdefgzi:1,bh:1,df:1,beh:1,behdf:1,ABCDEFGHIJKL:1},perPile:{ee:3,be:2,abceh:1,abcabc:1,jleh:1}},ordinariesOn:{pale:{ee:12,beh:10,kn:3,bb:1},fess:{ee:1,def:3},bar:{defdefdef:1},fessCotissed:{ee:1,def:3},fessDoubleCotissed:{ee:1,defdef:3},bend:{ee:2,jo:1,joe:1},bendSinister:{ee:1,lm:1,lem:4},bendlet:{joejoejoe:1},bendletSinister:{lemlemlem:1},bordure:{ABCDEFGHIJKL:1},chief:{abc:5,bb:1},quarter:{jjj:1},canton:{yyyy:1},cross:{eeee:1,behdfbehdf:3,behbehbeh:2},crossParted:{e:5,ee:1},saltire:{ee:5,jlemo:1},saltireParted:{e:5,ee:1},pall:{ee:1,acez:5,jlhh:3},pallReversed:{ee:1,bemo:5},pile:{bb:1},pileInBend:{eeee:1,eeoo:1},pileInBendSinister:{eeee:1,eemm:1}},ordinariesOff:{pale:{yy:1},fess:{abc:3,abcz:1},bar:{abc:2,abcgzi:1,jlh:5,bgi:2,ach:1},gemelle:{abc:1},bend:{cg:2,cc:1},bendSinister:{ai:2,aa:1},bendlet:{cg:2,cc:1},bendletSinister:{ai:2,aa:1},bordure:{e:4,jleh:2,kenken:1,peqpeq:1},orle:{e:4,jleh:1,kenken:1,peqpeq:1},chief:{emo:2,emoz:1,ez:2},terrace:{e:5,def:1,bdf:3},mount:{e:5,def:1,bdf:3},point:{e:2,def:1,bdf:3,acbdef:1},flaunches:{e:3,kn:1,beh:3},qyron:{bh:1},quarter:{e:1},canton:{e:5,beh:1,def:1,bdefh:1,kn:1},cross:{acgi:1},pall:{BCKFEILGbdmfo:1},pallReversed:{aczac:1},chevron:{ach:3,hh:1},chevronReversed:{bb:1},pile:{acdfgi:1,acac:1},pileInBend:{cg:1},pileInBendSinister:{ai:1},label:{defgzi:2,eh:3,defdefhmo:1,egiegi:1,pqn:5}},inescutcheonHeater:{e:3,jln:1},inescutcheonOldFrench:{e:3,jln:1},inescutcheonSpanish:{e:3,jln:1},mascle:{e:15,abcdefgzi:3,beh:3,bdefh:4,acegi:1,kn:3,joe:2,abc:3,jlh:8,jleh:1,df:3,abcpqh:4,pqe:3,eknpq:3},lionRampant:{e:10,def:2,abc:2,bdefh:1,kn:1,jlh:2,abcpqh:1},lionPassant:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},wolfPassant:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},"greyhoundÐ¡ourant":{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},griffinRampant:{e:10,def:2,abc:2,bdefh:1,kn:1,jlh:2,abcpqh:1},griffinPassant:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},boarRampant:{e:12,beh:1,kn:1,jln:2},eagle:{e:15,beh:1,kn:1,abc:1,jlh:2,def:2,pq:1},raven:{e:15,beh:1,kn:1,jeo:1,abc:3,jln:3,def:1},wyvern:{e:10,jln:1},garb:{e:1,def:3,abc:2,beh:1,kn:1,jln:3,jleh:1,abcpqh:1,joe:1,lme:1},crown:{e:10,abcdefgzi:1,beh:3,behdf:2,acegi:1,kn:1,pq:2,abc:1,jln:4,jleh:1,def:2,abcpqh:3},hand:{e:10,jln:2,kn:1,jeo:1,abc:2,pqe:1}},kn={straight:40,wavy:8,engrailed:4,invecked:3,rayonne:3,embattled:1,raguly:1,urdy:1,dancetty:1,indented:2,dentilly:1,bevilled:1,angled:1,flechy:1,barby:1,enclavy:1,escartely:1,arched:2,archedReversed:1,nowy:1,nowyReversed:1,embattledGhibellin:1,embattledNotched:1,embattledGrady:1,dovetailedIndented:1,dovetailed:1,potenty:1,potentyDexter:1,potentySinister:1,nebuly:2,seaWaves:1,dragonTeeth:1,firTrees:1},zn={variants:{perPale:5,perFess:5,perBend:2,perBendSinister:1,perChevron:1,perChevronReversed:1,perCross:5,perPile:1,perSaltire:1,gyronny:1,chevronny:1},perPale:kn,perFess:kn,perBend:kn,perBendSinister:kn,perChevron:kn,perChevronReversed:kn,perCross:{straight:20,wavy:5,engrailed:4,invecked:3,rayonne:1,embattled:1,raguly:1,urdy:1,indented:2,dentilly:1,bevilled:1,angled:1,embattledGhibellin:1,embattledGrady:1,dovetailedIndented:1,dovetailed:1,potenty:1,potentyDexter:1,potentySinister:1,nebuly:1},perPile:kn},Cn={lined:{pale:7,fess:5,bend:3,bendSinister:2,chief:5,bar:2,gemelle:1,fessCotissed:1,fessDoubleCotissed:1,bendlet:2,bendletSinister:1,terrace:3,cross:6,crossParted:1,saltire:2,saltireParted:1},straight:{bordure:8,orle:4,mount:1,point:2,flaunches:1,gore:1,qyron:1,quarter:1,canton:2,pall:3,pallReversed:2,chevron:4,chevronReversed:3,pile:2,pileInBend:2,pileInBendSinister:1,piles:1,pilesInPoint:2,label:1}},_n={types:{conventional:30,crosses:8,animals:3,birds:2,aquatic:1,fantastic:3,plants:1,agriculture:1,arms:1,bodyparts:1,miscellaneous:3,inescutcheon:3},single:{conventional:12,crosses:8,plants:2,animals:11,birds:4,aquatic:2,fantastic:7,agriculture:1,arms:5,bodyparts:1,miscellaneous:8,inescutcheon:5},semy:{conventional:12,crosses:3,plants:1},conventional:{lozenge:2,fusil:4,mascle:4,rustre:2,lozengeFaceted:3,lozengePloye:1,roundel:7,annulet:4,mullet:5,mulletPierced:1,mulletFaceted:1,mullet4:3,mullet6:4,mullet6Pierced:1,mullet6Faceted:1,mullet7:1,mullet8:1,mullet10:1,estoile:1,billet:5,triangle:3,trianglePierced:1,goutte:4,heart:4,pique:2,trefle:2,"Ñarreau":1,fleurDeLis:6,sun:3,sunInSplendour:1,crescent:5,fountain:1,compassRose:1,fountain:1},inescutcheon:{inescutcheonHeater:2,inescutcheonOldFrench:1,inescutcheonSpanish:4},crosses:{crossHummetty:15,crossVoided:1,crossPattee:3,crossPotent:2,crossClechy:3,crosslet:1,crossBottony:1,crossFleury:3,crossPatonce:1,crossPommy:1,crossGamma:1,crossArrowed:1,crossFitchy:1,crossCercelee:1,crossMoline:2,crossFourchy:1,crossAvellane:1,crossErminee:1,crossMaltese:3,crossCeltic:1,crossOccitan:1,crossSaltire:3,crossTau:1},animals:{lionRampant:4,lionPassant:1,wolfPassant:1,"greyhoundÐ¡ourant":1,boarRampant:1,horseRampant:1,horseSalient:1,bullPassant:1,bullHeadCaboshed:1,deerHeadCaboshed:1},fantastic:{dragonPassant:3,wyvern:2,griffinPassant:1,griffinRampant:1,eagleTwoHeards:2,unicornRampant:1,pegasus:1,serpent:1},birds:{eagle:9,raven:2,cock:3,parrot:1,swan:2,swanErased:1,heron:1},plants:{cinquefoil:1,rose:1},aquatic:{escallop:5,pike:1,cancer:1},agriculture:{garb:1},arms:{sword:5,hatchet:2,lochaberAxe:1,mallet:1},bodyparts:{hand:1},miscellaneous:{crown:3,key:1,buckle:1,bugleHorn:1,horseshoe:3,stagsAttires:1,cowHorns:2,wing:1,wingSword:1,lute:1,harp:1,wheel:2,boat:1},natural:{fountain:"azure",garb:"or",raven:"sable"},sinister:["crossGamma","lionRampant","lionPassant","wolfPassant","greyhoundÐ¡ourant","boarRampant","horseRampant","horseSalient","bullPassant","eagle","raven","cock","parrot","swan","swanErased","heron","pike","dragonPassant","wyvern","griffinPassant","griffinRampant","unicornRampant","pegasus","serpent","hatchet","lochaberAxe","hand","wing","wingSword","lute","harp"],reversed:["goutte","mullet","mullet7","crescent","crossTau","cancer","sword","hand","horseshoe"]},jn={heater:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32.25,37.5],h:[0,50],i:[32.25,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-32.5,32.5],n:[0,42.5],o:[32.5,32.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.2,-20],E:[66.2,-20],J:[-55.5,26],F:[55.5,26],I:[-33,62],G:[33,62],H:[0,89.5]},oldFrench:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,45],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.2,-20],E:[66.2,-20],J:[-64,26],F:[64,26],I:[-45,62],G:[45,62],H:[0,91.5]},spanish:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,50],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.4,-20],E:[66.4,-20],J:[-66.4,26],F:[66.4,26],I:[-49,70],G:[49,70],H:[0,92]},french:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,65],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.4,-20],E:[66.4,-20],J:[-66.4,26],F:[66.4,26],I:[-65.4,70],G:[65.4,70],H:[0,89]},swiss:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32,37.5],h:[0,50],i:[32,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-32,32.5],n:[0,42.5],o:[32,32.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66],C:[22,-66],D:[66.2,-66.6],K:[-63,-20],E:[63,-20],J:[-50,26],F:[50,26],I:[-29,62],G:[29,62],H:[0,89.5]},wedged:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32.25,37.5],h:[0,50],i:[32.25,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-32.5,32.5],n:[0,42.5],o:[32.5,32.5],p:[-37.5,0],q:[37.5,0],A:[-66,-53],B:[-22,-72.5],C:[22,-72.5],D:[66,-53],K:[-62.6,-13],E:[62.6,-13],J:[-50,26],F:[50,26],I:[-27,62],G:[27,62],H:[0,87]},italian:{a:[-37.5,-50],b:[0,-50],c:[37.5,-50],d:[-43,0],e:[0,0],f:[43,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-48,-48],z:[0,60],j:[-35.5,-37.5],k:[0,-37.5],l:[35.5,-37.5],m:[-35.5,37.5],n:[0,50],o:[35.5,37.5],p:[-36.5,0],q:[36.5,0],A:[-48,-48],B:[-23,-78],C:[23,-78],D:[48,-48],K:[-59,-10],E:[59,-10],J:[-55,31],F:[55,31],I:[-36,68],G:[36,68],H:[0,85]},round:{a:[-40,-47.5],b:[0,-47.5],c:[40,-47.5],d:[-40,0],e:[0,0],f:[40,0],g:[-32.5,47.5],h:[0,47.5],i:[32.5,47.5],y:[-48,-48],z:[0,57.5],j:[-35.5,-35.5],k:[0,-37.5],l:[35.5,-35.5],m:[-35.5,35.5],n:[0,37.5],o:[35.5,35.5],p:[-36.5,0],q:[36.5,0],A:[-59,-48],B:[-23,-73],C:[23,-73],D:[59,-48],K:[-76,-10],E:[76,-10],J:[-70,31],F:[70,31],I:[-42,64],G:[42,64],H:[0,77]},renaissance:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-41.5,0],e:[0,0],f:[41.5,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-61,-55],B:[-23,-67],C:[23,-67],D:[61,-55],K:[-55,-11],E:[55,-11],J:[-65,31],F:[65,31],I:[-45,76],G:[45,76],H:[0,87]},baroque:{a:[-43.75,-45],b:[0,-50],c:[43.75,-45],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,60],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,50],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-65,-54.5],B:[-22,-65],C:[22,-65],D:[65,-54.5],K:[-58.5,-15],E:[58.5,-15],J:[-65,31],F:[66,31],I:[-35,73],G:[35,73],H:[0,89]},polish:{a:[-35,-50],b:[0,-50],c:[35,-50],d:[-40,0],e:[0,0],f:[40,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-50,-50],z:[0,65],j:[-27.5,-27.5],k:[0,-45],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,45],o:[27.5,27.5],p:[-32.5,0],q:[32.5,0],A:[-48,-52],B:[-23,-80],C:[23,-80],D:[48,-52],K:[-47,-10],E:[47,-10],J:[-62,32],F:[62,32],I:[-37,68],G:[37,68],H:[0,86]},german:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-40,0],e:[0,0],f:[40,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,60],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,50],o:[37.5,37.5],p:[-32.5,0],q:[32.5,0],A:[-55,-59],B:[-15,-59],C:[24,-79],D:[50,-58],K:[-40,-14],E:[51,-14],J:[-64,26],F:[62,26],I:[-46,66],G:[48,67],H:[0,83]},diamond:{a:[-32,-37],b:[0,-50],c:[32,-37],d:[-43,0],e:[0,0],f:[43,0],g:[-32,37],h:[0,50],i:[32,37],y:[-50,-50],z:[0,62],j:[-27.5,-27.5],k:[0,-37],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,42],o:[27.5,27.5],p:[-37,0],q:[37,0],A:[-43,-28],B:[-22,-56],C:[22,-56],D:[43,-28],K:[-63,0],E:[63,0],J:[-42,28],F:[42,28],I:[-22,56],G:[22,56],H:[0,83],L:[0,-82]},kite:{b:[0,-65],e:[0,-15],h:[0,35],z:[0,35],k:[0,-50],n:[0,20],p:[-20,-15],q:[20,-15],A:[-38,-52],B:[-29,-78],C:[29,-78],D:[38,-52],K:[-33,-20],E:[33,-20],J:[-25,11],F:[25,11],I:[-15,42],G:[15,42],H:[0,73],L:[0,-91]},vesicaPiscis:{a:[-32,-37],b:[0,-50],c:[32,-37],d:[-32,0],e:[0,0],f:[32,0],g:[-32,37],h:[0,50],i:[32,37],y:[-50,-50],z:[0,62],j:[-27.5,-27.5],k:[0,-37],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,42],o:[27.5,27.5],p:[-27.5,0],q:[27.5,0],A:[-45,-32],B:[-29,-63],C:[29,-63],D:[45,-32],K:[-50,0],E:[50,0],J:[-45,32],F:[45,32],I:[-29,63],G:[29,63],H:[0,89],L:[0,-89]},square:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],h:[0,50],i:[49.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-66.5,66.5],G:[66.5,66.5],H:[-22,66.5],L:[22,66.5]},flag:{a:[-60,-40],b:[0,-40],c:[60,-40],d:[-60,0],e:[0,0],f:[60,0],g:[-60,40],h:[0,40],i:[60,40],y:[-60,-42.5],z:[0,40],j:[-45,-30],k:[0,-30],l:[45,-30],m:[-45,30],n:[0,30],o:[45,30],p:[-45,0],q:[45,0],A:[-81,-51],B:[-27,-51],C:[27,-51],D:[81,-51],K:[-81,-17],E:[81,-17],J:[-81,17],F:[81,17],I:[-81,51],G:[81,51],H:[-27,51],L:[27,51]},pennon:{a:[-75,-40],d:[-75,0],e:[-25,0],f:[25,0],g:[-75,40],y:[-70,-42.5],j:[-60,-30],m:[-60,30],p:[-60,0],q:[5,0],A:[-81,-48],B:[-43,-36],C:[-4.5,-24],D:[33,-12],E:[72,0],F:[33,12],G:[-4.5,24],H:[-43,36],I:[-81,48],J:[-81,17],K:[-81,-17]},guidon:{a:[-60,-40],b:[0,-40],c:[60,-40],d:[-60,0],e:[0,0],g:[-60,40],h:[0,40],i:[60,40],y:[-60,-42.5],z:[0,40],j:[-45,-30],k:[0,-30],l:[45,-30],m:[-45,30],n:[0,30],o:[45,30],p:[-45,0],A:[-81,-51],B:[-27,-51],C:[27,-51],D:[78,-51],K:[-81,-17],E:[40.5,-17],J:[-81,17],F:[40.5,17],I:[-81,51],G:[78,51],H:[-27,51],L:[27,51]},banner:{a:[-50,-50],b:[0,-50],c:[50,-50],d:[-50,0],e:[0,0],f:[50,0],g:[-50,40],h:[0,40],i:[50,40],y:[-50,-50],z:[0,40],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,27.5],n:[0,27.5],o:[37.5,27.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-66.5,66.5],G:[66.5,66.5],H:[-25,75],L:[25,75]},dovetail:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],i:[49.75,50],y:[-50,-50],z:[0,40],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,32.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-16.5],E:[66.5,-16.5],J:[-66.5,34.5],F:[66.5,34.5],I:[-66.5,84.5],G:[66.5,84.5],H:[-25,64],L:[25,64]},gonfalon:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],h:[0,50],i:[49.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-40,63],G:[40,63],H:[0,88]},pennant:{a:[-45,-50],b:[0,-50],c:[45,-50],e:[0,0],h:[0,50],y:[-50,-50],z:[0,50],j:[-32.5,-37.5],k:[0,-37.5],l:[32.5,-37.5],n:[0,37.5],A:[-60,-76],B:[-22,-76],C:[22,-76],D:[60,-76],K:[-46,-38],E:[46,-38],J:[-31,0],F:[31,0],I:[-16,38],G:[16,38],H:[0,76]}};function Bn(e,t,n){const i=e.slice();return i[16]=t[n],i}function Mn(e){let t,n,i,l;return{c(){t=_("use"),E(t,"href",n="#"+e[0].charge),E(t,"transform",i=e[8](e[4],e[0],e[16])),E(t,"transform-origin","center"),E(t,"fill",l=e[2][e[3]])},m(e,n){x(e,t,n)},p(e,r){1&r&&n!==(n="#"+e[0].charge)&&E(t,"href",n),49&r&&i!==(i=e[8](e[4],e[0],e[16]))&&E(t,"transform",i),12&r&&l!==(l=e[2][e[3]])&&E(t,"fill",l)},d(e){e&&k(t)}}}function Sn(t){let n,i,l,r,o,s=t[5],c=[];for(let e=0;e<s.length;e+=1)c[e]=Mn(Bn(t,s,e));return{c(){n=_("g");for(let e=0;e<c.length;e+=1)c[e].c();E(n,"class","charge svelte-172iswd"),E(n,"i",t[1]),E(n,"charge",i=t[7](t[0].charge)),E(n,"transform",l=En(t[0])),E(n,"transform-origin","center"),E(n,"stroke","#000"),F(n,"editable",t[6].edit)},m(e,i){x(e,n,i);for(let e=0;e<c.length;e+=1)c[e].m(n,null);r||(o=S(n,"mousedown",t[12]),r=!0)},p(e,[t]){if(317&t){let i;for(s=e[5],i=0;i<s.length;i+=1){const l=Bn(e,s,i);c[i]?c[i].p(l,t):(c[i]=Mn(l),c[i].c(),c[i].m(n,null))}for(;i<c.length;i+=1)c[i].d(1);c.length=s.length}2&t&&E(n,"i",e[1]),1&t&&i!==(i=e[7](e[0].charge))&&E(n,"charge",i),1&t&&l!==(l=En(e[0]))&&E(n,"transform",l),64&t&&F(n,"editable",e[6].edit)},i:e,o:e,d(e){e&&k(n),z(c,e),r=!1,o()}}}function En(e){return e.x||e.y||e.angle?`rotate(${e.angle||0}) translate(${e.x||0} ${e.y||0})`:null}function Pn(e,t,n){let i,l,r;a(e,ft,(e=>n(13,i=e))),a(e,dt,(e=>n(6,l=e))),a(e,rt,(e=>n(14,r=e)));let{coa:o}=t,{charge:s}=t,{i:c}=t,{shield:d}=t,{colors:u}=t,{t:f}=t;const h=document.getElementById("charges");function g(e,t){if(!l.edit)return;const n=e.currentTarget,[i,s,c]=function(e){if(!e)return[0,0,0,0,0,1];const t=e.replace(/[a-z()]/g,"").replace(/[ ]/g,",").split(",");return[+t[0]||0,+t[1]||0,+t[2]||0,+t[3]||0,+t[4]||0,+t[5]||1]}(n.getAttribute("transform")),a=e.x,d=e.y,u=+n.closest("svg").getAttribute("width")/200,f=-i*(Math.PI/180),h=Math.cos(f),p=Math.sin(f);function g(e){document.body.style.cursor="move";const i=s+(e.x-a)/u,l=c+(e.y-d)/u,o=i*h-l*p,f=i*p+l*h;t.x=Math.round(o/r)*r,t.y=Math.round(f/r)*r;const g=En(t);g?n.setAttribute("transform",g):n.removeAttribute("transform")}document.addEventListener("mousemove",g),document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",g),document.body.style.cursor="auto",ut.add(JSON.stringify(o))}),{once:!0})}let m,$;return e.$$set=e=>{"coa"in e&&n(10,o=e.coa),"charge"in e&&n(0,s=e.charge),"i"in e&&n(1,c=e.i),"shield"in e&&n(11,d=e.shield),"colors"in e&&n(2,u=e.colors),"t"in e&&n(3,f=e.t)},e.$$.update=()=>{2048&e.$$.dirty&&n(4,m=jn[d]||jn.spanish),17&e.$$.dirty&&n(5,$=[...new Set(s.p)].filter((e=>m[e])))},[s,c,u,f,m,$,l,function(e){return i[e]||h.querySelector("#"+e)||(p(ft,i[e]=1,i),fetch("charges/"+e+".svg").then((e=>e.text())).then((e=>{const t=document.createElement("html");t.innerHTML=e,h.insertAdjacentHTML("beforeend",t.querySelector("g").outerHTML)}))),e},function(e,t,n){const[i,l]=e[n],r=t.size||1;return`translate(${i} ${l}) scale(${t.sinister||t.reversed?`${t.sinister?"-":""}${r}, ${t.reversed?"-":""}${r}`:r})`},g,o,d,function(e){g(e,s)}]}class Hn extends _e{constructor(e){super(),Ce(this,e,Pn,Sn,o,{coa:10,charge:0,i:1,shield:11,colors:2,t:3})}}function qn(e){let t,n,i,l,r,o,s;return{c(){t=_("pattern"),n=_("path"),i=B(),l=_("g"),r=_("rect"),E(n,"d","M 100 0 L 0 0 0 100"),E(n,"fill","none"),E(n,"stroke","#000"),E(n,"opacity",".2"),E(n,"stroke-width",".5"),E(t,"id","gridPattern"),E(t,"width",e[2]),E(t,"height",e[2]),E(t,"patternUnits","userSpaceOnUse"),E(r,"x","-200"),E(r,"y","-200"),E(r,"width","400"),E(r,"height","400"),E(r,"fill","url(#gridPattern)"),E(l,"id","grid"),I(l,"pointer-events","none"),E(l,"transform",e[0]),E(l,"transform-origin","center")},m(e,o){x(e,t,o),w(t,n),x(e,i,o),x(e,l,o),w(l,r),s=!0},p(e,n){(!s||4&n)&&E(t,"width",e[2]),(!s||4&n)&&E(t,"height",e[2]),(!s||1&n)&&E(l,"transform",e[0])},i(e){s||(e&&Q((()=>{o||(o=ge(l,Ge,{},!0)),o.run(1)})),s=!0)},o(e){e&&(o||(o=ge(l,Ge,{},!1)),o.run(0)),s=!1},d(e){e&&k(t),e&&k(i),e&&k(l),e&&o&&o.end()}}}function In(e){let t,n=e[1]&&qn(e);return{c(){n&&n.c(),t=M()},m(e,i){n&&n.m(e,i),x(e,t,i)},p(e,[i]){e[1]?n?(n.p(e,i),2&i&&ue(n,1)):(n=qn(e),n.c(),ue(n,1),n.m(t.parentNode,t)):n&&(ae(),fe(n,1,1,(()=>{n=null})),de())},i(e){ue(n)},o(e){fe(n)},d(e){n&&n.d(e),e&&k(t)}}}function Ln(e,t,n){let i,l,r,o;return a(e,dt,(e=>n(3,i=e))),a(e,ot,(e=>n(1,l=e))),a(e,rt,(e=>n(2,r=e))),e.$$.update=()=>{8&e.$$.dirty&&n(0,o=i.transform||null)},[o,l,r]}class An extends _e{constructor(e){super(),Ce(this,e,Ln,In,o,{})}}function Fn(e,t,n){const i=e.slice();return i[3]=t[n],i}function Tn(e){let t,n,i,l,r,o=e[0],s=[];for(let t=0;t<o.length;t+=1)s[t]=On(Fn(e,o,t));return{c(){t=_("g"),n=_("g");for(let e=0;e<s.length;e+=1)s[e].c();E(n,"id","positions"),E(n,"transform","translate(100, 100)"),E(t,"transform",l=e[1].transform||null),E(t,"transform-origin","center")},m(e,i){x(e,t,i),w(t,n);for(let e=0;e<s.length;e+=1)s[e].m(n,null);r=!0},p(e,i){if(3&i){let t;for(o=e[0],t=0;t<o.length;t+=1){const l=Fn(e,o,t);s[t]?s[t].p(l,i):(s[t]=On(l),s[t].c(),s[t].m(n,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=o.length}(!r||2&i&&l!==(l=e[1].transform||null))&&E(t,"transform",l)},i(e){r||(e&&Q((()=>{i||(i=ge(n,Ge,{},!0)),i.run(1)})),r=!0)},o(e){e&&(i||(i=ge(n,Ge,{},!1)),i.run(0)),r=!1},d(e){e&&k(t),z(s,e),e&&i&&i.end()}}}function On(e){let t,n,i,l,r,o,s,c,a,d,u=e[3][0]+"";return{c(){t=_("g"),n=_("circle"),r=_("text"),o=j(u),E(n,"cx",i=e[3][1][0]),E(n,"cy",l=e[3][1][1]),E(n,"r","3"),E(n,"class","svelte-126fbzm"),F(n,"active",e[1].positions.includes(e[3][0])),I(r,"dominant-baseline","central"),E(r,"x",s=e[3][1][0]),E(r,"y",c=e[3][1][1]),E(r,"class","svelte-126fbzm"),F(r,"active",e[1].positions.includes(e[3][0])),E(t,"id",a=e[3][0]),E(t,"class",d=h(Dn(e[3][0]))+" svelte-126fbzm")},m(e,i){x(e,t,i),w(t,n),w(t,r),w(r,o)},p(e,f){1&f&&i!==(i=e[3][1][0])&&E(n,"cx",i),1&f&&l!==(l=e[3][1][1])&&E(n,"cy",l),3&f&&F(n,"active",e[1].positions.includes(e[3][0])),1&f&&u!==(u=e[3][0]+"")&&H(o,u),1&f&&s!==(s=e[3][1][0])&&E(r,"x",s),1&f&&c!==(c=e[3][1][1])&&E(r,"y",c),3&f&&F(r,"active",e[1].positions.includes(e[3][0])),1&f&&a!==(a=e[3][0])&&E(t,"id",a),1&f&&d!==(d=h(Dn(e[3][0]))+" svelte-126fbzm")&&E(t,"class",d)},d(e){e&&k(t)}}}function Gn(e){let t,n=e[1].positions&&Tn(e);return{c(){n&&n.c(),t=M()},m(e,i){n&&n.m(e,i),x(e,t,i)},p(e,[i]){e[1].positions?n?(n.p(e,i),2&i&&ue(n,1)):(n=Tn(e),n.c(),ue(n,1),n.m(t.parentNode,t)):n&&(ae(),fe(n,1,1,(()=>{n=null})),de())},i(e){ue(n)},o(e){fe(n)},d(e){n&&n.d(e),e&&k(t)}}}function Dn(e){return"abcdefghi".includes(e)?"green":"ABCDEFGHIJKL".includes(e)?"red":"zy".includes(e)?"yellow":"blue"}function Rn(e,t,n){let i,l,r;return a(e,Ye,(e=>n(2,i=e))),a(e,dt,(e=>n(1,l=e))),e.$$.update=()=>{4&e.$$.dirty&&n(0,r=jn[i]?Object.entries(jn[i]):Object.entries(jn.spanish))},[r,l]}class Nn extends _e{constructor(e){super(),Ce(this,e,Rn,Gn,o,{})}}function Jn(e,t,n){const i=e.slice();return i[26]=t[n],i[3]=n,i}function Kn(e,t,n){const i=e.slice();return i[26]=t[n],i[3]=n,i}function Wn(e,t,n){const i=e.slice();return i[26]=t[n],i[3]=n,i}function Zn(e){let t,n,i=function(e,t){if(!t)return document.getElementById(e)?.innerHTML;const n=document.getElementById(e),i=document.getElementById(t)?document.getElementById(t):document.getElementById("straight");return n.innerHTML.replace(/{line}/g,i.getAttribute("d")).replace(/dpath/g,"d")}(e[13].division,e[13].line)+"";return{c(){t=_("clipPath"),E(t,"id",n="divisionClip"+e[3])},m(e,n){x(e,t,n),t.innerHTML=i},p(e,i){8&i&&n!==(n="divisionClip"+e[3])&&E(t,"id",n)},d(e){e&&k(t)}}}function Un(e){let t,n,i,l="counter"===e[12].divided&&function(e){let t,n;return t=new yn({props:{coa:e[0],shieldPath:e[5],colors:e[10],t:e[15]}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),32&n&&(i.shieldPath=e[5]),1024&n&&(i.colors=e[10]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}(e),r="field"===e[12].divided&&function(e){let t,n;return t=new yn({props:{coa:e[0],shieldPath:e[5],colors:e[10],t:e[12].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),32&n&&(i.shieldPath=e[5]),1024&n&&(i.colors=e[10]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}(e);return{c(){l&&l.c(),t=M(),r&&r.c(),n=M()},m(e,o){l&&l.m(e,o),x(e,t,o),r&&r.m(e,o),x(e,n,o),i=!0},p(e,t){"counter"===e[12].divided&&l.p(e,t),"field"===e[12].divided&&r.p(e,t)},i(e){i||(ue(l),ue(r),i=!0)},o(e){fe(l),fe(r),i=!1},d(e){l&&l.d(e),e&&k(t),r&&r.d(e),e&&k(n)}}}function Xn(e){let t,n;return{c(){t=_("rect"),E(t,"class","diaper"),E(t,"x","0"),E(t,"y","0"),E(t,"width","200"),E(t,"height","200"),E(t,"fill",n="url(#"+e[6]+")"),I(t,"pointer-events","none")},m(e,n){x(e,t,n)},p(e,i){64&i&&n!==(n="url(#"+e[6]+")")&&E(t,"fill",n)},d(e){e&&k(t)}}}function Vn(e){let t,n;return t=new Hn({props:{coa:e[0],charge:e[26],i:e[3],shield:e[4],colors:e[10],t:e[15]}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),16&n&&(i.shield=e[4]),1024&n&&(i.colors=e[10]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function Qn(e){let t,n;return t=new Hn({props:{coa:e[0],charge:e[26],i:e[3],shield:e[4],colors:e[10],t:e[26].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),16&n&&(i.shield=e[4]),1024&n&&(i.colors=e[10]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function Yn(e){let t,n,i,l;const r=[Qn,Vn],o=[];return~(t=function(e,t){return"field"===e[26].layer?0:"counter"===e[26].layer?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),i=M()},m(e,n){~t&&o[t].m(e,n),x(e,i,n),l=!0},p(e,t){n&&n.p(e,t)},i(e){l||(ue(n),l=!0)},o(e){fe(n),l=!1},d(e){~t&&o[t].d(e),e&&k(i)}}}function ei(e){let t,n,i,l,r,o,s,c=e[12]?.divided&&function(e){let t,n,i,l="counter"===e[12].divided&&function(e){let t,n;return t=new yn({props:{coa:e[0],shieldPath:e[5],colors:e[10],t:e[0].t1}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),32&n&&(i.shieldPath=e[5]),1024&n&&(i.colors=e[10]),1&n&&(i.t=e[0].t1),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}(e),r="division"===e[12].divided&&function(e){let t,n;return t=new yn({props:{coa:e[0],shieldPath:e[5],colors:e[10],t:e[12].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),32&n&&(i.shieldPath=e[5]),1024&n&&(i.colors=e[10]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}(e);return{c(){l&&l.c(),t=M(),r&&r.c(),n=M()},m(e,o){l&&l.m(e,o),x(e,t,o),r&&r.m(e,o),x(e,n,o),i=!0},p(e,t){"counter"===e[12].divided&&l.p(e,t),"division"===e[12].divided&&r.p(e,t)},i(e){i||(ue(l),ue(r),i=!0)},o(e){fe(l),fe(r),i=!1},d(e){l&&l.d(e),e&&k(t),r&&r.d(e),e&&k(n)}}}(e),a="division"===e[7]&&ti(e),d=e[13]&&function(e){let t,n,i=e[14],l=[];for(let t=0;t<i.length;t+=1)l[t]=li(Kn(e,i,t));const r=e=>fe(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=M()},m(e,i){for(let t=0;t<l.length;t+=1)l[t].m(e,i);x(e,t,i),n=!0},p(e,n){if(17425&n){let o;for(i=e[14],o=0;o<i.length;o+=1){const r=Kn(e,i,o);l[o]?(l[o].p(r,n),ue(l[o],1)):(l[o]=li(r),l[o].c(),ue(l[o],1),l[o].m(t.parentNode,t))}for(ae(),o=i.length;o<l.length;o+=1)r(o);de()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)ue(l[e]);n=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)fe(l[e]);n=!1},d(e){z(l,e),e&&k(t)}}}(e);return{c(){t=_("g"),n=_("rect"),c&&c.c(),l=M(),a&&a.c(),r=M(),d&&d.c(),E(n,"x","0"),E(n,"y","0"),E(n,"width","200"),E(n,"height","200"),E(n,"fill",i=e[10][e[15]]||e[17](e[15])),E(t,"id","division"),E(t,"clip-path",o="url(#divisionClip"+e[3]+")")},m(e,i){x(e,t,i),w(t,n),c&&c.m(t,null),w(t,l),a&&a.m(t,null),w(t,r),d&&d.m(t,null),s=!0},p(e,l){(!s||1024&l&&i!==(i=e[10][e[15]]||e[17](e[15])))&&E(n,"fill",i),e[12]?.divided&&c.p(e,l),"division"===e[7]?a?a.p(e,l):(a=ti(e),a.c(),a.m(t,r)):a&&(a.d(1),a=null),e[13]&&d.p(e,l),(!s||8&l&&o!==(o="url(#divisionClip"+e[3]+")"))&&E(t,"clip-path",o)},i(e){s||(ue(c),ue(d),s=!0)},o(e){fe(c),fe(d),s=!1},d(e){e&&k(t),c&&c.d(),a&&a.d(),d&&d.d()}}}function ti(e){let t,n;return{c(){t=_("rect"),E(t,"class","diaper"),E(t,"x","0"),E(t,"y","0"),E(t,"width","200"),E(t,"height","200"),E(t,"fill",n="url(#"+e[6]+")"),I(t,"pointer-events","none")},m(e,n){x(e,t,n)},p(e,i){64&i&&n!==(n="url(#"+e[6]+")")&&E(t,"fill",n)},d(e){e&&k(t)}}}function ni(e){let t,n;return t=new Hn({props:{coa:e[0],charge:e[26],i:e[3],shield:e[4],colors:e[10],t:e[0].t1}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),16&n&&(i.shield=e[4]),1024&n&&(i.colors=e[10]),1&n&&(i.t=e[0].t1),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function ii(e){let t,n;return t=new Hn({props:{coa:e[0],charge:e[26],i:e[3],shield:e[4],colors:e[10],t:e[26].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),16&n&&(i.shield=e[4]),1024&n&&(i.colors=e[10]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function li(e){let t,n,i,l;const r=[ii,ni],o=[];return~(t=function(e,t){return"division"===e[26].layer?0:"counter"===e[26].layer?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),i=M()},m(e,n){~t&&o[t].m(e,n),x(e,i,n),l=!0},p(e,t){n&&n.p(e,t)},i(e){l||(ue(n),l=!0)},o(e){fe(n),l=!1},d(e){~t&&o[t].d(e),e&&k(i)}}}function ri(e){let t,n;return{c(){t=_("rect"),E(t,"class","diaper"),E(t,"x","0"),E(t,"y","0"),E(t,"width","200"),E(t,"height","200"),E(t,"fill",n="url(#"+e[6]+")"),I(t,"pointer-events","none")},m(e,n){x(e,t,n)},p(e,i){64&i&&n!==(n="url(#"+e[6]+")")&&E(t,"fill",n)},d(e){e&&k(t)}}}function oi(e){let t,n,i=(!e[26].layer||!e[13])&&function(e){let t,n;return t=new Hn({props:{coa:e[0],charge:e[26],i:e[3],shield:e[4],colors:e[10],t:e[26].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),16&n&&(i.shield=e[4]),1024&n&&(i.colors=e[10]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}(e);return{c(){i&&i.c(),t=M()},m(e,l){i&&i.m(e,l),x(e,t,l),n=!0},p(e,t){e[26].layer&&e[13]||i.p(e,t)},i(e){n||(ue(i),n=!0)},o(e){fe(i),n=!1},d(e){i&&i.d(e),e&&k(t)}}}function si(e){let t,n,i;return t=new An({}),n=new Nn({}),{c(){we(t.$$.fragment),we(n.$$.fragment)},m(e,l){xe(t,e,l),xe(n,e,l),i=!0},i(e){i||(ue(t.$$.fragment,e),ue(n.$$.fragment,e),i=!0)},o(e){fe(t.$$.fragment,e),fe(n.$$.fragment,e),i=!1},d(e){ke(t,e),ke(n,e)}}}function ci(e){let t,n,i,l,r,o,s,c,a,d,u,f,h,p,g,m,$,v,y,b=e[13]&&Zn(e),C=e[13]&&e[12]?.divided&&Un(e),j="field"===e[7]&&Xn(e),B=e[13]&&function(e){let t,n,i=e[14],l=[];for(let t=0;t<i.length;t+=1)l[t]=Yn(Wn(e,i,t));const r=e=>fe(l[e],1,1,(()=>{l[e]=null}));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=M()},m(e,i){for(let t=0;t<l.length;t+=1)l[t].m(e,i);x(e,t,i),n=!0},p(e,n){if(50193&n){let o;for(i=e[14],o=0;o<i.length;o+=1){const r=Wn(e,i,o);l[o]?(l[o].p(r,n),ue(l[o],1)):(l[o]=Yn(r),l[o].c(),ue(l[o],1),l[o].m(t.parentNode,t))}for(ae(),o=i.length;o<l.length;o+=1)r(o);de()}},i(e){if(!n){for(let e=0;e<i.length;e+=1)ue(l[e]);n=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)fe(l[e]);n=!1},d(e){z(l,e),e&&k(t)}}}(e),P=e[13]&&ei(e),H=e[12]&&!e[12].divided&&function(e){let t,n;return t=new yn({props:{coa:e[0],shieldPath:e[5],colors:e[10],t:e[12].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),32&n&&(i.shieldPath=e[5]),1024&n&&(i.colors=e[10]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}(e),q="overall"===e[7]&&ri(e),L=e[14],A=[];for(let t=0;t<L.length;t+=1)A[t]=oi(Jn(e,L,t));const F=e=>fe(A[e],1,1,(()=>{A[e]=null}));let T="Edit"===e[3]&&si();return{c(){t=_("svg"),n=_("defs"),b&&b.c(),i=_("g"),l=_("rect"),C&&C.c(),o=M(),j&&j.c(),s=M(),B&&B.c(),c=M(),P&&P.c(),a=M(),H&&H.c(),d=M(),q&&q.c(),u=M();for(let e=0;e<A.length;e+=1)A[e].c();T&&T.c(),h=_("path"),E(l,"id","field"),E(l,"x","0"),E(l,"y","0"),E(l,"width","200"),E(l,"height","200"),E(l,"fill",r=e[10][e[0].t1]||e[17](e[0].t1)),E(i,"id","shield"),E(i,"clip-path",f="url(#"+e[4]+")"),E(h,"class","grad"),E(h,"d",e[5]),E(h,"fill",p="url(#"+e[9]+")"),E(h,"stroke",e[11]),E(h,"stroke-width",e[8]),I(h,"pointer-events","none"),E(t,"id",g="coa"+e[3]),E(t,"class","coa"),E(t,"xmlns","http://www.w3.org/2000/svg"),E(t,"width",e[1]),E(t,"height",e[2]),E(t,"viewBox",m=e[16][e[4]])},m(r,f){x(r,t,f),w(t,n),b&&b.m(n,null),w(t,i),w(i,l),C&&C.m(i,null),w(i,o),j&&j.m(i,null),w(i,s),B&&B.m(i,null),w(i,c),P&&P.m(i,null),w(i,a),H&&H.m(i,null),w(i,d),q&&q.m(i,null),w(i,u);for(let e=0;e<A.length;e+=1)A[e].m(i,null);T&&T.m(t,null),w(t,h),$=!0,v||(y=S(t,"click",e[18]),v=!0)},p(e,[n]){if(e[13]&&b.p(e,n),(!$||1025&n&&r!==(r=e[10][e[0].t1]||e[17](e[0].t1)))&&E(l,"fill",r),e[13]&&e[12]?.divided&&C.p(e,n),"field"===e[7]?j?j.p(e,n):(j=Xn(e),j.c(),j.m(i,s)):j&&(j.d(1),j=null),e[13]&&B.p(e,n),e[13]&&P.p(e,n),e[12]&&!e[12].divided&&H.p(e,n),"overall"===e[7]?q?q.p(e,n):(q=ri(e),q.c(),q.m(i,u)):q&&(q.d(1),q=null),25617&n){let t;for(L=e[14],t=0;t<L.length;t+=1){const l=Jn(e,L,t);A[t]?(A[t].p(l,n),ue(A[t],1)):(A[t]=oi(l),A[t].c(),ue(A[t],1),A[t].m(i,null))}for(ae(),t=L.length;t<A.length;t+=1)F(t);de()}(!$||16&n&&f!==(f="url(#"+e[4]+")"))&&E(i,"clip-path",f),"Edit"===e[3]?T?8&n&&ue(T,1):(T=si(),T.c(),ue(T,1),T.m(t,h)):T&&(ae(),fe(T,1,1,(()=>{T=null})),de()),(!$||32&n)&&E(h,"d",e[5]),(!$||512&n&&p!==(p="url(#"+e[9]+")"))&&E(h,"fill",p),(!$||2048&n)&&E(h,"stroke",e[11]),(!$||256&n)&&E(h,"stroke-width",e[8]),(!$||8&n&&g!==(g="coa"+e[3]))&&E(t,"id",g),(!$||2&n)&&E(t,"width",e[1]),(!$||4&n)&&E(t,"height",e[2]),(!$||16&n&&m!==(m=e[16][e[4]]))&&E(t,"viewBox",m)},i(e){if(!$){ue(C),ue(B),ue(P),ue(H);for(let e=0;e<L.length;e+=1)ue(A[e]);ue(T),$=!0}},o(e){fe(C),fe(B),fe(P),fe(H),A=A.filter(Boolean);for(let e=0;e<A.length;e+=1)fe(A[e]);fe(T),$=!1},d(e){e&&k(t),b&&b.d(),C&&C.d(),j&&j.d(),B&&B.d(),P&&P.d(),H&&H.d(),q&&q.d(),z(A,e),T&&T.d(),v=!1,y()}}}function ai(e,t,n){let i,l,r,o,s,c,d;a(e,Ye,(e=>n(19,i=e))),a(e,Qe,(e=>n(20,l=e))),a(e,lt,(e=>n(21,r=e))),a(e,Ve,(e=>n(22,o=e))),a(e,et,(e=>n(23,s=e))),a(e,ht,(e=>n(24,c=e))),a(e,it,(e=>n(11,d=e)));let{coa:u}=t,{i:f}=t,{w:h}=t,{h:g}=t;const{ordinary:m,division:$,charges:v=[]}=u,y=$?$.t:"";let b,w,x,k,z,C,_;return e.$$set=e=>{"coa"in e&&n(0,u=e.coa),"i"in e&&n(3,f=e.i),"w"in e&&n(1,h=e.w),"h"in e&&n(2,g=e.h)},e.$$.update=()=>{524289&e.$$.dirty&&n(4,b=u.shield||i),16&e.$$.dirty&&n(5,w=document.querySelector(`#defs g#shields > #${b} > path`).getAttribute("d")),1048577&e.$$.dirty&&n(6,x=u.diaper||l),64&e.$$.dirty&&n(7,k=x?function(){const e=!u.t1.includes("-"),t=!y.includes("-");return e&&t?"overall":e?"field":t?"division":null}():null),2097152&e.$$.dirty&&n(8,z=r),4194305&e.$$.dirty&&n(9,C=u.grad||o),8388608&e.$$.dirty&&n(10,_=s)},[u,h,g,f,b,w,x,k,z,C,_,d,m,$,v,y,{no:"0 0 200 200",heater:"0 10 200 200",oldFrench:"0 10 200 200",spanish:"0 10 200 200",french:"0 10 200 200",swiss:"0 10 200 200",wedged:"0 10 200 200",italian:"0 0 200 200",kite:"0 0 200 200",renaissance:"0 0 200 200",baroque:"0 10 200 200",polish:"0 0 200 200",german:"0 0 200 200",diamond:"0 0 200 200",round:"0 0 200 200",vesicaPiscis:"0 0 200 200",square:"0 0 200 200",flag:"0 0 200 200",pennon:"2.5 0 200 200",guidon:"2.5 0 200 200",banner:"0 10 200 200",dovetail:"0 10 200 200",gonfalon:"0 10 200 200",pennant:"0 0 200 200"},function(e){return _[e]?_[e]:(p(ht,c[c.length]=e,c),"url(#"+e+")")},()=>console.log(u)]}class di extends _e{constructor(e){super(),Ce(this,e,ai,ci,o,{coa:0,i:3,w:1,h:2})}}function ui(e,t,n){const i=e.slice();return i[15]=t[n],i[11]=n,i}function fi(e,t,n){const i=e.slice();return i[15]=t[n],i[11]=n,i}function hi(e,t,n){const i=e.slice();return i[15]=t[n],i[11]=n,i}function pi(t){let n,i,l=function(e,t){if(!t)return document.getElementById(e)?.innerHTML;const n=document.getElementById(e),i=document.getElementById(t)?document.getElementById(t):document.getElementById("straight");return n.innerHTML.replace(/{line}/g,i.getAttribute("d")).replace(/dpath/g,"d")}(t[7].division,t[7].line)+"";return{c(){n=_("clipPath"),E(n,"id",i="divisionClipMenu"+t[11])},m(e,t){x(e,n,t),n.innerHTML=l},p:e,d(e){e&&k(n)}}}function gi(e){let t,n,i,l="counter"===e[3].divided&&mi(e),r="field"===e[3].divided&&$i(e);return{c(){l&&l.c(),t=M(),r&&r.c(),n=M()},m(e,o){l&&l.m(e,o),x(e,t,o),r&&r.m(e,o),x(e,n,o),i=!0},p(e,i){"counter"===e[3].divided?l?(l.p(e,i),8&i&&ue(l,1)):(l=mi(e),l.c(),ue(l,1),l.m(t.parentNode,t)):l&&(ae(),fe(l,1,1,(()=>{l=null})),de()),"field"===e[3].divided?r?(r.p(e,i),8&i&&ue(r,1)):(r=$i(e),r.c(),ue(r,1),r.m(n.parentNode,n)):r&&(ae(),fe(r,1,1,(()=>{r=null})),de())},i(e){i||(ue(l),ue(r),i=!0)},o(e){fe(l),fe(r),i=!1},d(e){l&&l.d(e),e&&k(t),r&&r.d(e),e&&k(n)}}}function mi(e){let t,n;return t=new yn({props:{coa:e[0],shieldPath:e[5],colors:e[6],t:e[9]}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),32&n&&(i.shieldPath=e[5]),64&n&&(i.colors=e[6]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function $i(e){let t,n;return t=new yn({props:{coa:e[0],shieldPath:e[5],colors:e[6],t:e[3].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),32&n&&(i.shieldPath=e[5]),64&n&&(i.colors=e[6]),8&n&&(i.t=e[3].t),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function vi(e){let t,n;return t=new Hn({props:{coa:e[0],charge:e[15],i:e[11],shield:e[4],colors:e[6],t:e[9]}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),16&n&&(i.shield=e[4]),64&n&&(i.colors=e[6]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function yi(e){let t,n;return t=new Hn({props:{coa:e[0],charge:e[15],i:e[11],shield:e[4],colors:e[6],t:e[15].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),16&n&&(i.shield=e[4]),64&n&&(i.colors=e[6]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function bi(e){let t,n,i,l;const r=[yi,vi],o=[];return~(t=function(e,t){return"field"===e[15].layer?0:"counter"===e[15].layer&&e[7]?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),i=M()},m(e,n){~t&&o[t].m(e,n),x(e,i,n),l=!0},p(e,t){n&&n.p(e,t)},i(e){l||(ue(n),l=!0)},o(e){fe(n),l=!1},d(e){~t&&o[t].d(e),e&&k(i)}}}function wi(e){let t,n,i,l="counter"===e[3].divided&&xi(e),r="division"===e[3].divided&&ki(e);return{c(){l&&l.c(),t=M(),r&&r.c(),n=M()},m(e,o){l&&l.m(e,o),x(e,t,o),r&&r.m(e,o),x(e,n,o),i=!0},p(e,i){"counter"===e[3].divided?l?(l.p(e,i),8&i&&ue(l,1)):(l=xi(e),l.c(),ue(l,1),l.m(t.parentNode,t)):l&&(ae(),fe(l,1,1,(()=>{l=null})),de()),"division"===e[3].divided?r?(r.p(e,i),8&i&&ue(r,1)):(r=ki(e),r.c(),ue(r,1),r.m(n.parentNode,n)):r&&(ae(),fe(r,1,1,(()=>{r=null})),de())},i(e){i||(ue(l),ue(r),i=!0)},o(e){fe(l),fe(r),i=!1},d(e){l&&l.d(e),e&&k(t),r&&r.d(e),e&&k(n)}}}function xi(e){let t,n;return t=new yn({props:{coa:e[0],shieldPath:e[5],colors:e[6],t:e[0].t1}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),32&n&&(i.shieldPath=e[5]),64&n&&(i.colors=e[6]),1&n&&(i.t=e[0].t1),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function ki(e){let t,n;return t=new yn({props:{coa:e[0],shieldPath:e[5],colors:e[6],t:e[3].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),32&n&&(i.shieldPath=e[5]),64&n&&(i.colors=e[6]),8&n&&(i.t=e[3].t),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function zi(e){let t,n;return t=new Hn({props:{coa:e[0],charge:e[15],i:e[11],shield:e[4],colors:e[6],t:e[0].t1}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),16&n&&(i.shield=e[4]),64&n&&(i.colors=e[6]),1&n&&(i.t=e[0].t1),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function Ci(e){let t,n;return t=new Hn({props:{coa:e[0],charge:e[15],i:e[11],shield:e[4],colors:e[6],t:e[15].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),16&n&&(i.shield=e[4]),64&n&&(i.colors=e[6]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function _i(e){let t,n,i,l;const r=[Ci,zi],o=[];return~(t=function(e,t){return"division"===e[15].layer?0:"counter"===e[15].layer?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),i=M()},m(e,n){~t&&o[t].m(e,n),x(e,i,n),l=!0},p(e,t){n&&n.p(e,t)},i(e){l||(ue(n),l=!0)},o(e){fe(n),l=!1},d(e){~t&&o[t].d(e),e&&k(i)}}}function ji(e){let t,n;return t=new yn({props:{coa:e[0],shieldPath:e[5],colors:e[6],t:e[3].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),32&n&&(i.shieldPath=e[5]),64&n&&(i.colors=e[6]),8&n&&(i.t=e[3].t),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function Bi(e){let t,n,i=!e[15].layer&&function(e){let t,n;return t=new Hn({props:{coa:e[0],charge:e[15],i:e[11],shield:e[4],colors:e[6],t:e[15].t}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n&&(i.coa=e[0]),16&n&&(i.shield=e[4]),64&n&&(i.colors=e[6]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}(e);return{c(){i&&i.c(),t=M()},m(e,l){i&&i.m(e,l),x(e,t,l),n=!0},p(e,t){e[15].layer||i.p(e,t)},i(e){n||(ue(i),n=!0)},o(e){fe(i),n=!1},d(e){i&&i.d(e),e&&k(t)}}}function Mi(e){let t,n,i,l,r,o,s,c,a,d,u,f,h,p,g=e[7]&&"no"!==e[7].division&&pi(e),m=e[7]&&e[3]?.divided&&gi(e),$=e[8],v=[];for(let t=0;t<$.length;t+=1)v[t]=bi(hi(e,$,t));const y=e=>fe(v[e],1,1,(()=>{v[e]=null}));let b=e[7]&&"no"!==e[7].division&&function(e){let t,n,i,l,r,o,s=e[3]?.divided&&wi(e),c=e[8],a=[];for(let t=0;t<c.length;t+=1)a[t]=_i(fi(e,c,t));const d=e=>fe(a[e],1,1,(()=>{a[e]=null}));return{c(){t=_("g"),n=_("rect"),s&&s.c(),l=M();for(let e=0;e<a.length;e+=1)a[e].c();E(n,"x","0"),E(n,"y","0"),E(n,"width","200"),E(n,"height","200"),E(n,"fill",i=e[6][e[9]]||e[10](e[9])),E(t,"id","division"),E(t,"clip-path",r="url(#divisionClipMenu"+e[11]+")")},m(e,i){x(e,t,i),w(t,n),s&&s.m(t,null),w(t,l);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0},p(e,r){if((!o||64&r&&i!==(i=e[6][e[9]]||e[10](e[9])))&&E(n,"fill",i),e[3]?.divided?s?(s.p(e,r),8&r&&ue(s,1)):(s=wi(e),s.c(),ue(s,1),s.m(t,l)):s&&(ae(),fe(s,1,1,(()=>{s=null})),de()),337&r){let n;for(c=e[8],n=0;n<c.length;n+=1){const i=fi(e,c,n);a[n]?(a[n].p(i,r),ue(a[n],1)):(a[n]=_i(i),a[n].c(),ue(a[n],1),a[n].m(t,null))}for(ae(),n=c.length;n<a.length;n+=1)d(n);de()}},i(e){if(!o){ue(s);for(let e=0;e<c.length;e+=1)ue(a[e]);o=!0}},o(e){fe(s),a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)fe(a[e]);o=!1},d(e){e&&k(t),s&&s.d(),z(a,e)}}}(e),C=e[3]&&!e[3].divided&&ji(e),B=e[8],S=[];for(let t=0;t<B.length;t+=1)S[t]=Bi(ui(e,B,t));const P=e=>fe(S[e],1,1,(()=>{S[e]=null}));return{c(){t=_("svg"),n=_("title"),i=j(e[1]),l=_("defs"),g&&g.c(),r=_("g"),o=_("rect"),m&&m.c(),c=M();for(let e=0;e<v.length;e+=1)v[e].c();a=M(),b&&b.c(),d=M(),C&&C.c(),u=M();for(let e=0;e<S.length;e+=1)S[e].c();h=_("path"),E(o,"id","field"),E(o,"x","0"),E(o,"y","0"),E(o,"width","200"),E(o,"height","200"),E(o,"fill",s=e[6][e[0].t1]||e[10](e[0].t1)),E(r,"id","shield"),E(r,"clip-path",f="url(#"+e[4]+")"),E(h,"d",e[5]),E(h,"fill","url(#spotlight)"),E(h,"stroke","#333"),E(h,"stroke-width","2"),E(t,"class","menuItem"),E(t,"xmlns","http://www.w3.org/2000/svg"),E(t,"width",e[2]),E(t,"height",e[2]),E(t,"viewBox","0 0 200 200")},m(e,s){x(e,t,s),w(t,n),w(n,i),w(t,l),g&&g.m(l,null),w(t,r),w(r,o),m&&m.m(r,null),w(r,c);for(let e=0;e<v.length;e+=1)v[e].m(r,null);w(r,a),b&&b.m(r,null),w(r,d),C&&C.m(r,null),w(r,u);for(let e=0;e<S.length;e+=1)S[e].m(r,null);w(t,h),p=!0},p(e,[n]){if((!p||2&n)&&H(i,e[1]),e[7]&&"no"!==e[7].division&&g.p(e,n),(!p||65&n&&s!==(s=e[6][e[0].t1]||e[10](e[0].t1)))&&E(o,"fill",s),e[7]&&e[3]?.divided?m?(m.p(e,n),8&n&&ue(m,1)):(m=gi(e),m.c(),ue(m,1),m.m(r,c)):m&&(ae(),fe(m,1,1,(()=>{m=null})),de()),977&n){let t;for($=e[8],t=0;t<$.length;t+=1){const i=hi(e,$,t);v[t]?(v[t].p(i,n),ue(v[t],1)):(v[t]=bi(i),v[t].c(),ue(v[t],1),v[t].m(r,a))}for(ae(),t=$.length;t<v.length;t+=1)y(t);de()}if(e[7]&&"no"!==e[7].division&&b.p(e,n),e[3]&&!e[3].divided?C?(C.p(e,n),8&n&&ue(C,1)):(C=ji(e),C.c(),ue(C,1),C.m(r,u)):C&&(ae(),fe(C,1,1,(()=>{C=null})),de()),337&n){let t;for(B=e[8],t=0;t<B.length;t+=1){const i=ui(e,B,t);S[t]?(S[t].p(i,n),ue(S[t],1)):(S[t]=Bi(i),S[t].c(),ue(S[t],1),S[t].m(r,null))}for(ae(),t=B.length;t<S.length;t+=1)P(t);de()}(!p||16&n&&f!==(f="url(#"+e[4]+")"))&&E(r,"clip-path",f),(!p||32&n)&&E(h,"d",e[5]),(!p||4&n)&&E(t,"width",e[2]),(!p||4&n)&&E(t,"height",e[2])},i(e){if(!p){ue(m);for(let e=0;e<$.length;e+=1)ue(v[e]);ue(b),ue(C);for(let e=0;e<B.length;e+=1)ue(S[e]);p=!0}},o(e){fe(m),v=v.filter(Boolean);for(let e=0;e<v.length;e+=1)fe(v[e]);fe(b),fe(C),S=S.filter(Boolean);for(let e=0;e<S.length;e+=1)fe(S[e]);p=!1},d(e){e&&k(t),g&&g.d(),m&&m.d(),z(v,e),b&&b.d(),C&&C.d(),z(S,e)}}}function Si(e,t,n){let i,l,r;a(e,Ye,(e=>n(12,i=e))),a(e,et,(e=>n(13,l=e))),a(e,ht,(e=>n(14,r=e)));let{coa:o}=t,{title:s}=t,{itemSize:c}=t,{ordinary:d,division:u,charges:f=[]}=o;"no"===d?.ordinary&&(d=null);let h,g,m,$=u?u.t:"",v=Math.floor(1e6*Math.random());return e.$$set=e=>{"coa"in e&&n(0,o=e.coa),"title"in e&&n(1,s=e.title),"itemSize"in e&&n(2,c=e.itemSize)},e.$$.update=()=>{4097&e.$$.dirty&&n(4,h=o.shield||i),16&e.$$.dirty&&n(5,g=document.querySelector(`#defs g#shields > #${h} > path`).getAttribute("d")),8192&e.$$.dirty&&n(6,m=l)},[o,s,c,d,h,g,m,u,f,$,function(e){return m[e]?m[e]:(p(ht,r[r.length]=e,r),"url(#"+e+")")},v]}class Ei extends _e{constructor(e){super(),Ce(this,e,Si,Mi,o,{coa:0,title:1,itemSize:2})}}function Pi(t){let n,i,o,s,c,a,d;return{c(){n=j("Type:\n"),i=C("select"),o=C("option"),o.textContent="Tincture",s=C("option"),s.textContent="Pattern",c=C("option"),c.textContent="Semy",o.__value="tincture",o.value=o.__value,s.__value="pattern",s.value=s.__value,c.__value="semy",c.value=c.__value,void 0===t[0]&&Q((()=>t[2].call(i)))},m(e,l){x(e,n,l),x(e,i,l),w(i,o),w(i,s),w(i,c),L(i,t[0]),a||(d=[S(i,"change",t[2]),S(i,"input",(function(){r(t[1])&&t[1].apply(this,arguments)}))],a=!0)},p(e,[n]){t=e,1&n&&L(i,t[0])},i:e,o:e,d(e){e&&k(n),e&&k(i),a=!1,l(d)}}}function Hi(e,t,n){let{type:i}=t,{updateSection:l}=t;return e.$$set=e=>{"type"in e&&n(0,i=e.type),"updateSection"in e&&n(1,l=e.updateSection)},[i,l,function(){i=A(this),n(0,i)}]}class qi extends _e{constructor(e){super(),Ce(this,e,Hi,Pi,o,{type:0,updateSection:1})}}function Ii(t){let n,i,l,r,o,s,c,a,d,u;return{c(){n=C("span"),n.textContent="Size:",i=B(),l=C("select"),r=C("option"),r.textContent="Big",o=C("option"),o.textContent="Standard",s=C("option"),s.textContent="Small",c=C("option"),c.textContent="Smaller",a=C("option"),a.textContent="Smallest",I(n,"margin-left","1em"),r.__value="big",r.value=r.__value,o.__value="standard",o.value=o.__value,s.__value="small",s.value=s.__value,c.__value="smaller",c.value=c.__value,a.__value="smallest",a.value=a.__value,void 0===t[0]&&Q((()=>t[1].call(l)))},m(e,f){x(e,n,f),x(e,i,f),x(e,l,f),w(l,r),w(l,o),w(l,s),w(l,c),w(l,a),L(l,t[0]),d||(u=S(l,"change",t[1]),d=!0)},p(e,[t]){1&t&&L(l,e[0])},i:e,o:e,d(e){e&&k(n),e&&k(i),e&&k(l),d=!1,u()}}}function Li(e,t,n){let{size:i}=t;return e.$$set=e=>{"size"in e&&n(0,i=e.size)},[i,function(){i=A(this),n(0,i)}]}class Ai extends _e{constructor(e){super(),Ce(this,e,Li,Ii,o,{size:0})}}function Fi(e,t,n){const i=e.slice();return i[5]=t[n],i}function Ti(e){let t,n,i,l,r,o;function s(...t){return e[4](e[5],...t)}return n=new Ei({props:{coa:e[5],title:e[3](e[5].t1),itemSize:e[1]}}),{c(){t=C("div"),we(n.$$.fragment),i=B(),E(t,"class","item"),F(t,"selected",e[0]===e[5].t1)},m(e,c){x(e,t,c),xe(n,t,null),w(t,i),l=!0,r||(o=S(t,"click",s),r=!0)},p(i,l){e=i;const r={};2&l&&(r.itemSize=e[1]),n.$set(r),5&l&&F(t,"selected",e[0]===e[5].t1)},i(e){l||(ue(n.$$.fragment,e),l=!0)},o(e){fe(n.$$.fragment,e),l=!1},d(e){e&&k(t),ke(n),r=!1,o()}}}function Oi(e){let t,n,i,l,r=e[2],o=[];for(let t=0;t<r.length;t+=1)o[t]=Ti(Fi(e,r,t));const s=e=>fe(o[e],1,1,(()=>{o[e]=null}));return{c(){t=C("div"),t.textContent="Tincture:",n=B();for(let e=0;e<o.length;e+=1)o[e].c();i=M()},m(e,r){x(e,t,r),x(e,n,r);for(let t=0;t<o.length;t+=1)o[t].m(e,r);x(e,i,r),l=!0},p(e,[t]){if(15&t){let n;for(r=e[2],n=0;n<r.length;n+=1){const l=Fi(e,r,n);o[n]?(o[n].p(l,t),ue(o[n],1)):(o[n]=Ti(l),o[n].c(),ue(o[n],1),o[n].m(i.parentNode,i))}for(ae(),n=r.length;n<o.length;n+=1)s(n);de()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)ue(o[e]);l=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)fe(o[e]);l=!1},d(e){e&&k(t),e&&k(n),z(o,e),e&&k(i)}}}function Gi(e,t,n){let{t1:i}=t,{itemSize:l}=t;const r=["argent","or","gules","sable","azure","vert","purpure"].map((e=>new Object({t1:e})));return e.$$set=e=>{"t1"in e&&n(0,i=e.t1),"itemSize"in e&&n(1,l=e.itemSize)},[i,l,r,e=>e.charAt(0).toUpperCase()+e.slice(1),e=>n(0,i=e.t1)]}class Di extends _e{constructor(e){super(),Ce(this,e,Gi,Oi,o,{t1:0,itemSize:1})}}function Ri(t){let n,i,l,r,o,s,c;return{c(){n=C("div"),i=C("input"),l=B(),r=C("label"),o=j("Switch"),E(i,"id",t[1]),E(i,"class","switch-input svelte-1iy0slw"),E(i,"type","checkbox"),E(r,"for",t[1]),E(r,"class","switch-label svelte-1iy0slw"),E(n,"class","switch svelte-1iy0slw")},m(e,a){x(e,n,a),w(n,i),i.checked=t[0],w(n,l),w(n,r),w(r,o),s||(c=S(i,"change",t[2]),s=!0)},p(e,[t]){1&t&&(i.checked=e[0])},i:e,o:e,d(e){e&&k(n),s=!1,c()}}}function Ni(e,t,n){let{checked:i=!1}=t;const l="switch"+Math.floor(1e6*Math.random());return e.$$set=e=>{"checked"in e&&n(0,i=e.checked)},[i,l,function(){i=this.checked,n(0,i)}]}class Ji extends _e{constructor(e){super(),Ce(this,e,Ni,Ri,o,{checked:0})}}function Ki(e){let t;return{c(){t=j("Size:")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Wi(e){let t;return{c(){t=C("span"),t.textContent="Rotation:",I(t,"margin-left","1em")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Zi(e){let t;return{c(){t=C("span"),t.textContent="Shift:",I(t,"margin-left","1em")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Ui(e){let t;return{c(){t=C("span"),t.textContent="Step:",I(t,"margin-left","1em")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Xi(e){let t,n,i,r,o,s,c,a,d,u,f,h,p,g,m,$,v,y,b,w,z,_,j,M;function H(t){e[9].call(null,t)}t=new He({props:{tip:"Element size",$$slots:{default:[Ki]},$$scope:{ctx:e}}}),s=new He({props:{tip:"Element rotation",$$slots:{default:[Wi]},$$scope:{ctx:e}}}),u=new He({props:{tip:"Element shift",$$slots:{default:[Zi]},$$scope:{ctx:e}}}),$=new He({props:{tip:"Grid size: define position shift and drag step",$$slots:{default:[Ui]},$$scope:{ctx:e}}});let L={};return void 0!==e[2]&&(L.checked=e[2]),w=new Ji({props:L}),W.push((()=>be(w,"checked",H))),{c(){we(t.$$.fragment),n=B(),i=C("input"),o=B(),we(s.$$.fragment),c=B(),a=C("input"),d=B(),we(u.$$.fragment),f=B(),h=C("input"),p=B(),g=C("input"),m=B(),we($.$$.fragment),v=B(),y=C("input"),b=B(),we(w.$$.fragment),E(i,"type","number"),E(i,"min","1"),E(i,"max","500"),E(i,"step","1"),i.value=r=100*e[0].size|0,E(i,"class","svelte-17wdl8q"),I(a,"margin-left","1em"),E(a,"type","number"),E(a,"min","-180"),E(a,"max","180"),E(a,"class","svelte-17wdl8q"),E(h,"type","number"),E(h,"min","-100"),E(h,"max","100"),E(h,"step",e[1]),E(h,"class","svelte-17wdl8q"),E(g,"type","number"),E(g,"min","-100"),E(g,"max","100"),E(g,"step",e[1]),E(g,"class","svelte-17wdl8q"),E(y,"type","number"),E(y,"min","1"),E(y,"max","50"),E(y,"class","svelte-17wdl8q")},m(l,r){xe(t,l,r),x(l,n,r),x(l,i,r),x(l,o,r),xe(s,l,r),x(l,c,r),x(l,a,r),q(a,e[0].angle),x(l,d,r),xe(u,l,r),x(l,f,r),x(l,h,r),q(h,e[0].x),x(l,p,r),x(l,g,r),q(g,e[0].y),x(l,m,r),xe($,l,r),x(l,v,r),x(l,y,r),q(y,e[1]),x(l,b,r),xe(w,l,r),_=!0,j||(M=[S(i,"input",e[4]),S(a,"input",e[5]),S(a,"change",e[3]),S(h,"input",e[6]),S(g,"input",e[7]),S(y,"input",e[8])],j=!0)},p(e,[n]){const l={};2048&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l),(!_||1&n&&r!==(r=100*e[0].size|0))&&(i.value=r);const o={};2048&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o),1&n&&P(a.value)!==e[0].angle&&q(a,e[0].angle);const c={};2048&n&&(c.$$scope={dirty:n,ctx:e}),u.$set(c),(!_||2&n)&&E(h,"step",e[1]),1&n&&P(h.value)!==e[0].x&&q(h,e[0].x),(!_||2&n)&&E(g,"step",e[1]),1&n&&P(g.value)!==e[0].y&&q(g,e[0].y);const d={};2048&n&&(d.$$scope={dirty:n,ctx:e}),$.$set(d),2&n&&P(y.value)!==e[1]&&q(y,e[1]);const f={};!z&&4&n&&(z=!0,f.checked=e[2],Y((()=>z=!1))),w.$set(f)},i(e){_||(ue(t.$$.fragment,e),ue(s.$$.fragment,e),ue(u.$$.fragment,e),ue($.$$.fragment,e),ue(w.$$.fragment,e),_=!0)},o(e){fe(t.$$.fragment,e),fe(s.$$.fragment,e),fe(u.$$.fragment,e),fe($.$$.fragment,e),fe(w.$$.fragment,e),_=!1},d(e){ke(t,e),e&&k(n),e&&k(i),e&&k(o),ke(s,e),e&&k(c),e&&k(a),e&&k(d),ke(u,e),e&&k(f),e&&k(h),e&&k(p),e&&k(g),e&&k(m),ke($,e),e&&k(v),e&&k(y),e&&k(b),ke(w,e),j=!1,l(M)}}}function Vi(e,t,n){let i,l,r;a(e,dt,(e=>n(10,i=e))),a(e,rt,(e=>n(1,l=e))),a(e,ot,(e=>n(2,r=e)));let{e:o}=t;return e.$$set=e=>{"e"in e&&n(0,o=e.e)},[o,l,r,function(){p(dt,i.transform=`rotate(${o.angle||0})`,i)},function(){n(0,o.size=this.value/100,o)},function(){o.angle=P(this.value),n(0,o)},function(){o.x=P(this.value),n(0,o)},function(){o.y=P(this.value),n(0,o)},function(){l=P(this.value),rt.set(l)},function(e){r=e,ot.set(r)}]}class Qi extends _e{constructor(e){super(),Ce(this,e,Vi,Xi,o,{e:0})}}function Yi(e){let t,n,i=e[1]&&el(e),l=e[1]+1<e[0].length&&tl(e);return{c(){i&&i.c(),t=B(),l&&l.c(),n=M()},m(e,r){i&&i.m(e,r),x(e,t,r),l&&l.m(e,r),x(e,n,r)},p(e,r){e[1]?i?i.p(e,r):(i=el(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),e[1]+1<e[0].length?l?l.p(e,r):(l=tl(e),l.c(),l.m(n.parentNode,n)):l&&(l.d(1),l=null)},d(e){i&&i.d(e),e&&k(t),l&&l.d(e),e&&k(n)}}}function el(t){let n,i,l;return{c(){n=C("b"),n.textContent="ðŸ —",E(n,"title","Move charge down"),E(n,"class","svelte-1lm7r0h")},m(e,r){x(e,n,r),i||(l=S(n,"click",t[5]),i=!0)},p:e,d(e){e&&k(n),i=!1,l()}}}function tl(t){let n,i,l;return{c(){n=C("b"),n.textContent="ðŸ •",E(n,"title","Move charge up"),E(n,"class","svelte-1lm7r0h")},m(e,r){x(e,n,r),i||(l=S(n,"click",t[4]),i=!0)},p:e,d(e){e&&k(n),i=!1,l()}}}function nl(t){let n,i,r,o,s,c,a,d=t[0].length>1&&Yi(t);return{c(){n=C("b"),n.textContent="âœ–",i=B(),r=C("b"),r.textContent="ðŸ——",o=B(),d&&d.c(),s=M(),E(n,"title","Remove charge"),E(n,"class","svelte-1lm7r0h"),E(r,"title","Copy charge"),E(r,"class","svelte-1lm7r0h")},m(e,l){x(e,n,l),x(e,i,l),x(e,r,l),x(e,o,l),d&&d.m(e,l),x(e,s,l),c||(a=[S(n,"click",t[2]),S(r,"click",t[3])],c=!0)},p(e,[t]){e[0].length>1?d?d.p(e,t):(d=Yi(e),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null)},i:e,o:e,d(e){e&&k(n),e&&k(i),e&&k(r),e&&k(o),d&&d.d(e),e&&k(s),c=!1,l(a)}}}function il(e,t,n){let{els:i}=t,{el:l}=t,{i:r}=t;return e.$$set=e=>{"els"in e&&n(0,i=e.els),"el"in e&&n(6,l=e.el),"i"in e&&n(1,r=e.i)},[i,r,()=>n(0,i=i.filter(((e,t)=>t!==r))),()=>n(0,i=[...i,JSON.parse(JSON.stringify(l))]),()=>n(0,[i[r],i[r+1]]=[i[r+1],i[r]],i),()=>n(0,[i[r],i[r-1]]=[i[r-1],i[r]],i),l]}class ll extends _e{constructor(e){super(),Ce(this,e,il,nl,o,{els:0,el:6,i:1})}}const rl=function(e=Math.floor(1e9*Math.random())){Math.seedrandom(e),bn.f=[],bn.pattern=null;const t={seed:e,t1:sl("field")};let n=!!Ze(bn.pattern?.5:.9);const i=n&&Ze(.3)||Ze(.5)?We(Cn.lined):null,l=!n&&Ze(.6)||Ze(.3)?i||We(Cn.straight):null,r=Ze(["chief","terrace","chevron","quarter","flaunches"].includes(l)||n&&l?.03:n?.3:l?.7:.995),o=r?We(zn.variants):null,s=()=>n=We(l||r?_n[We(_n.types)]:_n[We(_n.single)]);if(n&&s(),o){const e=sl("division",bn.f,Ze(.98)?t.t1:null);t.division={division:o,t:e},zn[o]&&(t.division.line=bn.pattern||l&&Ze(.7)?"straight":We(zn[o]))}if(l&&(t.ordinary={ordinary:l,t:sl("charge",bn.f,t.t1)},i&&(t.ordinary.line=bn.pattern||o&&Ze(.7)?"straight":We(kn)),o&&!n&&!bn.pattern&&Ze(.5)&&"bordure"!==l&&"orle"!==l&&(Ze(.8)?t.ordinary.divided="counter":Ze(.6)?t.ordinary.divided="field":t.ordinary.divided="division")),n){let e="e",i="gules",r=t.ordinary?.t;if(xn.ordinariesOn[l]&&Ze(.8)){for(e=We(xn.ordinariesOn[l]);_n.natural[n]===r;)s();i=!bn.pattern&&Ze(.3)?t.t1:sl("charge",[],r,n)}else if(xn.ordinariesOff[l]&&Ze(.95)){for(e=We(xn.ordinariesOff[l]);_n.natural[n]===t.t1;)s();i=!bn.pattern&&Ze(.3)?r:sl("charge",bn.f,t.t1,n)}else if(xn.divisions[o]){for(e=We(xn.divisions[o]);_n.natural[n]===t.t1;)s();i=sl("charge",r?bn.f.concat(r):bn.f,t.t1,n)}else if(xn[n]){for(e=We(xn[n]);_n.natural[n]===t.t1;)s();i=sl("charge",bn.f,t.t1,n)}else{for(e=bn.pattern?"e":_n.conventional[n]?We(xn.conventional):We(xn.complex);_n.natural[n]===t.t1;)s();i=sl("charge",bn.f.concat(r),t.t1,n)}if(_n.natural[n]&&(i=_n.natural[n]),t.charges=[{charge:n,t:i,p:e}],"ABCDEFGHIKL"===e&&Ze(.95))t.charges[0].charge=We(_n.conventional),t.charges.push({charge:We(_n[We(_n.single)]),t:sl("charge",bn.f,t.t1,n),p:"e"});else if(Ze(.8)&&"inescutcheon"===n.slice(0,12))t.charges.push({charge:We(_n[We(_n.types)]),t:sl("charge",[],i,n),p:e,size:.5});else if(o&&!l){const i=!(bn.pattern||t.line&&"straight"!==t.line);if(Ze(.3)&&["perPale","perFess"].includes(o)&&"straight"===t.line){if(t.charges[0].layer="field",Ze(.95)){const i="e"===e||Ze(.5)?"e":We(xn.divisions[o]);t.charges.push({charge:We(_n[We(_n.single)]),t:sl("charge",bn.f,t.t3,n),p:i,layer:"division"})}}else if(i&&Ze(.4))t.charges[0].layer="counter";else if(["perPale","perFess","perBend","perBendSinister"].includes(o)){const[e,i]="perPale"===o?["pp","qq"]:"perFess"===o?["kk","nn"]:"perBend"===o?["ll","mm"]:["jj","oo"];t.charges[0].p=e,t.charges.push({charge:We(_n[We(_n.single)]),t:sl("charge",bn.f,t.t3,n),p:i})}else i&&e.length>1&&(t.charges[0].layer="counter")}t.charges.forEach((e=>function(e){e.size=(e.size||1)*ol(e.p,l),e.p=[...new Set(e.p)].join(""),Ze(.05)&&_n.sinister.includes(e.charge)&&(e.sinister=1);Ze(.05)&&_n.reversed.includes(e.charge)&&(e.reversed=1)}(e)))}return t},ol=(e,t)=>"e"!==e||"bordure"!==t&&"orle"!==t?"e"===e?1.5:["p","q","pp","qq","pq","kn","n","n","kk","nn","oo","jj"].includes(e)||"jln"===e||"jlh"===e?.7:"abcpqh"===e?.5:e.length>10?.18:e.length>7?.3:e.length>4?.4:.5:1.1;function sl(e,t=[],n,i){i&&bn[i]&&(e=i);const l=n?n.includes("-")?n.split("-")[1]:n:null;let r=We(bn[e]);"patterns"!==r&&l&&(r="metals"===al(l)?"colours":"metals"),"metals"===r&&t.includes("or")&&t.includes("argent")&&(r="colours");let o=We(bn[r][e]);for(;o===l||t.includes(o);)o=We(bn[r][e]);return"patterns"!==r&&"charge"!==e&&bn.f.push(o),"patterns"===r&&(bn.pattern=o,o=function(e,t,n=""){let i=null,l=null;Ze(.15)?n="-small":Ze(.05)?n="-smaller":Ze(.035)?n="-big":Ze(.001)&&(n="-smallest");Ze(.5)&&["vair","vairInPale","vairEnPointe"].includes(e)?(i="azure",l="argent"):Ze(.8)&&"ermine"===e?(i="argent",l="sable"):"pappellony"===e?Ze(.2)?(i="gules",l="or"):Ze(.2)?(i="argent",l="sable"):Ze(.2)&&(i="azure",l="argent"):"masoned"===e?Ze(.3)?(i="gules",l="argent"):Ze(.3)?(i="argent",l="sable"):Ze(.1)&&(i="or",l="sable"):"fretty"===e?"sable"===l||Ze(.35)?(i="argent",l="gules"):Ze(.25)?(i="sable",l="or"):Ze(.15)&&(i="gules",l="argent"):"semy"===e&&(e+="_of_"+We(_n[We(_n.semy)]));if(!i||!l){const e=Ze(.7);i=We(e?bn.metals[t]:bn.colours[t]),l=We(e?bn.colours[t]:bn.metals[t])}"division"===t&&(bn.f.includes(i)&&(i=cl(i)),bn.f.includes(l)&&(l=cl(l)));return bn.f.push(i,l),`${e}-${i}-${l}${n}`}(o,e)),o}function cl(e,t){if("or"===e)return"argent";if("argent"===e)return"or";const n=al(e);for(;!t||t===e;)t=We(bn[n].division);return t}function al(e){const t=e.includes("-")?e.split("-")[1]:e;return"argent"===t||"or"===t?"metals":"colours"}function dl(e,t,n){const i=e.slice();return i[69]=t[n],i}function ul(e,t,n){const i=e.slice();return i[0]=t[n],i}function fl(e,t,n){const i=e.slice();return i[74]=t[n],i}function hl(e,t,n){const i=e.slice();return i[66]=t[n],i[67]=t,i[68]=n,i}function pl(e,t,n){const i=e.slice();return i[0]=t[n],i}function gl(e,t,n){const i=e.slice();return i[0]=t[n],i}function ml(e,t,n){const i=e.slice();return i[0]=t[n],i}function $l(e,t,n){const i=e.slice();return i[74]=t[n],i}function vl(e,t,n){const i=e.slice();return i[0]=t[n],i}function yl(e,t,n){const i=e.slice();return i[0]=t[n],i}function bl(e,t,n){const i=e.slice();return i[0]=t[n],i}function wl(e,t,n){const i=e.slice();return i[0]=t[n],i}function xl(e,t,n){const i=e.slice();return i[74]=t[n],i}function kl(e,t,n){const i=e.slice();return i[0]=t[n],i}function zl(e){let t,n;return t=new di({props:{coa:e[0],i:"Edit",w:e[4],h:e[4]}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};1&n[0]&&(i.coa=e[0]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function Cl(e){let t,n,i;function l(t){e[13].call(null,t)}let r={};return void 0!==e[2].field.size&&(r.size=e[2].field.size),t=new Ai({props:r}),W.push((()=>be(t,"size",l))),{c(){we(t.$$.fragment)},m(e,n){xe(t,e,n),i=!0},p(e,i){const l={};!n&&4&i[0]&&(n=!0,l.size=e[2].field.size,Y((()=>n=!1))),t.$set(l)},i(e){i||(ue(t.$$.fragment,e),i=!0)},o(e){fe(t.$$.fragment,e),i=!1},d(e){ke(t,e)}}}function _l(e){let t,n,i,l;function r(t){e[15].call(null,t)}let o={itemSize:e[5]};return void 0!==e[2].field.t2&&(o.t1=e[2].field.t2),n=new Di({props:o}),W.push((()=>be(n,"t1",r))),{c(){t=C("div"),we(n.$$.fragment),E(t,"class","subsection svelte-1fehgbf")},m(e,i){x(e,t,i),xe(n,t,null),l=!0},p(e,t){const l={};!i&&4&t[0]&&(i=!0,l.t1=e[2].field.t2,Y((()=>i=!1))),n.$set(l)},i(e){l||(ue(n.$$.fragment,e),l=!0)},o(e){fe(n.$$.fragment,e),l=!1},d(e){e&&k(t),ke(n)}}}function jl(e){let t,n,i,l,r=e[6].map(e[16]),o=[];for(let t=0;t<r.length;t+=1)o[t]=Bl(kl(e,r,t));const s=e=>fe(o[e],1,1,(()=>{o[e]=null}));return{c(){t=C("div"),n=C("div"),n.textContent="Pattern:",i=B();for(let e=0;e<o.length;e+=1)o[e].c();E(t,"class","subsection svelte-1fehgbf")},m(e,r){x(e,t,r),w(t,n),w(t,i);for(let e=0;e<o.length;e+=1)o[e].m(t,null);l=!0},p(e,n){if(100&n[0]){let i;for(r=e[6].map(e[16]),i=0;i<r.length;i+=1){const l=kl(e,r,i);o[i]?(o[i].p(l,n),ue(o[i],1)):(o[i]=Bl(l),o[i].c(),ue(o[i],1),o[i].m(t,null))}for(ae(),i=r.length;i<o.length;i+=1)s(i);de()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)ue(o[e]);l=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)fe(o[e]);l=!1},d(e){e&&k(t),z(o,e)}}}function Bl(e){let t,n,i,l,r,o;function s(...t){return e[17](e[0],...t)}return n=new Ei({props:{coa:e[0],title:or(e[0].pattern),itemSize:e[5]}}),{c(){t=C("div"),we(n.$$.fragment),i=B(),E(t,"class","item"),F(t,"selected",e[2].field.pattern===e[0].pattern)},m(e,c){x(e,t,c),xe(n,t,null),w(t,i),l=!0,r||(o=S(t,"click",s),r=!0)},p(i,l){e=i;const r={};4&l[0]&&(r.coa=e[0]),4&l[0]&&(r.title=or(e[0].pattern)),n.$set(r),68&l[0]&&F(t,"selected",e[2].field.pattern===e[0].pattern)},i(e){l||(ue(n.$$.fragment,e),l=!0)},o(e){fe(n.$$.fragment,e),l=!1},d(e){e&&k(t),ke(n),r=!1,o()}}}function Ml(e){let t,n,i,l,r,o,s,c,a=[],d=new Map,u=e[7],f=[];for(let t=0;t<u.length;t+=1)f[t]=Sl(xl(e,u,t));let h=Object.keys(_n[e[2].field.semy]).map(e[19]);const p=e=>e[0];for(let t=0;t<h.length;t+=1){let n=wl(e,h,t),i=p(n);d.set(i,a[t]=El(i,n))}return{c(){t=C("div"),n=C("div"),i=j("Charge:\n            "),l=C("select");for(let e=0;e<f.length;e+=1)f[e].c();r=B();for(let e=0;e<a.length;e+=1)a[e].c();E(l,"class","svelte-1fehgbf"),void 0===e[2].field.semy&&Q((()=>e[18].call(l))),E(t,"class","subsection svelte-1fehgbf")},m(d,u){x(d,t,u),w(t,n),w(n,i),w(n,l);for(let e=0;e<f.length;e+=1)f[e].m(l,null);L(l,e[2].field.semy),w(t,r);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0,s||(c=S(l,"change",e[18]),s=!0)},p(e,n){if(128&n[0]){let t;for(u=e[7],t=0;t<u.length;t+=1){const i=xl(e,u,t);f[t]?f[t].p(i,n):(f[t]=Sl(i),f[t].c(),f[t].m(l,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=u.length}if(132&n[0]&&L(l,e[2].field.semy),36&n[0]){const i=Object.keys(_n[e[2].field.semy]).map(e[19]);ae(),a=ye(a,n,p,1,e,i,d,t,ve,El,null,wl),de()}},i(e){if(!o){for(let e=0;e<h.length;e+=1)ue(a[e]);o=!0}},o(e){for(let e=0;e<a.length;e+=1)fe(a[e]);o=!1},d(e){e&&k(t),z(f,e);for(let e=0;e<a.length;e+=1)a[e].d();s=!1,c()}}}function Sl(t){let n,i,l,r=or(t[74])+"";return{c(){n=C("option"),i=j(r),n.__value=l=t[74],n.value=n.__value},m(e,t){x(e,n,t),w(n,i)},p:e,d(e){e&&k(n)}}}function El(e,t){let n,i,l,r,o,s;function c(...e){return t[20](t[0],...e)}return i=new Ei({props:{coa:t[0],title:or(t[0].charge),itemSize:t[5]}}),{key:e,first:null,c(){n=C("div"),we(i.$$.fragment),l=B(),E(n,"class","item"),F(n,"selected",t[2].field.charge===t[0].charge),this.first=n},m(e,t){x(e,n,t),xe(i,n,null),w(n,l),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,l){t=e;const r={};4&l[0]&&(r.coa=t[0]),4&l[0]&&(r.title=or(t[0].charge)),i.$set(r),4&l[0]&&F(n,"selected",t[2].field.charge===t[0].charge)},i(e){r||(ue(i.$$.fragment,e),r=!0)},o(e){fe(i.$$.fragment,e),r=!1},d(e){e&&k(n),ke(i),o=!1,s()}}}function Pl(e,t){let n,i,l,r,o,s;function c(...e){return t[22](t[0],...e)}return i=new Ei({props:{coa:t[0],title:or(t[0].division.division),itemSize:t[5]}}),{key:e,first:null,c(){n=C("div"),we(i.$$.fragment),l=B(),E(n,"class","item"),F(n,"selected",t[2].division.division===t[0].division.division),this.first=n},m(e,t){x(e,n,t),xe(i,n,null),w(n,l),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,l){t=e;const r={};5&l[0]&&(r.coa=t[0]),5&l[0]&&(r.title=or(t[0].division.division)),i.$set(r),5&l[0]&&F(n,"selected",t[2].division.division===t[0].division.division)},i(e){r||(ue(i.$$.fragment,e),r=!0)},o(e){fe(i.$$.fragment,e),r=!1},d(e){e&&k(n),ke(i),o=!1,s()}}}function Hl(e){let t,n,i,l,r=[],o=new Map,s=Object.keys(kn).map(e[23]);const c=e=>e[0];for(let t=0;t<s.length;t+=1){let n=yl(e,s,t),i=c(n);o.set(i,r[t]=ql(i,n))}return{c(){t=C("div"),n=C("div"),n.textContent="Line:",i=B();for(let e=0;e<r.length;e+=1)r[e].c();E(t,"class","subsection svelte-1fehgbf")},m(e,o){x(e,t,o),w(t,n),w(t,i);for(let e=0;e<r.length;e+=1)r[e].m(t,null);l=!0},p(e,n){if(37&n[0]){const i=Object.keys(kn).map(e[23]);ae(),r=ye(r,n,c,1,e,i,o,t,ve,ql,null,yl),de()}},i(e){if(!l){for(let e=0;e<s.length;e+=1)ue(r[e]);l=!0}},o(e){for(let e=0;e<r.length;e+=1)fe(r[e]);l=!1},d(e){e&&k(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function ql(e,t){let n,i,l,r,o,s;function c(...e){return t[24](t[0],...e)}return i=new Ei({props:{coa:t[0],title:or(t[0].division.line),itemSize:t[5]}}),{key:e,first:null,c(){n=C("div"),we(i.$$.fragment),l=B(),E(n,"class","item"),F(n,"selected",t[2].division.line===t[0].division.line),this.first=n},m(e,t){x(e,n,t),xe(i,n,null),w(n,l),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,l){t=e;const r={};5&l[0]&&(r.coa=t[0]),5&l[0]&&(r.title=or(t[0].division.line)),i.$set(r),5&l[0]&&F(n,"selected",t[2].division.line===t[0].division.line)},i(e){r||(ue(i.$$.fragment,e),r=!0)},o(e){fe(i.$$.fragment,e),r=!1},d(e){e&&k(n),ke(i),o=!1,s()}}}function Il(e){let t,n,i,l,r,o,s,c,a,d,u,f,h;function p(t){e[25].call(null,t)}let g={updateSection:rr};void 0!==e[2].division.type&&(g.type=e[2].division.type),n=new qi({props:g}),W.push((()=>be(n,"type",p)));let m="tincture"!==e[2].division.type&&Ll(e);function $(t){e[27].call(null,t)}let v={itemSize:e[5]};void 0!==e[2].division.t1&&(v.t1=e[2].division.t1),s=new Di({props:v}),W.push((()=>be(s,"t1",$)));let y="tincture"!==e[2].division.type&&Al(e),b="pattern"===e[2].division.type&&Fl(e),z="semy"===e[2].division.type&&Ol(e);return{c(){t=C("div"),we(n.$$.fragment),l=B(),m&&m.c(),r=B(),o=C("div"),we(s.$$.fragment),a=B(),y&&y.c(),d=B(),b&&b.c(),u=B(),z&&z.c(),f=M(),E(t,"class","subsection svelte-1fehgbf"),E(o,"class","subsection svelte-1fehgbf")},m(e,i){x(e,t,i),xe(n,t,null),w(t,l),m&&m.m(t,null),x(e,r,i),x(e,o,i),xe(s,o,null),x(e,a,i),y&&y.m(e,i),x(e,d,i),b&&b.m(e,i),x(e,u,i),z&&z.m(e,i),x(e,f,i),h=!0},p(e,l){const r={};!i&&4&l[0]&&(i=!0,r.type=e[2].division.type,Y((()=>i=!1))),n.$set(r),"tincture"!==e[2].division.type?m?(m.p(e,l),4&l[0]&&ue(m,1)):(m=Ll(e),m.c(),ue(m,1),m.m(t,null)):m&&(ae(),fe(m,1,1,(()=>{m=null})),de());const o={};!c&&4&l[0]&&(c=!0,o.t1=e[2].division.t1,Y((()=>c=!1))),s.$set(o),"tincture"!==e[2].division.type?y?(y.p(e,l),4&l[0]&&ue(y,1)):(y=Al(e),y.c(),ue(y,1),y.m(d.parentNode,d)):y&&(ae(),fe(y,1,1,(()=>{y=null})),de()),"pattern"===e[2].division.type?b?(b.p(e,l),4&l[0]&&ue(b,1)):(b=Fl(e),b.c(),ue(b,1),b.m(u.parentNode,u)):b&&(ae(),fe(b,1,1,(()=>{b=null})),de()),"semy"===e[2].division.type?z?(z.p(e,l),4&l[0]&&ue(z,1)):(z=Ol(e),z.c(),ue(z,1),z.m(f.parentNode,f)):z&&(ae(),fe(z,1,1,(()=>{z=null})),de())},i(e){h||(ue(n.$$.fragment,e),ue(m),ue(s.$$.fragment,e),ue(y),ue(b),ue(z),h=!0)},o(e){fe(n.$$.fragment,e),fe(m),fe(s.$$.fragment,e),fe(y),fe(b),fe(z),h=!1},d(e){e&&k(t),ke(n),m&&m.d(),e&&k(r),e&&k(o),ke(s),e&&k(a),y&&y.d(e),e&&k(d),b&&b.d(e),e&&k(u),z&&z.d(e),e&&k(f)}}}function Ll(e){let t,n,i;function l(t){e[26].call(null,t)}let r={};return void 0!==e[2].division.size&&(r.size=e[2].division.size),t=new Ai({props:r}),W.push((()=>be(t,"size",l))),{c(){we(t.$$.fragment)},m(e,n){xe(t,e,n),i=!0},p(e,i){const l={};!n&&4&i[0]&&(n=!0,l.size=e[2].division.size,Y((()=>n=!1))),t.$set(l)},i(e){i||(ue(t.$$.fragment,e),i=!0)},o(e){fe(t.$$.fragment,e),i=!1},d(e){ke(t,e)}}}function Al(e){let t,n,i,l;function r(t){e[28].call(null,t)}let o={itemSize:e[5]};return void 0!==e[2].division.t2&&(o.t1=e[2].division.t2),n=new Di({props:o}),W.push((()=>be(n,"t1",r))),{c(){t=C("div"),we(n.$$.fragment),E(t,"class","subsection svelte-1fehgbf")},m(e,i){x(e,t,i),xe(n,t,null),l=!0},p(e,t){const l={};!i&&4&t[0]&&(i=!0,l.t1=e[2].division.t2,Y((()=>i=!1))),n.$set(l)},i(e){l||(ue(n.$$.fragment,e),l=!0)},o(e){fe(n.$$.fragment,e),l=!1},d(e){e&&k(t),ke(n)}}}function Fl(e){let t,n,i,l,r=e[6].map(e[29]),o=[];for(let t=0;t<r.length;t+=1)o[t]=Tl(vl(e,r,t));const s=e=>fe(o[e],1,1,(()=>{o[e]=null}));return{c(){t=C("div"),n=C("div"),n.textContent="Pattern:",i=B();for(let e=0;e<o.length;e+=1)o[e].c();E(t,"class","subsection svelte-1fehgbf")},m(e,r){x(e,t,r),w(t,n),w(t,i);for(let e=0;e<o.length;e+=1)o[e].m(t,null);l=!0},p(e,n){if(100&n[0]){let i;for(r=e[6].map(e[29]),i=0;i<r.length;i+=1){const l=vl(e,r,i);o[i]?(o[i].p(l,n),ue(o[i],1)):(o[i]=Tl(l),o[i].c(),ue(o[i],1),o[i].m(t,null))}for(ae(),i=r.length;i<o.length;i+=1)s(i);de()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)ue(o[e]);l=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)fe(o[e]);l=!1},d(e){e&&k(t),z(o,e)}}}function Tl(e){let t,n,i,l,r,o;function s(...t){return e[30](e[0],...t)}return n=new Ei({props:{coa:e[0],title:or(e[0].pattern),itemSize:e[5]}}),{c(){t=C("div"),we(n.$$.fragment),i=B(),E(t,"class","item"),F(t,"selected",e[2].division.pattern===e[0].pattern)},m(e,c){x(e,t,c),xe(n,t,null),w(t,i),l=!0,r||(o=S(t,"click",s),r=!0)},p(i,l){e=i;const r={};4&l[0]&&(r.coa=e[0]),4&l[0]&&(r.title=or(e[0].pattern)),n.$set(r),68&l[0]&&F(t,"selected",e[2].division.pattern===e[0].pattern)},i(e){l||(ue(n.$$.fragment,e),l=!0)},o(e){fe(n.$$.fragment,e),l=!1},d(e){e&&k(t),ke(n),r=!1,o()}}}function Ol(e){let t,n,i,l,r,o,s,c,a=[],d=new Map,u=e[7],f=[];for(let t=0;t<u.length;t+=1)f[t]=Gl($l(e,u,t));let h=Object.keys(_n[e[2].division.semy]).map(e[32]);const p=e=>e[0];for(let t=0;t<h.length;t+=1){let n=ml(e,h,t),i=p(n);d.set(i,a[t]=Dl(i,n))}return{c(){t=C("div"),n=C("div"),i=j("Charge:\n              "),l=C("select");for(let e=0;e<f.length;e+=1)f[e].c();r=B();for(let e=0;e<a.length;e+=1)a[e].c();E(l,"class","svelte-1fehgbf"),void 0===e[2].division.semy&&Q((()=>e[31].call(l))),E(t,"class","subsection svelte-1fehgbf")},m(d,u){x(d,t,u),w(t,n),w(n,i),w(n,l);for(let e=0;e<f.length;e+=1)f[e].m(l,null);L(l,e[2].division.semy),w(t,r);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0,s||(c=S(l,"change",e[31]),s=!0)},p(e,n){if(128&n[0]){let t;for(u=e[7],t=0;t<u.length;t+=1){const i=$l(e,u,t);f[t]?f[t].p(i,n):(f[t]=Gl(i),f[t].c(),f[t].m(l,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=u.length}if(132&n[0]&&L(l,e[2].division.semy),36&n[0]){const i=Object.keys(_n[e[2].division.semy]).map(e[32]);ae(),a=ye(a,n,p,1,e,i,d,t,ve,Dl,null,ml),de()}},i(e){if(!o){for(let e=0;e<h.length;e+=1)ue(a[e]);o=!0}},o(e){for(let e=0;e<a.length;e+=1)fe(a[e]);o=!1},d(e){e&&k(t),z(f,e);for(let e=0;e<a.length;e+=1)a[e].d();s=!1,c()}}}function Gl(t){let n,i,l,r=or(t[74])+"";return{c(){n=C("option"),i=j(r),n.__value=l=t[74],n.value=n.__value},m(e,t){x(e,n,t),w(n,i)},p:e,d(e){e&&k(n)}}}function Dl(e,t){let n,i,l,r,o,s;function c(...e){return t[33](t[0],...e)}return i=new Ei({props:{coa:t[0],title:or(t[0].charge),itemSize:t[5]}}),{key:e,first:null,c(){n=C("div"),we(i.$$.fragment),l=B(),E(n,"class","item"),F(n,"selected",t[2].division.charge===t[0].charge),this.first=n},m(e,t){x(e,n,t),xe(i,n,null),w(n,l),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,l){t=e;const r={};4&l[0]&&(r.coa=t[0]),4&l[0]&&(r.title=or(t[0].charge)),i.$set(r),4&l[0]&&F(n,"selected",t[2].division.charge===t[0].charge)},i(e){r||(ue(i.$$.fragment,e),r=!0)},o(e){fe(i.$$.fragment,e),r=!1},d(e){e&&k(n),ke(i),o=!1,s()}}}function Rl(e){let t,n,i,r,o,s,c,a,d;return{c(){t=C("div"),n=j("Divided:\n          "),i=C("select"),r=C("option"),r.textContent="No (standard)",o=C("option"),o.textContent="Crop by main field",s=C("option"),s.textContent="Crop by division",c=C("option"),c.textContent="Ð¡ountercharged",r.__value="",r.value=r.__value,o.__value="field",o.value=o.__value,s.__value="division",s.value=s.__value,c.__value="counter",c.value=c.__value,E(i,"class","svelte-1fehgbf"),void 0===e[2].ordinary.divided&&Q((()=>e[34].call(i))),E(t,"class","subsection svelte-1fehgbf")},m(l,u){x(l,t,u),w(t,n),w(t,i),w(i,r),w(i,o),w(i,s),w(i,c),L(i,e[2].ordinary.divided),a||(d=[S(i,"change",e[34]),S(t,"click",rr)],a=!0)},p(e,t){132&t[0]&&L(i,e[2].ordinary.divided)},d(e){e&&k(t),a=!1,l(d)}}}function Nl(e,t){let n,i,l,r,o,s;function c(...e){return t[36](t[0],...e)}return i=new Ei({props:{coa:t[0],title:or(t[0].ordinary.ordinary),itemSize:t[5]}}),{key:e,first:null,c(){n=C("div"),we(i.$$.fragment),l=B(),E(n,"class","item"),F(n,"selected",t[2].ordinary.ordinary===t[0].ordinary.ordinary),this.first=n},m(e,t){x(e,n,t),xe(i,n,null),w(n,l),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,l){t=e;const r={};5&l[0]&&(r.coa=t[0]),5&l[0]&&(r.title=or(t[0].ordinary.ordinary)),i.$set(r),261&l[0]&&F(n,"selected",t[2].ordinary.ordinary===t[0].ordinary.ordinary)},i(e){r||(ue(i.$$.fragment,e),r=!0)},o(e){fe(i.$$.fragment,e),r=!1},d(e){e&&k(n),ke(i),o=!1,s()}}}function Jl(e){let t,n,i,l,r=[],o=new Map,s=Object.keys(kn).map(e[37]);const c=e=>e[0];for(let t=0;t<s.length;t+=1){let n=pl(e,s,t),i=c(n);o.set(i,r[t]=Kl(i,n))}return{c(){t=C("div"),n=C("div"),n.textContent="Line:",i=B();for(let e=0;e<r.length;e+=1)r[e].c();E(t,"class","subsection svelte-1fehgbf")},m(e,o){x(e,t,o),w(t,n),w(t,i);for(let e=0;e<r.length;e+=1)r[e].m(t,null);l=!0},p(e,n){if(37&n[0]){const i=Object.keys(kn).map(e[37]);ae(),r=ye(r,n,c,1,e,i,o,t,ve,Kl,null,pl),de()}},i(e){if(!l){for(let e=0;e<s.length;e+=1)ue(r[e]);l=!0}},o(e){for(let e=0;e<r.length;e+=1)fe(r[e]);l=!1},d(e){e&&k(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Kl(e,t){let n,i,l,r,o,s;function c(...e){return t[38](t[0],...e)}return i=new Ei({props:{coa:t[0],title:or(t[0].ordinary.line),itemSize:t[5]}}),{key:e,first:null,c(){n=C("div"),we(i.$$.fragment),l=B(),E(n,"class","item"),F(n,"selected",t[2].ordinary.line===t[0].ordinary.line),this.first=n},m(e,t){x(e,n,t),xe(i,n,null),w(n,l),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,l){t=e;const r={};5&l[0]&&(r.coa=t[0]),5&l[0]&&(r.title=or(t[0].ordinary.line)),i.$set(r),5&l[0]&&F(n,"selected",t[2].ordinary.line===t[0].ordinary.line)},i(e){r||(ue(i.$$.fragment,e),r=!0)},o(e){fe(i.$$.fragment,e),r=!1},d(e){e&&k(n),ke(i),o=!1,s()}}}function Wl(e){let t,n,i,l;function r(t){e[39].call(null,t)}let o={itemSize:e[5]};return void 0!==e[2].ordinary.t&&(o.t1=e[2].ordinary.t),n=new Di({props:o}),W.push((()=>be(n,"t1",r))),{c(){t=C("div"),we(n.$$.fragment),E(t,"class","subsection svelte-1fehgbf")},m(e,i){x(e,t,i),xe(n,t,null),l=!0},p(e,t){const l={};!i&&4&t[0]&&(i=!0,l.t1=e[2].ordinary.t,Y((()=>i=!1))),n.$set(l)},i(e){l||(ue(n.$$.fragment,e),l=!0)},o(e){fe(n.$$.fragment,e),l=!1},d(e){e&&k(t),ke(n)}}}function Zl(t){let n,i,l,r=or(t[74])+"";return{c(){n=C("option"),i=j(r),n.__value=l=t[74],n.value=n.__value},m(e,t){x(e,n,t),w(n,i)},p:e,d(e){e&&k(n)}}}function Ul(e){let t,n,i,l,r,o,s,c,a;function d(){e[42].call(i,e[67],e[68])}return{c(){t=C("span"),t.textContent="Divided:",n=B(),i=C("select"),l=C("option"),l.textContent="No (standard)",r=C("option"),r.textContent="Crop by main field",o=C("option"),o.textContent="Crop by division",s=C("option"),s.textContent="Ð¡ountercharged",I(t,"margin-left","1em"),l.__value="",l.value=l.__value,r.__value="field",r.value=r.__value,o.__value="division",o.value=o.__value,s.__value="counter",s.value=s.__value,E(i,"class","svelte-1fehgbf"),void 0===e[66].layer&&Q(d)},m(u,f){x(u,t,f),x(u,n,f),x(u,i,f),w(i,l),w(i,r),w(i,o),w(i,s),L(i,e[66].layer),c||(a=S(i,"change",d),c=!0)},p(t,n){e=t,132&n[0]&&L(i,e[66].layer)},d(e){e&&k(t),e&&k(n),e&&k(i),c=!1,a()}}}function Xl(e,t){let n,i,l,r,o,s;function c(...e){return t[45](t[66],t[0],t[67],t[68],...e)}return i=new Ei({props:{coa:t[0],title:or(t[0].c),itemSize:t[5]}}),{key:e,first:null,c(){n=C("div"),we(i.$$.fragment),l=B(),E(n,"class","item"),F(n,"selected",t[66].charge===t[0].c),this.first=n},m(e,t){x(e,n,t),xe(i,n,null),w(n,l),r=!0,o||(s=S(n,"click",c),o=!0)},p(e,l){t=e;const r={};5&l[0]&&(r.coa=t[0]),5&l[0]&&(r.title=or(t[0].c)),i.$set(r),5&l[0]&&F(n,"selected",t[66].charge===t[0].c)},i(e){r||(ue(i.$$.fragment,e),r=!0)},o(e){fe(i.$$.fragment,e),r=!1},d(e){e&&k(n),ke(i),o=!1,s()}}}function Vl(e){let t,n,i,l;function r(t){e[46].call(null,t,e[66])}let o={itemSize:e[5]};return void 0!==e[66].t&&(o.t1=e[66].t),n=new Di({props:o}),W.push((()=>be(n,"t1",r))),{c(){t=C("div"),we(n.$$.fragment),E(t,"class","subsection svelte-1fehgbf")},m(e,i){x(e,t,i),xe(n,t,null),l=!0},p(t,l){e=t;const r={};!i&&4&l[0]&&(i=!0,r.t1=e[66].t,Y((()=>i=!1))),n.$set(r)},i(e){l||(ue(n.$$.fragment,e),l=!0)},o(e){fe(n.$$.fragment,e),l=!1},d(e){e&&k(t),ke(n)}}}function Ql(e){let t;return{c(){t=j("Positions:")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function Yl(t){let n,i,l,r=t[69]+"";return{c(){n=C("option"),i=j(r),n.__value=l=t[69],n.value=n.__value},m(e,t){x(e,n,t),w(n,i)},p:e,d(e){e&&k(n)}}}function er(e){let t;return{c(){t=C("span"),t.textContent="Sinister:",I(t,"margin-left","1em")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function tr(e){let t;return{c(){t=C("span"),t.textContent="Reversed:",I(t,"margin-left","1em")},m(e,n){x(e,t,n)},d(e){e&&k(t)}}}function nr(e){let t,n,i,r,o,s,c,a,d,u,f,h,p,g,m,$,v,y,b,_,M,P,A,F,T,O,G,D,R,N,J,K,Z,U,X,V,ee,te,ne,ie,le=(e[2].charges.length>1?e[68]+1:"")+"",re=[],oe=new Map,se=e[7],ce=[];for(let t=0;t<se.length;t+=1)ce[t]=Zl(fl(e,se,t));function he(){e[41].call(u,e[67],e[68])}let ge=e[0].division&&Ul(e);function me(t){e[43].call(null,t)}let $e={el:e[66],i:e[68]};function ze(...t){return e[44](e[66],...t)}void 0!==e[2].charges&&($e.els=e[2].charges),p=new ll({props:$e}),W.push((()=>be(p,"els",me)));let Ce=Object.keys(_n[e[66].type]).map(ze);const _e=e=>e[0];for(let t=0;t<Ce.length;t+=1){let n=ul(e,Ce,t),i=_e(n);oe.set(i,re[t]=Xl(i,n))}let je="counter"!==e[66].layer&&Vl(e);function Be(){e[47].call(M,e[67],e[68])}function Me(...t){return e[48](e[66],...t)}function Se(...t){return e[49](e[66],...t)}b=new He({props:{tip:"Points on shield to place a charge",$$slots:{default:[Ql]},$$scope:{ctx:e}}});let Ee=wn,Pe=[];for(let t=0;t<Ee.length;t+=1)Pe[t]=Yl(dl(e,Ee,t));function qe(){e[51].call(A,e[67],e[68])}function Ie(...t){return e[52](e[66],e[67],e[68],...t)}function Le(...t){return e[53](e[66],...t)}function Ae(t){e[55].call(null,t,e[66])}T=new He({props:{tip:"Turn charge to the left",$$slots:{default:[er]},$$scope:{ctx:e}}});let Fe={};function Te(t){e[56].call(null,t,e[66])}void 0!==e[66].sinister&&(Fe.checked=e[66].sinister),G=new Ji({props:Fe}),W.push((()=>be(G,"checked",Ae))),N=new He({props:{tip:"Show charge upside down",$$slots:{default:[tr]},$$scope:{ctx:e}}});let Oe={};function Ge(t){e[57].call(null,t,e[66],e[67],e[68])}void 0!==e[66].reversed&&(Oe.checked=e[66].reversed),K=new Ji({props:Oe}),W.push((()=>be(K,"checked",Te)));let De={};return void 0!==e[66]&&(De.e=e[66]),V=new Qi({props:De}),W.push((()=>be(V,"e",Ge))),{c(){t=C("div"),n=j("Charge "),i=j(le),o=B(),s=C("div"),c=C("div"),a=C("div"),d=j("Category:\n            "),u=C("select");for(let e=0;e<ce.length;e+=1)ce[e].c();f=B(),ge&&ge.c(),h=B(),we(p.$$.fragment),m=B();for(let e=0;e<re.length;e+=1)re[e].c();$=B(),je&&je.c(),v=B(),y=C("div"),we(b.$$.fragment),_=B(),M=C("input"),P=B(),A=C("select");for(let e=0;e<Pe.length;e+=1)Pe[e].c();F=B(),we(T.$$.fragment),O=B(),we(G.$$.fragment),R=B(),we(N.$$.fragment),J=B(),we(K.$$.fragment),U=B(),X=C("div"),we(V.$$.fragment),E(t,"class","section svelte-1fehgbf"),E(u,"class","svelte-1fehgbf"),void 0===e[66].type&&Q(he),E(c,"class","subsection svelte-1fehgbf"),I(M,"margin-left",".6em"),I(M,"width","8.6em"),E(A,"class","pseudoSelect svelte-1fehgbf"),void 0===e[66].p&&Q(qe),E(y,"class","subsection svelte-1fehgbf"),E(X,"class","subsection svelte-1fehgbf"),E(s,"class","panel svelte-1fehgbf")},m(l,r){x(l,t,r),w(t,n),w(t,i),x(l,o,r),x(l,s,r),w(s,c),w(c,a),w(a,d),w(a,u);for(let e=0;e<ce.length;e+=1)ce[e].m(u,null);L(u,e[66].type),w(a,f),ge&&ge.m(a,null),w(a,h),xe(p,a,null),w(c,m);for(let e=0;e<re.length;e+=1)re[e].m(c,null);w(s,$),je&&je.m(s,null),w(s,v),w(s,y),xe(b,y,null),w(y,_),w(y,M),q(M,e[66].p),w(y,P),w(y,A);for(let e=0;e<Pe.length;e+=1)Pe[e].m(A,null);L(A,e[66].p),w(y,F),xe(T,y,null),w(y,O),xe(G,y,null),w(y,R),xe(N,y,null),w(y,J),xe(K,y,null),w(s,U),w(s,X),xe(V,X,null),te=!0,ne||(ie=[S(t,"click",lr),S(u,"change",he),S(u,"input",rr),S(M,"input",Be),S(M,"input",Me),S(M,"focus",Se),S(M,"blur",e[50]),S(A,"change",qe),S(A,"change",Ie),S(A,"focus",Le),S(A,"blur",e[54])],ne=!0)},p(t,n){if(e=t,(!te||4&n[0])&&le!==(le=(e[2].charges.length>1?e[68]+1:"")+"")&&H(i,le),128&n[0]){let t;for(se=e[7],t=0;t<se.length;t+=1){const i=fl(e,se,t);ce[t]?ce[t].p(i,n):(ce[t]=Zl(i),ce[t].c(),ce[t].m(u,null))}for(;t<ce.length;t+=1)ce[t].d(1);ce.length=se.length}132&n[0]&&L(u,e[66].type),e[0].division?ge?ge.p(e,n):(ge=Ul(e),ge.c(),ge.m(a,h)):ge&&(ge.d(1),ge=null);const l={};if(4&n[0]&&(l.el=e[66]),!g&&4&n[0]&&(g=!0,l.els=e[2].charges,Y((()=>g=!1))),p.$set(l),37&n[0]){const t=Object.keys(_n[e[66].type]).map(ze);ae(),re=ye(re,n,_e,1,e,t,oe,c,ve,Xl,null,ul),de()}"counter"!==e[66].layer?je?(je.p(e,n),4&n[0]&&ue(je,1)):(je=Vl(e),je.c(),ue(je,1),je.m(s,v)):je&&(ae(),fe(je,1,1,(()=>{je=null})),de());const r={};if(16&n[3]&&(r.$$scope={dirty:n,ctx:e}),b.$set(r),132&n[0]&&M.value!==e[66].p&&q(M,e[66].p),0&n){let t;for(Ee=wn,t=0;t<Ee.length;t+=1){const i=dl(e,Ee,t);Pe[t]?Pe[t].p(i,n):(Pe[t]=Yl(i),Pe[t].c(),Pe[t].m(A,null))}for(;t<Pe.length;t+=1)Pe[t].d(1);Pe.length=Ee.length}132&n[0]&&L(A,e[66].p);const o={};16&n[3]&&(o.$$scope={dirty:n,ctx:e}),T.$set(o);const d={};!D&&4&n[0]&&(D=!0,d.checked=e[66].sinister,Y((()=>D=!1))),G.$set(d);const f={};16&n[3]&&(f.$$scope={dirty:n,ctx:e}),N.$set(f);const m={};!Z&&4&n[0]&&(Z=!0,m.checked=e[66].reversed,Y((()=>Z=!1))),K.$set(m);const $={};!ee&&4&n[0]&&(ee=!0,$.e=e[66],Y((()=>ee=!1))),V.$set($)},i(e){if(!te){r||Q((()=>{r=pe(t,Re,{}),r.start()})),ue(p.$$.fragment,e);for(let e=0;e<Ce.length;e+=1)ue(re[e]);ue(je),ue(b.$$.fragment,e),ue(T.$$.fragment,e),ue(G.$$.fragment,e),ue(N.$$.fragment,e),ue(K.$$.fragment,e),ue(V.$$.fragment,e),te=!0}},o(e){fe(p.$$.fragment,e);for(let e=0;e<re.length;e+=1)fe(re[e]);fe(je),fe(b.$$.fragment,e),fe(T.$$.fragment,e),fe(G.$$.fragment,e),fe(N.$$.fragment,e),fe(K.$$.fragment,e),fe(V.$$.fragment,e),te=!1},d(e){e&&k(t),e&&k(o),e&&k(s),z(ce,e),ge&&ge.d(),ke(p);for(let e=0;e<re.length;e+=1)re[e].d();je&&je.d(),ke(b),z(Pe,e),ke(T),ke(G),ke(N),ke(K),ke(V),ne=!1,l(ie)}}}function ir(t){let n,i,r,s,c,a,d,u,f,h,p,g,m,$,v,y,b,_,j,M,P,H,q,L,A,T,O,G,D,R,N,J,K,Z,U,X,V,ee,te,ne,ie,le,re,oe=t[0],se=[],ce=new Map,he=[],ge=new Map,me=zl(t);function $e(e){t[12].call(null,e)}let ze={updateSection:rr};void 0!==t[2].field.type&&(ze.type=t[2].field.type),u=new qi({props:ze}),W.push((()=>be(u,"type",$e)));let Ce="tincture"!==t[2].field.type&&Cl(t);function _e(e){t[14].call(null,e)}let je={itemSize:t[5]};void 0!==t[2].field.t1&&(je.t1=t[2].field.t1),m=new Di({props:je}),W.push((()=>be(m,"t1",_e)));let Be="tincture"!==t[2].field.type&&_l(t),Me="pattern"===t[2].field.type&&jl(t),Se="semy"===t[2].field.type&&Ml(t),Ee=["no"].concat(Object.keys(zn.variants)).map(t[21]);const Pe=e=>e[0];for(let e=0;e<Ee.length;e+=1){let n=bl(t,Ee,e),i=Pe(n);ce.set(i,se[e]=Pl(i,n))}let He=zn[t[0].division?.division]&&Hl(t),qe=t[0].division&&Il(t),Ie=t[0].division&&Rl(t),Le=t[8].map(t[35]);const Ae=e=>e[0];for(let e=0;e<Le.length;e+=1){let n=gl(t,Le,e),i=Ae(n);ge.set(i,he[e]=Nl(i,n))}let Fe=Cn.lined[t[2].ordinary.ordinary]&&Jl(t),Te=t[0].ordinary&&"counter"!==t[2].ordinary.divided&&Wl(t);function Oe(e){t[40].call(null,e)}let Ge={};void 0!==t[2].ordinary&&(Ge.e=t[2].ordinary),U=new Qi({props:Ge}),W.push((()=>be(U,"e",Oe)));let Re=t[2].charges,Ne=[];for(let e=0;e<Re.length;e+=1)Ne[e]=nr(hl(t,Re,e));const Je=e=>fe(Ne[e],1,1,(()=>{Ne[e]=null}));return{c(){n=C("div"),me.c(),i=B(),r=C("div"),s=C("div"),s.textContent="Field",c=B(),a=C("div"),d=C("div"),we(u.$$.fragment),h=B(),Ce&&Ce.c(),p=B(),g=C("div"),we(m.$$.fragment),v=B(),Be&&Be.c(),y=B(),Me&&Me.c(),b=B(),Se&&Se.c(),_=B(),j=C("div"),j.textContent="Division",M=B(),P=C("div"),H=C("div");for(let e=0;e<se.length;e+=1)se[e].c();q=B(),He&&He.c(),L=B(),qe&&qe.c(),A=B(),T=C("div"),T.textContent="Ordinary",O=B(),G=C("div"),Ie&&Ie.c(),D=B(),R=C("div");for(let e=0;e<he.length;e+=1)he[e].c();N=B(),Fe&&Fe.c(),J=B(),Te&&Te.c(),K=B(),Z=C("div"),we(U.$$.fragment),V=B();for(let e=0;e<Ne.length;e+=1)Ne[e].c();ee=B(),te=C("div"),te.textContent="Add charge",E(s,"class","section svelte-1fehgbf"),F(s,"expanded",!1),E(d,"class","subsection svelte-1fehgbf"),E(g,"class","subsection svelte-1fehgbf"),E(a,"class","panel svelte-1fehgbf"),E(j,"class","section svelte-1fehgbf"),E(H,"class","subsection svelte-1fehgbf"),E(P,"class","panel svelte-1fehgbf"),E(T,"class","section svelte-1fehgbf"),E(R,"class","subsection svelte-1fehgbf"),E(Z,"class","subsection svelte-1fehgbf"),E(G,"class","panel svelte-1fehgbf"),E(te,"class","buttonLine svelte-1fehgbf"),E(r,"id","menu"),I(r,"width",t[1]+"%"),E(r,"class","svelte-1fehgbf"),E(n,"id","editor"),E(n,"class","svelte-1fehgbf")},m(e,l){x(e,n,l),me.m(n,null),w(n,i),w(n,r),w(r,s),w(r,c),w(r,a),w(a,d),xe(u,d,null),w(d,h),Ce&&Ce.m(d,null),w(a,p),w(a,g),xe(m,g,null),w(a,v),Be&&Be.m(a,null),w(a,y),Me&&Me.m(a,null),w(a,b),Se&&Se.m(a,null),w(r,_),w(r,j),w(r,M),w(r,P),w(P,H);for(let e=0;e<se.length;e+=1)se[e].m(H,null);w(P,q),He&&He.m(P,null),w(P,L),qe&&qe.m(P,null),w(r,A),w(r,T),w(r,O),w(r,G),Ie&&Ie.m(G,null),w(G,D),w(G,R);for(let e=0;e<he.length;e+=1)he[e].m(R,null);w(G,N),Fe&&Fe.m(G,null),w(G,J),Te&&Te.m(G,null),w(G,K),w(G,Z),xe(U,Z,null),w(r,V);for(let e=0;e<Ne.length;e+=1)Ne[e].m(r,null);w(r,ee),w(r,te),ie=!0,le||(re=[S(s,"click",lr),S(j,"click",lr),S(H,"click",rr),S(T,"click",lr),S(R,"click",rr),S(te,"click",t[9])],le=!0)},p(t,l){1&l[0]&&o(oe,oe=t[0])?(ae(),fe(me,1,1,e),de(),me=zl(t),me.c(),ue(me),me.m(n,i)):me.p(t,l);const s={};!f&&4&l[0]&&(f=!0,s.type=t[2].field.type,Y((()=>f=!1))),u.$set(s),"tincture"!==t[2].field.type?Ce?(Ce.p(t,l),4&l[0]&&ue(Ce,1)):(Ce=Cl(t),Ce.c(),ue(Ce,1),Ce.m(d,null)):Ce&&(ae(),fe(Ce,1,1,(()=>{Ce=null})),de());const c={};if(!$&&4&l[0]&&($=!0,c.t1=t[2].field.t1,Y((()=>$=!1))),m.$set(c),"tincture"!==t[2].field.type?Be?(Be.p(t,l),4&l[0]&&ue(Be,1)):(Be=_l(t),Be.c(),ue(Be,1),Be.m(a,y)):Be&&(ae(),fe(Be,1,1,(()=>{Be=null})),de()),"pattern"===t[2].field.type?Me?(Me.p(t,l),4&l[0]&&ue(Me,1)):(Me=jl(t),Me.c(),ue(Me,1),Me.m(a,b)):Me&&(ae(),fe(Me,1,1,(()=>{Me=null})),de()),"semy"===t[2].field.type?Se?(Se.p(t,l),4&l[0]&&ue(Se,1)):(Se=Ml(t),Se.c(),ue(Se,1),Se.m(a,null)):Se&&(ae(),fe(Se,1,1,(()=>{Se=null})),de()),37&l[0]){const e=["no"].concat(Object.keys(zn.variants)).map(t[21]);ae(),se=ye(se,l,Pe,1,t,e,ce,H,ve,Pl,null,bl),de()}if(zn[t[0].division?.division]?He?(He.p(t,l),1&l[0]&&ue(He,1)):(He=Hl(t),He.c(),ue(He,1),He.m(P,L)):He&&(ae(),fe(He,1,1,(()=>{He=null})),de()),t[0].division?qe?(qe.p(t,l),1&l[0]&&ue(qe,1)):(qe=Il(t),qe.c(),ue(qe,1),qe.m(P,null)):qe&&(ae(),fe(qe,1,1,(()=>{qe=null})),de()),t[0].division?Ie?Ie.p(t,l):(Ie=Rl(t),Ie.c(),Ie.m(G,D)):Ie&&(Ie.d(1),Ie=null),293&l[0]){const e=t[8].map(t[35]);ae(),he=ye(he,l,Ae,1,t,e,ge,R,ve,Nl,null,gl),de()}Cn.lined[t[2].ordinary.ordinary]?Fe?(Fe.p(t,l),4&l[0]&&ue(Fe,1)):(Fe=Jl(t),Fe.c(),ue(Fe,1),Fe.m(G,J)):Fe&&(ae(),fe(Fe,1,1,(()=>{Fe=null})),de()),t[0].ordinary&&"counter"!==t[2].ordinary.divided?Te?(Te.p(t,l),5&l[0]&&ue(Te,1)):(Te=Wl(t),Te.c(),ue(Te,1),Te.m(G,K)):Te&&(ae(),fe(Te,1,1,(()=>{Te=null})),de());const h={};if(!X&&4&l[0]&&(X=!0,h.e=t[2].ordinary,Y((()=>X=!1))),U.$set(h),1197&l[0]){let e;for(Re=t[2].charges,e=0;e<Re.length;e+=1){const n=hl(t,Re,e);Ne[e]?(Ne[e].p(n,l),ue(Ne[e],1)):(Ne[e]=nr(n),Ne[e].c(),ue(Ne[e],1),Ne[e].m(r,ee))}for(ae(),e=Re.length;e<Ne.length;e+=1)Je(e);de()}(!ie||2&l[0])&&I(r,"width",t[1]+"%")},i(e){if(!ie){ue(me),ue(u.$$.fragment,e),ue(Ce),ue(m.$$.fragment,e),ue(Be),ue(Me),ue(Se);for(let e=0;e<Ee.length;e+=1)ue(se[e]);ue(He),ue(qe);for(let e=0;e<Le.length;e+=1)ue(he[e]);ue(Fe),ue(Te),ue(U.$$.fragment,e);for(let e=0;e<Re.length;e+=1)ue(Ne[e]);ne||Q((()=>{ne=pe(r,De,{x:500,duration:1e3}),ne.start()})),ie=!0}},o(e){fe(me),fe(u.$$.fragment,e),fe(Ce),fe(m.$$.fragment,e),fe(Be),fe(Me),fe(Se);for(let e=0;e<se.length;e+=1)fe(se[e]);fe(He),fe(qe);for(let e=0;e<he.length;e+=1)fe(he[e]);fe(Fe),fe(Te),fe(U.$$.fragment,e),Ne=Ne.filter(Boolean);for(let e=0;e<Ne.length;e+=1)fe(Ne[e]);ie=!1},d(e){e&&k(n),me.d(e),ke(u),Ce&&Ce.d(),ke(m),Be&&Be.d(),Me&&Me.d(),Se&&Se.d();for(let e=0;e<se.length;e+=1)se[e].d();He&&He.d(),qe&&qe.d(),Ie&&Ie.d();for(let e=0;e<he.length;e+=1)he[e].d();Fe&&Fe.d(),Te&&Te.d(),ke(U),z(Ne,e),le=!1,l(re)}}}function lr(e){e.target.classList.toggle("expanded");const t=e.target.nextElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"}function rr(e){const t=e.currentTarget.closest(".panel");setTimeout((()=>t.style.maxHeight=t.scrollHeight+"px"),100)}function or(e="no"){const t=e.split(/(?=[A-Z])/).join(" ");return t.charAt(0).toUpperCase()+t.slice(1)}function sr(e,t,n){let i,l,r,o;a(e,dt,(e=>n(3,i=e))),a(e,ut,(e=>n(59,l=e))),a(e,rt,(e=>n(60,r=e))),a(e,ot,(e=>n(61,o=e)));let{coa:s}=t,{c:c}=t;const d=Math.min(window.innerWidth,window.innerHeight),u=window.innerHeight/window.innerWidth,f=Math.round(.9*d);let h=window.innerWidth<600||u>1?100:Math.round(100*(1.05-u));h/100*window.innerWidth<300&&(h=100);const g=h/1e3*window.innerWidth-3,m=Object.keys(_n.types),$=["no"].concat(Object.keys(Cn.lined)).concat(Object.keys(Cn.straight));let v={},y=0;function b(){function e(e){return e?.includes("-")}function t(e){return"semy"===e?.slice(0,4)}function i(e){return e[0].split("_of_")[1]}function l(e){return m.find((t=>_n[t][e]))}function r(e){return l(i(e))}function o(e,t){return We(("argent"===e||"or"===e?bn.colours:bn.metals)[t])}return n(2,v.field=function(){const n=t(s.t1)?"semy":e(s.t1)?"pattern":"tincture";let l,c,a="vair",d="lozenge",u="conventional",f="standard";const h=s.t1.split("-");"tincture"===n?(l=s.t1,c=o(s.t1,"field")):(l=h[1],c=h[2],f=h[3]||"standard");"pattern"===n?a=h[0]:"semy"===n&&(d=i(h),u=r(h));return{type:n,t1:l,t2:c,pattern:a,charge:d,semy:u,size:f}}(),v),n(2,v.division=function(){let n,l,c="tincture",a="no",d="straight",u="vair",f="lozenge",h="conventional",p="standard";if(s.division){const g=s.division.t.split("-");c=t(s.division.t)?"semy":e(s.division.t)?"pattern":"tincture",a=s.division.division,d=s.division.line||"straight",n="tincture"===c?s.division.t:g[1],l="tincture"===c?o(n,"division"):g[2],"pattern"===c&&(u=g[0]),"semy"===c&&(f=i(g),h=r(g)),p=g[3]||"standard"}else n=o(v.field.t1,"division"),l=o(n,"division");return{division:a,line:d,type:c,t1:n,t2:l,pattern:u,charge:f,semy:h,size:p}}(),v),n(2,v.ordinary=function(){let e,t="no",n="straight",i="",l=1,r=0,o=0,c=0;s.ordinary?(t=s.ordinary.ordinary,n=s.ordinary.line||"straight",e=s.ordinary.t,i=s.ordinary.divided||"",l=s.ordinary.size||1,r=s.ordinary.x||0,o=s.ordinary.y||0,c=s.ordinary.angle||0,c&&x(s.ordinary)):e=We(bn.colours.charge);return{ordinary:t,line:n,t:e,divided:i,size:l,x:r,y:o,angle:c}}(),v),n(2,v.charges=function(){if(!s.charges)return[];return s.charges.map((e=>{const{charge:t,t:n,p:i,size:r}=e,o=l(t),s=e.layer||"",c=e.sinister||!1,a=e.reversed||!1,d=e.x||0,u=e.y||0,f=e.angle||0;return f&&x(e),{charge:t,type:o,layer:s,t:n,p:i,size:r,sinister:c,reversed:a,x:d,y:u,angle:f}}))}(),v),v}function w(e){p(dt,i.transform=`rotate(${e.angle||0}) translate(${e.x||0}, ${e.y||0})`,i),p(dt,i.positions=e.p,i)}function x(e){p(dt,i.transform=`rotate(${e.angle||0})`,i)}p(dt,i.transform=null,i),p(dt,i.positions=null,i);return e.$$set=e=>{"coa"in e&&n(0,s=e.coa),"c"in e&&n(11,c=e.c)},e.$$.update=()=>{if(2048&e.$$.dirty[0]&&b(),268435456&e.$$.dirty[1]&&ut.length()&&(n(0,s=JSON.parse(l[0])),b(),n(58,y=0)),4&e.$$.dirty[0])if("tincture"===v.field.type)n(0,s.t1=v.field.t1,s);else{const e=["semy"===v.field.type?"semy_of_"+v.field.charge:v.field.pattern,v.field.t1,v.field.t2];"standard"!==v.field.size&&e.push(v.field.size),n(0,s.t1=e.join("-"),s)}if(5&e.$$.dirty[0])if(v.division.division&&"no"!==v.division.division)if(n(0,s.division={division:v.division.division},s),zn[v.division.division]&&n(0,s.division.line=v.division.line,s),"tincture"===v.division.type)n(0,s.division.t=v.division.t1,s);else{const e=["semy"===v.division.type?"semy_of_"+v.division.charge:v.division.pattern,v.division.t1,v.division.t2];"standard"!==v.division.size&&e.push(v.division.size),n(0,s.division.t=e.join("-"),s)}else delete s.division;if(5&e.$$.dirty[0]){const e=v.ordinary;e&&"no"!==e.ordinary?(n(0,s.ordinary={ordinary:e.ordinary,t:e.t},s),Cn.lined[e.ordinary]&&n(0,s.ordinary.line=e.line,s),s.division&&n(0,s.ordinary.divided=e.divided,s),(e.x||e.y)&&(n(0,s.ordinary.x=e.x,s),n(0,s.ordinary.y=e.y,s)),e.angle&&n(0,s.ordinary.angle=e.angle,s),e.size&&1!==e.size&&n(0,s.ordinary.size=e.size,s)):delete s.ordinary}5&e.$$.dirty[0]&&(v.charges.length?n(0,s.charges=v.charges.map((e=>{const t={charge:e.charge,t:e.t,p:e.p,size:e.size};return e.layer&&(t.layer=e.layer),e.sinister&&(t.sinister=1),e.reversed&&(t.reversed=1),(e.x||e.y)&&(t.x=e.x,t.y=e.y),e.angle&&(t.angle=e.angle),t})),s):delete s.charges),1&e.$$.dirty[0]|134217728&e.$$.dirty[1]&&(y&&ut.add(JSON.stringify(s)),n(58,y=1)),536870912&e.$$.dirty[1]&&localStorage.setItem("grid",r),1073741824&e.$$.dirty[1]&&localStorage.setItem("showGrid",o)},[s,h,v,i,f,g,["vair","vairInPale","vairEnPointe","ermine","chequy","lozengy","fusily","pally","barry","gemelles","bendy","bendySinister","palyBendy","pappellony","masoned","fretty"],m,$,function(){const e=We(_n.single),t={charge:We(_n[e]),t:We(bn[We(bn.charge)].charge),p:"e",type:e,size:1.5,sinister:!1,reversed:!1,x:0,y:0,angle:0,layer:""};n(2,v.charges=[...v.charges,t],v)},w,c,function(e){v.field.type=e,n(2,v)},function(e){v.field.size=e,n(2,v)},function(e){v.field.t1=e,n(2,v)},function(e){v.field.t2=e,n(2,v)},e=>new Object({t1:`${e}-${v.field.t1}-${v.field.t2}-${v.field.size}`,pattern:e}),e=>n(2,v.field.pattern=e.pattern,v),function(){v.field.semy=A(this),n(2,v),n(7,m)},e=>new Object({t1:`semy_of_${e}-${v.field.t1}-${v.field.t2}-${v.field.size}`,charge:e}),e=>n(2,v.field.charge=e.charge,v),e=>new Object({t1:s.t1,division:{division:e,t:s.division?s.division.t:v.division.t1,line:v.division.line}}),e=>n(2,v.division.division=e.division.division,v),e=>new Object({t1:s.t1,division:{division:v.division.division,t:s.division?s.division.t:v.division.t1,line:e}}),e=>n(2,v.division.line=e.division.line,v),function(e){v.division.type=e,n(2,v)},function(e){v.division.size=e,n(2,v)},function(e){v.division.t1=e,n(2,v)},function(e){v.division.t2=e,n(2,v)},e=>new Object({t1:`${e}-${v.division.t1}-${v.division.t2}-${v.division.size}`,pattern:e}),e=>n(2,v.division.pattern=e.pattern,v),function(){v.division.semy=A(this),n(2,v),n(7,m)},e=>new Object({t1:`semy_of_${e}-${v.division.t1}-${v.division.t2}-${v.division.size}`,charge:e}),e=>n(2,v.division.charge=e.charge,v),function(){v.ordinary.divided=A(this),n(2,v),n(7,m)},e=>new Object({t1:s.t1,division:s.division,ordinary:{ordinary:e,line:v.ordinary.line,t:v.ordinary.t,divided:v.ordinary.divided}}),e=>n(2,v.ordinary.ordinary=e.ordinary.ordinary,v),e=>new Object({t1:s.t1,division:s.division,ordinary:{ordinary:v.ordinary.ordinary,line:e,t:v.ordinary.t,divided:v.ordinary.divided}}),e=>n(2,v.ordinary.line=e.ordinary.line,v),function(e){v.ordinary.t=e,n(2,v)},function(e){v.ordinary=e,n(2,v)},function(e,t){e[t].type=A(this),n(2,v),n(7,m)},function(e,t){e[t].layer=A(this),n(2,v),n(7,m)},function(e){v.charges=e,n(2,v)},(e,t)=>new Object({c:t,t1:s.t1,charges:[{charge:t,t:e.t,p:"e",size:1.5,sinister:e.sinister,reversed:e.reversed}]}),(e,t,i,l)=>n(2,i[l].charge=t.c,v),function(e,t){t.t=e,n(2,v)},function(e,t){e[t].p=this.value,n(2,v),n(7,m)},e=>w(e),e=>w(e),()=>p(dt,i.positions=0,i),function(e,t){e[t].p=A(this),n(2,v),n(7,m)},(e,t,i)=>{n(2,t[i].size=ol(e.p,v.ordinary.ordinary),v),w(e)},e=>w(e),()=>p(dt,i.positions=0,i),function(e,t){t.sinister=e,n(2,v)},function(e,t){t.reversed=e,n(2,v)},function(e,t,i,l){i[l]=e,n(2,v)}]}class cr extends _e{constructor(e){super(),Ce(this,e,sr,ir,o,{coa:0,c:11},[-1,-1,-1,-1])}}function ar(e,t,n){const i=e.slice();return i[13]=t[n],i[15]=n,i}function dr(e){let t,n;return t=new di({props:{coa:e[13],i:e[15],w:e[0],h:e[1]}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};4&n&&(i.coa=e[13]),1&n&&(i.w=e[0]),2&n&&(i.h=e[1]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function ur(t){let n,i,r,s,c,a,d,u,f,h,p,g,m,$,v,y=t[13],b=dr(t);function z(...e){return t[6](t[15],...e)}function j(...e){return t[7](t[15],...e)}function M(...e){return t[8](t[15],...e)}return{c(){n=C("div"),b.c(),i=B(),r=C("div"),s=_("svg"),c=_("use"),a=B(),d=_("svg"),u=_("use"),f=B(),h=_("svg"),p=_("use"),g=B(),E(c,"href","#dice-icon"),E(s,"class","svelte-1n7zkv2"),E(u,"href","#pencil-icon"),E(d,"class","svelte-1n7zkv2"),E(p,"href","#download-icon"),E(h,"class","svelte-1n7zkv2"),E(r,"class","control svelte-1n7zkv2"),E(n,"class","svelte-1n7zkv2")},m(e,t){x(e,n,t),b.m(n,null),w(n,i),w(n,r),w(r,s),w(s,c),w(r,a),w(r,d),w(d,u),w(r,f),w(r,h),w(h,p),w(n,g),m=!0,$||(v=[S(s,"click",z),S(d,"click",j),S(h,"click",M)],$=!0)},p(l,r){t=l,4&r&&o(y,y=t[13])?(ae(),fe(b,1,1,e),de(),b=dr(t),b.c(),ue(b),b.m(n,i)):b.p(t,r)},i(e){m||(ue(b),m=!0)},o(e){fe(b),m=!1},d(e){e&&k(n),b.d(e),$=!1,l(v)}}}function fr(e){let t,n,i,l=e[2],r=[];for(let t=0;t<l.length;t+=1)r[t]=ur(ar(e,l,t));const o=e=>fe(r[e],1,1,(()=>{r[e]=null}));return{c(){t=C("div");for(let e=0;e<r.length;e+=1)r[e].c();E(t,"id","gallery"),I(t,"font-size",Math.ceil(e[0]/20)+"px"),E(t,"class","svelte-1n7zkv2")},m(e,n){x(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null);i=!0},p(e,[n]){if(31&n){let i;for(l=e[2],i=0;i<l.length;i+=1){const o=ar(e,l,i);r[i]?(r[i].p(o,n),ue(r[i],1)):(r[i]=ur(o),r[i].c(),ue(r[i],1),r[i].m(t,null))}for(ae(),i=l.length;i<r.length;i+=1)o(i);de()}(!i||1&n)&&I(t,"font-size",Math.ceil(e[0]/20)+"px")},i(e){if(!i){for(let e=0;e<l.length;e+=1)ue(r[e]);Q((()=>{n||(n=ge(t,Ge,{},!0)),n.run(1)})),i=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)fe(r[e]);n||(n=ge(t,Ge,{},!1)),n.run(0),i=!1},d(e){e&&k(t),z(r,e),e&&n&&n.end()}}}function hr(e,t,n){let i,l,r,o;a(e,st,(e=>n(9,i=e))),a(e,at,(e=>n(10,l=e))),a(e,ct,(e=>n(11,r=e))),a(e,dt,(e=>n(12,o=e)));let{gallery:s}=t,{w:c}=t,{h:d}=t;function u(e){const t=rl();n(5,s[e]=i.length,s),p(at,l++,l),p(ct,r[l]=s,r),i.push(t),n(2,h[e]=t,h)}function f(e){p(dt,o.edit=1,o),p(dt,o.c=s[e],o),p(dt,o.i=e,o)}let h;return e.$$set=e=>{"gallery"in e&&n(5,s=e.gallery),"w"in e&&n(0,c=e.w),"h"in e&&n(1,d=e.h)},e.$$.update=()=>{544&e.$$.dirty&&n(2,h=s.map((e=>{let t=i[e]||rl();return i[e]||p(st,i[e]=t,i),t})))},[c,d,h,u,f,s,e=>u(e),e=>f(e),e=>pt(e)]}class pr extends _e{constructor(e){super(),Ce(this,e,hr,fr,o,{gallery:5,w:0,h:1})}}function gr(e,t,n){const i=e.slice();return i[5]=t[n],i}function mr(e){let t,n,i,l,r,o,s,c,a,d,u,f,h,p,g,m,$,v,y,b,z,C,j,B,M,S,P,H,q,I;return{c(){t=_("pattern"),n=_("rect"),l=_("rect"),o=_("rect"),c=_("rect"),d=_("rect"),f=_("line"),h=_("line"),p=_("line"),g=_("line"),m=_("line"),$=_("line"),v=_("line"),y=_("line"),b=_("line"),z=_("line"),C=_("line"),j=_("line"),B=_("line"),M=_("line"),S=_("line"),P=_("line"),E(n,"x","0"),E(n,"y","0"),E(n,"width","200"),E(n,"height","200"),E(n,"stroke","none"),E(n,"fill",i=e[1][e[5].t1]),E(l,"x","0"),E(l,"y","35"),E(l,"width","200"),E(l,"height","30"),E(l,"stroke","none"),E(l,"fill",r=e[1][e[5].t2]),E(o,"x","0"),E(o,"y","135"),E(o,"width","200"),E(o,"height","30"),E(o,"stroke","none"),E(o,"fill",s=e[1][e[5].t2]),E(c,"x","35"),E(c,"y","0"),E(c,"width","30"),E(c,"height","200"),E(c,"stroke","none"),E(c,"fill",a=e[1][e[5].t2]),E(d,"x","135"),E(d,"y","0"),E(d,"width","30"),E(d,"height","200"),E(d,"stroke","none"),E(d,"fill",u=e[1][e[5].t2]),E(f,"x1","0"),E(f,"y1","35"),E(f,"x2","35"),E(f,"y2","35"),E(h,"x1","0"),E(h,"y1","65"),E(h,"x2","35"),E(h,"y2","65"),E(p,"x1","35"),E(p,"y1","165"),E(p,"x2","35"),E(p,"y2","200"),E(g,"x1","65"),E(g,"y1","165"),E(g,"x2","65"),E(g,"y2","200"),E(m,"x1","135"),E(m,"y1","0"),E(m,"x2","135"),E(m,"y2","35"),E($,"x1","165"),E($,"y1","0"),E($,"x2","165"),E($,"y2","35"),E(v,"x1","135"),E(v,"y1","65"),E(v,"x2","135"),E(v,"y2","200"),E(y,"x1","165"),E(y,"y1","65"),E(y,"x2","165"),E(y,"y2","200"),E(b,"x1","35"),E(b,"y1","0"),E(b,"x2","35"),E(b,"y2","135"),E(z,"x1","65"),E(z,"y1","0"),E(z,"x2","65"),E(z,"y2","135"),E(C,"x1","65"),E(C,"y1","35"),E(C,"x2","200"),E(C,"y2","35"),E(j,"x1","65"),E(j,"y1","65"),E(j,"x2","200"),E(j,"y2","65"),E(B,"x1","0"),E(B,"y1","135"),E(B,"x2","135"),E(B,"y2","135"),E(M,"x1","0"),E(M,"y1","165"),E(M,"x2","135"),E(M,"y2","165"),E(S,"x1","165"),E(S,"y1","135"),E(S,"x2","200"),E(S,"y2","135"),E(P,"x1","165"),E(P,"y1","165"),E(P,"x2","200"),E(P,"y2","165"),E(t,"id",H=e[5].id),E(t,"width",q=.28*e[5].mod),E(t,"height",I=.28*e[5].mod),E(t,"viewBox","0 0 200 200"),E(t,"patternTransform","translate(-19,21) rotate(45)"),E(t,"stroke","#000"),E(t,"stroke-width","2")},m(e,i){x(e,t,i),w(t,n),w(t,l),w(t,o),w(t,c),w(t,d),w(t,f),w(t,h),w(t,p),w(t,g),w(t,m),w(t,$),w(t,v),w(t,y),w(t,b),w(t,z),w(t,C),w(t,j),w(t,B),w(t,M),w(t,S),w(t,P)},p(e,f){3&f&&i!==(i=e[1][e[5].t1])&&E(n,"fill",i),3&f&&r!==(r=e[1][e[5].t2])&&E(l,"fill",r),3&f&&s!==(s=e[1][e[5].t2])&&E(o,"fill",s),3&f&&a!==(a=e[1][e[5].t2])&&E(c,"fill",a),3&f&&u!==(u=e[1][e[5].t2])&&E(d,"fill",u),1&f&&H!==(H=e[5].id)&&E(t,"id",H),1&f&&q!==(q=.28*e[5].mod)&&E(t,"width",q),1&f&&I!==(I=.28*e[5].mod)&&E(t,"height",I)},d(e){e&&k(t)}}}function $r(e){let t,n,i,l,r,o,s,c,a,d;return{c(){t=_("pattern"),n=_("rect"),l=_("rect"),o=_("line"),E(n,"x","0"),E(n,"y","0"),E(n,"width","100"),E(n,"height","100"),E(n,"fill",i=e[1][e[5].t1]),E(l,"x","0"),E(l,"y","0"),E(l,"width","100"),E(l,"height","50"),E(l,"stroke",r=e[1][e[5].t2]),E(l,"stroke-width","4"),E(o,"x1","50"),E(o,"y1","50"),E(o,"x2","50"),E(o,"y2","100"),E(o,"stroke",s=e[1][e[5].t2]),E(o,"stroke-width","5"),E(t,"id",c=e[5].id),E(t,"width",a=.125*e[5].mod),E(t,"height",d=.125*e[5].mod),E(t,"viewBox","0 0 100 100"),E(t,"fill","none")},m(e,i){x(e,t,i),w(t,n),w(t,l),w(t,o)},p(e,u){3&u&&i!==(i=e[1][e[5].t1])&&E(n,"fill",i),3&u&&r!==(r=e[1][e[5].t2])&&E(l,"stroke",r),3&u&&s!==(s=e[1][e[5].t2])&&E(o,"stroke",s),1&u&&c!==(c=e[5].id)&&E(t,"id",c),1&u&&a!==(a=.125*e[5].mod)&&E(t,"width",a),1&u&&d!==(d=.125*e[5].mod)&&E(t,"height",d)},d(e){e&&k(t)}}}function vr(e){let t,n,i,l,r,o,s,c,a,d,u,f,h,p,g;return{c(){t=_("pattern"),n=_("rect"),l=_("circle"),s=_("circle"),d=_("circle"),E(n,"x","0"),E(n,"y","0"),E(n,"width","100"),E(n,"height","100"),E(n,"fill",i=e[1][e[5].t1]),E(l,"cx","0"),E(l,"cy","51"),E(l,"r","45"),E(l,"stroke",r=e[1][e[5].t2]),E(l,"fill",o=e[1][e[5].t1]),E(l,"stroke-width","10"),E(s,"cx","100"),E(s,"cy","51"),E(s,"r","45"),E(s,"stroke",c=e[1][e[5].t2]),E(s,"fill",a=e[1][e[5].t1]),E(s,"stroke-width","10"),E(d,"cx","50"),E(d,"cy","1"),E(d,"r","45"),E(d,"stroke",u=e[1][e[5].t2]),E(d,"fill",f=e[1][e[5].t1]),E(d,"stroke-width","10"),E(t,"id",h=e[5].id),E(t,"width",p=.125*e[5].mod),E(t,"height",g=.125*e[5].mod),E(t,"viewBox","0 0 100 100")},m(e,i){x(e,t,i),w(t,n),w(t,l),w(t,s),w(t,d)},p(e,m){3&m&&i!==(i=e[1][e[5].t1])&&E(n,"fill",i),3&m&&r!==(r=e[1][e[5].t2])&&E(l,"stroke",r),3&m&&o!==(o=e[1][e[5].t1])&&E(l,"fill",o),3&m&&c!==(c=e[1][e[5].t2])&&E(s,"stroke",c),3&m&&a!==(a=e[1][e[5].t1])&&E(s,"fill",a),3&m&&u!==(u=e[1][e[5].t2])&&E(d,"stroke",u),3&m&&f!==(f=e[1][e[5].t1])&&E(d,"fill",f),1&m&&h!==(h=e[5].id)&&E(t,"id",h),1&m&&p!==(p=.125*e[5].mod)&&E(t,"width",p),1&m&&g!==(g=.125*e[5].mod)&&E(t,"height",g)},d(e){e&&k(t)}}}function yr(e){let t,n,i,l,r,o,s,c;return{c(){t=_("pattern"),n=_("rect"),l=_("polygon"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","100"),E(n,"fill",i=e[1][e[5].t1]),E(l,"points","25,0 50,50 25,100 0,50"),E(l,"fill",r=e[1][e[5].t2]),E(t,"id",o=e[5].id),E(t,"width",s=.125*e[5].mod),E(t,"height",c=.25*e[5].mod),E(t,"viewBox","0 0 50 100"),E(t,"patternTransform","translate(22,44) rotate(-26.5)")},m(e,i){x(e,t,i),w(t,n),w(t,l)},p(e,a){3&a&&i!==(i=e[1][e[5].t1])&&E(n,"fill",i),3&a&&r!==(r=e[1][e[5].t2])&&E(l,"fill",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.25*e[5].mod)&&E(t,"height",c)},d(e){e&&k(t)}}}function br(e){let t,n,i,l,r,o,s,c;return{c(){t=_("pattern"),n=_("rect"),l=_("line"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","50"),E(n,"fill",i=e[1][e[5].t2]),E(l,"x1","0"),E(l,"y1","37.5"),E(l,"x2","50"),E(l,"y2","37.5"),E(l,"stroke",r=e[1][e[5].t1]),E(l,"stroke-width","25"),E(t,"id",o=e[5].id),E(t,"width",s=.36*e[5].mod),E(t,"height",c=.36*e[5].mod),E(t,"viewBox","0 0 50 50"),E(t,"patternTransform","rotate(-45)")},m(e,i){x(e,t,i),w(t,n),w(t,l)},p(e,a){3&a&&i!==(i=e[1][e[5].t2])&&E(n,"fill",i),3&a&&r!==(r=e[1][e[5].t1])&&E(l,"stroke",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.36*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.36*e[5].mod)&&E(t,"height",c)},d(e){e&&k(t)}}}function wr(e){let t,n,i,l,r,o,s,c;return{c(){t=_("pattern"),n=_("rect"),l=_("line"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","50"),E(n,"fill",i=e[1][e[5].t2]),E(l,"x1","0"),E(l,"y1","37.5"),E(l,"x2","50"),E(l,"y2","37.5"),E(l,"stroke",r=e[1][e[5].t1]),E(l,"stroke-width","25"),E(t,"id",o=e[5].id),E(t,"width",s=.36*e[5].mod),E(t,"height",c=.36*e[5].mod),E(t,"viewBox","0 0 50 50"),E(t,"patternTransform","rotate(45)")},m(e,i){x(e,t,i),w(t,n),w(t,l)},p(e,a){3&a&&i!==(i=e[1][e[5].t2])&&E(n,"fill",i),3&a&&r!==(r=e[1][e[5].t1])&&E(l,"stroke",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.36*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.36*e[5].mod)&&E(t,"height",c)},d(e){e&&k(t)}}}function xr(e){let t,n,i,l,r,o,s,c,a,d;return{c(){t=_("pattern"),n=_("rect"),l=_("rect"),o=_("rect"),E(n,"x","0"),E(n,"y","0"),E(n,"width","25"),E(n,"height","100"),E(n,"fill",i=e[1][e[5].t2]),E(l,"x","0"),E(l,"y","35"),E(l,"width","25"),E(l,"height","10"),E(l,"fill",r=e[1][e[5].t1]),E(o,"x","0"),E(o,"y","55"),E(o,"width","25"),E(o,"height","10"),E(o,"fill",s=e[1][e[5].t1]),E(t,"id",c=e[5].id),E(t,"width",a=.125*e[5].mod),E(t,"height",d=.5*e[5].mod),E(t,"viewBox","0 0 25 100")},m(e,i){x(e,t,i),w(t,n),w(t,l),w(t,o)},p(e,u){3&u&&i!==(i=e[1][e[5].t2])&&E(n,"fill",i),3&u&&r!==(r=e[1][e[5].t1])&&E(l,"fill",r),3&u&&s!==(s=e[1][e[5].t1])&&E(o,"fill",s),1&u&&c!==(c=e[5].id)&&E(t,"id",c),1&u&&a!==(a=.125*e[5].mod)&&E(t,"width",a),1&u&&d!==(d=.5*e[5].mod)&&E(t,"height",d)},d(e){e&&k(t)}}}function kr(e){let t,n,i,l,r,o,s,c,a,d;return{c(){t=_("pattern"),n=_("rect"),l=_("rect"),o=_("rect"),E(n,"x","0"),E(n,"y","0"),E(n,"width","25"),E(n,"height","100"),E(n,"fill",i=e[1][e[5].t2]),E(l,"x","0"),E(l,"y","25"),E(l,"width","25"),E(l,"height","25"),E(l,"fill",r=e[1][e[5].t1]),E(o,"x","0"),E(o,"y","75"),E(o,"width","25"),E(o,"height","25"),E(o,"fill",s=e[1][e[5].t1]),E(t,"id",c=e[5].id),E(t,"width",a=.125*e[5].mod),E(t,"height",d=.5*e[5].mod),E(t,"viewBox","0 0 25 100")},m(e,i){x(e,t,i),w(t,n),w(t,l),w(t,o)},p(e,u){3&u&&i!==(i=e[1][e[5].t2])&&E(n,"fill",i),3&u&&r!==(r=e[1][e[5].t1])&&E(l,"fill",r),3&u&&s!==(s=e[1][e[5].t1])&&E(o,"fill",s),1&u&&c!==(c=e[5].id)&&E(t,"id",c),1&u&&a!==(a=.125*e[5].mod)&&E(t,"width",a),1&u&&d!==(d=.5*e[5].mod)&&E(t,"height",d)},d(e){e&&k(t)}}}function zr(e){let t,n,i,l,r,o,s,c,a,d;return{c(){t=_("pattern"),n=_("rect"),l=_("rect"),o=_("rect"),E(n,"x","0"),E(n,"y","0"),E(n,"width","100"),E(n,"height","25"),E(n,"fill",i=e[1][e[5].t1]),E(l,"x","25"),E(l,"y","0"),E(l,"width","25"),E(l,"height","25"),E(l,"fill",r=e[1][e[5].t2]),E(o,"x","75"),E(o,"y","0"),E(o,"width","25"),E(o,"height","25"),E(o,"fill",s=e[1][e[5].t2]),E(t,"id",c=e[5].id),E(t,"width",a=.5*e[5].mod),E(t,"height",d=.125*e[5].mod),E(t,"viewBox","0 0 100 25")},m(e,i){x(e,t,i),w(t,n),w(t,l),w(t,o)},p(e,u){3&u&&i!==(i=e[1][e[5].t1])&&E(n,"fill",i),3&u&&r!==(r=e[1][e[5].t2])&&E(l,"fill",r),3&u&&s!==(s=e[1][e[5].t2])&&E(o,"fill",s),1&u&&c!==(c=e[5].id)&&E(t,"id",c),1&u&&a!==(a=.5*e[5].mod)&&E(t,"width",a),1&u&&d!==(d=.125*e[5].mod)&&E(t,"height",d)},d(e){e&&k(t)}}}function Cr(e){let t,n,i,l,r,o,s,c;return{c(){t=_("pattern"),n=_("rect"),l=_("polygon"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","100"),E(n,"fill",i=e[1][e[5].t1]),E(l,"points","25,0 50,50 25,100 0,50"),E(l,"fill",r=e[1][e[5].t2]),E(t,"id",o=e[5].id),E(t,"width",s=.125*e[5].mod),E(t,"height",c=.25*e[5].mod),E(t,"viewBox","0 0 50 100")},m(e,i){x(e,t,i),w(t,n),w(t,l)},p(e,a){3&a&&i!==(i=e[1][e[5].t1])&&E(n,"fill",i),3&a&&r!==(r=e[1][e[5].t2])&&E(l,"fill",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.25*e[5].mod)&&E(t,"height",c)},d(e){e&&k(t)}}}function _r(e){let t,n,i,l,r,o,s,c;return{c(){t=_("pattern"),n=_("rect"),l=_("polygon"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","50"),E(n,"fill",i=e[1][e[5].t1]),E(l,"points","25,0 50,25 25,50 0,25"),E(l,"fill",r=e[1][e[5].t2]),E(t,"id",o=e[5].id),E(t,"width",s=.125*e[5].mod),E(t,"height",c=.125*e[5].mod),E(t,"viewBox","0 0 50 50")},m(e,i){x(e,t,i),w(t,n),w(t,l)},p(e,a){3&a&&i!==(i=e[1][e[5].t1])&&E(n,"fill",i),3&a&&r!==(r=e[1][e[5].t2])&&E(l,"fill",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.125*e[5].mod)&&E(t,"height",c)},d(e){e&&k(t)}}}function jr(e){let t,n,i,l,r,o,s,c,a,d;return{c(){t=_("pattern"),n=_("rect"),i=_("rect"),r=_("rect"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","50"),E(i,"x","0"),E(i,"y","0"),E(i,"width","25"),E(i,"height","25"),E(i,"fill",l=e[1][e[5].t1]),E(r,"x","25"),E(r,"y","25"),E(r,"width","25"),E(r,"height","25"),E(r,"fill",o=e[1][e[5].t1]),E(t,"id",s=e[5].id),E(t,"width",c=.25*e[5].mod),E(t,"height",a=.25*e[5].mod),E(t,"viewBox","0 0 50 50"),E(t,"fill",d=e[1][e[5].t2])},m(e,l){x(e,t,l),w(t,n),w(t,i),w(t,r)},p(e,n){3&n&&l!==(l=e[1][e[5].t1])&&E(i,"fill",l),3&n&&o!==(o=e[1][e[5].t1])&&E(r,"fill",o),1&n&&s!==(s=e[5].id)&&E(t,"id",s),1&n&&c!==(c=.25*e[5].mod)&&E(t,"width",c),1&n&&a!==(a=.25*e[5].mod)&&E(t,"height",a),3&n&&d!==(d=e[1][e[5].t2])&&E(t,"fill",d)},d(e){e&&k(t)}}}function Br(e){let t,n,i,l,r,o,s,c,a,d,u,f,h,p,g;return{c(){t=_("pattern"),n=_("rect"),l=_("path"),r=_("path"),o=_("path"),s=_("path"),c=_("path"),a=_("path"),d=_("path"),u=_("path"),E(n,"x","0"),E(n,"y","0"),E(n,"width","25"),E(n,"height","25"),E(n,"fill",i=e[1][e[5].t1]),E(l,"d","m19.1,14.8 c-0.7,2.9 -2.1,5 -3.5,6.5 0.6,-0.1 1.3,-0.6 2,-0.9 -0.4,0.8 -0.8,1.4 -1.2,2.1 0.2,-0.1 1,-0.8 2,-1.8 0.2,1.4 0.4,2.9 0.7,3.9 0.3,-0.9 0.5,-2.5 0.7,-3.9 0.6,0.6 1.2,1.3 2.1,1.8 l -1.2,-2.2 c 0.6,0.3 1.3,0.8 1.9,1 -1.5,-1.6 -2.8,-3.6 -3.5,-6.5z"),E(r,"d","m16.1,14.9 c-0.1,-0.2 -1,0.4 -1.5,-0.8 1.2,1.1 2.5,-1.2 3.5,0.4 0.3,0.7 -1.1,1.8 -2,0.4z"),E(o,"d","m21.9,14.9 c.1,-.2 1,0.4 1.5,-0.8 -1.2,1.1 -2.5,-1.2 -3.5,0.4 -0.3,0.7 1.1,1.8 2,0.4z"),E(s,"d","m19.4,12.4 c-0.2,-0.1 0.7,-0.7 -0.6,-1.4 1.1,1.2 -2,1.7 -0.3,2.9 0.7,0.4 2.4,-0.5 0.9,-1.5z"),E(c,"d","M5.8,4.6 C5.1,7.5 3.7,9.5 2.3,11 2.9,10.9 3.6,10.5 4.2,10.1 3.8,10.9 3.4,11.5 3,12.2 3.3,12.1 4,11.4 5.1,10.4 c 0.2,1.4 0.4,2.9 0.7,3.9 0.3,-0.9 0.5,-2.5 0.7,-3.9 0.6,0.6 1.2,1.3 2.1,1.8 L 7.3,10 c 0.6,0.3 1.3,0.8 1.9,1 C7.7,9.5 6.4,7.5 5.8,4.6Z"),E(a,"d","M2.9,4.7 C2.8,4.6 1.9,5.1 1.3,4 2.6,5.1 3.8,2.8 4.9,4.3 5.2,5 3.8,6.1 2.9,4.7Z"),E(d,"d","M8.6,4.7 C8.7,4.5 9.6,5.1 10.1,3.9 8.9,5.1 7.6,2.7 6.6,4.3 6.3,5 7.7,6.1 8.6,4.7Z"),E(u,"d","M6.1,2.2 C 5.9,2.1 6.8,1.5 5.5,0.8 6.6,2.1 3.5,2.6 5.2,3.7 5.9,4.1 7.6,3.3 6.1,2.2Z"),E(t,"id",f=e[5].id),E(t,"width",h=.125*e[5].mod),E(t,"height",p=.125*e[5].mod),E(t,"viewBox","0 0 25 25"),E(t,"fill",g=e[1][e[5].t2])},m(e,i){x(e,t,i),w(t,n),w(t,l),w(t,r),w(t,o),w(t,s),w(t,c),w(t,a),w(t,d),w(t,u)},p(e,l){3&l&&i!==(i=e[1][e[5].t1])&&E(n,"fill",i),1&l&&f!==(f=e[5].id)&&E(t,"id",f),1&l&&h!==(h=.125*e[5].mod)&&E(t,"width",h),1&l&&p!==(p=.125*e[5].mod)&&E(t,"height",p),3&l&&g!==(g=e[1][e[5].t2])&&E(t,"fill",g)},d(e){e&&k(t)}}}function Mr(e){let t,n,i,l,r,o,s,c,a,d,u,f,h;return{c(){t=_("pattern"),n=_("rect"),l=_("path"),o=_("rect"),a=_("path"),E(n,"x","0"),E(n,"y","0"),E(n,"width","25"),E(n,"height","25"),E(n,"fill",i=e[1][e[5].t2]),E(l,"d","m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),E(l,"fill",r=e[1][e[5].t1]),E(o,"x","0"),E(o,"y","25"),E(o,"width","25"),E(o,"height","25"),E(o,"fill",s=e[1][e[5].t1]),E(o,"stroke-width","1"),E(o,"stroke",c=e[1][e[5].t1]),E(a,"d","m12.5,25 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),E(a,"fill",d=e[1][e[5].t2]),E(t,"id",u=e[5].id),E(t,"width",f=.125*e[5].mod),E(t,"height",h=.25*e[5].mod),E(t,"viewBox","0 0 25 50")},m(e,i){x(e,t,i),w(t,n),w(t,l),w(t,o),w(t,a)},p(e,p){3&p&&i!==(i=e[1][e[5].t2])&&E(n,"fill",i),3&p&&r!==(r=e[1][e[5].t1])&&E(l,"fill",r),3&p&&s!==(s=e[1][e[5].t1])&&E(o,"fill",s),3&p&&c!==(c=e[1][e[5].t1])&&E(o,"stroke",c),3&p&&d!==(d=e[1][e[5].t2])&&E(a,"fill",d),1&p&&u!==(u=e[5].id)&&E(t,"id",u),1&p&&f!==(f=.125*e[5].mod)&&E(t,"width",f),1&p&&h!==(h=.25*e[5].mod)&&E(t,"height",h)},d(e){e&&k(t)}}}function Sr(e){let t,n,i,l,r,o,s,c;return{c(){t=_("pattern"),n=_("rect"),l=_("path"),E(n,"x","0"),E(n,"y","0"),E(n,"width","200"),E(n,"height","200"),E(n,"fill",i=e[1][e[5].t2]),E(l,"d","m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),E(l,"fill",r=e[1][e[5].t1]),E(l,"stroke","#000"),E(l,"stroke-width",".2"),E(t,"id",o=e[5].id),E(t,"width",s=.125*e[5].mod),E(t,"height",c=.125*e[5].mod),E(t,"viewBox","0 0 25 25")},m(e,i){x(e,t,i),w(t,n),w(t,l)},p(e,a){3&a&&i!==(i=e[1][e[5].t2])&&E(n,"fill",i),3&a&&r!==(r=e[1][e[5].t1])&&E(l,"fill",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.125*e[5].mod)&&E(t,"height",c)},d(e){e&&k(t)}}}function Er(e){let t,n,i,l,r,o,s,c,a,d,u,f;return{c(){t=_("pattern"),n=_("rect"),l=_("path"),o=_("rect"),c=_("path"),E(n,"x","0"),E(n,"y","0"),E(n,"width","25"),E(n,"height","25"),E(n,"fill",i=e[1][e[5].t2]),E(n,"stroke","none"),E(l,"d","m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),E(l,"fill",r=e[1][e[5].t1]),E(o,"x","0"),E(o,"y","25"),E(o,"width","25"),E(o,"height","25"),E(o,"fill",s=e[1][e[5].t1]),E(o,"stroke-width","1"),E(o,"stroke","none"),E(c,"d","m25,25 l-6.25,6.25 v12.5 l-6.25,6.25 l-6.25,-6.25 v-12.5 l-6.25,-6.25 z"),E(c,"fill",a=e[1][e[5].t2]),E(t,"id",d=e[5].id),E(t,"width",u=.125*e[5].mod),E(t,"height",f=.25*e[5].mod),E(t,"viewBox","0 0 25 50"),E(t,"stroke","#000"),E(t,"stroke-width",".2")},m(e,i){x(e,t,i),w(t,n),w(t,l),w(t,o),w(t,c)},p(e,h){3&h&&i!==(i=e[1][e[5].t2])&&E(n,"fill",i),3&h&&r!==(r=e[1][e[5].t1])&&E(l,"fill",r),3&h&&s!==(s=e[1][e[5].t1])&&E(o,"fill",s),3&h&&a!==(a=e[1][e[5].t2])&&E(c,"fill",a),1&h&&d!==(d=e[5].id)&&E(t,"id",d),1&h&&u!==(u=.125*e[5].mod)&&E(t,"width",u),1&h&&f!==(f=.25*e[5].mod)&&E(t,"height",f)},d(e){e&&k(t)}}}function Pr(e){let t,n,i,l,r,o,s,c,a,d={ctx:e,current:null,token:null,hasCatch:!1,pending:Ir,then:qr,catch:Hr,value:8};return me(r=e[2](e[5]),d),{c(){t=_("pattern"),n=_("rect"),l=_("g"),d.block.c(),E(n,"x","0"),E(n,"y","0"),E(n,"width","150"),E(n,"height","200"),E(n,"fill",i=e[1][e[5].t1]),E(n,"stroke","none"),E(l,"fill",o=e[1][e[5].t2]),E(t,"id",s=e[5].id),E(t,"width",c=.134*e[5].mod),E(t,"height",a=.1787*e[5].mod),E(t,"viewBox","0 0 150 200"),E(t,"stroke","#000")},m(e,i){x(e,t,i),w(t,n),w(t,l),d.block.m(l,d.anchor=null),d.mount=()=>l,d.anchor=null},p(u,f){if(e=u,3&f&&i!==(i=e[1][e[5].t1])&&E(n,"fill",i),d.ctx=e,1&f&&r!==(r=e[2](e[5]))&&me(r,d));else{const t=e.slice();t[8]=d.resolved,d.block.p(t,f)}3&f&&o!==(o=e[1][e[5].t2])&&E(l,"fill",o),1&f&&s!==(s=e[5].id)&&E(t,"id",s),1&f&&c!==(c=.134*e[5].mod)&&E(t,"width",c),1&f&&a!==(a=.1787*e[5].mod)&&E(t,"height",a)},d(e){e&&k(t),d.block.d(),d.token=null,d=null}}}function Hr(t){return{c:e,m:e,p:e,d:e}}function qr(e){let t,n,i=e[8]+"",l=e[8]+"";return{c(){t=_("g"),n=_("g"),E(t,"transform","translate(-60,-50)"),E(n,"transform","translate(10,50)")},m(e,r){x(e,t,r),t.innerHTML=i,x(e,n,r),n.innerHTML=l},p(e,r){1&r&&i!==(i=e[8]+"")&&(t.innerHTML=i),1&r&&l!==(l=e[8]+"")&&(n.innerHTML=l)},d(e){e&&k(t),e&&k(n)}}}function Ir(t){return{c:e,m:e,p:e,d:e}}function Lr(e){let t;function n(e,t){return"semy"===e[5].type?Pr:"vair"===e[5].type?Er:"vairInPale"===e[5].type?Sr:"vairEnPointe"===e[5].type?Mr:"ermine"===e[5].type?Br:"chequy"===e[5].type?jr:"lozengy"===e[5].type?_r:"fusily"===e[5].type?Cr:"pally"===e[5].type?zr:"barry"===e[5].type?kr:"gemelles"===e[5].type?xr:"bendy"===e[5].type?wr:"bendySinister"===e[5].type?br:"palyBendy"===e[5].type?yr:"pappellony"===e[5].type?vr:"masoned"===e[5].type?$r:"fretty"===e[5].type?mr:void 0}let i=n(e),l=i&&i(e);return{c(){l&&l.c(),t=M()},m(e,n){l&&l.m(e,n),x(e,t,n)},p(e,r){i===(i=n(e))&&l?l.p(e,r):(l&&l.d(1),l=i&&i(e),l&&(l.c(),l.m(t.parentNode,t)))},d(e){l&&l.d(e),e&&k(t)}}}function Ar(t){let n,i=t[0],l=[];for(let e=0;e<i.length;e+=1)l[e]=Lr(gr(t,i,e));return{c(){for(let e=0;e<l.length;e+=1)l[e].c();n=M()},m(e,t){for(let n=0;n<l.length;n+=1)l[n].m(e,t);x(e,n,t)},p(e,[t]){if(7&t){let r;for(i=e[0],r=0;r<i.length;r+=1){const o=gr(e,i,r);l[r]?l[r].p(o,t):(l[r]=Lr(o),l[r].c(),l[r].m(n.parentNode,n))}for(;r<l.length;r+=1)l[r].d(1);l.length=i.length}},i:e,o:e,d(e){z(l,e),e&&k(n)}}}function Fr(e,t,n){let i,l;a(e,ht,(e=>n(3,i=e))),a(e,et,(e=>n(1,l=e)));let r=[];const o=document.getElementById("charges");return e.$$.update=()=>{8&e.$$.dirty&&n(0,r=[...new Set(i)].map((e=>{const[t,n,i,l]=e.split("-"),[r,o]=t.split("_of_");return{id:e,type:r,t1:n,t2:i,mod:function(e){return"small"===e?.5:"smaller"===e?.25:"smallest"===e?.125:"big"===e?2:1}(l),charge:o}})))},[r,l,async function(e){let t="";const n=o.querySelector("#"+e.charge);if(n)t=n.outerHTML;else{const n=await fetch("charges/"+e.charge+".svg"),i=await n.text(),l=document.createElement("html");l.innerHTML=i,t=l.querySelector("g").outerHTML,o.insertAdjacentHTML("beforeend",t)}return t}]}class Tr extends _e{constructor(e){super(),Ce(this,e,Fr,Ar,o,{})}}const{window:Or}=$e;function Gr(e){let t,n;return t=new fn({}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function Dr(e){let t,n;return t=new pr({props:{gallery:e[2],w:e[0],h:e[1]}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};4&n&&(i.gallery=e[2]),1&n&&(i.w=e[0]),2&n&&(i.h=e[1]),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function Rr(e){let t,n;return t=new cr({props:{coa:e[3],c:e[4].c}}),{c(){we(t.$$.fragment)},m(e,i){xe(t,e,i),n=!0},p(e,n){const i={};8&n&&(i.coa=e[3]),16&n&&(i.c=e[4].c),t.$set(i)},i(e){n||(ue(t.$$.fragment,e),n=!0)},o(e){fe(t.$$.fragment,e),n=!1},d(e){ke(t,e)}}}function Nr(e){let t,n,i,l,r,o,s,c,a,d,u,f,h,p;n=new rn({});let g=e[4].about&&Gr();const m=[Rr,Dr],$=[];function v(e,t){return e[4].edit?0:1}return r=v(e),o=$[r]=m[r](e),u=new Tr({}),{c(){t=C("main"),we(n.$$.fragment),i=B(),g&&g.c(),l=B(),o.c(),s=B(),c=C("div"),a=_("svg"),d=_("defs"),we(u.$$.fragment),E(a,"width","0"),E(a,"height","0"),E(a,"xmlns","http://www.w3.org/2000/svg"),E(c,"id","patterns"),I(c,"position","absolute"),I(t,"background-color",e[5]),E(t,"class","svelte-32wlsa")},m(o,m){x(o,t,m),xe(n,t,null),w(t,i),g&&g.m(t,null),w(t,l),$[r].m(t,null),w(t,s),w(t,c),w(c,a),w(a,d),xe(u,d,null),f=!0,h||(p=S(Or,"keydown",e[6]),h=!0)},p(e,[n]){e[4].about?g?16&n&&ue(g,1):(g=Gr(),g.c(),ue(g,1),g.m(t,l)):g&&(ae(),fe(g,1,1,(()=>{g=null})),de());let i=r;r=v(e),r===i?$[r].p(e,n):(ae(),fe($[i],1,1,(()=>{$[i]=null})),de(),o=$[r],o||(o=$[r]=m[r](e),o.c()),ue(o,1),o.m(t,s)),(!f||32&n)&&I(t,"background-color",e[5])},i(e){f||(ue(n.$$.fragment,e),ue(g),ue(o),ue(u.$$.fragment,e),f=!0)},o(e){fe(n.$$.fragment,e),fe(g),fe(o),fe(u.$$.fragment,e),f=!1},d(e){e&&k(t),ke(n),g&&g.d(),$[r].d(),ke(u),h=!1,p()}}}function Jr(e,t,n){let i,l,r,o,s,c;a(e,Xe,(e=>n(9,i=e))),a(e,st,(e=>n(10,l=e))),a(e,ct,(e=>n(11,r=e))),a(e,at,(e=>n(12,o=e))),a(e,dt,(e=>n(4,s=e))),a(e,tt,(e=>n(5,c=e)));let d,u,f,h,g,m=[];return function(){const e=new URL(window.location.href).searchParams;if(e.has("coa")||e.has("seed")){if(e.get("coa")){if(!function(e){try{return JSON.parse(e),!0}catch(t){return console.error(t),alert("Error: coa value is not valid\r\n"+t.message+"\r\n"+e),!1}}(e.get("coa")))return;const t=JSON.parse(e.get("coa"));l.push(t)}else e.get("seed")&&(n(8,g=e.get("seed")),isNaN(+g)||n(8,g=+g));p(dt,s.edit=1,s),p(ct,r[0]=[0],r)}}(),e.$$.update=()=>{if(512&e.$$.dirty&&n(7,[d,u,f]=function(e){const t=window.innerWidth,n=window.innerHeight-60,i=Math.ceil(t/e),l=Math.floor(t/i),r=Math.floor(n/l);return[i*r,l,Math.floor(n/r)]}(i),d,(n(0,u),n(9,i)),(n(1,f),n(9,i))),7576&e.$$.dirty){const e=l.length;if(r[o]||(s.edit?(p(ct,r[o]=r[o-1].slice(),r),p(ct,r[o][s.i]=e,r)):p(ct,r[o]=Array.from({length:d},((t,n)=>e+n++)),r)),!s.edit&&r[o].length<d){const t=r[o];p(ct,r[o]=[...Array(d).keys()].map((n=>void 0!==t[n]?t[n]:e+n)),r)}n(2,m=r[o].slice(0,d)),s.edit&&(p(dt,s.c=r[o][s.i],s),n(3,h=l[s.c]||rl(g||void 0)),n(8,g=void 0),l[s.c]||l.push(h),ut.reset())}},[u,f,m,h,s,c,function(e){const t=e.code;if(!["Backspace","Enter","KeyZ","KeyX","KeyD","F1"].includes(t))return;const n=document.activeElement.tagName;"INPUT"!==n&&"SELECT"!==n&&(e.preventDefault(),"Backspace"===t&&o>0?p(at,o-=1,o):"Enter"===t?p(at,o+=1,o):"KeyZ"===t?ut.undo():"KeyX"===t?ut.redo():"KeyD"===t?pt():"F1"===t&&p(dt,s.about=!s.about,s))}]}return new class extends _e{constructor(e){super(),Ce(this,e,Jr,Nr,o,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
