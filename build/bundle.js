var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function l(){return Object.create(null)}function i(e){e.forEach(n)}function r(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function s(t,...n){if(null==t)return e;const l=t.subscribe(...n);return l.unsubscribe?()=>l.unsubscribe():l}function c(e){let t;return s(e,(e=>t=e))(),t}function a(e,t,n){e.$$.on_destroy.push(s(t,n))}function d(e,t,n,l){if(e){const i=u(e,t,n,l);return e[0](i)}}function u(e,t,n,l){return e[1]&&l?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](l(t))):n.ctx}function f(e,t,n,l,i,r,o){const s=function(e,t,n,l){if(e[2]&&l){const i=e[2](l(n));if(void 0===t.dirty)return i;if("object"==typeof i){const e=[],n=Math.max(t.dirty.length,i.length);for(let l=0;l<n;l+=1)e[l]=t.dirty[l]|i[l];return e}return t.dirty|i}return t.dirty}(t,l,i,r);if(s){const i=u(t,n,l,o);e.p(i,s)}}function p(e){return null==e?"":e}function h(e,t,n=t){return e.set(n),t}const m="undefined"!=typeof window;let g=m?()=>window.performance.now():()=>Date.now(),$=m?e=>requestAnimationFrame(e):e;const v=new Set;function y(e){v.forEach((t=>{t.c(e)||(v.delete(t),t.f())})),0!==v.size&&$(y)}function w(e){let t;return 0===v.size&&$(y),{promise:new Promise((n=>{v.add(t={c:e,f:n})})),abort(){v.delete(t)}}}function b(e,t){e.appendChild(t)}function k(e,t,n){e.insertBefore(t,n||null)}function x(e){e.parentNode.removeChild(e)}function q(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function z(e){return document.createElement(e)}function C(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function _(e){return document.createTextNode(e)}function j(){return _(" ")}function B(){return _("")}function M(e,t,n,l){return e.addEventListener(t,n,l),()=>e.removeEventListener(t,n,l)}function S(e){return function(t){return t.preventDefault(),e.call(this,t)}}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function H(e){return""===e?null:+e}function L(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function I(e,t){e.value=null==t?"":t}function P(e,t,n,l){e.style.setProperty(t,n,l?"important":"")}function A(e,t){for(let n=0;n<e.options.length;n+=1){const l=e.options[n];if(l.__value===t)return void(l.selected=!0)}}function T(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function F(e,t,n){e.classList[n?"add":"remove"](t)}const O=new Set;let D,R=0;function G(e,t,n,l,i,r,o,s=0){const c=16.666/l;let a="{\n";for(let e=0;e<=1;e+=c){const l=t+(n-t)*r(e);a+=100*e+`%{${o(l,1-l)}}\n`}const d=a+`100% {${o(n,1-n)}}\n}`,u=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(d)}_${s}`,f=e.ownerDocument;O.add(f);const p=f.__svelte_stylesheet||(f.__svelte_stylesheet=f.head.appendChild(z("style")).sheet),h=f.__svelte_rules||(f.__svelte_rules={});h[u]||(h[u]=!0,p.insertRule(`@keyframes ${u} ${d}`,p.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?m+", ":""}${u} ${l}ms linear ${i}ms 1 both`,R+=1,u}function N(e,t){const n=(e.style.animation||"").split(", "),l=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),i=n.length-l.length;i&&(e.style.animation=l.join(", "),R-=i,R||$((()=>{R||(O.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),O.clear())})))}function K(e){D=e}function J(){if(!D)throw new Error("Function called outside component initialization");return D}const U=[],W=[],Z=[],X=[],V=Promise.resolve();let Y=!1;function Q(e){Z.push(e)}function ee(e){X.push(e)}let te=!1;const ne=new Set;function le(){if(!te){te=!0;do{for(let e=0;e<U.length;e+=1){const t=U[e];K(t),ie(t.$$)}for(K(null),U.length=0;W.length;)W.pop()();for(let e=0;e<Z.length;e+=1){const t=Z[e];ne.has(t)||(ne.add(t),t())}Z.length=0}while(U.length);for(;X.length;)X.pop()();Y=!1,te=!1,ne.clear()}}function ie(e){if(null!==e.fragment){e.update(),i(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(Q)}}let re;function oe(){return re||(re=Promise.resolve(),re.then((()=>{re=null}))),re}function se(e,t,n){e.dispatchEvent(function(e,t){const n=document.createEvent("CustomEvent");return n.initCustomEvent(e,!1,!1,t),n}(`${t?"intro":"outro"}${n}`))}const ce=new Set;let ae;function de(){ae={r:0,c:[],p:ae}}function ue(){ae.r||i(ae.c),ae=ae.p}function fe(e,t){e&&e.i&&(ce.delete(e),e.i(t))}function pe(e,t,n,l){if(e&&e.o){if(ce.has(e))return;ce.add(e),ae.c.push((()=>{ce.delete(e),l&&(n&&e.d(1),l())})),e.o(t)}}const he={duration:0};function me(n,l,i){let o,s,c=l(n,i),a=!1,d=0;function u(){o&&N(n,o)}function f(){const{delay:l=0,duration:i=300,easing:r=t,tick:f=e,css:p}=c||he;p&&(o=G(n,0,1,i,l,r,p,d++)),f(0,1);const h=g()+l,m=h+i;s&&s.abort(),a=!0,Q((()=>se(n,!0,"start"))),s=w((e=>{if(a){if(e>=m)return f(1,0),se(n,!0,"end"),u(),a=!1;if(e>=h){const t=r((e-h)/i);f(t,1-t)}}return a}))}let p=!1;return{start(){p||(N(n),r(c)?(c=c(),oe().then(f)):f())},invalidate(){p=!1},end(){a&&(u(),a=!1)}}}function ge(n,l,o,s){let c=l(n,o),a=s?0:1,d=null,u=null,f=null;function p(){f&&N(n,f)}function h(e,t){const n=e.b-a;return t*=Math.abs(n),{a:a,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(l){const{delay:r=0,duration:o=300,easing:s=t,tick:m=e,css:$}=c||he,v={start:g()+r,b:l};l||(v.group=ae,ae.r+=1),d||u?u=v:($&&(p(),f=G(n,a,l,o,r,s,$)),l&&m(0,1),d=h(v,o),Q((()=>se(n,l,"start"))),w((e=>{if(u&&e>u.start&&(d=h(u,o),u=null,se(n,d.b,"start"),$&&(p(),f=G(n,a,d.b,d.duration,0,s,c.css))),d)if(e>=d.end)m(a=d.b,1-a),se(n,d.b,"end"),u||(d.b?p():--d.group.r||i(d.group.c)),d=null;else if(e>=d.start){const t=e-d.start;a=d.a+d.d*s(t/d.duration),m(a,1-a)}return!(!d&&!u)})))}return{run(e){r(c)?oe().then((()=>{c=c(),m(e)})):m(e)},end(){p(),d=u=null}}}function $e(e,t){const n=t.token={};function l(e,l,i,r){if(t.token!==n)return;t.resolved=r;let o=t.ctx;void 0!==i&&(o=o.slice(),o[i]=r);const s=e&&(t.current=e)(o);let c=!1;t.block&&(t.blocks?t.blocks.forEach(((e,n)=>{n!==l&&e&&(de(),pe(e,1,1,(()=>{t.blocks[n]=null})),ue())})):t.block.d(1),s.c(),fe(s,1),s.m(t.mount(),t.anchor),c=!0),t.block=s,t.blocks&&(t.blocks[l]=s),c&&le()}if((i=e)&&"object"==typeof i&&"function"==typeof i.then){const n=J();if(e.then((e=>{K(n),l(t.then,1,t.value,e),K(null)}),(e=>{if(K(n),l(t.catch,2,t.error,e),K(null),!t.hasCatch)throw e})),t.current!==t.pending)return l(t.pending,0),!0}else{if(t.current!==t.then)return l(t.then,1,t.value,e),!0;t.resolved=e}var i}const ve="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function ye(e,t){pe(e,1,1,(()=>{t.delete(e.key)}))}function we(e,t,n,l,i,r,o,s,c,a,d,u){let f=e.length,p=r.length,h=f;const m={};for(;h--;)m[e[h].key]=h;const g=[],$=new Map,v=new Map;for(h=p;h--;){const e=u(i,r,h),s=n(e);let c=o.get(s);c?l&&c.p(e,t):(c=a(s,e),c.c()),$.set(s,g[h]=c),s in m&&v.set(s,Math.abs(h-m[s]))}const y=new Set,w=new Set;function b(e){fe(e,1),e.m(s,d),o.set(e.key,e),d=e.first,p--}for(;f&&p;){const t=g[p-1],n=e[f-1],l=t.key,i=n.key;t===n?(d=t.first,f--,p--):$.has(i)?!o.has(l)||y.has(l)?b(t):w.has(i)?f--:v.get(l)>v.get(i)?(w.add(l),b(t)):(y.add(i),f--):(c(n,o),f--)}for(;f--;){const t=e[f];$.has(t.key)||c(t,o)}for(;p;)b(g[p-1]);return g}function be(e,t,n){const l=e.$$.props[t];void 0!==l&&(e.$$.bound[l]=n,n(e.$$.ctx[l]))}function ke(e){e&&e.c()}function xe(e,t,l){const{fragment:o,on_mount:s,on_destroy:c,after_update:a}=e.$$;o&&o.m(t,l),Q((()=>{const t=s.map(n).filter(r);c?c.push(...t):i(t),e.$$.on_mount=[]})),a.forEach(Q)}function qe(e,t){const n=e.$$;null!==n.fragment&&(i(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ze(e,t){-1===e.$$.dirty[0]&&(U.push(e),Y||(Y=!0,V.then(le)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function Ce(t,n,r,o,s,c,a=[-1]){const d=D;K(t);const u=n.props||{},f=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:s,bound:l(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(d?d.$$.context:[]),callbacks:l(),dirty:a,skip_bound:!1};let p=!1;if(f.ctx=r?r(t,u,((e,n,...l)=>{const i=l.length?l[0]:n;return f.ctx&&s(f.ctx[e],f.ctx[e]=i)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](i),p&&ze(t,e)),n})):[],f.update(),p=!0,i(f.before_update),f.fragment=!!o&&o(f.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);f.fragment&&f.fragment.l(e),e.forEach(x)}else f.fragment&&f.fragment.c();n.intro&&fe(t.$$.fragment),xe(t,n.target,n.anchor),le()}K(d)}class _e{$destroy(){qe(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const je=e=>({}),Be=e=>({});function Me(e){let t;const n=e[9]["custom-tip"],l=d(n,e,e[8],Be);return{c(){l&&l.c()},m(e,n){l&&l.m(e,n),t=!0},p(e,t){l&&l.p&&256&t&&f(l,n,e,e[8],t,je,Be)},i(e){t||(fe(l,e),t=!0)},o(e){pe(l,e),t=!1},d(e){l&&l.d(e)}}}function Se(t){let n,l;return{c(){n=z("div"),l=_(t[0]),E(n,"class","default-tip svelte-1cy3723"),E(n,"style",t[6])},m(e,t){k(e,n,t),b(n,l)},p(e,t){1&t&&L(l,e[0])},i:e,o:e,d(e){e&&x(n)}}}function Ee(e){let t,n,l,i,r,o,s;const c=e[9].default,a=d(c,e,e[8],null),u=[Se,Me],p=[];function h(e,t){return e[0]?0:1}return r=h(e),o=p[r]=u[r](e),{c(){t=z("div"),n=z("span"),a&&a.c(),l=j(),i=z("div"),o.c(),E(n,"class","tooltip-slot svelte-1cy3723"),E(i,"class","tooltip svelte-1cy3723"),F(i,"active",e[4]),F(i,"left",e[3]),F(i,"right",e[5]),F(i,"bottom",e[2]),F(i,"top",e[1]),E(t,"class","tooltip-wrapper svelte-1cy3723")},m(e,o){k(e,t,o),b(t,n),a&&a.m(n,null),b(t,l),b(t,i),p[r].m(i,null),s=!0},p(e,[t]){a&&a.p&&256&t&&f(a,c,e,e[8],t,null,null);let n=r;r=h(e),r===n?p[r].p(e,t):(de(),pe(p[n],1,1,(()=>{p[n]=null})),ue(),o=p[r],o||(o=p[r]=u[r](e),o.c()),fe(o,1),o.m(i,null)),16&t&&F(i,"active",e[4]),8&t&&F(i,"left",e[3]),32&t&&F(i,"right",e[5]),4&t&&F(i,"bottom",e[2]),2&t&&F(i,"top",e[1])},i(e){s||(fe(a,e),fe(o),s=!0)},o(e){pe(a,e),pe(o),s=!1},d(e){e&&x(t),a&&a.d(e),p[r].d()}}}function He(e,t,n){let{$$slots:l={},$$scope:i}=t,{tip:r=""}=t,{top:o=!1}=t,{bottom:s=!1}=t,{left:c=!1}=t,{active:a=!1}=t,{color:d="#222"}=t,u=!(o||s||c),f=`background-color: ${d};`;return e.$$set=e=>{"tip"in e&&n(0,r=e.tip),"top"in e&&n(1,o=e.top),"bottom"in e&&n(2,s=e.bottom),"left"in e&&n(3,c=e.left),"active"in e&&n(4,a=e.active),"color"in e&&n(7,d=e.color),"$$scope"in e&&n(8,i=e.$$scope)},[r,o,s,c,a,u,f,d,i,l]}class Le extends _e{constructor(e){super(),Ce(this,e,He,Ee,o,{tip:0,top:1,bottom:2,left:3,active:4,color:7})}}function Ie(e){let t,n;return t=new Le({props:{tip:"Selected value will be used on app load. Click to apply default value on load",$$slots:{default:[Pe]},$$scope:{ctx:e}}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};8&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Pe(t){let n,l,i;return{c(){n=z("span"),n.textContent="🔖",P(n,"cursor","pointer")},m(e,r){k(e,n,r),l||(i=M(n,"click",t[1]),l=!0)},p:e,d(e){e&&x(n),l=!1,i()}}}function Ae(e){let t,n,l=e[0]&&Ie(e);return{c(){l&&l.c(),t=B()},m(e,i){l&&l.m(e,i),k(e,t,i),n=!0},p(e,[n]){e[0]?l?(l.p(e,n),1&n&&fe(l,1)):(l=Ie(e),l.c(),fe(l,1),l.m(t.parentNode,t)):l&&(de(),pe(l,1,1,(()=>{l=null})),ue())},i(e){n||(fe(l),n=!0)},o(e){pe(l),n=!1},d(e){l&&l.d(e),e&&x(t)}}}function Te(e,t,n){let l,{key:i}=t;return e.$$set=e=>{"key"in e&&n(2,i=e.key)},e.$$.update=()=>{4&e.$$.dirty&&n(0,l=localStorage.getItem(i))},[l,function(){localStorage.removeItem(i),n(0,l=!1)},i]}class Fe extends _e{constructor(e){super(),Ce(this,e,Te,Ae,o,{key:2})}}function Oe(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function De(e){const t=e-1;return t*t*t+1}function Re(e,{delay:n=0,duration:l=400,easing:i=t}){const r=+getComputedStyle(e).opacity;return{delay:n,duration:l,easing:i,css:e=>"opacity: "+e*r}}function Ge(e,{delay:t=0,duration:n=400,easing:l=De,x:i=0,y:r=0,opacity:o=0}){const s=getComputedStyle(e),c=+s.opacity,a="none"===s.transform?"":s.transform,d=c*(1-o);return{delay:t,duration:n,easing:l,css:(e,t)=>`\n\t\t\ttransform: ${a} translate(${(1-e)*i}px, ${(1-e)*r}px);\n\t\t\topacity: ${c-d*t}`}}function Ne(e,{delay:t=0,duration:n=400,easing:l=De}){const i=getComputedStyle(e),r=+i.opacity,o=parseFloat(i.height),s=parseFloat(i.paddingTop),c=parseFloat(i.paddingBottom),a=parseFloat(i.marginTop),d=parseFloat(i.marginBottom),u=parseFloat(i.borderTopWidth),f=parseFloat(i.borderBottomWidth);return{delay:t,duration:n,easing:l,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*r};height: ${e*o}px;padding-top: ${e*s}px;padding-bottom: ${e*c}px;margin-top: ${e*a}px;margin-bottom: ${e*d}px;border-top-width: ${e*u}px;border-bottom-width: ${e*f}px;`}}function Ke(e,{delay:t=0,speed:n,duration:l,easing:i=Oe}){const r=e.getTotalLength();return void 0===l?l=void 0===n?800:r/n:"function"==typeof l&&(l=l(r)),{delay:t,duration:l,easing:i,css:(e,t)=>`stroke-dasharray: ${e*r} ${t*r}`}}const Je=[];function Ue(t,n=e){let l;const i=[];function r(e){if(o(t,e)&&(t=e,l)){const e=!Je.length;for(let e=0;e<i.length;e+=1){const n=i[e];n[1](),Je.push(n,t)}if(e){for(let e=0;e<Je.length;e+=2)Je[e][0](Je[e+1]);Je.length=0}}}return{set:r,update:function(e){r(e(t))},subscribe:function(o,s=e){const c=[o,s];return i.push(c),1===i.length&&(l=n(r)||e),o(t),()=>{const e=i.indexOf(c);-1!==e&&i.splice(e,1),0===i.length&&(l(),l=null)}}}}function We(e){const t=[];for(const n in e)for(let l=0;l<e[n];l++)t.push(n);return t[Math.floor(Math.random()*t.length)]}function Ze(e){return Math.random()<e}function Xe(e){return e.replace(/\.[^/.]+$/,"").replace(/_/g," ").replace(/\W+(.)/g,((e,t)=>t.toUpperCase()))}const Ve=function(){const e=e=>{const t=localStorage.getItem(e);return"null"===t?null:t},t=e=>localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null,n=+e("size")||200,l=e("diaper")||null,i=e("grad")||(p=["luster","spotlight","backlight"],p[Math.floor(Math.random()*p.length)]),r=e("shield")||We({heater:60,oldFrench:20,spanish:30,french:5,swiss:2,wedged:2,italian:1,round:1,renaissance:1,baroque:1,polish:1,german:1,diamond:1,kite:1,square:2,vesicaPiscis:1,flag:2,gonfalon:3}),o=t("colors")||{argent:"#fafafa",or:"#ffe066",gules:"#d7374a",sable:"#333333",azure:"#377cd7",vert:"#26c061",purpure:"#522d5b"},s=e("border")||"#333333",c=+e("borderWidth")||1,a=e("background")||"#333333",d=+e("scale")||2,u=+e("grid")||1,f=t("showGrid")||0;var p;return{size:n,diaper:l,grad:i,shield:r,colors:o,border:s,borderWidth:c,background:a,scale:d,grid:u,showGrid:f}}(),Ye=Ue(Ve.size),Qe=Ue(Ve.grad),et=Ue(Ve.diaper),tt=Ue(Ve.shield),nt=Ue(Ve.colors),lt=Ue(Ve.background),it=Ue(Ve.scale),rt=Ue(Ve.border),ot=Ue(Ve.borderWidth),st=Ue(Ve.grid),ct=Ue(Ve.showGrid),at=Ue([]),dt=Ue([]),ut=Ue(0),ft=Ue({edit:0,about:0,i:0}),pt=Ue(null),ht=(()=>{const{subscribe:e,set:t,update:n}=Ue([void 0,-1]);let l=[],i=-1;return{subscribe:e,length:()=>l.length,reset:()=>{l=[],i=-1,t([void 0,-1])},add(e){e!==l[i]&&(i<l.length-1&&(l=l.slice(0,i+1)),l.push(e),i+=1,t([l[i],i]))},undo:()=>n((e=>(i>0&&(i-=1),[l[i],i]))),redo:()=>n((e=>(i<l.length-1&&(i+=1),[l[i],i])))}})(),mt=Ue([]),gt=Ue([]);async function $t(e){const t=void 0!==e?[document.getElementById("coa"+e)]:document.querySelectorAll("svg.coa");let n=+t[0].getAttribute("width"),l=+t[0].getAttribute("height");const i=t.length>1?Math.floor(window.innerWidth/n):1,r=t.length>1?Math.ceil(t.length/i):1,o=c(it);n=Math.round(n*o),l=Math.round(l*o);const s=document.createElement("canvas"),a=s.getContext("2d");s.width=n*i,s.height=l*r;let d=0;t.forEach((async function(e,r){const o=await async function(e){const t=e.cloneNode(!0),n=t.getElementsByTagName("defs")[0],l=t.getElementById("grid"),i=t.getElementById("gridPattern");l&&l.remove();i&&i.remove();const r=c(tt),o=c(Qe),s=c(et);n.insertAdjacentHTML("beforeend",defs.getElementById(r).outerHTML),o&&n.insertAdjacentHTML("beforeend",defs.getElementById(o).outerHTML);s&&n.insertAdjacentHTML("beforeend",defs.getElementById(s).outerHTML);t.querySelectorAll(".charge[charge]").forEach((e=>{const t=e.getAttribute("charge");n.insertAdjacentHTML("beforeend",defs.getElementById(t).outerHTML)}));const a=t.getElementById("field").getAttribute("fill").split("(#")[1]?.split(")")[0];a&&n.insertAdjacentHTML("beforeend",document.getElementById(a).outerHTML);const d=t.getElementById("division")?.querySelector("rect").getAttribute("fill").split("(#")[1]?.split(")")[0];d&&n.insertAdjacentHTML("beforeend",document.getElementById(d).outerHTML);const u=(new XMLSerializer).serializeToString(t),f=new Blob([u],{type:"image/svg+xml;charset=utf-8"});return window.URL.createObjectURL(f)}(e),u=new Image;u.src=o,u.onload=()=>{URL.revokeObjectURL(o),a.drawImage(u,r%i*n,Math.floor(r/i)*l,n,l),d++,d===t.length&&function(e){const t=document.createElement("a");t.download="armoria_download.png",e.toBlob((function(n){console.log(n),t.href=window.URL.createObjectURL(n),document.body.appendChild(t),t.click(),setTimeout((function(){e.remove(),window.URL.revokeObjectURL(t.href)}),5e3)}))}(s)}}))}function vt(e,t,n){const l=e.slice();return l[50]=t[n],l}function yt(e,t,n){const l=e.slice();return l[53]=t[n],l}function wt(e,t,n){const l=e.slice();return l[56]=t[n],l}function bt(e,t,n){const l=e.slice();return l[59]=t[n],l[60]=t,l[61]=n,l}function kt(e,t,n){const l=e.slice();return l[62]=t[n],l[64]=n,l}function xt(e){let t,n,l,i,r,o,s,c=e[13][e[64]]+"",a=e[62].split(/(?=[A-Z])/).join(" ")+"";function d(...t){return e[22](e[62],...t)}return{c(){t=z("bt"),n=C("svg"),l=j(),i=_(a),r=j(),E(n,"class","shield svelte-qk0mgy"),E(n,"width","26"),E(n,"height","26"),E(n,"viewBox","0 0 200 200"),F(n,"selected",e[62]===e[4]),E(t,"class","svelte-qk0mgy")},m(e,a){k(e,t,a),b(t,n),n.innerHTML=c,b(t,l),b(t,i),b(t,r),o||(s=M(t,"click",d),o=!0)},p(t,l){e=t,4112&l[0]&&F(n,"selected",e[62]===e[4])},d(e){e&&x(t),o=!1,s()}}}function qt(e){let t;return{c(){t=_("Shield")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function zt(e){let t,n;return t=new Le({props:{tip:"Restore default color",$$slots:{default:[Ct]},$$scope:{ctx:e}}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};32&n[0]|8&n[2]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Ct(e){let t,n,l;function i(...t){return e[23](e[59],...t)}return{c(){t=z("span"),t.textContent="⭯",E(t,"class","svelte-qk0mgy")},m(e,r){k(e,t,r),n||(l=M(t,"click",i),n=!0)},p(t,n){e=t},d(e){e&&x(t),n=!1,l()}}}function _t(e){let t,n,l,i,r,o,s,c,a,d=e[59]+"",u=e[5][e[59]]!==e[18][e[59]]&&zt(e);function f(){e[24].call(r,e[59])}return{c(){t=z("bl"),n=_(d),l=j(),u&&u.c(),i=j(),r=z("input"),o=j(),E(r,"type","color"),E(r,"class","svelte-qk0mgy"),E(t,"class","svelte-qk0mgy")},m(d,p){k(d,t,p),b(t,n),b(t,l),u&&u.m(t,null),b(t,i),b(t,r),I(r,e[5][e[59]]),b(t,o),s=!0,c||(a=M(r,"input",f),c=!0)},p(n,l){(e=n)[5][e[59]]!==e[18][e[59]]?u?(u.p(e,l),32&l[0]&&fe(u,1)):(u=zt(e),u.c(),fe(u,1),u.m(t,i)):u&&(de(),pe(u,1,1,(()=>{u=null})),ue()),131104&l[0]&&I(r,e[5][e[59]])},i(e){s||(fe(u),s=!0)},o(e){pe(u),s=!1},d(e){e&&x(t),u&&u.d(),c=!1,a()}}}function jt(e){let t;return{c(){t=_("Colors")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Bt(e){let t,n,l,i,r=e[56]+"";function o(...t){return e[26](e[56],...t)}return{c(){t=z("bt"),n=_(r),E(t,"class","svelte-qk0mgy"),F(t,"selected",e[56]===e[2])},m(e,r){k(e,t,r),b(t,n),l||(i=M(t,"click",o),l=!0)},p(n,l){e=n,32772&l[0]&&F(t,"selected",e[56]===e[2])},d(e){e&&x(t),l=!1,i()}}}function Mt(e){let t;return{c(){t=_("Gradient")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function St(e){let t,n,l,i,r=e[53]+"";function o(...t){return e[28](e[53],...t)}return{c(){t=z("bt"),n=_(r),E(t,"class","svelte-qk0mgy"),F(t,"selected",e[53]===e[3])},m(e,r){k(e,t,r),b(t,n),l||(i=M(t,"click",o),l=!0)},p(n,l){e=n,65544&l[0]&&F(t,"selected",e[53]===e[3])},d(e){e&&x(t),l=!1,i()}}}function Et(e){let t;return{c(){t=_("Damasking")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Ht(e){let t,n;return t=new Le({props:{tip:"Restore default color",$$slots:{default:[Lt]},$$scope:{ctx:e}}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};256&n[0]|8&n[2]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Lt(t){let n,l,i;return{c(){n=z("span"),n.textContent="⭯",E(n,"class","svelte-qk0mgy")},m(e,r){k(e,n,r),l||(i=M(n,"click",t[29]),l=!0)},p:e,d(e){e&&x(n),l=!1,i()}}}function It(e){let t;return{c(){t=_("Border")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Pt(e){let t,n,l,i,r=e[50][1]+"";function o(...t){return e[32](e[50],...t)}return{c(){t=z("bt"),n=_(r),E(t,"class","svelte-qk0mgy"),F(t,"selected",e[1]==e[50][0])},m(e,r){k(e,t,r),b(t,n),l||(i=M(t,"click",o),l=!0)},p(n,l){e=n,16386&l[0]&&F(t,"selected",e[1]==e[50][0])},d(e){e&&x(t),l=!1,i()}}}function At(e){let t;return{c(){t=_("Gallery")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Tt(t){let n,l,i;return{c(){n=z("span"),n.textContent="⭮",E(n,"class","svelte-qk0mgy")},m(e,r){k(e,n,r),l||(i=M(n,"click",t[21]),l=!0)},p:e,d(e){e&&x(n),l=!1,i()}}}function Ft(e){let t,n;return t=new Le({props:{tip:"Restore default color",$$slots:{default:[Ot]},$$scope:{ctx:e}}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};64&n[0]|8&n[2]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Ot(t){let n,l,i;return{c(){n=z("span"),n.textContent="⭯",E(n,"class","svelte-qk0mgy")},m(e,r){k(e,n,r),l||(i=M(n,"click",t[33]),l=!0)},p:e,d(e){e&&x(n),l=!1,i()}}}function Dt(e){let t;return{c(){t=_("Background")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Rt(e){let t;return{c(){t=_("Scale")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Gt(t){let n;return{c(){n=z("bd"),n.textContent=""+t[20]("rollback"),P(n,"color","#333"),E(n,"class","svelte-qk0mgy")},m(e,t){k(e,n,t)},p:e,i:e,o:e,d(e){e&&x(n)}}}function Nt(e){let t,n,l,i,r;return n=new Le({props:{tip:"Roll to the previous list. Hotkey: Backspace",$$slots:{default:[Kt]},$$scope:{ctx:e}}}),{c(){t=z("bt"),ke(n.$$.fragment),E(t,"class","svelte-qk0mgy")},m(o,s){k(o,t,s),xe(n,t,null),l=!0,i||(r=M(t,"click",e[37]),i=!0)},p(e,t){const l={};8&t[2]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(fe(n.$$.fragment,e),l=!0)},o(e){pe(n.$$.fragment,e),l=!1},d(e){e&&x(t),qe(n),i=!1,r()}}}function Kt(t){let n,l=t[20]("rollback")+"";return{c(){n=_(l)},m(e,t){k(e,n,t)},p:e,d(e){e&&x(n)}}}function Jt(t){let n,l=t[20]("reroll")+"";return{c(){n=_(l)},m(e,t){k(e,n,t)},p:e,d(e){e&&x(n)}}}function Ut(t){let n,l=t[20]("download")+"";return{c(){n=_(l)},m(e,t){k(e,n,t)},p:e,d(e){e&&x(n)}}}function Wt(e){let t;return{c(){t=_("Raster")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Zt(e){let t;return{c(){t=_("Vector")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Xt(e){let t,n,l,i,r,o,s,c;const a=[Yt,Vt],d=[];function u(e,t){return e[0]>0?0:1}t=u(e),n=d[t]=a[t](e);const f=[tn,en],p=[];function h(e,t){return 1&t[0]&&(i=!!(e[0]<ht.length()-1)),i?0:1}return r=h(e,[-1]),o=p[r]=f[r](e),{c(){n.c(),l=j(),o.c(),s=B()},m(e,n){d[t].m(e,n),k(e,l,n),p[r].m(e,n),k(e,s,n),c=!0},p(e,i){let c=t;t=u(e),t===c?d[t].p(e,i):(de(),pe(d[c],1,1,(()=>{d[c]=null})),ue(),n=d[t],n||(n=d[t]=a[t](e),n.c()),fe(n,1),n.m(l.parentNode,l));let m=r;r=h(e,i),r===m?p[r].p(e,i):(de(),pe(p[m],1,1,(()=>{p[m]=null})),ue(),o=p[r],o||(o=p[r]=f[r](e),o.c()),fe(o,1),o.m(s.parentNode,s))},i(e){c||(fe(n),fe(o),c=!0)},o(e){pe(n),pe(o),c=!1},d(e){d[t].d(e),e&&x(l),p[r].d(e),e&&x(s)}}}function Vt(t){let n;return{c(){n=z("bd"),n.textContent=""+t[20]("undo"),P(n,"color","#333"),E(n,"class","svelte-qk0mgy")},m(e,t){k(e,n,t)},p:e,i:e,o:e,d(e){e&&x(n)}}}function Yt(e){let t,n,l,i,r;return n=new Le({props:{tip:"Revert the latest change. Hotkey: Z",$$slots:{default:[Qt]},$$scope:{ctx:e}}}),{c(){t=z("bt"),ke(n.$$.fragment),E(t,"class","svelte-qk0mgy")},m(o,s){k(o,t,s),xe(n,t,null),l=!0,i||(r=M(t,"click",e[42]),i=!0)},p(e,t){const l={};8&t[2]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(fe(n.$$.fragment,e),l=!0)},o(e){pe(n.$$.fragment,e),l=!1},d(e){e&&x(t),qe(n),i=!1,r()}}}function Qt(t){let n,l=t[20]("undo")+"";return{c(){n=_(l)},m(e,t){k(e,n,t)},p:e,d(e){e&&x(n)}}}function en(t){let n;return{c(){n=z("bd"),n.textContent=""+t[20]("redo"),P(n,"color","#333"),E(n,"class","svelte-qk0mgy")},m(e,t){k(e,n,t)},p:e,i:e,o:e,d(e){e&&x(n)}}}function tn(e){let t,n,l,i,r;return n=new Le({props:{tip:"Restore next change. Hotkey: X",$$slots:{default:[nn]},$$scope:{ctx:e}}}),{c(){t=z("bt"),ke(n.$$.fragment),E(t,"class","svelte-qk0mgy")},m(o,s){k(o,t,s),xe(n,t,null),l=!0,i||(r=M(t,"click",e[43]),i=!0)},p(e,t){const l={};8&t[2]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(fe(n.$$.fragment,e),l=!0)},o(e){pe(n.$$.fragment,e),l=!1},d(e){e&&x(t),qe(n),i=!1,r()}}}function nn(t){let n,l=t[20]("redo")+"";return{c(){n=_(l)},m(e,t){k(e,n,t)},p:e,d(e){e&&x(n)}}}function ln(e){let t,n,l,i,r,o;return n=new Le({props:{tip:"Get back to Gallery",left:!0,$$slots:{default:[rn]},$$scope:{ctx:e}}}),{c(){t=z("bt"),ke(n.$$.fragment),E(t,"id","back"),E(t,"class","svelte-qk0mgy")},m(l,s){k(l,t,s),xe(n,t,null),i=!0,r||(o=M(t,"click",e[44]),r=!0)},p(e,t){const l={};8&t[2]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){i||(fe(n.$$.fragment,e),Q((()=>{l||(l=ge(t,Re,{},!0)),l.run(1)})),i=!0)},o(e){pe(n.$$.fragment,e),l||(l=ge(t,Re,{},!1)),l.run(0),i=!1},d(e){e&&x(t),qe(n),e&&l&&l.end(),r=!1,o()}}}function rn(t){let n,l=t[20]("back")+"";return{c(){n=_(l)},m(e,t){k(e,n,t)},p:e,d(e){e&&x(n)}}}function on(e){let t,n,l,i,r;return n=new Le({props:{tip:"Show about screen. Hotkey: F1",left:!0,$$slots:{default:[sn]},$$scope:{ctx:e}}}),{c(){t=z("bt"),ke(n.$$.fragment),E(t,"class","svelte-qk0mgy")},m(o,s){k(o,t,s),xe(n,t,null),l=!0,i||(r=M(t,"click",e[45]),i=!0)},p(e,t){const l={};8&t[2]&&(l.$$scope={dirty:t,ctx:e}),n.$set(l)},i(e){l||(fe(n.$$.fragment,e),l=!0)},o(e){pe(n.$$.fragment,e),l=!1},d(e){e&&x(t),qe(n),i=!1,r()}}}function sn(t){let n,l=t[20]("about")+"";return{c(){n=_(l)},m(e,t){k(e,n,t)},p:e,d(e){e&&x(n)}}}function cn(e){let t,n,l,r,o,s,c,a,d,u,f,p,h,m,g,$,v,y,w,B,S,L,P,A,T,O,D,R,G,N,K,J,U,W,Z,X,V,Y,Q,ee,te,ne,le,ie,re,oe,se,ce,ae,he,me,ge,$e,ve,ye,we,be,ze,Ce,_e,je,Be,Me,Se,Ee,He,Ie,Pe,Ae,Te,Oe,De,Re,Ge,Ne,Ke,Je,Ue,We,Ze,Xe,Ve,Ye,Qe,et,tt,nt,lt,it,rt,ot,st,ct,at,dt,ut,ft,pt,ht,mt,gt,$t,zt,Ct,Lt,Ot,Kt,Vt,Yt,Qt,en,tn,nn,rn,sn,cn,an,dn=e[19]&&function(e){let t,n,l,i;return{c(){t=C("svg"),n=C("title"),l=_("Armoria: Heraldry Generator"),i=C("path"),E(i,"fill","#fff"),E(i,"stroke","none"),E(i,"d","m 46,3 0.6,1.4 c -1.5,0.7 -2.6,1.4 -3.3,2.2 -0.7,0.7 -1.2,1.5 -1.5,2.4 -0.3,0.9 -0.4,2.2 -0.4,3.9 0,0.6 0,1.3 0,2.2 l 0.5,23.2 c 0,2.5 0.3,4.2 0.8,5 0.4,0.6 0.8,0.8 1.3,0.8 0.6,0 1.5,-0.6 2.8,-1.8 l 0.9,1.1 -5.8,4.9 -1.9,1.6 C 38.4,49.2 37.2,48.2 36.5,46.9 35.8,45.7 35.3,36.7 35.2,34 c -7.6,0.1 -20.2,0 -20.2,0 0,0 -7.4,9.1 -7.4,11.1 0,0.6 0.2,1.1 0.6,1.8 0.5,0.9 0.8,1.4 0.8,1.7 0,0.4 -0.1,0.7 -0.4,1 -0.3,0.3 -0.6,0.4 -1.1,0.4 -0.5,0 -0.9,-0.2 -1.2,-0.6 -0.5,-0.6 -0.7,-1.3 -0.7,-2.2 0,-1 0.3,-2.1 0.8,-3.3 C 8.8,39.9 11.3,36.7 14.1,32.9 11.1,30.7 9,28.5 7.8,26.4 6.6,24.4 6,22.1 6,19.5 c 0,-3 0.8,-5.7 2.3,-8.3 1.5,-2.5 3.8,-4.5 6.9,-6 3.1,-1.5 6.2,-2.2 9.4,-2.2 4.9,0 9.7,1.7 14.3,5.1 1.1,-1.2 2.2,-2.1 3.2,-2.9 1,-0.8 2.4,-1.5 4,-2.3 z M 30.7,10.2 c -2.6,-1.3 -5.2,-1.9 -7.8,-1.9 -2.7,0 -5.3,0.6 -7.8,1.8 -2.4,1.2 -4.2,2.8 -5.4,4.7 -1.2,1.9 -1.8,3.9 -1.8,5.9 0,4.2 2.3,8 6.9,11.3 L 25.2,17.7 c -1.6,-0.8 -2.9,-1.3 -4.2,-1.3 -1.7,0 -3.1,0.8 -4.2,2.4 -0.4,0.7 -1,0.5 -1.1,-0.2 0,-0.6 0.3,-1.5 1,-2.7 0.7,-1.1 1.6,-2.1 2.9,-2.8 1.3,-0.7 2.6,-1.1 4,-1.1 1.4,0 3.1,0.4 4.9,1.1 z m 4,3.2 C 34,12.4 32.8,11.5 32,11 L 18.4,29.4 h 16.7 z"),E(t,"class","logo svelte-qk0mgy"),E(t,"width","35"),E(t,"height","35"),E(t,"viewBox","-2 -1 55 55")},m(e,r){k(e,t,r),b(t,n),b(n,l),b(t,i)},d(e){e&&x(t)}}}(),un=e[12],fn=[];for(let t=0;t<un.length;t+=1)fn[t]=xt(kt(e,un,t));p=new Fe({props:{key:"shield"}}),m=new Le({props:{tip:"Shield or banner form. Some forms do not work well with auto-generated heralrdy",$$slots:{default:[qt]},$$scope:{ctx:e}}});let pn=e[17],hn=[];for(let t=0;t<pn.length;t+=1)hn[t]=_t(bt(e,pn,t));const mn=e=>pe(hn[e],1,1,(()=>{hn[e]=null}));B=new Fe({props:{key:"colors"}}),L=new Le({props:{tip:"Hue of tinctures and metals. Edit COA to change tincture or metal itself",$$slots:{default:[jt]},$$scope:{ctx:e}}});let gn=e[15],$n=[];for(let t=0;t<gn.length;t+=1)$n[t]=Bt(wt(e,gn,t));N=new Fe({props:{key:"grad"}}),J=new Le({props:{tip:"Gradient (overlay) style to be applied over coat of arms",$$slots:{default:[Mt]},$$scope:{ctx:e}}});let vn=e[16],yn=[];for(let t=0;t<vn.length;t+=1)yn[t]=St(yt(e,vn,t));ee=new Fe({props:{key:"diaper"}}),ne=new Le({props:{tip:"Diaper (subtle backing on coat of arms) style",$$slots:{default:[Et]},$$scope:{ctx:e}}});let wn="#333333"!==e[8]&&Ht(e);we=new Fe({props:{key:"border"}}),ze=new Le({props:{tip:"Border style for coat of arms",$$slots:{default:[It]},$$scope:{ctx:e}}});let bn=e[14],kn=[];for(let t=0;t<bn.length;t+=1)kn[t]=Pt(vt(e,bn,t));Se=new Fe({props:{key:"size"}}),He=new Le({props:{tip:"Gallery size",$$slots:{default:[At]},$$scope:{ctx:e}}}),De=new Le({props:{tip:"Select random color",$$slots:{default:[Tt]},$$scope:{ctx:e}}});let xn="#333333"!==e[6]&&Ft(e);Ue=new Fe({props:{key:"background"}}),Ze=new Le({props:{tip:"Background color",$$slots:{default:[Dt]},$$scope:{ctx:e}}}),rt=new Fe({props:{key:"scale"}}),st=new Le({props:{tip:"Downloaded image size, 1 is default size, 2 - 2x size, etc.",$$slots:{default:[Rt]},$$scope:{ctx:e}}});const qn=[Nt,Gt],zn=[];function Cn(e,t){return e[10]?0:1}at=Cn(e),dt=zn[at]=qn[at](e),pt=new Le({props:{tip:"Regenerate coat of arms. Hotkey: Enter",$$slots:{default:[Jt]},$$scope:{ctx:e}}}),gt=new Le({props:{tip:"Download png image. Set size in options. Hotkey: D",$$slots:{default:[Ut]},$$scope:{ctx:e}}}),Vt=new Le({props:{tip:"Upload raster charge (one color, quality loss on scale) from jpg, png or svg image",left:!0,$$slots:{default:[Wt]},$$scope:{ctx:e}}}),en=new Le({props:{tip:"Upload vector charge (multicolor and lossless scalable) from prepared svg",left:!0,$$slots:{default:[Zt]},$$scope:{ctx:e}}});let _n=e[11].edit&&Xt(e),jn=e[11].edit&&ln(e),Bn=(e[19]||!e[11].edit)&&on(e);return{c(){t=z("div"),n=z("ul"),dn&&dn.c(),l=j(),r=z("div"),o=z("bl"),o.textContent=""+e[20]("options"),s=j(),c=z("div"),a=z("div"),d=z("div");for(let e=0;e<fn.length;e+=1)fn[e].c();u=j(),f=z("bl"),ke(p.$$.fragment),h=j(),ke(m.$$.fragment),g=j(),$=z("div"),v=z("div");for(let e=0;e<hn.length;e+=1)hn[e].c();y=j(),w=z("bl"),ke(B.$$.fragment),S=j(),ke(L.$$.fragment),P=j(),A=z("div"),T=z("div"),O=z("bt"),O.textContent="No gradient",D=j();for(let e=0;e<$n.length;e+=1)$n[e].c();R=j(),G=z("bl"),ke(N.$$.fragment),K=j(),ke(J.$$.fragment),U=j(),W=z("div"),Z=z("div"),X=z("bt"),X.textContent="No pattern",V=j();for(let e=0;e<yn.length;e+=1)yn[e].c();Y=j(),Q=z("bl"),ke(ee.$$.fragment),te=j(),ke(ne.$$.fragment),le=j(),ie=z("div"),re=z("div"),oe=z("bl"),se=_("Color\n              "),wn&&wn.c(),ce=j(),ae=z("input"),he=j(),me=z("bl"),ge=_("Width\n              "),$e=z("input"),ve=j(),ye=z("bl"),ke(we.$$.fragment),be=j(),ke(ze.$$.fragment),Ce=j(),_e=z("div"),je=z("div");for(let e=0;e<kn.length;e+=1)kn[e].c();Be=j(),Me=z("bl"),ke(Se.$$.fragment),Ee=j(),ke(He.$$.fragment),Ie=j(),Pe=z("div"),Ae=z("div"),Te=z("bl"),Oe=_("Color\n              "),ke(De.$$.fragment),Re=j(),xn&&xn.c(),Ge=j(),Ne=z("input"),Ke=j(),Je=z("bl"),ke(Ue.$$.fragment),We=j(),ke(Ze.$$.fragment),Xe=j(),Ve=z("div"),Ye=z("div"),Qe=z("bl"),et=z("input"),tt=j(),nt=z("input"),lt=j(),it=z("bl"),ke(rt.$$.fragment),ot=j(),ke(st.$$.fragment),ct=j(),dt.c(),ut=j(),ft=z("bt"),ke(pt.$$.fragment),ht=j(),mt=z("bt"),ke(gt.$$.fragment),$t=j(),zt=z("div"),Ct=z("bl"),Ct.textContent=""+e[20]("upload"),Lt=j(),Ot=z("div"),Kt=z("bt"),ke(Vt.$$.fragment),Yt=j(),Qt=z("bt"),ke(en.$$.fragment),tn=j(),_n&&_n.c(),nn=j(),jn&&jn.c(),rn=j(),Bn&&Bn.c(),E(o,"class","svelte-qk0mgy"),E(d,"class","dropdown level2 columns3 iconed svelte-qk0mgy"),E(f,"class","svelte-qk0mgy"),E(a,"class","container svelte-qk0mgy"),E(v,"class","dropdown level2 svelte-qk0mgy"),E(w,"class","svelte-qk0mgy"),E($,"class","container svelte-qk0mgy"),E(O,"class","svelte-qk0mgy"),F(O,"selected",!e[2]),E(T,"class","dropdown level2 svelte-qk0mgy"),E(G,"class","svelte-qk0mgy"),E(A,"class","container svelte-qk0mgy"),E(X,"class","svelte-qk0mgy"),F(X,"selected",!e[3]),E(Z,"class","dropdown level2 svelte-qk0mgy"),E(Q,"class","svelte-qk0mgy"),E(W,"class","container svelte-qk0mgy"),E(ae,"type","color"),E(ae,"class","svelte-qk0mgy"),E(oe,"class","svelte-qk0mgy"),E($e,"class","right svelte-qk0mgy"),E($e,"type","number"),E($e,"min","0"),E($e,"max","4"),E($e,"step",".1"),E(me,"class","svelte-qk0mgy"),E(re,"class","dropdown level2 svelte-qk0mgy"),E(ye,"class","svelte-qk0mgy"),E(ie,"class","container svelte-qk0mgy"),E(je,"class","dropdown level2 svelte-qk0mgy"),E(Me,"class","svelte-qk0mgy"),E(_e,"class","container svelte-qk0mgy"),E(Ne,"type","color"),E(Ne,"class","svelte-qk0mgy"),E(Te,"class","svelte-qk0mgy"),E(Ae,"class","dropdown level2 svelte-qk0mgy"),E(Je,"class","svelte-qk0mgy"),E(Pe,"class","container svelte-qk0mgy"),E(et,"type","range"),E(et,"min","1"),E(et,"max","4"),E(et,"step",".1"),E(et,"class","svelte-qk0mgy"),E(nt,"type","number"),E(nt,"min","1"),E(nt,"max","4"),E(nt,"step",".1"),E(nt,"class","svelte-qk0mgy"),E(Qe,"class","wide svelte-qk0mgy"),E(Ye,"class","dropdown level2 svelte-qk0mgy"),E(it,"class","svelte-qk0mgy"),E(Ve,"class","container svelte-qk0mgy"),E(c,"class","dropdown level1 svelte-qk0mgy"),E(r,"class","container svelte-qk0mgy"),E(ft,"class","svelte-qk0mgy"),E(mt,"class","svelte-qk0mgy"),E(Ct,"class","svelte-qk0mgy"),E(Kt,"class","svelte-qk0mgy"),E(Qt,"class","svelte-qk0mgy"),E(Ot,"class","dropdown level1 svelte-qk0mgy"),E(zt,"class","container svelte-qk0mgy"),E(n,"class","svelte-qk0mgy"),E(t,"id","navbar")},m(i,x){k(i,t,x),b(t,n),dn&&dn.m(n,null),b(n,l),b(n,r),b(r,o),b(r,s),b(r,c),b(c,a),b(a,d);for(let e=0;e<fn.length;e+=1)fn[e].m(d,null);b(a,u),b(a,f),xe(p,f,null),b(f,h),xe(m,f,null),b(c,g),b(c,$),b($,v);for(let e=0;e<hn.length;e+=1)hn[e].m(v,null);b($,y),b($,w),xe(B,w,null),b(w,S),xe(L,w,null),b(c,P),b(c,A),b(A,T),b(T,O),b(T,D);for(let e=0;e<$n.length;e+=1)$n[e].m(T,null);b(A,R),b(A,G),xe(N,G,null),b(G,K),xe(J,G,null),b(c,U),b(c,W),b(W,Z),b(Z,X),b(Z,V);for(let e=0;e<yn.length;e+=1)yn[e].m(Z,null);b(W,Y),b(W,Q),xe(ee,Q,null),b(Q,te),xe(ne,Q,null),b(c,le),b(c,ie),b(ie,re),b(re,oe),b(oe,se),wn&&wn.m(oe,null),b(oe,ce),b(oe,ae),I(ae,e[8]),b(re,he),b(re,me),b(me,ge),b(me,$e),I($e,e[9]),b(ie,ve),b(ie,ye),xe(we,ye,null),b(ye,be),xe(ze,ye,null),b(c,Ce),b(c,_e),b(_e,je);for(let e=0;e<kn.length;e+=1)kn[e].m(je,null);b(_e,Be),b(_e,Me),xe(Se,Me,null),b(Me,Ee),xe(He,Me,null),b(c,Ie),b(c,Pe),b(Pe,Ae),b(Ae,Te),b(Te,Oe),xe(De,Te,null),b(Te,Re),xn&&xn.m(Te,null),b(Te,Ge),b(Te,Ne),I(Ne,e[6]),b(Pe,Ke),b(Pe,Je),xe(Ue,Je,null),b(Je,We),xe(Ze,Je,null),b(c,Xe),b(c,Ve),b(Ve,Ye),b(Ye,Qe),b(Qe,et),I(et,e[7]),b(Qe,tt),b(Qe,nt),I(nt,e[7]),b(Ve,lt),b(Ve,it),xe(rt,it,null),b(it,ot),xe(st,it,null),b(n,ct),zn[at].m(n,null),b(n,ut),b(n,ft),xe(pt,ft,null),b(n,ht),b(n,mt),xe(gt,mt,null),b(n,$t),b(n,zt),b(zt,Ct),b(zt,Lt),b(zt,Ot),b(Ot,Kt),xe(Vt,Kt,null),b(Ot,Yt),b(Ot,Qt),xe(en,Qt,null),b(n,tn),_n&&_n.m(n,null),b(n,nn),jn&&jn.m(n,null),b(n,rn),Bn&&Bn.m(n,null),sn=!0,cn||(an=[M(O,"click",e[25]),M(X,"click",e[27]),M(ae,"input",e[30]),M($e,"input",e[31]),M(Ne,"input",e[34]),M(et,"change",e[35]),M(et,"input",e[35]),M(nt,"input",e[36]),M(ft,"click",e[38]),M(mt,"click",e[39]),M(Kt,"click",e[40]),M(Qt,"click",e[41])],cn=!0)},p(e,t){if(12304&t[0]){let n;for(un=e[12],n=0;n<un.length;n+=1){const l=kt(e,un,n);fn[n]?fn[n].p(l,t):(fn[n]=xt(l),fn[n].c(),fn[n].m(d,null))}for(;n<fn.length;n+=1)fn[n].d(1);fn.length=un.length}const l={};if(8&t[2]&&(l.$$scope={dirty:t,ctx:e}),m.$set(l),393248&t[0]){let n;for(pn=e[17],n=0;n<pn.length;n+=1){const l=bt(e,pn,n);hn[n]?(hn[n].p(l,t),fe(hn[n],1)):(hn[n]=_t(l),hn[n].c(),fe(hn[n],1),hn[n].m(v,null))}for(de(),n=pn.length;n<hn.length;n+=1)mn(n);ue()}const i={};if(8&t[2]&&(i.$$scope={dirty:t,ctx:e}),L.$set(i),4&t[0]&&F(O,"selected",!e[2]),32772&t[0]){let n;for(gn=e[15],n=0;n<gn.length;n+=1){const l=wt(e,gn,n);$n[n]?$n[n].p(l,t):($n[n]=Bt(l),$n[n].c(),$n[n].m(T,null))}for(;n<$n.length;n+=1)$n[n].d(1);$n.length=gn.length}const r={};if(8&t[2]&&(r.$$scope={dirty:t,ctx:e}),J.$set(r),8&t[0]&&F(X,"selected",!e[3]),65544&t[0]){let n;for(vn=e[16],n=0;n<vn.length;n+=1){const l=yt(e,vn,n);yn[n]?yn[n].p(l,t):(yn[n]=St(l),yn[n].c(),yn[n].m(Z,null))}for(;n<yn.length;n+=1)yn[n].d(1);yn.length=vn.length}const o={};8&t[2]&&(o.$$scope={dirty:t,ctx:e}),ne.$set(o),"#333333"!==e[8]?wn?(wn.p(e,t),256&t[0]&&fe(wn,1)):(wn=Ht(e),wn.c(),fe(wn,1),wn.m(oe,ce)):wn&&(de(),pe(wn,1,1,(()=>{wn=null})),ue()),256&t[0]&&I(ae,e[8]),512&t[0]&&H($e.value)!==e[9]&&I($e,e[9]);const s={};if(8&t[2]&&(s.$$scope={dirty:t,ctx:e}),ze.$set(s),16386&t[0]){let n;for(bn=e[14],n=0;n<bn.length;n+=1){const l=vt(e,bn,n);kn[n]?kn[n].p(l,t):(kn[n]=Pt(l),kn[n].c(),kn[n].m(je,null))}for(;n<kn.length;n+=1)kn[n].d(1);kn.length=bn.length}const c={};8&t[2]&&(c.$$scope={dirty:t,ctx:e}),He.$set(c);const a={};8&t[2]&&(a.$$scope={dirty:t,ctx:e}),De.$set(a),"#333333"!==e[6]?xn?(xn.p(e,t),64&t[0]&&fe(xn,1)):(xn=Ft(e),xn.c(),fe(xn,1),xn.m(Te,Ge)):xn&&(de(),pe(xn,1,1,(()=>{xn=null})),ue()),64&t[0]&&I(Ne,e[6]);const u={};8&t[2]&&(u.$$scope={dirty:t,ctx:e}),Ze.$set(u),128&t[0]&&I(et,e[7]),128&t[0]&&H(nt.value)!==e[7]&&I(nt,e[7]);const f={};8&t[2]&&(f.$$scope={dirty:t,ctx:e}),st.$set(f);let p=at;at=Cn(e),at===p?zn[at].p(e,t):(de(),pe(zn[p],1,1,(()=>{zn[p]=null})),ue(),dt=zn[at],dt||(dt=zn[at]=qn[at](e),dt.c()),fe(dt,1),dt.m(n,ut));const h={};8&t[2]&&(h.$$scope={dirty:t,ctx:e}),pt.$set(h);const g={};8&t[2]&&(g.$$scope={dirty:t,ctx:e}),gt.$set(g);const $={};8&t[2]&&($.$$scope={dirty:t,ctx:e}),Vt.$set($);const y={};8&t[2]&&(y.$$scope={dirty:t,ctx:e}),en.$set(y),e[11].edit?_n?(_n.p(e,t),2048&t[0]&&fe(_n,1)):(_n=Xt(e),_n.c(),fe(_n,1),_n.m(n,nn)):_n&&(de(),pe(_n,1,1,(()=>{_n=null})),ue()),e[11].edit?jn?(jn.p(e,t),2048&t[0]&&fe(jn,1)):(jn=ln(e),jn.c(),fe(jn,1),jn.m(n,rn)):jn&&(de(),pe(jn,1,1,(()=>{jn=null})),ue()),e[19]||!e[11].edit?Bn?(Bn.p(e,t),2048&t[0]&&fe(Bn,1)):(Bn=on(e),Bn.c(),fe(Bn,1),Bn.m(n,null)):Bn&&(de(),pe(Bn,1,1,(()=>{Bn=null})),ue())},i(e){if(!sn){fe(p.$$.fragment,e),fe(m.$$.fragment,e);for(let e=0;e<pn.length;e+=1)fe(hn[e]);fe(B.$$.fragment,e),fe(L.$$.fragment,e),fe(N.$$.fragment,e),fe(J.$$.fragment,e),fe(ee.$$.fragment,e),fe(ne.$$.fragment,e),fe(wn),fe(we.$$.fragment,e),fe(ze.$$.fragment,e),fe(Se.$$.fragment,e),fe(He.$$.fragment,e),fe(De.$$.fragment,e),fe(xn),fe(Ue.$$.fragment,e),fe(Ze.$$.fragment,e),fe(rt.$$.fragment,e),fe(st.$$.fragment,e),fe(dt),fe(pt.$$.fragment,e),fe(gt.$$.fragment,e),fe(Vt.$$.fragment,e),fe(en.$$.fragment,e),fe(_n),fe(jn),fe(Bn),sn=!0}},o(e){pe(p.$$.fragment,e),pe(m.$$.fragment,e),hn=hn.filter(Boolean);for(let e=0;e<hn.length;e+=1)pe(hn[e]);pe(B.$$.fragment,e),pe(L.$$.fragment,e),pe(N.$$.fragment,e),pe(J.$$.fragment,e),pe(ee.$$.fragment,e),pe(ne.$$.fragment,e),pe(wn),pe(we.$$.fragment,e),pe(ze.$$.fragment,e),pe(Se.$$.fragment,e),pe(He.$$.fragment,e),pe(De.$$.fragment,e),pe(xn),pe(Ue.$$.fragment,e),pe(Ze.$$.fragment,e),pe(rt.$$.fragment,e),pe(st.$$.fragment,e),pe(dt),pe(pt.$$.fragment,e),pe(gt.$$.fragment,e),pe(Vt.$$.fragment,e),pe(en.$$.fragment,e),pe(_n),pe(jn),pe(Bn),sn=!1},d(e){e&&x(t),dn&&dn.d(),q(fn,e),qe(p),qe(m),q(hn,e),qe(B),qe(L),q($n,e),qe(N),qe(J),q(yn,e),qe(ee),qe(ne),wn&&wn.d(),qe(we),qe(ze),q(kn,e),qe(Se),qe(He),qe(De),xn&&xn.d(),qe(Ue),qe(Ze),qe(rt),qe(st),zn[at].d(),qe(pt),qe(gt),qe(Vt),qe(en),_n&&_n.d(),jn&&jn.d(),Bn&&Bn.d(),cn=!1,i(an)}}}function an(e,t,n){let l,i,r,o,s,c,d,u,f,p,m,g;a(e,ht,(e=>n(46,l=e))),a(e,Ye,(e=>n(1,i=e))),a(e,Qe,(e=>n(2,r=e))),a(e,et,(e=>n(3,o=e))),a(e,tt,(e=>n(4,s=e))),a(e,nt,(e=>n(5,c=e))),a(e,lt,(e=>n(6,d=e))),a(e,it,(e=>n(7,u=e))),a(e,rt,(e=>n(8,f=e))),a(e,ot,(e=>n(9,p=e))),a(e,ut,(e=>n(10,m=e))),a(e,ft,(e=>n(11,g=e)));const $=["heater","oldFrench","spanish","french","swiss","wedged","italian","round","renaissance","baroque","polish","german","diamond","kite","vesicaPiscis","square","flag","pennon","guidon","banner","dovetail","gonfalon","pennant","no"],v=$.map((e=>document.getElementById(e).innerHTML)),y=["argent","or","gules","sable","azure","vert","purpure"],w={argent:"#fafafa",or:"#ffe066",gules:"#d7374a",sable:"#333333",azure:"#377cd7",vert:"#26c061",purpure:"#522d5b"},b=window.innerWidth>600,k={options:"☰",rollback:"⭯",reroll:"⭮",download:"⇩",upload:"⇧",undo:"⤺",redo:"⤻",back:"⮪",about:"A"};const x=[];function q(e,t){x.includes(e)?localStorage.setItem(e,t):x.push(e)}let z;return e.$$.update=()=>{32768&e.$$.dirty[1]&&n(0,z=l[1]),2&e.$$.dirty[0]&&q("size",i),4&e.$$.dirty[0]&&q("grad",r),8&e.$$.dirty[0]&&q("diaper",o),16&e.$$.dirty[0]&&q("shield",s),32&e.$$.dirty[0]&&q("colors",JSON.stringify(c)),64&e.$$.dirty[0]&&q("background",d),128&e.$$.dirty[0]&&q("scale",u),256&e.$$.dirty[0]&&q("border",f),512&e.$$.dirty[0]&&q("borderWidth",p)},[z,i,r,o,s,c,d,u,f,p,m,g,$,v,[[80,"Giant"],[100,"Huge"],[150,"Large"],[200,"Medium"],[300,"Small"],[400,"Tiny"]],["luster","spotlight","backlight"],["nourse","tessellation","sennwald","sulzbach"],y,w,b,function(e){return b?e:k[e]||e},function(){h(lt,d="#"+[0,0,0,0,0,0].map((()=>"0123456789ABCDEF"[Math.floor(16*Math.random())])).join(""),d)},e=>h(tt,s=e,s),e=>h(nt,c[e]=w[e],c),function(e){c[e]=this.value,nt.set(c),n(17,y)},()=>h(Qe,r=null,r),e=>h(Qe,r=e,r),()=>h(et,o=null,o),e=>h(et,o=e,o),()=>h(rt,f="#333333",f),function(){f=this.value,rt.set(f)},function(){p=H(this.value),ot.set(p)},e=>h(Ye,i=e[0],i),()=>h(lt,d="#333333",d),function(){d=this.value,lt.set(d)},function(){u=H(this.value),it.set(u)},function(){u=H(this.value),it.set(u)},()=>h(ut,m-=1,m),()=>h(ut,m+=1,m),()=>$t(),()=>h(ft,g.raster=1,g),()=>h(ft,g.vector=1,g),()=>ht.undo(),()=>ht.redo(),()=>h(ft,g.edit=0,g),()=>h(ft,g.about=1,g)]}class dn extends _e{constructor(e){super(),Ce(this,e,an,cn,o,{},[-1,-1,-1])}}function un(t){let n,l,i,r,o,s,c,a,d,u,f,p,h,m,g,$,v,y;return{c(){n=C("svg"),l=C("g"),i=C("path"),o=C("path"),a=C("g"),d=C("rect"),f=C("path"),m=C("rect"),$=C("g"),v=C("path"),E(i,"stroke-width","1"),E(i,"d","M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z"),E(o,"d",s=t[7][t[6]][0]),E(d,"x","0"),E(d,"y","0"),E(d,"width","200"),E(d,"height","200"),E(d,"fill",u=t[2][t[4]]),E(f,"d",p=t[7][t[6]][1]),E(f,"fill",h=t[2][t[5]]),E(m,"x","0"),E(m,"y","0"),E(m,"width","200"),E(m,"height","200"),E(m,"fill","url(#nourse)"),E(a,"stroke","none"),E(l,"clip-path","url(#heater)"),E(l,"stroke","#fff"),E(l,"stroke-width",".5"),E(v,"d","M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z"),E($,"stroke","#000"),E($,"fill","url(#backlight)"),E(n,"width",t[1]),E(n,"height",t[1]),E(n,"viewBox","0 0 200 200")},m(e,t){k(e,n,t),b(n,l),b(l,i),b(l,o),b(l,a),b(a,d),b(a,f),b(a,m),b(n,$),b($,v)},p(e,[l]){t=e,4&l&&u!==(u=t[2][t[4]])&&E(d,"fill",u),4&l&&h!==(h=t[2][t[5]])&&E(f,"fill",h),2&l&&E(n,"width",t[1]),2&l&&E(n,"height",t[1])},i(e){r||Q((()=>{r=me(i,Ke,{duration:t[0]}),r.start()})),c||Q((()=>{c=me(o,Ke,{delay:t[0]}),c.start()})),g||Q((()=>{g=me(a,Re,{delay:t[3],duration:t[0]}),g.start()})),y||Q((()=>{y=me(v,Ke,{delay:t[3],duration:t[0]}),y.start()}))},o:e,d(e){e&&x(n)}}}function fn(e,t,n){let l;a(e,nt,(e=>n(2,l=e)));let{duration:i}=t;const r=2.6*i,o={argent:3,or:2},s={gules:5,sable:3,azure:4,vert:2,purpure:3},c=Math.random()>.5,d=We(c?o:s),u=We(c?s:o),f=We({perPale:2,perFess:2,perBend:2,perBendSinister:1,perCross:6,perChevron:1,perChevronReversed:1,perPile:2,perSaltire:5,gyronny:1,chevronny:1});let p=window.innerWidth<600?.9*window.innerWidth:500;return window.innerHeight<600&&(p*=.5),e.$$set=e=>{"duration"in e&&n(0,i=e.duration)},[i,p,l,r,d,u,f,{perPale:["M100,25 v175","M100,0 v200 h100 v-200 Z"],perFess:["M27.5,100 h145","M0,100 h200 v100 h-200 Z"],perBend:["M0,0 l200,200","M0,0 l200,200 h-200 Z"],perBendSinister:["M200,0 L0,200","M200,0 L0,200 h200 Z"],perCross:["M100,25 v175 M27.5,100 h145","M100,0 v200 h-100 v-100 h200 v-100 Z"],perChevron:["M0,0 l100,100 l100,-100","M0,0 l100,100 l100,-100 Z"],perChevronReversed:["M0,200 l100,-100 l100,100","M0,200 l100,-100 l100,100 Z"],perPile:["M15,0 l85,200 l85,-200","M15,0 l85,200 l85,-200 Z"],perSaltire:["M0,0 L200,200 M200,0 l-200,200","M0,0 L200,200 v-200 l-200,200 Z"],gyronny:["M0,0 l200,200 M200,100 h-200 M100,0 v200 M0,200 l200,-200","M0,0 l200,200 v-100 h-200 h-100 M100,0 v200, h-100 l200,-200 h-100"],chevronny:["","M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z"]}]}class pn extends _e{constructor(e){super(),Ce(this,e,fn,un,o,{duration:0})}}function hn(e){let t,n,l,i,r,o,s,c,a,d,u,f;return r=new pn({props:{duration:mn}}),{c(){t=z("div"),n=z("span"),n.textContent="×",l=j(),i=z("div"),ke(r.$$.fragment),o=j(),s=z("div"),s.innerHTML='<a target="_blank" href="https://discord.com/invite/X7E84HU" class="svelte-1nsdu3z"><span translate="no" class="svelte-1nsdu3z">Discord</span></a> \n      <a target="_blank" href="https://github.com/Azgaar/Armoria" class="svelte-1nsdu3z"><span translate="no" class="svelte-1nsdu3z">GitHub</span></a> \n      <a target="_blank" href="https://www.patreon.com/azgaar" class="svelte-1nsdu3z"><span translate="no" class="svelte-1nsdu3z">Patreon</span></a>',E(n,"class","close svelte-1nsdu3z"),E(s,"class","buttons svelte-1nsdu3z"),E(i,"id","aboutCont"),E(i,"class","svelte-1nsdu3z"),E(t,"id","about"),E(t,"class","svelte-1nsdu3z")},m(c,a){k(c,t,a),b(t,n),b(t,l),b(t,i),xe(r,i,null),b(i,o),b(i,s),d=!0,u||(f=M(n,"click",e[1]),u=!0)},p(t,[n]){e=t},i(e){d||(fe(r.$$.fragment,e),c||Q((()=>{c=me(s,Ge,{y:200,delay:mn,duration:mn}),c.start()})),Q((()=>{a||(a=ge(t,Re,{},!0)),a.run(1)})),d=!0)},o(e){pe(r.$$.fragment,e),a||(a=ge(t,Re,{},!1)),a.run(0),d=!1},d(e){e&&x(t),qe(r),e&&a&&a.end(),u=!1,f()}}}const mn=1e3;function gn(e,t,n){let l;a(e,ft,(e=>n(0,l=e)));return[l,()=>h(ft,l.about=0,l)]}class $n extends _e{constructor(e){super(),Ce(this,e,gn,hn,o,{})}}function vn(e,t,n){if(!c(ft).edit)return;const l=e.currentTarget,[i,r,o]=function(e){if(!e)return[0,0,0,0,0,1];const t=e.replace(/[a-z()]/g,"").replace(/[ ]/g,",").split(",");return[+t[0]||0,+t[1]||0,+t[2]||0,+t[3]||0,+t[4]||0,+t[5]||1]}(l.getAttribute("transform")),s=e.x,a=e.y,d=+l.closest("svg").getAttribute("width")/200;document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",$),document.removeEventListener("mousemove",v),document.removeEventListener("mousemove",y),document.body.style.cursor="auto",ht.add(JSON.stringify(n))}),{once:!0});const u=t.size||1,f=t.angle||0,p=-i*(Math.PI/180),h=Math.cos(p),m=Math.sin(p),g=c(st);function $(e){const n=r+(e.x-s)/d,i=o+(e.y-a)/d,c=n*h-i*m,u=n*m+i*h;t.x=Math.round(c/g)*g,t.y=Math.round(u/g)*g,l.setAttribute("transform",yn(t))}function v(e){const i=o+(e.y-a)/d;t.size=u+Math.round(i)/-100,l.setAttribute("transform",yn(t)),t.p&&ht.add(JSON.stringify(n))}function y(e){const n=r+(e.x-s)/d;let i=f+Math.round(n/1.8);i>180&&(i=i%180-180),i<-179&&(i=i%180+180),t.angle=i,l.setAttribute("transform",yn(t))}e.shiftKey?(document.addEventListener("mousemove",v),document.body.style.cursor="ns-resize"):e.ctrlKey||e.metaKey?(document.addEventListener("mousemove",y),document.body.style.cursor="ew-resize"):(document.addEventListener("mousemove",$),document.body.style.cursor="move")}function yn(e){if(!(e.x||e.y||e.angle||e.size))return null;const t=e.p?1:e.size;return`rotate(${e.angle||0}) translate(${e.x||0} ${e.y||0}) scale(${t||1})`}function wn(e){let t,n,l,i,r,o=function(e,t){if(!t)return document.getElementById(e)?.innerHTML;const n=document.getElementById(e),l=document.getElementById(t)?document.getElementById(t):document.getElementById("straight");return n.innerHTML.replace(/{line}/g,l.getAttribute("d")).replace(/dpath/g,"d")}(e[4].ordinary,e[4].line)+"";return{c(){t=C("g"),E(t,"class","ordinary"),E(t,"transform",n=yn(e[4])),E(t,"transform-origin","center"),E(t,"fill",l=e[2][e[3]])},m(n,l){k(n,t,l),t.innerHTML=o,i||(r=M(t,"mousedown",e[7]),i=!0)},p(e,n){12&n&&l!==(l=e[2][e[3]])&&E(t,"fill",l)},d(e){e&&x(t),i=!1,r()}}}function bn(e){let t,n,l,i,r,o;return{c(){t=C("g"),n=C("path"),E(n,"d",e[1]),E(n,"fill","none"),E(n,"stroke",l=e[2][e[3]]),E(n,"stroke-width","5%"),E(n,"transform","scale(.85)"),E(n,"transform-origin","center"),E(t,"class","ordinary"),E(t,"transform",i=yn(e[4])),E(t,"transform-origin","center")},m(l,i){k(l,t,i),b(t,n),r||(o=M(t,"mousedown",e[6]),r=!0)},p(e,t){2&t&&E(n,"d",e[1]),12&t&&l!==(l=e[2][e[3]])&&E(n,"stroke",l)},d(e){e&&x(t),r=!1,o()}}}function kn(e){let t,n,l,i,r,o;return{c(){t=C("g"),n=C("path"),E(n,"d",e[1]),E(n,"fill","none"),E(n,"stroke",l=e[2][e[3]]),E(n,"stroke-width","16.7%"),E(t,"class","ordinary"),E(t,"transform",i=yn(e[4])),E(t,"transform-origin","center")},m(l,i){k(l,t,i),b(t,n),r||(o=M(t,"mousedown",e[5]),r=!0)},p(e,t){2&t&&E(n,"d",e[1]),12&t&&l!==(l=e[2][e[3]])&&E(n,"stroke",l)},d(e){e&&x(t),r=!1,o()}}}function xn(t){let n;let l=function(e,t){return"bordure"===e[4].ordinary?kn:"orle"===e[4].ordinary?bn:wn}(t)(t);return{c(){l.c(),n=B()},m(e,t){l.m(e,t),k(e,n,t)},p(e,[t]){l.p(e,t)},i:e,o:e,d(e){l.d(e),e&&x(n)}}}function qn(e,t,n){let{coa:l}=t,{shieldPath:i}=t,{colors:r}=t,{t:o}=t;const s=l.ordinary;return e.$$set=e=>{"coa"in e&&n(0,l=e.coa),"shieldPath"in e&&n(1,i=e.shieldPath),"colors"in e&&n(2,r=e.colors),"t"in e&&n(3,o=e.t)},[l,i,r,o,s,function(e){vn(e,s,l)},function(e){vn(e,s,l)},function(e){vn(e,s,l)}]}class zn extends _e{constructor(e){super(),Ce(this,e,qn,xn,o,{coa:0,shieldPath:1,colors:2,t:3})}}const Cn={field:{metals:5,colours:7,patterns:2},division:{metals:5,colours:7,patterns:1},charge:{metals:2,colours:3},metals:{field:{argent:3,or:2},division:{argent:3,or:2},charge:{argent:1,or:2}},colours:{field:{gules:5,sable:3,azure:4,vert:2,purpure:3},division:{gules:5,sable:3,azure:4,vert:2,purpure:3},charge:{gules:7,sable:1,azure:5,vert:3,purpure:2}},patterns:{field:{semy:1,vair:2,vairInPale:1,vairEnPointe:2,ermine:2,chequy:4,lozengy:2,fusily:1,pally:4,barry:4,gemelles:1,bendy:3,bendySinister:2,palyBendy:1,pappellony:2,masoned:3,fretty:2},division:{semy:1,vair:3,vairInPale:2,vairEnPointe:3,ermine:4,chequy:3,lozengy:1,fusily:1,pally:5,barry:5,bendy:2,bendySinister:1,pappellony:1,masoned:3,fretty:1}}},_n=["a","b","c","d","e","f","g","h","i","kn","bh","df","pq","jo","lm","abc","def","ghi","adg","beh","cfi","jeo","jln","kmo","peq","lem","bhdf","jleh","behdf","acegi","bdefh","kenpq","abcpqh","abcdefgzi","ABCDEFGHIJKL"],jn={conventional:{e:20,abcdefgzi:3,beh:3,behdf:2,acegi:1,kn:3,bhdf:1,jeo:1,abc:3,jln:6,jlh:3,kmo:2,jleh:1,def:3,abcpqh:4,ABCDEFGHIJKL:1},complex:{e:40,beh:1,kn:1,jeo:1,abc:2,jln:7,jlh:2,def:1,abcpqh:1},divisions:{perPale:{e:15,pq:5,jo:2,jl:2,ABCDEFGHIJKL:1},perFess:{e:12,kn:4,jkl:2,gizgiz:1,jlh:3,kmo:1,ABCDEFGHIJKL:1},perBend:{e:5,lm:5,bcfdgh:1},perBendSinister:{e:1,jo:1},perCross:{e:4,jlmo:1,jj:1,jo:2,jl:1},perChevron:{e:1,jlh:1,dfk:1,dfkh:2,bdefh:1},perChevronReversed:{e:1,mok:2,dfh:2,dfkh:1,bdefh:1},perSaltire:{bhdf:8,e:3,abcdefgzi:1,bh:1,df:1,beh:1,behdf:1,ABCDEFGHIJKL:1},perPile:{ee:3,be:2,abceh:1,abcabc:1,jleh:1}},ordinariesOn:{pale:{ee:12,beh:10,kn:3,bb:1},fess:{ee:1,def:3},bar:{defdefdef:1},fessCotissed:{ee:1,def:3},fessDoubleCotissed:{ee:1,defdef:3},bend:{ee:2,jo:1,joe:1},bendSinister:{ee:1,lm:1,lem:4},bendlet:{joejoejoe:1},bendletSinister:{lemlemlem:1},bordure:{ABCDEFGHIJKL:1},chief:{abc:5,bb:1},quarter:{jjj:1},canton:{yyyy:1},cross:{eeee:1,behdfbehdf:3,behbehbeh:2},crossParted:{e:5,ee:1},saltire:{ee:5,jlemo:1},saltireParted:{e:5,ee:1},pall:{ee:1,acez:5,jlhh:3},pallReversed:{ee:1,bemo:5},pile:{bb:1},pileInBend:{eeee:1,eeoo:1},pileInBendSinister:{eeee:1,eemm:1}},ordinariesOff:{pale:{yy:1},fess:{abc:3,abcz:1},bar:{abc:2,abcgzi:1,jlh:5,bgi:2,ach:1},gemelle:{abc:1},bend:{cg:2,cc:1},bendSinister:{ai:2,aa:1},bendlet:{cg:2,cc:1},bendletSinister:{ai:2,aa:1},bordure:{e:4,jleh:2,kenken:1,peqpeq:1},orle:{e:4,jleh:1,kenken:1,peqpeq:1},chief:{emo:2,emoz:1,ez:2},terrace:{e:5,def:1,bdf:3},mount:{e:5,def:1,bdf:3},point:{e:2,def:1,bdf:3,acbdef:1},flaunches:{e:3,kn:1,beh:3},qyron:{bh:1},quarter:{e:1},canton:{e:5,beh:1,def:1,bdefh:1,kn:1},cross:{acgi:1},pall:{BCKFEILGbdmfo:1},pallReversed:{aczac:1},chevron:{ach:3,hh:1},chevronReversed:{bb:1},pile:{acdfgi:1,acac:1},pileInBend:{cg:1},pileInBendSinister:{ai:1},label:{defgzi:2,eh:3,defdefhmo:1,egiegi:1,pqn:5}},inescutcheonHeater:{e:3,jln:1},inescutcheonOldFrench:{e:3,jln:1},inescutcheonSpanish:{e:3,jln:1},mascle:{e:15,abcdefgzi:3,beh:3,bdefh:4,acegi:1,kn:3,joe:2,abc:3,jlh:8,jleh:1,df:3,abcpqh:4,pqe:3,eknpq:3},lionRampant:{e:10,def:2,abc:2,bdefh:1,kn:1,jlh:2,abcpqh:1},lionPassant:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},wolfPassant:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},"greyhoundСourant":{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},griffinRampant:{e:10,def:2,abc:2,bdefh:1,kn:1,jlh:2,abcpqh:1},griffinPassant:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1},boarRampant:{e:12,beh:1,kn:1,jln:2},eagle:{e:15,beh:1,kn:1,abc:1,jlh:2,def:2,pq:1},raven:{e:15,beh:1,kn:1,jeo:1,abc:3,jln:3,def:1},wyvern:{e:10,jln:1},garb:{e:1,def:3,abc:2,beh:1,kn:1,jln:3,jleh:1,abcpqh:1,joe:1,lme:1},crown:{e:10,abcdefgzi:1,beh:3,behdf:2,acegi:1,kn:1,pq:2,abc:1,jln:4,jleh:1,def:2,abcpqh:3},hand:{e:10,jln:2,kn:1,jeo:1,abc:2,pqe:1}},Bn={straight:40,wavy:8,engrailed:4,invecked:3,rayonne:3,embattled:1,raguly:1,urdy:1,dancetty:1,indented:2,dentilly:1,bevilled:1,angled:1,flechy:1,barby:1,enclavy:1,escartely:1,arched:2,archedReversed:1,nowy:1,nowyReversed:1,embattledGhibellin:1,embattledNotched:1,embattledGrady:1,dovetailedIndented:1,dovetailed:1,potenty:1,potentyDexter:1,potentySinister:1,nebuly:2,seaWaves:1,dragonTeeth:1,firTrees:1},Mn={variants:{perPale:5,perFess:5,perBend:2,perBendSinister:1,perChevron:1,perChevronReversed:1,perCross:5,perPile:1,perSaltire:1,gyronny:1,chevronny:1},perPale:Bn,perFess:Bn,perBend:Bn,perBendSinister:Bn,perChevron:Bn,perChevronReversed:Bn,perCross:{straight:20,wavy:5,engrailed:4,invecked:3,rayonne:1,embattled:1,raguly:1,urdy:1,indented:2,dentilly:1,bevilled:1,angled:1,embattledGhibellin:1,embattledGrady:1,dovetailedIndented:1,dovetailed:1,potenty:1,potentyDexter:1,potentySinister:1,nebuly:1},perPile:Bn},Sn={lined:{pale:7,fess:5,bend:3,bendSinister:2,chief:5,bar:2,gemelle:1,fessCotissed:1,fessDoubleCotissed:1,bendlet:2,bendletSinister:1,terrace:3,cross:6,crossParted:1,saltire:2,saltireParted:1},straight:{bordure:8,orle:4,mount:1,point:2,flaunches:1,gore:1,qyron:1,quarter:1,canton:2,pall:3,pallReversed:2,chevron:4,chevronReversed:3,pile:2,pileInBend:2,pileInBendSinister:1,piles:1,pilesInPoint:2,label:1}},En={types:{conventional:30,crosses:8,animals:3,birds:2,aquatic:1,seafaring:1,fantastic:3,plants:1,agriculture:1,arms:1,bodyparts:1,architecture:1,miscellaneous:3,inescutcheon:3,uploaded:0},single:{conventional:12,crosses:8,plants:2,animals:11,birds:4,aquatic:2,seafaring:2,fantastic:7,agriculture:1,arms:5,bodyparts:1,architecture:1,miscellaneous:8,inescutcheon:5,uploaded:0},semy:{conventional:12,crosses:3,plants:1},conventional:{lozenge:2,fusil:4,mascle:4,rustre:2,lozengeFaceted:3,lozengePloye:1,roundel:7,annulet:4,mullet:5,mulletPierced:1,mulletFaceted:1,mullet4:3,mullet6:4,mullet6Pierced:1,mullet6Faceted:1,mullet7:1,mullet8:1,mullet10:1,estoile:1,compassRose:1,billet:5,triangle:3,trianglePierced:1,goutte:4,heart:4,pique:2,"сarreau":1,trefle:2,fleurDeLis:6,sun:3,sunInSplendour:1,crescent:5,fountain:1,fountain:1},inescutcheon:{inescutcheonHeater:2,inescutcheonOldFrench:1,inescutcheonSpanish:4},crosses:{crossHummetty:15,crossVoided:1,crossPattee:3,crossPotent:2,crossClechy:3,crosslet:1,crossBottony:1,crossFleury:3,crossPatonce:1,crossPommy:1,crossGamma:1,crossArrowed:1,crossFitchy:1,crossCercelee:1,crossMoline:2,crossFourchy:1,crossAvellane:1,crossErminee:1,crossMaltese:3,crossCeltic:1,crossOccitan:1,crossSaltire:3,crossTau:1},animals:{lionRampant:4,lionPassant:1,wolfPassant:1,"greyhoundСourant":1,boarRampant:1,horseRampant:1,horseSalient:1,bullPassant:1,bullHeadCaboshed:1,deerHeadCaboshed:1},fantastic:{dragonPassant:3,wyvern:2,griffinPassant:1,griffinRampant:1,eagleTwoHeards:2,unicornRampant:1,pegasus:1,serpent:1},birds:{eagle:9,raven:2,cock:3,parrot:1,swan:2,swanErased:1,heron:1},plants:{cinquefoil:1,rose:1},aquatic:{escallop:5,pike:1,cancer:1},seafaring:{anchor:3,boat:1},agriculture:{garb:1},arms:{sword:5,hatchet:2,lochaberAxe:1,mallet:1},bodyparts:{hand:1},architecture:{tower:1,castle:1},miscellaneous:{crown:3,key:1,buckle:1,bugleHorn:1,horseshoe:3,stagsAttires:1,cowHorns:2,wing:1,wingSword:1,lute:1,harp:1,wheel:2},uploaded:{},natural:{fountain:"azure",garb:"or",raven:"sable"},sinister:["crossGamma","lionRampant","lionPassant","wolfPassant","greyhoundСourant","boarRampant","horseRampant","horseSalient","bullPassant","eagle","raven","cock","parrot","swan","swanErased","heron","pike","dragonPassant","wyvern","griffinPassant","griffinRampant","unicornRampant","pegasus","serpent","hatchet","lochaberAxe","hand","wing","wingSword","lute","harp"],reversed:["goutte","mullet","mullet7","crescent","crossTau","cancer","sword","hand","horseshoe"]},Hn={heater:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32.25,37.5],h:[0,50],i:[32.25,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-32.5,32.5],n:[0,42.5],o:[32.5,32.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.2,-20],E:[66.2,-20],J:[-55.5,26],F:[55.5,26],I:[-33,62],G:[33,62],H:[0,89.5]},oldFrench:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,45],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.2,-20],E:[66.2,-20],J:[-64,26],F:[64,26],I:[-45,62],G:[45,62],H:[0,91.5]},spanish:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,50],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.4,-20],E:[66.4,-20],J:[-66.4,26],F:[66.4,26],I:[-49,70],G:[49,70],H:[0,92]},french:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,65],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.4,-20],E:[66.4,-20],J:[-66.4,26],F:[66.4,26],I:[-65.4,70],G:[65.4,70],H:[0,89]},swiss:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32,37.5],h:[0,50],i:[32,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-32,32.5],n:[0,42.5],o:[32,32.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66],C:[22,-66],D:[66.2,-66.6],K:[-63,-20],E:[63,-20],J:[-50,26],F:[50,26],I:[-29,62],G:[29,62],H:[0,89.5]},wedged:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32.25,37.5],h:[0,50],i:[32.25,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-32.5,32.5],n:[0,42.5],o:[32.5,32.5],p:[-37.5,0],q:[37.5,0],A:[-66,-53],B:[-22,-72.5],C:[22,-72.5],D:[66,-53],K:[-62.6,-13],E:[62.6,-13],J:[-50,26],F:[50,26],I:[-27,62],G:[27,62],H:[0,87]},italian:{a:[-37.5,-50],b:[0,-50],c:[37.5,-50],d:[-43,0],e:[0,0],f:[43,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-48,-48],z:[0,60],j:[-35.5,-37.5],k:[0,-37.5],l:[35.5,-37.5],m:[-35.5,37.5],n:[0,50],o:[35.5,37.5],p:[-36.5,0],q:[36.5,0],A:[-48,-48],B:[-23,-78],C:[23,-78],D:[48,-48],K:[-59,-10],E:[59,-10],J:[-55,31],F:[55,31],I:[-36,68],G:[36,68],H:[0,85]},round:{a:[-40,-47.5],b:[0,-47.5],c:[40,-47.5],d:[-40,0],e:[0,0],f:[40,0],g:[-32.5,47.5],h:[0,47.5],i:[32.5,47.5],y:[-48,-48],z:[0,57.5],j:[-35.5,-35.5],k:[0,-37.5],l:[35.5,-35.5],m:[-35.5,35.5],n:[0,37.5],o:[35.5,35.5],p:[-36.5,0],q:[36.5,0],A:[-59,-48],B:[-23,-73],C:[23,-73],D:[59,-48],K:[-76,-10],E:[76,-10],J:[-70,31],F:[70,31],I:[-42,64],G:[42,64],H:[0,77]},renaissance:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-41.5,0],e:[0,0],f:[41.5,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-61,-55],B:[-23,-67],C:[23,-67],D:[61,-55],K:[-55,-11],E:[55,-11],J:[-65,31],F:[65,31],I:[-45,76],G:[45,76],H:[0,87]},baroque:{a:[-43.75,-45],b:[0,-50],c:[43.75,-45],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,60],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,50],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-65,-54.5],B:[-22,-65],C:[22,-65],D:[65,-54.5],K:[-58.5,-15],E:[58.5,-15],J:[-65,31],F:[66,31],I:[-35,73],G:[35,73],H:[0,89]},polish:{a:[-35,-50],b:[0,-50],c:[35,-50],d:[-40,0],e:[0,0],f:[40,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-50,-50],z:[0,65],j:[-27.5,-27.5],k:[0,-45],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,45],o:[27.5,27.5],p:[-32.5,0],q:[32.5,0],A:[-48,-52],B:[-23,-80],C:[23,-80],D:[48,-52],K:[-47,-10],E:[47,-10],J:[-62,32],F:[62,32],I:[-37,68],G:[37,68],H:[0,86]},german:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-40,0],e:[0,0],f:[40,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,60],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,50],o:[37.5,37.5],p:[-32.5,0],q:[32.5,0],A:[-55,-59],B:[-15,-59],C:[24,-79],D:[50,-58],K:[-40,-14],E:[51,-14],J:[-64,26],F:[62,26],I:[-46,66],G:[48,67],H:[0,83]},diamond:{a:[-32,-37],b:[0,-50],c:[32,-37],d:[-43,0],e:[0,0],f:[43,0],g:[-32,37],h:[0,50],i:[32,37],y:[-50,-50],z:[0,62],j:[-27.5,-27.5],k:[0,-37],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,42],o:[27.5,27.5],p:[-37,0],q:[37,0],A:[-43,-28],B:[-22,-56],C:[22,-56],D:[43,-28],K:[-63,0],E:[63,0],J:[-42,28],F:[42,28],I:[-22,56],G:[22,56],H:[0,83],L:[0,-82]},kite:{b:[0,-65],e:[0,-15],h:[0,35],z:[0,35],k:[0,-50],n:[0,20],p:[-20,-15],q:[20,-15],A:[-38,-52],B:[-29,-78],C:[29,-78],D:[38,-52],K:[-33,-20],E:[33,-20],J:[-25,11],F:[25,11],I:[-15,42],G:[15,42],H:[0,73],L:[0,-91]},vesicaPiscis:{a:[-32,-37],b:[0,-50],c:[32,-37],d:[-32,0],e:[0,0],f:[32,0],g:[-32,37],h:[0,50],i:[32,37],y:[-50,-50],z:[0,62],j:[-27.5,-27.5],k:[0,-37],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,42],o:[27.5,27.5],p:[-27.5,0],q:[27.5,0],A:[-45,-32],B:[-29,-63],C:[29,-63],D:[45,-32],K:[-50,0],E:[50,0],J:[-45,32],F:[45,32],I:[-29,63],G:[29,63],H:[0,89],L:[0,-89]},square:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],h:[0,50],i:[49.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-66.5,66.5],G:[66.5,66.5],H:[-22,66.5],L:[22,66.5]},flag:{a:[-60,-40],b:[0,-40],c:[60,-40],d:[-60,0],e:[0,0],f:[60,0],g:[-60,40],h:[0,40],i:[60,40],y:[-60,-42.5],z:[0,40],j:[-45,-30],k:[0,-30],l:[45,-30],m:[-45,30],n:[0,30],o:[45,30],p:[-45,0],q:[45,0],A:[-81,-51],B:[-27,-51],C:[27,-51],D:[81,-51],K:[-81,-17],E:[81,-17],J:[-81,17],F:[81,17],I:[-81,51],G:[81,51],H:[-27,51],L:[27,51]},pennon:{a:[-75,-40],d:[-75,0],e:[-25,0],f:[25,0],g:[-75,40],y:[-70,-42.5],j:[-60,-30],m:[-60,30],p:[-60,0],q:[5,0],A:[-81,-48],B:[-43,-36],C:[-4.5,-24],D:[33,-12],E:[72,0],F:[33,12],G:[-4.5,24],H:[-43,36],I:[-81,48],J:[-81,17],K:[-81,-17]},guidon:{a:[-60,-40],b:[0,-40],c:[60,-40],d:[-60,0],e:[0,0],g:[-60,40],h:[0,40],i:[60,40],y:[-60,-42.5],z:[0,40],j:[-45,-30],k:[0,-30],l:[45,-30],m:[-45,30],n:[0,30],o:[45,30],p:[-45,0],A:[-81,-51],B:[-27,-51],C:[27,-51],D:[78,-51],K:[-81,-17],E:[40.5,-17],J:[-81,17],F:[40.5,17],I:[-81,51],G:[78,51],H:[-27,51],L:[27,51]},banner:{a:[-50,-50],b:[0,-50],c:[50,-50],d:[-50,0],e:[0,0],f:[50,0],g:[-50,40],h:[0,40],i:[50,40],y:[-50,-50],z:[0,40],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,27.5],n:[0,27.5],o:[37.5,27.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-66.5,66.5],G:[66.5,66.5],H:[-25,75],L:[25,75]},dovetail:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],i:[49.75,50],y:[-50,-50],z:[0,40],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,32.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-16.5],E:[66.5,-16.5],J:[-66.5,34.5],F:[66.5,34.5],I:[-66.5,84.5],G:[66.5,84.5],H:[-25,64],L:[25,64]},gonfalon:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],h:[0,50],i:[49.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-40,63],G:[40,63],H:[0,88]},pennant:{a:[-45,-50],b:[0,-50],c:[45,-50],e:[0,0],h:[0,50],y:[-50,-50],z:[0,50],j:[-32.5,-37.5],k:[0,-37.5],l:[32.5,-37.5],n:[0,37.5],A:[-60,-76],B:[-22,-76],C:[22,-76],D:[60,-76],K:[-46,-38],E:[46,-38],J:[-31,0],F:[31,0],I:[-16,38],G:[16,38],H:[0,76]}};function Ln(e,t,n){const l=e.slice();return l[13]=t[n],l}function In(e){let t,n,l,i;return{c(){t=C("use"),E(t,"href",n="#"+e[1].charge),E(t,"transform",l=e[8](e[5],e[1],e[13])),E(t,"transform-origin","center"),E(t,"fill",i=e[3][e[4]])},m(e,n){k(e,t,n)},p(e,r){2&r&&n!==(n="#"+e[1].charge)&&E(t,"href",n),98&r&&l!==(l=e[8](e[5],e[1],e[13]))&&E(t,"transform",l),24&r&&i!==(i=e[3][e[4]])&&E(t,"fill",i)},d(e){e&&x(t)}}}function Pn(t){let n,l,i,r,o,s=t[6],c=[];for(let e=0;e<s.length;e+=1)c[e]=In(Ln(t,s,e));return{c(){n=C("g");for(let e=0;e<c.length;e+=1)c[e].c();E(n,"class","charge"),E(n,"i",t[2]),E(n,"charge",l=t[7](t[1].charge)),E(n,"transform",i=yn(t[1])),E(n,"transform-origin","center"),E(n,"stroke","#000")},m(e,l){k(e,n,l);for(let e=0;e<c.length;e+=1)c[e].m(n,null);r||(o=M(n,"mousedown",t[10]),r=!0)},p(e,[t]){if(378&t){let l;for(s=e[6],l=0;l<s.length;l+=1){const i=Ln(e,s,l);c[l]?c[l].p(i,t):(c[l]=In(i),c[l].c(),c[l].m(n,null))}for(;l<c.length;l+=1)c[l].d(1);c.length=s.length}4&t&&E(n,"i",e[2]),2&t&&l!==(l=e[7](e[1].charge))&&E(n,"charge",l),2&t&&i!==(i=yn(e[1]))&&E(n,"transform",i)},i:e,o:e,d(e){e&&x(n),q(c,e),r=!1,o()}}}function An(e,t,n){let l;a(e,mt,(e=>n(11,l=e)));let{coa:i}=t,{charge:r}=t,{i:o}=t,{shield:s}=t,{colors:c}=t,{t:d}=t;const u=document.getElementById("charges");let f,p;return e.$$set=e=>{"coa"in e&&n(0,i=e.coa),"charge"in e&&n(1,r=e.charge),"i"in e&&n(2,o=e.i),"shield"in e&&n(9,s=e.shield),"colors"in e&&n(3,c=e.colors),"t"in e&&n(4,d=e.t)},e.$$.update=()=>{512&e.$$.dirty&&n(5,f=Hn[s]||Hn.spanish),34&e.$$.dirty&&n(6,p=[...new Set(r.p)].filter((e=>f[e])))},[i,r,o,c,d,f,p,function(e){return l[e]||u.querySelector("#"+e)||(h(mt,l[e]=1,l),fetch("charges/"+e+".svg").then((e=>e.text())).then((e=>{const t=document.createElement("html");t.innerHTML=e,u.insertAdjacentHTML("beforeend",t.querySelector("g").outerHTML)}))),e},function(e,t,n){const[l,i]=e[n],r=t.size||1;return`translate(${l} ${i}) scale(${t.sinister||t.reversed?`${t.sinister?"-":""}${r}, ${t.reversed?"-":""}${r}`:r})`},s,function(e){vn(e,r,i)}]}class Tn extends _e{constructor(e){super(),Ce(this,e,An,Pn,o,{coa:0,charge:1,i:2,shield:9,colors:3,t:4})}}function Fn(e){let t,n,l,i,r,o,s;return{c(){t=C("pattern"),n=C("path"),l=j(),i=C("g"),r=C("rect"),E(n,"d","M 100 0 L 0 0 0 100"),E(n,"fill","none"),E(n,"stroke","#000"),E(n,"opacity",".2"),E(n,"stroke-width",".5"),E(t,"id","gridPattern"),E(t,"width",e[2]),E(t,"height",e[2]),E(t,"patternUnits","userSpaceOnUse"),E(r,"x","-200"),E(r,"y","-200"),E(r,"width","400"),E(r,"height","400"),E(r,"fill","url(#gridPattern)"),E(i,"id","grid"),P(i,"pointer-events","none"),E(i,"transform",e[0]),E(i,"transform-origin","center")},m(e,o){k(e,t,o),b(t,n),k(e,l,o),k(e,i,o),b(i,r),s=!0},p(e,n){(!s||4&n)&&E(t,"width",e[2]),(!s||4&n)&&E(t,"height",e[2]),(!s||1&n)&&E(i,"transform",e[0])},i(e){s||(e&&Q((()=>{o||(o=ge(i,Re,{},!0)),o.run(1)})),s=!0)},o(e){e&&(o||(o=ge(i,Re,{},!1)),o.run(0)),s=!1},d(e){e&&x(t),e&&x(l),e&&x(i),e&&o&&o.end()}}}function On(e){let t,n=e[1]&&Fn(e);return{c(){n&&n.c(),t=B()},m(e,l){n&&n.m(e,l),k(e,t,l)},p(e,[l]){e[1]?n?(n.p(e,l),2&l&&fe(n,1)):(n=Fn(e),n.c(),fe(n,1),n.m(t.parentNode,t)):n&&(de(),pe(n,1,1,(()=>{n=null})),ue())},i(e){fe(n)},o(e){pe(n)},d(e){n&&n.d(e),e&&x(t)}}}function Dn(e,t,n){let l,i,r,o;return a(e,ft,(e=>n(3,l=e))),a(e,ct,(e=>n(1,i=e))),a(e,st,(e=>n(2,r=e))),e.$$.update=()=>{8&e.$$.dirty&&n(0,o=l.transform||null)},[o,i,r]}class Rn extends _e{constructor(e){super(),Ce(this,e,Dn,On,o,{})}}function Gn(e,t,n){const l=e.slice();return l[3]=t[n],l}function Nn(e){let t,n,l,i,r,o=e[0],s=[];for(let t=0;t<o.length;t+=1)s[t]=Kn(Gn(e,o,t));return{c(){t=C("g"),n=C("g");for(let e=0;e<s.length;e+=1)s[e].c();E(n,"id","positions"),E(n,"transform","translate(100, 100)"),E(t,"transform",i=e[1].transform||null),E(t,"transform-origin","center")},m(e,l){k(e,t,l),b(t,n);for(let e=0;e<s.length;e+=1)s[e].m(n,null);r=!0},p(e,l){if(3&l){let t;for(o=e[0],t=0;t<o.length;t+=1){const i=Gn(e,o,t);s[t]?s[t].p(i,l):(s[t]=Kn(i),s[t].c(),s[t].m(n,null))}for(;t<s.length;t+=1)s[t].d(1);s.length=o.length}(!r||2&l&&i!==(i=e[1].transform||null))&&E(t,"transform",i)},i(e){r||(e&&Q((()=>{l||(l=ge(n,Re,{},!0)),l.run(1)})),r=!0)},o(e){e&&(l||(l=ge(n,Re,{},!1)),l.run(0)),r=!1},d(e){e&&x(t),q(s,e),e&&l&&l.end()}}}function Kn(e){let t,n,l,i,r,o,s,c,a,d,u=e[3][0]+"";return{c(){t=C("g"),n=C("circle"),r=C("text"),o=_(u),E(n,"cx",l=e[3][1][0]),E(n,"cy",i=e[3][1][1]),E(n,"r","3"),E(n,"class","svelte-126fbzm"),F(n,"active",e[1].positions.includes(e[3][0])),P(r,"dominant-baseline","central"),E(r,"x",s=e[3][1][0]),E(r,"y",c=e[3][1][1]),E(r,"class","svelte-126fbzm"),F(r,"active",e[1].positions.includes(e[3][0])),E(t,"id",a=e[3][0]),E(t,"class",d=p(Un(e[3][0]))+" svelte-126fbzm")},m(e,l){k(e,t,l),b(t,n),b(t,r),b(r,o)},p(e,f){1&f&&l!==(l=e[3][1][0])&&E(n,"cx",l),1&f&&i!==(i=e[3][1][1])&&E(n,"cy",i),3&f&&F(n,"active",e[1].positions.includes(e[3][0])),1&f&&u!==(u=e[3][0]+"")&&L(o,u),1&f&&s!==(s=e[3][1][0])&&E(r,"x",s),1&f&&c!==(c=e[3][1][1])&&E(r,"y",c),3&f&&F(r,"active",e[1].positions.includes(e[3][0])),1&f&&a!==(a=e[3][0])&&E(t,"id",a),1&f&&d!==(d=p(Un(e[3][0]))+" svelte-126fbzm")&&E(t,"class",d)},d(e){e&&x(t)}}}function Jn(e){let t,n=e[1].positions&&Nn(e);return{c(){n&&n.c(),t=B()},m(e,l){n&&n.m(e,l),k(e,t,l)},p(e,[l]){e[1].positions?n?(n.p(e,l),2&l&&fe(n,1)):(n=Nn(e),n.c(),fe(n,1),n.m(t.parentNode,t)):n&&(de(),pe(n,1,1,(()=>{n=null})),ue())},i(e){fe(n)},o(e){pe(n)},d(e){n&&n.d(e),e&&x(t)}}}function Un(e){return"abcdefghi".includes(e)?"green":"ABCDEFGHIJKL".includes(e)?"red":"zy".includes(e)?"yellow":"blue"}function Wn(e,t,n){let l,i,r;return a(e,tt,(e=>n(2,l=e))),a(e,ft,(e=>n(1,i=e))),e.$$.update=()=>{4&e.$$.dirty&&n(0,r=Hn[l]?Object.entries(Hn[l]):Object.entries(Hn.spanish))},[r,i]}class Zn extends _e{constructor(e){super(),Ce(this,e,Wn,Jn,o,{})}}function Xn(e,t,n){const l=e.slice();return l[26]=t[n],l[3]=n,l}function Vn(e,t,n){const l=e.slice();return l[26]=t[n],l[3]=n,l}function Yn(e,t,n){const l=e.slice();return l[26]=t[n],l[3]=n,l}function Qn(e){let t,n,l=function(e,t){if(!t)return document.getElementById(e)?.innerHTML;const n=document.getElementById(e),l=document.getElementById(t)?document.getElementById(t):document.getElementById("straight");return n.innerHTML.replace(/{line}/g,l.getAttribute("d")).replace(/dpath/g,"d")}(e[13].division,e[13].line)+"";return{c(){t=C("clipPath"),E(t,"id",n="divisionClip"+e[3])},m(e,n){k(e,t,n),t.innerHTML=l},p(e,l){8&l&&n!==(n="divisionClip"+e[3])&&E(t,"id",n)},d(e){e&&x(t)}}}function el(e){let t,n,l,i="counter"===e[12].divided&&function(e){let t,n;return t=new zn({props:{coa:e[0],shieldPath:e[5],colors:e[10],t:e[15]}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),32&n&&(l.shieldPath=e[5]),1024&n&&(l.colors=e[10]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}(e),r="field"===e[12].divided&&function(e){let t,n;return t=new zn({props:{coa:e[0],shieldPath:e[5],colors:e[10],t:e[12].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),32&n&&(l.shieldPath=e[5]),1024&n&&(l.colors=e[10]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}(e);return{c(){i&&i.c(),t=B(),r&&r.c(),n=B()},m(e,o){i&&i.m(e,o),k(e,t,o),r&&r.m(e,o),k(e,n,o),l=!0},p(e,t){"counter"===e[12].divided&&i.p(e,t),"field"===e[12].divided&&r.p(e,t)},i(e){l||(fe(i),fe(r),l=!0)},o(e){pe(i),pe(r),l=!1},d(e){i&&i.d(e),e&&x(t),r&&r.d(e),e&&x(n)}}}function tl(e){let t,n;return{c(){t=C("rect"),E(t,"class","diaper"),E(t,"x","0"),E(t,"y","0"),E(t,"width","200"),E(t,"height","200"),E(t,"fill",n="url(#"+e[6]+")"),P(t,"pointer-events","none")},m(e,n){k(e,t,n)},p(e,l){64&l&&n!==(n="url(#"+e[6]+")")&&E(t,"fill",n)},d(e){e&&x(t)}}}function nl(e){let t,n;return t=new Tn({props:{coa:e[0],charge:e[26],i:e[3],shield:e[4],colors:e[10],t:e[15]}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),16&n&&(l.shield=e[4]),1024&n&&(l.colors=e[10]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function ll(e){let t,n;return t=new Tn({props:{coa:e[0],charge:e[26],i:e[3],shield:e[4],colors:e[10],t:e[26].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),16&n&&(l.shield=e[4]),1024&n&&(l.colors=e[10]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function il(e){let t,n,l,i;const r=[ll,nl],o=[];return~(t=function(e,t){return"field"===e[26].layer?0:"counter"===e[26].layer?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),l=B()},m(e,n){~t&&o[t].m(e,n),k(e,l,n),i=!0},p(e,t){n&&n.p(e,t)},i(e){i||(fe(n),i=!0)},o(e){pe(n),i=!1},d(e){~t&&o[t].d(e),e&&x(l)}}}function rl(e){let t,n,l,i,r,o,s,c=e[12]?.divided&&function(e){let t,n,l,i="counter"===e[12].divided&&function(e){let t,n;return t=new zn({props:{coa:e[0],shieldPath:e[5],colors:e[10],t:e[0].t1}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),32&n&&(l.shieldPath=e[5]),1024&n&&(l.colors=e[10]),1&n&&(l.t=e[0].t1),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}(e),r="division"===e[12].divided&&function(e){let t,n;return t=new zn({props:{coa:e[0],shieldPath:e[5],colors:e[10],t:e[12].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),32&n&&(l.shieldPath=e[5]),1024&n&&(l.colors=e[10]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}(e);return{c(){i&&i.c(),t=B(),r&&r.c(),n=B()},m(e,o){i&&i.m(e,o),k(e,t,o),r&&r.m(e,o),k(e,n,o),l=!0},p(e,t){"counter"===e[12].divided&&i.p(e,t),"division"===e[12].divided&&r.p(e,t)},i(e){l||(fe(i),fe(r),l=!0)},o(e){pe(i),pe(r),l=!1},d(e){i&&i.d(e),e&&x(t),r&&r.d(e),e&&x(n)}}}(e),a="division"===e[7]&&ol(e),d=e[13]&&function(e){let t,n,l=e[14],i=[];for(let t=0;t<l.length;t+=1)i[t]=al(Vn(e,l,t));const r=e=>pe(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=B()},m(e,l){for(let t=0;t<i.length;t+=1)i[t].m(e,l);k(e,t,l),n=!0},p(e,n){if(17425&n){let o;for(l=e[14],o=0;o<l.length;o+=1){const r=Vn(e,l,o);i[o]?(i[o].p(r,n),fe(i[o],1)):(i[o]=al(r),i[o].c(),fe(i[o],1),i[o].m(t.parentNode,t))}for(de(),o=l.length;o<i.length;o+=1)r(o);ue()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)fe(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)pe(i[e]);n=!1},d(e){q(i,e),e&&x(t)}}}(e);return{c(){t=C("g"),n=C("rect"),c&&c.c(),i=B(),a&&a.c(),r=B(),d&&d.c(),E(n,"x","0"),E(n,"y","0"),E(n,"width","200"),E(n,"height","200"),E(n,"fill",l=e[10][e[15]]||e[17](e[15])),E(t,"id","division"),E(t,"clip-path",o="url(#divisionClip"+e[3]+")")},m(e,l){k(e,t,l),b(t,n),c&&c.m(t,null),b(t,i),a&&a.m(t,null),b(t,r),d&&d.m(t,null),s=!0},p(e,i){(!s||1024&i&&l!==(l=e[10][e[15]]||e[17](e[15])))&&E(n,"fill",l),e[12]?.divided&&c.p(e,i),"division"===e[7]?a?a.p(e,i):(a=ol(e),a.c(),a.m(t,r)):a&&(a.d(1),a=null),e[13]&&d.p(e,i),(!s||8&i&&o!==(o="url(#divisionClip"+e[3]+")"))&&E(t,"clip-path",o)},i(e){s||(fe(c),fe(d),s=!0)},o(e){pe(c),pe(d),s=!1},d(e){e&&x(t),c&&c.d(),a&&a.d(),d&&d.d()}}}function ol(e){let t,n;return{c(){t=C("rect"),E(t,"class","diaper"),E(t,"x","0"),E(t,"y","0"),E(t,"width","200"),E(t,"height","200"),E(t,"fill",n="url(#"+e[6]+")"),P(t,"pointer-events","none")},m(e,n){k(e,t,n)},p(e,l){64&l&&n!==(n="url(#"+e[6]+")")&&E(t,"fill",n)},d(e){e&&x(t)}}}function sl(e){let t,n;return t=new Tn({props:{coa:e[0],charge:e[26],i:e[3],shield:e[4],colors:e[10],t:e[0].t1}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),16&n&&(l.shield=e[4]),1024&n&&(l.colors=e[10]),1&n&&(l.t=e[0].t1),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function cl(e){let t,n;return t=new Tn({props:{coa:e[0],charge:e[26],i:e[3],shield:e[4],colors:e[10],t:e[26].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),16&n&&(l.shield=e[4]),1024&n&&(l.colors=e[10]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function al(e){let t,n,l,i;const r=[cl,sl],o=[];return~(t=function(e,t){return"division"===e[26].layer?0:"counter"===e[26].layer?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),l=B()},m(e,n){~t&&o[t].m(e,n),k(e,l,n),i=!0},p(e,t){n&&n.p(e,t)},i(e){i||(fe(n),i=!0)},o(e){pe(n),i=!1},d(e){~t&&o[t].d(e),e&&x(l)}}}function dl(e){let t,n;return{c(){t=C("rect"),E(t,"class","diaper"),E(t,"x","0"),E(t,"y","0"),E(t,"width","200"),E(t,"height","200"),E(t,"fill",n="url(#"+e[6]+")"),P(t,"pointer-events","none")},m(e,n){k(e,t,n)},p(e,l){64&l&&n!==(n="url(#"+e[6]+")")&&E(t,"fill",n)},d(e){e&&x(t)}}}function ul(e){let t,n,l=(!e[26].layer||!e[13])&&function(e){let t,n;return t=new Tn({props:{coa:e[0],charge:e[26],i:e[3],shield:e[4],colors:e[10],t:e[26].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),16&n&&(l.shield=e[4]),1024&n&&(l.colors=e[10]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}(e);return{c(){l&&l.c(),t=B()},m(e,i){l&&l.m(e,i),k(e,t,i),n=!0},p(e,t){e[26].layer&&e[13]||l.p(e,t)},i(e){n||(fe(l),n=!0)},o(e){pe(l),n=!1},d(e){l&&l.d(e),e&&x(t)}}}function fl(e){let t,n,l;return t=new Rn({}),n=new Zn({}),{c(){ke(t.$$.fragment),ke(n.$$.fragment)},m(e,i){xe(t,e,i),xe(n,e,i),l=!0},i(e){l||(fe(t.$$.fragment,e),fe(n.$$.fragment,e),l=!0)},o(e){pe(t.$$.fragment,e),pe(n.$$.fragment,e),l=!1},d(e){qe(t,e),qe(n,e)}}}function pl(e){let t,n,l,i,r,o,s,c,a,d,u,f,p,h,m,g,$,v,y,w=e[13]&&Qn(e),z=e[13]&&e[12]?.divided&&el(e),_="field"===e[7]&&tl(e),j=e[13]&&function(e){let t,n,l=e[14],i=[];for(let t=0;t<l.length;t+=1)i[t]=il(Yn(e,l,t));const r=e=>pe(i[e],1,1,(()=>{i[e]=null}));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();t=B()},m(e,l){for(let t=0;t<i.length;t+=1)i[t].m(e,l);k(e,t,l),n=!0},p(e,n){if(50193&n){let o;for(l=e[14],o=0;o<l.length;o+=1){const r=Yn(e,l,o);i[o]?(i[o].p(r,n),fe(i[o],1)):(i[o]=il(r),i[o].c(),fe(i[o],1),i[o].m(t.parentNode,t))}for(de(),o=l.length;o<i.length;o+=1)r(o);ue()}},i(e){if(!n){for(let e=0;e<l.length;e+=1)fe(i[e]);n=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)pe(i[e]);n=!1},d(e){q(i,e),e&&x(t)}}}(e),S=e[13]&&rl(e),H=e[12]&&!e[12].divided&&function(e){let t,n;return t=new zn({props:{coa:e[0],shieldPath:e[5],colors:e[10],t:e[12].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),32&n&&(l.shieldPath=e[5]),1024&n&&(l.colors=e[10]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}(e),L="overall"===e[7]&&dl(e),I=e[14],A=[];for(let t=0;t<I.length;t+=1)A[t]=ul(Xn(e,I,t));const T=e=>pe(A[e],1,1,(()=>{A[e]=null}));let F="Edit"===e[3]&&fl();return{c(){t=C("svg"),n=C("defs"),w&&w.c(),l=C("g"),i=C("rect"),z&&z.c(),o=B(),_&&_.c(),s=B(),j&&j.c(),c=B(),S&&S.c(),a=B(),H&&H.c(),d=B(),L&&L.c(),u=B();for(let e=0;e<A.length;e+=1)A[e].c();p=C("path"),F&&F.c(),E(i,"id","field"),E(i,"x","0"),E(i,"y","0"),E(i,"width","200"),E(i,"height","200"),E(i,"fill",r=e[10][e[0].t1]||e[17](e[0].t1)),E(l,"id","shield"),E(l,"clip-path",f="url(#"+e[4]+")"),E(p,"class","grad"),E(p,"d",e[5]),E(p,"fill",h="url(#"+e[9]+")"),E(p,"stroke",e[11]),E(p,"stroke-width",e[8]),P(p,"pointer-events","none"),E(t,"id",m="coa"+e[3]),E(t,"class","coa"),E(t,"xmlns","http://www.w3.org/2000/svg"),E(t,"width",e[1]),E(t,"height",e[2]),E(t,"viewBox",g=e[16][e[4]])},m(r,f){k(r,t,f),b(t,n),w&&w.m(n,null),b(t,l),b(l,i),z&&z.m(l,null),b(l,o),_&&_.m(l,null),b(l,s),j&&j.m(l,null),b(l,c),S&&S.m(l,null),b(l,a),H&&H.m(l,null),b(l,d),L&&L.m(l,null),b(l,u);for(let e=0;e<A.length;e+=1)A[e].m(l,null);b(t,p),F&&F.m(t,null),$=!0,v||(y=M(t,"click",e[18]),v=!0)},p(e,[n]){if(e[13]&&w.p(e,n),(!$||1025&n&&r!==(r=e[10][e[0].t1]||e[17](e[0].t1)))&&E(i,"fill",r),e[13]&&e[12]?.divided&&z.p(e,n),"field"===e[7]?_?_.p(e,n):(_=tl(e),_.c(),_.m(l,s)):_&&(_.d(1),_=null),e[13]&&j.p(e,n),e[13]&&S.p(e,n),e[12]&&!e[12].divided&&H.p(e,n),"overall"===e[7]?L?L.p(e,n):(L=dl(e),L.c(),L.m(l,u)):L&&(L.d(1),L=null),25617&n){let t;for(I=e[14],t=0;t<I.length;t+=1){const i=Xn(e,I,t);A[t]?(A[t].p(i,n),fe(A[t],1)):(A[t]=ul(i),A[t].c(),fe(A[t],1),A[t].m(l,null))}for(de(),t=I.length;t<A.length;t+=1)T(t);ue()}(!$||16&n&&f!==(f="url(#"+e[4]+")"))&&E(l,"clip-path",f),(!$||32&n)&&E(p,"d",e[5]),(!$||512&n&&h!==(h="url(#"+e[9]+")"))&&E(p,"fill",h),(!$||2048&n)&&E(p,"stroke",e[11]),(!$||256&n)&&E(p,"stroke-width",e[8]),"Edit"===e[3]?F?8&n&&fe(F,1):(F=fl(),F.c(),fe(F,1),F.m(t,null)):F&&(de(),pe(F,1,1,(()=>{F=null})),ue()),(!$||8&n&&m!==(m="coa"+e[3]))&&E(t,"id",m),(!$||2&n)&&E(t,"width",e[1]),(!$||4&n)&&E(t,"height",e[2]),(!$||16&n&&g!==(g=e[16][e[4]]))&&E(t,"viewBox",g)},i(e){if(!$){fe(z),fe(j),fe(S),fe(H);for(let e=0;e<I.length;e+=1)fe(A[e]);fe(F),$=!0}},o(e){pe(z),pe(j),pe(S),pe(H),A=A.filter(Boolean);for(let e=0;e<A.length;e+=1)pe(A[e]);pe(F),$=!1},d(e){e&&x(t),w&&w.d(),z&&z.d(),_&&_.d(),j&&j.d(),S&&S.d(),H&&H.d(),L&&L.d(),q(A,e),F&&F.d(),v=!1,y()}}}function hl(e,t,n){let l,i,r,o,s,c,d;a(e,tt,(e=>n(19,l=e))),a(e,et,(e=>n(20,i=e))),a(e,ot,(e=>n(21,r=e))),a(e,Qe,(e=>n(22,o=e))),a(e,nt,(e=>n(23,s=e))),a(e,gt,(e=>n(24,c=e))),a(e,rt,(e=>n(11,d=e)));let{coa:u}=t,{i:f}=t,{w:p}=t,{h:m}=t;const{ordinary:g,division:$,charges:v=[]}=u,y=$?$.t:"";let w,b,k,x,q,z,C;return e.$$set=e=>{"coa"in e&&n(0,u=e.coa),"i"in e&&n(3,f=e.i),"w"in e&&n(1,p=e.w),"h"in e&&n(2,m=e.h)},e.$$.update=()=>{524289&e.$$.dirty&&n(4,w=u.shield||l),16&e.$$.dirty&&n(5,b=document.querySelector(`#defs g#shields > #${w} > path`).getAttribute("d")),1048577&e.$$.dirty&&n(6,k=u.diaper||i),64&e.$$.dirty&&n(7,x=k?function(){const e=!u.t1.includes("-"),t=!y.includes("-");return e&&t?"overall":e?"field":t?"division":null}():null),2097152&e.$$.dirty&&n(8,q=r),4194305&e.$$.dirty&&n(9,z=u.grad||o),8388608&e.$$.dirty&&n(10,C=s)},[u,p,m,f,w,b,k,x,q,z,C,d,g,$,v,y,{no:"0 0 200 200",heater:"0 10 200 200",oldFrench:"0 10 200 200",spanish:"0 10 200 200",french:"0 10 200 200",swiss:"0 10 200 200",wedged:"0 10 200 200",italian:"0 0 200 200",kite:"0 0 200 200",renaissance:"0 0 200 200",baroque:"0 10 200 200",polish:"0 0 200 200",german:"0 0 200 200",diamond:"0 0 200 200",round:"0 0 200 200",vesicaPiscis:"0 0 200 200",square:"0 0 200 200",flag:"0 0 200 200",pennon:"2.5 0 200 200",guidon:"2.5 0 200 200",banner:"0 10 200 200",dovetail:"0 10 200 200",gonfalon:"0 10 200 200",pennant:"0 0 200 200"},function(e){return C[e]?C[e]:(h(gt,c[c.length]=e,c),"url(#"+e+")")},()=>console.log(u)]}class ml extends _e{constructor(e){super(),Ce(this,e,hl,pl,o,{coa:0,i:3,w:1,h:2})}}function gl(e,t,n){const l=e.slice();return l[15]=t[n],l[11]=n,l}function $l(e,t,n){const l=e.slice();return l[15]=t[n],l[11]=n,l}function vl(e,t,n){const l=e.slice();return l[15]=t[n],l[11]=n,l}function yl(t){let n,l,i=function(e,t){if(!t)return document.getElementById(e)?.innerHTML;const n=document.getElementById(e),l=document.getElementById(t)?document.getElementById(t):document.getElementById("straight");return n.innerHTML.replace(/{line}/g,l.getAttribute("d")).replace(/dpath/g,"d")}(t[7].division,t[7].line)+"";return{c(){n=C("clipPath"),E(n,"id",l="divisionClipMenu"+t[11])},m(e,t){k(e,n,t),n.innerHTML=i},p:e,d(e){e&&x(n)}}}function wl(e){let t,n,l,i="counter"===e[3].divided&&bl(e),r="field"===e[3].divided&&kl(e);return{c(){i&&i.c(),t=B(),r&&r.c(),n=B()},m(e,o){i&&i.m(e,o),k(e,t,o),r&&r.m(e,o),k(e,n,o),l=!0},p(e,l){"counter"===e[3].divided?i?(i.p(e,l),8&l&&fe(i,1)):(i=bl(e),i.c(),fe(i,1),i.m(t.parentNode,t)):i&&(de(),pe(i,1,1,(()=>{i=null})),ue()),"field"===e[3].divided?r?(r.p(e,l),8&l&&fe(r,1)):(r=kl(e),r.c(),fe(r,1),r.m(n.parentNode,n)):r&&(de(),pe(r,1,1,(()=>{r=null})),ue())},i(e){l||(fe(i),fe(r),l=!0)},o(e){pe(i),pe(r),l=!1},d(e){i&&i.d(e),e&&x(t),r&&r.d(e),e&&x(n)}}}function bl(e){let t,n;return t=new zn({props:{coa:e[0],shieldPath:e[5],colors:e[6],t:e[9]}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),32&n&&(l.shieldPath=e[5]),64&n&&(l.colors=e[6]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function kl(e){let t,n;return t=new zn({props:{coa:e[0],shieldPath:e[5],colors:e[6],t:e[3].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),32&n&&(l.shieldPath=e[5]),64&n&&(l.colors=e[6]),8&n&&(l.t=e[3].t),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function xl(e){let t,n;return t=new Tn({props:{coa:e[0],charge:e[15],i:e[11],shield:e[4],colors:e[6],t:e[9]}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),16&n&&(l.shield=e[4]),64&n&&(l.colors=e[6]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function ql(e){let t,n;return t=new Tn({props:{coa:e[0],charge:e[15],i:e[11],shield:e[4],colors:e[6],t:e[15].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),16&n&&(l.shield=e[4]),64&n&&(l.colors=e[6]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function zl(e){let t,n,l,i;const r=[ql,xl],o=[];return~(t=function(e,t){return"field"===e[15].layer?0:"counter"===e[15].layer&&e[7]?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),l=B()},m(e,n){~t&&o[t].m(e,n),k(e,l,n),i=!0},p(e,t){n&&n.p(e,t)},i(e){i||(fe(n),i=!0)},o(e){pe(n),i=!1},d(e){~t&&o[t].d(e),e&&x(l)}}}function Cl(e){let t,n,l,i="counter"===e[3].divided&&_l(e),r="division"===e[3].divided&&jl(e);return{c(){i&&i.c(),t=B(),r&&r.c(),n=B()},m(e,o){i&&i.m(e,o),k(e,t,o),r&&r.m(e,o),k(e,n,o),l=!0},p(e,l){"counter"===e[3].divided?i?(i.p(e,l),8&l&&fe(i,1)):(i=_l(e),i.c(),fe(i,1),i.m(t.parentNode,t)):i&&(de(),pe(i,1,1,(()=>{i=null})),ue()),"division"===e[3].divided?r?(r.p(e,l),8&l&&fe(r,1)):(r=jl(e),r.c(),fe(r,1),r.m(n.parentNode,n)):r&&(de(),pe(r,1,1,(()=>{r=null})),ue())},i(e){l||(fe(i),fe(r),l=!0)},o(e){pe(i),pe(r),l=!1},d(e){i&&i.d(e),e&&x(t),r&&r.d(e),e&&x(n)}}}function _l(e){let t,n;return t=new zn({props:{coa:e[0],shieldPath:e[5],colors:e[6],t:e[0].t1}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),32&n&&(l.shieldPath=e[5]),64&n&&(l.colors=e[6]),1&n&&(l.t=e[0].t1),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function jl(e){let t,n;return t=new zn({props:{coa:e[0],shieldPath:e[5],colors:e[6],t:e[3].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),32&n&&(l.shieldPath=e[5]),64&n&&(l.colors=e[6]),8&n&&(l.t=e[3].t),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Bl(e){let t,n;return t=new Tn({props:{coa:e[0],charge:e[15],i:e[11],shield:e[4],colors:e[6],t:e[0].t1}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),16&n&&(l.shield=e[4]),64&n&&(l.colors=e[6]),1&n&&(l.t=e[0].t1),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Ml(e){let t,n;return t=new Tn({props:{coa:e[0],charge:e[15],i:e[11],shield:e[4],colors:e[6],t:e[15].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),16&n&&(l.shield=e[4]),64&n&&(l.colors=e[6]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Sl(e){let t,n,l,i;const r=[Ml,Bl],o=[];return~(t=function(e,t){return"division"===e[15].layer?0:"counter"===e[15].layer?1:-1}(e))&&(n=o[t]=r[t](e)),{c(){n&&n.c(),l=B()},m(e,n){~t&&o[t].m(e,n),k(e,l,n),i=!0},p(e,t){n&&n.p(e,t)},i(e){i||(fe(n),i=!0)},o(e){pe(n),i=!1},d(e){~t&&o[t].d(e),e&&x(l)}}}function El(e){let t,n;return t=new zn({props:{coa:e[0],shieldPath:e[5],colors:e[6],t:e[3].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),32&n&&(l.shieldPath=e[5]),64&n&&(l.colors=e[6]),8&n&&(l.t=e[3].t),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Hl(e){let t,n,l=!e[15].layer&&function(e){let t,n;return t=new Tn({props:{coa:e[0],charge:e[15],i:e[11],shield:e[4],colors:e[6],t:e[15].t}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n&&(l.coa=e[0]),16&n&&(l.shield=e[4]),64&n&&(l.colors=e[6]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}(e);return{c(){l&&l.c(),t=B()},m(e,i){l&&l.m(e,i),k(e,t,i),n=!0},p(e,t){e[15].layer||l.p(e,t)},i(e){n||(fe(l),n=!0)},o(e){pe(l),n=!1},d(e){l&&l.d(e),e&&x(t)}}}function Ll(e){let t,n,l,i,r,o,s,c,a,d,u,f,p,h,m=e[7]&&"no"!==e[7].division&&yl(e),g=e[7]&&e[3]?.divided&&wl(e),$=e[8],v=[];for(let t=0;t<$.length;t+=1)v[t]=zl(vl(e,$,t));const y=e=>pe(v[e],1,1,(()=>{v[e]=null}));let w=e[7]&&"no"!==e[7].division&&function(e){let t,n,l,i,r,o,s=e[3]?.divided&&Cl(e),c=e[8],a=[];for(let t=0;t<c.length;t+=1)a[t]=Sl($l(e,c,t));const d=e=>pe(a[e],1,1,(()=>{a[e]=null}));return{c(){t=C("g"),n=C("rect"),s&&s.c(),i=B();for(let e=0;e<a.length;e+=1)a[e].c();E(n,"x","0"),E(n,"y","0"),E(n,"width","200"),E(n,"height","200"),E(n,"fill",l=e[6][e[9]]||e[10](e[9])),E(t,"id","division"),E(t,"clip-path",r="url(#divisionClipMenu"+e[11]+")")},m(e,l){k(e,t,l),b(t,n),s&&s.m(t,null),b(t,i);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0},p(e,r){if((!o||64&r&&l!==(l=e[6][e[9]]||e[10](e[9])))&&E(n,"fill",l),e[3]?.divided?s?(s.p(e,r),8&r&&fe(s,1)):(s=Cl(e),s.c(),fe(s,1),s.m(t,i)):s&&(de(),pe(s,1,1,(()=>{s=null})),ue()),337&r){let n;for(c=e[8],n=0;n<c.length;n+=1){const l=$l(e,c,n);a[n]?(a[n].p(l,r),fe(a[n],1)):(a[n]=Sl(l),a[n].c(),fe(a[n],1),a[n].m(t,null))}for(de(),n=c.length;n<a.length;n+=1)d(n);ue()}},i(e){if(!o){fe(s);for(let e=0;e<c.length;e+=1)fe(a[e]);o=!0}},o(e){pe(s),a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)pe(a[e]);o=!1},d(e){e&&x(t),s&&s.d(),q(a,e)}}}(e),z=e[3]&&!e[3].divided&&El(e),j=e[8],M=[];for(let t=0;t<j.length;t+=1)M[t]=Hl(gl(e,j,t));const S=e=>pe(M[e],1,1,(()=>{M[e]=null}));return{c(){t=C("svg"),n=C("title"),l=_(e[1]),i=C("defs"),m&&m.c(),r=C("g"),o=C("rect"),g&&g.c(),c=B();for(let e=0;e<v.length;e+=1)v[e].c();a=B(),w&&w.c(),d=B(),z&&z.c(),u=B();for(let e=0;e<M.length;e+=1)M[e].c();p=C("path"),E(o,"id","field"),E(o,"x","0"),E(o,"y","0"),E(o,"width","200"),E(o,"height","200"),E(o,"fill",s=e[6][e[0].t1]||e[10](e[0].t1)),E(r,"id","shield"),E(r,"clip-path",f="url(#"+e[4]+")"),E(p,"d",e[5]),E(p,"fill","url(#spotlight)"),E(p,"stroke","#333"),E(p,"stroke-width","2"),E(t,"class","menuItem"),E(t,"xmlns","http://www.w3.org/2000/svg"),E(t,"width",e[2]),E(t,"height",e[2]),E(t,"viewBox","0 0 200 200")},m(e,s){k(e,t,s),b(t,n),b(n,l),b(t,i),m&&m.m(i,null),b(t,r),b(r,o),g&&g.m(r,null),b(r,c);for(let e=0;e<v.length;e+=1)v[e].m(r,null);b(r,a),w&&w.m(r,null),b(r,d),z&&z.m(r,null),b(r,u);for(let e=0;e<M.length;e+=1)M[e].m(r,null);b(t,p),h=!0},p(e,[n]){if((!h||2&n)&&L(l,e[1]),e[7]&&"no"!==e[7].division&&m.p(e,n),(!h||65&n&&s!==(s=e[6][e[0].t1]||e[10](e[0].t1)))&&E(o,"fill",s),e[7]&&e[3]?.divided?g?(g.p(e,n),8&n&&fe(g,1)):(g=wl(e),g.c(),fe(g,1),g.m(r,c)):g&&(de(),pe(g,1,1,(()=>{g=null})),ue()),977&n){let t;for($=e[8],t=0;t<$.length;t+=1){const l=vl(e,$,t);v[t]?(v[t].p(l,n),fe(v[t],1)):(v[t]=zl(l),v[t].c(),fe(v[t],1),v[t].m(r,a))}for(de(),t=$.length;t<v.length;t+=1)y(t);ue()}if(e[7]&&"no"!==e[7].division&&w.p(e,n),e[3]&&!e[3].divided?z?(z.p(e,n),8&n&&fe(z,1)):(z=El(e),z.c(),fe(z,1),z.m(r,u)):z&&(de(),pe(z,1,1,(()=>{z=null})),ue()),337&n){let t;for(j=e[8],t=0;t<j.length;t+=1){const l=gl(e,j,t);M[t]?(M[t].p(l,n),fe(M[t],1)):(M[t]=Hl(l),M[t].c(),fe(M[t],1),M[t].m(r,null))}for(de(),t=j.length;t<M.length;t+=1)S(t);ue()}(!h||16&n&&f!==(f="url(#"+e[4]+")"))&&E(r,"clip-path",f),(!h||32&n)&&E(p,"d",e[5]),(!h||4&n)&&E(t,"width",e[2]),(!h||4&n)&&E(t,"height",e[2])},i(e){if(!h){fe(g);for(let e=0;e<$.length;e+=1)fe(v[e]);fe(w),fe(z);for(let e=0;e<j.length;e+=1)fe(M[e]);h=!0}},o(e){pe(g),v=v.filter(Boolean);for(let e=0;e<v.length;e+=1)pe(v[e]);pe(w),pe(z),M=M.filter(Boolean);for(let e=0;e<M.length;e+=1)pe(M[e]);h=!1},d(e){e&&x(t),m&&m.d(),g&&g.d(),q(v,e),w&&w.d(),z&&z.d(),q(M,e)}}}function Il(e,t,n){let l,i,r;a(e,tt,(e=>n(12,l=e))),a(e,nt,(e=>n(13,i=e))),a(e,gt,(e=>n(14,r=e)));let{coa:o}=t,{title:s}=t,{itemSize:c}=t,{ordinary:d,division:u,charges:f=[]}=o;"no"===d?.ordinary&&(d=null);let p,m,g,$=u?u.t:"",v=Math.floor(1e6*Math.random());return e.$$set=e=>{"coa"in e&&n(0,o=e.coa),"title"in e&&n(1,s=e.title),"itemSize"in e&&n(2,c=e.itemSize)},e.$$.update=()=>{4097&e.$$.dirty&&n(4,p=o.shield||l),16&e.$$.dirty&&n(5,m=document.querySelector(`#defs g#shields > #${p} > path`).getAttribute("d")),8192&e.$$.dirty&&n(6,g=i)},[o,s,c,d,p,m,g,u,f,$,function(e){return g[e]?g[e]:(h(gt,r[r.length]=e,r),"url(#"+e+")")},v]}class Pl extends _e{constructor(e){super(),Ce(this,e,Il,Ll,o,{coa:0,title:1,itemSize:2})}}function Al(t){let n,l,o,s,c,a,d;return{c(){n=_("Type:\n"),l=z("select"),o=z("option"),o.textContent="Tincture",s=z("option"),s.textContent="Pattern",c=z("option"),c.textContent="Semy",o.__value="tincture",o.value=o.__value,s.__value="pattern",s.value=s.__value,c.__value="semy",c.value=c.__value,void 0===t[0]&&Q((()=>t[2].call(l)))},m(e,i){k(e,n,i),k(e,l,i),b(l,o),b(l,s),b(l,c),A(l,t[0]),a||(d=[M(l,"change",t[2]),M(l,"input",(function(){r(t[1])&&t[1].apply(this,arguments)}))],a=!0)},p(e,[n]){t=e,1&n&&A(l,t[0])},i:e,o:e,d(e){e&&x(n),e&&x(l),a=!1,i(d)}}}function Tl(e,t,n){let{type:l}=t,{updateSection:i}=t;return e.$$set=e=>{"type"in e&&n(0,l=e.type),"updateSection"in e&&n(1,i=e.updateSection)},[l,i,function(){l=T(this),n(0,l)}]}class Fl extends _e{constructor(e){super(),Ce(this,e,Tl,Al,o,{type:0,updateSection:1})}}function Ol(t){let n,l,i,r,o,s,c,a,d,u;return{c(){n=z("span"),n.textContent="Size:",l=j(),i=z("select"),r=z("option"),r.textContent="Big",o=z("option"),o.textContent="Standard",s=z("option"),s.textContent="Small",c=z("option"),c.textContent="Smaller",a=z("option"),a.textContent="Smallest",P(n,"margin-left","1em"),r.__value="big",r.value=r.__value,o.__value="standard",o.value=o.__value,s.__value="small",s.value=s.__value,c.__value="smaller",c.value=c.__value,a.__value="smallest",a.value=a.__value,void 0===t[0]&&Q((()=>t[1].call(i)))},m(e,f){k(e,n,f),k(e,l,f),k(e,i,f),b(i,r),b(i,o),b(i,s),b(i,c),b(i,a),A(i,t[0]),d||(u=M(i,"change",t[1]),d=!0)},p(e,[t]){1&t&&A(i,e[0])},i:e,o:e,d(e){e&&x(n),e&&x(l),e&&x(i),d=!1,u()}}}function Dl(e,t,n){let{size:l}=t;return e.$$set=e=>{"size"in e&&n(0,l=e.size)},[l,function(){l=T(this),n(0,l)}]}class Rl extends _e{constructor(e){super(),Ce(this,e,Dl,Ol,o,{size:0})}}function Gl(e,t,n){const l=e.slice();return l[5]=t[n],l}function Nl(e){let t,n,l,i,r,o;function s(...t){return e[4](e[5],...t)}return n=new Pl({props:{coa:e[5],title:e[3](e[5].t1),itemSize:e[1]}}),{c(){t=z("div"),ke(n.$$.fragment),l=j(),E(t,"class","item"),F(t,"selected",e[0]===e[5].t1)},m(e,c){k(e,t,c),xe(n,t,null),b(t,l),i=!0,r||(o=M(t,"click",s),r=!0)},p(l,i){e=l;const r={};2&i&&(r.itemSize=e[1]),n.$set(r),5&i&&F(t,"selected",e[0]===e[5].t1)},i(e){i||(fe(n.$$.fragment,e),i=!0)},o(e){pe(n.$$.fragment,e),i=!1},d(e){e&&x(t),qe(n),r=!1,o()}}}function Kl(e){let t,n,l,i,r=e[2],o=[];for(let t=0;t<r.length;t+=1)o[t]=Nl(Gl(e,r,t));const s=e=>pe(o[e],1,1,(()=>{o[e]=null}));return{c(){t=z("div"),t.textContent="Tincture:",n=j();for(let e=0;e<o.length;e+=1)o[e].c();l=B()},m(e,r){k(e,t,r),k(e,n,r);for(let t=0;t<o.length;t+=1)o[t].m(e,r);k(e,l,r),i=!0},p(e,[t]){if(15&t){let n;for(r=e[2],n=0;n<r.length;n+=1){const i=Gl(e,r,n);o[n]?(o[n].p(i,t),fe(o[n],1)):(o[n]=Nl(i),o[n].c(),fe(o[n],1),o[n].m(l.parentNode,l))}for(de(),n=r.length;n<o.length;n+=1)s(n);ue()}},i(e){if(!i){for(let e=0;e<r.length;e+=1)fe(o[e]);i=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)pe(o[e]);i=!1},d(e){e&&x(t),e&&x(n),q(o,e),e&&x(l)}}}function Jl(e,t,n){let{t1:l}=t,{itemSize:i}=t;const r=["argent","or","gules","sable","azure","vert","purpure"].map((e=>new Object({t1:e})));return e.$$set=e=>{"t1"in e&&n(0,l=e.t1),"itemSize"in e&&n(1,i=e.itemSize)},[l,i,r,e=>e.charAt(0).toUpperCase()+e.slice(1),e=>n(0,l=e.t1)]}class Ul extends _e{constructor(e){super(),Ce(this,e,Jl,Kl,o,{t1:0,itemSize:1})}}function Wl(t){let n,l,i,r,o,s,c;return{c(){n=z("div"),l=z("input"),i=j(),r=z("label"),o=_("Switch"),E(l,"id",t[1]),E(l,"class","switch-input svelte-1iy0slw"),E(l,"type","checkbox"),E(r,"for",t[1]),E(r,"class","switch-label svelte-1iy0slw"),E(n,"class","switch svelte-1iy0slw")},m(e,a){k(e,n,a),b(n,l),l.checked=t[0],b(n,i),b(n,r),b(r,o),s||(c=M(l,"change",t[2]),s=!0)},p(e,[t]){1&t&&(l.checked=e[0])},i:e,o:e,d(e){e&&x(n),s=!1,c()}}}function Zl(e,t,n){let{checked:l=!1}=t;const i="switch"+Math.floor(1e6*Math.random());return e.$$set=e=>{"checked"in e&&n(0,l=e.checked)},[l,i,function(){l=this.checked,n(0,l)}]}class Xl extends _e{constructor(e){super(),Ce(this,e,Zl,Wl,o,{checked:0})}}function Vl(e){let t;return{c(){t=_("Size:")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Yl(e){let t;return{c(){t=z("span"),t.textContent="Rotation:",P(t,"margin-left","1em")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function Ql(e){let t;return{c(){t=z("span"),t.textContent="Shift:",P(t,"margin-left","1em")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function ei(e){let t;return{c(){t=z("span"),t.textContent="Step:",P(t,"margin-left","1em")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function ti(e){let t,n,l,r,o,s,c,a,d,u,f,p,h,m,g,$,v,y,w,b,q,C,_,B;function S(t){e[9].call(null,t)}t=new Le({props:{tip:"Element size",$$slots:{default:[Vl]},$$scope:{ctx:e}}}),s=new Le({props:{tip:"Element rotation",$$slots:{default:[Yl]},$$scope:{ctx:e}}}),u=new Le({props:{tip:"Element shift",$$slots:{default:[Ql]},$$scope:{ctx:e}}}),$=new Le({props:{tip:"Grid size: define position shift and drag step",$$slots:{default:[ei]},$$scope:{ctx:e}}});let L={};return void 0!==e[2]&&(L.checked=e[2]),b=new Xl({props:L}),W.push((()=>be(b,"checked",S))),{c(){ke(t.$$.fragment),n=j(),l=z("input"),o=j(),ke(s.$$.fragment),c=j(),a=z("input"),d=j(),ke(u.$$.fragment),f=j(),p=z("input"),h=j(),m=z("input"),g=j(),ke($.$$.fragment),v=j(),y=z("input"),w=j(),ke(b.$$.fragment),E(l,"type","number"),E(l,"min","1"),E(l,"max","500"),E(l,"step","1"),l.value=r=100*e[0].size|0,E(l,"class","svelte-17wdl8q"),P(a,"margin-left","1em"),E(a,"type","number"),E(a,"min","-180"),E(a,"max","180"),E(a,"class","svelte-17wdl8q"),E(p,"type","number"),E(p,"min","-100"),E(p,"max","100"),E(p,"step",e[1]),E(p,"class","svelte-17wdl8q"),E(m,"type","number"),E(m,"min","-100"),E(m,"max","100"),E(m,"step",e[1]),E(m,"class","svelte-17wdl8q"),E(y,"type","number"),E(y,"min","1"),E(y,"max","50"),E(y,"class","svelte-17wdl8q")},m(i,r){xe(t,i,r),k(i,n,r),k(i,l,r),k(i,o,r),xe(s,i,r),k(i,c,r),k(i,a,r),I(a,e[0].angle),k(i,d,r),xe(u,i,r),k(i,f,r),k(i,p,r),I(p,e[0].x),k(i,h,r),k(i,m,r),I(m,e[0].y),k(i,g,r),xe($,i,r),k(i,v,r),k(i,y,r),I(y,e[1]),k(i,w,r),xe(b,i,r),C=!0,_||(B=[M(l,"input",e[4]),M(a,"input",e[5]),M(a,"change",e[3]),M(p,"input",e[6]),M(m,"input",e[7]),M(y,"input",e[8])],_=!0)},p(e,[n]){const i={};2048&n&&(i.$$scope={dirty:n,ctx:e}),t.$set(i),(!C||1&n&&r!==(r=100*e[0].size|0))&&(l.value=r);const o={};2048&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o),1&n&&H(a.value)!==e[0].angle&&I(a,e[0].angle);const c={};2048&n&&(c.$$scope={dirty:n,ctx:e}),u.$set(c),(!C||2&n)&&E(p,"step",e[1]),1&n&&H(p.value)!==e[0].x&&I(p,e[0].x),(!C||2&n)&&E(m,"step",e[1]),1&n&&H(m.value)!==e[0].y&&I(m,e[0].y);const d={};2048&n&&(d.$$scope={dirty:n,ctx:e}),$.$set(d),2&n&&H(y.value)!==e[1]&&I(y,e[1]);const f={};!q&&4&n&&(q=!0,f.checked=e[2],ee((()=>q=!1))),b.$set(f)},i(e){C||(fe(t.$$.fragment,e),fe(s.$$.fragment,e),fe(u.$$.fragment,e),fe($.$$.fragment,e),fe(b.$$.fragment,e),C=!0)},o(e){pe(t.$$.fragment,e),pe(s.$$.fragment,e),pe(u.$$.fragment,e),pe($.$$.fragment,e),pe(b.$$.fragment,e),C=!1},d(e){qe(t,e),e&&x(n),e&&x(l),e&&x(o),qe(s,e),e&&x(c),e&&x(a),e&&x(d),qe(u,e),e&&x(f),e&&x(p),e&&x(h),e&&x(m),e&&x(g),qe($,e),e&&x(v),e&&x(y),e&&x(w),qe(b,e),_=!1,i(B)}}}function ni(e,t,n){let l,i,r;a(e,ft,(e=>n(10,l=e))),a(e,st,(e=>n(1,i=e))),a(e,ct,(e=>n(2,r=e)));let{e:o}=t;return e.$$set=e=>{"e"in e&&n(0,o=e.e)},[o,i,r,function(){h(ft,l.transform=`rotate(${o.angle||0})`,l)},function(){n(0,o.size=this.value/100,o)},function(){o.angle=H(this.value),n(0,o)},function(){o.x=H(this.value),n(0,o)},function(){o.y=H(this.value),n(0,o)},function(){i=H(this.value),st.set(i)},function(e){r=e,ct.set(r)}]}class li extends _e{constructor(e){super(),Ce(this,e,ni,ti,o,{e:0})}}function ii(e){let t,n,l=e[1]&&ri(e),i=e[1]+1<e[0].length&&oi(e);return{c(){l&&l.c(),t=j(),i&&i.c(),n=B()},m(e,r){l&&l.m(e,r),k(e,t,r),i&&i.m(e,r),k(e,n,r)},p(e,r){e[1]?l?l.p(e,r):(l=ri(e),l.c(),l.m(t.parentNode,t)):l&&(l.d(1),l=null),e[1]+1<e[0].length?i?i.p(e,r):(i=oi(e),i.c(),i.m(n.parentNode,n)):i&&(i.d(1),i=null)},d(e){l&&l.d(e),e&&x(t),i&&i.d(e),e&&x(n)}}}function ri(t){let n,l,i;return{c(){n=z("b"),n.textContent="🠗",E(n,"title","Move charge down"),E(n,"class","svelte-1lm7r0h")},m(e,r){k(e,n,r),l||(i=M(n,"click",t[5]),l=!0)},p:e,d(e){e&&x(n),l=!1,i()}}}function oi(t){let n,l,i;return{c(){n=z("b"),n.textContent="🠕",E(n,"title","Move charge up"),E(n,"class","svelte-1lm7r0h")},m(e,r){k(e,n,r),l||(i=M(n,"click",t[4]),l=!0)},p:e,d(e){e&&x(n),l=!1,i()}}}function si(t){let n,l,r,o,s,c,a,d=t[0].length>1&&ii(t);return{c(){n=z("b"),n.textContent="✖",l=j(),r=z("b"),r.textContent="🗗",o=j(),d&&d.c(),s=B(),E(n,"title","Remove charge"),E(n,"class","svelte-1lm7r0h"),E(r,"title","Copy charge"),E(r,"class","svelte-1lm7r0h")},m(e,i){k(e,n,i),k(e,l,i),k(e,r,i),k(e,o,i),d&&d.m(e,i),k(e,s,i),c||(a=[M(n,"click",t[2]),M(r,"click",t[3])],c=!0)},p(e,[t]){e[0].length>1?d?d.p(e,t):(d=ii(e),d.c(),d.m(s.parentNode,s)):d&&(d.d(1),d=null)},i:e,o:e,d(e){e&&x(n),e&&x(l),e&&x(r),e&&x(o),d&&d.d(e),e&&x(s),c=!1,i(a)}}}function ci(e,t,n){let{els:l}=t,{el:i}=t,{i:r}=t;return e.$$set=e=>{"els"in e&&n(0,l=e.els),"el"in e&&n(6,i=e.el),"i"in e&&n(1,r=e.i)},[l,r,()=>n(0,l=l.filter(((e,t)=>t!==r))),()=>n(0,l=[...l,JSON.parse(JSON.stringify(i))]),()=>n(0,[l[r],l[r+1]]=[l[r+1],l[r]],l),()=>n(0,[l[r],l[r-1]]=[l[r-1],l[r]],l),i]}class ai extends _e{constructor(e){super(),Ce(this,e,ci,si,o,{els:0,el:6,i:1})}}const di=function(e=Math.floor(1e9*Math.random())){Math.seedrandom(e),Cn.f=[],Cn.pattern=null;const t={seed:e,t1:fi("field")};let n=!!Ze(Cn.pattern?.5:.9);const l=n&&Ze(.3)||Ze(.5)?We(Sn.lined):null,i=!n&&Ze(.6)||Ze(.3)?l||We(Sn.straight):null,r=Ze(["chief","terrace","chevron","quarter","flaunches"].includes(i)||n&&i?.03:n?.3:i?.7:.995),o=r?We(Mn.variants):null,s=()=>n=We(i||r?En[We(En.types)]:En[We(En.single)]);if(n&&s(),o){const e=fi("division",Cn.f,Ze(.98)?t.t1:null);t.division={division:o,t:e},Mn[o]&&(t.division.line=Cn.pattern||i&&Ze(.7)?"straight":We(Mn[o]))}if(i&&(t.ordinary={ordinary:i,t:fi("charge",Cn.f,t.t1)},l&&(t.ordinary.line=Cn.pattern||o&&Ze(.7)?"straight":We(Bn)),o&&!n&&!Cn.pattern&&Ze(.5)&&"bordure"!==i&&"orle"!==i&&(Ze(.8)?t.ordinary.divided="counter":Ze(.6)?t.ordinary.divided="field":t.ordinary.divided="division")),n){let e="e",l="gules",r=t.ordinary?.t;if(jn.ordinariesOn[i]&&Ze(.8)){for(e=We(jn.ordinariesOn[i]);En.natural[n]===r;)s();l=!Cn.pattern&&Ze(.3)?t.t1:fi("charge",[],r,n)}else if(jn.ordinariesOff[i]&&Ze(.95)){for(e=We(jn.ordinariesOff[i]);En.natural[n]===t.t1;)s();l=!Cn.pattern&&Ze(.3)?r:fi("charge",Cn.f,t.t1,n)}else if(jn.divisions[o]){for(e=We(jn.divisions[o]);En.natural[n]===t.t1;)s();l=fi("charge",r?Cn.f.concat(r):Cn.f,t.t1,n)}else if(jn[n]){for(e=We(jn[n]);En.natural[n]===t.t1;)s();l=fi("charge",Cn.f,t.t1,n)}else{for(e=Cn.pattern?"e":En.conventional[n]?We(jn.conventional):We(jn.complex);En.natural[n]===t.t1;)s();l=fi("charge",Cn.f.concat(r),t.t1,n)}if(En.natural[n]&&(l=En.natural[n]),t.charges=[{charge:n,t:l,p:e}],"ABCDEFGHIKL"===e&&Ze(.95))t.charges[0].charge=We(En.conventional),t.charges.push({charge:We(En[We(En.single)]),t:fi("charge",Cn.f,t.t1,n),p:"e"});else if(Ze(.8)&&"inescutcheon"===n.slice(0,12))t.charges.push({charge:We(En[We(En.types)]),t:fi("charge",[],l,n),p:e,size:.5});else if(o&&!i){const l=!(Cn.pattern||t.line&&"straight"!==t.line);if(Ze(.3)&&["perPale","perFess"].includes(o)&&"straight"===t.line){if(t.charges[0].layer="field",Ze(.95)){const l="e"===e||Ze(.5)?"e":We(jn.divisions[o]);t.charges.push({charge:We(En[We(En.single)]),t:fi("charge",Cn.f,t.t3,n),p:l,layer:"division"})}}else if(l&&Ze(.4))t.charges[0].layer="counter";else if(["perPale","perFess","perBend","perBendSinister"].includes(o)){const[e,l]="perPale"===o?["pp","qq"]:"perFess"===o?["kk","nn"]:"perBend"===o?["ll","mm"]:["jj","oo"];t.charges[0].p=e,t.charges.push({charge:We(En[We(En.single)]),t:fi("charge",Cn.f,t.t3,n),p:l})}else l&&e.length>1&&(t.charges[0].layer="counter")}t.charges.forEach((e=>function(e){e.size=(e.size||1)*ui(e.p,i),e.p=[...new Set(e.p)].join(""),Ze(.05)&&En.sinister.includes(e.charge)&&(e.sinister=1);Ze(.05)&&En.reversed.includes(e.charge)&&(e.reversed=1)}(e)))}return t},ui=(e,t)=>"e"!==e||"bordure"!==t&&"orle"!==t?"e"===e?1.5:["p","q","pp","qq","pq","kn","n","n","kk","nn","oo","jj"].includes(e)||"jln"===e||"jlh"===e?.7:"abcpqh"===e?.5:e.length>10?.18:e.length>7?.3:e.length>4?.4:.5:1.1;function fi(e,t=[],n,l){l&&Cn[l]&&(e=l);const i=n?n.includes("-")?n.split("-")[1]:n:null;let r=We(Cn[e]);"patterns"!==r&&i&&(r="metals"===hi(i)?"colours":"metals"),"metals"===r&&t.includes("or")&&t.includes("argent")&&(r="colours");let o=We(Cn[r][e]);for(;o===i||t.includes(o);)o=We(Cn[r][e]);return"patterns"!==r&&"charge"!==e&&Cn.f.push(o),"patterns"===r&&(Cn.pattern=o,o=function(e,t,n=""){let l=null,i=null;Ze(.15)?n="-small":Ze(.05)?n="-smaller":Ze(.035)?n="-big":Ze(.001)&&(n="-smallest");Ze(.5)&&["vair","vairInPale","vairEnPointe"].includes(e)?(l="azure",i="argent"):Ze(.8)&&"ermine"===e?(l="argent",i="sable"):"pappellony"===e?Ze(.2)?(l="gules",i="or"):Ze(.2)?(l="argent",i="sable"):Ze(.2)&&(l="azure",i="argent"):"masoned"===e?Ze(.3)?(l="gules",i="argent"):Ze(.3)?(l="argent",i="sable"):Ze(.1)&&(l="or",i="sable"):"fretty"===e?"sable"===i||Ze(.35)?(l="argent",i="gules"):Ze(.25)?(l="sable",i="or"):Ze(.15)&&(l="gules",i="argent"):"semy"===e&&(e+="_of_"+We(En[We(En.semy)]));if(!l||!i){const e=Ze(.7);l=We(e?Cn.metals[t]:Cn.colours[t]),i=We(e?Cn.colours[t]:Cn.metals[t])}"division"===t&&(Cn.f.includes(l)&&(l=pi(l)),Cn.f.includes(i)&&(i=pi(i)));return Cn.f.push(l,i),`${e}-${l}-${i}${n}`}(o,e)),o}function pi(e,t){if("or"===e)return"argent";if("argent"===e)return"or";const n=hi(e);for(;!t||t===e;)t=We(Cn[n].division);return t}function hi(e){const t=e.includes("-")?e.split("-")[1]:e;return"argent"===t||"or"===t?"metals":"colours"}function mi(e,t,n){const l=e.slice();return l[70]=t[n],l}function gi(e,t,n){const l=e.slice();return l[0]=t[n],l}function $i(e,t,n){const l=e.slice();return l[75]=t[n],l}function vi(e,t,n){const l=e.slice();return l[67]=t[n],l[68]=t,l[69]=n,l}function yi(e,t,n){const l=e.slice();return l[0]=t[n],l}function wi(e,t,n){const l=e.slice();return l[0]=t[n],l}function bi(e,t,n){const l=e.slice();return l[0]=t[n],l}function ki(e,t,n){const l=e.slice();return l[75]=t[n],l}function xi(e,t,n){const l=e.slice();return l[0]=t[n],l}function qi(e,t,n){const l=e.slice();return l[0]=t[n],l}function zi(e,t,n){const l=e.slice();return l[0]=t[n],l}function Ci(e,t,n){const l=e.slice();return l[0]=t[n],l}function _i(e,t,n){const l=e.slice();return l[75]=t[n],l}function ji(e,t,n){const l=e.slice();return l[0]=t[n],l}function Bi(e){let t,n;return t=new ml({props:{coa:e[0],i:"Edit",w:e[4],h:e[4]}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};1&n[0]&&(l.coa=e[0]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Mi(e){let t,n,l;function i(t){e[13].call(null,t)}let r={};return void 0!==e[2].field.size&&(r.size=e[2].field.size),t=new Rl({props:r}),W.push((()=>be(t,"size",i))),{c(){ke(t.$$.fragment)},m(e,n){xe(t,e,n),l=!0},p(e,l){const i={};!n&&4&l[0]&&(n=!0,i.size=e[2].field.size,ee((()=>n=!1))),t.$set(i)},i(e){l||(fe(t.$$.fragment,e),l=!0)},o(e){pe(t.$$.fragment,e),l=!1},d(e){qe(t,e)}}}function Si(e){let t,n,l,i;function r(t){e[15].call(null,t)}let o={itemSize:e[5]};return void 0!==e[2].field.t2&&(o.t1=e[2].field.t2),n=new Ul({props:o}),W.push((()=>be(n,"t1",r))),{c(){t=z("div"),ke(n.$$.fragment),E(t,"class","subsection svelte-wnwq85")},m(e,l){k(e,t,l),xe(n,t,null),i=!0},p(e,t){const i={};!l&&4&t[0]&&(l=!0,i.t1=e[2].field.t2,ee((()=>l=!1))),n.$set(i)},i(e){i||(fe(n.$$.fragment,e),i=!0)},o(e){pe(n.$$.fragment,e),i=!1},d(e){e&&x(t),qe(n)}}}function Ei(e){let t,n,l,i,r=e[6].map(e[16]),o=[];for(let t=0;t<r.length;t+=1)o[t]=Hi(ji(e,r,t));const s=e=>pe(o[e],1,1,(()=>{o[e]=null}));return{c(){t=z("div"),n=z("div"),n.textContent="Pattern:",l=j();for(let e=0;e<o.length;e+=1)o[e].c();E(t,"class","subsection svelte-wnwq85")},m(e,r){k(e,t,r),b(t,n),b(t,l);for(let e=0;e<o.length;e+=1)o[e].m(t,null);i=!0},p(e,n){if(100&n[0]){let l;for(r=e[6].map(e[16]),l=0;l<r.length;l+=1){const i=ji(e,r,l);o[l]?(o[l].p(i,n),fe(o[l],1)):(o[l]=Hi(i),o[l].c(),fe(o[l],1),o[l].m(t,null))}for(de(),l=r.length;l<o.length;l+=1)s(l);ue()}},i(e){if(!i){for(let e=0;e<r.length;e+=1)fe(o[e]);i=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)pe(o[e]);i=!1},d(e){e&&x(t),q(o,e)}}}function Hi(e){let t,n,l,i,r,o;function s(...t){return e[17](e[0],...t)}return n=new Pl({props:{coa:e[0],title:pr(e[0].pattern),itemSize:e[5]}}),{c(){t=z("div"),ke(n.$$.fragment),l=j(),E(t,"class","item"),F(t,"selected",e[2].field.pattern===e[0].pattern)},m(e,c){k(e,t,c),xe(n,t,null),b(t,l),i=!0,r||(o=M(t,"click",s),r=!0)},p(l,i){e=l;const r={};4&i[0]&&(r.coa=e[0]),4&i[0]&&(r.title=pr(e[0].pattern)),n.$set(r),68&i[0]&&F(t,"selected",e[2].field.pattern===e[0].pattern)},i(e){i||(fe(n.$$.fragment,e),i=!0)},o(e){pe(n.$$.fragment,e),i=!1},d(e){e&&x(t),qe(n),r=!1,o()}}}function Li(e){let t,n,l,i,r,o,s,c,a=[],d=new Map,u=e[7],f=[];for(let t=0;t<u.length;t+=1)f[t]=Ii(_i(e,u,t));let p=Object.keys(En[e[2].field.semy]).map(e[19]);const h=e=>e[0];for(let t=0;t<p.length;t+=1){let n=Ci(e,p,t),l=h(n);d.set(l,a[t]=Pi(l,n))}return{c(){t=z("div"),n=z("div"),l=_("Charge:\n            "),i=z("select");for(let e=0;e<f.length;e+=1)f[e].c();r=j();for(let e=0;e<a.length;e+=1)a[e].c();E(i,"class","svelte-wnwq85"),void 0===e[2].field.semy&&Q((()=>e[18].call(i))),E(t,"class","subsection svelte-wnwq85")},m(d,u){k(d,t,u),b(t,n),b(n,l),b(n,i);for(let e=0;e<f.length;e+=1)f[e].m(i,null);A(i,e[2].field.semy),b(t,r);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0,s||(c=M(i,"change",e[18]),s=!0)},p(e,n){if(128&n[0]){let t;for(u=e[7],t=0;t<u.length;t+=1){const l=_i(e,u,t);f[t]?f[t].p(l,n):(f[t]=Ii(l),f[t].c(),f[t].m(i,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=u.length}if(132&n[0]&&A(i,e[2].field.semy),36&n[0]){const l=Object.keys(En[e[2].field.semy]).map(e[19]);de(),a=we(a,n,h,1,e,l,d,t,ye,Pi,null,Ci),ue()}},i(e){if(!o){for(let e=0;e<p.length;e+=1)fe(a[e]);o=!0}},o(e){for(let e=0;e<a.length;e+=1)pe(a[e]);o=!1},d(e){e&&x(t),q(f,e);for(let e=0;e<a.length;e+=1)a[e].d();s=!1,c()}}}function Ii(t){let n,l,i,r=pr(t[75])+"";return{c(){n=z("option"),l=_(r),n.__value=i=t[75],n.value=n.__value},m(e,t){k(e,n,t),b(n,l)},p:e,d(e){e&&x(n)}}}function Pi(e,t){let n,l,i,r,o,s;function c(...e){return t[20](t[0],...e)}return l=new Pl({props:{coa:t[0],title:pr(t[0].charge),itemSize:t[5]}}),{key:e,first:null,c(){n=z("div"),ke(l.$$.fragment),i=j(),E(n,"class","item"),F(n,"selected",t[2].field.charge===t[0].charge),this.first=n},m(e,t){k(e,n,t),xe(l,n,null),b(n,i),r=!0,o||(s=M(n,"click",c),o=!0)},p(e,i){t=e;const r={};4&i[0]&&(r.coa=t[0]),4&i[0]&&(r.title=pr(t[0].charge)),l.$set(r),4&i[0]&&F(n,"selected",t[2].field.charge===t[0].charge)},i(e){r||(fe(l.$$.fragment,e),r=!0)},o(e){pe(l.$$.fragment,e),r=!1},d(e){e&&x(n),qe(l),o=!1,s()}}}function Ai(e,t){let n,l,i,r,o,s;function c(...e){return t[22](t[0],...e)}return l=new Pl({props:{coa:t[0],title:pr(t[0].division.division),itemSize:t[5]}}),{key:e,first:null,c(){n=z("div"),ke(l.$$.fragment),i=j(),E(n,"class","item"),F(n,"selected",t[2].division.division===t[0].division.division),this.first=n},m(e,t){k(e,n,t),xe(l,n,null),b(n,i),r=!0,o||(s=M(n,"click",c),o=!0)},p(e,i){t=e;const r={};5&i[0]&&(r.coa=t[0]),5&i[0]&&(r.title=pr(t[0].division.division)),l.$set(r),5&i[0]&&F(n,"selected",t[2].division.division===t[0].division.division)},i(e){r||(fe(l.$$.fragment,e),r=!0)},o(e){pe(l.$$.fragment,e),r=!1},d(e){e&&x(n),qe(l),o=!1,s()}}}function Ti(e){let t,n,l,i,r=[],o=new Map,s=Object.keys(Bn).map(e[23]);const c=e=>e[0];for(let t=0;t<s.length;t+=1){let n=qi(e,s,t),l=c(n);o.set(l,r[t]=Fi(l,n))}return{c(){t=z("div"),n=z("div"),n.textContent="Line:",l=j();for(let e=0;e<r.length;e+=1)r[e].c();E(t,"class","subsection svelte-wnwq85")},m(e,o){k(e,t,o),b(t,n),b(t,l);for(let e=0;e<r.length;e+=1)r[e].m(t,null);i=!0},p(e,n){if(37&n[0]){const l=Object.keys(Bn).map(e[23]);de(),r=we(r,n,c,1,e,l,o,t,ye,Fi,null,qi),ue()}},i(e){if(!i){for(let e=0;e<s.length;e+=1)fe(r[e]);i=!0}},o(e){for(let e=0;e<r.length;e+=1)pe(r[e]);i=!1},d(e){e&&x(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Fi(e,t){let n,l,i,r,o,s;function c(...e){return t[24](t[0],...e)}return l=new Pl({props:{coa:t[0],title:pr(t[0].division.line),itemSize:t[5]}}),{key:e,first:null,c(){n=z("div"),ke(l.$$.fragment),i=j(),E(n,"class","item"),F(n,"selected",t[2].division.line===t[0].division.line),this.first=n},m(e,t){k(e,n,t),xe(l,n,null),b(n,i),r=!0,o||(s=M(n,"click",c),o=!0)},p(e,i){t=e;const r={};5&i[0]&&(r.coa=t[0]),5&i[0]&&(r.title=pr(t[0].division.line)),l.$set(r),5&i[0]&&F(n,"selected",t[2].division.line===t[0].division.line)},i(e){r||(fe(l.$$.fragment,e),r=!0)},o(e){pe(l.$$.fragment,e),r=!1},d(e){e&&x(n),qe(l),o=!1,s()}}}function Oi(e){let t,n,l,i,r,o,s,c,a,d,u,f,p;function h(t){e[25].call(null,t)}let m={updateSection:ur};void 0!==e[2].division.type&&(m.type=e[2].division.type),n=new Fl({props:m}),W.push((()=>be(n,"type",h)));let g="tincture"!==e[2].division.type&&Di(e);function $(t){e[27].call(null,t)}let v={itemSize:e[5]};void 0!==e[2].division.t1&&(v.t1=e[2].division.t1),s=new Ul({props:v}),W.push((()=>be(s,"t1",$)));let y="tincture"!==e[2].division.type&&Ri(e),w="pattern"===e[2].division.type&&Gi(e),q="semy"===e[2].division.type&&Ki(e);return{c(){t=z("div"),ke(n.$$.fragment),i=j(),g&&g.c(),r=j(),o=z("div"),ke(s.$$.fragment),a=j(),y&&y.c(),d=j(),w&&w.c(),u=j(),q&&q.c(),f=B(),E(t,"class","subsection svelte-wnwq85"),E(o,"class","subsection svelte-wnwq85")},m(e,l){k(e,t,l),xe(n,t,null),b(t,i),g&&g.m(t,null),k(e,r,l),k(e,o,l),xe(s,o,null),k(e,a,l),y&&y.m(e,l),k(e,d,l),w&&w.m(e,l),k(e,u,l),q&&q.m(e,l),k(e,f,l),p=!0},p(e,i){const r={};!l&&4&i[0]&&(l=!0,r.type=e[2].division.type,ee((()=>l=!1))),n.$set(r),"tincture"!==e[2].division.type?g?(g.p(e,i),4&i[0]&&fe(g,1)):(g=Di(e),g.c(),fe(g,1),g.m(t,null)):g&&(de(),pe(g,1,1,(()=>{g=null})),ue());const o={};!c&&4&i[0]&&(c=!0,o.t1=e[2].division.t1,ee((()=>c=!1))),s.$set(o),"tincture"!==e[2].division.type?y?(y.p(e,i),4&i[0]&&fe(y,1)):(y=Ri(e),y.c(),fe(y,1),y.m(d.parentNode,d)):y&&(de(),pe(y,1,1,(()=>{y=null})),ue()),"pattern"===e[2].division.type?w?(w.p(e,i),4&i[0]&&fe(w,1)):(w=Gi(e),w.c(),fe(w,1),w.m(u.parentNode,u)):w&&(de(),pe(w,1,1,(()=>{w=null})),ue()),"semy"===e[2].division.type?q?(q.p(e,i),4&i[0]&&fe(q,1)):(q=Ki(e),q.c(),fe(q,1),q.m(f.parentNode,f)):q&&(de(),pe(q,1,1,(()=>{q=null})),ue())},i(e){p||(fe(n.$$.fragment,e),fe(g),fe(s.$$.fragment,e),fe(y),fe(w),fe(q),p=!0)},o(e){pe(n.$$.fragment,e),pe(g),pe(s.$$.fragment,e),pe(y),pe(w),pe(q),p=!1},d(e){e&&x(t),qe(n),g&&g.d(),e&&x(r),e&&x(o),qe(s),e&&x(a),y&&y.d(e),e&&x(d),w&&w.d(e),e&&x(u),q&&q.d(e),e&&x(f)}}}function Di(e){let t,n,l;function i(t){e[26].call(null,t)}let r={};return void 0!==e[2].division.size&&(r.size=e[2].division.size),t=new Rl({props:r}),W.push((()=>be(t,"size",i))),{c(){ke(t.$$.fragment)},m(e,n){xe(t,e,n),l=!0},p(e,l){const i={};!n&&4&l[0]&&(n=!0,i.size=e[2].division.size,ee((()=>n=!1))),t.$set(i)},i(e){l||(fe(t.$$.fragment,e),l=!0)},o(e){pe(t.$$.fragment,e),l=!1},d(e){qe(t,e)}}}function Ri(e){let t,n,l,i;function r(t){e[28].call(null,t)}let o={itemSize:e[5]};return void 0!==e[2].division.t2&&(o.t1=e[2].division.t2),n=new Ul({props:o}),W.push((()=>be(n,"t1",r))),{c(){t=z("div"),ke(n.$$.fragment),E(t,"class","subsection svelte-wnwq85")},m(e,l){k(e,t,l),xe(n,t,null),i=!0},p(e,t){const i={};!l&&4&t[0]&&(l=!0,i.t1=e[2].division.t2,ee((()=>l=!1))),n.$set(i)},i(e){i||(fe(n.$$.fragment,e),i=!0)},o(e){pe(n.$$.fragment,e),i=!1},d(e){e&&x(t),qe(n)}}}function Gi(e){let t,n,l,i,r=e[6].map(e[29]),o=[];for(let t=0;t<r.length;t+=1)o[t]=Ni(xi(e,r,t));const s=e=>pe(o[e],1,1,(()=>{o[e]=null}));return{c(){t=z("div"),n=z("div"),n.textContent="Pattern:",l=j();for(let e=0;e<o.length;e+=1)o[e].c();E(t,"class","subsection svelte-wnwq85")},m(e,r){k(e,t,r),b(t,n),b(t,l);for(let e=0;e<o.length;e+=1)o[e].m(t,null);i=!0},p(e,n){if(100&n[0]){let l;for(r=e[6].map(e[29]),l=0;l<r.length;l+=1){const i=xi(e,r,l);o[l]?(o[l].p(i,n),fe(o[l],1)):(o[l]=Ni(i),o[l].c(),fe(o[l],1),o[l].m(t,null))}for(de(),l=r.length;l<o.length;l+=1)s(l);ue()}},i(e){if(!i){for(let e=0;e<r.length;e+=1)fe(o[e]);i=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)pe(o[e]);i=!1},d(e){e&&x(t),q(o,e)}}}function Ni(e){let t,n,l,i,r,o;function s(...t){return e[30](e[0],...t)}return n=new Pl({props:{coa:e[0],title:pr(e[0].pattern),itemSize:e[5]}}),{c(){t=z("div"),ke(n.$$.fragment),l=j(),E(t,"class","item"),F(t,"selected",e[2].division.pattern===e[0].pattern)},m(e,c){k(e,t,c),xe(n,t,null),b(t,l),i=!0,r||(o=M(t,"click",s),r=!0)},p(l,i){e=l;const r={};4&i[0]&&(r.coa=e[0]),4&i[0]&&(r.title=pr(e[0].pattern)),n.$set(r),68&i[0]&&F(t,"selected",e[2].division.pattern===e[0].pattern)},i(e){i||(fe(n.$$.fragment,e),i=!0)},o(e){pe(n.$$.fragment,e),i=!1},d(e){e&&x(t),qe(n),r=!1,o()}}}function Ki(e){let t,n,l,i,r,o,s,c,a=[],d=new Map,u=e[7],f=[];for(let t=0;t<u.length;t+=1)f[t]=Ji(ki(e,u,t));let p=Object.keys(En[e[2].division.semy]).map(e[32]);const h=e=>e[0];for(let t=0;t<p.length;t+=1){let n=bi(e,p,t),l=h(n);d.set(l,a[t]=Ui(l,n))}return{c(){t=z("div"),n=z("div"),l=_("Charge:\n              "),i=z("select");for(let e=0;e<f.length;e+=1)f[e].c();r=j();for(let e=0;e<a.length;e+=1)a[e].c();E(i,"class","svelte-wnwq85"),void 0===e[2].division.semy&&Q((()=>e[31].call(i))),E(t,"class","subsection svelte-wnwq85")},m(d,u){k(d,t,u),b(t,n),b(n,l),b(n,i);for(let e=0;e<f.length;e+=1)f[e].m(i,null);A(i,e[2].division.semy),b(t,r);for(let e=0;e<a.length;e+=1)a[e].m(t,null);o=!0,s||(c=M(i,"change",e[31]),s=!0)},p(e,n){if(128&n[0]){let t;for(u=e[7],t=0;t<u.length;t+=1){const l=ki(e,u,t);f[t]?f[t].p(l,n):(f[t]=Ji(l),f[t].c(),f[t].m(i,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=u.length}if(132&n[0]&&A(i,e[2].division.semy),36&n[0]){const l=Object.keys(En[e[2].division.semy]).map(e[32]);de(),a=we(a,n,h,1,e,l,d,t,ye,Ui,null,bi),ue()}},i(e){if(!o){for(let e=0;e<p.length;e+=1)fe(a[e]);o=!0}},o(e){for(let e=0;e<a.length;e+=1)pe(a[e]);o=!1},d(e){e&&x(t),q(f,e);for(let e=0;e<a.length;e+=1)a[e].d();s=!1,c()}}}function Ji(t){let n,l,i,r=pr(t[75])+"";return{c(){n=z("option"),l=_(r),n.__value=i=t[75],n.value=n.__value},m(e,t){k(e,n,t),b(n,l)},p:e,d(e){e&&x(n)}}}function Ui(e,t){let n,l,i,r,o,s;function c(...e){return t[33](t[0],...e)}return l=new Pl({props:{coa:t[0],title:pr(t[0].charge),itemSize:t[5]}}),{key:e,first:null,c(){n=z("div"),ke(l.$$.fragment),i=j(),E(n,"class","item"),F(n,"selected",t[2].division.charge===t[0].charge),this.first=n},m(e,t){k(e,n,t),xe(l,n,null),b(n,i),r=!0,o||(s=M(n,"click",c),o=!0)},p(e,i){t=e;const r={};4&i[0]&&(r.coa=t[0]),4&i[0]&&(r.title=pr(t[0].charge)),l.$set(r),4&i[0]&&F(n,"selected",t[2].division.charge===t[0].charge)},i(e){r||(fe(l.$$.fragment,e),r=!0)},o(e){pe(l.$$.fragment,e),r=!1},d(e){e&&x(n),qe(l),o=!1,s()}}}function Wi(e){let t,n,l,r,o,s,c,a,d;return{c(){t=z("div"),n=_("Divided:\n          "),l=z("select"),r=z("option"),r.textContent="No (standard)",o=z("option"),o.textContent="Crop by main field",s=z("option"),s.textContent="Crop by division",c=z("option"),c.textContent="Сountercharged",r.__value="",r.value=r.__value,o.__value="field",o.value=o.__value,s.__value="division",s.value=s.__value,c.__value="counter",c.value=c.__value,E(l,"class","svelte-wnwq85"),void 0===e[2].ordinary.divided&&Q((()=>e[34].call(l))),E(t,"class","subsection svelte-wnwq85")},m(i,u){k(i,t,u),b(t,n),b(t,l),b(l,r),b(l,o),b(l,s),b(l,c),A(l,e[2].ordinary.divided),a||(d=[M(l,"change",e[34]),M(t,"click",ur)],a=!0)},p(e,t){132&t[0]&&A(l,e[2].ordinary.divided)},d(e){e&&x(t),a=!1,i(d)}}}function Zi(e,t){let n,l,i,r,o,s;function c(...e){return t[36](t[0],...e)}return l=new Pl({props:{coa:t[0],title:pr(t[0].ordinary.ordinary),itemSize:t[5]}}),{key:e,first:null,c(){n=z("div"),ke(l.$$.fragment),i=j(),E(n,"class","item"),F(n,"selected",t[2].ordinary.ordinary===t[0].ordinary.ordinary),this.first=n},m(e,t){k(e,n,t),xe(l,n,null),b(n,i),r=!0,o||(s=M(n,"click",c),o=!0)},p(e,i){t=e;const r={};5&i[0]&&(r.coa=t[0]),5&i[0]&&(r.title=pr(t[0].ordinary.ordinary)),l.$set(r),261&i[0]&&F(n,"selected",t[2].ordinary.ordinary===t[0].ordinary.ordinary)},i(e){r||(fe(l.$$.fragment,e),r=!0)},o(e){pe(l.$$.fragment,e),r=!1},d(e){e&&x(n),qe(l),o=!1,s()}}}function Xi(e){let t,n,l,i,r=[],o=new Map,s=Object.keys(Bn).map(e[37]);const c=e=>e[0];for(let t=0;t<s.length;t+=1){let n=yi(e,s,t),l=c(n);o.set(l,r[t]=Vi(l,n))}return{c(){t=z("div"),n=z("div"),n.textContent="Line:",l=j();for(let e=0;e<r.length;e+=1)r[e].c();E(t,"class","subsection svelte-wnwq85")},m(e,o){k(e,t,o),b(t,n),b(t,l);for(let e=0;e<r.length;e+=1)r[e].m(t,null);i=!0},p(e,n){if(37&n[0]){const l=Object.keys(Bn).map(e[37]);de(),r=we(r,n,c,1,e,l,o,t,ye,Vi,null,yi),ue()}},i(e){if(!i){for(let e=0;e<s.length;e+=1)fe(r[e]);i=!0}},o(e){for(let e=0;e<r.length;e+=1)pe(r[e]);i=!1},d(e){e&&x(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function Vi(e,t){let n,l,i,r,o,s;function c(...e){return t[38](t[0],...e)}return l=new Pl({props:{coa:t[0],title:pr(t[0].ordinary.line),itemSize:t[5]}}),{key:e,first:null,c(){n=z("div"),ke(l.$$.fragment),i=j(),E(n,"class","item"),F(n,"selected",t[2].ordinary.line===t[0].ordinary.line),this.first=n},m(e,t){k(e,n,t),xe(l,n,null),b(n,i),r=!0,o||(s=M(n,"click",c),o=!0)},p(e,i){t=e;const r={};5&i[0]&&(r.coa=t[0]),5&i[0]&&(r.title=pr(t[0].ordinary.line)),l.$set(r),5&i[0]&&F(n,"selected",t[2].ordinary.line===t[0].ordinary.line)},i(e){r||(fe(l.$$.fragment,e),r=!0)},o(e){pe(l.$$.fragment,e),r=!1},d(e){e&&x(n),qe(l),o=!1,s()}}}function Yi(e){let t,n,l,i;function r(t){e[39].call(null,t)}let o={itemSize:e[5]};return void 0!==e[2].ordinary.t&&(o.t1=e[2].ordinary.t),n=new Ul({props:o}),W.push((()=>be(n,"t1",r))),{c(){t=z("div"),ke(n.$$.fragment),E(t,"class","subsection svelte-wnwq85")},m(e,l){k(e,t,l),xe(n,t,null),i=!0},p(e,t){const i={};!l&&4&t[0]&&(l=!0,i.t1=e[2].ordinary.t,ee((()=>l=!1))),n.$set(i)},i(e){i||(fe(n.$$.fragment,e),i=!0)},o(e){pe(n.$$.fragment,e),i=!1},d(e){e&&x(t),qe(n)}}}function Qi(t){let n,l,i,r=pr(t[75])+"";return{c(){n=z("option"),l=_(r),n.__value=i=t[75],n.value=n.__value},m(e,t){k(e,n,t),b(n,l)},p:e,d(e){e&&x(n)}}}function er(e){let t,n,l,i,r,o,s,c,a=!fr(e[67].charge),d=a&&tr();function u(){e[42].call(l,e[68],e[69])}return{c(){t=z("span"),t.textContent="Divided:",n=j(),l=z("select"),i=z("option"),i.textContent="No (standard)",r=z("option"),r.textContent="Crop by main field",o=z("option"),o.textContent="Crop by division",d&&d.c(),P(t,"margin-left","1em"),i.__value="",i.value=i.__value,r.__value="field",r.value=r.__value,o.__value="division",o.value=o.__value,E(l,"class","svelte-wnwq85"),void 0===e[67].layer&&Q(u)},m(a,f){k(a,t,f),k(a,n,f),k(a,l,f),b(l,i),b(l,r),b(l,o),d&&d.m(l,null),A(l,e[67].layer),s||(c=M(l,"change",u),s=!0)},p(t,n){e=t,4&n[0]&&(a=!fr(e[67].charge)),a?d||(d=tr(),d.c(),d.m(l,null)):d&&(d.d(1),d=null),132&n[0]&&A(l,e[67].layer)},d(e){e&&x(t),e&&x(n),e&&x(l),d&&d.d(),s=!1,c()}}}function tr(e){let t;return{c(){t=z("option"),t.textContent="Сountercharged",t.__value="counter",t.value=t.__value},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function nr(e,t){let n,l,i,r,o,s;function c(...e){return t[45](t[67],t[0],t[68],t[69],...e)}return l=new Pl({props:{coa:t[0],title:pr(t[0].c),itemSize:t[5]}}),{key:e,first:null,c(){n=z("div"),ke(l.$$.fragment),i=j(),E(n,"class","item"),F(n,"selected",t[67].charge===t[0].c),this.first=n},m(e,t){k(e,n,t),xe(l,n,null),b(n,i),r=!0,o||(s=M(n,"click",c),o=!0)},p(e,i){t=e;const r={};5&i[0]&&(r.coa=t[0]),5&i[0]&&(r.title=pr(t[0].c)),l.$set(r),5&i[0]&&F(n,"selected",t[67].charge===t[0].c)},i(e){r||(fe(l.$$.fragment,e),r=!0)},o(e){pe(l.$$.fragment,e),r=!1},d(e){e&&x(n),qe(l),o=!1,s()}}}function lr(e){let t,n,l,i;function r(t){e[46].call(null,t,e[67])}let o={itemSize:e[5]};return void 0!==e[67].t&&(o.t1=e[67].t),n=new Ul({props:o}),W.push((()=>be(n,"t1",r))),{c(){t=z("div"),ke(n.$$.fragment),E(t,"class","subsection svelte-wnwq85")},m(e,l){k(e,t,l),xe(n,t,null),i=!0},p(t,i){e=t;const r={};!l&&4&i[0]&&(l=!0,r.t1=e[67].t,ee((()=>l=!1))),n.$set(r)},i(e){i||(fe(n.$$.fragment,e),i=!0)},o(e){pe(n.$$.fragment,e),i=!1},d(e){e&&x(t),qe(n)}}}function ir(e){let t;return{c(){t=_("Positions:")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function rr(t){let n,l,i,r=t[70]+"";return{c(){n=z("option"),l=_(r),n.__value=i=t[70],n.value=n.__value},m(e,t){k(e,n,t),b(n,l)},p:e,d(e){e&&x(n)}}}function or(e){let t;return{c(){t=z("span"),t.textContent="Sinister:",P(t,"margin-left","1em")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function sr(e){let t;return{c(){t=z("span"),t.textContent="Reversed:",P(t,"margin-left","1em")},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}function cr(e){let t,n,l,r,o,s,c,a,d,u,f,p,h,m,g,$,v,y,w,C,B,S,H,T,F,O,D,R,G,N,K,J,U,Z,X,V,Y,te,ne,le,ie=(e[2].charges.length>1?e[69]+1:"")+"",re=[],oe=new Map,se=!fr(e[67].charge)&&"counter"!==e[67].layer,ce=e[7],ae=[];for(let t=0;t<ce.length;t+=1)ae[t]=Qi($i(e,ce,t));function he(){e[41].call(u,e[68],e[69])}let ge=e[0].division&&er(e);function $e(t){e[43].call(null,t)}let ve={el:e[67],i:e[69]};function ze(...t){return e[44](e[67],...t)}void 0!==e[2].charges&&(ve.els=e[2].charges),h=new ai({props:ve}),W.push((()=>be(h,"els",$e)));let Ce=Object.keys(En[e[67].type]).map(ze);const _e=e=>e[0];for(let t=0;t<Ce.length;t+=1){let n=gi(e,Ce,t),l=_e(n);oe.set(l,re[t]=nr(l,n))}let je=se&&lr(e);function Be(){e[47].call(B,e[68],e[69])}function Me(...t){return e[48](e[67],...t)}function Se(...t){return e[49](e[67],...t)}w=new Le({props:{tip:"Points on shield to place a charge",$$slots:{default:[ir]},$$scope:{ctx:e}}});let Ee=_n,He=[];for(let t=0;t<Ee.length;t+=1)He[t]=rr(mi(e,Ee,t));function Ie(){e[51].call(H,e[68],e[69])}function Pe(...t){return e[52](e[67],e[68],e[69],...t)}function Ae(...t){return e[53](e[67],...t)}function Te(t){e[55].call(null,t,e[67])}F=new Le({props:{tip:"Turn charge to the left",$$slots:{default:[or]},$$scope:{ctx:e}}});let Fe={};function Oe(t){e[56].call(null,t,e[67])}void 0!==e[67].sinister&&(Fe.checked=e[67].sinister),D=new Xl({props:Fe}),W.push((()=>be(D,"checked",Te))),N=new Le({props:{tip:"Show charge upside down",$$slots:{default:[sr]},$$scope:{ctx:e}}});let De={};function Re(t){e[57].call(null,t,e[67],e[68],e[69])}void 0!==e[67].reversed&&(De.checked=e[67].reversed),J=new Xl({props:De}),W.push((()=>be(J,"checked",Oe)));let Ge={};return void 0!==e[67]&&(Ge.e=e[67]),V=new li({props:Ge}),W.push((()=>be(V,"e",Re))),{c(){t=z("div"),n=_("Charge "),l=_(ie),o=j(),s=z("div"),c=z("div"),a=z("div"),d=_("Category:\n            "),u=z("select");for(let e=0;e<ae.length;e+=1)ae[e].c();f=j(),ge&&ge.c(),p=j(),ke(h.$$.fragment),g=j();for(let e=0;e<re.length;e+=1)re[e].c();$=j(),je&&je.c(),v=j(),y=z("div"),ke(w.$$.fragment),C=j(),B=z("input"),S=j(),H=z("select");for(let e=0;e<He.length;e+=1)He[e].c();T=j(),ke(F.$$.fragment),O=j(),ke(D.$$.fragment),G=j(),ke(N.$$.fragment),K=j(),ke(J.$$.fragment),Z=j(),X=z("div"),ke(V.$$.fragment),E(t,"class","section svelte-wnwq85"),E(u,"class","svelte-wnwq85"),void 0===e[67].type&&Q(he),E(c,"class","subsection svelte-wnwq85"),P(B,"margin-left",".6em"),P(B,"width","8.6em"),E(H,"class","pseudoSelect svelte-wnwq85"),void 0===e[67].p&&Q(Ie),E(y,"class","subsection svelte-wnwq85"),E(X,"class","subsection svelte-wnwq85"),E(s,"class","panel svelte-wnwq85")},m(i,r){k(i,t,r),b(t,n),b(t,l),k(i,o,r),k(i,s,r),b(s,c),b(c,a),b(a,d),b(a,u);for(let e=0;e<ae.length;e+=1)ae[e].m(u,null);A(u,e[67].type),b(a,f),ge&&ge.m(a,null),b(a,p),xe(h,a,null),b(c,g);for(let e=0;e<re.length;e+=1)re[e].m(c,null);b(s,$),je&&je.m(s,null),b(s,v),b(s,y),xe(w,y,null),b(y,C),b(y,B),I(B,e[67].p),b(y,S),b(y,H);for(let e=0;e<He.length;e+=1)He[e].m(H,null);A(H,e[67].p),b(y,T),xe(F,y,null),b(y,O),xe(D,y,null),b(y,G),xe(N,y,null),b(y,K),xe(J,y,null),b(s,Z),b(s,X),xe(V,X,null),te=!0,ne||(le=[M(t,"click",dr),M(u,"change",he),M(u,"input",ur),M(B,"input",Be),M(B,"input",Me),M(B,"focus",Se),M(B,"blur",e[50]),M(H,"change",Ie),M(H,"change",Pe),M(H,"focus",Ae),M(H,"blur",e[54])],ne=!0)},p(t,n){if(e=t,(!te||4&n[0])&&ie!==(ie=(e[2].charges.length>1?e[69]+1:"")+"")&&L(l,ie),128&n[0]){let t;for(ce=e[7],t=0;t<ce.length;t+=1){const l=$i(e,ce,t);ae[t]?ae[t].p(l,n):(ae[t]=Qi(l),ae[t].c(),ae[t].m(u,null))}for(;t<ae.length;t+=1)ae[t].d(1);ae.length=ce.length}132&n[0]&&A(u,e[67].type),e[0].division?ge?ge.p(e,n):(ge=er(e),ge.c(),ge.m(a,p)):ge&&(ge.d(1),ge=null);const i={};if(4&n[0]&&(i.el=e[67]),!m&&4&n[0]&&(m=!0,i.els=e[2].charges,ee((()=>m=!1))),h.$set(i),37&n[0]){const t=Object.keys(En[e[67].type]).map(ze);de(),re=we(re,n,_e,1,e,t,oe,c,ye,nr,null,gi),ue()}4&n[0]&&(se=!fr(e[67].charge)&&"counter"!==e[67].layer),se?je?(je.p(e,n),4&n[0]&&fe(je,1)):(je=lr(e),je.c(),fe(je,1),je.m(s,v)):je&&(de(),pe(je,1,1,(()=>{je=null})),ue());const r={};if(32&n[3]&&(r.$$scope={dirty:n,ctx:e}),w.$set(r),132&n[0]&&B.value!==e[67].p&&I(B,e[67].p),0&n){let t;for(Ee=_n,t=0;t<Ee.length;t+=1){const l=mi(e,Ee,t);He[t]?He[t].p(l,n):(He[t]=rr(l),He[t].c(),He[t].m(H,null))}for(;t<He.length;t+=1)He[t].d(1);He.length=Ee.length}132&n[0]&&A(H,e[67].p);const o={};32&n[3]&&(o.$$scope={dirty:n,ctx:e}),F.$set(o);const d={};!R&&4&n[0]&&(R=!0,d.checked=e[67].sinister,ee((()=>R=!1))),D.$set(d);const f={};32&n[3]&&(f.$$scope={dirty:n,ctx:e}),N.$set(f);const g={};!U&&4&n[0]&&(U=!0,g.checked=e[67].reversed,ee((()=>U=!1))),J.$set(g);const $={};!Y&&4&n[0]&&(Y=!0,$.e=e[67],ee((()=>Y=!1))),V.$set($)},i(e){if(!te){r||Q((()=>{r=me(t,Ne,{}),r.start()})),fe(h.$$.fragment,e);for(let e=0;e<Ce.length;e+=1)fe(re[e]);fe(je),fe(w.$$.fragment,e),fe(F.$$.fragment,e),fe(D.$$.fragment,e),fe(N.$$.fragment,e),fe(J.$$.fragment,e),fe(V.$$.fragment,e),te=!0}},o(e){pe(h.$$.fragment,e);for(let e=0;e<re.length;e+=1)pe(re[e]);pe(je),pe(w.$$.fragment,e),pe(F.$$.fragment,e),pe(D.$$.fragment,e),pe(N.$$.fragment,e),pe(J.$$.fragment,e),pe(V.$$.fragment,e),te=!1},d(e){e&&x(t),e&&x(o),e&&x(s),q(ae,e),ge&&ge.d(),qe(h);for(let e=0;e<re.length;e+=1)re[e].d();je&&je.d(),qe(w),q(He,e),qe(F),qe(D),qe(N),qe(J),qe(V),ne=!1,i(le)}}}function ar(t){let n,l,r,s,c,a,d,u,f,p,h,m,g,$,v,y,w,C,_,B,S,H,L,I,A,T,O,D,R,G,N,K,J,U,Z,X,V,Y,te,ne,le,ie,re,oe=t[0],se=[],ce=new Map,ae=[],he=new Map,ge=Bi(t);function $e(e){t[12].call(null,e)}let ve={updateSection:ur};void 0!==t[2].field.type&&(ve.type=t[2].field.type),u=new Fl({props:ve}),W.push((()=>be(u,"type",$e)));let ze="tincture"!==t[2].field.type&&Mi(t);function Ce(e){t[14].call(null,e)}let _e={itemSize:t[5]};void 0!==t[2].field.t1&&(_e.t1=t[2].field.t1),g=new Ul({props:_e}),W.push((()=>be(g,"t1",Ce)));let je="tincture"!==t[2].field.type&&Si(t),Be="pattern"===t[2].field.type&&Ei(t),Me="semy"===t[2].field.type&&Li(t),Se=["no"].concat(Object.keys(Mn.variants)).map(t[21]);const Ee=e=>e[0];for(let e=0;e<Se.length;e+=1){let n=zi(t,Se,e),l=Ee(n);ce.set(l,se[e]=Ai(l,n))}let He=Mn[t[0].division?.division]&&Ti(t),Le=t[0].division&&Oi(t),Ie=t[0].division&&Wi(t),Pe=t[8].map(t[35]);const Ae=e=>e[0];for(let e=0;e<Pe.length;e+=1){let n=wi(t,Pe,e),l=Ae(n);he.set(l,ae[e]=Zi(l,n))}let Te=Sn.lined[t[2].ordinary.ordinary]&&Xi(t),Fe=t[0].ordinary&&"counter"!==t[2].ordinary.divided&&Yi(t);function Oe(e){t[40].call(null,e)}let De={};void 0!==t[2].ordinary&&(De.e=t[2].ordinary),Z=new li({props:De}),W.push((()=>be(Z,"e",Oe)));let Re=t[2].charges,Ne=[];for(let e=0;e<Re.length;e+=1)Ne[e]=cr(vi(t,Re,e));const Ke=e=>pe(Ne[e],1,1,(()=>{Ne[e]=null}));return{c(){n=z("div"),ge.c(),l=j(),r=z("div"),s=z("div"),s.textContent="Field",c=j(),a=z("div"),d=z("div"),ke(u.$$.fragment),p=j(),ze&&ze.c(),h=j(),m=z("div"),ke(g.$$.fragment),v=j(),je&&je.c(),y=j(),Be&&Be.c(),w=j(),Me&&Me.c(),C=j(),_=z("div"),_.textContent="Division",B=j(),S=z("div"),H=z("div");for(let e=0;e<se.length;e+=1)se[e].c();L=j(),He&&He.c(),I=j(),Le&&Le.c(),A=j(),T=z("div"),T.textContent="Ordinary",O=j(),D=z("div"),Ie&&Ie.c(),R=j(),G=z("div");for(let e=0;e<ae.length;e+=1)ae[e].c();N=j(),Te&&Te.c(),K=j(),Fe&&Fe.c(),J=j(),U=z("div"),ke(Z.$$.fragment),V=j();for(let e=0;e<Ne.length;e+=1)Ne[e].c();Y=j(),te=z("div"),te.textContent="Add charge",E(s,"class","section svelte-wnwq85"),F(s,"expanded",!1),E(d,"class","subsection svelte-wnwq85"),E(m,"class","subsection svelte-wnwq85"),E(a,"class","panel svelte-wnwq85"),E(_,"class","section svelte-wnwq85"),E(H,"class","subsection svelte-wnwq85"),E(S,"class","panel svelte-wnwq85"),E(T,"class","section svelte-wnwq85"),E(G,"class","subsection svelte-wnwq85"),E(U,"class","subsection svelte-wnwq85"),E(D,"class","panel svelte-wnwq85"),E(te,"class","buttonLine svelte-wnwq85"),E(r,"id","menu"),P(r,"width",t[1]+"%"),E(r,"class","svelte-wnwq85"),E(n,"id","editor"),E(n,"class","svelte-wnwq85")},m(e,i){k(e,n,i),ge.m(n,null),b(n,l),b(n,r),b(r,s),b(r,c),b(r,a),b(a,d),xe(u,d,null),b(d,p),ze&&ze.m(d,null),b(a,h),b(a,m),xe(g,m,null),b(a,v),je&&je.m(a,null),b(a,y),Be&&Be.m(a,null),b(a,w),Me&&Me.m(a,null),b(r,C),b(r,_),b(r,B),b(r,S),b(S,H);for(let e=0;e<se.length;e+=1)se[e].m(H,null);b(S,L),He&&He.m(S,null),b(S,I),Le&&Le.m(S,null),b(r,A),b(r,T),b(r,O),b(r,D),Ie&&Ie.m(D,null),b(D,R),b(D,G);for(let e=0;e<ae.length;e+=1)ae[e].m(G,null);b(D,N),Te&&Te.m(D,null),b(D,K),Fe&&Fe.m(D,null),b(D,J),b(D,U),xe(Z,U,null),b(r,V);for(let e=0;e<Ne.length;e+=1)Ne[e].m(r,null);b(r,Y),b(r,te),le=!0,ie||(re=[M(s,"click",dr),M(_,"click",dr),M(H,"click",ur),M(T,"click",dr),M(G,"click",ur),M(te,"click",t[9])],ie=!0)},p(t,i){1&i[0]&&o(oe,oe=t[0])?(de(),pe(ge,1,1,e),ue(),ge=Bi(t),ge.c(),fe(ge),ge.m(n,l)):ge.p(t,i);const s={};!f&&4&i[0]&&(f=!0,s.type=t[2].field.type,ee((()=>f=!1))),u.$set(s),"tincture"!==t[2].field.type?ze?(ze.p(t,i),4&i[0]&&fe(ze,1)):(ze=Mi(t),ze.c(),fe(ze,1),ze.m(d,null)):ze&&(de(),pe(ze,1,1,(()=>{ze=null})),ue());const c={};if(!$&&4&i[0]&&($=!0,c.t1=t[2].field.t1,ee((()=>$=!1))),g.$set(c),"tincture"!==t[2].field.type?je?(je.p(t,i),4&i[0]&&fe(je,1)):(je=Si(t),je.c(),fe(je,1),je.m(a,y)):je&&(de(),pe(je,1,1,(()=>{je=null})),ue()),"pattern"===t[2].field.type?Be?(Be.p(t,i),4&i[0]&&fe(Be,1)):(Be=Ei(t),Be.c(),fe(Be,1),Be.m(a,w)):Be&&(de(),pe(Be,1,1,(()=>{Be=null})),ue()),"semy"===t[2].field.type?Me?(Me.p(t,i),4&i[0]&&fe(Me,1)):(Me=Li(t),Me.c(),fe(Me,1),Me.m(a,null)):Me&&(de(),pe(Me,1,1,(()=>{Me=null})),ue()),37&i[0]){const e=["no"].concat(Object.keys(Mn.variants)).map(t[21]);de(),se=we(se,i,Ee,1,t,e,ce,H,ye,Ai,null,zi),ue()}if(Mn[t[0].division?.division]?He?(He.p(t,i),1&i[0]&&fe(He,1)):(He=Ti(t),He.c(),fe(He,1),He.m(S,I)):He&&(de(),pe(He,1,1,(()=>{He=null})),ue()),t[0].division?Le?(Le.p(t,i),1&i[0]&&fe(Le,1)):(Le=Oi(t),Le.c(),fe(Le,1),Le.m(S,null)):Le&&(de(),pe(Le,1,1,(()=>{Le=null})),ue()),t[0].division?Ie?Ie.p(t,i):(Ie=Wi(t),Ie.c(),Ie.m(D,R)):Ie&&(Ie.d(1),Ie=null),293&i[0]){const e=t[8].map(t[35]);de(),ae=we(ae,i,Ae,1,t,e,he,G,ye,Zi,null,wi),ue()}Sn.lined[t[2].ordinary.ordinary]?Te?(Te.p(t,i),4&i[0]&&fe(Te,1)):(Te=Xi(t),Te.c(),fe(Te,1),Te.m(D,K)):Te&&(de(),pe(Te,1,1,(()=>{Te=null})),ue()),t[0].ordinary&&"counter"!==t[2].ordinary.divided?Fe?(Fe.p(t,i),5&i[0]&&fe(Fe,1)):(Fe=Yi(t),Fe.c(),fe(Fe,1),Fe.m(D,J)):Fe&&(de(),pe(Fe,1,1,(()=>{Fe=null})),ue());const p={};if(!X&&4&i[0]&&(X=!0,p.e=t[2].ordinary,ee((()=>X=!1))),Z.$set(p),1197&i[0]){let e;for(Re=t[2].charges,e=0;e<Re.length;e+=1){const n=vi(t,Re,e);Ne[e]?(Ne[e].p(n,i),fe(Ne[e],1)):(Ne[e]=cr(n),Ne[e].c(),fe(Ne[e],1),Ne[e].m(r,Y))}for(de(),e=Re.length;e<Ne.length;e+=1)Ke(e);ue()}(!le||2&i[0])&&P(r,"width",t[1]+"%")},i(e){if(!le){fe(ge),fe(u.$$.fragment,e),fe(ze),fe(g.$$.fragment,e),fe(je),fe(Be),fe(Me);for(let e=0;e<Se.length;e+=1)fe(se[e]);fe(He),fe(Le);for(let e=0;e<Pe.length;e+=1)fe(ae[e]);fe(Te),fe(Fe),fe(Z.$$.fragment,e);for(let e=0;e<Re.length;e+=1)fe(Ne[e]);ne||Q((()=>{ne=me(r,Ge,{x:500,duration:1e3}),ne.start()})),le=!0}},o(e){pe(ge),pe(u.$$.fragment,e),pe(ze),pe(g.$$.fragment,e),pe(je),pe(Be),pe(Me);for(let e=0;e<se.length;e+=1)pe(se[e]);pe(He),pe(Le);for(let e=0;e<ae.length;e+=1)pe(ae[e]);pe(Te),pe(Fe),pe(Z.$$.fragment,e),Ne=Ne.filter(Boolean);for(let e=0;e<Ne.length;e+=1)pe(Ne[e]);le=!1},d(e){e&&x(n),ge.d(e),qe(u),ze&&ze.d(),qe(g),je&&je.d(),Be&&Be.d(),Me&&Me.d();for(let e=0;e<se.length;e+=1)se[e].d();He&&He.d(),Le&&Le.d(),Ie&&Ie.d();for(let e=0;e<ae.length;e+=1)ae[e].d();Te&&Te.d(),Fe&&Fe.d(),qe(Z),q(Ne,e),ie=!1,i(re)}}}function dr(e){e.target.classList.toggle("expanded");const t=e.target.nextElementSibling;t.style.maxHeight?t.style.maxHeight=null:t.style.maxHeight=t.scrollHeight+"px"}function ur(e){const t=e.currentTarget.closest(".panel");setTimeout((()=>t.style.maxHeight=t.scrollHeight+"px"),100)}function fr(e){const t=document.getElementById(e);return!!t&&"image"===t.tagName}function pr(e="no"){const t=e.split(/(?=[A-Z])/).join(" ");return t.charAt(0).toUpperCase()+t.slice(1)}function hr(e,t,n){let l,i,r,o,s;a(e,ft,(e=>n(3,l=e))),a(e,ht,(e=>n(59,i=e))),a(e,st,(e=>n(60,r=e))),a(e,ct,(e=>n(61,o=e))),a(e,pt,(e=>n(62,s=e)));let{coa:c}=t,{c:d}=t;const u=Math.min(window.innerWidth,window.innerHeight),f=window.innerHeight/window.innerWidth,p=Math.round(.9*u);let m=window.innerWidth<600||f>1?100:Math.round(100*(1.05-f));m/100*window.innerWidth<300&&(m=100);const g=m/1e3*window.innerWidth-3,$=Object.keys(En.types),v=["no"].concat(Object.keys(Sn.lined)).concat(Object.keys(Sn.straight));let y={},w=0;function b(){function e(e){return e?.includes("-")}function t(e){return"semy"===e?.slice(0,4)}function l(e){return e[0].split("_of_")[1]}function i(e){return $.find((t=>En[t][e]))}function r(e){return i(l(e))}function o(e,t){return We(("argent"===e||"or"===e?Cn.colours:Cn.metals)[t])}return n(2,y.field=function(){const n=t(c.t1)?"semy":e(c.t1)?"pattern":"tincture";let i,s,a="vair",d="lozenge",u="conventional",f="standard";const p=c.t1.split("-");"tincture"===n?(i=c.t1,s=o(c.t1,"field")):(i=p[1],s=p[2],f=p[3]||"standard");"pattern"===n?a=p[0]:"semy"===n&&(d=l(p),u=r(p));return{type:n,t1:i,t2:s,pattern:a,charge:d,semy:u,size:f}}(),y),n(2,y.division=function(){let n,i,s="tincture",a="no",d="straight",u="vair",f="lozenge",p="conventional",h="standard";if(c.division){const m=c.division.t.split("-");s=t(c.division.t)?"semy":e(c.division.t)?"pattern":"tincture",a=c.division.division,d=c.division.line||"straight",n="tincture"===s?c.division.t:m[1],i="tincture"===s?o(n,"division"):m[2],"pattern"===s&&(u=m[0]),"semy"===s&&(f=l(m),p=r(m)),h=m[3]||"standard"}else n=o(y.field.t1,"division"),i=o(n,"division");return{division:a,line:d,type:s,t1:n,t2:i,pattern:u,charge:f,semy:p,size:h}}(),y),n(2,y.ordinary=function(){let e,t="no",n="straight",l="",i=1,r=0,o=0,s=0;c.ordinary?(t=c.ordinary.ordinary,n=c.ordinary.line||"straight",e=c.ordinary.t,l=c.ordinary.divided||"",i=c.ordinary.size||1,r=c.ordinary.x||0,o=c.ordinary.y||0,s=c.ordinary.angle||0,s&&x(c.ordinary)):e=We(Cn.colours.charge);return{ordinary:t,line:n,t:e,divided:l,size:i,x:r,y:o,angle:s}}(),y),n(2,y.charges=function(){if(!c.charges)return[];return c.charges.map((e=>{const{charge:t,t:n,p:l,size:r}=e,o=i(t),s=e.layer||"",c=e.sinister||!1,a=e.reversed||!1,d=e.x||0,u=e.y||0,f=e.angle||0;return f&&x(e),{charge:t,type:o,layer:s,t:n,p:l,size:r,sinister:c,reversed:a,x:d,y:u,angle:f}}))}(),y),y}function k(e){h(ft,l.transform=`rotate(${e.angle||0}) translate(${e.x||0}, ${e.y||0})`,l),h(ft,l.positions=e.p,l)}function x(e){h(ft,l.transform=`rotate(${e.angle||0})`,l)}h(ft,l.transform=null,l),h(ft,l.positions=null,l),"ontouchstart"in window||!c.ordinary&&!c.charges||h(pt,s={type:"info",text:"Drag to move, hold SHIFT and drag vertically to resize, hold CONTROL and drag horizontally to rotate",timeout:5e3},s);return e.$$set=e=>{"coa"in e&&n(0,c=e.coa),"c"in e&&n(11,d=e.c)},e.$$.update=()=>{if(2048&e.$$.dirty[0]&&b(),268435456&e.$$.dirty[1]&&ht.length()&&(n(0,c=JSON.parse(i[0])),b(),n(58,w=0)),4&e.$$.dirty[0])if("tincture"===y.field.type)n(0,c.t1=y.field.t1,c);else{const e=["semy"===y.field.type?"semy_of_"+y.field.charge:y.field.pattern,y.field.t1,y.field.t2];"standard"!==y.field.size&&e.push(y.field.size),n(0,c.t1=e.join("-"),c)}if(5&e.$$.dirty[0])if(y.division.division&&"no"!==y.division.division)if(n(0,c.division={division:y.division.division},c),Mn[y.division.division]&&n(0,c.division.line=y.division.line,c),"tincture"===y.division.type)n(0,c.division.t=y.division.t1,c);else{const e=["semy"===y.division.type?"semy_of_"+y.division.charge:y.division.pattern,y.division.t1,y.division.t2];"standard"!==y.division.size&&e.push(y.division.size),n(0,c.division.t=e.join("-"),c)}else delete c.division;if(5&e.$$.dirty[0]){const e=y.ordinary;e&&"no"!==e.ordinary?(n(0,c.ordinary={ordinary:e.ordinary,t:e.t},c),Sn.lined[e.ordinary]&&n(0,c.ordinary.line=e.line,c),c.division&&n(0,c.ordinary.divided=e.divided,c),(e.x||e.y)&&(n(0,c.ordinary.x=e.x,c),n(0,c.ordinary.y=e.y,c)),e.angle&&n(0,c.ordinary.angle=e.angle,c),e.size&&1!==e.size&&n(0,c.ordinary.size=e.size,c)):delete c.ordinary}5&e.$$.dirty[0]&&(y.charges.length?n(0,c.charges=y.charges.map((e=>{const t={charge:e.charge,t:e.t,p:e.p,size:e.size};return e.layer&&(t.layer=e.layer),e.sinister&&(t.sinister=1),e.reversed&&(t.reversed=1),(e.x||e.y)&&(t.x=e.x,t.y=e.y),e.angle&&(t.angle=e.angle),t})),c):delete c.charges),1&e.$$.dirty[0]|134217728&e.$$.dirty[1]&&(w&&ht.add(JSON.stringify(c)),n(58,w=1)),536870912&e.$$.dirty[1]&&localStorage.setItem("grid",r),1073741824&e.$$.dirty[1]&&localStorage.setItem("showGrid",o)},[c,m,y,l,p,g,["vair","vairInPale","vairEnPointe","ermine","chequy","lozengy","fusily","pally","barry","gemelles","bendy","bendySinister","palyBendy","pappellony","masoned","fretty"],$,v,function(){const e=We(En.single),t={charge:We(En[e]),t:We(Cn[We(Cn.charge)].charge),p:"e",type:e,size:1.5,sinister:!1,reversed:!1,x:0,y:0,angle:0,layer:""};n(2,y.charges=[...y.charges,t],y)},k,d,function(e){y.field.type=e,n(2,y)},function(e){y.field.size=e,n(2,y)},function(e){y.field.t1=e,n(2,y)},function(e){y.field.t2=e,n(2,y)},e=>new Object({t1:`${e}-${y.field.t1}-${y.field.t2}-${y.field.size}`,pattern:e}),e=>n(2,y.field.pattern=e.pattern,y),function(){y.field.semy=T(this),n(2,y),n(7,$)},e=>new Object({t1:`semy_of_${e}-${y.field.t1}-${y.field.t2}-${y.field.size}`,charge:e}),e=>n(2,y.field.charge=e.charge,y),e=>new Object({t1:c.t1,division:{division:e,t:c.division?c.division.t:y.division.t1,line:y.division.line}}),e=>n(2,y.division.division=e.division.division,y),e=>new Object({t1:c.t1,division:{division:y.division.division,t:c.division?c.division.t:y.division.t1,line:e}}),e=>n(2,y.division.line=e.division.line,y),function(e){y.division.type=e,n(2,y)},function(e){y.division.size=e,n(2,y)},function(e){y.division.t1=e,n(2,y)},function(e){y.division.t2=e,n(2,y)},e=>new Object({t1:`${e}-${y.division.t1}-${y.division.t2}-${y.division.size}`,pattern:e}),e=>n(2,y.division.pattern=e.pattern,y),function(){y.division.semy=T(this),n(2,y),n(7,$)},e=>new Object({t1:`semy_of_${e}-${y.division.t1}-${y.division.t2}-${y.division.size}`,charge:e}),e=>n(2,y.division.charge=e.charge,y),function(){y.ordinary.divided=T(this),n(2,y),n(7,$)},e=>new Object({t1:c.t1,division:c.division,ordinary:{ordinary:e,line:y.ordinary.line,t:y.ordinary.t,divided:y.ordinary.divided}}),e=>n(2,y.ordinary.ordinary=e.ordinary.ordinary,y),e=>new Object({t1:c.t1,division:c.division,ordinary:{ordinary:y.ordinary.ordinary,line:e,t:y.ordinary.t,divided:y.ordinary.divided}}),e=>n(2,y.ordinary.line=e.ordinary.line,y),function(e){y.ordinary.t=e,n(2,y)},function(e){y.ordinary=e,n(2,y)},function(e,t){e[t].type=T(this),n(2,y),n(7,$)},function(e,t){e[t].layer=T(this),n(2,y),n(7,$)},function(e){y.charges=e,n(2,y)},(e,t)=>new Object({c:t,t1:c.t1,charges:[{charge:t,t:e.t,p:"e",size:1.5,sinister:e.sinister,reversed:e.reversed}]}),(e,t,l,i)=>n(2,l[i].charge=t.c,y),function(e,t){t.t=e,n(2,y)},function(e,t){e[t].p=this.value,n(2,y),n(7,$)},e=>k(e),e=>k(e),()=>h(ft,l.positions=0,l),function(e,t){e[t].p=T(this),n(2,y),n(7,$)},(e,t,l)=>{n(2,t[l].size=ui(e.p,y.ordinary.ordinary),y),k(e)},e=>k(e),()=>h(ft,l.positions=0,l),function(e,t){t.sinister=e,n(2,y)},function(e,t){t.reversed=e,n(2,y)},function(e,t,l,i){l[i]=e,n(2,y)}]}class mr extends _e{constructor(e){super(),Ce(this,e,hr,ar,o,{coa:0,c:11},[-1,-1,-1,-1])}}function gr(e,t,n){const l=e.slice();return l[13]=t[n],l[15]=n,l}function $r(e){let t,n;return t=new ml({props:{coa:e[13],i:e[15],w:e[0],h:e[1]}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};4&n&&(l.coa=e[13]),1&n&&(l.w=e[0]),2&n&&(l.h=e[1]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function vr(t){let n,l,r,s,c,a,d,u,f,p,h,m,g,$,v,y=t[13],w=$r(t);function q(...e){return t[6](t[15],...e)}function _(...e){return t[7](t[15],...e)}function B(...e){return t[8](t[15],...e)}return{c(){n=z("div"),w.c(),l=j(),r=z("div"),s=C("svg"),c=C("use"),a=j(),d=C("svg"),u=C("use"),f=j(),p=C("svg"),h=C("use"),m=j(),E(c,"href","#dice-icon"),E(s,"class","svelte-1n7zkv2"),E(u,"href","#pencil-icon"),E(d,"class","svelte-1n7zkv2"),E(h,"href","#download-icon"),E(p,"class","svelte-1n7zkv2"),E(r,"class","control svelte-1n7zkv2"),E(n,"class","svelte-1n7zkv2")},m(e,t){k(e,n,t),w.m(n,null),b(n,l),b(n,r),b(r,s),b(s,c),b(r,a),b(r,d),b(d,u),b(r,f),b(r,p),b(p,h),b(n,m),g=!0,$||(v=[M(s,"click",q),M(d,"click",_),M(p,"click",B)],$=!0)},p(i,r){t=i,4&r&&o(y,y=t[13])?(de(),pe(w,1,1,e),ue(),w=$r(t),w.c(),fe(w),w.m(n,l)):w.p(t,r)},i(e){g||(fe(w),g=!0)},o(e){pe(w),g=!1},d(e){e&&x(n),w.d(e),$=!1,i(v)}}}function yr(e){let t,n,l,i=e[2],r=[];for(let t=0;t<i.length;t+=1)r[t]=vr(gr(e,i,t));const o=e=>pe(r[e],1,1,(()=>{r[e]=null}));return{c(){t=z("div");for(let e=0;e<r.length;e+=1)r[e].c();E(t,"id","gallery"),P(t,"font-size",Math.ceil(e[0]/20)+"px"),E(t,"class","svelte-1n7zkv2")},m(e,n){k(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null);l=!0},p(e,[n]){if(31&n){let l;for(i=e[2],l=0;l<i.length;l+=1){const o=gr(e,i,l);r[l]?(r[l].p(o,n),fe(r[l],1)):(r[l]=vr(o),r[l].c(),fe(r[l],1),r[l].m(t,null))}for(de(),l=i.length;l<r.length;l+=1)o(l);ue()}(!l||1&n)&&P(t,"font-size",Math.ceil(e[0]/20)+"px")},i(e){if(!l){for(let e=0;e<i.length;e+=1)fe(r[e]);Q((()=>{n||(n=ge(t,Re,{},!0)),n.run(1)})),l=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)pe(r[e]);n||(n=ge(t,Re,{},!1)),n.run(0),l=!1},d(e){e&&x(t),q(r,e),e&&n&&n.end()}}}function wr(e,t,n){let l,i,r,o;a(e,at,(e=>n(9,l=e))),a(e,ut,(e=>n(10,i=e))),a(e,dt,(e=>n(11,r=e))),a(e,ft,(e=>n(12,o=e)));let{gallery:s}=t,{w:c}=t,{h:d}=t;function u(e){const t=di();n(5,s[e]=l.length,s),h(ut,i++,i),h(dt,r[i]=s,r),l.push(t),n(2,p[e]=t,p)}function f(e){h(ft,o.edit=1,o),h(ft,o.c=s[e],o),h(ft,o.i=e,o)}let p;return e.$$set=e=>{"gallery"in e&&n(5,s=e.gallery),"w"in e&&n(0,c=e.w),"h"in e&&n(1,d=e.h)},e.$$.update=()=>{544&e.$$.dirty&&n(2,p=s.map((e=>{let t=l[e]||di();return l[e]||h(at,l[e]=t,l),t})))},[c,d,p,u,f,s,e=>u(e),e=>f(e),e=>$t(e)]}class br extends _e{constructor(e){super(),Ce(this,e,wr,yr,o,{gallery:5,w:0,h:1})}}const kr=e=>({dragging:2&e}),xr=e=>({dragging:e[1]});function qr(e,t,n){const l=e.slice();return l[23]=t[n],l}function zr(e){let t,n,l,i,r,o;const s=e[12].default,c=d(s,e,e[11],xr),a=c||function(e){let t;return{c(){t=z("div"),t.textContent="Drag & Drop image here or browse"},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}();return{c(){t=z("label"),a&&a.c(),n=j(),l=z("input"),E(l,"type","file"),E(l,"accept","image/*"),E(l,"class","svelte-10wewl"),E(t,"class","dragging svelte-10wewl")},m(s,c){k(s,t,c),a&&a.m(t,null),b(t,n),b(t,l),i=!0,r||(o=M(l,"input",e[9](Mr)),r=!0)},p(e,t){c&&c.p&&2050&t&&f(c,s,e,e[11],t,kr,xr)},i(e){i||(fe(a,e),i=!0)},o(e){pe(a,e),i=!1},d(e){e&&x(t),a&&a.d(e),r=!1,o()}}}function Cr(t){let n,l,r,o,s,c,a,d,u,f,p,h,m,g,$,v,y,w,_,B,S,L,P,T,F,O,D,R,G,N,K,J,U,W,Z,X,V,Y,ee,te,ne,le,ie=Object.keys(t[0].types),re=[];for(let e=0;e<ie.length;e+=1)re[e]=_r(qr(t,ie,e));return{c(){n=z("div"),l=z("div"),r=z("div"),r.textContent="Size:",o=z("input"),s=j(),c=z("div"),a=z("div"),a.textContent="Offset X:",d=z("input"),u=j(),f=z("div"),p=z("div"),p.textContent="Offset Y:",h=z("input"),m=j(),g=z("div"),$=C("svg"),v=C("g"),y=C("rect"),w=C("image"),P=C("rect"),T=C("g"),F=C("path"),O=j(),D=z("div"),R=z("div"),G=z("div"),G.textContent="Name:",N=z("input"),K=j(),J=z("div"),U=z("div"),U.textContent="Category:",W=j(),Z=z("select");for(let e=0;e<re.length;e+=1)re[e].c();X=j(),V=z("div"),Y=z("button"),Y.textContent="Add",ee=j(),te=z("button"),te.textContent="Cancel",E(r,"class","label"),E(o,"type","number"),E(o,"class","svelte-10wewl"),E(a,"class","label"),E(d,"type","number"),E(d,"class","svelte-10wewl"),E(p,"class","label"),E(h,"type","number"),E(h,"class","svelte-10wewl"),E(n,"class","input"),E(y,"x","0"),E(y,"y","0"),E(y,"width","100%"),E(y,"height","100%"),E(y,"fill","#377cd7"),E(w,"id","imageLoaded"),E(w,"x",_=(100-t[3])/2+t[4]+"%"),E(w,"y",B=(100-t[3])/2+t[5]+"%"),E(w,"width",S=t[3]+"%"),E(w,"height",L=t[3]+"%"),E(P,"x","30%"),E(P,"y","30%"),E(P,"width","40%"),E(P,"height","40%"),E(P,"fill","none"),E(P,"stroke","#000"),E(P,"stroke-width",".5"),E(F,"d","M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z"),E(T,"stroke","#000"),E(T,"fill","url(#backlight)"),E(v,"clip-path","url(#heater)"),E(v,"stroke","#fff"),E(v,"stroke-width",".5"),E($,"width","100%"),E($,"height","100%"),E($,"viewBox","0 0 200 200"),E(g,"class","exampleCOA svelte-10wewl"),E(G,"class","label"),E(N,"placeholder","Charge name"),N.required=!0,E(N,"class","svelte-10wewl"),E(U,"class","label"),E(Z,"class","svelte-10wewl"),void 0===t[7]&&Q((()=>t[18].call(Z))),E(Y,"class","svelte-10wewl"),E(te,"class","svelte-10wewl"),E(V,"class","buttons svelte-10wewl"),E(D,"class","output")},m(e,i){k(e,n,i),b(n,l),b(l,r),b(l,o),I(o,t[3]),b(n,s),b(n,c),b(c,a),b(c,d),I(d,t[4]),b(n,u),b(n,f),b(f,p),b(f,h),I(h,t[5]),k(e,m,i),k(e,g,i),b(g,$),b($,v),b(v,y),b(v,w),b(v,P),b(v,T),b(T,F),k(e,O,i),k(e,D,i),b(D,R),b(R,G),b(R,N),I(N,t[6]),b(D,K),b(D,J),b(J,U),b(J,W),b(J,Z);for(let e=0;e<re.length;e+=1)re[e].m(Z,null);A(Z,t[7]),b(D,X),b(D,V),b(V,Y),b(V,ee),b(V,te),ne||(le=[M(o,"input",t[14]),M(d,"input",t[15]),M(h,"input",t[16]),M(N,"input",t[17]),M(Z,"change",t[18]),M(Y,"click",t[10]),M(te,"click",t[19])],ne=!0)},p(e,t){if(8&t&&H(o.value)!==e[3]&&I(o,e[3]),16&t&&H(d.value)!==e[4]&&I(d,e[4]),32&t&&H(h.value)!==e[5]&&I(h,e[5]),24&t&&_!==(_=(100-e[3])/2+e[4]+"%")&&E(w,"x",_),40&t&&B!==(B=(100-e[3])/2+e[5]+"%")&&E(w,"y",B),8&t&&S!==(S=e[3]+"%")&&E(w,"width",S),8&t&&L!==(L=e[3]+"%")&&E(w,"height",L),64&t&&N.value!==e[6]&&I(N,e[6]),1&t){let n;for(ie=Object.keys(e[0].types),n=0;n<ie.length;n+=1){const l=qr(e,ie,n);re[n]?re[n].p(l,t):(re[n]=_r(l),re[n].c(),re[n].m(Z,null))}for(;n<re.length;n+=1)re[n].d(1);re.length=ie.length}129&t&&A(Z,e[7])},i:e,o:e,d(e){e&&x(n),e&&x(m),e&&x(g),e&&x(O),e&&x(D),q(re,e),ne=!1,i(le)}}}function _r(e){let t,n,l,i=e[23]+"";return{c(){t=z("option"),n=_(i),t.__value=l=e[23],t.value=t.__value},m(e,l){k(e,t,l),b(t,n)},p(e,r){1&r&&i!==(i=e[23]+"")&&L(n,i),1&r&&l!==(l=e[23])&&(t.__value=l,t.value=t.__value)},d(e){e&&x(t)}}}function jr(e){let t,n,l,r,o,s,c,a,d;const u=[Cr,zr],f=[];function p(e,t){return e[2]?0:1}return o=p(e),s=f[o]=u[o](e),{c(){t=z("div"),n=z("span"),n.textContent="×",l=j(),r=z("div"),s.c(),E(n,"class","close svelte-10wewl"),E(r,"class","container svelte-10wewl"),E(t,"id","rasterUpload"),E(t,"class","svelte-10wewl")},m(i,s){k(i,t,s),b(t,n),b(t,l),b(t,r),f[o].m(r,null),c=!0,a||(d=[M(n,"click",e[13]),M(t,"drop",S(e[9](Br))),M(t,"dragover",S(e[20])),M(t,"dragleave",S(e[21]))],a=!0)},p(e,[t]){let n=o;o=p(e),o===n?f[o].p(e,t):(de(),pe(f[n],1,1,(()=>{f[n]=null})),ue(),s=f[o],s||(s=f[o]=u[o](e),s.c()),fe(s,1),s.m(r,null))},i(e){c||(fe(s),c=!0)},o(e){pe(s),c=!1},d(e){e&&x(t),f[o].d(),a=!1,i(d)}}}function Br({dataTransfer:{files:e,items:t}}){return e.length?[...e]:t.filter((({kind:e})=>"file"===e)).map((({getAsFile:e})=>e()))}function Mr({target:e}){const t=e.files?[...e.files]:[];return e.value="",t}function Sr(e,t,n){let l,i;a(e,pt,(e=>n(22,l=e))),a(e,ft,(e=>n(8,i=e)));let r,{$$slots:o={},$$scope:s}=t,c=!1,d=!1,u=50,f=0,p=0,m="uploaded";return e.$$set=e=>{"$$scope"in e&&n(11,s=e.$$scope)},[En,c,d,u,f,p,r,m,i,e=>t=>{n(1,c=!1);const i=e(t),o=i.length?i[0]:[];o.type.match(/image.*/)?(n(2,d=!0),h(pt,l={type:"info",text:"Fit image into the rectangle for best result"},l),n(6,r=Xe(o.name)),function(e){const t=new FileReader;t.onload=function(e){const t=e.target.result;document.getElementById("rasterUpload").querySelector("svg image").setAttribute("href",t)},t.readAsDataURL(e)}(o)):h(pt,l={type:"error",text:"Not an image file!"},l)},function(){if(n(6,r=Xe(r)),!r||document.getElementById(r))return void h(pt,l={type:"error",text:"Name must be unique id!"},l);En.types[m]||n(0,En.types[m]=6,En),En.single[m]||n(0,En.single[m]=6,En),n(0,En[m][r]=5,En);const e=document.getElementById("rasterUpload").querySelector("svg image").cloneNode(!0);e.id=r,document.getElementById("charges").appendChild(e),n(2,d=!1),h(ft,i.raster=0,i)},s,o,()=>h(ft,i.raster=0,i),function(){u=H(this.value),n(3,u)},function(){f=H(this.value),n(4,f)},function(){p=H(this.value),n(5,p)},function(){r=this.value,n(6,r)},function(){m=T(this),n(7,m),n(0,En)},()=>n(2,d=!1),()=>n(1,c=!0),()=>n(1,c=!1)]}class Er extends _e{constructor(e){super(),Ce(this,e,Sr,jr,o,{})}}const Hr=e=>({dragging:2&e}),Lr=e=>({dragging:e[1]});function Ir(e,t,n){const l=e.slice();return l[23]=t[n],l}function Pr(e,t,n){const l=e.slice();return l[26]=t[n],l}function Ar(e){let t,n,l,i,r,o;const s=e[12].default,c=d(s,e,e[11],Lr),a=c||function(e){let t;return{c(){t=z("div"),t.textContent="Drag & Drop image here or browse"},m(e,n){k(e,t,n)},d(e){e&&x(t)}}}();return{c(){t=z("label"),a&&a.c(),n=j(),l=z("input"),E(l,"type","file"),E(l,"accept","image/svg, text/plain"),E(l,"class","svelte-17rarrm"),E(t,"class","dragging svelte-17rarrm")},m(s,c){k(s,t,c),a&&a.m(t,null),b(t,n),b(t,l),i=!0,r||(o=M(l,"input",e[9](Gr)),r=!0)},p(e,t){c&&c.p&&2050&t&&f(c,s,e,e[11],t,Hr,Lr)},i(e){i||(fe(a,e),i=!0)},o(e){pe(a,e),i=!1},d(e){e&&x(t),a&&a.d(e),r=!1,o()}}}function Tr(t){let n,l,r,o,s,c,a,d,u,f,p,h,m,g,$,v,y,w,_,B,S,H,L,P,T,F,O,D,R,G,N,K,J,U=["argent","or","gules","sable","azure","vert","purpure"],W=[];for(let e=0;e<7;e+=1)W[e]=Fr(Pr(t,U,e));let Z=Object.keys(t[0].types),X=[];for(let e=0;e<Z.length;e+=1)X[e]=Or(Ir(t,Z,e));return{c(){n=z("div"),l=z("div"),l.textContent="SVG Markup:",r=j(),o=z("textarea"),s=j(),c=z("div"),a=z("button"),a.textContent="Download Template",d=j(),u=z("div"),f=C("svg"),p=j(),h=z("div"),m=z("div"),g=z("div"),g.textContent="Tincture:",$=j(),v=z("select");for(let e=0;e<7;e+=1)W[e].c();y=j(),w=z("div"),_=z("div"),_.textContent="Name:",B=j(),S=z("input"),H=j(),L=z("div"),P=z("div"),P.textContent="Category:",T=j(),F=z("select");for(let e=0;e<X.length;e+=1)X[e].c();O=j(),D=z("div"),R=z("button"),R.textContent="Add",G=j(),N=z("button"),N.textContent="Cancel",E(l,"class","label"),E(o,"rows","10"),E(o,"cols","30"),E(o,"class","svelte-17rarrm"),E(n,"class","input svelte-17rarrm"),E(f,"width","100%"),E(f,"height","100%"),E(f,"fill",t[6]),E(f,"viewBox","50 50 100 100"),E(u,"class","exampleCOA svelte-17rarrm"),E(g,"class","label"),E(v,"class","svelte-17rarrm"),void 0===t[6]&&Q((()=>t[15].call(v))),E(_,"class","label"),E(S,"placeholder","Charge name"),S.required=!0,E(S,"class","svelte-17rarrm"),E(P,"class","label"),E(F,"class","svelte-17rarrm"),void 0===t[5]&&Q((()=>t[17].call(F))),E(h,"class","output svelte-17rarrm")},m(e,i){k(e,n,i),b(n,l),b(n,r),b(n,o),I(o,t[3]),b(n,s),b(n,c),b(c,a),k(e,d,i),k(e,u,i),b(u,f),f.innerHTML=t[3],k(e,p,i),k(e,h,i),b(h,m),b(m,g),b(m,$),b(m,v);for(let e=0;e<7;e+=1)W[e].m(v,null);A(v,t[6]),b(h,y),b(h,w),b(w,_),b(w,B),b(w,S),I(S,t[4]),b(h,H),b(h,L),b(L,P),b(L,T),b(L,F);for(let e=0;e<X.length;e+=1)X[e].m(F,null);A(F,t[5]),b(h,O),b(h,D),b(D,R),b(D,G),b(D,N),K||(J=[M(o,"input",t[14]),M(a,"click",Nr),M(v,"change",t[15]),M(S,"input",t[16]),M(F,"change",t[17]),M(R,"click",t[10]),M(N,"click",t[18])],K=!0)},p(e,t){if(8&t&&I(o,e[3]),8&t&&(f.innerHTML=e[3]),320&t&&E(f,"fill",e[6]),256&t){let n;for(U=["argent","or","gules","sable","azure","vert","purpure"],n=0;n<7;n+=1){const l=Pr(e,U,n);W[n]?W[n].p(l,t):(W[n]=Fr(l),W[n].c(),W[n].m(v,null))}for(;n<7;n+=1)W[n].d(1)}if(320&t&&A(v,e[6]),16&t&&S.value!==e[4]&&I(S,e[4]),1&t){let n;for(Z=Object.keys(e[0].types),n=0;n<Z.length;n+=1){const l=Ir(e,Z,n);X[n]?X[n].p(l,t):(X[n]=Or(l),X[n].c(),X[n].m(F,null))}for(;n<X.length;n+=1)X[n].d(1);X.length=Z.length}33&t&&A(F,e[5])},i:e,o:e,d(e){e&&x(n),e&&x(d),e&&x(u),e&&x(p),e&&x(h),q(W,e),q(X,e),K=!1,i(J)}}}function Fr(e){let t,n,l;return{c(){t=z("option"),n=_(e[26]),t.__value=l=e[8][e[26]],t.value=t.__value},m(e,l){k(e,t,l),b(t,n)},p(e,n){256&n&&l!==(l=e[8][e[26]])&&(t.__value=l,t.value=t.__value)},d(e){e&&x(t)}}}function Or(e){let t,n,l,i=e[23]+"";return{c(){t=z("option"),n=_(i),t.__value=l=e[23],t.value=t.__value},m(e,l){k(e,t,l),b(t,n)},p(e,r){1&r&&i!==(i=e[23]+"")&&L(n,i),1&r&&l!==(l=e[23])&&(t.__value=l,t.value=t.__value)},d(e){e&&x(t)}}}function Dr(e){let t,n,l,r,o,s,c,a,d;const u=[Tr,Ar],f=[];function p(e,t){return e[2]?0:1}return o=p(e),s=f[o]=u[o](e),{c(){t=z("div"),n=z("span"),n.textContent="×",l=j(),r=z("div"),s.c(),E(n,"class","close svelte-17rarrm"),E(r,"class","container svelte-17rarrm"),E(t,"id","vectorUpload"),E(t,"class","svelte-17rarrm")},m(i,s){k(i,t,s),b(t,n),b(t,l),b(t,r),f[o].m(r,null),c=!0,a||(d=[M(n,"click",e[13]),M(t,"drop",S(e[9](Rr))),M(t,"dragover",S(e[19])),M(t,"dragleave",S(e[20]))],a=!0)},p(e,[t]){let n=o;o=p(e),o===n?f[o].p(e,t):(de(),pe(f[n],1,1,(()=>{f[n]=null})),ue(),s=f[o],s||(s=f[o]=u[o](e),s.c()),fe(s,1),s.m(r,null))},i(e){c||(fe(s),c=!0)},o(e){pe(s),c=!1},d(e){e&&x(t),f[o].d(),a=!1,i(d)}}}function Rr({dataTransfer:{files:e,items:t}}){return e.length?[...e]:t.filter((({kind:e})=>"file"===e)).map((({getAsFile:e})=>e()))}function Gr({target:e}){const t=e.files?[...e.files]:[];return e.value="",t}function Nr(){fetch("charges/template.svg").then((e=>e.blob().then((e=>{const t=document.createElement("a");t.href=URL.createObjectURL(e),t.setAttribute("download","armoriaChargeTemplate.txt"),t.click()}))))}function Kr(e,t,n){let l,i,r;a(e,pt,(e=>n(21,l=e))),a(e,ft,(e=>n(7,i=e))),a(e,nt,(e=>n(8,r=e)));let o,s,{$$slots:c={},$$scope:d}=t,u=!1,f=!1,p="uploaded",m="#d7374a";return e.$$set=e=>{"$$scope"in e&&n(11,d=e.$$scope)},[En,u,f,o,s,p,m,i,r,e=>t=>{n(1,u=!1);const i=e(t),r=i.length?i[0]:[];r.type.match(/text.*|svg.*/)?(n(2,f=!0),n(4,s=Xe(r.name)),function(e){const t=new FileReader;t.onload=function(e){const t=e.target.result,i=document.createElement("html");i.innerHTML=t;const r=i.querySelector("g");if(!r)return h(pt,l={type:"error",text:"File must be prepared svg. Download template for guidance!"},l),void n(2,f=!1);n(3,o=r.outerHTML)},t.readAsText(e)}(r)):h(pt,l={type:"error",text:"File must be text or svg!"},l)},function(){if(n(4,s=Xe(s)),!s||document.getElementById(s))return void h(pt,l={type:"error",text:"Name must be unique id!"},l);En.types[p]||n(0,En.types[p]=6,En),En.single[p]||n(0,En.single[p]=6,En),n(0,En[p][s]=5,En);const e=document.createElement("html");e.innerHTML=o;const t=e.querySelector("g");t.id=s,defs.insertAdjacentHTML("beforeend",t.outerHTML),n(2,f=!1),h(ft,i.vector=0,i)},d,c,()=>h(ft,i.vector=0,i),function(){o=this.value,n(3,o)},function(){m=T(this),n(6,m)},function(){s=this.value,n(4,s)},function(){p=T(this),n(5,p),n(0,En)},()=>n(2,f=!1),()=>n(1,u=!0),()=>n(1,u=!1)]}class Jr extends _e{constructor(e){super(),Ce(this,e,Kr,Dr,o,{})}}function Ur(n){let l,o,s,c,a,d,u,f;return{c(){l=z("div"),o=_(n[0]),E(l,"class",s=p(n[1])+" svelte-skxr9t")},m(e,t){k(e,l,t),b(l,o),d=!0,u||(f=M(l,"click",n[2]),u=!0)},p:e,i(e){d||(Q((()=>{a&&a.end(1),c||(c=me(l,Ge,{y:200,duration:500})),c.start()})),d=!0)},o(n){c&&c.invalidate(),a=function(n,l,o){let s,c=l(n,o),a=!0;const d=ae;function u(){const{delay:l=0,duration:r=300,easing:o=t,tick:u=e,css:f}=c||he;f&&(s=G(n,1,0,r,l,o,f));const p=g()+l,h=p+r;Q((()=>se(n,!1,"start"))),w((e=>{if(a){if(e>=h)return u(0,1),se(n,!1,"end"),--d.r||i(d.c),!1;if(e>=p){const t=o((e-p)/r);u(1-t,t)}}return a}))}return d.r+=1,r(c)?oe().then((()=>{c=c(),u()})):u(),{end(e){e&&c.tick&&c.tick(1,0),a&&(s&&N(n,s),a=!1)}}}(l,Re,{}),d=!1},d(e){e&&x(l),e&&a&&a.end(),u=!1,f()}}}function Wr(e,t,n){let l;a(e,pt,(e=>n(3,l=e)));const{text:i,type:r="info",timeout:o=4e3}=l;var s;return s=async()=>{setTimeout((()=>h(pt,l=null,l)),o)},J().$$.on_mount.push(s),[i,r,function(){h(pt,l=null,l)}]}class Zr extends _e{constructor(e){super(),Ce(this,e,Wr,Ur,o,{})}}function Xr(e,t,n){const l=e.slice();return l[5]=t[n],l}function Vr(e){let t,n,l,i,r,o,s,c,a,d,u,f,p,h,m,g,$,v,y,w,q,z,_,j,B,M,S,H,L,I;return{c(){t=C("pattern"),n=C("rect"),i=C("rect"),o=C("rect"),c=C("rect"),d=C("rect"),f=C("line"),p=C("line"),h=C("line"),m=C("line"),g=C("line"),$=C("line"),v=C("line"),y=C("line"),w=C("line"),q=C("line"),z=C("line"),_=C("line"),j=C("line"),B=C("line"),M=C("line"),S=C("line"),E(n,"x","0"),E(n,"y","0"),E(n,"width","200"),E(n,"height","200"),E(n,"stroke","none"),E(n,"fill",l=e[1][e[5].t1]),E(i,"x","0"),E(i,"y","35"),E(i,"width","200"),E(i,"height","30"),E(i,"stroke","none"),E(i,"fill",r=e[1][e[5].t2]),E(o,"x","0"),E(o,"y","135"),E(o,"width","200"),E(o,"height","30"),E(o,"stroke","none"),E(o,"fill",s=e[1][e[5].t2]),E(c,"x","35"),E(c,"y","0"),E(c,"width","30"),E(c,"height","200"),E(c,"stroke","none"),E(c,"fill",a=e[1][e[5].t2]),E(d,"x","135"),E(d,"y","0"),E(d,"width","30"),E(d,"height","200"),E(d,"stroke","none"),E(d,"fill",u=e[1][e[5].t2]),E(f,"x1","0"),E(f,"y1","35"),E(f,"x2","35"),E(f,"y2","35"),E(p,"x1","0"),E(p,"y1","65"),E(p,"x2","35"),E(p,"y2","65"),E(h,"x1","35"),E(h,"y1","165"),E(h,"x2","35"),E(h,"y2","200"),E(m,"x1","65"),E(m,"y1","165"),E(m,"x2","65"),E(m,"y2","200"),E(g,"x1","135"),E(g,"y1","0"),E(g,"x2","135"),E(g,"y2","35"),E($,"x1","165"),E($,"y1","0"),E($,"x2","165"),E($,"y2","35"),E(v,"x1","135"),E(v,"y1","65"),E(v,"x2","135"),E(v,"y2","200"),E(y,"x1","165"),E(y,"y1","65"),E(y,"x2","165"),E(y,"y2","200"),E(w,"x1","35"),E(w,"y1","0"),E(w,"x2","35"),E(w,"y2","135"),E(q,"x1","65"),E(q,"y1","0"),E(q,"x2","65"),E(q,"y2","135"),E(z,"x1","65"),E(z,"y1","35"),E(z,"x2","200"),E(z,"y2","35"),E(_,"x1","65"),E(_,"y1","65"),E(_,"x2","200"),E(_,"y2","65"),E(j,"x1","0"),E(j,"y1","135"),E(j,"x2","135"),E(j,"y2","135"),E(B,"x1","0"),E(B,"y1","165"),E(B,"x2","135"),E(B,"y2","165"),E(M,"x1","165"),E(M,"y1","135"),E(M,"x2","200"),E(M,"y2","135"),E(S,"x1","165"),E(S,"y1","165"),E(S,"x2","200"),E(S,"y2","165"),E(t,"id",H=e[5].id),E(t,"width",L=.28*e[5].mod),E(t,"height",I=.28*e[5].mod),E(t,"viewBox","0 0 200 200"),E(t,"patternTransform","translate(-19,21) rotate(45)"),E(t,"stroke","#000"),E(t,"stroke-width","2")},m(e,l){k(e,t,l),b(t,n),b(t,i),b(t,o),b(t,c),b(t,d),b(t,f),b(t,p),b(t,h),b(t,m),b(t,g),b(t,$),b(t,v),b(t,y),b(t,w),b(t,q),b(t,z),b(t,_),b(t,j),b(t,B),b(t,M),b(t,S)},p(e,f){3&f&&l!==(l=e[1][e[5].t1])&&E(n,"fill",l),3&f&&r!==(r=e[1][e[5].t2])&&E(i,"fill",r),3&f&&s!==(s=e[1][e[5].t2])&&E(o,"fill",s),3&f&&a!==(a=e[1][e[5].t2])&&E(c,"fill",a),3&f&&u!==(u=e[1][e[5].t2])&&E(d,"fill",u),1&f&&H!==(H=e[5].id)&&E(t,"id",H),1&f&&L!==(L=.28*e[5].mod)&&E(t,"width",L),1&f&&I!==(I=.28*e[5].mod)&&E(t,"height",I)},d(e){e&&x(t)}}}function Yr(e){let t,n,l,i,r,o,s,c,a,d;return{c(){t=C("pattern"),n=C("rect"),i=C("rect"),o=C("line"),E(n,"x","0"),E(n,"y","0"),E(n,"width","100"),E(n,"height","100"),E(n,"fill",l=e[1][e[5].t1]),E(i,"x","0"),E(i,"y","0"),E(i,"width","100"),E(i,"height","50"),E(i,"stroke",r=e[1][e[5].t2]),E(i,"stroke-width","4"),E(o,"x1","50"),E(o,"y1","50"),E(o,"x2","50"),E(o,"y2","100"),E(o,"stroke",s=e[1][e[5].t2]),E(o,"stroke-width","5"),E(t,"id",c=e[5].id),E(t,"width",a=.125*e[5].mod),E(t,"height",d=.125*e[5].mod),E(t,"viewBox","0 0 100 100"),E(t,"fill","none")},m(e,l){k(e,t,l),b(t,n),b(t,i),b(t,o)},p(e,u){3&u&&l!==(l=e[1][e[5].t1])&&E(n,"fill",l),3&u&&r!==(r=e[1][e[5].t2])&&E(i,"stroke",r),3&u&&s!==(s=e[1][e[5].t2])&&E(o,"stroke",s),1&u&&c!==(c=e[5].id)&&E(t,"id",c),1&u&&a!==(a=.125*e[5].mod)&&E(t,"width",a),1&u&&d!==(d=.125*e[5].mod)&&E(t,"height",d)},d(e){e&&x(t)}}}function Qr(e){let t,n,l,i,r,o,s,c,a,d,u,f,p,h,m;return{c(){t=C("pattern"),n=C("rect"),i=C("circle"),s=C("circle"),d=C("circle"),E(n,"x","0"),E(n,"y","0"),E(n,"width","100"),E(n,"height","100"),E(n,"fill",l=e[1][e[5].t1]),E(i,"cx","0"),E(i,"cy","51"),E(i,"r","45"),E(i,"stroke",r=e[1][e[5].t2]),E(i,"fill",o=e[1][e[5].t1]),E(i,"stroke-width","10"),E(s,"cx","100"),E(s,"cy","51"),E(s,"r","45"),E(s,"stroke",c=e[1][e[5].t2]),E(s,"fill",a=e[1][e[5].t1]),E(s,"stroke-width","10"),E(d,"cx","50"),E(d,"cy","1"),E(d,"r","45"),E(d,"stroke",u=e[1][e[5].t2]),E(d,"fill",f=e[1][e[5].t1]),E(d,"stroke-width","10"),E(t,"id",p=e[5].id),E(t,"width",h=.125*e[5].mod),E(t,"height",m=.125*e[5].mod),E(t,"viewBox","0 0 100 100")},m(e,l){k(e,t,l),b(t,n),b(t,i),b(t,s),b(t,d)},p(e,g){3&g&&l!==(l=e[1][e[5].t1])&&E(n,"fill",l),3&g&&r!==(r=e[1][e[5].t2])&&E(i,"stroke",r),3&g&&o!==(o=e[1][e[5].t1])&&E(i,"fill",o),3&g&&c!==(c=e[1][e[5].t2])&&E(s,"stroke",c),3&g&&a!==(a=e[1][e[5].t1])&&E(s,"fill",a),3&g&&u!==(u=e[1][e[5].t2])&&E(d,"stroke",u),3&g&&f!==(f=e[1][e[5].t1])&&E(d,"fill",f),1&g&&p!==(p=e[5].id)&&E(t,"id",p),1&g&&h!==(h=.125*e[5].mod)&&E(t,"width",h),1&g&&m!==(m=.125*e[5].mod)&&E(t,"height",m)},d(e){e&&x(t)}}}function eo(e){let t,n,l,i,r,o,s,c;return{c(){t=C("pattern"),n=C("rect"),i=C("polygon"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","100"),E(n,"fill",l=e[1][e[5].t1]),E(i,"points","25,0 50,50 25,100 0,50"),E(i,"fill",r=e[1][e[5].t2]),E(t,"id",o=e[5].id),E(t,"width",s=.125*e[5].mod),E(t,"height",c=.25*e[5].mod),E(t,"viewBox","0 0 50 100"),E(t,"patternTransform","translate(22,44) rotate(-26.5)")},m(e,l){k(e,t,l),b(t,n),b(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t1])&&E(n,"fill",l),3&a&&r!==(r=e[1][e[5].t2])&&E(i,"fill",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.25*e[5].mod)&&E(t,"height",c)},d(e){e&&x(t)}}}function to(e){let t,n,l,i,r,o,s,c;return{c(){t=C("pattern"),n=C("rect"),i=C("line"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","50"),E(n,"fill",l=e[1][e[5].t2]),E(i,"x1","0"),E(i,"y1","37.5"),E(i,"x2","50"),E(i,"y2","37.5"),E(i,"stroke",r=e[1][e[5].t1]),E(i,"stroke-width","25"),E(t,"id",o=e[5].id),E(t,"width",s=.36*e[5].mod),E(t,"height",c=.36*e[5].mod),E(t,"viewBox","0 0 50 50"),E(t,"patternTransform","rotate(-45)")},m(e,l){k(e,t,l),b(t,n),b(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t2])&&E(n,"fill",l),3&a&&r!==(r=e[1][e[5].t1])&&E(i,"stroke",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.36*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.36*e[5].mod)&&E(t,"height",c)},d(e){e&&x(t)}}}function no(e){let t,n,l,i,r,o,s,c;return{c(){t=C("pattern"),n=C("rect"),i=C("line"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","50"),E(n,"fill",l=e[1][e[5].t2]),E(i,"x1","0"),E(i,"y1","37.5"),E(i,"x2","50"),E(i,"y2","37.5"),E(i,"stroke",r=e[1][e[5].t1]),E(i,"stroke-width","25"),E(t,"id",o=e[5].id),E(t,"width",s=.36*e[5].mod),E(t,"height",c=.36*e[5].mod),E(t,"viewBox","0 0 50 50"),E(t,"patternTransform","rotate(45)")},m(e,l){k(e,t,l),b(t,n),b(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t2])&&E(n,"fill",l),3&a&&r!==(r=e[1][e[5].t1])&&E(i,"stroke",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.36*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.36*e[5].mod)&&E(t,"height",c)},d(e){e&&x(t)}}}function lo(e){let t,n,l,i,r,o,s,c,a,d;return{c(){t=C("pattern"),n=C("rect"),i=C("rect"),o=C("rect"),E(n,"x","0"),E(n,"y","0"),E(n,"width","25"),E(n,"height","100"),E(n,"fill",l=e[1][e[5].t2]),E(i,"x","0"),E(i,"y","35"),E(i,"width","25"),E(i,"height","10"),E(i,"fill",r=e[1][e[5].t1]),E(o,"x","0"),E(o,"y","55"),E(o,"width","25"),E(o,"height","10"),E(o,"fill",s=e[1][e[5].t1]),E(t,"id",c=e[5].id),E(t,"width",a=.125*e[5].mod),E(t,"height",d=.5*e[5].mod),E(t,"viewBox","0 0 25 100")},m(e,l){k(e,t,l),b(t,n),b(t,i),b(t,o)},p(e,u){3&u&&l!==(l=e[1][e[5].t2])&&E(n,"fill",l),3&u&&r!==(r=e[1][e[5].t1])&&E(i,"fill",r),3&u&&s!==(s=e[1][e[5].t1])&&E(o,"fill",s),1&u&&c!==(c=e[5].id)&&E(t,"id",c),1&u&&a!==(a=.125*e[5].mod)&&E(t,"width",a),1&u&&d!==(d=.5*e[5].mod)&&E(t,"height",d)},d(e){e&&x(t)}}}function io(e){let t,n,l,i,r,o,s,c,a,d;return{c(){t=C("pattern"),n=C("rect"),i=C("rect"),o=C("rect"),E(n,"x","0"),E(n,"y","0"),E(n,"width","25"),E(n,"height","100"),E(n,"fill",l=e[1][e[5].t2]),E(i,"x","0"),E(i,"y","25"),E(i,"width","25"),E(i,"height","25"),E(i,"fill",r=e[1][e[5].t1]),E(o,"x","0"),E(o,"y","75"),E(o,"width","25"),E(o,"height","25"),E(o,"fill",s=e[1][e[5].t1]),E(t,"id",c=e[5].id),E(t,"width",a=.125*e[5].mod),E(t,"height",d=.5*e[5].mod),E(t,"viewBox","0 0 25 100")},m(e,l){k(e,t,l),b(t,n),b(t,i),b(t,o)},p(e,u){3&u&&l!==(l=e[1][e[5].t2])&&E(n,"fill",l),3&u&&r!==(r=e[1][e[5].t1])&&E(i,"fill",r),3&u&&s!==(s=e[1][e[5].t1])&&E(o,"fill",s),1&u&&c!==(c=e[5].id)&&E(t,"id",c),1&u&&a!==(a=.125*e[5].mod)&&E(t,"width",a),1&u&&d!==(d=.5*e[5].mod)&&E(t,"height",d)},d(e){e&&x(t)}}}function ro(e){let t,n,l,i,r,o,s,c,a,d;return{c(){t=C("pattern"),n=C("rect"),i=C("rect"),o=C("rect"),E(n,"x","0"),E(n,"y","0"),E(n,"width","100"),E(n,"height","25"),E(n,"fill",l=e[1][e[5].t1]),E(i,"x","25"),E(i,"y","0"),E(i,"width","25"),E(i,"height","25"),E(i,"fill",r=e[1][e[5].t2]),E(o,"x","75"),E(o,"y","0"),E(o,"width","25"),E(o,"height","25"),E(o,"fill",s=e[1][e[5].t2]),E(t,"id",c=e[5].id),E(t,"width",a=.5*e[5].mod),E(t,"height",d=.125*e[5].mod),E(t,"viewBox","0 0 100 25")},m(e,l){k(e,t,l),b(t,n),b(t,i),b(t,o)},p(e,u){3&u&&l!==(l=e[1][e[5].t1])&&E(n,"fill",l),3&u&&r!==(r=e[1][e[5].t2])&&E(i,"fill",r),3&u&&s!==(s=e[1][e[5].t2])&&E(o,"fill",s),1&u&&c!==(c=e[5].id)&&E(t,"id",c),1&u&&a!==(a=.5*e[5].mod)&&E(t,"width",a),1&u&&d!==(d=.125*e[5].mod)&&E(t,"height",d)},d(e){e&&x(t)}}}function oo(e){let t,n,l,i,r,o,s,c;return{c(){t=C("pattern"),n=C("rect"),i=C("polygon"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","100"),E(n,"fill",l=e[1][e[5].t1]),E(i,"points","25,0 50,50 25,100 0,50"),E(i,"fill",r=e[1][e[5].t2]),E(t,"id",o=e[5].id),E(t,"width",s=.125*e[5].mod),E(t,"height",c=.25*e[5].mod),E(t,"viewBox","0 0 50 100")},m(e,l){k(e,t,l),b(t,n),b(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t1])&&E(n,"fill",l),3&a&&r!==(r=e[1][e[5].t2])&&E(i,"fill",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.25*e[5].mod)&&E(t,"height",c)},d(e){e&&x(t)}}}function so(e){let t,n,l,i,r,o,s,c;return{c(){t=C("pattern"),n=C("rect"),i=C("polygon"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","50"),E(n,"fill",l=e[1][e[5].t1]),E(i,"points","25,0 50,25 25,50 0,25"),E(i,"fill",r=e[1][e[5].t2]),E(t,"id",o=e[5].id),E(t,"width",s=.125*e[5].mod),E(t,"height",c=.125*e[5].mod),E(t,"viewBox","0 0 50 50")},m(e,l){k(e,t,l),b(t,n),b(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t1])&&E(n,"fill",l),3&a&&r!==(r=e[1][e[5].t2])&&E(i,"fill",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.125*e[5].mod)&&E(t,"height",c)},d(e){e&&x(t)}}}function co(e){let t,n,l,i,r,o,s,c,a,d;return{c(){t=C("pattern"),n=C("rect"),l=C("rect"),r=C("rect"),E(n,"x","0"),E(n,"y","0"),E(n,"width","50"),E(n,"height","50"),E(l,"x","0"),E(l,"y","0"),E(l,"width","25"),E(l,"height","25"),E(l,"fill",i=e[1][e[5].t1]),E(r,"x","25"),E(r,"y","25"),E(r,"width","25"),E(r,"height","25"),E(r,"fill",o=e[1][e[5].t1]),E(t,"id",s=e[5].id),E(t,"width",c=.25*e[5].mod),E(t,"height",a=.25*e[5].mod),E(t,"viewBox","0 0 50 50"),E(t,"fill",d=e[1][e[5].t2])},m(e,i){k(e,t,i),b(t,n),b(t,l),b(t,r)},p(e,n){3&n&&i!==(i=e[1][e[5].t1])&&E(l,"fill",i),3&n&&o!==(o=e[1][e[5].t1])&&E(r,"fill",o),1&n&&s!==(s=e[5].id)&&E(t,"id",s),1&n&&c!==(c=.25*e[5].mod)&&E(t,"width",c),1&n&&a!==(a=.25*e[5].mod)&&E(t,"height",a),3&n&&d!==(d=e[1][e[5].t2])&&E(t,"fill",d)},d(e){e&&x(t)}}}function ao(e){let t,n,l,i,r,o,s,c,a,d,u,f,p,h,m;return{c(){t=C("pattern"),n=C("rect"),i=C("path"),r=C("path"),o=C("path"),s=C("path"),c=C("path"),a=C("path"),d=C("path"),u=C("path"),E(n,"x","0"),E(n,"y","0"),E(n,"width","25"),E(n,"height","25"),E(n,"fill",l=e[1][e[5].t1]),E(i,"d","m19.1,14.8 c-0.7,2.9 -2.1,5 -3.5,6.5 0.6,-0.1 1.3,-0.6 2,-0.9 -0.4,0.8 -0.8,1.4 -1.2,2.1 0.2,-0.1 1,-0.8 2,-1.8 0.2,1.4 0.4,2.9 0.7,3.9 0.3,-0.9 0.5,-2.5 0.7,-3.9 0.6,0.6 1.2,1.3 2.1,1.8 l -1.2,-2.2 c 0.6,0.3 1.3,0.8 1.9,1 -1.5,-1.6 -2.8,-3.6 -3.5,-6.5z"),E(r,"d","m16.1,14.9 c-0.1,-0.2 -1,0.4 -1.5,-0.8 1.2,1.1 2.5,-1.2 3.5,0.4 0.3,0.7 -1.1,1.8 -2,0.4z"),E(o,"d","m21.9,14.9 c.1,-.2 1,0.4 1.5,-0.8 -1.2,1.1 -2.5,-1.2 -3.5,0.4 -0.3,0.7 1.1,1.8 2,0.4z"),E(s,"d","m19.4,12.4 c-0.2,-0.1 0.7,-0.7 -0.6,-1.4 1.1,1.2 -2,1.7 -0.3,2.9 0.7,0.4 2.4,-0.5 0.9,-1.5z"),E(c,"d","M5.8,4.6 C5.1,7.5 3.7,9.5 2.3,11 2.9,10.9 3.6,10.5 4.2,10.1 3.8,10.9 3.4,11.5 3,12.2 3.3,12.1 4,11.4 5.1,10.4 c 0.2,1.4 0.4,2.9 0.7,3.9 0.3,-0.9 0.5,-2.5 0.7,-3.9 0.6,0.6 1.2,1.3 2.1,1.8 L 7.3,10 c 0.6,0.3 1.3,0.8 1.9,1 C7.7,9.5 6.4,7.5 5.8,4.6Z"),E(a,"d","M2.9,4.7 C2.8,4.6 1.9,5.1 1.3,4 2.6,5.1 3.8,2.8 4.9,4.3 5.2,5 3.8,6.1 2.9,4.7Z"),E(d,"d","M8.6,4.7 C8.7,4.5 9.6,5.1 10.1,3.9 8.9,5.1 7.6,2.7 6.6,4.3 6.3,5 7.7,6.1 8.6,4.7Z"),E(u,"d","M6.1,2.2 C 5.9,2.1 6.8,1.5 5.5,0.8 6.6,2.1 3.5,2.6 5.2,3.7 5.9,4.1 7.6,3.3 6.1,2.2Z"),E(t,"id",f=e[5].id),E(t,"width",p=.125*e[5].mod),E(t,"height",h=.125*e[5].mod),E(t,"viewBox","0 0 25 25"),E(t,"fill",m=e[1][e[5].t2])},m(e,l){k(e,t,l),b(t,n),b(t,i),b(t,r),b(t,o),b(t,s),b(t,c),b(t,a),b(t,d),b(t,u)},p(e,i){3&i&&l!==(l=e[1][e[5].t1])&&E(n,"fill",l),1&i&&f!==(f=e[5].id)&&E(t,"id",f),1&i&&p!==(p=.125*e[5].mod)&&E(t,"width",p),1&i&&h!==(h=.125*e[5].mod)&&E(t,"height",h),3&i&&m!==(m=e[1][e[5].t2])&&E(t,"fill",m)},d(e){e&&x(t)}}}function uo(e){let t,n,l,i,r,o,s,c,a,d,u,f,p;return{c(){t=C("pattern"),n=C("rect"),i=C("path"),o=C("rect"),a=C("path"),E(n,"x","0"),E(n,"y","0"),E(n,"width","25"),E(n,"height","25"),E(n,"fill",l=e[1][e[5].t2]),E(i,"d","m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),E(i,"fill",r=e[1][e[5].t1]),E(o,"x","0"),E(o,"y","25"),E(o,"width","25"),E(o,"height","25"),E(o,"fill",s=e[1][e[5].t1]),E(o,"stroke-width","1"),E(o,"stroke",c=e[1][e[5].t1]),E(a,"d","m12.5,25 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),E(a,"fill",d=e[1][e[5].t2]),E(t,"id",u=e[5].id),E(t,"width",f=.125*e[5].mod),E(t,"height",p=.25*e[5].mod),E(t,"viewBox","0 0 25 50")},m(e,l){k(e,t,l),b(t,n),b(t,i),b(t,o),b(t,a)},p(e,h){3&h&&l!==(l=e[1][e[5].t2])&&E(n,"fill",l),3&h&&r!==(r=e[1][e[5].t1])&&E(i,"fill",r),3&h&&s!==(s=e[1][e[5].t1])&&E(o,"fill",s),3&h&&c!==(c=e[1][e[5].t1])&&E(o,"stroke",c),3&h&&d!==(d=e[1][e[5].t2])&&E(a,"fill",d),1&h&&u!==(u=e[5].id)&&E(t,"id",u),1&h&&f!==(f=.125*e[5].mod)&&E(t,"width",f),1&h&&p!==(p=.25*e[5].mod)&&E(t,"height",p)},d(e){e&&x(t)}}}function fo(e){let t,n,l,i,r,o,s,c;return{c(){t=C("pattern"),n=C("rect"),i=C("path"),E(n,"x","0"),E(n,"y","0"),E(n,"width","200"),E(n,"height","200"),E(n,"fill",l=e[1][e[5].t2]),E(i,"d","m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),E(i,"fill",r=e[1][e[5].t1]),E(i,"stroke","#000"),E(i,"stroke-width",".2"),E(t,"id",o=e[5].id),E(t,"width",s=.125*e[5].mod),E(t,"height",c=.125*e[5].mod),E(t,"viewBox","0 0 25 25")},m(e,l){k(e,t,l),b(t,n),b(t,i)},p(e,a){3&a&&l!==(l=e[1][e[5].t2])&&E(n,"fill",l),3&a&&r!==(r=e[1][e[5].t1])&&E(i,"fill",r),1&a&&o!==(o=e[5].id)&&E(t,"id",o),1&a&&s!==(s=.125*e[5].mod)&&E(t,"width",s),1&a&&c!==(c=.125*e[5].mod)&&E(t,"height",c)},d(e){e&&x(t)}}}function po(e){let t,n,l,i,r,o,s,c,a,d,u,f;return{c(){t=C("pattern"),n=C("rect"),i=C("path"),o=C("rect"),c=C("path"),E(n,"x","0"),E(n,"y","0"),E(n,"width","25"),E(n,"height","25"),E(n,"fill",l=e[1][e[5].t2]),E(n,"stroke","none"),E(i,"d","m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z"),E(i,"fill",r=e[1][e[5].t1]),E(o,"x","0"),E(o,"y","25"),E(o,"width","25"),E(o,"height","25"),E(o,"fill",s=e[1][e[5].t1]),E(o,"stroke-width","1"),E(o,"stroke","none"),E(c,"d","m25,25 l-6.25,6.25 v12.5 l-6.25,6.25 l-6.25,-6.25 v-12.5 l-6.25,-6.25 z"),E(c,"fill",a=e[1][e[5].t2]),E(t,"id",d=e[5].id),E(t,"width",u=.125*e[5].mod),E(t,"height",f=.25*e[5].mod),E(t,"viewBox","0 0 25 50"),E(t,"stroke","#000"),E(t,"stroke-width",".2")},m(e,l){k(e,t,l),b(t,n),b(t,i),b(t,o),b(t,c)},p(e,p){3&p&&l!==(l=e[1][e[5].t2])&&E(n,"fill",l),3&p&&r!==(r=e[1][e[5].t1])&&E(i,"fill",r),3&p&&s!==(s=e[1][e[5].t1])&&E(o,"fill",s),3&p&&a!==(a=e[1][e[5].t2])&&E(c,"fill",a),1&p&&d!==(d=e[5].id)&&E(t,"id",d),1&p&&u!==(u=.125*e[5].mod)&&E(t,"width",u),1&p&&f!==(f=.25*e[5].mod)&&E(t,"height",f)},d(e){e&&x(t)}}}function ho(e){let t,n,l,i,r,o,s,c,a,d={ctx:e,current:null,token:null,hasCatch:!1,pending:$o,then:go,catch:mo,value:8};return $e(r=e[2](e[5]),d),{c(){t=C("pattern"),n=C("rect"),i=C("g"),d.block.c(),E(n,"x","0"),E(n,"y","0"),E(n,"width","150"),E(n,"height","200"),E(n,"fill",l=e[1][e[5].t1]),E(n,"stroke","none"),E(i,"fill",o=e[1][e[5].t2]),E(t,"id",s=e[5].id),E(t,"width",c=.134*e[5].mod),E(t,"height",a=.1787*e[5].mod),E(t,"viewBox","0 0 150 200"),E(t,"stroke","#000")},m(e,l){k(e,t,l),b(t,n),b(t,i),d.block.m(i,d.anchor=null),d.mount=()=>i,d.anchor=null},p(u,f){if(e=u,3&f&&l!==(l=e[1][e[5].t1])&&E(n,"fill",l),d.ctx=e,1&f&&r!==(r=e[2](e[5]))&&$e(r,d));else{const t=e.slice();t[8]=d.resolved,d.block.p(t,f)}3&f&&o!==(o=e[1][e[5].t2])&&E(i,"fill",o),1&f&&s!==(s=e[5].id)&&E(t,"id",s),1&f&&c!==(c=.134*e[5].mod)&&E(t,"width",c),1&f&&a!==(a=.1787*e[5].mod)&&E(t,"height",a)},d(e){e&&x(t),d.block.d(),d.token=null,d=null}}}function mo(t){return{c:e,m:e,p:e,d:e}}function go(e){let t,n,l=e[8]+"",i=e[8]+"";return{c(){t=C("g"),n=C("g"),E(t,"transform","translate(-60,-50)"),E(n,"transform","translate(10,50)")},m(e,r){k(e,t,r),t.innerHTML=l,k(e,n,r),n.innerHTML=i},p(e,r){1&r&&l!==(l=e[8]+"")&&(t.innerHTML=l),1&r&&i!==(i=e[8]+"")&&(n.innerHTML=i)},d(e){e&&x(t),e&&x(n)}}}function $o(t){return{c:e,m:e,p:e,d:e}}function vo(e){let t;function n(e,t){return"semy"===e[5].type?ho:"vair"===e[5].type?po:"vairInPale"===e[5].type?fo:"vairEnPointe"===e[5].type?uo:"ermine"===e[5].type?ao:"chequy"===e[5].type?co:"lozengy"===e[5].type?so:"fusily"===e[5].type?oo:"pally"===e[5].type?ro:"barry"===e[5].type?io:"gemelles"===e[5].type?lo:"bendy"===e[5].type?no:"bendySinister"===e[5].type?to:"palyBendy"===e[5].type?eo:"pappellony"===e[5].type?Qr:"masoned"===e[5].type?Yr:"fretty"===e[5].type?Vr:void 0}let l=n(e),i=l&&l(e);return{c(){i&&i.c(),t=B()},m(e,n){i&&i.m(e,n),k(e,t,n)},p(e,r){l===(l=n(e))&&i?i.p(e,r):(i&&i.d(1),i=l&&l(e),i&&(i.c(),i.m(t.parentNode,t)))},d(e){i&&i.d(e),e&&x(t)}}}function yo(t){let n,l=t[0],i=[];for(let e=0;e<l.length;e+=1)i[e]=vo(Xr(t,l,e));return{c(){for(let e=0;e<i.length;e+=1)i[e].c();n=B()},m(e,t){for(let n=0;n<i.length;n+=1)i[n].m(e,t);k(e,n,t)},p(e,[t]){if(7&t){let r;for(l=e[0],r=0;r<l.length;r+=1){const o=Xr(e,l,r);i[r]?i[r].p(o,t):(i[r]=vo(o),i[r].c(),i[r].m(n.parentNode,n))}for(;r<i.length;r+=1)i[r].d(1);i.length=l.length}},i:e,o:e,d(e){q(i,e),e&&x(n)}}}function wo(e,t,n){let l,i;a(e,gt,(e=>n(3,l=e))),a(e,nt,(e=>n(1,i=e)));let r=[];const o=document.getElementById("charges");return e.$$.update=()=>{8&e.$$.dirty&&n(0,r=[...new Set(l)].map((e=>{const[t,n,l,i]=e.split("-"),[r,o]=t.split("_of_");return{id:e,type:r,t1:n,t2:l,mod:function(e){return"small"===e?.5:"smaller"===e?.25:"smallest"===e?.125:"big"===e?2:1}(i),charge:o}})))},[r,i,async function(e){let t="";const n=o.querySelector("#"+e.charge);if(n)t=n.outerHTML;else{const n=await fetch("charges/"+e.charge+".svg"),l=await n.text(),i=document.createElement("html");i.innerHTML=l,t=i.querySelector("g").outerHTML,o.insertAdjacentHTML("beforeend",t)}return t}]}class bo extends _e{constructor(e){super(),Ce(this,e,wo,yo,o,{})}}const{window:ko}=ve;function xo(e){let t,n;return t=new $n({}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function qo(e){let t,n;return t=new Er({}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function zo(e){let t,n;return t=new Jr({}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Co(e){let t,n;return t=new br({props:{gallery:e[2],w:e[0],h:e[1]}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};4&n&&(l.gallery=e[2]),1&n&&(l.w=e[0]),2&n&&(l.h=e[1]),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function _o(e){let t,n;return t=new mr({props:{coa:e[3],c:e[4].c}}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},p(e,n){const l={};8&n&&(l.coa=e[3]),16&n&&(l.c=e[4].c),t.$set(l)},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function jo(e){let t,n;return t=new Zr({}),{c(){ke(t.$$.fragment)},m(e,l){xe(t,e,l),n=!0},i(e){n||(fe(t.$$.fragment,e),n=!0)},o(e){pe(t.$$.fragment,e),n=!1},d(e){qe(t,e)}}}function Bo(e){let t,n,l,i,r,o,s,c,a,d,u,f,p,h,m,g,$;n=new dn({});let v=e[4].about&&xo(),y=e[4].raster&&qo(),w=e[4].vector&&zo();const q=[_o,Co],_=[];function B(e,t){return e[4].edit?0:1}s=B(e),c=_[s]=q[s](e);let S=e[5]&&jo();return h=new bo({}),{c(){t=z("main"),ke(n.$$.fragment),l=j(),v&&v.c(),i=j(),y&&y.c(),r=j(),w&&w.c(),o=j(),c.c(),a=j(),S&&S.c(),d=j(),u=z("div"),f=C("svg"),p=C("defs"),ke(h.$$.fragment),E(f,"width","0"),E(f,"height","0"),E(f,"xmlns","http://www.w3.org/2000/svg"),E(u,"id","patterns"),P(u,"position","absolute"),P(t,"background-color",e[6]),E(t,"class","svelte-32wlsa")},m(c,x){k(c,t,x),xe(n,t,null),b(t,l),v&&v.m(t,null),b(t,i),y&&y.m(t,null),b(t,r),w&&w.m(t,null),b(t,o),_[s].m(t,null),b(t,a),S&&S.m(t,null),b(t,d),b(t,u),b(u,f),b(f,p),xe(h,p,null),m=!0,g||($=M(ko,"keydown",e[7]),g=!0)},p(e,[n]){e[4].about?v?16&n&&fe(v,1):(v=xo(),v.c(),fe(v,1),v.m(t,i)):v&&(de(),pe(v,1,1,(()=>{v=null})),ue()),e[4].raster?y?16&n&&fe(y,1):(y=qo(),y.c(),fe(y,1),y.m(t,r)):y&&(de(),pe(y,1,1,(()=>{y=null})),ue()),e[4].vector?w?16&n&&fe(w,1):(w=zo(),w.c(),fe(w,1),w.m(t,o)):w&&(de(),pe(w,1,1,(()=>{w=null})),ue());let l=s;s=B(e),s===l?_[s].p(e,n):(de(),pe(_[l],1,1,(()=>{_[l]=null})),ue(),c=_[s],c||(c=_[s]=q[s](e),c.c()),fe(c,1),c.m(t,a)),e[5]?S?32&n&&fe(S,1):(S=jo(),S.c(),fe(S,1),S.m(t,d)):S&&(de(),pe(S,1,1,(()=>{S=null})),ue()),(!m||64&n)&&P(t,"background-color",e[6])},i(e){m||(fe(n.$$.fragment,e),fe(v),fe(y),fe(w),fe(c),fe(S),fe(h.$$.fragment,e),m=!0)},o(e){pe(n.$$.fragment,e),pe(v),pe(y),pe(w),pe(c),pe(S),pe(h.$$.fragment,e),m=!1},d(e){e&&x(t),qe(n),v&&v.d(),y&&y.d(),w&&w.d(),_[s].d(),S&&S.d(),qe(h),g=!1,$()}}}function Mo(e,t,n){let l,i,r,o,s,c,d;a(e,Ye,(e=>n(10,l=e))),a(e,at,(e=>n(11,i=e))),a(e,dt,(e=>n(12,r=e))),a(e,ut,(e=>n(13,o=e))),a(e,ft,(e=>n(4,s=e))),a(e,pt,(e=>n(5,c=e))),a(e,lt,(e=>n(6,d=e)));let u,f,p,m,g,$=[];return function(){const e=new URL(window.location.href).searchParams;if(e.has("coa")||e.has("seed")){if(e.get("coa")){if(!function(e){try{return JSON.parse(e),!0}catch(t){return console.error(t),alert("Error: coa value is not valid\r\n"+t.message+"\r\n"+e),!1}}(e.get("coa")))return;const t=JSON.parse(e.get("coa"));i.push(t)}else e.get("seed")&&(n(9,g=e.get("seed")),isNaN(+g)||n(9,g=+g));h(ft,s.edit=1,s),h(dt,r[0]=[0],r)}}(),e.$$.update=()=>{if(1024&e.$$.dirty&&n(8,[u,f,p]=function(e){const t=window.innerWidth,n=window.innerHeight-60,l=Math.ceil(t/e),i=Math.floor(t/l),r=Math.floor(n/i);return[l*r,i,Math.floor(n/r)]}(l),u,(n(0,f),n(10,l)),(n(1,p),n(10,l))),15128&e.$$.dirty){const e=i.length;if(r[o]||(s.edit?(h(dt,r[o]=r[o-1].slice(),r),h(dt,r[o][s.i]=e,r)):h(dt,r[o]=Array.from({length:u},((t,n)=>e+n++)),r)),!s.edit&&r[o].length<u){const t=r[o];h(dt,r[o]=[...Array(u).keys()].map((n=>void 0!==t[n]?t[n]:e+n)),r)}n(2,$=r[o].slice(0,u)),s.edit&&(h(ft,s.c=r[o][s.i],s),n(3,m=i[s.c]||di(g||void 0)),n(9,g=void 0),i[s.c]||i.push(m),ht.reset())}},[f,p,$,m,s,c,d,function(e){const t=e.code;if(!["Backspace","Enter","KeyZ","KeyX","KeyD","F1","Escape"].includes(t))return;const n=document.activeElement.tagName;"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&(e.preventDefault(),"Backspace"===t&&o>0?h(ut,o-=1,o):"Enter"===t?h(ut,o+=1,o):"KeyZ"===t?ht.undo():"KeyX"===t?ht.redo():"KeyD"===t?$t():"F1"===t&&h(ft,s.about=!s.about,s),"Escape"===t&&(h(ft,s.about=0,s),h(ft,s.raster=0,s),h(ft,s.vector=0,s),h(ft,s.edit=0,s),h(pt,c=null,c)))}]}return new class extends _e{constructor(e){super(),Ce(this,e,Mo,Bo,o,{})}}({target:document.body,props:{}})}();
//# sourceMappingURL=bundle.js.map
