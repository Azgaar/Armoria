var app=function(){"use strict";function e(){}const t=e=>e;function n(e){return e()}function r(){return Object.create(null)}function o(e){e.forEach(n)}function i(e){return"function"==typeof e}function s(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}function l(t,...n){if(null==t)return e;const r=t.subscribe(...n);return r.unsubscribe?()=>r.unsubscribe():r}function a(e){let t;return l(e,(e=>t=e))(),t}function c(e,t,n){e.$$.on_destroy.push(l(t,n))}function u(e,t,n,r){if(e){const o=d(e,t,n,r);return e[0](o)}}function d(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function p(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function h(e,t,n,r,o,i){if(o){const s=d(t,n,r,i);e.p(s,o)}}function f(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function m(e){return null==e?"":e}function g(e,t,n){return e.set(n),t}function $(t){return t&&i(t.destroy)?t.destroy:e}const v="undefined"!=typeof window;let y=v?()=>window.performance.now():()=>Date.now(),b=v?e=>requestAnimationFrame(e):e;const w=new Set;function k(e){w.forEach((t=>{t.c(e)||(w.delete(t),t.f())})),0!==w.size&&b(k)}function x(e){let t;return 0===w.size&&b(k),{promise:new Promise((n=>{w.add(t={c:e,f:n})})),abort(){w.delete(t)}}}function _(e,t){e.appendChild(t)}function E(e){if(!e)return document;const t=e.getRootNode?e.getRootNode():e.ownerDocument;return t&&t.host?t:e.ownerDocument}function S(e){const t=I("style");return function(e,t){_(e.head||e,t)}(E(e),t),t}function C(e,t,n){e.insertBefore(t,n||null)}function L(e){e.parentNode.removeChild(e)}function A(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function I(e){return document.createElement(e)}function z(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function M(e){return document.createTextNode(e)}function O(){return M(" ")}function P(){return M("")}function T(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function N(e){return function(t){return t.preventDefault(),e.call(this,t)}}function j(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function B(e,t,n){e.setAttributeNS("http://www.w3.org/1999/xlink",t,n)}function D(e){return""===e?null:+e}function U(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function R(e,t){e.value=null==t?"":t}function q(e,t,n,r){e.style.setProperty(t,n,r?"important":"")}function G(e,t){for(let n=0;n<e.options.length;n+=1){const r=e.options[n];if(r.__value===t)return void(r.selected=!0)}e.selectedIndex=-1}function F(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function H(e,t,n){e.classList[n?"add":"remove"](t)}class V{constructor(){this.e=this.n=null}c(e){this.h(e)}m(e,t,n=null){this.e||(this.e=I(t.nodeName),this.t=t,this.c(e)),this.i(n)}h(e){this.e.innerHTML=e,this.n=Array.from(this.e.childNodes)}i(e){for(let t=0;t<this.n.length;t+=1)C(this.t,this.n[t],e)}p(e){this.d(),this.h(e),this.i(this.a)}d(){this.n.forEach(L)}}const J=new Set;let Z,K=0;function W(e,t,n,r,o,i,s,l=0){const a=16.666/r;let c="{\n";for(let e=0;e<=1;e+=a){const r=t+(n-t)*i(e);c+=100*e+`%{${s(r,1-r)}}\n`}const u=c+`100% {${s(n,1-n)}}\n}`,d=`__svelte_${function(e){let t=5381,n=e.length;for(;n--;)t=(t<<5)-t^e.charCodeAt(n);return t>>>0}(u)}_${l}`,p=E(e);J.add(p);const h=p.__svelte_stylesheet||(p.__svelte_stylesheet=S(e).sheet),f=p.__svelte_rules||(p.__svelte_rules={});f[d]||(f[d]=!0,h.insertRule(`@keyframes ${d} ${u}`,h.cssRules.length));const m=e.style.animation||"";return e.style.animation=`${m?`${m}, `:""}${d} ${r}ms linear ${o}ms 1 both`,K+=1,d}function X(e,t){const n=(e.style.animation||"").split(", "),r=n.filter(t?e=>e.indexOf(t)<0:e=>-1===e.indexOf("__svelte")),o=n.length-r.length;o&&(e.style.animation=r.join(", "),K-=o,K||b((()=>{K||(J.forEach((e=>{const t=e.__svelte_stylesheet;let n=t.cssRules.length;for(;n--;)t.deleteRule(n);e.__svelte_rules={}})),J.clear())})))}function Y(e){const t=getComputedStyle(e);if("absolute"!==t.position&&"fixed"!==t.position){const{width:n,height:r}=t,o=e.getBoundingClientRect();e.style.position="absolute",e.style.width=n,e.style.height=r,function(e,t){const n=e.getBoundingClientRect();if(t.left!==n.left||t.top!==n.top){const r=getComputedStyle(e),o="none"===r.transform?"":r.transform;e.style.transform=`${o} translate(${t.left-n.left}px, ${t.top-n.top}px)`}}(e,o)}}function Q(e){Z=e}function ee(e){(function(){if(!Z)throw new Error("Function called outside component initialization");return Z})().$$.on_mount.push(e)}const te=[],ne=[],re=[],oe=[],ie=Promise.resolve();let se=!1;function le(){se||(se=!0,ie.then(pe))}function ae(e){re.push(e)}function ce(e){oe.push(e)}let ue=!1;const de=new Set;function pe(){if(!ue){ue=!0;do{for(let e=0;e<te.length;e+=1){const t=te[e];Q(t),he(t.$$)}for(Q(null),te.length=0;ne.length;)ne.pop()();for(let e=0;e<re.length;e+=1){const t=re[e];de.has(t)||(de.add(t),t())}re.length=0}while(te.length);for(;oe.length;)oe.pop()();se=!1,ue=!1,de.clear()}}function he(e){if(null!==e.fragment){e.update(),o(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(ae)}}let fe;function me(){return fe||(fe=Promise.resolve(),fe.then((()=>{fe=null}))),fe}function ge(e,t,n){e.dispatchEvent(function(e,t,n=!1){const r=document.createEvent("CustomEvent");return r.initCustomEvent(e,n,!1,t),r}(`${t?"intro":"outro"}${n}`))}const $e=new Set;let ve;function ye(){ve={r:0,c:[],p:ve}}function be(){ve.r||o(ve.c),ve=ve.p}function we(e,t){e&&e.i&&($e.delete(e),e.i(t))}function ke(e,t,n,r){if(e&&e.o){if($e.has(e))return;$e.add(e),ve.c.push((()=>{$e.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const xe={duration:0};function _e(n,r,o){let s,l,a=r(n,o),c=!1,u=0;function d(){s&&X(n,s)}function p(){const{delay:r=0,duration:o=300,easing:i=t,tick:p=e,css:h}=a||xe;h&&(s=W(n,0,1,o,r,i,h,u++)),p(0,1);const f=y()+r,m=f+o;l&&l.abort(),c=!0,ae((()=>ge(n,!0,"start"))),l=x((e=>{if(c){if(e>=m)return p(1,0),ge(n,!0,"end"),d(),c=!1;if(e>=f){const t=i((e-f)/o);p(t,1-t)}}return c}))}let h=!1;return{start(){h||(h=!0,X(n),i(a)?(a=a(),me().then(p)):p())},invalidate(){h=!1},end(){c&&(d(),c=!1)}}}function Ee(n,r,s){let l,a=r(n,s),c=!0;const u=ve;function d(){const{delay:r=0,duration:i=300,easing:s=t,tick:d=e,css:p}=a||xe;p&&(l=W(n,1,0,i,r,s,p));const h=y()+r,f=h+i;ae((()=>ge(n,!1,"start"))),x((e=>{if(c){if(e>=f)return d(0,1),ge(n,!1,"end"),--u.r||o(u.c),!1;if(e>=h){const t=s((e-h)/i);d(1-t,t)}}return c}))}return u.r+=1,i(a)?me().then((()=>{a=a(),d()})):d(),{end(e){e&&a.tick&&a.tick(1,0),c&&(l&&X(n,l),c=!1)}}}function Se(n,r,s,l){let a=r(n,s),c=l?0:1,u=null,d=null,p=null;function h(){p&&X(n,p)}function f(e,t){const n=e.b-c;return t*=Math.abs(n),{a:c,b:e.b,d:n,duration:t,start:e.start,end:e.start+t,group:e.group}}function m(r){const{delay:i=0,duration:s=300,easing:l=t,tick:m=e,css:g}=a||xe,$={start:y()+i,b:r};r||($.group=ve,ve.r+=1),u||d?d=$:(g&&(h(),p=W(n,c,r,s,i,l,g)),r&&m(0,1),u=f($,s),ae((()=>ge(n,r,"start"))),x((e=>{if(d&&e>d.start&&(u=f(d,s),d=null,ge(n,u.b,"start"),g&&(h(),p=W(n,c,u.b,u.duration,0,l,a.css))),u)if(e>=u.end)m(c=u.b,1-c),ge(n,u.b,"end"),d||(u.b?h():--u.group.r||o(u.group.c)),u=null;else if(e>=u.start){const t=e-u.start;c=u.a+u.d*l(t/u.duration),m(c,1-c)}return!(!u&&!d)})))}return{run(e){i(a)?me().then((()=>{a=a(),m(e)})):m(e)},end(){h(),u=d=null}}}const Ce="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Le(e,t){e.d(1),t.delete(e.key)}function Ae(e,t){ke(e,1,1,(()=>{t.delete(e.key)}))}function Ie(e,t){e.f(),Le(e,t)}function ze(e,t,n,r,o,i,s,l,a,c,u,d){let p=e.length,h=i.length,f=p;const m={};for(;f--;)m[e[f].key]=f;const g=[],$=new Map,v=new Map;for(f=h;f--;){const e=d(o,i,f),l=n(e);let a=s.get(l);a?r&&a.p(e,t):(a=c(l,e),a.c()),$.set(l,g[f]=a),l in m&&v.set(l,Math.abs(f-m[l]))}const y=new Set,b=new Set;function w(e){we(e,1),e.m(l,u),s.set(e.key,e),u=e.first,h--}for(;p&&h;){const t=g[h-1],n=e[p-1],r=t.key,o=n.key;t===n?(u=t.first,p--,h--):$.has(o)?!s.has(r)||y.has(r)?w(t):b.has(o)?p--:v.get(r)>v.get(o)?(b.add(r),w(t)):(y.add(o),p--):(a(n,s),p--)}for(;p--;){const t=e[p];$.has(t.key)||a(t,s)}for(;h;)w(g[h-1]);return g}function Me(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function Oe(e){e&&e.c()}function Pe(e,t,r,s){const{fragment:l,on_mount:a,on_destroy:c,after_update:u}=e.$$;l&&l.m(t,r),s||ae((()=>{const t=a.map(n).filter(i);c?c.push(...t):o(t),e.$$.on_mount=[]})),u.forEach(ae)}function Te(e,t){const n=e.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function Ne(t,n,i,s,l,a,c,u=[-1]){const d=Z;Q(t);const p=t.$$={fragment:null,ctx:null,props:a,update:e,not_equal:l,bound:r(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(n.context||(d?d.$$.context:[])),callbacks:r(),dirty:u,skip_bound:!1,root:n.target||d.$$.root};c&&c(p.root);let h=!1;if(p.ctx=i?i(t,n.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&l(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),h&&function(e,t){-1===e.$$.dirty[0]&&(te.push(e),le(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],p.update(),h=!0,o(p.before_update),p.fragment=!!s&&s(p.ctx),n.target){if(n.hydrate){const e=function(e){return Array.from(e.childNodes)}(n.target);p.fragment&&p.fragment.l(e),e.forEach(L)}else p.fragment&&p.fragment.c();n.intro&&we(t.$$.fragment),Pe(t,n.target,n.anchor,n.customElement),pe()}Q(d)}class je{$destroy(){Te(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const Be={types:{conventional:33,crosses:13,beasts:7,beastHeads:3,birds:3,reptiles:2,bugs:2,fishes:1,molluscs:1,plants:3,fantastic:5,agriculture:2,arms:5,bodyparts:2,people:2,architecture:3,seafaring:3,tools:3,miscellaneous:5,inescutcheon:3,ornaments:0,uploaded:0},single:{conventional:10,crosses:8,beasts:7,beastHeads:3,birds:3,reptiles:2,bugs:2,fishes:1,molluscs:1,plants:3,fantastic:5,agriculture:2,arms:5,bodyparts:2,people:2,architecture:3,seafaring:3,tools:3,miscellaneous:5,inescutcheon:1},semy:{conventional:4,crosses:1},conventional:{annulet:4,billet:5,carreau:1,comet:1,compassRose:1,crescent:5,delf:0,estoile:1,fleurDeLis:6,fountain:1,fusil:4,gear:1,goutte:4,heart:4,lozenge:2,lozengeFaceted:3,lozengePloye:1,mascle:4,moonInCrescent:1,mullet:5,mullet10:1,mullet4:3,mullet6:4,mullet6Faceted:1,mullet6Pierced:1,mullet7:1,mullet8:1,mulletFaceted:1,mulletPierced:1,pique:2,roundel:4,roundel2:3,rustre:2,spiral:1,sun:3,sunInSplendour:1,sunInSplendour2:1,trefle:2,triangle:3,trianglePierced:1},crosses:{crossHummetty:15,crossVoided:1,crossPattee:2,crossPatteeAlisee:1,crossFormee:1,crossFormee2:2,crossPotent:2,crossJerusalem:1,crosslet:1,crossClechy:3,crossBottony:1,crossFleury:3,crossPatonce:1,crossPommy:1,crossGamma:1,crossArrowed:1,crossFitchy:1,crossCercelee:1,crossMoline:2,crossFourchy:1,crossAvellane:1,crossErminee:1,crossBiparted:1,crossMaltese:3,crossTemplar:2,crossCeltic:1,crossCeltic2:1,crossTriquetra:1,crossCarolingian:1,crossOccitan:1,crossSaltire:3,crossBurgundy:1,crossLatin:3,crossPatriarchal:1,crossOrthodox:1,crossCalvary:1,crossDouble:1,crossTau:1,crossSantiago:1,crossAnkh:1},beasts:{agnusDei:1,badgerStatant:1,bearPassant:1,bearRampant:3,boarRampant:1,bullPassant:1,camel:1,camelBactrian:1,catPassantGuardant:1,cowStatant:1,dolphin:1,elephant:1,goat:1,greyhoundCourant:1,greyhoundRampant:1,greyhoundSejant:1,hedgehog:1,hindStatant:1,horsePassant:1,horseRampant:2,horseSalient:1,lamb:1,lambPassantReguardant:1,lionPassant:3,lionPassantGuardant:2,lionRampant:7,lionSejant:2,martenCourant:1,mastiffStatant:1,porcupine:1,rabbitSejant:1,ramPassant:1,ratRampant:1,rhinoceros:1,squirrel:1,stagLodgedRegardant:1,stagPassant:1,talbotPassant:1,talbotSejant:1,wolfPassant:1,wolfRampant:1,wolfStatant:1},beastHeads:{boarHeadErased:1,bullHeadCaboshed:1,deerHeadCaboshed:1,donkeyHeadCaboshed:1,elephantHeadErased:1,horseHeadCouped:1,lionHeadCaboshed:2,lionHeadErased:2,ramHeadErased:1,wolfHeadErased:2},birds:{cock:3,dove:2,doveDisplayed:1,duck:1,eagle:9,falcon:2,heron:1,owl:1,owlDisplayed:1,parrot:1,peacock:1,peacockInPride:1,raven:2,stork:1,swallow:1,swan:2,swanErased:1},reptiles:{crocodile:1,frog:1,lizard:1,ouroboros:1,snake:1},bugs:{ant:1,bee:1,butterfly:1,cancer:1,dragonfly:1,fly:1,ladybird:1,scorpion:1,spider:1,wasp:1},fishes:{pike:1,plaice:1,salmon:1},molluscs:{escallop:4,kraken:1,polypus:1,snail:1},plants:{apple:1,cinquefoil:1,earOfWheat:1,grapeBunch:1,grapeBunch2:1,mapleLeaf:1,oak:1,palmTree:1,pear:1,pineCone:1,pineTree:1,quatrefoil:1,rose:1,sextifoil:1,thistle:1,tree:1,trefoil:1,wheatStalk:1},fantastic:{angel:3,basilisk:1,centaur:1,dragonPassant:3,dragonRampant:2,eagleTwoHeads:2,griffinPassant:1,griffinRampant:2,pegasus:1,sagittarius:1,seahorse:1,serpent:1,unicornRampant:1,wyvern:1,wyvernWithWingsDisplayed:1},agriculture:{garb:2,millstone:1,plough:1,ploughshare:1,rake:1,scythe:1,scythe2:1,sickle:1},arms:{arbalest:1,arbalest2:1,arrow:1,arrowsSheaf:1,axe:3,bow:1,bowWithArrow:2,bowWithThreeArrows:1,cannon:1,falchion:1,flamberge:1,flangedMace:1,gauntlet:1,gladius:1,grenade:1,hatchet:3,helmet:2,helmetCorinthian:1,helmetGreat:2,helmetZischagge:1,lanceHead:1,lanceWithBanner:1,lochaberAxe:1,mace:1,maces:1,mallet:1,rapier:1,sabre:1,sabre2:1,sabresCrossed:1,shield:1,spear:1,sword:4,trident:1},bodyparts:{armEmbowedHoldingSabre:1,armEmbowedVambraced:1,armEmbowedVambracedHoldingSword:1,bone:1,crossedBones:2,foot:1,hand:4,head:1,headWreathed:1,skeleton:2,skull:2,skull2:1},people:{archer:1,cavalier:3,cossack:1,hermit:1,monk:1},architecture:{bridge:1,bridge2:1,castle:2,castle2:1,church:1,column:1,lighthouse:1,palace:1,pillar:1,portcullis:1,tower:2,windmill:1},seafaring:{anchor:6,armillarySphere:1,boat:2,boat2:1,caravel:1,drakkar:1,lymphad:2,raft:1,shipWheel:1},tools:{anvil:2,drawingCompass:2,fan:1,hook:1,ladder:1,ladder2:1,pincers:1,saw:1,scale:1,scaleImbalanced:1,scalesHanging:1,scissors:1,scissors2:1,shears:1,trowel:1},miscellaneous:{amphora:1,attire:2,banner:2,bell:3,bookClosed:1,bookClosed2:1,bookOpen:1,bucket:1,buckle:1,bugleHorn:2,bugleHorn2:1,caduceus:1,chain:2,chalice:1,chalice2:1,cowHorns:3,crancelin:0,crosier:1,crown:3,crown2:2,drum:1,fasces:1,feather:3,harp:2,horseshoe:3,hourglass:2,key:3,laurelWreath:2,laurelWreath2:1,log:1,lute:2,lyre:1,mitre:1,orb:1,pot:2,ramsHorn:1,sceptre:1,scrollClosed:1,snowflake:1,stagsAttires:1,stirrup:2,violin:1,wheel:3,wing:2,wingSword:1},inescutcheon:{inescutcheonHeater:1,inescutcheonSpanish:1,inescutcheonFrench:1,inescutcheonHorsehead:1,inescutcheonHorsehead2:1,inescutcheonPolish:1,inescutcheonHessen:1,inescutcheonSwiss:1,inescutcheonBoeotian:1,inescutcheonRoman:1,inescutcheonKite:1,inescutcheonOldFrench:1,inescutcheonRenaissance:1,inescutcheonBaroque:1,inescutcheonTarge:1,inescutcheonTarge2:1,inescutcheonPavise:1,inescutcheonWedged:1,inescutcheonEmbowed:1,inescutcheonFlag:1,inescutcheonPennon:1,inescutcheonGuidon:1,inescutcheonBanner:1,inescutcheonDovetail:1,inescutcheonGonfalon:1,inescutcheonPennant:1,inescutcheonRound:1,inescutcheonOval:1,inescutcheonVesicaPiscis:1,inescutcheonSquare:1,inescutcheonDiamond:1,inescutcheonHexagon:1,inescutcheonNo:1,inescutcheonFantasy1:1,inescutcheonFantasy2:1,inescutcheonFantasy3:1,inescutcheonFantasy4:1,inescutcheonFantasy5:1,inescutcheonNoldor:1,inescutcheonGondor:1,inescutcheonEasterling:1,inescutcheonErebor:1,inescutcheonIronHills:1,inescutcheonUrukHai:1,inescutcheonMoriaOrc:1},ornaments:{mantle:0,ribbon1:3,ribbon2:2,ribbon3:1,ribbon4:1,ribbon5:1,ribbon6:1,ribbon7:1,ribbon8:1},uploaded:{},data:{agnusDei:{colors:2,sinister:!0},angel:{colors:2,positions:{e:1}},ant:{reversed:!0},anvil:{sinister:!0},apple:{colors:2},arbalest:{colors:3,reversed:!0},archer:{colors:3,sinister:!0},armEmbowedHoldingSabre:{colors:3,sinister:!0},armEmbowedVambraced:{sinister:!0,layered:!0},armEmbowedVambracedHoldingSword:{colors:3,sinister:!0},armillarySphere:{positions:{e:1}},arrow:{colors:3,reversed:!0},arrowsSheaf:{colors:3,reversed:!0},axe:{colors:2,sinister:!0},badgerStatant:{colors:2,sinister:!0},banner:{colors:2},basilisk:{colors:3,sinister:!0},bearPassant:{colors:3,sinister:!0},bearRampant:{colors:3,sinister:!0,layered:!0},bee:{colors:3,reversed:!0},bell:{colors:2},boarHeadErased:{colors:3,sinister:!0},boarRampant:{colors:3,sinister:!0,positions:{e:12,beh:1,kn:1,jln:2}},boat:{colors:2},bookClosed:{colors:3,sinister:!0},bookClosed2:{sinister:!0},bookOpen:{colors:3},bow:{sinister:!0},bowWithArrow:{colors:3,reversed:!0},bowWithThreeArrows:{colors:3},bucket:{colors:2},bugleHorn:{colors:2},bugleHorn2:{colors:2},bullHeadCaboshed:{colors:2},bullPassant:{colors:3,sinister:!0},butterfly:{colors:3,reversed:!0},caduceus:{colors:3},camel:{colors:2,sinister:!0},camelBactrian:{colors:2,sinister:!0},cancer:{reversed:!0},cannon:{colors:2,sinister:!0},caravel:{colors:3,sinister:!0},castle:{colors:2},castle2:{colors:3},catPassantGuardant:{colors:2,sinister:!0},cavalier:{colors:3,sinister:!0,positions:{e:1}},centaur:{colors:3,sinister:!0},chalice:{colors:2},church:{colors:3},cinquefoil:{reversed:!0},cock:{colors:3,sinister:!0},comet:{reversed:!0},cowStatant:{colors:3,sinister:!0},cossack:{colors:3,sinister:!0},crescent:{reversed:!0},crocodile:{colors:2,sinister:!0},crosier:{sinister:!0},crossbow:{colors:3,sinister:!0},crossGamma:{sinister:!0},crossLatin:{reversed:!0},crossTau:{reversed:!0},crossTriquetra:{reversed:!0},crown:{colors:2,positions:{e:10,abcdefgzi:1,beh:3,behdf:2,acegi:1,kn:1,pq:2,abc:1,jln:4,jleh:1,def:2,abcpqh:3}},crown2:{colors:3,positions:{e:10,abcdefgzi:1,beh:3,behdf:2,acegi:1,kn:1,pq:2,abc:1,jln:4,jleh:1,def:2,abcpqh:3}},deerHeadCaboshed:{colors:2},dolphin:{colors:2,sinister:!0},donkeyHeadCaboshed:{colors:2},dove:{colors:2,natural:"argent",sinister:!0},doveDisplayed:{colors:2,natural:"argent",sinister:!0},dragonfly:{colors:2,reversed:!0},dragonPassant:{colors:3,sinister:!0},dragonRampant:{colors:3,sinister:!0,layered:!0},drakkar:{colors:3,sinister:!0},drawingCompass:{sinister:!0},drum:{colors:3},duck:{colors:3,sinister:!0},eagle:{colors:3,sinister:!0,positions:{e:15,beh:1,kn:1,abc:1,jlh:2,def:2,pq:1}},eagleTwoHeads:{colors:3},elephant:{colors:2,sinister:!0},elephantHeadErased:{colors:2,sinister:!0},falchion:{colors:2,reversed:!0},falcon:{colors:3,sinister:!0},fan:{colors:2,reversed:!0},fasces:{colors:3,sinister:!0},feather:{sinister:!0},flamberge:{colors:2,reversed:!0},flangedMace:{reversed:!0},fly:{colors:3,reversed:!0},foot:{sinister:!0},fountain:{natural:"azure"},frog:{reversed:!0},garb:{colors:2,natural:"or",positions:{e:1,def:3,abc:2,beh:1,kn:1,jln:3,jleh:1,abcpqh:1,joe:1,lme:1}},gauntlet:{sinister:!0,reversed:!0},gladius:{colors:2,reversed:!0},goat:{colors:3,sinister:!0},goutte:{reversed:!0},grapeBunch:{colors:3,sinister:!0},grapeBunch2:{colors:3,sinister:!0},grenade:{colors:2},greyhoundCourant:{colors:3,sinister:!0,positions:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1}},greyhoundRampant:{colors:2,sinister:!0,layered:!0,positions:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1}},greyhoundSejant:{colors:3,sinister:!0},griffinPassant:{colors:3,sinister:!0,positions:{e:10,def:2,abc:2,bdefh:1,kn:1,jlh:2,abcpqh:1}},griffinRampant:{colors:3,sinister:!0,layered:!0,positions:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1}},hand:{sinister:!0,reversed:!0,positions:{e:10,jln:2,kn:1,jeo:1,abc:2,pqe:1}},harp:{colors:2,sinister:!0},hatchet:{colors:2,sinister:!0},head:{colors:2,sinister:!0,positions:{e:1}},headWreathed:{colors:3,sinister:!0,positions:{e:1}},hedgehog:{colors:3,sinister:!0},helmet:{sinister:!0},helmetCorinthian:{colors:3,sinister:!0},helmetGreat:{sinister:!0},helmetZischagge:{sinister:!0},hermit:{colors:3},heron:{colors:2,sinister:!0},hindStatant:{colors:2,sinister:!0},hook:{sinister:!0},horseHeadCouped:{sinister:!0},horsePassant:{colors:2,sinister:!0},horseRampant:{colors:3,sinister:!0,layered:!0},horseSalient:{colors:2,sinister:!0},horseshoe:{reversed:!0},hourglass:{colors:3},kraken:{colors:2,reversed:!0},ladybird:{colors:3,reversed:!0},lamb:{colors:2,sinister:!0},lambPassantReguardant:{colors:2,sinister:!0},lanceWithBanner:{colors:3,sinister:!0},laurelWreath:{colors:2},lighthouse:{colors:3},lionHeadCaboshed:{colors:2},lionHeadErased:{colors:2,sinister:!0},lionPassant:{colors:3,sinister:!0,positions:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1}},lionPassantGuardant:{colors:3,sinister:!0},lionRampant:{colors:3,sinister:!0,layered:!0,positions:{e:10,def:2,abc:2,bdefh:1,kn:1,jlh:2,abcpqh:1}},lionSejant:{colors:3,sinister:!0},lizard:{reversed:!0},lochaberAxe:{colors:2,sinister:!0},log:{sinister:!0},lute:{colors:2,sinister:!0},lymphad:{colors:3,sinister:!0,positions:{e:1}},mace:{colors:2},maces:{colors:2},mallet:{colors:2},mantle:{colors:3},martenCourant:{colors:3,sinister:!0},mascle:{positions:{e:15,abcdefgzi:3,beh:3,bdefh:4,acegi:1,kn:3,joe:2,abc:3,jlh:8,jleh:1,df:3,abcpqh:4,pqe:3,eknpq:3}},mastiffStatant:{colors:3,sinister:!0},mitre:{colors:3},monk:{sinister:!0},moonInCrescent:{sinister:!0},mullet:{reversed:!0},mullet7:{reversed:!0},oak:{colors:3},orb:{colors:3},ouroboros:{sinister:!0},owl:{colors:2,sinister:!0},owlDisplayed:{colors:2},palmTree:{colors:3},parrot:{colors:2,sinister:!0},peacock:{colors:3,sinister:!0},peacockInPride:{colors:3,sinister:!0},pear:{colors:2},pegasus:{colors:3,sinister:!0,layered:!0},pike:{colors:2,sinister:!0},pineTree:{colors:2},plaice:{colors:2,sinister:!0},plough:{colors:2,sinister:!0},ploughshare:{sinister:!0},polypus:{colors:2,reversed:!0},porcupine:{colors:2,sinister:!0},portcullis:{colors:2},rabbitSejant:{colors:2,sinister:!0},rake:{reversed:!0},rapier:{colors:2,sinister:!0,reversed:!0},ramHeadErased:{colors:3,sinister:!0},ramPassant:{colors:3,sinister:!0},ratRampant:{colors:2,sinister:!0},raven:{colors:2,natural:"sable",sinister:!0,positions:{e:15,beh:1,kn:1,jeo:1,abc:3,jln:3,def:1}},rhinoceros:{colors:2,sinister:!0},rose:{colors:3},sabre:{colors:2,sinister:!0},sabre2:{colors:2,sinister:!0,reversed:!0},sabresCrossed:{colors:2,reversed:!0},sagittarius:{colors:3,sinister:!0},salmon:{colors:2,sinister:!0},saw:{colors:2},scale:{colors:2},scaleImbalanced:{colors:2,sinister:!0},scissors:{reversed:!0},scorpion:{reversed:!0},scrollClosed:{colors:2,sinister:!0},scythe:{colors:2,sinister:!0,reversed:!0},scythe2:{sinister:!0},seahorse:{colors:2,sinister:!0,layered:!0},serpent:{colors:2,sinister:!0},shield:{colors:2,sinister:!0},sickle:{colors:2,sinister:!0,reversed:!0},snail:{colors:2,sinister:!0},snake:{colors:2,sinister:!0},spear:{colors:2,reversed:!0},spider:{reversed:!0},spiral:{sinister:!0,reversed:!0},squirrel:{sinister:!0},stagLodgedRegardant:{colors:3,sinister:!0},stagPassant:{colors:2,sinister:!0},stirrup:{colors:2},stork:{colors:2,sinister:!0},swallow:{colors:2,sinister:!0},swan:{colors:3,sinister:!0},swanErased:{colors:3,sinister:!0},sword:{colors:2,reversed:!0},talbotPassant:{colors:3,sinister:!0},talbotSejant:{colors:3,sinister:!0},tower:{colors:2},tree:{positions:{e:1}},trefoil:{reversed:!0},trowel:{colors:2,sinister:!0,reversed:!0},unicornRampant:{colors:3,sinister:!0,layered:!0},wasp:{colors:3,reversed:!0},wheatStalk:{colors:2},windmill:{colors:3,sinister:!0},wing:{sinister:!0},wingSword:{colors:3,sinister:!0},wolfHeadErased:{colors:2,sinister:!0},wolfPassant:{colors:3,sinister:!0,positions:{e:10,def:1,abc:1,bdefh:1,jlh:1,abcpqh:1}},wolfRampant:{colors:3,sinister:!0,layered:!0},wolfStatant:{colors:3,sinister:!0},wyvern:{colors:3,sinister:!0,positions:{e:10,jln:1}},wyvernWithWingsDisplayed:{colors:3,sinister:!0}}};function De(e,t,n){Be.types[t]||(Be.types[t]=6,delete Be.types.array),Be.single[t]||(Be.single[t]=6,delete Be.single.array),Be[t][e]=n,delete Be[t].array}const Ue={lined:{pale:7,fess:5,bend:3,bendSinister:2,chief:5,bar:2,gemelle:1,fessCotissed:1,fessDoubleCotissed:1,bendlet:2,bendletSinister:1,terrace:3,cross:6,crossParted:1,saltire:2,saltireParted:1},straight:{bordure:8,orle:4,mount:1,point:2,flaunches:1,gore:1,gyron:1,quarter:1,canton:2,pall:3,pallReversed:2,chevron:4,chevronReversed:3,pile:2,pileInBend:2,pileInBendSinister:1,piles:1,pilesInPoint:2,label:1},data:{bar:{template:'<rect x="0" y="87.5" width="200" height="25"/>',templateLined:e=>`<path d="${e}" transform="translate(0,-12.5)"/><path d="${e}" transform="translate(0,12.5) rotate(180.00001 100 100)"/><rect x="0" y="94" width="200" height="12" stroke="none"/>`,positionsOn:{defdefdef:1},positionsOff:{abc:2,abcgzi:1,jlh:5,bgi:2,ach:1}},bend:{template:'<polygon points="35,0 200,165 200,200 165,200 0,35 0,0"/>',templateLined:e=>`<path d="${e}" transform="translate(8 -18) rotate(45 110 100) scale(1.1 1)"/><path d="${e}" transform="translate(-28 18) rotate(225 110 100) scale(1.1 1)"/><rect x="0" y="88" width="200" height="24" transform="translate(-10 0) rotate(45 110 100) scale(1.1 1)" stroke="none"/>`,positionsOn:{ee:2,jo:1,joe:1},positionsOff:{ccg:2,ccc:1}},bendSinister:{template:'<polygon points="0,165 165,0 200,0 200,35 35,200 0,200"/>',templateLined:e=>`<path d="${e}" transform="translate(-28 -18) rotate(-45 110 100) scale(1.1 1)"/><path d="${e}" transform="translate(8 18) rotate(-225 110 100) scale(1.1 1)"/><rect x="0" y="88" width="200" height="24" transform="translate(-10 0) rotate(-45 110 100) scale(1.1 1)" stroke="none"/>`,positionsOn:{ee:1,lm:1,lem:4},positionsOff:{aai:2,aaa:1}},bendlet:{template:'<polygon points="22,0 200,178 200,200 178,200 0,22 0,0"/>',templateLined:e=>`<path d="${e}" transform="translate(2 -12) rotate(45 110 100) scale(1.1 1)"/><path d="${e}" transform="translate(-22 12) rotate(225 110 100) scale(1.1 1)"/><rect x="0" y="94" width="200" height="12" transform="translate(-10 0) rotate(45 110 100) scale(1.1 1)" stroke="none"/>`,positionsOn:{joejoejoe:1},positionsOff:{ccg:2,ccc:1}},bendletSinister:{template:'<polygon points="0,178 178,0 200,0 200,22 22,200 0,200"/>',templateLined:e=>`<path d="${e}" transform="translate(-22 -12) rotate(-45 110 100) scale(1.1 1)"/><path d="${e}" transform="translate(2 12) rotate(-225 110 100) scale(1.1 1)"/><rect x="0" y="94" width="200" height="12" transform="translate(-10 0) rotate(-45 110 100) scale(1.1 1)" stroke="none"/>`,positionsOn:{lemlemlem:1},positionsOff:{aai:2,aaa:1}},bordure:{positionsOn:{ABCDEFGHIJKL:1},positionsOff:{e:4,jleh:2,kenken:1,peqpeq:1}},canton:{template:'<rect width="75" height="75"/>',positionsOn:{yyyy:1},positionsOff:{e:5,beh:1,def:1,bdefh:1,kn:1}},chevron:{template:'<polygon points="0,125 100,60 200,125 200,165 100,100 0,165"/>',positionsOn:{ach:3,hhh:1}},chevronReversed:{template:'<polygon points="0,75 100,140 200,75 200,35 100,100 0,35"/>',positionsOff:{bbb:1}},chief:{template:'<rect width="200" height="75"/>',templateLined:e=>`<path d="${e}" transform="translate(0,-25) rotate(180.00001 100 100)"/><rect width="200" height="62" stroke="none"/>`,positionsOn:{abc:5,bbb:1},positionsOff:{emo:2,emoz:1,ez:2}},cross:{template:'<polygon points="85,0 85,85 0,85 0,115 85,115 85,200 115,200 115,115 200,115 200,85 115,85 115,0"/>',templateLined:e=>`<path d="${e}" transform="translate(0 -14.5)"/><path d="${e}" transform="rotate(180 100 100) translate(0 -14.5)"/><path d="${e}" transform="rotate(-90 100 100) translate(0 -14.5)"/><path d="${e}" transform="rotate(-270 100 100) translate(0 -14.5)"/>`,positionsOn:{eeee:1,behdfbehdf:3,behbehbeh:2},positionsOff:{acgi:1}},crossParted:{template:'<path d="M 80 0 L 80 80 L 0 80 L 0 95 L 80 95 L 80 105 L 0 105 L 0 120 L 80 120 L 80 200 L 95 200 L 95 120 L 105 120 L 105 200 L 120 200 L 120 120 L 200 120 L 200 105 L 120 105 L 120 95 L 200 95 L 200 80 L 120 80 L 120 0 L 105 0 L 105 80 L 95 80 L 95 0 L 80 0 z M 95 95 L 105 95 L 105 105 L 95 105 L 95 95 z"/>',templateLined:e=>`<path d="${e}" transform="translate(0 -20)"/><path d="${e}" transform="rotate(180 100 100) translate(0 -20)"/><path d="${e}" transform="rotate(-90 100 100) translate(0 -20)"/><path d="${e}" transform="rotate(-270 100 100) translate(0 -20)"/>`,positionsOn:{e:5,ee:1}},fess:{template:'<rect x="0" y="75" width="200" height="50"/>',templateLined:e=>`<path d="${e}" transform="translate(0 -25)"/><path d="${e}" transform="translate(0 25) rotate(180 100 100)"/><rect x="0" y="88" width="200" height="24" stroke="none"/>`,positionsOn:{ee:1,def:3},positionsOff:{abc:3,abcz:1}},fessCotissed:{template:'<rect x="0" y="67" width="200" height="8"/><rect x="0" y="83" width="200" height="34"/><rect x="0" y="125" width="200" height="8"/>',templateLined:e=>`<path d="${e}" transform="translate(0 15) scale(1 .5)"/><path d="${e}" transform="translate(0 85) rotate(180 100 50) scale(1 .5)"/><rect x="0" y="80" width="200" height="40"/>`,positionsOn:{ee:1,def:3}},fessDoubleCotissed:{template:'<rect x="0" y="60" width="200" height="7.5"/><rect x="0" y="72.5" width="200" height="7.5"/><rect x="0" y="85" width="200" height="30"/><rect x="0" y="120" width="200" height="7.5"/><rect x="0" y="132.5" width="200" height="7.5"/>',templateLined:e=>`<rect x="0" y="85" width="200" height="30"/><rect x="0" y="72.5" width="200" height="7.5"/><rect x="0" y="120" width="200" height="7.5"/><path d="${e}" transform="translate(0 10) scale(1 .5)"/><path d="${e}" transform="translate(0 90) rotate(180 100 50) scale(1 .5)"/>`,positionsOn:{ee:1,defdef:3}},flaunches:{template:'<path d="M0,0 q120,100 0,200 M200,0 q-120,100 0,200"/>',positionsOff:{e:3,kn:1,beh:3}},gemelle:{template:'<rect x="0" y="76" width="200" height="16"/><rect x="0" y="108" width="200" height="16"/>',templateLined:e=>`<path d="${e}" transform="translate(0,-22.5)"/><path d="${e}" transform="translate(0,22.5) rotate(180.00001 100 100)"/>`,positionsOff:{abc:1}},gore:{template:'<path d="M20,0 Q30,75 100,100 Q80,150 100,200 L0,200 L0,0 Z"/>'},gyron:{template:'<polygon points="0,0 100,100 0,100"/>',positionsOff:{bh:1}},label:{template:'<path d="m 46,54.8 6.6,-15.6 95.1,0 5.9,15.5 -16.8,0.1 4.5,-11.8 L 104,43 l 4.3,11.9 -16.8,0 4.3,-11.8 -37.2,0 4.5,11.8 -16.9,0 z"/>',positionsOff:{defgzi:2,eh:3,defdefhmo:1,egiegi:1,pqn:5}},mount:{template:'<path d="m0,250 a100,100,0,0,1,200,0"/>',positionsOff:{e:5,def:1,bdf:3}},orle:{positionsOff:{e:4,jleh:1,kenken:1,peqpeq:1}},pale:{template:'<rect x="75" y="0" width="50" height="200"/>',templateLined:e=>`<path d="${e}" transform="rotate(-90 100 100) translate(0 -25)"/><path d="${e}" transform="rotate(90 100 100) translate(0 -25)"/><rect x="88" y="0" width="24" height="200" stroke="none"/>`,positionsOn:{ee:12,beh:10,kn:3,bb:1},positionsOff:{yyy:1}},pall:{template:'<polygon points="0,0 30,0 100,70 170,0 200,0 200,30 122,109 122,200 78,200 78,109 0,30"/>',positionsOn:{ee:1,jleh:5,jlhh:3},positionsOff:{BCKFEILGJbdmfo:1}},pallReversed:{template:'<polygon points="0,200 0,170 78,91 78,0 122,0 122,91 200,170 200,200 170,200 100,130 30,200"/>',positionsOn:{ee:1,bemo:5},positionsOff:{aczac:1}},pile:{template:'<polygon points="70,0 100,175 130,0"/>',positionsOn:{bbb:1},positionsOff:{acdfgi:1,acac:1}},pileInBend:{template:'<polygon points="200,200 200,144 25,25 145,200"/>',positionsOn:{eeee:1,eeoo:1},positionsOff:{cg:1}},pileInBendSinister:{template:'<polygon points="0,200 0,144 175,25 55,200"/>',positionsOn:{eeee:1,eemm:1},positionsOff:{ai:1}},piles:{template:'<polygon points="46,0 75,175 103,0"/><polygon points="95,0 125,175 154,0"/>'},pilesInPoint:{template:'<path d="M15,0 100,200 60,0Z M80,0 100,200 120,0Z M140,0 100,200 185,0Z"/>'},point:{template:'<path d="M0,200 Q80,180 100,135 Q120,180 200,200"/>',positionsOff:{e:2,def:1,bdf:3,acbdef:1}},quarter:{template:'<rect width="100" height="100"/>',positionsOn:{jjj:1},positionsOff:{e:1}},saltire:{template:'<path d="M 0,21 79,100 0,179 0,200 21,200 100,121 179,200 200,200 200,179 121,100 200,21 200,0 179,0 100,79 21,0 0,0 Z"/>',templateLined:e=>`<path d="${e}" transform="translate(0 -10) rotate(45 110 100) scale(1.1 1)"/><path d="${e}" transform="translate(-20 10) rotate(225 110 100) scale(1.1 1)"/><path d="${e}" transform="translate(-20 -10) rotate(-45 110 100) scale(1.1 1)"/><path d="${e}" transform="translate(0 10) rotate(-225 110 100) scale(1.1 1)"/>`,positionsOn:{ee:5,jlemo:1}},saltireParted:{template:'<path d="M 7 0 L 89 82 L 82 89 L 0 7 L 0 28 L 72 100 L 0 172 L 0 193 L 82 111 L 89 118 L 7 200 L 28 200 L 100 128 L 172 200 L 193 200 L 111 118 L 118 111 L 200 193 L 200 172 L 128 100 L 200 28 L 200 7 L 118 89 L 111 82 L 193 0 L 172 0 L 100 72 L 28 0 L 7 0 z M 100 93 L 107 100 L 100 107 L 93 100 L 100 93 z"/>',templateLined:e=>`<path d="${e}" transform="translate(3 -13) rotate(45 110 100) scale(1.1 1)"/><path d="${e}" transform="translate(-23 13) rotate(225 110 100) scale(1.1 1)"/><path d="${e}" transform="translate(-23 -13) rotate(-45 110 100) scale(1.1 1)"/><path d="${e}" transform="translate(3 13) rotate(-225 110 100) scale(1.1 1)"/>`,positionsOn:{e:5,ee:1}},terrace:{template:'<rect x="0" y="145" width="200" height="55"/>',templateLined:e=>`<path d="${e}" transform="translate(0,50)"/><rect x="0" y="164" width="200" height="36" stroke="none"/>`,positionsOff:{e:5,def:1,bdf:3}}}},Re="0 0 200 200",qe={types:{basic:10,regional:2,historical:1,specific:1,banner:1,simple:2,middleEarth:0,fantasy:1},basic:{heater:12,spanish:6,french:1},regional:{horsehead:1,horsehead2:1,polish:1,hessen:1,swiss:1},historical:{boeotian:1,roman:2,kite:1,oldFrench:5,renaissance:2,baroque:2},specific:{targe:1,targe2:0,pavise:5,wedged:10,embowed:1},banner:{flag:1,pennon:0,guidon:0,banner:0,dovetail:1,gonfalon:5,pennant:0},simple:{round:12,oval:6,vesicaPiscis:1,square:1,diamond:2,hexagon:1,no:0},middleEarth:{noldor:1,gondor:1,easterling:1,erebor:1,ironHills:1,urukHai:1,moriaOrc:1},fantasy:{fantasy1:2,fantasy2:2,fantasy3:1,fantasy4:1,fantasy5:3},data:{banner:{box:"0 10 200 200",path:"m 25,25 v 170 l 25,-40 25,40 25,-40 25,40 25,-40 25,40 V 25 H 25 Z",size:.8,positions:{a:[-50,-50],b:[0,-50],c:[50,-50],d:[-50,0],e:[0,0],f:[50,0],g:[-50,40],h:[0,40],i:[50,40],y:[-50,-50],z:[0,40],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,27.5],n:[0,27.5],o:[37.5,27.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-66.5,66.5],G:[66.5,66.5],H:[-25,75],L:[25,75]}},baroque:{box:"0 10 200 200",path:"m 25,39 C 50,27 82,25 100,25 c 18,0 50,2 75,14 v 37 l -2.7,3.2 c -4.9,5.4 -6.6,9.6 -6.7,16.2 0,6.5 2,11.6 6.9,17.2 l 2.8,3.1 v 10.2 c 0,17.7 -2.2,27.7 -7.8,35.9 -5,7.3 -11.7,11.3 -32.3,19.4 -12.6,5 -20.2,8.8 -28.6,14.5 C 103.3,198 100,200 100,200 c 0,0 -2.8,-2.3 -6.4,-4.7 C 85.6,189.8 78,186 65,180.9 32.4,168.1 26.9,160.9 25.8,129.3 L 25,116 l 3.3,-3.3 c 4.8,-5.2 7,-10.7 7,-17.3 0,-6.8 -1.8,-11.1 -6.5,-16.1 L 25,76 V 39 Z",segments:[2,10,9],positions:{a:[-43.75,-45],b:[0,-45],c:[43.75,-45],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,60],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-65,-54.5],B:[-22,-65],C:[22,-65],D:[65,-54.5],K:[-58.5,-15],E:[58.5,-15],J:[-65,31],F:[66,31],I:[-35,73],G:[35,73],H:[0,89]}},boeotian:{path:"M150 115c-5 0-10-5-10-15s5-15 10-15c10 0 7 10 15 10 10 0 0-30 0-30-10-25-30-55-65-55S45 40 35 65c0 0-10 30 0 30 8 0 5-10 15-10 5 0 10 5 10 15s-5 15-10 15c-10 0-7-10-15-10-10 0 0 30 0 30 10 25 30 55 65 55s55-30 65-55c0 0 10-30 0-30-8 0-5 10-15 10z",segments:[1,1,1,4,1,1,1,1,4,1],size:.75,positions:{a:[-37.5,-47.5],b:[0,-47.5],c:[37.5,-47.5],d:[-25,0],e:[0,0],f:[25,0],g:[-37.5,47.5],h:[0,47.5],i:[37.5,47.5],y:[-48,-48],z:[0,60],j:[-32.5,-37.5],k:[0,-45],l:[32.5,-37.5],m:[-32.5,37.5],n:[0,45],o:[32.5,37.5],p:[-20,0],q:[20,0],A:[-45,-55],B:[-20,-77],C:[20,-77],D:[45,-55],K:[-59,-25],E:[59,-25],J:[-58,27],F:[58,27],I:[-39,63],G:[39,63],H:[0,81]}},diamond:{path:"M 25,100 100,200 175,100 100,0 25,100 Z",size:.8,positions:{a:[-32,-37],b:[0,-50],c:[32,-37],d:[-43,0],e:[0,0],f:[43,0],g:[-32,37],h:[0,50],i:[32,37],y:[-50,-50],z:[0,62],j:[-27.5,-27.5],k:[0,-37],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,42],o:[27.5,27.5],p:[-37,0],q:[37,0],A:[-43,-28],B:[-22,-56],C:[22,-56],D:[43,-28],K:[-63,0],E:[63,0],J:[-42,28],F:[42,28],I:[-22,56],G:[22,56],H:[0,83],L:[0,-82]}},dovetail:{box:"0 10 200 200",path:"m 25,25 v 175 l 75,-40 75,40 V 25 H 25 Z",size:.8,positions:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],i:[49.75,50],y:[-50,-50],z:[0,40],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,32.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-16.5],E:[66.5,-16.5],J:[-66.5,34.5],F:[66.5,34.5],I:[-66.5,84.5],G:[66.5,84.5],H:[-25,64],L:[25,64]}},easterling:{path:"M 160,185 C 120,170 80,170 40,185 V 15 c 40,15 80,15 120,0 V 185 z",size:.8,positions:{a:[-40,-47.5],b:[0,-47.5],c:[40,-47.5],d:[-40,0],e:[0,0],f:[40,0],g:[-40,47.5],h:[0,47.5],i:[40,47.5],y:[-42.5,-52.5],z:[0,65],j:[-30,-37.5],k:[0,-37.5],l:[30,-37.5],m:[-30,37.5],n:[0,37.5],o:[30,37.5],p:[-30,0],q:[30,0],A:[-52,-72],B:[0,-65],D:[52,-72],K:[-52,-24],E:[52,-24],J:[-52,24],F:[52,24],I:[-52,72],G:[52,72],H:[0,65]}},embowed:{path:"m 25,25 a 170,170,0,0,1,150,0 v 50 a 150,150,0,0,1,-75,125 a 150,150,0,0,1,-75,-125 v -50 z",segments:[1,2,2],positions:{a:[-43.75,-50],b:[0,-60],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32.25,37.5],h:[0,50],i:[32.25,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-47.5],l:[37.5,-37.5],m:[-30,30],n:[0,42.5],o:[30,30],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-82],C:[22,-82],D:[66.2,-66.6],K:[-66.2,-20],E:[66.2,-20],J:[-55.5,26],F:[55.5,26],I:[-33,62],G:[33,62],H:[0,89.5]}},erebor:{path:"M25 135 V60 l22-13 16-37 h75 l15 37 22 13 v75l-22 18-16 37 H63l-16-37 -22-18z",size:.9,positions:{a:[-40,-40],b:[0,-55],c:[40,-40],d:[-40,0],e:[0,0],f:[40,0],g:[-40,40],h:[0,55],i:[40,40],y:[-50,-50],z:[0,50],j:[-35,-35],k:[0,-45],l:[35,-35],m:[-35,35],n:[0,45],o:[35,35],p:[-37.5,0],q:[37.5,0],A:[-47,-46],B:[-22,-81],C:[22,-81],D:[47,-46],K:[-66.5,0],E:[66.5,0],J:[-47,46],F:[47,46],I:[-22,81],G:[22,81]}},fantasy1:{path:"M 100,5 C 85,30 40,35 15,40 c 40,35 20,90 40,115 15,25 40,30 45,45 5,-15 30,-20 45,-45 20,-25 0,-80 40,-115 C 160,35 115,30 100,5 Z",segments:[1,2,2,1],size:.8,positions:{a:[-45,-45],b:[0,-50],c:[45,-45],d:[-40,0],e:[0,0],f:[40,0],g:[-36,42.5],h:[0,50],i:[36,42.5],y:[-50,-50],z:[0,60],j:[-37,-37],k:[0,-40],l:[37,-37],m:[-32,32],n:[0,40],o:[32,32],p:[-28.5,0],q:[28.5,0],A:[-66,-55],B:[-22,-67],C:[22,-67],D:[66,-55],K:[-53,-20],E:[53,-20],J:[-46,26],F:[46,26],I:[-29,62],G:[29,62],H:[0,84]}},fantasy2:{box:"0 5 200 200",path:"m 152,21 c 0,0 -27,14 -52,-4 C 75,35 48,21 48,21 50,45 30,55 30,75 60,75 60,115 32,120 c 3,40 53,50 68,80 15,-30 65,-40 68,-80 -28,-5 -28,-45 2,-45 C 170,55 150,45 152,21 Z",size:.7,positions:{a:[-45,-45],b:[0,-45],c:[45,-45],d:[-35,0],e:[0,0],f:[35,0],g:[-36,42.5],h:[0,45],i:[36,42.5],y:[-50,-50],z:[0,55],j:[-32.5,-32.5],k:[0,-40],l:[32.5,-32.5],m:[-30,30],n:[0,40],o:[30,30],p:[-27.5,0],q:[27.5,0],A:[-58,-35],B:[-44,-67],C:[44,-67],D:[58,-35],K:[-39,-5],E:[39,-5],J:[-57,26],F:[57,26],I:[-32,58],G:[32,58],H:[0,83],L:[0,-72]}},fantasy3:{box:"0 5 200 200",path:"M 167,67 C 165,0 35,0 33,67 c 32,-7 27,53 -3,43 -5,45 60,65 70,90 10,-25 75,-47.51058 70,-90 -30,10 -35,-50 -3,-43 z",size:.7,positions:{a:[-40,-45],b:[0,-50],c:[40,-45],d:[-35,0],e:[0,0],f:[35,0],g:[-36,42.5],h:[0,50],i:[36,42.5],y:[-50,-50],z:[0,55],j:[-32.5,-32.5],k:[0,-40],l:[32.5,-32.5],m:[-30,30],n:[0,40],o:[30,30],p:[-27.5,0],q:[27.5,0],A:[-56,-42],B:[-22,-72],C:[22,-72],D:[56,-42],K:[-37,-11],E:[37,-11],J:[-60,20],F:[60,20],I:[-34,56],G:[34,56],H:[0,83]}},fantasy4:{box:"0 5 200 200",path:"M100 9C55 48 27 27 13 39c23 50 3 119 49 150 14 9 28 11 38 11s27-4 38-11c55-39 24-108 49-150-14-12-45 7-87-30z",segments:[1,4,1],positions:{a:[-50,-45],b:[0,-50],c:[50,-45],d:[-45,0],e:[0,0],f:[45,0],g:[-40,45],h:[0,50],i:[40,45],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-45],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,45],o:[37.5,37.5],p:[-35,0],q:[35,0],A:[-75,-56],B:[-36,-61],C:[36,-61],D:[75,-56],K:[-67,-12],E:[67,-12],J:[-63,32],F:[63,32],I:[-42,75],G:[42,75],H:[0,91.5],L:[0,-79]}},fantasy5:{path:"M 100,0 C 75,25 30,25 30,25 c 0,69 20,145 70,175 50,-30 71,-106 70,-175 0,0 -45,0 -70,-25 z",size:.9,positions:{a:[-45,-50],b:[0,-50],c:[45,-50],d:[-40,0],e:[0,0],f:[40,0],g:[-30,45],h:[0,50],i:[30,45],y:[-50,-50],z:[0,60],j:[-37,-37],k:[0,-40],l:[37,-37],m:[-32,32],n:[0,40],o:[32,32],p:[-28.5,0],q:[28.5,0],A:[-61,-67],B:[-22,-76],C:[22,-76],D:[61,-67],K:[-58,-25],E:[58,-25],J:[-48,20],F:[48,20],I:[-28.5,60],G:[28.5,60],H:[0,89]}},flag:{path:"M 10,40 h180 v120 h-180 v-120 Z",size:.7,positions:{a:[-60,-40],b:[0,-40],c:[60,-40],d:[-60,0],e:[0,0],f:[60,0],g:[-60,40],h:[0,40],i:[60,40],y:[-60,-42.5],z:[0,40],j:[-45,-30],k:[0,-30],l:[45,-30],m:[-45,30],n:[0,30],o:[45,30],p:[-45,0],q:[45,0],A:[-81,-51],B:[-27,-51],C:[27,-51],D:[81,-51],K:[-81,-17],E:[81,-17],J:[-81,17],F:[81,17],I:[-81,51],G:[81,51],H:[-27,51],L:[27,51]}},french:{box:"0 10 200 200",path:"m 25,25 h 150 v 139.15 c 0,41.745 -66,18.15 -75,36.3 -9,-18.15 -75,5.445 -75,-36.3 v-139.15 z",segments:[1,2,2],positions:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,65],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.4,-20],E:[66.4,-20],J:[-66.4,26],F:[66.4,26],I:[-65.4,70],G:[65.4,70],H:[0,89]}},gondor:{box:"0 5 200 200",path:"m 100,200 c 15,-15 38,-35 45,-60 h 5 V 30 h -5 C 133,10 67,10 55,30 h -5 v 110 h 5 c 7,25 30,45 45,60 z",size:.75,positions:{a:[-32.5,-50],b:[0,-50],c:[32.5,-50],d:[-32.5,0],e:[0,0],f:[32.5,0],g:[-32.5,50],h:[0,50],i:[32.5,50],y:[-42.5,-52.5],z:[0,65],j:[-25,-37.5],k:[0,-37.5],l:[25,-37.5],m:[-25,30],n:[0,37.5],o:[25,30],p:[-25,0],q:[25,0],A:[-42,-52],B:[-17,-75],C:[17,-75],D:[42,-52],K:[-42,-15],E:[42,-15],J:[-42,22],F:[42,22],I:[-26,60],G:[26,60],H:[0,87]}},gonfalon:{box:"0 10 200 200",path:"m 25,25 v 125 l 75,50 75,-50 V 25 H 25 Z",positions:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],h:[0,50],i:[49.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-40,63],G:[40,63],H:[0,88]}},guidon:{box:"2.5 0 200 200",path:"M 10,40 h190 l-65,60 65,60 h-190 v-120 Z",size:.65,positions:{a:[-60,-40],b:[0,-40],c:[60,-40],d:[-60,0],e:[0,0],g:[-60,40],h:[0,40],i:[60,40],y:[-60,-42.5],z:[0,40],j:[-45,-30],k:[0,-30],l:[45,-30],m:[-45,30],n:[0,30],o:[45,30],p:[-45,0],A:[-81,-51],B:[-27,-51],C:[27,-51],D:[78,-51],K:[-81,-17],E:[40.5,-17],J:[-81,17],F:[40.5,17],I:[-81,51],G:[78,51],H:[-27,51],L:[27,51]}},heater:{box:"0 10 200 200",path:"m25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 v-50 z",segments:[1,2,2],positions:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32.25,37.5],h:[0,50],i:[32.25,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-30,30],n:[0,42.5],o:[30,30],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.2,-20],E:[66.2,-20],J:[-55.5,26],F:[55.5,26],I:[-33,62],G:[33,62],H:[0,89.5]}},hessen:{box:"0 5 200 200",path:"M170 20c4 5 8 13 15 20 0 0-10 0-10 15 0 100-15 140-75 145-65-5-75-45-75-145 0-15-10-15-10-15l15-20c0 15 10-5 70-5s70 20 70 5z",segments:[1,4,1,2],positions:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,52.5],j:[-40,-40],k:[0,-40],l:[40,-40],m:[-40,40],n:[0,40],o:[40,40],p:[-40,0],q:[40,0],A:[-69,-64],B:[-22,-76],C:[22,-76],D:[69,-64],K:[-66.4,-20],E:[66.4,-20],J:[-62,26],F:[62,26],I:[-46,70],G:[46,70],H:[0,91.5]}},hexagon:{path:"M 100,12 176.2,56 176.2,144 100,188 23.8,144 23.8,56 100,12 Z",positions:{a:[-40,-40],b:[0,-40],c:[40,-40],d:[-40,0],e:[0,0],f:[40,0],g:[-40,40],h:[0,40],i:[40,40],y:[-48,-48],z:[0,58],j:[-30,-30],k:[0,-32],l:[30,-30],m:[-30,30],n:[0,32],o:[30,30],p:[-32,0],q:[32,0],A:[-56,-45],B:[-22,-65],C:[22,-65],D:[56,-45],K:[-67,-10],E:[67,-10],J:[-67,28],F:[67,28],I:[-38,56],G:[38,56],H:[0,77]}},horsehead:{box:"0 10 200 200",path:"m 20,40 c 0,60 40,80 40,100 0,10 -4,15 -0.5,30 C 65,185.7 81,200 100,200 c 19,0 35,-14.3 40.5,-30 C 144,155 140,150 140,140 140,120 180,100 180,40 143,40 148,15 100,15 52,15 57,40 20,40 Z",segments:[6,2],size:.9,positions:{a:[-43.75,-47.5],b:[0,-50],c:[43.75,-47.5],d:[-35,0],e:[0,0],f:[35,0],h:[0,50],y:[-50,-50],z:[0,55],j:[-35,-35],k:[0,-40],l:[35,-35],m:[-30,30],n:[0,40],o:[30,30],p:[-27.5,0],q:[27.5,0],A:[-71,-52],B:[-24,-73],C:[24,-73],D:[71,-52],K:[-62,-16],E:[62,-16],J:[-39,20],F:[39,20],I:[-33.5,60],G:[33.5,60],H:[0,91.5]}},horsehead2:{box:"0 10 200 200",path:"M60 20c-5 20-10 35-35 55 25 35 35 65 30 100 20 0 35 10 45 26 10-16 30-26 45-26-5-35 5-65 30-100a87 87 0 01-35-55c-25 3-55 3-80 0z",size:.9,positions:{a:[-37.5,-47.5],b:[0,-50],c:[37.5,-47.5],d:[-35,0],e:[0,0],f:[35,0],g:[-35,47.5],h:[0,50],i:[35,47.5],y:[-50,-50],z:[0,55],j:[-30,-30],k:[0,-40],l:[30,-30],m:[-30,30],n:[0,40],o:[30,30],p:[-27.5,0],q:[27.5,0],A:[-49,-39],B:[-22,-70],C:[22,-70],D:[49,-39],K:[-51,-2],E:[51,-2],J:[-38.5,31],F:[38.5,31],I:[-35,67],G:[35,67],H:[0,85]}},ironHills:{box:"0 5 200 200",path:"m 30,25 60,-10 10,10 10,-10 60,10 -5,125 -65,50 -65,-50 -5,-125 z",positions:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.25,0],e:[0,0],f:[43.25,0],g:[-42.5,42.5],h:[0,50],i:[42.5,42.5],y:[-50,-50],z:[0,62.5],j:[-32.5,-32.5],k:[0,-40],l:[32.5,-32.5],m:[-32.5,32.5],n:[0,40],o:[32.5,32.5],p:[-37.5,0],q:[37.5,0],A:[-61,-67],B:[-22,-74],C:[22,-74],D:[61,-67],K:[-59,-20],E:[59,-20],J:[-57,26],F:[57,26],I:[-33,64],G:[33,64],H:[0,88]}},kite:{path:"m 100,200 c 0,0 38.6,-85.6 45.7,-141.2 0,0 1,-8.1 1,-12.3 C 146.7,20.9 125.8,0.1 100,0.1 74.2,0.1 53.3,20.9 53.3,46.4 c 0,4.1 1,12.3 1,12.3 7.1,55.7 45.7,141.3 45.7,141.3 Z",segments:[6,0],size:.65,positions:{b:[0,-65],e:[0,-15],h:[0,35],z:[0,35],k:[0,-50],n:[0,20],p:[-20,-15],q:[20,-15],A:[-38,-52],B:[-29,-78],C:[29,-78],D:[38,-52],K:[-33,-20],E:[33,-20],J:[-25,11],F:[25,11],I:[-15,42],G:[15,42],H:[0,73],L:[0,-91]}},moriaOrc:{path:"M45 35c5 3 7 10 13 9h19c4-2 7-4 9-9 6 1 9 9 16 11 7-2 14 0 21 0 6-3 6-10 10-15 2-5 1-10-2-15-2-4-5-14-4-16 3 6 7 11 12 14 7 3 3 12 7 16 3 6 4 12 9 18 2 4 6 8 5 14 0 6-1 12 3 18-3 6-2 13-1 20 1 6-2 12-1 18 0 6-3 13 0 18 8 4 0 8-5 7-4 3-9 3-13 9-5 5-5 13-8 19 0 6 0 15-7 16-1 6-7 6-10 12-1-6 0-6-2-9l2-19c2-4 5-12-3-12-4-5-11-5-15 1l-13-18c-3-4-2 9-3 12 2 2-4-6-7-5-8-2-8 7-11 11-2 4-5 10-8 9 3-10 3-16 1-23-1-4 2-9-4-11 0-6 1-13-2-19-4-2-9-6-13-7V91c4-7-5-13 0-19-3-7 2-11 2-18-1-6 1-12 3-17v-1z",size:.7,positions:{a:[-37.5,-37.5],b:[0,-37.5],c:[37.5,-37.5],d:[-37.5,0],e:[0,0],f:[37.5,0],g:[-37.5,37.5],h:[0,37.5],i:[37.5,37.5],y:[-50,-50],z:[0,40],j:[-30,-30],k:[0,-30],l:[30,-30],m:[-30,30],n:[0,30],o:[30,30],p:[-30,0],q:[30,0],A:[-48,-48],B:[-16,-50],C:[16,-46],D:[39,-61],K:[-52,-19],E:[52,-26],J:[-42,9],F:[52,9],I:[-31,40],G:[40,43],H:[4,47]}},no:{path:"m0,0 h200 v200 h-200 v-200 z",size:1.2,positions:{a:[-66.5,-66.5],b:[0,-66.5],c:[66.5,-66.5],d:[-66.5,0],e:[0,0],f:[66.5,0],g:[-66.5,66.5],h:[0,66.5],i:[66.5,66.5],y:[-50,-50],z:[0,75],j:[-50,-50],k:[0,-50],l:[50,-50],m:[-50,50],n:[0,50],o:[50,50],p:[-50,0],q:[50,0],A:[-91.5,-91.5],B:[-30.5,-91.5],C:[30.5,-91.5],D:[91.5,-91.5],K:[-91.5,-30.5],E:[91.5,-30.5],J:[-91.5,30.5],F:[91.5,30.5],I:[-91.5,91.5],G:[91.5,91.5],H:[-30.5,91.5],L:[30.5,91.5]}},noldor:{path:"m 55,75 h 2 c 3,-25 38,-10 3,20 15,50 30,75 40,105 10,-30 25,-55 40,-105 -35,-30 0,-45 3,-20 h 2 C 150,30 110,20 100,0 90,20 50,30 55,75 Z",size:.5,positions:{b:[0,-65],e:[0,-15],h:[0,35],z:[0,35],k:[0,-50],n:[0,30],p:[-20,-15],q:[20,-15],A:[-34,-47],B:[-20,-68],C:[20,-68],D:[34,-47],K:[-18,-20],E:[18,-20],J:[-26,11],F:[26,11],I:[-14,43],G:[14,43],H:[0,74],L:[0,-85]}},oldFrench:{box:"0 10 200 200",path:"m25,25 h150 v75 a100,100,0,0,1,-75,100 a100,100,0,0,1,-75,-100 v-75 z",segments:[1,2,2],positions:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,45],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.2,-20],E:[66.2,-20],J:[-64,26],F:[64,26],I:[-45,62],G:[45,62],H:[0,91]}},oval:{path:"m 32.3,99.5 a 67.7,93.7 0 1 1 0,1.3 z",size:.95,positions:{a:[-37.5,-50],b:[0,-50],c:[37.5,-50],d:[-43,0],e:[0,0],f:[43,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-48,-48],z:[0,60],j:[-35.5,-37.5],k:[0,-37.5],l:[35.5,-37.5],m:[-35.5,37.5],n:[0,50],o:[35.5,37.5],p:[-36.5,0],q:[36.5,0],A:[-48,-48],B:[-23,-78],C:[23,-78],D:[48,-48],K:[-59,-10],E:[59,-10],J:[-55,31],F:[55,31],I:[-36,68],G:[36,68],H:[0,85]}},pavise:{path:"M95 7L39.9 37.3a10 10 0 00-5.1 9.5L46 180c.4 5.2 3.7 10 9 10h90c5.3 0 9.6-4.8 10-10l10.6-133.2a10 10 0 00-5-9.5L105 7c-4.2-2.3-6.2-2.3-10 0z",size:.9,positions:{a:[-40,-52.5],b:[0,-52.5],c:[40,-52.5],d:[-40,0],e:[0,0],f:[40,0],g:[-40,52.5],h:[0,52.5],i:[40,52.5],y:[-42.5,-52.5],z:[0,60],j:[-30,-35],k:[0,-37.5],l:[30,-35],m:[-30,35],n:[0,37.5],o:[30,35],p:[-30,0],q:[30,0],A:[-57,-55],B:[-22,-74],C:[22,-74],D:[57,-55],K:[-54,-11],E:[54,-11],J:[-50,36],F:[50,36],I:[-46,81],G:[46,81],H:[0,81]}},pennant:{path:"M 25,15 100,200 175,15 25,15 Z",size:.6,positions:{a:[-45,-50],b:[0,-50],c:[45,-50],e:[0,0],h:[0,50],y:[-50,-50],z:[0,50],j:[-32.5,-37.5],k:[0,-37.5],l:[32.5,-37.5],n:[0,37.5],A:[-60,-76],B:[-22,-76],C:[22,-76],D:[60,-76],K:[-46,-38],E:[46,-38],J:[-31,0],F:[31,0],I:[-16,38],G:[16,38],H:[0,76]}},pennon:{box:"2.5 0 200 200",path:"M 10,40 l190,60 -190,60 v-120 Z",size:.5,positions:{a:[-75,-40],d:[-75,0],e:[-25,0],f:[25,0],g:[-75,40],y:[-70,-42.5],j:[-60,-30],m:[-60,30],p:[-60,0],q:[5,0],A:[-81,-48],B:[-43,-36],C:[-4.5,-24],D:[33,-12],E:[72,0],F:[33,12],G:[-4.5,24],H:[-43,36],I:[-81,48],J:[-81,17],K:[-81,-17]}},polish:{path:"m 100,10 c 0,0 -2.5,-3.7 -9.7,-3.7 -12.7,0 -20.7,10.9 -40.5,14 0,11.8 -4.9,23.5 -11.4,31.1 0,0 12.7,6 12.7,19.3 C 51.1,90.8 30,90.8 30,90.8 c 0,0 -3.6,7.4 -3.6,22.4 0,34.3 23.1,60.2 40.7,68.2 17.6,8 27.7,11.4 32.9,18.6 5.2,-7.3 15.3,-10.7 32.8,-18.6 17.6,-8 40.7,-33.9 40.7,-68.2 0,-15 -3.6,-22.4 -3.6,-22.4 0,0 -21.1,0 -21.1,-20.1 0,-13.3 12.7,-19.3 12.7,-19.3 C 155.1,43.7 150.2,32.1 150.2,20.3 130.4,17.2 122.5,6.3 109.7,6.3 102.5,6.3 100,10 100,10 z",segments:[2,1,2,3,3,2,1,2],size:.85,positions:{a:[-35,-50],b:[0,-50],c:[35,-50],d:[-40,0],e:[0,0],f:[40,0],g:[-37.5,50],h:[0,50],i:[37.5,50],y:[-50,-50],z:[0,65],j:[-27.5,-27.5],k:[0,-45],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,45],o:[27.5,27.5],p:[-32.5,0],q:[32.5,0],A:[-48,-52],B:[-23,-80],C:[23,-80],D:[48,-52],K:[-47,-10],E:[47,-10],J:[-62,32],F:[62,32],I:[-37,68],G:[37,68],H:[0,86]}},renaissance:{box:"0 5 200 200",path:"M 25,33.9 C 33.4,50.3 36.2,72.9 36.2,81.7 36.2,109.9 25,122.6 25,141 c 0,29.4 24.9,44.1 40.2,47.7 15.3,3.7 29.3,0 34.8,11.3 5.5,-11.3 19.6,-7.6 34.8,-11.3 C 150.1,185 175,170.3 175,141 c 0,-18.4 -11.2,-31.1 -11.2,-59.3 0,-8.8 2.8,-31.3 11.2,-47.7 L 155.7,14.4 C 138.2,21.8 119.3,25.7 100,25.7 c -19.3,0 -38.2,-3.9 -55.7,-11.3 z",segments:[4,4,1,2,1],positions:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-41.5,0],e:[0,0],f:[41.5,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-61,-55],B:[-23,-67],C:[23,-67],D:[61,-55],K:[-55,-11],E:[55,-11],J:[-65,31],F:[65,31],I:[-45,76],G:[45,76],H:[0,87]}},roman:{path:"m 160,170 c -40,20 -80,20 -120,0 V 30 C 80,10 120,10 160,30 V 170 Z",size:.95,roman:{a:[-40,-52.5],b:[0,-52.5],c:[40,-52.5],d:[-40,0],e:[0,0],f:[40,0],g:[-40,52.5],h:[0,52.5],i:[40,52.5],y:[-42.5,-52.5],z:[0,65],j:[-30,-37.5],k:[0,-37.5],l:[30,-37.5],m:[-30,37.5],n:[0,37.5],o:[30,37.5],p:[-30,0],q:[30,0],A:[-51.5,-65],B:[-17,-75],C:[17,-75],D:[51.5,-65],K:[-51.5,-21],E:[51.5,-21],J:[-51.5,21],F:[51.5,21],I:[-51.5,65],G:[51.5,65],H:[-17,75],L:[17,75]}},round:{path:"m 185,100 a 85,85 0 0 1 -85,85 85,85 0 0 1 -85,-85 85,85 0 0 1 85,-85 85,85 0 0 1 85,85 z",segments:[4],positions:{a:[-40,-40],b:[0,-40],c:[40,-40],d:[-40,0],e:[0,0],f:[40,0],g:[-40,40],h:[0,40],i:[40,40],y:[-48,-48],z:[0,57.5],j:[-35.5,-35.5],k:[0,-37.5],l:[35.5,-35.5],m:[-35.5,35.5],n:[0,37.5],o:[35.5,35.5],p:[-36.5,0],q:[36.5,0],A:[-59,-48],B:[-23,-73],C:[23,-73],D:[59,-48],K:[-76,-10],E:[76,-10],J:[-70,31],F:[70,31],I:[-42,64],G:[42,64],H:[0,77]}},spanish:{box:"0 10 200 200",path:"m25,25 h150 v100 a75,75,0,0,1,-150,0 v-100 z",segments:[1,3],positions:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66.6],C:[22,-66.6],D:[66.2,-66.6],K:[-66.4,-20],E:[66.4,-20],J:[-66.4,26],F:[66.4,26],I:[-49,70],G:[49,70],H:[0,92]}},square:{path:"M 25,25 H 175 V 175 H 25 V 25 Z",positions:{a:[-49.75,-50],b:[0,-50],c:[49.75,-50],d:[-49.75,0],e:[0,0],f:[49.75,0],g:[-49.75,50],h:[0,50],i:[49.75,50],y:[-50,-50],z:[0,50],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-37.5,0],q:[37.5,0],A:[-66.5,-66.5],B:[-22,-66.5],C:[22,-66.5],D:[66.5,-66.5],K:[-66.5,-20],E:[66.5,-20],J:[-66.5,26],F:[66.5,26],I:[-66.5,66.5],G:[66.5,66.5],H:[-22,66.5],L:[22,66.5]}},swiss:{box:"0 10 200 200",path:"m 25,20 c 0.1,0 25.2,8.5 37.6,8.5 C 75.1,28.5 99.1,20 100,20 c 0.6,0 24.9,8.5 37.3,8.5 C 149.8,28.5 174.4,20 175,20 l -0.3,22.6 C 173.2,160.3 100,200 100,200 100,200 26.5,160.9 25.2,42.6 l -0.2,-22.6 Z",segments:[2,2,2,2],size:.95,positions:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32,37.5],h:[0,50],i:[32,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-32,32.5],n:[0,42.5],o:[32,32.5],p:[-37.5,0],q:[37.5,0],A:[-66.2,-66.6],B:[-22,-66],C:[22,-66],D:[66.2,-66.6],K:[-63,-20],E:[63,-20],J:[-50,26],F:[50,26],I:[-29,62],G:[29,62],H:[0,89.5]}},targe:{path:"m 20,35 c 15,0 115,-60 155,-10 -5,10 -15,15 -10,50 5,45 10,70 -10,90 C 125,195 75,195 50,175 25,150 30,130 35,85 50,95 65,85 65,70 65,50 50,45 40,50 30,55 27,65 30,70 23,73 20,70 14,70 11,60 20,45 20,35 Z",segments:[1,4,3,1,1],positions:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,50],j:[-40,-40],k:[0,-40],l:[40,-40],m:[-40,40],n:[0,40],o:[40,40],p:[-32.5,0],q:[32.5,0],A:[-66.2,-60],B:[-22,-77],C:[22,-86],D:[60,-66.6],K:[-28,-20],E:[57,-20],J:[-61,26],F:[61,26],I:[-49,63],G:[49,59],H:[0,80]}},targe2:{path:"m 84,32.2 c 6.2,-1 19.5,-31.4 94.1,-20.2 -30.57,33.64 -21.66,67.37 -11.2,95 20.2,69.5 -41.17549,84.7 -66.88,84.7 C 74.32,191.7071 8.38,168.95 32,105.9 36.88,92.88 31,89 31,82.6 35.15,82.262199 56.79,86.17 56.5,69.8 56.20,52.74 42.2,47.9 25.9,55.2 25.9,51.4 39.8,6.7 84,32.2 Z",segments:[1,4,2,1],size:.9,positions:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-40,0],e:[0,0],f:[40,0],g:[-43.75,50],h:[0,50],i:[43.75,50],y:[-50,-50],z:[0,60],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-37.5,37.5],n:[0,37.5],o:[37.5,37.5],p:[-32.5,0],q:[32.5,0],A:[-55,-59],B:[-15,-59],C:[24,-79],D:[51,-58],K:[-40,-14],E:[51,-14],J:[-64,26],F:[62,26],I:[-46,66],G:[48,67],H:[0,83]}},urukHai:{path:"M 30,60 C 40,60 60,50 60,20 l -5,-3 45,-17 75,40 -5,5 -35,155 -5,-35 H 70 v 35 l -40,-140 z",size:.8,positions:{a:[-40,-45],b:[0,-45],c:[40,-45],d:[-36,0],e:[0,0],f:[36,0],g:[-32.25,40],h:[0,40],i:[32.25,40],y:[-50,-50],z:[0,40],j:[-32.5,-32.5],k:[0,-37.5],l:[32.5,-32.5],m:[-27.5,27.5],n:[0,32.5],o:[27.5,27.5],p:[-37.5,0],q:[37.5,0],A:[-31,-79],B:[-1,-90],C:[31,-74],D:[61,-57],K:[-55,-19],E:[53,-19],J:[-45,19],F:[45,19],I:[-33,57],G:[35,57],H:[0,57],L:[-39,-50]}},vesicaPiscis:{path:"M 100,0 C 63.9,20.4 41,58.5 41,100 c 0,41.5 22.9,79.6 59,100 36.1,-20.4 59,-58.5 59,-100 C 159,58.5 136.1,20.4 100,0 Z",segments:[2,2],size:.8,positions:{a:[-32,-37],b:[0,-50],c:[32,-37],d:[-32,0],e:[0,0],f:[32,0],g:[-32,37],h:[0,50],i:[32,37],y:[-50,-50],z:[0,62],j:[-27.5,-27.5],k:[0,-37],l:[27.5,-27.5],m:[-27.5,27.5],n:[0,42],o:[27.5,27.5],p:[-27.5,0],q:[27.5,0],A:[-45,-32],B:[-29,-63],C:[29,-63],D:[45,-32],K:[-50,0],E:[50,0],J:[-45,32],F:[45,32],I:[-29,63],G:[29,63],H:[0,89],L:[0,-89]}},wedged:{box:"0 10 200 200",path:"m 51.2,19 h 96.4 c 3.1,12.7 10.7,20.9 26.5,20.8 C 175.7,94.5 165.3,144.3 100,200 43.5,154.2 22.8,102.8 25.1,39.7 37,38.9 47.1,34.7 51.2,19 Z",size:.95,positions:{a:[-43.75,-50],b:[0,-50],c:[43.75,-50],d:[-43.75,0],e:[0,0],f:[43.75,0],g:[-32.25,37.5],h:[0,50],i:[32.25,37.5],y:[-50,-50],z:[0,62.5],j:[-37.5,-37.5],k:[0,-37.5],l:[37.5,-37.5],m:[-32.5,32.5],n:[0,42.5],o:[32.5,32.5],p:[-37.5,0],q:[37.5,0],A:[-66,-53],B:[-22,-72.5],C:[22,-72.5],D:[66,-53],K:[-62.6,-13],E:[62.6,-13],J:[-50,26],F:[50,26],I:[-27,62],G:[27,62],H:[0,87]}}}},Ge=Object.keys(qe.types),Fe=["a","b","c","d","e","f","g","h","i","y","z","kn","bh","df","pq","jo","lm","abc","def","ghi","adg","beh","cfi","jeo","jln","kmo","peq","lem","bhdf","jleh","acegi","bdefh","kenpq","abcpqh","abcdefgzi","ABCDEFGHIJKL"],He={e:20,abcdefgzi:3,beh:3,behdf:2,acegi:1,kn:3,bhdf:1,jeo:1,abc:3,jln:6,jlh:3,kmo:2,jleh:1,def:3,abcpqh:4,ABCDEFGHIJKL:1},Ve={e:40,beh:1,kn:1,jeo:1,abc:2,jln:7,jlh:2,def:1,abcpqh:1},Je={variants:{straight:50,wavy:8,engrailed:4,invecked:3,rayonne:3,embattled:1,raguly:1,urdy:1,dancetty:1,indented:2,dentilly:1,bevilled:1,angled:1,flechy:1,barby:1,enclavy:1,escartely:1,arched:2,archedReversed:1,nowy:1,nowyReversed:1,embattledGhibellin:1,embattledNotched:1,embattledGrady:1,dovetailedIndented:1,dovetailed:1,potenty:1,potentyDexter:1,potentySinister:1,nebuly:2,seaWaves:1,dragonTeeth:1,firTrees:1},data:{straight:"m 0,115 v -15 h 200 v 15",engrailed:`m 0,115 v -20 ${"a 6.25,6.25 0 0 0 12.5,0".repeat(16)} v 20`,invecked:`m 0,115 v -12.5 ${"a 6.25,6.25 0 0 1 12.5,0".repeat(16)} v 12.5`,embattled:`m 0,115 v -10 h 2.5 ${"v -10 h 15 v 10 h 15".repeat(6)} v -10 h 15 v 10 h 2.5 v 10`,wavy:`m 0,115 v -15 ${"c 8.9,-3.5 16,-3.1 25,0 8.9,3.5 16,3.1 25,0 8.9,-3.5 16,-3.2 25,0 8.9,3.5 16,3.2 25,0".repeat(2)} v 15`,raguly:`m 0,115 v -20 h 7 ${"l -5,10 h 10 l 5,-10 h 10".repeat(9)} l -5,10 h 10 l 5,-10 h 3 v 20`,dancetty:`m 0,115 v -10 l 10,-15 ${"l 15,20 15,-20".repeat(6)} l 10,15 v 10`,dentilly:`m 0,115 v -20 ${"l 10,10 v -10".repeat(19)} l 10,10 v 10`,angled:"m 0,115 v -20 h 100 v 10 h 100 v 10",urdy:`m 0,115 v -25 ${"l 5,5 v 10 l 5,5 5,-5 v -10 l 5,-5".repeat(3)} l 5,5 v 10 l 5,6 5,-6 v -10 l 5,-5 ${"l 5,5 v 10 l 5,5 5,-5 v -10 l 5,-5".repeat(2)} l 5,5 v 10 l 5,6 5,-6 v -10 l 5,-5 ${"l 5,5 v 10 l 5,5 5,-5 v -10 l 5,-5".repeat(3)} v 25`,indented:`m 0,115 v -20 ${"l 5,10 5,-10".repeat(20)} v 20`,bevilled:"m 0,115 v -22.5 h 110 l -20,15 h 110 v 7.5",nowy:"m 0,115 v -20 h 80 c 0,0 0.1,20.1 20,20 19.9,-0.1 20,-20 20,-20 h 80 v 20",nowyReversed:"m 0,115 v -10 h 80 c 0,0 0.1,-20.1 20,-20 19.9,0.1 20,20 20,20 h 80 v 10",potenty:`m 0,115 v -10 ${"h 7.5 v -5 h -5 v -5 h 15 v 5 h -5 v 5 h 7.5".repeat(10)} v 10`,potentyDexter:`m 0,115 v -20 h 3 ${"v 10 h 10 v -5 h -5 v -5 h 10".repeat(13)} v 10 h 2 v 20`,potentySinister:`m 0,115 v -10 h 2.5 ${"v -10 h 10 v 5 h -5 v 5 h 10".repeat(13)} v -10 h 2.5 v 20`,embattledGhibellin:`m 0,115 v -15 ${"l 5,-5 v 10 l 5,-5 5,5 V 95 l 5,5".repeat(10)} v 15`,embattledNotched:`m 0,115 v -10 ${"h 5 v -10 l 5,5 5,-5 v 10".repeat(13)} h 5 v 10`,embattledGrady:`m 0,115 v -20 ${"h 2.5 v 5 h 5 v 5 h 5 v -5 h 5 v -5 h 2.5".repeat(10)} v 20`,dovetailed:`m 0,115 v -20 ${"h 7 l -4,10 h 14 l -4,-10 h 7".repeat(10)} v 20`,dovetailedIndented:`m 0,115 v -15 ${"l 7,-5 -4,10 7,-5 7,5 -4,-10 7,5".repeat(10)} v 15`,nebuly:`m 0,115 v -10.1 h 2.35 ${"c 4,0 7.3,-2 7.3,-4.5 0,-1.2 -0.7,-2.3 -1.9,-3 -1.2,-0.8 -1.8,-1.9 -1.8,-3.1 0,-2.5 3.2,-4.5 7.2,-4.5 4.1,0 7.3,2 7.3,4.5 0,1.2 -0.7,2.3 -1.8,3.1 -1.2,0.7 -1.9,1.8 -1.9,3 0,2.5 3.3,4.5 7.3,4.5".repeat(9)} h 2.35 v 10.1`,rayonne:`m 0,115 v -5 ${"a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.5 2 1.7 3.6 3.1 4.6a9 9 0 013.1 4.6c.5 2 .4 3.9-.3 5.4".repeat(17)} a9 9 0 003.1-4.6c.5-2 .4-3.9-.3-5.4-.7-1.5-.8-3.4-.3-5.4.5-2 1.7-3.6 3.1-4.6-.7 1.5-.8 3.4-.3 5.4.75 2.79 2.72 4.08 4.3 5.67 V 115`,seaWaves:`m 0,115 v -14.89 ${"c 1.59,-2.01 4.5,-5.18 8.74,-5.18 2.26,0 4.12,1.54 4.45,3.55 -0.57,-0.31 -1.23,-0.48 -1.93,-0.48 -2.16,0 -3.91,1.63 -3.91,3.64 0,2.01 1.75,3.64 3.91,3.64 4.25,0 7.16,-3.17 8.74,-5.18".repeat(10)} v 14.89`,dragonTeeth:`m 0,115 v -5.7 c 0,-2.7 2.4,4.2 3.9,5.7 ${"c -1.5,-4.6 -1.9,-10.3 -0.8,-16.2 1.1,-5.9 3.5,-10.7 6.3,-13.8 -1.5,4.6 -1.9,10.3 -0.8,16.2 1.1,5.9 3.5,10.7 6.4,13.8".repeat(17)} c -1.5,-4.6 -1.9,-10.3 -0.8,-16.2 1.1,-5.9 3.5,-10.7 6.3,-13.8 -1.5,4.6 -1.9,10.3 -0.8,16.2 0.6,2.9 1.5,5.6 2.7,8 v 5.7`,firTrees:`m 0,115 v -15 l 2,-3.5 -2,0.5 4,-7 ${"l 4,7 -2,-0.5 4,7 -2,-0.5 4,7 4,-7 -2,0.5 4,-7 -2,0.5 4,-7".repeat(12)} 4,7 -2,-0.5 2,3.5 v 15`,flechy:"m 0,115 v -15 h 85 l 15,-15 15,15 h 85 v 15",barby:"m 0,115 v -15 h 85 l 15,15 15,-15 h 85 v 15",enclavy:"m 0,115 v -15 H 85 V 85 h 30 v 15 h 85 v 15",escartely:"m 0,115 v -15 h 85 v 15 h 30 v -15 h 85 v 15",arched:"m 0,115 c 0,0 60,-19.8 100,-20 c 40,-0.2 100,20 100,20",archedReversed:"m 0,115 v -30 c 0,0 60,20.2 100,20 40,-0.2 100,-20 100,-20 v 30"}},Ze={semy:(e,t,n,r,o)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 200 200" patternUnits="userSpaceOnUse" stroke="#000"><rect width="200" height="200" fill="${t}" stroke="none"/><g fill="${n}"><use transform="translate(-100 -50)" href="#${o}"/><use transform="translate(100 -50)" href="#${o}"/><use transform="translate(0 50)" href="#${o}"/></g></pattern>`,vair:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${50*r}" viewBox="0 0 25 50" patternUnits="userSpaceOnUse" stroke="#000" stroke-width=".2"><rect width="25" height="25" fill="${t}" stroke="none"/><path d="m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z" fill="${n}"/><rect x="0" y="25" width="25" height="25" fill="${n}" stroke="none"/><path d="m25,25 l-6.25,6.25 v12.5 l-6.25,6.25 l-6.25,-6.25 v-12.5 l-6.25,-6.25 z" fill="${t}"/><path d="M0 50 h25" fill="none"/></pattern>`,counterVair:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${50*r}" viewBox="0 0 25 50" patternUnits="userSpaceOnUse" stroke="#000" stroke-width=".2"><rect width="25" height="50" fill="${n}" stroke="none"/><path d="m 12.5,0 6.25,6.25 v 12.5 L 25,25 18.75,31.25 v 12.5 L 12.5,50 6.25,43.75 V 31.25 L 0,25 6.25,18.75 V 6.25 Z" fill="${t}"/></pattern>`,vairInPale:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 25 25" patternUnits="userSpaceOnUse"><rect width="25" height="25" fill="${t}"/><path d="m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z" fill="${n}" stroke="#000" stroke-width=".2"/></pattern>`,vairEnPointe:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${50*r}" viewBox="0 0 25 50" patternUnits="userSpaceOnUse"><rect width="25" height="25" fill="${n}"/><path d="m12.5,0 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z" fill="${t}"/><rect x="0" y="25" width="25" height="25" fill="${t}" stroke-width="1" stroke="${t}"/><path d="m12.5,25 l6.25,6.25 v12.5 l6.25,6.25 h-25 l6.25,-6.25 v-12.5 z" fill="${n}"/></pattern>`,vairAncien:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 100 100" patternUnits="userSpaceOnUse"><rect width="100" height="100" fill="${t}"/><path fill="${n}" stroke="none" d="m 0,90 c 10,0 25,-5 25,-40 0,-25 10,-40 25,-40 15,0 25,15 25,40 0,35 15,40 25,40 v 10 H 0 Z"/><path fill="none" stroke="#000" d="M 0,90 c 10,0 25,-5 25,-40 0,-35 15,-40 25,-40 10,0 25,5 25,40 0,35 15,40 25,40 M0,100 h100"/></pattern>`,potent:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 200 200" patternUnits="userSpaceOnUse" stroke="#000"><rect width="200" height="100" fill="${t}" stroke="none"/><rect y="100" width="200" height="100" fill="${n}" stroke="none"/><path d="m25 50h50v-50h50v50h50v50h-150z" fill="${n}"/><path d="m25 100v50h50v50h50v-50h50v-50z" fill="${t}"/><path d="m0 0h200 M0 100h200" fill="none"/></pattern>`,counterPotent:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 200 200" patternUnits="userSpaceOnUse" stroke="none"><rect width="200" height="200" fill="${t}"/><path d="m25 50h50v-50h50v50h50v100h-50v50h-50v-50h-50v-50z" fill="${n}"/><path d="m0 0h200 M0 100h200 M0 200h200"/></pattern>`,potentInPale:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${12.5*r}" viewBox="0 0 200 100" patternUnits="userSpaceOnUse" stroke-width="1"><rect width="200" height="100" fill="${t}" stroke="none"/><path d="m25 50h50v-50h50v50h50v50h-150z" fill="${n}" stroke="#000"/><path d="m0 0h200 M0 100h200" fill="none" stroke="#000"/></pattern>`,potentEnPointe:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 200 200" patternUnits="userSpaceOnUse" stroke="none"><rect width="200" height="200" fill="${t}"/><path d="m0 0h25v50h50v50h50v-50h50v-50h25v100h-25v50h-50v50h-50v-50h-50v-50h-25v-100" fill="${n}"/></pattern>`,ermine:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 200 200" patternUnits="userSpaceOnUse" fill="${n}"><rect width="200" height="200" fill="${t}"/><g stroke="none" fill="${n}"><g transform="translate(-100 -50)"><path d="m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z"/><path d="m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z"/><path d="m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z"/><path d="m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z"/></g><g transform="translate(100 -50)"><path d="m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z"/><path d="m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z"/><path d="m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z"/><path d="m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z"/></g><g transform="translate(0 50)"><path d="m100 81.1c-4.25 17.6-12.7 29.8-21.2 38.9 3.65-0.607 7.9-3.04 11.5-5.47-2.42 4.86-4.86 8.51-7.3 12.7 1.82-0.607 6.07-4.86 12.7-10.9 1.21 8.51 2.42 17.6 4.25 23.6 1.82-5.47 3.04-15.2 4.25-23.6 3.65 3.65 7.3 7.9 12.7 10.9l-7.9-13.3c3.65 1.82 7.9 4.86 11.5 6.07-9.11-9.11-17-21.2-20.6-38.9z"/><path d="m82.4 81.7c-0.607-0.607-6.07 2.42-9.72-4.25 7.9 6.68 15.2-7.3 21.8 1.82 1.82 4.25-6.68 10.9-12.1 2.42z"/><path d="m117 81.7c0.607-1.21 6.07 2.42 9.11-4.86-7.3 7.3-15.2-7.3-21.2 2.42-1.82 4.25 6.68 10.9 12.1 2.42z"/><path d="m101 66.5c-1.02-0.607 3.58-4.25-3.07-8.51 5.63 7.9-10.2 10.9-1.54 17.6 3.58 2.42 12.2-2.42 4.6-9.11z"/></g></g></pattern>`,chequy:(e,t,n,r)=>`<pattern id="${e}" width="${50*r}" height="${50*r}" viewBox="0 0 50 50" patternUnits="userSpaceOnUse" fill="${n}"><rect width="50" height="50"/><rect width="25" height="25" fill="${t}"/><rect x="25" y="25" width="25" height="25" fill="${t}"/></pattern>`,lozengy:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 50 50" patternUnits="userSpaceOnUse"><rect width="50" height="50" fill="${t}"/><polygon points="25,0 50,25 25,50 0,25" fill="${n}"/></pattern>`,fusily:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${50*r}" viewBox="0 0 50 100" patternUnits="userSpaceOnUse"><rect width="50" height="100" fill="${n}"/><polygon points="25,0 50,50 25,100 0,50" fill="${t}"/></pattern>`,pally:(e,t,n,r)=>`<pattern id="${e}" width="${100*r}" height="${25*r}" viewBox="0 0 100 25" patternUnits="userSpaceOnUse"><rect width="100" height="25" fill="${n}"/><rect x="25" y="0" width="25" height="25" fill="${t}"/><rect x="75" y="0" width="25" height="25" fill="${t}"/></pattern>`,barry:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${100*r}" viewBox="0 0 25 100" patternUnits="userSpaceOnUse"><rect width="25" height="100" fill="${n}"/><rect x="0" y="25" width="25" height="25" fill="${t}"/><rect x="0" y="75" width="25" height="25" fill="${t}"/></pattern>`,gemelles:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 50 50" patternUnits="userSpaceOnUse"><rect width="50" height="50" fill="${t}"/><rect y="5" width="50" height="10" fill="${n}"/><rect y="40" width="50" height="10" fill="${n}"/></pattern>`,bendy:(e,t,n,r)=>`<pattern id="${e}" width="${100*r}" height="${100*r}" viewBox="0 0 100 100" patternUnits="userSpaceOnUse"><rect width="100" height="100" fill="${t}"/><polygon points="0,25 75,100 25,100 0,75" fill="${n}"/><polygon points="25,0 75,0 100,25 100,75" fill="${n}"/></pattern>`,bendySinister:(e,t,n,r)=>`<pattern id="${e}" width="${100*r}" height="${100*r}" viewBox="0 0 100 100" patternUnits="userSpaceOnUse"><rect width="100" height="100" fill="${n}"/><polygon points="0,25 25,0 75,0 0,75" fill="${t}"/><polygon points="25,100 100,25 100,75 75,100" fill="${t}"/></pattern>`,palyBendy:(e,t,n,r)=>`<pattern id="${e}" width="${125.16*r}" height="${71.52*r}" viewBox="0 0 175 100" patternUnits="userSpaceOnUse"><rect y="0" x="0" width="175" height="100" fill="${n}"/><g fill="${t}"><path d="m0 20 35 30v50l-35-30z"/><path d="m35 0 35 30v50l-35-30z"/><path d="m70 0h23l12 10v50l-35-30z"/><path d="m70 80 23 20h-23z"/><path d="m105 60 35 30v10h-35z"/><path d="m105 0h35v40l-35-30z"/><path d="m 140,40 35,30 v 30 h -23 l -12,-10z"/><path d="M 175,0 V 20 L 152,0 Z"/></g></pattern>`,barryBendy:(e,t,n,r)=>`<pattern id="${e}" width="${71.44*r}" height="${125.02*r}" viewBox="0 0 100 175" patternUnits="userSpaceOnUse"><rect width="100" height="175" fill="${n}"/><g fill="${t}"><path d="m20 0 30 35h50l-30-35z"/><path d="m0 35 30 35h50l-30-35z"/><path d="m0 70v23l10 12h50l-30-35z"/><path d="m80 70 20 23v-23z"/><path d="m60 105 30 35h10v-35z"/><path d="m0 105v35h40l-30-35z"/><path d="m 40,140 30,35 h 30 v -23 l -10,-12 z"/><path d="m0 175h20l-20-23z"/></g></pattern>`,pappellony:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 100 100" patternUnits="userSpaceOnUse"><rect width="100" height="100" fill="${t}"/><circle cx="0" cy="51" r="45" stroke="${n}" fill="${t}" stroke-width="10"/><circle cx="100" cy="51" r="45" stroke="${n}" fill="${t}" stroke-width="10"/><circle cx="50" cy="1" r="45" stroke="${n}" fill="${t}" stroke-width="10"/></pattern>`,pappellony2:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 100 100" patternUnits="userSpaceOnUse" stroke="#000" stroke-width="2"><rect width="100" height="100" fill="${t}" stroke="none"/><circle cy="50" r="49" fill="${n}"/><circle cx="100" cy="50" r="49" fill="${n}"/><circle cx="50" cy="0" r="49" fill="${t}"/></pattern>`,scaly:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 100 100" patternUnits="userSpaceOnUse" stroke="#000"><rect width="100" height="100" fill="${t}" stroke="none"/><path d="M 0,84 C -40,84 -50,49 -50,49 -50,79 -27,99 0,99 27,99 50,79 50,49 50,49 40,84 0,84 Z" fill="${n}"/><path d="M 100,84 C 60,84 50,49 50,49 c 0,30 23,50 50,50 27,0 50,-20 50,-50 0,0 -10,35 -50,35 z" fill="${n}"/><path d="M 50,35 C 10,35 0,0 0,0 0,30 23,50 50,50 77,50 100,30 100,0 100,0 90,35 50,35 Z" fill="${n}"/></pattern>`,plumetty:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${50*r}" viewBox="0 0 50 100" patternUnits="userSpaceOnUse" stroke-width=".8"><rect width="50" height="100" fill="${n}" stroke="none"/><path fill="${t}" stroke="none" d="M 25,100 C 44,88 49.5,74 50,50 33.5,40 25,25 25,4e-7 25,25 16.5,40 0,50 0.5,74 6,88 25,100 Z"/><path fill="none" stroke="${n}" d="m17 40c5.363 2.692 10.7 2.641 16 0m-19 7c7.448 4.105 14.78 3.894 22 0m-27 7c6-2 10.75 3.003 16 3 5.412-0.0031 10-5 16-3m-35 9c4-7 12 3 19 2 7 1 15-9 19-2m-35 6c6-2 11 3 16 3s10-5 16-3m-30 7c8 0 8 3 14 3s7-3 14-3m-25 8c7.385 4.048 14.72 3.951 22 0m-19 8c5.455 2.766 10.78 2.566 16 0m-8 6v-78"/><g fill="none" stroke="${t}"><path d="m42 90c2.678 1.344 5.337 2.004 8 2m-11 5c3.686 2.032 7.344 3.006 10.97 3m0.0261-1.2e-4v-30"/><path d="m0 92c2.689 0.0045 5.328-0.6687 8-2m-8 10c3.709-0.0033 7.348-1.031 11-3m-11 3v-30"/><path d="m0 7c5.412-0.0031 10-5 16-3m-16 11c7 1 15-9 19-2m-19 9c5 0 10-5 16-3m-16 10c6 0 7-3 14-3m-14.02 11c3.685-0.002185 7.357-1.014 11.02-3m-11 10c2.694-0.01117 5.358-0.7036 7.996-2m-8 6v-48"/><path d="m34 4c6-2 10.75 3.003 16 3m-19 6c4-7 12 3 19 2m-16 4c6-2 11 3 16 3m-14 4c8 0 8 3 14 3m-11 5c3.641 1.996 7.383 2.985 11 3m-8 5c2.762 1.401 5.303 2.154 8.002 2.112m-0.00154 3.888v-48"/></g></pattern>`,masoned:(e,t,n,r)=>`<pattern id="${e}" width="${25*r}" height="${25*r}" viewBox="0 0 100 100" patternUnits="userSpaceOnUse" fill="none"><rect width="100" height="100" fill="${t}"/><rect width="100" height="50" stroke="${n}" stroke-width="4"/><line x1="50" y1="50" x2="50" y2="100" stroke="${n}" stroke-width="5"/></pattern>`,fretty:(e,t,n,r)=>`<pattern id="${e}" width="${40*r}" height="${40*r}" viewBox="0 0 140 140" patternUnits="userSpaceOnUse" stroke="#000" stroke-width="2"><rect width="140" height="140" fill="${t}" stroke="none"/><path d="m-15 5 150 150 20-20-150-150z" fill="${n}"/><path d="m10 150 140-140-20-20-140 140z" fill="${n}" stroke="none"/><path d="m0 120 20 20 120-120-20-20z" fill="none"/></pattern>`,grillage:(e,t,n,r)=>`<pattern id="${e}" width="${50*r}" height="${50*r}" viewBox="0 0 200 200" patternUnits="userSpaceOnUse" stroke="#000" stroke-width="2"><rect width="200" height="200" fill="${t}" stroke="none"/><path d="m205 65v-30h-210v30z" fill="${n}"/><path d="m65-5h-30v210h30z" fill="${n}"/><path d="m205 165v-30h-210v30z" fill="${n}"/><path d="m165,65h-30v140h30z" fill="${n}"/><path d="m 165,-5h-30v40h30z" fill="${n}"/></pattern>`,chainy:(e,t,n,r)=>`<pattern id="${e}" width="${33.4*r}" height="${33.4*r}" viewBox="0 0 200 200" patternUnits="userSpaceOnUse" stroke="#000" stroke-width="2"><rect x="-6.691e-6" width="200" height="200" fill="${t}" stroke="none"/><path d="m155-5-20-20-160 160 20 20z" fill="${n}"/><path d="m45 205 160-160 20 20-160 160z" fill="${n}"/><path d="m45-5 20-20 160 160-20 20-160-160" fill="${n}"/><path d="m-5 45-20 20 160 160 20-20-160-160" fill="${n}"/></pattern>`,maily:(e,t,n,r)=>`<pattern id="${e}" width="${33.4*r}" height="${33.4*r}" viewBox="0 0 200 200" patternUnits="userSpaceOnUse" stroke="#000" stroke-width="1.2"><path fill="${t}" stroke="none" d="M0 0h200v200H0z"/><g fill="${n}"><path d="m80-2c-5.27e-4 2.403-0.1094 6.806-0.3262 9.199 5.014-1.109 10.1-1.768 15.19-2.059 0.09325-1.712 0.1401-5.426 0.1406-7.141z"/><path d="m100 5a95 95 0 0 0-95 95 95 95 0 0 0 95 95 95 95 0 0 0 95-95 95 95 0 0 0-95-95zm0 15a80 80 0 0 1 80 80 80 80 0 0 1-80 80 80 80 0 0 1-80-80 80 80 0 0 1 80-80z"/><path d="m92.8 20.33c-5.562 0.4859-11.04 1.603-16.34 3.217-7.793 25.31-27.61 45.12-52.91 52.91-5.321 1.638-10.8 2.716-16.34 3.217-2.394 0.2168-6.796 0.3256-9.199 0.3262v15c1.714-4.79e-4 5.429-0.04737 7.141-0.1406 5.109-0.2761 10.19-0.9646 15.19-2.059 36.24-7.937 64.54-36.24 72.47-72.47z"/><path d="m202 80c-2.403-5.31e-4 -6.806-0.1094-9.199-0.3262 1.109 5.014 1.768 10.1 2.059 15.19 1.712 0.09326 5.426 0.1401 7.141 0.1406z"/><path d="m179.7 92.8c-0.4859-5.562-1.603-11.04-3.217-16.34-25.31-7.793-45.12-27.61-52.91-52.91-1.638-5.321-2.716-10.8-3.217-16.34-0.2168-2.394-0.3256-6.796-0.3262-9.199h-15c4.8e-4 1.714 0.0474 5.429 0.1406 7.141 0.2761 5.109 0.9646 10.19 2.059 15.19 7.937 36.24 36.24 64.54 72.47 72.47z"/><path d="m120 202c5.3e-4 -2.403 0.1094-6.806 0.3262-9.199-5.014 1.109-10.1 1.768-15.19 2.059-0.0933 1.712-0.1402 5.426-0.1406 7.141z"/><path d="m107.2 179.7c5.562-0.4859 11.04-1.603 16.34-3.217 7.793-25.31 27.61-45.12 52.91-52.91 5.321-1.638 10.8-2.716 16.34-3.217 2.394-0.2168 6.796-0.3256 9.199-0.3262v-15c-1.714 4.7e-4 -5.429 0.0474-7.141 0.1406-5.109 0.2761-10.19 0.9646-15.19 2.059-36.24 7.937-64.54 36.24-72.47 72.47z"/><path d="m -2,120 c 2.403,5.4e-4 6.806,0.1094 9.199,0.3262 -1.109,-5.014 -1.768,-10.1 -2.059,-15.19 -1.712,-0.0933 -5.426,-0.1402 -7.141,-0.1406 z"/><path d="m 20.33,107.2 c 0.4859,5.562 1.603,11.04 3.217,16.34 25.31,7.793 45.12,27.61 52.91,52.91 1.638,5.321 2.716,10.8 3.217,16.34 0.2168,2.394 0.3256,6.796 0.3262,9.199 L 95,202 c -4.8e-4,-1.714 -0.0472,-5.44 -0.1404,-7.152 -0.2761,-5.109 -0.9646,-10.19 -2.059,-15.19 -7.937,-36.24 -36.24,-64.54 -72.47,-72.47 z"/></g></pattern>`,honeycombed:(e,t,n,r)=>`<pattern id="${e}" width="${28.6*r}" height="${49.028*r}" viewBox="0 0 70 120" patternUnits="userSpaceOnUse"><rect width="70" height="120" fill="${t}"/><path d="M 70,0 V 20 L 35,40 m 35,80 V 100 L 35,80 M 0,120 V 100 L 35,80 V 40 L 0,20 V 0" stroke="${n}" fill="none" stroke-width="3"/></pattern>`},Ke={variants:{perPale:25,perFess:25,perBend:10,perBendSinister:5,perChevron:5,perChevronReversed:5,perCross:25,perPile:5,perSaltire:5,gyronnyOfSixPerFess:1,gyronnyOfSixPerPale:1,gyronny:5,gyronnyOfTenPerFess:1,gyronnyOfTenPerPale:1,gyronnyOfTwelve:1,chevronny:5},data:{chevronny:{template:'<path d="M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z"/>'},gyronny:{template:'<polygon points="0,0 200,200 200,100 0,100"/><polygon points="200,0 0,200 100,200 100,0"/>'},gyronnyOfSixPerFess:{template:'<polygon points="0,100 200,100 200,200 157.7,200 42.3,0 157.7,0 42.3,200 0,200"/>'},gyronnyOfSixPerPale:{template:'<polygon points="100,0 100,200 200,200 200,157.7 0,42.3 0,157.7 200,42.3 200,0"/>'},gyronnyOfTenPerFess:{template:'<polygon points="0,100 200,100 200,27.3 0,172.7 0,200 67.5,200 132.5,0 67.5,0 132.5,200 200,200 200,172.7 0,27.3"/>'},gyronnyOfTenPerPale:{template:'<polygon points="100,0 100,200 27.3,200 172.7,0 200,0 200,67.5 0,132.5 0,67.5 200,132.5 200,200 172.7,200 27.3,0"/>'},gyronnyOfTwelve:{template:'<polygon points="100,0 100,200 157.7,200 42.3,0"/><polygon points="0,100 200,100 200,157.7 0,42.3"/><polygon points="0,157.7 0,200 42.3,200 157.7,0 200,0 200,42.3"/>'},perBend:{template:'<polygon points="0,0 200,200 0,200"/>',templateLined:e=>`<path d="${e} V200 H0 Z" transform="translate(-10 -10) rotate(45 110 110) scale(1.1)"/>`,positions:{e:5,lm:5,bcfdgh:1}},perBendSinister:{template:'<polygon points="200,0 0,200 200,200"/>',templateLined:e=>`<path d="${e} V200 H0 Z" transform="translate(-10 -10) rotate(-45 110 110) scale(1.1)"/>`,positions:{e:1,jo:1}},perChevron:{template:'<polygon points="0,200 100,100 200,200"/>',templateLined:e=>`<path d="${e} L100,200 Z" transform="translate(129 71) rotate(-45 -100 100) scale(-1 1)"/><path d="${e} L100,200 Z" transform="translate(71 71) rotate(45 100 100)"/>`,positions:{e:1,jlh:1,dfk:1,dfbh:2,bdefh:1}},perChevronReversed:{template:'<polygon points="0,0 100,100 200,0"/>',templateLined:e=>`<path d="${e} L100,200 Z" transform="translate(-70.7 -70.7) rotate(225 100 100)"/><path d="${e} L100,200 Z" transform="translate(270.7 -70.7) rotate(-225 -100 100) scale(-1 1)"/>`,positions:{e:1,mok:2,dfh:2,dfbh:1,bdefh:1}},perCross:{template:'<rect x="100" y="0" width="100" height="100"/><rect x="0" y="100" width="100" height="100"/>',templateLined:e=>`<path d="${e} V400 H0 Z" transform="translate(0 50) scale(.5)"/><path d="${e} V400 H0 Z" transform="translate(200 150) scale(-.5)"/>`,positions:{e:4,jlmo:1,j:1,jo:2,jl:1},line:{straight:20,wavy:5,engrailed:4,invecked:3,rayonne:1,embattled:1,raguly:1,urdy:1,indented:2,dentilly:1,bevilled:1,angled:1,embattledGhibellin:1,embattledGrady:1,dovetailedIndented:1,dovetailed:1,potenty:1,potentyDexter:1,potentySinister:1,nebuly:1}},perFess:{template:'<rect x="0" y="100" width="200" height="100"/>',templateLined:e=>`<path d="${e} V200 H0 Z"/>`,positions:{e:12,kn:4,jkl:2,gizgiz:1,jlh:3,kmo:1,ABCDEFGHIJKL:1}},perPale:{template:'<rect x="100" y="0" width="100" height="200"/>',templateLined:e=>`<path d="${e} V200 H0 Z" transform="rotate(-90 100 100)"/>`,positions:{e:15,pq:5,jo:2,jl:2,ABCDEFGHIJKL:1}},perPile:{template:'<polygon points="0,0 15,0 100,200 185,0 200,0 200,200 0,200"/>',templateLined:e=>`<path d="${e} V200 H0 Z" transform="translate(161.66 10) rotate(66.66 -100 100) scale(-1 1)"/><path d="${e} V200 H0 Z" transform="translate(38.33 10) rotate(-66.66 100 100)"/>`,positions:{ee:3,be:2,abceh:1,abcabc:1,jleh:1}},perSaltire:{template:'<polygon points="0,0 0,200 200,0 200,200"/>',positions:{bhdf:8,e:3,abcdefgzi:1,bh:1,df:1,ABCDEFGHIJKL:1}}}},We={standard:154,small:20,smaller:20,big:5,smallest:1},Xe=["luster","spotlight","backlight"],Ye="#333333",Qe="#333333",et="#f1f1f1",tt={argent:"#fafafa",or:"#ffe066",gules:"#d7374a",sable:"#333333",azure:"#377cd7",vert:"#26c061",purpure:"#522d5b",carnation:"#eabfa2",celeste:"#96c8fa","cendre":"#777777",murrey:"#85185b",sanguine:"#b63a3a","tenn":"#cc7f19"},nt={field:{metals:32,colours:49,stains:1,patterns:14},division:{metals:35,colours:49,stains:1,patterns:8},charge:{metals:16,colours:24,stains:1,patterns:0},metals:{argent:3,or:2},colours:{gules:5,azure:4,sable:3,purpure:3,vert:2,carnation:0,celeste:0,"cendre":0},stains:{murrey:1,sanguine:1,"tenn":1},patterns:{semy:8,ermine:6,vair:4,counterVair:1,vairInPale:1,vairEnPointe:2,vairAncien:2,potent:2,counterPotent:1,potentInPale:1,potentEnPointe:1,chequy:8,lozengy:5,fusily:2,pally:8,barry:10,gemelles:1,bendy:8,bendySinister:4,palyBendy:2,barryBendy:1,pappellony:2,pappellony2:3,scaly:1,plumetty:1,masoned:6,fretty:3,grillage:1,chainy:1,maily:2,honeycombed:1}},rt={"Almendra SC":{url:"https://fonts.gstatic.com/s/almendrasc/v13/Iure6Yx284eebowr7hbyTaZOrLQ.woff2"},Cinzel:{url:"https://fonts.gstatic.com/s/cinzel/v7/zOdksD_UUTk1LJF9z4tURA.woff2"},"Great Vibes":{url:"https://fonts.gstatic.com/s/greatvibes/v5/6q1c0ofG6NKsEhAc2eh-3Y4P5ICox8Kq3LLUNMylGO4.woff2"},"IM Fell English":{url:"https://fonts.gstatic.com/s/imfellenglish/v7/xwIisCqGFi8pff-oa9uSVAkYLEKE0CJQa8tfZYc_plY.woff2"},UnifrakturMaguntia:{url:"https://fonts.gstatic.com/s/unifrakturmaguntia/v16/WWXPlieVYwiGNomYU-ciRLRvEmK7oaVemGZM.woff2"},Arial:{},"Brush Script MT":{},"Courier New":{},Garamond:{},Georgia:{},Impact:{},"Times New Roman":{},Verdana:{}};function ot(e){return e[Math.floor(Math.random()*e.length)]}function it(e,t=!0){if(e.array)return ot(e.array);const n=[];for(const t in e)for(let r=0;r<e[t];r++)n.push(t);return t&&Object.defineProperty(e,"array",{enumerable:!1,configurable:!0,writable:!1,value:n}),ot(n)}function st(e){return Math.random()<e}function lt(e){return e.toLowerCase().replace(/\.[^/.]+$/,"").replace(/[()]/g,"").replace(/[^a-zA-Z0-9]+(.)/g,((e,t)=>t.toUpperCase())).replace(/^[0-9]/,"_")}function at(e,t){return`<a href="${e}" target="_blank">${t}</a>`}const ct=e=>()=>fetch(e).then((e=>e.json())),ut=[];function dt(t,n=e){let r;const o=new Set;function i(e){if(s(t,e)&&(t=e,r)){const e=!ut.length;for(const e of o)e[1](),ut.push(e,t);if(e){for(let e=0;e<ut.length;e+=2)ut[e][0](ut[e+1]);ut.length=0}}}return{set:i,update:function(e){i(e(t))},subscribe:function(s,l=e){const a=[s,l];return o.add(a),1===o.size&&(r=n(i)||e),s(t),()=>{o.delete(a),0===o.size&&(r(),r=null)}}}}function pt(t,n,r){const s=!Array.isArray(t),a=s?[t]:t,c=n.length<2;return u=t=>{let r=!1;const u=[];let d=0,p=e;const h=()=>{if(d)return;p();const r=n(s?u[0]:u,t);c?t(r):p=i(r)?r:e},f=a.map(((e,t)=>l(e,(e=>{u[t]=e,d&=~(1<<t),r&&h()}),(()=>{d|=1<<t}))));return r=!0,h(),function(){o(f),p()}},{subscribe:dt(r,u).subscribe};var u}const ht=dt(!1),ft=function(){const e=e=>{const t=localStorage.getItem(e);return"null"===t?null:t},t=e=>localStorage.getItem(e)?JSON.parse(localStorage.getItem(e)):null,n=+e("size")||200,r=e("diaper")||"no",o=e("grad")||ot(Xe),i=e("shield")||it(qe[it(qe.types)]),s=t("colors")||JSON.parse(JSON.stringify(tt)),l=t("fonts")||JSON.parse(JSON.stringify(rt)),a=e("border")||Ye,c=+e("borderWidth")||1,u=e("background")||Qe,d=e("fontColor")||et,p=+e("scale")||2,h=+e("grid")||1,f=t("showGrid")||false,m=t("tinctures"),g=m&&(e=>{const t=["field","division","charge"],n=["metals","colours"];try{for(const r of t){if(!e[r])throw new Error(`Missing ${r}`);for(const t of n)if(!e[r][t])throw new Error(`Missing ${t} in ${r}`)}for(const t of n){if(!e[t])throw new Error(`Missing ${t}`);if(Object.keys(e[t]).length<2)throw new Error(`Type ${t} must have more than 2 tinctures`);const n=Object.values(e[t]).reduce(((e,t)=>e+t),0);if(n<1)throw new Error(`Total chance for type ${t} must be more that zero`)}return!0}catch(t){return console.error("Invalid stored tinctures data, switching to defaults.",t.message,e),!1}})(m)?m:JSON.parse(JSON.stringify(nt)),$=t("uploaded")||{};return{size:n,diaper:r,grad:o,shield:i,colors:s,tinctures:g,uploaded:$,fonts:l,border:a,borderWidth:c,background:u,fontColor:d,scale:p,grid:h,showGrid:f}}(),mt=dt(ft.size),gt=dt(ft.grad),$t=dt(ft.diaper),vt=dt(ft.shield),yt=dt(ft.colors),bt=dt(ft.tinctures),wt=dt(ft.fonts),kt=dt(ft.background),xt=dt(ft.fontColor),_t=dt(ft.scale),Et=dt(ft.border),St=dt(ft.borderWidth),Ct=dt(ft.grid),Lt=dt(ft.showGrid),At=dt(ft.uploaded),It=dt([]),zt=dt([]),Mt=dt(0),Ot=dt({edit:0,about:0,license:0,tinctures:0,import:0,raster:0,vector:0,i:0,c:0,view:0,fonts:0,selectedPath:-1,pathChangeMode:-1}),Pt=dt(!1),Tt=(()=>{const{subscribe:e,set:t}=dt(null);return{subscribe:e,clear:()=>t(null),success:(e,n=5e3)=>{t({type:"success",text:e,timeout:n})},info:(e,n=5e3)=>{t({type:"info",text:e,timeout:n})},error:(e,n=5e3)=>{t({type:"error",text:e,timeout:n})}}})(),Nt=(()=>{const{subscribe:e,set:t,update:n}=dt(["",-1]);let r=[],o=-1;return{subscribe:e,length:()=>r.length,reset:()=>{r=[],o=-1,t(["",-1])},add:e=>{e!==r[o]&&(o<r.length-1&&(r=r.slice(0,o+1)),r.push(e),o+=1,t([r[o],o]))},undo:()=>n((()=>(o>0&&(o-=1),[r[o],o]))),redo:()=>n((()=>(o<r.length-1&&(o+=1),[r[o],o])))}})();var jt=function(e){return function(e){return!!e&&"object"==typeof e}(e)&&!function(e){var t=Object.prototype.toString.call(e);return"[object RegExp]"===t||"[object Date]"===t||function(e){return e.$$typeof===Bt}(e)}(e)};var Bt="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function Dt(e,t){return!1!==t.clone&&t.isMergeableObject(e)?Ft((n=e,Array.isArray(n)?[]:{}),e,t):e;var n}function Ut(e,t,n){return e.concat(t).map((function(e){return Dt(e,n)}))}function Rt(e){return Object.keys(e).concat(function(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter((function(t){return e.propertyIsEnumerable(t)})):[]}(e))}function qt(e,t){try{return t in e}catch(e){return!1}}function Gt(e,t,n){var r={};return n.isMergeableObject(e)&&Rt(e).forEach((function(t){r[t]=Dt(e[t],n)})),Rt(t).forEach((function(o){(function(e,t){return qt(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))})(e,o)||(qt(e,o)&&n.isMergeableObject(t[o])?r[o]=function(e,t){if(!t.customMerge)return Ft;var n=t.customMerge(e);return"function"==typeof n?n:Ft}(o,n)(e[o],t[o],n):r[o]=Dt(t[o],n))})),r}function Ft(e,t,n){(n=n||{}).arrayMerge=n.arrayMerge||Ut,n.isMergeableObject=n.isMergeableObject||jt,n.cloneUnlessOtherwiseSpecified=Dt;var r=Array.isArray(t);return r===Array.isArray(e)?r?n.arrayMerge(e,t,n):Gt(e,t,n):Dt(t,n)}Ft.all=function(e,t){if(!Array.isArray(e))throw new Error("first argument should be an array");return e.reduce((function(e,n){return Ft(e,n,t)}),{})};var Ht=Ft,Vt=function(e,t){return Vt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},Vt(e,t)};function Jt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}Vt(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Zt,Kt,Wt,Xt=function(){return Xt=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},Xt.apply(this,arguments)};function Yt(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||Array.prototype.slice.call(t))}function Qt(e){return e.type===Kt.literal}function en(e){return e.type===Kt.argument}function tn(e){return e.type===Kt.number}function nn(e){return e.type===Kt.date}function rn(e){return e.type===Kt.time}function on(e){return e.type===Kt.select}function sn(e){return e.type===Kt.plural}function ln(e){return e.type===Kt.pound}function an(e){return e.type===Kt.tag}function cn(e){return!(!e||"object"!=typeof e||e.type!==Wt.number)}function un(e){return!(!e||"object"!=typeof e||e.type!==Wt.dateTime)}!function(e){e[e.EXPECT_ARGUMENT_CLOSING_BRACE=1]="EXPECT_ARGUMENT_CLOSING_BRACE",e[e.EMPTY_ARGUMENT=2]="EMPTY_ARGUMENT",e[e.MALFORMED_ARGUMENT=3]="MALFORMED_ARGUMENT",e[e.EXPECT_ARGUMENT_TYPE=4]="EXPECT_ARGUMENT_TYPE",e[e.INVALID_ARGUMENT_TYPE=5]="INVALID_ARGUMENT_TYPE",e[e.EXPECT_ARGUMENT_STYLE=6]="EXPECT_ARGUMENT_STYLE",e[e.INVALID_NUMBER_SKELETON=7]="INVALID_NUMBER_SKELETON",e[e.INVALID_DATE_TIME_SKELETON=8]="INVALID_DATE_TIME_SKELETON",e[e.EXPECT_NUMBER_SKELETON=9]="EXPECT_NUMBER_SKELETON",e[e.EXPECT_DATE_TIME_SKELETON=10]="EXPECT_DATE_TIME_SKELETON",e[e.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE=11]="UNCLOSED_QUOTE_IN_ARGUMENT_STYLE",e[e.EXPECT_SELECT_ARGUMENT_OPTIONS=12]="EXPECT_SELECT_ARGUMENT_OPTIONS",e[e.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE=13]="EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE=14]="INVALID_PLURAL_ARGUMENT_OFFSET_VALUE",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR=15]="EXPECT_SELECT_ARGUMENT_SELECTOR",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR=16]="EXPECT_PLURAL_ARGUMENT_SELECTOR",e[e.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT=17]="EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT",e[e.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT=18]="EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT",e[e.INVALID_PLURAL_ARGUMENT_SELECTOR=19]="INVALID_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_PLURAL_ARGUMENT_SELECTOR=20]="DUPLICATE_PLURAL_ARGUMENT_SELECTOR",e[e.DUPLICATE_SELECT_ARGUMENT_SELECTOR=21]="DUPLICATE_SELECT_ARGUMENT_SELECTOR",e[e.MISSING_OTHER_CLAUSE=22]="MISSING_OTHER_CLAUSE",e[e.INVALID_TAG=23]="INVALID_TAG",e[e.INVALID_TAG_NAME=25]="INVALID_TAG_NAME",e[e.UNMATCHED_CLOSING_TAG=26]="UNMATCHED_CLOSING_TAG",e[e.UNCLOSED_TAG=27]="UNCLOSED_TAG"}(Zt||(Zt={})),function(e){e[e.literal=0]="literal",e[e.argument=1]="argument",e[e.number=2]="number",e[e.date=3]="date",e[e.time=4]="time",e[e.select=5]="select",e[e.plural=6]="plural",e[e.pound=7]="pound",e[e.tag=8]="tag"}(Kt||(Kt={})),function(e){e[e.number=0]="number",e[e.dateTime=1]="dateTime"}(Wt||(Wt={}));var dn=/[ \xA0\u1680\u2000-\u200A\u202F\u205F\u3000]/,pn=/(?:[Eec]{1,6}|G{1,5}|[Qq]{1,5}|(?:[yYur]+|U{1,5})|[ML]{1,5}|d{1,2}|D{1,3}|F{1}|[abB]{1,5}|[hkHK]{1,2}|w{1,2}|W{1}|m{1,2}|s{1,2}|[zZOvVxX]{1,4})(?=([^']*'[^']*')*[^']*$)/g;function hn(e){var t={};return e.replace(pn,(function(e){var n=e.length;switch(e[0]){case"G":t.era=4===n?"long":5===n?"narrow":"short";break;case"y":t.year=2===n?"2-digit":"numeric";break;case"Y":case"u":case"U":case"r":throw new RangeError("`Y/u/U/r` (year) patterns are not supported, use `y` instead");case"q":case"Q":throw new RangeError("`q/Q` (quarter) patterns are not supported");case"M":case"L":t.month=["numeric","2-digit","short","long","narrow"][n-1];break;case"w":case"W":throw new RangeError("`w/W` (week) patterns are not supported");case"d":t.day=["numeric","2-digit"][n-1];break;case"D":case"F":case"g":throw new RangeError("`D/F/g` (day) patterns are not supported, use `d` instead");case"E":t.weekday=4===n?"short":5===n?"narrow":"short";break;case"e":if(n<4)throw new RangeError("`e..eee` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"c":if(n<4)throw new RangeError("`c..ccc` (weekday) patterns are not supported");t.weekday=["short","long","narrow","short"][n-4];break;case"a":t.hour12=!0;break;case"b":case"B":throw new RangeError("`b/B` (period) patterns are not supported, use `a` instead");case"h":t.hourCycle="h12",t.hour=["numeric","2-digit"][n-1];break;case"H":t.hourCycle="h23",t.hour=["numeric","2-digit"][n-1];break;case"K":t.hourCycle="h11",t.hour=["numeric","2-digit"][n-1];break;case"k":t.hourCycle="h24",t.hour=["numeric","2-digit"][n-1];break;case"j":case"J":case"C":throw new RangeError("`j/J/C` (hour) patterns are not supported, use `h/H/K/k` instead");case"m":t.minute=["numeric","2-digit"][n-1];break;case"s":t.second=["numeric","2-digit"][n-1];break;case"S":case"A":throw new RangeError("`S/A` (second) patterns are not supported, use `s` instead");case"z":t.timeZoneName=n<4?"short":"long";break;case"Z":case"O":case"v":case"V":case"X":case"x":throw new RangeError("`Z/O/v/V/X/x` (timeZone) patterns are not supported, use `z` instead")}return""})),t}var fn=/[\t-\r \x85\u200E\u200F\u2028\u2029]/i;var mn,gn=/^\.(?:(0+)(\*)?|(#+)|(0+)(#+))$/g,$n=/^(@+)?(\+|#+)?[rs]?$/g,vn=/(\*)(0+)|(#+)(0+)|(0+)/g,yn=/^(0+)$/;function bn(e){var t={};return"r"===e[e.length-1]?t.roundingPriority="morePrecision":"s"===e[e.length-1]&&(t.roundingPriority="lessPrecision"),e.replace($n,(function(e,n,r){return"string"!=typeof r?(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length):"+"===r?t.minimumSignificantDigits=n.length:"#"===n[0]?t.maximumSignificantDigits=n.length:(t.minimumSignificantDigits=n.length,t.maximumSignificantDigits=n.length+("string"==typeof r?r.length:0)),""})),t}function wn(e){switch(e){case"sign-auto":return{signDisplay:"auto"};case"sign-accounting":case"()":return{currencySign:"accounting"};case"sign-always":case"+!":return{signDisplay:"always"};case"sign-accounting-always":case"()!":return{signDisplay:"always",currencySign:"accounting"};case"sign-except-zero":case"+?":return{signDisplay:"exceptZero"};case"sign-accounting-except-zero":case"()?":return{signDisplay:"exceptZero",currencySign:"accounting"};case"sign-never":case"+_":return{signDisplay:"never"}}}function kn(e){var t;if("E"===e[0]&&"E"===e[1]?(t={notation:"engineering"},e=e.slice(2)):"E"===e[0]&&(t={notation:"scientific"},e=e.slice(1)),t){var n=e.slice(0,2);if("+!"===n?(t.signDisplay="always",e=e.slice(2)):"+?"===n&&(t.signDisplay="exceptZero",e=e.slice(2)),!yn.test(e))throw new Error("Malformed concise eng/scientific notation");t.minimumIntegerDigits=e.length}return t}function xn(e){var t=wn(e);return t||{}}function _n(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n];switch(o.stem){case"percent":case"%":t.style="percent";continue;case"%x100":t.style="percent",t.scale=100;continue;case"currency":t.style="currency",t.currency=o.options[0];continue;case"group-off":case",_":t.useGrouping=!1;continue;case"precision-integer":case".":t.maximumFractionDigits=0;continue;case"measure-unit":case"unit":t.style="unit",t.unit=o.options[0].replace(/^(.*?)-/,"");continue;case"compact-short":case"K":t.notation="compact",t.compactDisplay="short";continue;case"compact-long":case"KK":t.notation="compact",t.compactDisplay="long";continue;case"scientific":t=Xt(Xt(Xt({},t),{notation:"scientific"}),o.options.reduce((function(e,t){return Xt(Xt({},e),xn(t))}),{}));continue;case"engineering":t=Xt(Xt(Xt({},t),{notation:"engineering"}),o.options.reduce((function(e,t){return Xt(Xt({},e),xn(t))}),{}));continue;case"notation-simple":t.notation="standard";continue;case"unit-width-narrow":t.currencyDisplay="narrowSymbol",t.unitDisplay="narrow";continue;case"unit-width-short":t.currencyDisplay="code",t.unitDisplay="short";continue;case"unit-width-full-name":t.currencyDisplay="name",t.unitDisplay="long";continue;case"unit-width-iso-code":t.currencyDisplay="symbol";continue;case"scale":t.scale=parseFloat(o.options[0]);continue;case"integer-width":if(o.options.length>1)throw new RangeError("integer-width stems only accept a single optional option");o.options[0].replace(vn,(function(e,n,r,o,i,s){if(n)t.minimumIntegerDigits=r.length;else{if(o&&i)throw new Error("We currently do not support maximum integer digits");if(s)throw new Error("We currently do not support exact integer digits")}return""}));continue}if(yn.test(o.stem))t.minimumIntegerDigits=o.stem.length;else if(gn.test(o.stem)){if(o.options.length>1)throw new RangeError("Fraction-precision stems only accept a single optional option");o.stem.replace(gn,(function(e,n,r,o,i,s){return"*"===r?t.minimumFractionDigits=n.length:o&&"#"===o[0]?t.maximumFractionDigits=o.length:i&&s?(t.minimumFractionDigits=i.length,t.maximumFractionDigits=i.length+s.length):(t.minimumFractionDigits=n.length,t.maximumFractionDigits=n.length),""}));var i=o.options[0];"w"===i?t=Xt(Xt({},t),{trailingZeroDisplay:"stripIfInteger"}):i&&(t=Xt(Xt({},t),bn(i)))}else if($n.test(o.stem))t=Xt(Xt({},t),bn(o.stem));else{var s=wn(o.stem);s&&(t=Xt(Xt({},t),s));var l=kn(o.stem);l&&(t=Xt(Xt({},t),l))}}return t}var En=new RegExp("^".concat(dn.source,"*")),Sn=new RegExp("".concat(dn.source,"*$"));function Cn(e,t){return{start:e,end:t}}var Ln=!!String.prototype.startsWith,An=!!String.fromCodePoint,In=!!Object.fromEntries,zn=!!String.prototype.codePointAt,Mn=!!String.prototype.trimStart,On=!!String.prototype.trimEnd,Pn=!!Number.isSafeInteger?Number.isSafeInteger:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&Math.abs(e)<=9007199254740991},Tn=!0;try{Tn="a"===(null===(mn=Gn("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu").exec("a"))||void 0===mn?void 0:mn[0])}catch(e){Tn=!1}var Nn,jn=Ln?function(e,t,n){return e.startsWith(t,n)}:function(e,t,n){return e.slice(n,n+t.length)===t},Bn=An?String.fromCodePoint:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n,r="",o=e.length,i=0;o>i;){if((n=e[i++])>1114111)throw RangeError(n+" is not a valid code point");r+=n<65536?String.fromCharCode(n):String.fromCharCode(55296+((n-=65536)>>10),n%1024+56320)}return r},Dn=In?Object.fromEntries:function(e){for(var t={},n=0,r=e;n<r.length;n++){var o=r[n],i=o[0],s=o[1];t[i]=s}return t},Un=zn?function(e,t){return e.codePointAt(t)}:function(e,t){var n=e.length;if(!(t<0||t>=n)){var r,o=e.charCodeAt(t);return o<55296||o>56319||t+1===n||(r=e.charCodeAt(t+1))<56320||r>57343?o:r-56320+(o-55296<<10)+65536}},Rn=Mn?function(e){return e.trimStart()}:function(e){return e.replace(En,"")},qn=On?function(e){return e.trimEnd()}:function(e){return e.replace(Sn,"")};function Gn(e,t){return new RegExp(e,t)}if(Tn){var Fn=Gn("([^\\p{White_Space}\\p{Pattern_Syntax}]*)","yu");Nn=function(e,t){var n;return Fn.lastIndex=t,null!==(n=Fn.exec(e)[1])&&void 0!==n?n:""}}else Nn=function(e,t){for(var n=[];;){var r=Un(e,t);if(void 0===r||Zn(r)||Kn(r))break;n.push(r),t+=r>=65536?2:1}return Bn.apply(void 0,n)};var Hn=function(){function e(e,t){void 0===t&&(t={}),this.message=e,this.position={offset:0,line:1,column:1},this.ignoreTag=!!t.ignoreTag,this.requiresOtherClause=!!t.requiresOtherClause,this.shouldParseSkeletons=!!t.shouldParseSkeletons}return e.prototype.parse=function(){if(0!==this.offset())throw Error("parser can only be used once");return this.parseMessage(0,"",!1)},e.prototype.parseMessage=function(e,t,n){for(var r=[];!this.isEOF();){var o=this.char();if(123===o){if((i=this.parseArgument(e,n)).err)return i;r.push(i.val)}else{if(125===o&&e>0)break;if(35!==o||"plural"!==t&&"selectordinal"!==t){if(60===o&&!this.ignoreTag&&47===this.peek()){if(n)break;return this.error(Zt.UNMATCHED_CLOSING_TAG,Cn(this.clonePosition(),this.clonePosition()))}if(60===o&&!this.ignoreTag&&Vn(this.peek()||0)){if((i=this.parseTag(e,t)).err)return i;r.push(i.val)}else{var i;if((i=this.parseLiteral(e,t)).err)return i;r.push(i.val)}}else{var s=this.clonePosition();this.bump(),r.push({type:Kt.pound,location:Cn(s,this.clonePosition())})}}}return{val:r,err:null}},e.prototype.parseTag=function(e,t){var n=this.clonePosition();this.bump();var r=this.parseTagName();if(this.bumpSpace(),this.bumpIf("/>"))return{val:{type:Kt.literal,value:"<".concat(r,"/>"),location:Cn(n,this.clonePosition())},err:null};if(this.bumpIf(">")){var o=this.parseMessage(e+1,t,!0);if(o.err)return o;var i=o.val,s=this.clonePosition();if(this.bumpIf("</")){if(this.isEOF()||!Vn(this.char()))return this.error(Zt.INVALID_TAG,Cn(s,this.clonePosition()));var l=this.clonePosition();return r!==this.parseTagName()?this.error(Zt.UNMATCHED_CLOSING_TAG,Cn(l,this.clonePosition())):(this.bumpSpace(),this.bumpIf(">")?{val:{type:Kt.tag,value:r,children:i,location:Cn(n,this.clonePosition())},err:null}:this.error(Zt.INVALID_TAG,Cn(s,this.clonePosition())))}return this.error(Zt.UNCLOSED_TAG,Cn(n,this.clonePosition()))}return this.error(Zt.INVALID_TAG,Cn(n,this.clonePosition()))},e.prototype.parseTagName=function(){var e=this.offset();for(this.bump();!this.isEOF()&&Jn(this.char());)this.bump();return this.message.slice(e,this.offset())},e.prototype.parseLiteral=function(e,t){for(var n=this.clonePosition(),r="";;){var o=this.tryParseQuote(t);if(o)r+=o;else{var i=this.tryParseUnquoted(e,t);if(i)r+=i;else{var s=this.tryParseLeftAngleBracket();if(!s)break;r+=s}}}var l=Cn(n,this.clonePosition());return{val:{type:Kt.literal,value:r,location:l},err:null}},e.prototype.tryParseLeftAngleBracket=function(){return this.isEOF()||60!==this.char()||!this.ignoreTag&&(Vn(e=this.peek()||0)||47===e)?null:(this.bump(),"<");var e},e.prototype.tryParseQuote=function(e){if(this.isEOF()||39!==this.char())return null;switch(this.peek()){case 39:return this.bump(),this.bump(),"'";case 123:case 60:case 62:case 125:break;case 35:if("plural"===e||"selectordinal"===e)break;return null;default:return null}this.bump();var t=[this.char()];for(this.bump();!this.isEOF();){var n=this.char();if(39===n){if(39!==this.peek()){this.bump();break}t.push(39),this.bump()}else t.push(n);this.bump()}return Bn.apply(void 0,t)},e.prototype.tryParseUnquoted=function(e,t){if(this.isEOF())return null;var n=this.char();return 60===n||123===n||35===n&&("plural"===t||"selectordinal"===t)||125===n&&e>0?null:(this.bump(),Bn(n))},e.prototype.parseArgument=function(e,t){var n=this.clonePosition();if(this.bump(),this.bumpSpace(),this.isEOF())return this.error(Zt.EXPECT_ARGUMENT_CLOSING_BRACE,Cn(n,this.clonePosition()));if(125===this.char())return this.bump(),this.error(Zt.EMPTY_ARGUMENT,Cn(n,this.clonePosition()));var r=this.parseIdentifierIfPossible().value;if(!r)return this.error(Zt.MALFORMED_ARGUMENT,Cn(n,this.clonePosition()));if(this.bumpSpace(),this.isEOF())return this.error(Zt.EXPECT_ARGUMENT_CLOSING_BRACE,Cn(n,this.clonePosition()));switch(this.char()){case 125:return this.bump(),{val:{type:Kt.argument,value:r,location:Cn(n,this.clonePosition())},err:null};case 44:return this.bump(),this.bumpSpace(),this.isEOF()?this.error(Zt.EXPECT_ARGUMENT_CLOSING_BRACE,Cn(n,this.clonePosition())):this.parseArgumentOptions(e,t,r,n);default:return this.error(Zt.MALFORMED_ARGUMENT,Cn(n,this.clonePosition()))}},e.prototype.parseIdentifierIfPossible=function(){var e=this.clonePosition(),t=this.offset(),n=Nn(this.message,t),r=t+n.length;return this.bumpTo(r),{value:n,location:Cn(e,this.clonePosition())}},e.prototype.parseArgumentOptions=function(e,t,n,r){var o,i=this.clonePosition(),s=this.parseIdentifierIfPossible().value,l=this.clonePosition();switch(s){case"":return this.error(Zt.EXPECT_ARGUMENT_TYPE,Cn(i,l));case"number":case"date":case"time":this.bumpSpace();var a=null;if(this.bumpIf(",")){this.bumpSpace();var c=this.clonePosition();if((g=this.parseSimpleArgStyleIfPossible()).err)return g;if(0===(p=qn(g.val)).length)return this.error(Zt.EXPECT_ARGUMENT_STYLE,Cn(this.clonePosition(),this.clonePosition()));a={style:p,styleLocation:Cn(c,this.clonePosition())}}if(($=this.tryParseArgumentClose(r)).err)return $;var u=Cn(r,this.clonePosition());if(a&&jn(null==a?void 0:a.style,"::",0)){var d=Rn(a.style.slice(2));if("number"===s)return(g=this.parseNumberSkeletonFromString(d,a.styleLocation)).err?g:{val:{type:Kt.number,value:n,location:u,style:g.val},err:null};if(0===d.length)return this.error(Zt.EXPECT_DATE_TIME_SKELETON,u);var p={type:Wt.dateTime,pattern:d,location:a.styleLocation,parsedOptions:this.shouldParseSkeletons?hn(d):{}};return{val:{type:"date"===s?Kt.date:Kt.time,value:n,location:u,style:p},err:null}}return{val:{type:"number"===s?Kt.number:"date"===s?Kt.date:Kt.time,value:n,location:u,style:null!==(o=null==a?void 0:a.style)&&void 0!==o?o:null},err:null};case"plural":case"selectordinal":case"select":var h=this.clonePosition();if(this.bumpSpace(),!this.bumpIf(","))return this.error(Zt.EXPECT_SELECT_ARGUMENT_OPTIONS,Cn(h,Xt({},h)));this.bumpSpace();var f=this.parseIdentifierIfPossible(),m=0;if("select"!==s&&"offset"===f.value){if(!this.bumpIf(":"))return this.error(Zt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Cn(this.clonePosition(),this.clonePosition()));var g;if(this.bumpSpace(),(g=this.tryParseDecimalInteger(Zt.EXPECT_PLURAL_ARGUMENT_OFFSET_VALUE,Zt.INVALID_PLURAL_ARGUMENT_OFFSET_VALUE)).err)return g;this.bumpSpace(),f=this.parseIdentifierIfPossible(),m=g.val}var $,v=this.tryParsePluralOrSelectOptions(e,s,t,f);if(v.err)return v;if(($=this.tryParseArgumentClose(r)).err)return $;var y=Cn(r,this.clonePosition());return"select"===s?{val:{type:Kt.select,value:n,options:Dn(v.val),location:y},err:null}:{val:{type:Kt.plural,value:n,options:Dn(v.val),offset:m,pluralType:"plural"===s?"cardinal":"ordinal",location:y},err:null};default:return this.error(Zt.INVALID_ARGUMENT_TYPE,Cn(i,l))}},e.prototype.tryParseArgumentClose=function(e){return this.isEOF()||125!==this.char()?this.error(Zt.EXPECT_ARGUMENT_CLOSING_BRACE,Cn(e,this.clonePosition())):(this.bump(),{val:!0,err:null})},e.prototype.parseSimpleArgStyleIfPossible=function(){for(var e=0,t=this.clonePosition();!this.isEOF();){switch(this.char()){case 39:this.bump();var n=this.clonePosition();if(!this.bumpUntil("'"))return this.error(Zt.UNCLOSED_QUOTE_IN_ARGUMENT_STYLE,Cn(n,this.clonePosition()));this.bump();break;case 123:e+=1,this.bump();break;case 125:if(!(e>0))return{val:this.message.slice(t.offset,this.offset()),err:null};e-=1;break;default:this.bump()}}return{val:this.message.slice(t.offset,this.offset()),err:null}},e.prototype.parseNumberSkeletonFromString=function(e,t){var n=[];try{n=function(e){if(0===e.length)throw new Error("Number skeleton cannot be empty");for(var t=e.split(fn).filter((function(e){return e.length>0})),n=[],r=0,o=t;r<o.length;r++){var i=o[r].split("/");if(0===i.length)throw new Error("Invalid number skeleton");for(var s=i[0],l=i.slice(1),a=0,c=l;a<c.length;a++)if(0===c[a].length)throw new Error("Invalid number skeleton");n.push({stem:s,options:l})}return n}(e)}catch(e){return this.error(Zt.INVALID_NUMBER_SKELETON,t)}return{val:{type:Wt.number,tokens:n,location:t,parsedOptions:this.shouldParseSkeletons?_n(n):{}},err:null}},e.prototype.tryParsePluralOrSelectOptions=function(e,t,n,r){for(var o,i=!1,s=[],l=new Set,a=r.value,c=r.location;;){if(0===a.length){var u=this.clonePosition();if("select"===t||!this.bumpIf("="))break;var d=this.tryParseDecimalInteger(Zt.EXPECT_PLURAL_ARGUMENT_SELECTOR,Zt.INVALID_PLURAL_ARGUMENT_SELECTOR);if(d.err)return d;c=Cn(u,this.clonePosition()),a=this.message.slice(u.offset,this.offset())}if(l.has(a))return this.error("select"===t?Zt.DUPLICATE_SELECT_ARGUMENT_SELECTOR:Zt.DUPLICATE_PLURAL_ARGUMENT_SELECTOR,c);"other"===a&&(i=!0),this.bumpSpace();var p=this.clonePosition();if(!this.bumpIf("{"))return this.error("select"===t?Zt.EXPECT_SELECT_ARGUMENT_SELECTOR_FRAGMENT:Zt.EXPECT_PLURAL_ARGUMENT_SELECTOR_FRAGMENT,Cn(this.clonePosition(),this.clonePosition()));var h=this.parseMessage(e+1,t,n);if(h.err)return h;var f=this.tryParseArgumentClose(p);if(f.err)return f;s.push([a,{value:h.val,location:Cn(p,this.clonePosition())}]),l.add(a),this.bumpSpace(),a=(o=this.parseIdentifierIfPossible()).value,c=o.location}return 0===s.length?this.error("select"===t?Zt.EXPECT_SELECT_ARGUMENT_SELECTOR:Zt.EXPECT_PLURAL_ARGUMENT_SELECTOR,Cn(this.clonePosition(),this.clonePosition())):this.requiresOtherClause&&!i?this.error(Zt.MISSING_OTHER_CLAUSE,Cn(this.clonePosition(),this.clonePosition())):{val:s,err:null}},e.prototype.tryParseDecimalInteger=function(e,t){var n=1,r=this.clonePosition();this.bumpIf("+")||this.bumpIf("-")&&(n=-1);for(var o=!1,i=0;!this.isEOF();){var s=this.char();if(!(s>=48&&s<=57))break;o=!0,i=10*i+(s-48),this.bump()}var l=Cn(r,this.clonePosition());return o?Pn(i*=n)?{val:i,err:null}:this.error(t,l):this.error(e,l)},e.prototype.offset=function(){return this.position.offset},e.prototype.isEOF=function(){return this.offset()===this.message.length},e.prototype.clonePosition=function(){return{offset:this.position.offset,line:this.position.line,column:this.position.column}},e.prototype.char=function(){var e=this.position.offset;if(e>=this.message.length)throw Error("out of bound");var t=Un(this.message,e);if(void 0===t)throw Error("Offset ".concat(e," is at invalid UTF-16 code unit boundary"));return t},e.prototype.error=function(e,t){return{val:null,err:{kind:e,message:this.message,location:t}}},e.prototype.bump=function(){if(!this.isEOF()){var e=this.char();10===e?(this.position.line+=1,this.position.column=1,this.position.offset+=1):(this.position.column+=1,this.position.offset+=e<65536?1:2)}},e.prototype.bumpIf=function(e){if(jn(this.message,e,this.offset())){for(var t=0;t<e.length;t++)this.bump();return!0}return!1},e.prototype.bumpUntil=function(e){var t=this.offset(),n=this.message.indexOf(e,t);return n>=0?(this.bumpTo(n),!0):(this.bumpTo(this.message.length),!1)},e.prototype.bumpTo=function(e){if(this.offset()>e)throw Error("targetOffset ".concat(e," must be greater than or equal to the current offset ").concat(this.offset()));for(e=Math.min(e,this.message.length);;){var t=this.offset();if(t===e)break;if(t>e)throw Error("targetOffset ".concat(e," is at invalid UTF-16 code unit boundary"));if(this.bump(),this.isEOF())break}},e.prototype.bumpSpace=function(){for(;!this.isEOF()&&Zn(this.char());)this.bump()},e.prototype.peek=function(){if(this.isEOF())return null;var e=this.char(),t=this.offset(),n=this.message.charCodeAt(t+(e>=65536?2:1));return null!=n?n:null},e}();function Vn(e){return e>=97&&e<=122||e>=65&&e<=90}function Jn(e){return 45===e||46===e||e>=48&&e<=57||95===e||e>=97&&e<=122||e>=65&&e<=90||183==e||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=893||e>=895&&e<=8191||e>=8204&&e<=8205||e>=8255&&e<=8256||e>=8304&&e<=8591||e>=11264&&e<=12271||e>=12289&&e<=55295||e>=63744&&e<=64975||e>=65008&&e<=65533||e>=65536&&e<=983039}function Zn(e){return e>=9&&e<=13||32===e||133===e||e>=8206&&e<=8207||8232===e||8233===e}function Kn(e){return e>=33&&e<=35||36===e||e>=37&&e<=39||40===e||41===e||42===e||43===e||44===e||45===e||e>=46&&e<=47||e>=58&&e<=59||e>=60&&e<=62||e>=63&&e<=64||91===e||92===e||93===e||94===e||96===e||123===e||124===e||125===e||126===e||161===e||e>=162&&e<=165||166===e||167===e||169===e||171===e||172===e||174===e||176===e||177===e||182===e||187===e||191===e||215===e||247===e||e>=8208&&e<=8213||e>=8214&&e<=8215||8216===e||8217===e||8218===e||e>=8219&&e<=8220||8221===e||8222===e||8223===e||e>=8224&&e<=8231||e>=8240&&e<=8248||8249===e||8250===e||e>=8251&&e<=8254||e>=8257&&e<=8259||8260===e||8261===e||8262===e||e>=8263&&e<=8273||8274===e||8275===e||e>=8277&&e<=8286||e>=8592&&e<=8596||e>=8597&&e<=8601||e>=8602&&e<=8603||e>=8604&&e<=8607||8608===e||e>=8609&&e<=8610||8611===e||e>=8612&&e<=8613||8614===e||e>=8615&&e<=8621||8622===e||e>=8623&&e<=8653||e>=8654&&e<=8655||e>=8656&&e<=8657||8658===e||8659===e||8660===e||e>=8661&&e<=8691||e>=8692&&e<=8959||e>=8960&&e<=8967||8968===e||8969===e||8970===e||8971===e||e>=8972&&e<=8991||e>=8992&&e<=8993||e>=8994&&e<=9e3||9001===e||9002===e||e>=9003&&e<=9083||9084===e||e>=9085&&e<=9114||e>=9115&&e<=9139||e>=9140&&e<=9179||e>=9180&&e<=9185||e>=9186&&e<=9254||e>=9255&&e<=9279||e>=9280&&e<=9290||e>=9291&&e<=9311||e>=9472&&e<=9654||9655===e||e>=9656&&e<=9664||9665===e||e>=9666&&e<=9719||e>=9720&&e<=9727||e>=9728&&e<=9838||9839===e||e>=9840&&e<=10087||10088===e||10089===e||10090===e||10091===e||10092===e||10093===e||10094===e||10095===e||10096===e||10097===e||10098===e||10099===e||10100===e||10101===e||e>=10132&&e<=10175||e>=10176&&e<=10180||10181===e||10182===e||e>=10183&&e<=10213||10214===e||10215===e||10216===e||10217===e||10218===e||10219===e||10220===e||10221===e||10222===e||10223===e||e>=10224&&e<=10239||e>=10240&&e<=10495||e>=10496&&e<=10626||10627===e||10628===e||10629===e||10630===e||10631===e||10632===e||10633===e||10634===e||10635===e||10636===e||10637===e||10638===e||10639===e||10640===e||10641===e||10642===e||10643===e||10644===e||10645===e||10646===e||10647===e||10648===e||e>=10649&&e<=10711||10712===e||10713===e||10714===e||10715===e||e>=10716&&e<=10747||10748===e||10749===e||e>=10750&&e<=11007||e>=11008&&e<=11055||e>=11056&&e<=11076||e>=11077&&e<=11078||e>=11079&&e<=11084||e>=11085&&e<=11123||e>=11124&&e<=11125||e>=11126&&e<=11157||11158===e||e>=11159&&e<=11263||e>=11776&&e<=11777||11778===e||11779===e||11780===e||11781===e||e>=11782&&e<=11784||11785===e||11786===e||11787===e||11788===e||11789===e||e>=11790&&e<=11798||11799===e||e>=11800&&e<=11801||11802===e||11803===e||11804===e||11805===e||e>=11806&&e<=11807||11808===e||11809===e||11810===e||11811===e||11812===e||11813===e||11814===e||11815===e||11816===e||11817===e||e>=11818&&e<=11822||11823===e||e>=11824&&e<=11833||e>=11834&&e<=11835||e>=11836&&e<=11839||11840===e||11841===e||11842===e||e>=11843&&e<=11855||e>=11856&&e<=11857||11858===e||e>=11859&&e<=11903||e>=12289&&e<=12291||12296===e||12297===e||12298===e||12299===e||12300===e||12301===e||12302===e||12303===e||12304===e||12305===e||e>=12306&&e<=12307||12308===e||12309===e||12310===e||12311===e||12312===e||12313===e||12314===e||12315===e||12316===e||12317===e||e>=12318&&e<=12319||12320===e||12336===e||64830===e||64831===e||e>=65093&&e<=65094}function Wn(e){e.forEach((function(e){if(delete e.location,on(e)||sn(e))for(var t in e.options)delete e.options[t].location,Wn(e.options[t].value);else tn(e)&&cn(e.style)||(nn(e)||rn(e))&&un(e.style)?delete e.style.location:an(e)&&Wn(e.children)}))}function Xn(e,t){void 0===t&&(t={}),t=Xt({shouldParseSkeletons:!0,requiresOtherClause:!0},t);var n=new Hn(e,t).parse();if(n.err){var r=SyntaxError(Zt[n.err.kind]);throw r.location=n.err.location,r.originalMessage=n.err.message,r}return(null==t?void 0:t.captureLocation)||Wn(n.val),n.val}function Yn(e,t){var n=t&&t.cache?t.cache:sr,r=t&&t.serializer?t.serializer:rr;return(t&&t.strategy?t.strategy:nr)(e,{cache:n,serializer:r})}function Qn(e,t,n,r){var o,i=null==(o=r)||"number"==typeof o||"boolean"==typeof o?r:n(r),s=t.get(i);return void 0===s&&(s=e.call(this,r),t.set(i,s)),s}function er(e,t,n){var r=Array.prototype.slice.call(arguments,3),o=n(r),i=t.get(o);return void 0===i&&(i=e.apply(this,r),t.set(o,i)),i}function tr(e,t,n,r,o){return n.bind(t,e,r,o)}function nr(e,t){return tr(e,this,1===e.length?Qn:er,t.cache.create(),t.serializer)}var rr=function(){return JSON.stringify(arguments)};function or(){this.cache=Object.create(null)}or.prototype.get=function(e){return this.cache[e]},or.prototype.set=function(e,t){this.cache[e]=t};var ir,sr={create:function(){return new or}},lr={variadic:function(e,t){return tr(e,this,er,t.cache.create(),t.serializer)},monadic:function(e,t){return tr(e,this,Qn,t.cache.create(),t.serializer)}};!function(e){e.MISSING_VALUE="MISSING_VALUE",e.INVALID_VALUE="INVALID_VALUE",e.MISSING_INTL_API="MISSING_INTL_API"}(ir||(ir={}));var ar,cr=function(e){function t(t,n,r){var o=e.call(this,t)||this;return o.code=n,o.originalMessage=r,o}return Jt(t,e),t.prototype.toString=function(){return"[formatjs Error: ".concat(this.code,"] ").concat(this.message)},t}(Error),ur=function(e){function t(t,n,r,o){return e.call(this,'Invalid values for "'.concat(t,'": "').concat(n,'". Options are "').concat(Object.keys(r).join('", "'),'"'),ir.INVALID_VALUE,o)||this}return Jt(t,e),t}(cr),dr=function(e){function t(t,n,r){return e.call(this,'Value for "'.concat(t,'" must be of type ').concat(n),ir.INVALID_VALUE,r)||this}return Jt(t,e),t}(cr),pr=function(e){function t(t,n){return e.call(this,'The intl string context variable "'.concat(t,'" was not provided to the string "').concat(n,'"'),ir.MISSING_VALUE,n)||this}return Jt(t,e),t}(cr);function hr(e){return"function"==typeof e}function fr(e,t,n,r,o,i,s){if(1===e.length&&Qt(e[0]))return[{type:ar.literal,value:e[0].value}];for(var l=[],a=0,c=e;a<c.length;a++){var u=c[a];if(Qt(u))l.push({type:ar.literal,value:u.value});else if(ln(u))"number"==typeof i&&l.push({type:ar.literal,value:n.getNumberFormat(t).format(i)});else{var d=u.value;if(!o||!(d in o))throw new pr(d,s);var p=o[d];if(en(u))p&&"string"!=typeof p&&"number"!=typeof p||(p="string"==typeof p||"number"==typeof p?String(p):""),l.push({type:"string"==typeof p?ar.literal:ar.object,value:p});else if(nn(u)){var h="string"==typeof u.style?r.date[u.style]:un(u.style)?u.style.parsedOptions:void 0;l.push({type:ar.literal,value:n.getDateTimeFormat(t,h).format(p)})}else if(rn(u)){h="string"==typeof u.style?r.time[u.style]:un(u.style)?u.style.parsedOptions:void 0;l.push({type:ar.literal,value:n.getDateTimeFormat(t,h).format(p)})}else if(tn(u)){(h="string"==typeof u.style?r.number[u.style]:cn(u.style)?u.style.parsedOptions:void 0)&&h.scale&&(p*=h.scale||1),l.push({type:ar.literal,value:n.getNumberFormat(t,h).format(p)})}else{if(an(u)){var f=u.children,m=u.value,g=o[m];if(!hr(g))throw new dr(m,"function",s);var $=g(fr(f,t,n,r,o,i).map((function(e){return e.value})));Array.isArray($)||($=[$]),l.push.apply(l,$.map((function(e){return{type:"string"==typeof e?ar.literal:ar.object,value:e}})))}if(on(u)){if(!(v=u.options[p]||u.options.other))throw new ur(u.value,p,Object.keys(u.options),s);l.push.apply(l,fr(v.value,t,n,r,o))}else if(sn(u)){var v;if(!(v=u.options["=".concat(p)])){if(!Intl.PluralRules)throw new cr('Intl.PluralRules is not available in this environment.\nTry polyfilling it using "@formatjs/intl-pluralrules"\n',ir.MISSING_INTL_API,s);var y=n.getPluralRules(t,{type:u.pluralType}).select(p-(u.offset||0));v=u.options[y]||u.options.other}if(!v)throw new ur(u.value,p,Object.keys(u.options),s);l.push.apply(l,fr(v.value,t,n,r,o,p-(u.offset||0)))}else;}}}return function(e){return e.length<2?e:e.reduce((function(e,t){var n=e[e.length-1];return n&&n.type===ar.literal&&t.type===ar.literal?n.value+=t.value:e.push(t),e}),[])}(l)}function mr(e,t){return t?Object.keys(e).reduce((function(n,r){var o,i;return n[r]=(o=e[r],(i=t[r])?Xt(Xt(Xt({},o||{}),i||{}),Object.keys(o).reduce((function(e,t){return e[t]=Xt(Xt({},o[t]),i[t]||{}),e}),{})):o),n}),Xt({},e)):e}function gr(e){return{create:function(){return{get:function(t){return e[t]},set:function(t,n){e[t]=n}}}}}!function(e){e[e.literal=0]="literal",e[e.object=1]="object"}(ar||(ar={}));var $r=function(){function e(t,n,r,o){var i,s=this;if(void 0===n&&(n=e.defaultLocale),this.formatterCache={number:{},dateTime:{},pluralRules:{}},this.format=function(e){var t=s.formatToParts(e);if(1===t.length)return t[0].value;var n=t.reduce((function(e,t){return e.length&&t.type===ar.literal&&"string"==typeof e[e.length-1]?e[e.length-1]+=t.value:e.push(t.value),e}),[]);return n.length<=1?n[0]||"":n},this.formatToParts=function(e){return fr(s.ast,s.locales,s.formatters,s.formats,e,void 0,s.message)},this.resolvedOptions=function(){return{locale:Intl.NumberFormat.supportedLocalesOf(s.locales)[0]}},this.getAst=function(){return s.ast},"string"==typeof t){if(this.message=t,!e.__parse)throw new TypeError("IntlMessageFormat.__parse must be set to process `message` of type `string`");this.ast=e.__parse(t,{ignoreTag:null==o?void 0:o.ignoreTag})}else this.ast=t;if(!Array.isArray(this.ast))throw new TypeError("A message must be provided as a String or AST.");this.formats=mr(e.formats,r),this.locales=n,this.formatters=o&&o.formatters||(void 0===(i=this.formatterCache)&&(i={number:{},dateTime:{},pluralRules:{}}),{getNumberFormat:Yn((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.NumberFormat).bind.apply(e,Yt([void 0],t,!1)))}),{cache:gr(i.number),strategy:lr.variadic}),getDateTimeFormat:Yn((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.DateTimeFormat).bind.apply(e,Yt([void 0],t,!1)))}),{cache:gr(i.dateTime),strategy:lr.variadic}),getPluralRules:Yn((function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return new((e=Intl.PluralRules).bind.apply(e,Yt([void 0],t,!1)))}),{cache:gr(i.pluralRules),strategy:lr.variadic})})}return Object.defineProperty(e,"defaultLocale",{get:function(){return e.memoizedDefaultLocale||(e.memoizedDefaultLocale=(new Intl.NumberFormat).resolvedOptions().locale),e.memoizedDefaultLocale},enumerable:!1,configurable:!0}),e.memoizedDefaultLocale=null,e.__parse=Xn,e.formats={number:{integer:{maximumFractionDigits:0},currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},e}(),vr=$r;const yr={},br=(e,t,n)=>n?(t in yr||(yr[t]={}),e in yr[t]||(yr[t][e]=n),n):n,wr=(e,t)=>{if(null==t)return;if(t in yr&&e in yr[t])return yr[t][e];const n=Rr(t);for(let r=0;r<n.length;r++){const o=Er(n[r],e);if(o)return br(e,t,o)}};let kr;const xr=dt({});function _r(e){return e in kr}function Er(e,t){return _r(e)?function(e,t){if(null==t)return;if(t in e)return e[t];const n=t.split(".");let r=e;for(let e=0;e<n.length;e++)if("object"==typeof r){if(e>0){const t=n.slice(e,n.length).join(".");if(t in r){r=r[t];break}}r=r[n[e]]}else r=void 0;return r}(function(e){return kr[e]||null}(e),t):null}const Sr=pt([xr],(([e])=>Object.keys(e)));xr.subscribe((e=>kr=e));const Cr={};function Lr(e){return Cr[e]}function Ar(e){return null!=e&&Rr(e).some((e=>{var t;return null===(t=Lr(e))||void 0===t?void 0:t.size}))}function Ir(e,t){return Promise.all(t.map((t=>(function(e,t){Cr[e].delete(t),0===Cr[e].size&&delete Cr[e]}(e,t),t().then((e=>e.default||e)))))).then((t=>function(e,...t){delete yr[e],xr.update((n=>(n[e]=Ht.all([n[e]||{},...t]),n)))}(e,...t)))}const zr={};function Mr(e){if(!Ar(e))return e in zr?zr[e]:Promise.resolve();const t=function(e){return Rr(e).map((e=>{const t=Lr(e);return[e,t?[...t]:[]]})).filter((([,e])=>e.length>0))}(e);return zr[e]=Promise.all(t.map((([e,t])=>Ir(e,t)))).then((()=>{if(Ar(e))return Mr(e);delete zr[e]})),zr[e]}function Or(e,t){Lr(e)||function(e){Cr[e]=new Set}(e);const n=Lr(e);Lr(e).has(t)||(_r(e)||xr.update((t=>(t[e]={},t))),n.add(t))}
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */function Pr(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n}const Tr={fallbackLocale:null,loadingDelay:200,formats:{number:{scientific:{notation:"scientific"},engineering:{notation:"engineering"},compactLong:{notation:"compact",compactDisplay:"long"},compactShort:{notation:"compact",compactDisplay:"short"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}},warnOnMissingMessages:!0,ignoreTag:!0};function Nr(){return Tr}const jr=dt(!1);let Br;const Dr=dt(null);function Ur(e){return e.split("-").map(((e,t,n)=>n.slice(0,t+1).join("-"))).reverse()}function Rr(e,t=Nr().fallbackLocale){const n=Ur(e);return t?[...new Set([...n,...Ur(t)])]:n}function qr(){return null!=Br?Br:void 0}Dr.subscribe((e=>{Br=null!=e?e:void 0,"undefined"!=typeof window&&null!=e&&document.documentElement.setAttribute("lang",e)}));const Gr=Object.assign(Object.assign({},Dr),{set:e=>{if(e&&function(e){if(null==e)return;const t=Rr(e);for(let e=0;e<t.length;e++){const n=t[e];if(_r(n))return n}}(e)&&Ar(e)){const{loadingDelay:t}=Nr();let n;return"undefined"!=typeof window&&null!=qr()&&t?n=window.setTimeout((()=>jr.set(!0)),t):jr.set(!0),Mr(e).then((()=>{Dr.set(e)})).finally((()=>{clearTimeout(n),jr.set(!1)}))}return Dr.set(e)}}),Fr=e=>{const t=Object.create(null);return n=>{const r=JSON.stringify(n);return r in t?t[r]:t[r]=e(n)}},Hr=(e,t)=>{const{formats:n}=Nr();if(e in n&&t in n[e])return n[e][t];throw new Error(`[svelte-i18n] Unknown "${t}" ${e} format.`)},Vr=Fr((e=>{var{locale:t,format:n}=e,r=Pr(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format numbers');return n&&(r=Hr("number",n)),new Intl.NumberFormat(t,r)})),Jr=Fr((e=>{var{locale:t,format:n}=e,r=Pr(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format dates');return n?r=Hr("date",n):0===Object.keys(r).length&&(r=Hr("date","short")),new Intl.DateTimeFormat(t,r)})),Zr=Fr((e=>{var{locale:t,format:n}=e,r=Pr(e,["locale","format"]);if(null==t)throw new Error('[svelte-i18n] A "locale" must be set to format time values');return n?r=Hr("time",n):0===Object.keys(r).length&&(r=Hr("time","short")),new Intl.DateTimeFormat(t,r)})),Kr=Fr(((e,t=qr())=>new vr(e,t,Nr().formats,{ignoreTag:Nr().ignoreTag}))),Wr=(e,t={})=>{let n=t;"object"==typeof e&&(n=e,e=n.id);const{values:r,locale:o=qr(),default:i}=n;if(null==o)throw new Error("[svelte-i18n] Cannot format a message without first setting the initial locale.");let s=wr(e,o);if(s){if("string"!=typeof s)return console.warn(`[svelte-i18n] Message with id "${e}" must be of type "string", found: "${typeof s}". Gettin its value through the "$format" method is deprecated; use the "json" method instead.`),s}else Nr().warnOnMissingMessages&&console.warn(`[svelte-i18n] The message "${e}" was not found in "${Rr(o).join('", "')}".${Ar(qr())?"\n\nNote: there are at least one loader still registered to this locale that wasn't executed.":""}`),s=null!=i?i:e;if(!r)return s;let l=s;try{l=Kr(s,o).format(r)}catch(t){console.warn(`[svelte-i18n] Message "${e}" has syntax error:`,t.message)}return l},Xr=(e,t)=>((e={})=>{var{locale:t=qr()}=e,n=Pr(e,["locale"]);return Zr(Object.assign({locale:t},n))})(t).format(e),Yr=(e,t)=>((e={})=>{var{locale:t=qr()}=e,n=Pr(e,["locale"]);return Jr(Object.assign({locale:t},n))})(t).format(e),Qr=(e,t)=>((e={})=>{var{locale:t=qr()}=e,n=Pr(e,["locale"]);return Vr(Object.assign({locale:t},n))})(t).format(e),eo=(e,t=qr())=>wr(e,t),to=pt([Gr,xr],(()=>Wr));pt([Gr],(()=>Xr)),pt([Gr],(()=>Yr)),pt([Gr],(()=>Qr)),pt([Gr,xr],(()=>eo));function no(e){return e=(e=(e=e.replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>")).replace(/\*(.+?)\*/g,"<em>$1</em>")).replace(/\[(.+?)\]\((.+?)\)/g,'<a href="$2" target="_blank">$1</a>')}function ro(e){return e<.5?4*e*e*e:.5*Math.pow(2*e-2,3)+1}function oo(e){const t=e-1;return t*t*t+1}function io(e,{delay:n=0,duration:r=400,easing:o=t}={}){const i=+getComputedStyle(e).opacity;return{delay:n,duration:r,easing:o,css:e=>"opacity: "+e*i}}function so(e,{delay:t=0,duration:n=400,easing:r=oo,x:o=0,y:i=0,opacity:s=0}={}){const l=getComputedStyle(e),a=+l.opacity,c="none"===l.transform?"":l.transform,u=a*(1-s);return{delay:t,duration:n,easing:r,css:(e,t)=>`\n\t\t\ttransform: ${c} translate(${(1-e)*o}px, ${(1-e)*i}px);\n\t\t\topacity: ${a-u*t}`}}function lo(e,{delay:t=0,duration:n=400,easing:r=oo}={}){const o=getComputedStyle(e),i=+o.opacity,s=parseFloat(o.height),l=parseFloat(o.paddingTop),a=parseFloat(o.paddingBottom),c=parseFloat(o.marginTop),u=parseFloat(o.marginBottom),d=parseFloat(o.borderTopWidth),p=parseFloat(o.borderBottomWidth);return{delay:t,duration:n,easing:r,css:e=>`overflow: hidden;opacity: ${Math.min(20*e,1)*i};height: ${e*s}px;padding-top: ${e*l}px;padding-bottom: ${e*a}px;margin-top: ${e*c}px;margin-bottom: ${e*u}px;border-top-width: ${e*d}px;border-bottom-width: ${e*p}px;`}}function ao(e,{delay:t=0,speed:n,duration:r,easing:o=ro}={}){let i=e.getTotalLength();const s=getComputedStyle(e);return"butt"!==s.strokeLinecap&&(i+=parseInt(s.strokeWidth)),void 0===r?r=void 0===n?800:i/n:"function"==typeof r&&(r=r(i)),{delay:t,duration:r,easing:o,css:(e,t)=>`stroke-dasharray: ${e*i} ${t*i}`}}function co(e){let t,n,r,o,i,s,l,a=e[0](e[1])+"";return{c(){t=I("div"),n=M(a),j(t,"class",m(e[2])+" svelte-1txtc79")},m(r,o){C(r,t,o),_(t,n),i=!0,s||(l=T(t,"click",e[3]),s=!0)},p(e,[t]){(!i||1&t)&&a!==(a=e[0](e[1])+"")&&U(n,a)},i(e){i||(ae((()=>{o&&o.end(1),r=_e(t,so,{y:200,duration:500}),r.start()})),i=!0)},o(e){r&&r.invalidate(),o=Ee(t,io,{duration:300}),i=!1},d(e){e&&L(t),e&&o&&o.end(),s=!1,l()}}}function uo(e,t,n){let r,o;c(e,Tt,(e=>n(4,r=e))),c(e,to,(e=>n(0,o=e)));const{text:i,type:s,timeout:l}=r;ee((async()=>{const e=r.text;setTimeout((()=>{r?.text===e&&Tt.clear()}),l)}));return[o,i,s,()=>Tt.clear()]}(async()=>{try{const e=await ct("./locales/manifest.json")(),{files:t,languages:n}=e,r=t[0];if(!n?.length||!r)throw new Error("Could not load languages from manifest");for(const e of n)Or(e,ct(`./locales/${e}${r}`));const o=localStorage.getItem("locale")||navigator.language,i=o.split("-")[0],s=n.find((e=>e===o||e===i))||"en";await function(e){const{formats:t}=e,n=Pr(e,["formats"]),r=e.initialLocale||e.fallbackLocale;return Object.assign(Tr,n,{initialLocale:r}),t&&("number"in t&&Object.assign(Tr.formats.number,t.number),"date"in t&&Object.assign(Tr.formats.date,t.date),"time"in t&&Object.assign(Tr.formats.time,t.time)),Gr.set(r)}({fallbackLocale:"en",initialLocale:s}),ht.set(!0)}catch(e){console.error(e),ht.set(!0)}})();class po extends je{constructor(e){super(),Ne(this,e,uo,co,s,{})}}const ho=navigator.userAgent.includes("Firefox");async function fo(e,t="png"){if("json"===t)return function(e){const t=new Blob([JSON.stringify(e)],{type:"application/json"}),n=window.URL.createObjectURL(t),r=document.createElement("a"),o=1===e.length&&e[0].name&&e[0].name.toLowerCase().replaceAll(/[^a-z]/g,"")||"armoria";r.download=`${o}_${mo()}.json`,r.href=n,r.click(),window.setTimeout((()=>window.URL.revokeObjectURL(n)),5e3)}(e);const n=e||0===e?[document.getElementById("coa"+e)]:document.querySelectorAll("svg.coa");let{width:r,height:o}=n[0].getBoundingClientRect();const i=n.length>1?Math.floor(window.innerWidth/r):1,s=n.length>1?Math.ceil(n.length/i):1,l=a(_t);r=Math.round(r*l),o=Math.round(o*l);const c=document.createElement("canvas"),u=c.getContext("2d");c.width=r*i,c.height=o*s;let d=0;n.forEach((async function(e,s){const l=await async function(e,t,n){const r={},o=e.cloneNode(!0);o.setAttribute("width",t),o.setAttribute("height",n),o.removeAttribute("class"),o.removeAttribute("id");const i=o.getElementsByTagName("defs")[0],s=o.getElementById("grid"),l=o.getElementById("gridPattern"),c=o.getElementById("positions");s&&s.remove();l&&l.remove();c&&c.remove();o.querySelectorAll(".text-path").forEach((e=>{e.setAttribute("stroke","none")})),o.querySelectorAll(".points").forEach((e=>{e.remove()}));const u=a(gt),d=a($t);u&&"no"!==u&&i.insertAdjacentHTML("beforeend",defs.getElementById(u).outerHTML);d&&"no"!==d&&i.insertAdjacentHTML("beforeend",defs.getElementById(d).outerHTML);o.querySelectorAll(".charge[charge]").forEach((e=>{const t=e.getAttribute("fill").split("(#")[1]?.split(")")[0];t&&f(t,i);const n=e.getAttribute("charge");r[n]||(i.insertAdjacentHTML("beforeend",defs.getElementById(n).outerHTML),r[n]=!0)})),o.querySelectorAll(".ordinary").forEach((e=>{const t=e.getAttribute("fill").split("(#")[1]?.split(")")[0];t&&f(t,i)}));const p=o.getElementsByClassName("field")[0].getAttribute("fill").split("(#")[1]?.split(")")[0];p&&f(p,i);const h=o.getElementsByClassName("division")[0]?.querySelector("rect").getAttribute("fill").split("(#")[1]?.split(")")[0];h&&f(h,i);function f(e,t){if(!r[e]){if(t.insertAdjacentHTML("beforeend",document.getElementById(e).outerHTML),"semy"===e.slice(0,4)){const n=e.match(/semy_of_(.*?)-/)[1];r[n]||(t.insertAdjacentHTML("beforeend",document.getElementById(n).outerHTML),r[n]=!0)}r[e]=!0}}const m=function(e){const t=new Set,n=a(wt);for(const r of e.querySelectorAll("text")){const e=r.getAttribute("font-family");e&&n[e]?.url&&t.add({family:e,url:n[e].url})}return Array.from(t)}(o);if(m){const e=await async function(e){const t=e.map((async e=>{const t=await fetch(e.url),n=await t.blob(),r=await function(e){return new Promise((function(t,n){const r=new FileReader;r.onloadend=()=>t(r.result),r.onerror=n,r.readAsDataURL(e)}))}(n);return{family:e.family,src:`url('${r}')`}}));return await Promise.all(t)}(m),t=e.map((({family:e,src:t})=>`@font-face {font-family: "${e}"; src: ${t};}`)).join("\n"),n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML=t,o.querySelector("defs").appendChild(n)}const g=(new XMLSerializer).serializeToString(o),$=ho?g:function(e){const t=(new DOMParser).parseFromString(e,"image/svg+xml"),n=(new DOMParser).parseFromString(['<xsl:stylesheet xmlns:xsl="http://www.w3.org/1999/XSL/Transform">','  <xsl:strip-space elements="*"/>','  <xsl:template match="para[content-style][not(text())]">','    <xsl:value-of select="normalize-space(.)"/>',"  </xsl:template>",'  <xsl:template match="node()|@*">','    <xsl:copy><xsl:apply-templates select="node()|@*"/></xsl:copy>',"  </xsl:template>",'  <xsl:output indent="yes"/>',"</xsl:stylesheet>"].join("\n"),"application/xml"),r=new XSLTProcessor;r.importStylesheet(n);const o=r.transformToDocument(t);return(new XMLSerializer).serializeToString(o)}(g),v=new Blob([$],{type:"image/svg+xml;charset=utf-8"}),y=window.URL.createObjectURL(v);return window.setTimeout((()=>window.URL.revokeObjectURL(y)),6e3),y}(e,r,o);"svg"===t?function(e){const t=document.createElement("a");t.download=`armoria_${mo()}.svg`,t.href=e,t.click(),window.setTimeout((()=>window.URL.revokeObjectURL(e)),5e3)}(l):function(e,s){const l=new Image;l.src=e,l.onload=()=>{URL.revokeObjectURL(e),u.drawImage(l,s%i*r,Math.floor(s/i)*o,r,o),d++,d===n.length&&function(e,t){const n=document.createElement("a");n.download=`armoria_${mo()}.${t}`;const r=e.toDataURL("image/"+t,.92);n.href=r,n.click(),setTimeout((function(){e.remove(),window.URL.revokeObjectURL(n.href)}),5e3)}(c,t)}}(l,s)}))}function mo(){const e=e=>e<10?"0"+e:e,t=new Date;return[t.getFullYear(),e(t.getMonth()+1),e(t.getDate()),e(t.getHours()),e(t.getMinutes()),e(t.getSeconds())].join("-")}const go=()=>{const e=a(Pt),t=window.innerWidth<1132;e!==t&&Pt.set(t)};go();const{window:$o}=Ce;function vo(t){let n,r;return{c:e,m(e,o){n||(r=[T($o,"keydown",t[0]),T($o,"touchstart",t[1]),T($o,"touchend",t[2]),T($o,"resize",go)],n=!0)},p:e,i:e,o:e,d(e){n=!1,o(r)}}}function yo(e,t,n){let r,o,i,s;c(e,Mt,(e=>n(4,r=e))),c(e,Ot,(e=>n(5,o=e))),c(e,Nt,(e=>n(6,i=e))),c(e,It,(e=>n(7,s=e)));let l={startX:0,startY:0};"azgaar.github.io"!==location.host||navigator.userAgent.includes("Electron")||(window.onbeforeunload=()=>"Are you sure you want to navigate away?");const a={Backspace:()=>r>0&&Mt.set(r-1),Enter:()=>Mt.set(g(Mt,r+=1,r)),KeyZ:Nt.undo,KeyX:Nt.redo,KeyS:e=>e&&fo(null,"svg"),KeyP:e=>e&&fo(null,"png"),KeyJ:e=>e&&fo(null,"jpeg"),F1:()=>Ot.set({...o,about:!o.about}),Escape:function(){o.edit&&g(It,s[o.c]=JSON.parse(i[0]),s),Ot.set({...o,about:0,raster:0,vector:0,tinctures:0,edit:0,selectedPath:-1}),Tt.clear()}};return[function(e){const t=/^[a-z]$/i.test(e.key)?a["Key"+e.key.toUpperCase()]:a[e.code];if(!t)return;const n=document.activeElement.tagName;"INPUT"!==n&&"SELECT"!==n&&"TEXTAREA"!==n&&(e.preventDefault(),t(e.ctrlKey))},function(e){const{screenX:t,screenY:n}=e.changedTouches[0];l.startX=t,l.startY=n},function(e){const t=document.getElementById("menu"),n=document.getElementById("navbar");if(t?.contains(e.target))return;if(n?.contains(e.target))return;const{screenX:i,screenY:s}=e.changedTouches[0],{startX:a,startY:c}=l,u=i-a,d=s-c,p=Math.abs(u/d),h=Math.abs(d/u);Math.abs(p>h?u:d)<100||(p>h?u>=0?o.edit?Nt.redo():g(Mt,r+=1,r):o.edit?Nt.undo():r>0&&g(Mt,r-=1,r):d>=0?g(Mt,r+=1,r):r>0&&g(Mt,r-=1,r))}]}class bo extends je{constructor(e){super(),Ne(this,e,yo,vo,s,{})}}const wo=()=>({usedPattern:null,usedTinctures:[],tData:a(bt),divisioned:null,ordinary:null}),ko=function(e){const t=e||Math.floor(1e9*Math.random());Math.random=function(){return function(e){const t="aleaPRNG 1.1.0";var n,r,o,i,s,l=new Uint32Array(3),a="";function c(e){var t=function(){var e=4022871197,t=function(t){for(var n=0,r=(t=t.toString()).length;n<r;n++){var o=.02519603282416938*(e+=t.charCodeAt(n));o-=e=o>>>0,e=(o*=e)>>>0,e+=4294967296*(o-=e)}return 2.3283064365386963e-10*(e>>>0)};return t.version="Mash 0.9",t}();n=t(" "),r=t(" "),o=t(" "),i=1;for(var s=0;s<e.length;s++)(n-=t(e[s]))<0&&(n+=1),(r-=t(e[s]))<0&&(r+=1),(o-=t(e[s]))<0&&(o+=1);a=t.version,t=null}function u(e){return parseInt(e,10)===e}var d=function(){var e=2091639*n+2.3283064365386963e-10*i;return n=r,r=o,o=e-(i=0|e)};return d.fract53=function(){return d()+11102230246251565e-32*(2097152*d()|0)},d.int32=function(){return 4294967296*d()},d.cycle=function(e){(e=void 0===e?1:+e)<1&&(e=1);for(var t=0;t<e;t++)d()},d.range=function(){var e,t;return 1===arguments.length?(e=0,t=arguments[0]):(e=arguments[0],t=arguments[1]),arguments[0]>arguments[1]&&(e=arguments[1],t=arguments[0]),u(e)&&u(t)?Math.floor(d()*(t-e+1))+e:d()*(t-e)+e},d.restart=function(){c(s)},d.seed=function(){c(Array.prototype.slice.call(arguments))},d.version=function(){return t},d.versions=function(){return t+", "+a},0===e.length&&(window.crypto.getRandomValues(l),e=[l[0],l[1],l[2]]),s=e,c(e),d}(Array.prototype.slice.call(arguments))}(t);const n=wo(),r={seed:t,t1:Lo(n,"field")},o=st(n.usedPattern?.5:.93),i=o&&st(.3)||st(.5)?it(Ue.lined):null;n.ordinary=!o&&st(.65)||st(.3)?i||it(Ue.straight):null;const s=["chief","terrace","chevron","quarter","flaunches"].includes(n.ordinary);n.divisioned=s||o&&n.ordinary?st(.03):o?st(.3):n.ordinary?st(.7):st(.995);const l=n.divisioned?it(Ke.variants):null;if(l){const e=Lo(n,"division",n.usedTinctures,st(.98)?r.t1:null);r.division={division:l,t:e},Ke.data[l].templateLined&&(r.division.line=n.usedPattern||n.ordinary&&st(.7)?"straight":it(Ke.data[l].line||Je.variants))}if(n.ordinary){const e=Lo(n,"charge",n.usedTinctures,r.t1);r.ordinaries=[{ordinary:n.ordinary,t:e}],i&&(r.ordinaries[0].line=n.usedPattern||l&&st(.7)?"straight":it(Je.variants)),l&&!o&&!n.usedPattern&&st(.5)&&"bordure"!==n.ordinary&&"orle"!==n.ordinary&&(st(.8)?r.ordinaries[0].divided="counter":st(.6)?r.ordinaries[0].divided="field":r.ordinaries[0].divided="division")}if(o){const e=_o(n.ordinary||n.divisioned?Be.types:Be.single),t=Be.data[e]||{};let o="e",i="gules";const s=Ue.data[n.ordinary],a=r.ordinaries?r.ordinaries[0].t:null;s?.positionsOn&&st(.8)?(o=it(s.positionsOn),i=!n.usedPattern&&st(.3)?r.t1:Lo(n,"charge",[],a)):s?.positionsOff&&st(.95)?(o=it(s.positionsOff),i=!n.usedPattern&&st(.3)?a:Lo(n,"charge",n.usedTinctures,r.t1)):Ke.data[l]?.positions?(o=it(Ke.data[l].positions),i=Lo(n,"charge",a?n.usedTinctures.concat(a):n.usedTinctures,r.t1)):t.positions?(o=it(t.positions),i=Lo(n,"charge",n.usedTinctures,r.t1)):(o=n.usedPattern?"e":Be.conventional[e]?it(He):it(Ve),i=Lo(n,"charge",n.usedTinctures.concat(a),r.t1)),t.natural&&t.natural!==i&&t.natural!==a&&(i=t.natural);const c={charge:e,t:i,p:o},u=t.colors||1;if(u>1&&(c.t2=st(.25)?Lo(n,"charge",n.usedTinctures,r.t1):i),u>2&&c.t2&&(c.t3=st(.5)?Lo(n,"charge",n.usedTinctures,r.t1):i),r.charges=[c],"ABCDEFGHIKL"===o&&st(.95)){r.charges[0].charge=it(Be.conventional);const e=_o(Be.single),t=Lo(n,"charge",n.usedTinctures,r.t1);r.charges.push({charge:e,t:t,p:"e"})}else if(st(.8)&&"inescutcheon"===e){const e=_o(Be.types),t=Lo(n,"charge",[],i);r.charges.push({charge:e,t:t,p:o,size:.5})}else if(l&&!n.ordinary){const e=!(n.usedPattern||r.line&&"straight"!==r.line);if(st(.3)&&["perPale","perFess"].includes(l)&&"straight"===r.line){if(r.charges[0].divided="field",st(.95)){const e="e"===o||st(.5)?"e":it(Ke.data[l].positions),t=_o(Be.single),i=Lo(n,"charge",n.usedTinctures,r.division.t);r.charges.push({charge:t,t:i,p:e,divided:"division"})}}else if(e&&st(.4))r.charges[0].divided="counter";else if(["perPale","perFess","perBend","perBendSinister"].includes(l)&&st(.8)){const[e,t]="perPale"===l?["p","q"]:"perFess"===l?["k","n"]:"perBend"===l?["l","m"]:["j","o"];r.charges[0].p=e;const o=_o(Be.single),i=Lo(n,"charge",n.usedTinctures,r.division.t);r.charges.push({charge:o,t:i,p:t})}else if(["perCross","perSaltire"].includes(l)&&st(.5)){const[e,t,o,i]="perCross"===l?["j","l","m","o"]:["b","d","f","h"];r.charges[0].p=e;const s=_o(Be.single),a=Lo(n,"charge",[],r.division.t),c=_o(Be.single),u=Lo(n,"charge",[],r.division.t),d=_o(Be.single),p=Lo(n,"charge",[],r.t1);r.charges.push({charge:s,t:a,p:t},{charge:c,t:u,p:o},{charge:d,t:p,p:i})}else e&&o.length>1&&(r.charges[0].divided="counter")}r.charges.forEach((e=>function(e,t,n){n.size=(n.size||1)*xo(n.p,e.ordinary,t),n.p=[...new Set(n.p)].join(""),st(.02)&&Be.data[n.charge]?.sinister&&(n.sinister=1);st(.02)&&Be.data[n.charge]?.reversed&&(n.reversed=1)}(n,l,e)))}return r},xo=(e,t=null,n=null)=>"e"!==e||"bordure"!==t&&"orle"!==t?"e"===e?1.5:"jln"===e||"jlh"===e?.7:"abcpqh"===e||"ez"===e||"be"===e||["a","b","c","d","f","g","h","i","bh","df"].includes(e)?.5:["j","l","m","o","jlmo"].includes(e)&&"perCross"===n?.6:e.length>10?.18:e.length>7?.3:e.length>4?.4:e.length>2?.5:.7:1.1;function _o(e){const t=it(e);return"inescutcheon"===t?"inescutcheon":it(Be[t])}function Eo(e,t){const n=So(e,t),r={...e.tData[n]};delete r[t];return it(r,!1)?it(r,!1):(console.warn(`Type ${n} has only one valid tincture. Cannot follow the Rule of Tincture`),t)}function So(e,t){const n=Co(t);if(Object.keys(e.tData.metals).includes(n))return"metals";if(Object.keys(e.tData.colours).includes(n))return"colours";if(Object.keys(e.tData.stains).includes(n))return"stains";throw new Error("Unknown tincture type",t)}function Co(e){return e.includes("-")?e.split("-")[1]:e}function Lo(e,t,n=[],r){let o=it(e.tData[t]);if("patterns"===o){const n=it(e.tData[o]);e.usedPattern=n;const r=function(e,t,n){let r=null,o=null;if(st(.5)&&(t.includes("air")||t.includes("otent"))?(r="argent",o="azure"):"ermine"===t?st(.7)?(r="argent",o="sable"):st(.3)?(r="sable",o="argent"):st(.1)?(r="or",o="sable"):st(.1)?(r="sable",o="or"):st(.1)&&(r="gules",o="argent"):t.includes("pappellony")||"scaly"===t?st(.2)?(r="gules",o="or"):st(.2)?(r="sable",o="argent"):st(.2)?(r="argent",o="sable"):st(.2)&&(r="azure",o="argent"):st(.2)&&"plumetty"===t?(r="gules",o="or"):"masoned"===t?st(.3)?(r="gules",o="argent"):st(.3)?(r="argent",o="sable"):st(.1)&&(r="or",o="sable"):"fretty"===t||"grillage"===t||"chainy"===t?st(.35)?(r="argent",o="gules"):st(.1)?(r="sable",o="or"):st(.2)&&(r="gules",o="argent"):"honeycombed"===t?st(.4)?(r="sable",o="or"):st(.3)&&(r="or",o="sable"):"semy"===t&&(t+="_of_"+_o(Be.semy)),!r||!o){const t=st(.7);r=it(t?e.tData.metals:e.tData.colours),o=it(t?e.tData.colours:e.tData.metals)}"division"===n&&(e.usedTinctures.includes(r)&&(r=Eo(e,r)),e.usedTinctures.includes(o)&&(o=Eo(e,o))),e.usedTinctures.push(r,o);const i=it(We);return`${t}-${r}-${o}${"standard"===i?"":"-"+i}`}(e,n,t);return r}if(r){o="metals"===So(e,Co(r))?"colours":"metals"}const i=e.tData[o],s=n.length?function(e,t){const n={...e};t.forEach((e=>{delete n[e]}));const r=Object.keys(n).length&&Object.values(n).reduce(((e,t)=>e+t),0);return r?n:e}(i,n):i;let l=it(s,!1);return"charge"!==t&&e.usedTinctures.push(l),l}const Ao=(e,t,n)=>()=>{if("shield"===e){document.getElementById("coaEdit").querySelector(`g.${t}[i="${n}"]`)?.setAttribute("filter","url(#highlight)")}else if("menu"===e){document.getElementById(`${t}_${n}`)?.classList.add("highlighted")}},Io=(e,t,n)=>()=>{if("shield"===e){document.getElementById("coaEdit").querySelector(`g.${t}[i="${n}"]`)?.removeAttribute("filter")}else if("menu"===e){document.getElementById(`${t}_${n}`)?.classList.remove("highlighted")}};function zo(e){let t,n,r,o,i,s,l;return{c(){t=z("pattern"),n=z("path"),r=O(),o=z("g"),i=z("rect"),j(n,"d","M 100 0 L 0 0 0 100"),j(n,"fill","none"),j(n,"stroke","#000"),j(n,"opacity",".2"),j(n,"stroke-width",".5"),j(t,"id","gridPattern"),j(t,"width",e[2]),j(t,"height",e[2]),j(t,"patternUnits","userSpaceOnUse"),j(i,"x","-200"),j(i,"y","-200"),j(i,"width","400"),j(i,"height","400"),j(i,"fill","url(#gridPattern)"),j(o,"id","grid"),q(o,"pointer-events","none"),j(o,"transform",e[0]),j(o,"transform-origin","center")},m(e,s){C(e,t,s),_(t,n),C(e,r,s),C(e,o,s),_(o,i),l=!0},p(e,n){(!l||4&n)&&j(t,"width",e[2]),(!l||4&n)&&j(t,"height",e[2]),(!l||1&n)&&j(o,"transform",e[0])},i(e){l||(e&&ae((()=>{s||(s=Se(o,io,{},!0)),s.run(1)})),l=!0)},o(e){e&&(s||(s=Se(o,io,{},!1)),s.run(0)),l=!1},d(e){e&&L(t),e&&L(r),e&&L(o),e&&s&&s.end()}}}function Mo(e){let t,n=e[1]&&zo(e);return{c(){n&&n.c(),t=P()},m(e,r){n&&n.m(e,r),C(e,t,r)},p(e,[r]){e[1]?n?(n.p(e,r),2&r&&we(n,1)):(n=zo(e),n.c(),we(n,1),n.m(t.parentNode,t)):n&&(ye(),ke(n,1,1,(()=>{n=null})),be())},i(e){we(n)},o(e){ke(n)},d(e){n&&n.d(e),e&&L(t)}}}function Oo(e,t,n){let r,o,i,s;return c(e,Ot,(e=>n(3,o=e))),c(e,Lt,(e=>n(1,i=e))),c(e,Ct,(e=>n(2,s=e))),e.$$.update=()=>{8&e.$$.dirty&&n(0,r=o.transform||null)},[r,i,s,o]}class Po extends je{constructor(e){super(),Ne(this,e,Oo,Mo,s,{})}}function To(e,t,n){const r=e.slice();return r[3]=t[n],r}function No(e){let t,n,r,o,i,s=e[0],l=[];for(let t=0;t<s.length;t+=1)l[t]=jo(To(e,s,t));return{c(){t=z("g"),n=z("g");for(let e=0;e<l.length;e+=1)l[e].c();j(n,"id","positions"),j(n,"transform","translate(100, 100)"),j(t,"transform",o=e[1].transform||null),j(t,"transform-origin","center")},m(e,r){C(e,t,r),_(t,n);for(let e=0;e<l.length;e+=1)l[e].m(n,null);i=!0},p(e,r){if(3&r){let t;for(s=e[0],t=0;t<s.length;t+=1){const o=To(e,s,t);l[t]?l[t].p(o,r):(l[t]=jo(o),l[t].c(),l[t].m(n,null))}for(;t<l.length;t+=1)l[t].d(1);l.length=s.length}(!i||2&r&&o!==(o=e[1].transform||null))&&j(t,"transform",o)},i(e){i||(e&&ae((()=>{r||(r=Se(n,io,{},!0)),r.run(1)})),i=!0)},o(e){e&&(r||(r=Se(n,io,{},!1)),r.run(0)),i=!1},d(e){e&&L(t),A(l,e),e&&r&&r.end()}}}function jo(e){let t,n,r,o,i,s,l,a,c,u,d=e[3][0]+"";return{c(){t=z("g"),n=z("circle"),i=z("text"),s=M(d),j(n,"cx",r=e[3][1][0]),j(n,"cy",o=e[3][1][1]),j(n,"r","3"),j(n,"class","svelte-lt1npm"),H(n,"active",e[1].positions.includes(e[3][0])),q(i,"dominant-baseline","central"),j(i,"x",l=e[3][1][0]),j(i,"y",a=e[3][1][1]),j(i,"class","svelte-lt1npm"),H(i,"active",e[1].positions.includes(e[3][0])),j(t,"id",c=e[3][0]),j(t,"class",u=m(Do(e[3][0]))+" svelte-lt1npm")},m(e,r){C(e,t,r),_(t,n),_(t,i),_(i,s)},p(e,p){1&p&&r!==(r=e[3][1][0])&&j(n,"cx",r),1&p&&o!==(o=e[3][1][1])&&j(n,"cy",o),3&p&&H(n,"active",e[1].positions.includes(e[3][0])),1&p&&d!==(d=e[3][0]+"")&&U(s,d),1&p&&l!==(l=e[3][1][0])&&j(i,"x",l),1&p&&a!==(a=e[3][1][1])&&j(i,"y",a),3&p&&H(i,"active",e[1].positions.includes(e[3][0])),1&p&&c!==(c=e[3][0])&&j(t,"id",c),1&p&&u!==(u=m(Do(e[3][0]))+" svelte-lt1npm")&&j(t,"class",u)},d(e){e&&L(t)}}}function Bo(e){let t,n=e[1].positions&&No(e);return{c(){n&&n.c(),t=P()},m(e,r){n&&n.m(e,r),C(e,t,r)},p(e,[r]){e[1].positions?n?(n.p(e,r),2&r&&we(n,1)):(n=No(e),n.c(),we(n,1),n.m(t.parentNode,t)):n&&(ye(),ke(n,1,1,(()=>{n=null})),be())},i(e){we(n)},o(e){ke(n)},d(e){n&&n.d(e),e&&L(t)}}}function Do(e){return"abcdefghi".includes(e)?"green":"ABCDEFGHIJKL".includes(e)?"red":"zy".includes(e)?"yellow":"blue"}function Uo(e,t,n){let r,o;c(e,Ot,(e=>n(1,o=e)));let{shield:i}=t;return e.$$set=e=>{"shield"in e&&n(2,i=e.shield)},e.$$.update=()=>{4&e.$$.dirty&&n(0,r=Object.entries(qe.data[i].positions||qe.data.spanish.positions))},[r,o,i]}class Ro extends je{constructor(e){super(),Ne(this,e,Uo,Bo,s,{shield:2})}}
// @license
function qo(e,t,n,r={move:!0,resize:!0,rotate:!0,onMove:void 0,onEnd:void 0}){const o=e.currentTarget,i=e.x,s=e.y,l=o.closest("svg").clientWidth/200;document.addEventListener("mouseup",(function(){document.removeEventListener("mousemove",m),document.removeEventListener("mousemove",g),document.removeEventListener("mousemove",$),document.body.style.cursor="auto",r.onEnd&&r.onEnd(t);Nt.add(JSON.stringify(n))}),{once:!0});const{x:c=0,y:u=0,size:d=1}=t,p=a(Ct),h=o.querySelectorAll("use"),f=qe.data[a(vt)].positions||qe.data.spanish.positions;function m(e){const n=c+(e.x-i)/l,a=u+(e.y-s)/l;t.x=Go(Math.round(n/p)*p),t.y=Go(Math.round(a/p)*p),v(o,t),r.onMove&&r.onMove(e,t)}function g(e){const n=u+(e.y-s)/l;t.size=Go(d+n/-100),t.p?function(e){const t=[...new Set(e.p)].filter((e=>f[e]));t.forEach(((t,n)=>{const r=h[n];if(r){const n=Ho(e,t,a(vt));n?r.setAttribute("transform",n):r.removeAttribute("transform")}}))}(t):v(o,t)}function $(e){const n=c+100,r=u+100,i=e.x/l,s=e.y/l;let a=90+180*Math.atan2(s-r,i-n)/Math.PI;a>180&&(a=a%180-180),a<-179&&(a=a%180+180),t.angle=Math.round(a/p)*p,v(o,t)}function v(e,t){const n=Fo(t);n?e.setAttribute("transform",n):e.removeAttribute("transform")}r.resize&&e.shiftKey?(document.addEventListener("mousemove",g),document.body.style.cursor="ns-resize"):r.rotate&&(e.ctrlKey||e.metaKey)?(document.addEventListener("mousemove",$),document.body.style.cursor="ew-resize"):r.move&&(document.addEventListener("mousemove",m),document.body.style.cursor="move")}function Go(e){return Math.round(100*e)/100}function Fo(e){let{x:t=0,y:n=0,angle:r=0,size:o=1,stretch:i=0,p:s}=e;s&&(o=1,i=0);let l=o,a=o;i<0?l=Go(l*(1-i)):i>0&&(a=Go(a*(1+i))),t=Go(t-100*(l-1)),n=Go(n-100*(a-1));let c="";return(t||n)&&(c+=`translate(${t} ${n})`),r&&(c+=` rotate(${r} ${100*l} ${100*a})`),1===l&&1===a||(c+=l===a?` scale(${l})`:` scale(${l} ${a})`),c?c.trim():null}function Ho(e,t,n){const r=qe.data[n].positions||qe.data.spanish.positions,o=qe.data[n].size||1,i=Go((e.size||1)*o);e.stretch;let s=e.sinister?-i:i,l=e.reversed?-i:i;e.stretch<0?s=Go(s*(1-e.stretch)):e.stretch>0&&(l=Go(l*(1+e.stretch)));let[a,c]=r[t];a=Go(a-100*(s-1)),c=Go(c-100*(l-1));let u="";return(a||c)&&(u+=`translate(${a} ${c})`),1===s&&1===l||(u+=s===l?` scale(${s})`:` scale(${s} ${l})`),u?u.trim():null}!function(){var e=function(e){return e.map((function(e){return{type:e.type,values:Array.prototype.slice.call(e.values)}}))},t=function(e){var t=[],r=null,o=null,i=null,s=null,l=null,a=null,c=null;return e.forEach((function(e){if("M"===e.type){var u=e.values[0],d=e.values[1];t.push({type:"M",values:[u,d]}),a=u,c=d,s=u,l=d}else if("C"===e.type){var p=e.values[0],h=e.values[1],f=e.values[2],m=e.values[3];u=e.values[4],d=e.values[5];t.push({type:"C",values:[p,h,f,m,u,d]}),o=f,i=m,s=u,l=d}else if("L"===e.type){u=e.values[0],d=e.values[1];t.push({type:"L",values:[u,d]}),s=u,l=d}else if("H"===e.type){u=e.values[0];t.push({type:"L",values:[u,l]}),s=u}else if("V"===e.type){d=e.values[0];t.push({type:"L",values:[s,d]}),l=d}else if("S"===e.type){f=e.values[0],m=e.values[1],u=e.values[2],d=e.values[3];"C"===r||"S"===r?(g=s+(s-o),$=l+(l-i)):(g=s,$=l),t.push({type:"C",values:[g,$,f,m,u,d]}),o=f,i=m,s=u,l=d}else if("T"===e.type){u=e.values[0],d=e.values[1];"Q"===r||"T"===r?(p=s+(s-o),h=l+(l-i)):(p=s,h=l);var g=s+2*(p-s)/3,$=l+2*(h-l)/3,v=u+2*(p-u)/3,y=d+2*(h-d)/3;t.push({type:"C",values:[g,$,v,y,u,d]}),o=p,i=h,s=u,l=d}else if("Q"===e.type){p=e.values[0],h=e.values[1],u=e.values[2],d=e.values[3],g=s+2*(p-s)/3,$=l+2*(h-l)/3,v=u+2*(p-u)/3,y=d+2*(h-d)/3;t.push({type:"C",values:[g,$,v,y,u,d]}),o=p,i=h,s=u,l=d}else if("A"===e.type){var b=Math.abs(e.values[0]),w=Math.abs(e.values[1]),k=e.values[2],x=e.values[3],_=e.values[4];u=e.values[5],d=e.values[6];if(0===b||0===w)t.push({type:"C",values:[s,l,u,d,u,d]}),s=u,l=d;else if(s!==u||l!==d)n(s,l,u,d,b,w,k,x,_).forEach((function(e){t.push({type:"C",values:e})})),s=u,l=d}else"Z"===e.type&&(t.push(e),s=a,l=c);r=e.type})),t},n=function(e,t,r,o,i,s,l,a,c,u){var d,p,h,f,m,g=function(e,t,n){return{x:e*Math.cos(n)-t*Math.sin(n),y:e*Math.sin(n)+t*Math.cos(n)}},$=(d=l,Math.PI*d/180),v=[];if(u)p=u[0],h=u[1],f=u[2],m=u[3];else{var y=g(e,t,-$);e=y.x,t=y.y;var b=g(r,o,-$),w=(e-(r=b.x))/2,k=(t-(o=b.y))/2,x=w*w/(i*i)+k*k/(s*s);x>1&&(i*=x=Math.sqrt(x),s*=x);var _=i*i,E=s*s,S=_*E-_*k*k-E*w*w,C=_*k*k+E*w*w,L=(a===c?-1:1)*Math.sqrt(Math.abs(S/C));f=L*i*k/s+(e+r)/2,m=L*-s*w/i+(t+o)/2,p=Math.asin(parseFloat(((t-m)/s).toFixed(9))),h=Math.asin(parseFloat(((o-m)/s).toFixed(9))),e<f&&(p=Math.PI-p),r<f&&(h=Math.PI-h),p<0&&(p=2*Math.PI+p),h<0&&(h=2*Math.PI+h),c&&p>h&&(p-=2*Math.PI),!c&&h>p&&(h-=2*Math.PI)}var A=h-p;if(Math.abs(A)>120*Math.PI/180){var I=h,z=r,M=o;h=c&&h>p?p+120*Math.PI/180*1:p+120*Math.PI/180*-1,r=f+i*Math.cos(h),o=m+s*Math.sin(h),v=n(r,o,z,M,i,s,l,0,c,[h,I,f,m])}A=h-p;var O=Math.cos(p),P=Math.sin(p),T=Math.cos(h),N=Math.sin(h),j=Math.tan(A/4),B=4/3*i*j,D=4/3*s*j,U=[e,t],R=[e+B*P,t-D*O],q=[r+B*N,o-D*T],G=[r,o];if(R[0]=2*U[0]-R[0],R[1]=2*U[1]-R[1],u)return[R,q,G].concat(v);v=[R,q,G].concat(v);for(var F=[],H=0;H<v.length;H+=3){i=g(v[H][0],v[H][1],$),s=g(v[H+1][0],v[H+1][1],$);var V=g(v[H+2][0],v[H+2][1],$);F.push([i.x,i.y,s.x,s.y,V.x,V.y])}return F};let r=void 0!==SVGPathElement.prototype.getPathData&&void 0!==SVGPathElement.prototype.setPathData;if(r)try{document.createElementNS("http://www.w3.org/2000/svg","path").setPathData([{type:"M",values:[0,0]}])}catch(e){r=!1}if(!1===r){var o={Z:"Z",M:"M",L:"L",C:"C",Q:"Q",A:"A",H:"H",V:"V",S:"S",T:"T",z:"Z",m:"m",l:"l",c:"c",q:"q",a:"a",h:"h",v:"v",s:"s",t:"t"},i=function(e){this._string=e,this._currentIndex=0,this._endIndex=this._string.length,this._prevCommand=null,this._skipOptionalSpaces()},s=-1!==window.navigator.userAgent.indexOf("MSIE ");i.prototype={parseSegment:function(){var e=this._string[this._currentIndex],t=o[e]?o[e]:null;if(null===t){if(null===this._prevCommand)return null;if(null===(t=("+"===e||"-"===e||"."===e||e>="0"&&e<="9")&&"Z"!==this._prevCommand?"M"===this._prevCommand?"L":"m"===this._prevCommand?"l":this._prevCommand:null))return null}else this._currentIndex+=1;this._prevCommand=t;var n=null,r=t.toUpperCase();return"H"===r||"V"===r?n=[this._parseNumber()]:"M"===r||"L"===r||"T"===r?n=[this._parseNumber(),this._parseNumber()]:"S"===r||"Q"===r?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"C"===r?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseNumber()]:"A"===r?n=[this._parseNumber(),this._parseNumber(),this._parseNumber(),this._parseArcFlag(),this._parseArcFlag(),this._parseNumber(),this._parseNumber()]:"Z"===r&&(this._skipOptionalSpaces(),n=[]),null===n||n.indexOf(null)>=0?null:{type:t,values:n}},hasMoreData:function(){return this._currentIndex<this._endIndex},peekSegmentType:function(){var e=this._string[this._currentIndex];return o[e]?o[e]:null},initialCommandIsMoveTo:function(){if(!this.hasMoreData())return!0;var e=this.peekSegmentType();return"M"===e||"m"===e},_isCurrentSpace:function(){var e=this._string[this._currentIndex];return e<=" "&&(" "===e||"\n"===e||"\t"===e||"\r"===e||"\f"===e)},_skipOptionalSpaces:function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex+=1;return this._currentIndex<this._endIndex},_skipOptionalSpacesOrDelimiter:function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!==this._string[this._currentIndex])&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","===this._string[this._currentIndex]&&(this._currentIndex+=1,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},_parseNumber:function(){var e=0,t=0,n=1,r=0,o=1,i=1,s=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"===this._string[this._currentIndex]?this._currentIndex+=1:this._currentIndex<this._endIndex&&"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,o=-1),this._currentIndex===this._endIndex||(this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")&&"."!==this._string[this._currentIndex])return null;for(var l=this._currentIndex;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)this._currentIndex+=1;if(this._currentIndex!==l)for(var a=this._currentIndex-1,c=1;a>=l;)t+=c*(this._string[a]-"0"),a-=1,c*=10;if(this._currentIndex<this._endIndex&&"."===this._string[this._currentIndex]){if(this._currentIndex+=1,this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)n*=10,r+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!==s&&this._currentIndex+1<this._endIndex&&("e"===this._string[this._currentIndex]||"E"===this._string[this._currentIndex])&&"x"!==this._string[this._currentIndex+1]&&"m"!==this._string[this._currentIndex+1]){if(this._currentIndex+=1,"+"===this._string[this._currentIndex]?this._currentIndex+=1:"-"===this._string[this._currentIndex]&&(this._currentIndex+=1,i=-1),this._currentIndex>=this._endIndex||this._string[this._currentIndex]<"0"||this._string[this._currentIndex]>"9")return null;for(;this._currentIndex<this._endIndex&&this._string[this._currentIndex]>="0"&&this._string[this._currentIndex]<="9";)e*=10,e+=this._string[this._currentIndex]-"0",this._currentIndex+=1}var u=t+r;return u*=o,e&&(u*=Math.pow(10,i*e)),s===this._currentIndex?null:(this._skipOptionalSpacesOrDelimiter(),u)},_parseArcFlag:function(){if(this._currentIndex>=this._endIndex)return null;var e=null,t=this._string[this._currentIndex];if(this._currentIndex+=1,"0"===t)e=0;else{if("1"!==t)return null;e=1}return this._skipOptionalSpacesOrDelimiter(),e}};var l=function(e){if(!e||0===e.length)return[];var t=new i(e),n=[];if(t.initialCommandIsMoveTo())for(;t.hasMoreData();){var r=t.parseSegment();if(null===r)break;n.push(r)}return n},a=SVGPathElement.prototype.setAttribute,c=SVGPathElement.prototype.setAttributeNS,u=SVGPathElement.prototype.removeAttribute,d=SVGPathElement.prototype.removeAttributeNS,p=window.Symbol?Symbol():"__cachedPathData",h=window.Symbol?Symbol():"__cachedNormalizedPathData";SVGPathElement.prototype.setAttribute=function(e,t){"d"===e&&(this[p]=null,this[h]=null),a.call(this,e,t)},SVGPathElement.prototype.setAttributeNS=function(e,t,n){if("d"===t){var r="http://www.w3.org/2000/svg";if(e)for(var o of this.ownerSVGElement.attributes)o.name===`xmlns:${e}`&&(r=o.value);"http://www.w3.org/2000/svg"===r&&(this[p]=null,this[h]=null)}c.call(this,e,t,n)},SVGPathElement.prototype.removeAttribute=function(e,t){"d"===e&&(this[p]=null,this[h]=null),u.call(this,e)},SVGPathElement.prototype.removeAttributeNS=function(e,t){if("d"===t){var n="http://www.w3.org/2000/svg";if(e)for(var r of this.ownerSVGElement.attributes)r.name===`xmlns:${e}`&&(n=r.value);"http://www.w3.org/2000/svg"===n&&(this[p]=null,this[h]=null)}d.call(this,e,t)},SVGPathElement.prototype.getPathData=function(n){if(n&&n.normalize){if(this[h])return e(this[h]);this[p]?o=e(this[p]):(o=l(this.getAttribute("d")||""),this[p]=e(o));var r=t(function(e){var t=[],n=null,r=null,o=null,i=null;return e.forEach((function(e){var s=e.type;if("M"===s){var l=e.values[0],a=e.values[1];t.push({type:"M",values:[l,a]}),o=l,i=a,n=l,r=a}else if("m"===s)l=n+e.values[0],a=r+e.values[1],t.push({type:"M",values:[l,a]}),o=l,i=a,n=l,r=a;else if("L"===s)l=e.values[0],a=e.values[1],t.push({type:"L",values:[l,a]}),n=l,r=a;else if("l"===s)l=n+e.values[0],a=r+e.values[1],t.push({type:"L",values:[l,a]}),n=l,r=a;else if("C"===s){var c=e.values[0],u=e.values[1],d=e.values[2],p=e.values[3];l=e.values[4],a=e.values[5],t.push({type:"C",values:[c,u,d,p,l,a]}),n=l,r=a}else"c"===s?(c=n+e.values[0],u=r+e.values[1],d=n+e.values[2],p=r+e.values[3],l=n+e.values[4],a=r+e.values[5],t.push({type:"C",values:[c,u,d,p,l,a]}),n=l,r=a):"Q"===s?(c=e.values[0],u=e.values[1],l=e.values[2],a=e.values[3],t.push({type:"Q",values:[c,u,l,a]}),n=l,r=a):"q"===s?(c=n+e.values[0],u=r+e.values[1],l=n+e.values[2],a=r+e.values[3],t.push({type:"Q",values:[c,u,l,a]}),n=l,r=a):"A"===s?(l=e.values[5],a=e.values[6],t.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],l,a]}),n=l,r=a):"a"===s?(l=n+e.values[5],a=r+e.values[6],t.push({type:"A",values:[e.values[0],e.values[1],e.values[2],e.values[3],e.values[4],l,a]}),n=l,r=a):"H"===s?(l=e.values[0],t.push({type:"H",values:[l]}),n=l):"h"===s?(l=n+e.values[0],t.push({type:"H",values:[l]}),n=l):"V"===s?(a=e.values[0],t.push({type:"V",values:[a]}),r=a):"v"===s?(a=r+e.values[0],t.push({type:"V",values:[a]}),r=a):"S"===s?(d=e.values[0],p=e.values[1],l=e.values[2],a=e.values[3],t.push({type:"S",values:[d,p,l,a]}),n=l,r=a):"s"===s?(d=n+e.values[0],p=r+e.values[1],l=n+e.values[2],a=r+e.values[3],t.push({type:"S",values:[d,p,l,a]}),n=l,r=a):"T"===s?(l=e.values[0],a=e.values[1],t.push({type:"T",values:[l,a]}),n=l,r=a):"t"===s?(l=n+e.values[0],a=r+e.values[1],t.push({type:"T",values:[l,a]}),n=l,r=a):"Z"!==s&&"z"!==s||(t.push({type:"Z",values:[]}),n=o,r=i)})),t}(o));return this[h]=e(r),r}if(this[p])return e(this[p]);var o=l(this.getAttribute("d")||"");return this[p]=e(o),o},SVGPathElement.prototype.setPathData=function(e){if(0===e.length)s?this.setAttribute("d",""):this.removeAttribute("d");else{for(var t="",n=0,r=e.length;n<r;n+=1){var o=e[n];n>0&&(t+=" "),t+=o.type,o.values&&o.values.length>0&&(t+=" "+o.values.join(" "))}this.setAttribute("d",t)}}}SVGRectElement.prototype.getPathData||(SVGRectElement.prototype.getPathData=function(e){var n=this.x.baseVal.value,r=this.y.baseVal.value,o=this.width.baseVal.value,i=this.height.baseVal.value,s=this.hasAttribute("rx")?this.rx.baseVal.value:this.ry.baseVal.value,l=this.hasAttribute("ry")?this.ry.baseVal.value:this.rx.baseVal.value;s>o/2&&(s=o/2),l>i/2&&(l=i/2);var a=[{type:"M",values:[n+s,r]},{type:"H",values:[n+o-s]},{type:"A",values:[s,l,0,0,1,n+o,r+l]},{type:"V",values:[r+i-l]},{type:"A",values:[s,l,0,0,1,n+o-s,r+i]},{type:"H",values:[n+s]},{type:"A",values:[s,l,0,0,1,n,r+i-l]},{type:"V",values:[r+l]},{type:"A",values:[s,l,0,0,1,n+s,r]},{type:"Z",values:[]}];return a=a.filter((function(e){return"A"!==e.type||0!==e.values[0]&&0!==e.values[1]})),e&&!0===e.normalize&&(a=t(a)),a}),SVGCircleElement.prototype.getPathData||(SVGCircleElement.prototype.getPathData=function(e){var n=this.cx.baseVal.value,r=this.cy.baseVal.value,o=this.r.baseVal.value,i=[{type:"M",values:[n+o,r]},{type:"A",values:[o,o,0,0,1,n,r+o]},{type:"A",values:[o,o,0,0,1,n-o,r]},{type:"A",values:[o,o,0,0,1,n,r-o]},{type:"A",values:[o,o,0,0,1,n+o,r]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(i=t(i)),i}),SVGEllipseElement.prototype.getPathData||(SVGEllipseElement.prototype.getPathData=function(e){var n=this.cx.baseVal.value,r=this.cy.baseVal.value,o=this.rx.baseVal.value,i=this.ry.baseVal.value,s=[{type:"M",values:[n+o,r]},{type:"A",values:[o,i,0,0,1,n,r+i]},{type:"A",values:[o,i,0,0,1,n-o,r]},{type:"A",values:[o,i,0,0,1,n,r-i]},{type:"A",values:[o,i,0,0,1,n+o,r]},{type:"Z",values:[]}];return e&&!0===e.normalize&&(s=t(s)),s}),SVGLineElement.prototype.getPathData||(SVGLineElement.prototype.getPathData=function(){return[{type:"M",values:[this.x1.baseVal.value,this.y1.baseVal.value]},{type:"L",values:[this.x2.baseVal.value,this.y2.baseVal.value]}]}),SVGPolylineElement.prototype.getPathData||(SVGPolylineElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e}),SVGPolygonElement.prototype.getPathData||(SVGPolygonElement.prototype.getPathData=function(){for(var e=[],t=0;t<this.points.numberOfItems;t+=1){var n=this.points.getItem(t);e.push({type:0===t?"M":"L",values:[n.x,n.y]})}return e.push({type:"Z",values:[]}),e})}();const Vo=document.getElementById("charges"),Jo=a(yt),Zo={},Ko=a(At),Wo=(e,t)=>{if(!t||"straight"===t||!e.templateLined)return e.template;const n=Je.data[t];return e.templateLined(n)},Xo=e=>{if(!e)return console.error("No patternId");const t=document.getElementById(e),[n,r,o,i]=e.split("-"),s=!!/^semy/.test(l=e)&&l.match(/semy_of_(.*?)-/)[1];var l;s&&Yo(s);const a=Ze[s?"semy":n](e,ni(r),ni(o),function(e){return"small"===e?.8:"smaller"===e?.5:"smallest"===e?.25:"big"===e?1.6:"bigger"===e?2:1}(i),s);t?.outerHTML!==a&&(t?.remove(),document.getElementById("patterns").insertAdjacentHTML("beforeend",a))};function Yo(e){"inescutcheon"===e.slice(0,12)?function(e){const t=e.length>12?e.slice(12,13).toLowerCase()+e.slice(13):a(vt),n=e.length>12?e:"inescutcheon"+t.charAt(0).toUpperCase()+t.slice(1);if(Zo[n])return;Zo[n]=!0;const r=["noldor","gondor","easterling","ironHills","urukHai","moriaOrc"].includes(t)?'author="Weta Workshop" source="www.wetanz.com" license="https://en.wikipedia.org/wiki/Fair_use"':'author=Azgaar license="https://creativecommons.org/publicdomain/zero/1.0"',o=`<g id=${n} ${r}><path transform="translate(67 67) scale(.33)" d="${qe.data[t].path}"/></g>`;Vo.insertAdjacentHTML("beforeend",o)}(e):Qo(e)}function Qo(e){if(!Zo[e])if(Zo[e]=!0,Ko[e]){const{type:t,data:n,content:r}=Ko[e];Vo.insertAdjacentHTML("beforeend",r)}else fetch("charges/"+e+".svg").then((t=>{if(t.ok)return t.text();throw new Error(`Cannot fetch charge ${e}`)})).then((e=>{const t=document.createElement("html");t.innerHTML=e;const n=t.querySelector("g"),r=t.getElementsByTagName("metadata")[0];if(r){const e=r.getAttribute("author"),t=r.getAttribute("source"),o=r.getAttribute("license");e&&n.setAttribute("author",e),t&&n.setAttribute("source",t),o&&n.setAttribute("license",o)}Vo.insertAdjacentHTML("beforeend",n.outerHTML)})).catch((e=>console.error(e.message)))}function ei(e){document.getElementById(e)?.remove(),delete Zo[e]}function ti(e){ei(e),Qo(e)}function ni(e){if(!Jo[e])throw new Error(`Tincture ${e} is not found`);return Jo[e]}function ri(e,t=3){return Math.round(e*10**t)/10**t}function oi(e){let t=e.match(/^M(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?) L(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)$/);if(t){const e=t.splice(1).map((e=>Number(e)));return{type:"line",points:[{index:0,x:e[0],y:e[1]},{index:1,x:e[2],y:e[3]}]}}if(t=e.match(/^M(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?) Q(-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?) (-?\d+(?:\.\d+)?)$/),t){const e=t.splice(1).map((e=>Number(e)));return{type:"curve",points:[{index:0,x:e[0],y:e[1]},{index:1,x:e[4],y:e[5]},{index:2,x:e[2],y:e[3]}]}}return{type:"custom"}}function ii(e,t){return"line"===e?`M${ri(t[0].x)} ${ri(t[0].y)} L${ri(t[1].x)} ${ri(t[1].y)}`:"curve"===e?`M${ri(t[0].x)} ${ri(t[0].y)} Q${ri(t[2].x)} ${ri(t[2].y)} ${ri(t[1].x)} ${ri(t[1].y)}`:null}function si(e,t,n){const r=e.slice();return r[15]=t[n],r[5]=n,r}function li(e){let t,n=Wo(Ue.data[e[0].ordinary],e[0].line)+"";return{c(){t=z("g")},m(e,r){C(e,t,r),t.innerHTML=n},p(e,r){1&r&&n!==(n=Wo(Ue.data[e[0].ordinary],e[0].line)+"")&&(t.innerHTML=n)},d(e){e&&L(t)}}}function ai(e){let t;function n(e,t){return e[0].gyronny?di:e[0].compony?ui:ci}let r=n(e),o=r(e);return{c(){o.c(),t=P()},m(e,n){o.m(e,n),C(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&L(t)}}}function ci(e){let t;return{c(){t=z("path"),j(t,"d",e[1]),j(t,"fill","none"),j(t,"stroke",e[2]),j(t,"transform",e[9])},m(e,n){C(e,t,n)},p(e,n){2&n&&j(t,"d",e[1]),4&n&&j(t,"stroke",e[2]),512&n&&j(t,"transform",e[9])},d(e){e&&L(t)}}}function ui(e){let t,n,r;return{c(){t=z("path"),n=z("path"),j(t,"d",e[1]),j(t,"fill","none"),j(t,"stroke",e[2]),j(t,"transform",e[9]),j(n,"d",e[1]),j(n,"fill","none"),j(n,"stroke",e[4]),j(n,"stroke-dasharray",r=e[6].join(" ")),j(n,"transform",e[9])},m(e,r){C(e,t,r),C(e,n,r)},p(e,o){2&o&&j(t,"d",e[1]),4&o&&j(t,"stroke",e[2]),512&o&&j(t,"transform",e[9]),2&o&&j(n,"d",e[1]),16&o&&j(n,"stroke",e[4]),64&o&&r!==(r=e[6].join(" "))&&j(n,"stroke-dasharray",r),512&o&&j(n,"transform",e[9])},d(e){e&&L(t),e&&L(n)}}}function di(e){let t,n,r,o,i,s,l=Array(e[11]/2),a=[];for(let t=0;t<l.length;t+=1)a[t]=pi(si(e,l,t));return{c(){t=z("mask"),n=z("path"),o=z("path"),i=z("g");for(let e=0;e<a.length;e+=1)a[e].c();j(n,"d",e[1]),j(n,"fill","none"),j(n,"stroke","white"),j(t,"id",r="mask_"+e[5]),j(o,"d",e[1]),j(o,"fill","none"),j(o,"stroke",e[2]),j(o,"transform",e[9]),j(i,"fill",e[4]),j(i,"mask",s="url(#mask_"+e[5]+")"),j(i,"transform",e[9])},m(e,r){C(e,t,r),_(t,n),C(e,o,r),C(e,i,r);for(let e=0;e<a.length;e+=1)a[e].m(i,null)},p(e,c){if(2&c&&j(n,"d",e[1]),32&c&&r!==(r="mask_"+e[5])&&j(t,"id",r),2&c&&j(o,"d",e[1]),4&c&&j(o,"stroke",e[2]),512&c&&j(o,"transform",e[9]),4096&c){let t;for(l=Array(e[11]/2),t=0;t<l.length;t+=1){const n=si(e,l,t);a[t]?a[t].p(n,c):(a[t]=pi(n),a[t].c(),a[t].m(i,null))}for(;t<a.length;t+=1)a[t].d(1);a.length=l.length}16&c&&j(i,"fill",e[4]),32&c&&s!==(s="url(#mask_"+e[5]+")")&&j(i,"mask",s),512&c&&j(i,"transform",e[9])},d(e){e&&L(t),e&&L(o),e&&L(i),A(a,e)}}}function pi(t){let n,r;return{c(){n=z("polygon"),j(n,"points",r="100,100 "+(100+200*Math.cos(2*t[5]*t[12]))+","+(100+200*Math.sin(2*t[5]*t[12]))+" "+(100+200*Math.cos((2*t[5]+1)*t[12]))+","+(100+200*Math.sin((2*t[5]+1)*t[12])))},m(e,t){C(e,n,t)},p:e,d(e){e&&L(n)}}}function hi(t){let n,r,s,l;function a(e,t){return"bordure"===e[0].ordinary||"orle"===e[0].ordinary?ai:li}let c=a(t),u=c(t);return{c(){n=z("g"),u.c(),j(n,"class","ordinary"),j(n,"i",t[5]),j(n,"transform",r=Fo(t[0])),j(n,"fill",t[2]),j(n,"stroke",t[7]),j(n,"stroke-width",t[8])},m(e,r){C(e,n,r),u.m(n,null),s||(l=[T(n,"mousedown",t[10]),T(n,"mouseenter",(function(){i("Edit"===t[3]?Ao("menu","ordinary",t[5]):null)&&("Edit"===t[3]?Ao("menu","ordinary",t[5]):null).apply(this,arguments)})),T(n,"mouseleave",(function(){i("Edit"===t[3]?Io("menu","ordinary",t[5]):null)&&("Edit"===t[3]?Io("menu","ordinary",t[5]):null).apply(this,arguments)}))],s=!0)},p(e,[o]){c===(c=a(t=e))&&u?u.p(t,o):(u.d(1),u=c(t),u&&(u.c(),u.m(n,null))),32&o&&j(n,"i",t[5]),1&o&&r!==(r=Fo(t[0]))&&j(n,"transform",r),4&o&&j(n,"fill",t[2]),128&o&&j(n,"stroke",t[7]),256&o&&j(n,"stroke-width",t[8])},i:e,o:e,d(e){e&&L(n),u.d(),s=!1,o(l)}}}function fi(e,t,n){let r;c(e,vt,(e=>n(14,r=e)));let o,i,s,{coa:l,ordinary:a,i:u,shieldPath:d,t:p,type:h}=t,{t2:f}=t;const m=2*Math.round(a.gyronny/2),g=2*Math.PI/m;let $;return e.$$set=e=>{"coa"in e&&n(13,l=e.coa),"ordinary"in e&&n(0,a=e.ordinary),"i"in e&&n(5,u=e.i),"shieldPath"in e&&n(1,d=e.shieldPath),"t"in e&&n(2,p=e.t),"type"in e&&n(3,h=e.type),"t2"in e&&n(4,f=e.t2)},e.$$.update=()=>{if(1&e.$$.dirty&&(n(7,o=a.stroke||"none"),"bordure"===a.ordinary?n(8,i=33.3):"orle"===a.ordinary?(n(8,i=10),n(9,s="translate(15 15) scale(.85)")):n(8,i=a.strokeWidth||1)),24643&e.$$.dirty&&(n(6,$=[0]),a.compony>0)){const e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",d);const t=e.getPathData(),n=qe.data[l.shield||r].segments||Array(t.length-2).fill(1);let o=1,i="M"+t[0].values[0]+","+t[0].values[1];for(let e=0;e<n.length;e++){if(0===n[e])continue;let r=i;for(let i=0;i<n[e];i++)r+=t[o+i].type+t[o+i].values;o+=n[e];const s=document.createElementNS("http://www.w3.org/2000/svg","path");s.setAttribute("d",r);const l=s.getTotalLength(),c=s.getPointAtLength(l);i="M"+c.x+","+c.y;let u=2*Math.round(.5+l/a.compony/2)-1;1===n.length&&(u=2*Math.round(l/a.compony/2));const d=l/u;for($.push($.pop()+d);--u>0;)$.push(d)}$.pop(),$.push(1e3),$.length%2&&$.push(0)}},[a,d,p,h,f,u,$,o,i,s,function(e){"Edit"===h&&qo(e,a,l)},m,g,l,r]}class mi extends je{constructor(e){super(),Ne(this,e,fi,hi,s,{coa:13,ordinary:0,i:5,shieldPath:1,t:2,type:3,t2:4})}}function gi(e,t,n){const r=e.slice();return r[13]=t[n],r}function $i(e){let t,n,r;return{c(){t=z("use"),B(t,"xlink:href",n="#"+e[7]),j(t,"transform",r=Ho(e[0],e[13],e[8]))},m(e,n){C(e,t,n)},p(e,o){128&o&&n!==(n="#"+e[7])&&B(t,"xlink:href",n),769&o&&r!==(r=Ho(e[0],e[13],e[8]))&&j(t,"transform",r)},d(e){e&&L(t)}}}function vi(t){let n,r,s,l,a,c=t[9],u=[];for(let e=0;e<c.length;e+=1)u[e]=$i(gi(t,c,e));return{c(){n=z("g");for(let e=0;e<u.length;e+=1)u[e].c();j(n,"class","charge"),j(n,"i",t[1]),j(n,"charge",t[7]),j(n,"fill",t[2]),j(n,"transform",r=Fo(t[0])),j(n,"stroke",s=t[0].stroke||"#000"),q(n,"--secondary",t[3]||t[2]),q(n,"--tertiary",t[4]||t[2]),q(n,"--stroke",t[0].stroke||"#000"),q(n,"--background",t[5]?"none":"block")},m(e,r){C(e,n,r);for(let e=0;e<u.length;e+=1)u[e].m(n,null);l||(a=[T(n,"mousedown",t[10]),T(n,"mouseenter",(function(){i("Edit"===t[6]?Ao("menu","charge",t[1]):null)&&("Edit"===t[6]?Ao("menu","charge",t[1]):null).apply(this,arguments)})),T(n,"mouseleave",(function(){i("Edit"===t[6]?Io("menu","charge",t[1]):null)&&("Edit"===t[6]?Io("menu","charge",t[1]):null).apply(this,arguments)}))],l=!0)},p(e,[o]){if(t=e,897&o){let e;for(c=t[9],e=0;e<c.length;e+=1){const r=gi(t,c,e);u[e]?u[e].p(r,o):(u[e]=$i(r),u[e].c(),u[e].m(n,null))}for(;e<u.length;e+=1)u[e].d(1);u.length=c.length}2&o&&j(n,"i",t[1]),128&o&&j(n,"charge",t[7]),4&o&&j(n,"fill",t[2]),1&o&&r!==(r=Fo(t[0]))&&j(n,"transform",r),1&o&&s!==(s=t[0].stroke||"#000")&&j(n,"stroke",s),12&o&&q(n,"--secondary",t[3]||t[2]),20&o&&q(n,"--tertiary",t[4]||t[2]),1&o&&q(n,"--stroke",t[0].stroke||"#000"),32&o&&q(n,"--background",t[5]?"none":"block")},i:e,o:e,d(e){e&&L(n),A(u,e),l=!1,o(a)}}}function yi(e,t,n){let r;c(e,vt,(e=>n(12,r=e)));let o,i,s,{coa:l}=t,{charge:a}=t,{i:u}=t,{t:d}=t,{t2:p}=t,{t3:h}=t,{hideBackground:f=!1}=t,{type:m}=t;return e.$$set=e=>{"coa"in e&&n(11,l=e.coa),"charge"in e&&n(0,a=e.charge),"i"in e&&n(1,u=e.i),"t"in e&&n(2,d=e.t),"t2"in e&&n(3,p=e.t2),"t3"in e&&n(4,h=e.t3),"hideBackground"in e&&n(5,f=e.hideBackground),"type"in e&&n(6,m=e.type)},e.$$.update=()=>{if(6144&e.$$.dirty&&n(8,s=l.shield||r),257&e.$$.dirty){const e=qe.data[s].positions||qe.data.spanish.positions;n(9,i=[...new Set(a.p)].filter((t=>e[t])))}385&e.$$.dirty&&(n(7,o=a.charge),"inescutcheon"===o&&n(7,o="inescutcheon"+s.charAt(0).toUpperCase()+s.slice(1)))},[a,u,d,p,h,f,m,o,s,i,function(e){"Edit"===m&&qo(e,a,l)},l,r]}class bi extends je{constructor(e){super(),Ne(this,e,yi,vi,s,{coa:11,charge:0,i:1,t:2,t2:3,t3:4,hideBackground:5,type:6})}}function wi(e,t,n){const r=e.slice();return r[11]=t[n],r}function ki(e,t,n){const r=e.slice();return r[14]=t[n],r[16]=n,r}function xi(e){let t,n,r,o=e[14]+"";return{c(){t=z("tspan"),n=M(o),j(t,"x","0"),j(t,"dy",r=(e[16]>0?1:-.5*(e[5].length-1))+"em")},m(e,r){C(e,t,r),_(t,n)},p(e,i){32&i&&o!==(o=e[14]+"")&&U(n,o),32&i&&r!==(r=(e[16]>0?1:-.5*(e[5].length-1))+"em")&&j(t,"dy",r)},d(e){e&&L(t)}}}function _i(e){let t,n,r,o=e[4].points||[],i=[];for(let t=0;t<o.length;t+=1)i[t]=Ei(wi(e,o,t));return{c(){t=z("g");for(let e=0;e<i.length;e+=1)i[e].c();j(t,"class","points svelte-10909kg")},m(e,n){C(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null);r=!0},p(e,n){if(272&n){let r;for(o=e[4].points||[],r=0;r<o.length;r+=1){const s=wi(e,o,r);i[r]?i[r].p(s,n):(i[r]=Ei(s),i[r].c(),i[r].m(t,null))}for(;r<i.length;r+=1)i[r].d(1);i.length=o.length}},i(e){r||(e&&ae((()=>{n||(n=Se(t,io,{},!0)),n.run(1)})),r=!0)},o(e){e&&(n||(n=Se(t,io,{},!1)),n.run(0)),r=!1},d(e){e&&L(t),A(i,e),e&&n&&n.end()}}}function Ei(e){let t,n,r,o;return{c(){t=z("circle"),j(t,"transform",n="translate("+e[11].x+" "+e[11].y+")"),j(t,"r","3"),j(t,"class","svelte-10909kg")},m(n,s){var l;C(n,t,s),r||(o=T(t,"mousedown",(l=function(){i(e[8](e[11]))&&e[8](e[11]).apply(this,arguments)},function(e){return e.stopPropagation(),l.call(this,e)})),r=!0)},p(r,o){e=r,16&o&&n!==(n="translate("+e[11].x+" "+e[11].y+")")&&j(t,"transform",n)},d(e){e&&L(t),r=!1,o()}}}function Si(e){let t,n,r,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b=e[5],w=[];for(let t=0;t<b.length;t+=1)w[t]=xi(ki(e,b,t));let k=e[6]&&_i(e);return{c(){t=z("g"),n=z("g"),r=z("path"),a=z("text"),c=z("textPath");for(let e=0;e<w.length;e+=1)w[e].c();k&&k.c(),j(r,"id",e[1]),j(r,"class","text-path svelte-10909kg"),j(r,"fill","none"),j(r,"stroke",s=e[6]?"black":"none"),j(r,"d",l=e[0].path),j(c,"href",u="#"+e[1]),j(c,"text-anchor","middle"),j(c,"startOffset","50%"),j(a,"letter-spacing",d=e[0].spacing),j(a,"fill",p=e[0].color),j(a,"font-family",h=e[0].font),j(a,"font-size",f=e[0].size+"px"),j(a,"font-weight",m=e[0].bold?"bold":"normal"),j(a,"font-style",g=e[0].italic?"italic":"normal"),j(a,"dominant-baseline","middle"),j(a,"style",$=e[0].shadow?`text-shadow: ${e[0].shadow.x}px ${e[0].shadow.y}px ${e[0].shadow.blur}px ${e[0].shadow.color}`:null),j(n,"class","inscription svelte-10909kg"),j(n,"i",e[2]),j(n,"tabindex","-1"),j(t,"transform","translate(100, 100)"),j(t,"class","svelte-10909kg")},m(o,s){C(o,t,s),_(t,n),_(n,r),_(n,a),_(a,c);for(let e=0;e<w.length;e+=1)w[e].m(c,null);k&&k.m(n,null),v||(y=[T(n,"mousedown",e[7]),T(n,"mouseenter",(function(){i("Edit"===e[3]?Ao("menu","inscription",e[2]):null)&&("Edit"===e[3]?Ao("menu","inscription",e[2]):null).apply(this,arguments)})),T(n,"mouseleave",(function(){i("Edit"===e[3]?Io("menu","inscription",e[2]):null)&&("Edit"===e[3]?Io("menu","inscription",e[2]):null).apply(this,arguments)}))],v=!0)},p(t,[o]){if(e=t,2&o&&j(r,"id",e[1]),64&o&&s!==(s=e[6]?"black":"none")&&j(r,"stroke",s),1&o&&l!==(l=e[0].path)&&j(r,"d",l),32&o){let t;for(b=e[5],t=0;t<b.length;t+=1){const n=ki(e,b,t);w[t]?w[t].p(n,o):(w[t]=xi(n),w[t].c(),w[t].m(c,null))}for(;t<w.length;t+=1)w[t].d(1);w.length=b.length}2&o&&u!==(u="#"+e[1])&&j(c,"href",u),1&o&&d!==(d=e[0].spacing)&&j(a,"letter-spacing",d),1&o&&p!==(p=e[0].color)&&j(a,"fill",p),1&o&&h!==(h=e[0].font)&&j(a,"font-family",h),1&o&&f!==(f=e[0].size+"px")&&j(a,"font-size",f),1&o&&m!==(m=e[0].bold?"bold":"normal")&&j(a,"font-weight",m),1&o&&g!==(g=e[0].italic?"italic":"normal")&&j(a,"font-style",g),1&o&&$!==($=e[0].shadow?`text-shadow: ${e[0].shadow.x}px ${e[0].shadow.y}px ${e[0].shadow.blur}px ${e[0].shadow.color}`:null)&&j(a,"style",$),e[6]?k?(k.p(e,o),64&o&&we(k,1)):(k=_i(e),k.c(),we(k,1),k.m(n,null)):k&&(ye(),ke(k,1,1,(()=>{k=null})),be()),4&o&&j(n,"i",e[2])},i(e){we(k)},o(e){ke(k)},d(e){e&&L(t),A(w,e),k&&k.d(),v=!1,o(y)}}}function Ci(e,t,n){let r,o,i;c(e,Ot,(e=>n(10,i=e)));let{coa:s}=t,{inscription:l}=t,{pathId:a}=t,{i:u}=t,{type:d}=t,p=oi(l.path);return e.$$set=e=>{"coa"in e&&n(9,s=e.coa),"inscription"in e&&n(0,l=e.inscription),"pathId"in e&&n(1,a=e.pathId),"i"in e&&n(2,u=e.i),"type"in e&&n(3,d=e.type)},e.$$.update=()=>{1028&e.$$.dirty&&n(6,r=i.selectedPath===u),1&e.$$.dirty&&n(5,o=l.text.split("|"))},[l,a,u,d,p,o,r,e=>{"Edit"===d&&"custom"!=p.type&&(g(Ot,i.selectedPath=u,i),g(Ot,i.pathChangeMode=-1,i),qo(e,{x:0,y:0},s,{move:!0,resize:!1,rotate:!1,onEnd:function(e){p.points.forEach((t=>{t.x+=e.x,t.y+=e.y})),n(0,l.path=ii(p.type,p.points),l)}}))},e=>t=>{"Edit"===d&&(g(Ot,i.selectedPath=u,i),g(Ot,i.pathChangeMode=e.index,i),qo(t,e,s,{move:!0,resize:!1,rotate:!1,onMove:function(e,t){n(4,p.points[t.index]=t,p),n(0,l.path=ii(p.type,p.points),l)}}))},s,i]}class Li extends je{constructor(e){super(),Ne(this,e,Ci,Si,s,{coa:9,inscription:0,pathId:1,i:2,type:3})}}function Ai(e,t,n){const r=e.slice();return r[21]=t[n],r[23]=n,r}function Ii(e,t,n){const r=e.slice();return r[24]=t[n],r[23]=n,r}function zi(e,t,n){const r=e.slice();return r[24]=t[n],r[23]=n,r}function Mi(e,t,n){const r=e.slice();return r[27]=t[n],r[23]=n,r}function Oi(e,t,n){const r=e.slice();return r[24]=t[n],r[23]=n,r}function Pi(e,t,n){const r=e.slice();return r[24]=t[n],r[23]=n,r}function Ti(e,t,n){const r=e.slice();return r[27]=t[n],r[23]=n,r}function Ni(e,t,n){const r=e.slice();return r[27]=t[n],r[23]=n,r}function ji(e,t,n){const r=e.slice();return r[24]=t[n],r[23]=n,r}function Bi(e,t,n){const r=e.slice();return r[24]=t[n],r[23]=n,r}function Di(e,t,n){const r=e.slice();return r[27]=t[n],r[23]=n,r}function Ui(e,t,n){const r=e.slice();return r[27]=t[n],r[23]=n,r}function Ri(e,t,n){const r=e.slice();return r[24]=t[n],r[23]=n,r}function qi(e,t,n){const r=e.slice();return r[24]=t[n],r[23]=n,r}function Gi(e,t,n){const r=e.slice();return r[27]=t[n],r[23]=n,r}function Fi(e,t,n){const r=e.slice();return r[24]=t[n],r[23]=n,r}function Hi(e,t,n){const r=e.slice();return r[24]=t[n],r[23]=n,r}function Vi(e){let t,n,r=("below"===e[24].outside||"around"===e[24].outside)&&function(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[24].t),t2:e[5](e[24].t2),t3:e[5](e[24].t3),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[24].t)),32&n[0]&&(r.t2=e[5](e[24].t2)),32&n[0]&&(r.t3=e[5](e[24].t3)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}(e);return{c(){r&&r.c(),t=P()},m(e,o){r&&r.m(e,o),C(e,t,o),n=!0},p(e,t){"below"!==e[24].outside&&"around"!==e[24].outside||r.p(e,t)},i(e){n||(we(r),n=!0)},o(e){ke(r),n=!1},d(e){r&&r.d(e),e&&L(t)}}}function Ji(e){let t,n,r="below"===e[24].outside&&e[24].layered&&function(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[24].t),t2:e[5](e[24].t2),t3:e[5](e[24].t3),hideBackground:!0,type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[24].t)),32&n[0]&&(r.t2=e[5](e[24].t2)),32&n[0]&&(r.t3=e[5](e[24].t3)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}(e);return{c(){r&&r.c(),t=P()},m(e,o){r&&r.m(e,o),C(e,t,o),n=!0},p(e,t){"below"===e[24].outside&&e[24].layered&&r.p(e,t)},i(e){n||(we(r),n=!0)},o(e){ke(r),n=!1},d(e){r&&r.d(e),e&&L(t)}}}function Zi(e){let t,n;return t=new mi({props:{coa:e[0],ordinary:e[27],i:e[23],shieldPath:e[8],t:e[5](e[10].t),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),256&n[0]&&(r.shieldPath=e[8]),32&n[0]&&(r.t=e[5](e[10].t)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Ki(e){let t,n;return t=new mi({props:{coa:e[0],ordinary:e[27],i:e[23],shieldPath:e[8],t:e[5](e[27].t),t2:e[5](e[27].t2),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),256&n[0]&&(r.shieldPath=e[8]),32&n[0]&&(r.t=e[5](e[27].t)),32&n[0]&&(r.t2=e[5](e[27].t2)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Wi(e){let t,n,r,o;const i=[Ki,Zi],s=[];return~(t=function(e,t){return"field"===e[27].divided?0:"counter"===e[27].divided?1:-1}(e))&&(n=s[t]=i[t](e)),{c(){n&&n.c(),r=P()},m(e,n){~t&&s[t].m(e,n),C(e,r,n),o=!0},p(e,t){n&&n.p(e,t)},i(e){o||(we(n),o=!0)},o(e){ke(n),o=!1},d(e){~t&&s[t].d(e),e&&L(r)}}}function Xi(e){let t,n;return{c(){t=z("rect"),j(t,"class","diaper"),j(t,"x","0"),j(t,"y","0"),j(t,"width","200"),j(t,"height","200"),j(t,"fill",n="url(#"+e[4]+")"),q(t,"pointer-events","none")},m(e,n){C(e,t,n)},p(e,r){16&r[0]&&n!==(n="url(#"+e[4]+")")&&j(t,"fill",n)},d(e){e&&L(t)}}}function Yi(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[10].t),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[10].t)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Qi(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[24].t),t2:e[5](e[24].t2),t3:e[5](e[24].t3),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[24].t)),32&n[0]&&(r.t2=e[5](e[24].t2)),32&n[0]&&(r.t3=e[5](e[24].t3)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function es(e){let t,n,r,o;const i=[Qi,Yi],s=[];return~(t=function(e,t){return"field"===e[24].divided?0:"counter"===e[24].divided?1:-1}(e))&&(n=s[t]=i[t](e)),{c(){n&&n.c(),r=P()},m(e,n){~t&&s[t].m(e,n),C(e,r,n),o=!0},p(e,t){n&&n.p(e,t)},i(e){o||(we(n),o=!0)},o(e){ke(n),o=!1},d(e){~t&&s[t].d(e),e&&L(r)}}}function ts(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[10].t),type:e[3],hideBackground:!0}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[10].t)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function ns(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[24].t),t2:e[5](e[24].t2),t3:e[5](e[24].t3),hideBackground:!0,type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[24].t)),32&n[0]&&(r.t2=e[5](e[24].t2)),32&n[0]&&(r.t3=e[5](e[24].t3)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function rs(e){let t,n,r,o;const i=[ns,ts],s=[];return~(t=function(e,t){return"field"===e[24].divided&&e[24].layered?0:"counter"===e[24].divided&&e[24].layered?1:-1}(e))&&(n=s[t]=i[t](e)),{c(){n&&n.c(),r=P()},m(e,n){~t&&s[t].m(e,n),C(e,r,n),o=!0},p(e,t){n&&n.p(e,t)},i(e){o||(we(n),o=!0)},o(e){ke(n),o=!1},d(e){~t&&s[t].d(e),e&&L(r)}}}function os(e){let t,n;return t=new mi({props:{coa:e[0],ordinary:e[27],i:e[23],shieldPath:e[8],t:e[5](e[10].t),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),256&n[0]&&(r.shieldPath=e[8]),32&n[0]&&(r.t=e[5](e[10].t)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function is(e){let t,n;return t=new mi({props:{coa:e[0],ordinary:e[27],i:e[23],shieldPath:e[8],t:e[5](e[27].t),t2:e[5](e[27].t2),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),256&n[0]&&(r.shieldPath=e[8]),32&n[0]&&(r.t=e[5](e[27].t)),32&n[0]&&(r.t2=e[5](e[27].t2)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function ss(e){let t,n,r,o;const i=[is,os],s=[];return~(t=function(e,t){return"field"===e[27].divided?0:"counter"===e[27].divided?1:-1}(e))&&(n=s[t]=i[t](e)),{c(){n&&n.c(),r=P()},m(e,n){~t&&s[t].m(e,n),C(e,r,n),o=!0},p(e,t){n&&n.p(e,t)},i(e){o||(we(n),o=!0)},o(e){ke(n),o=!1},d(e){~t&&s[t].d(e),e&&L(r)}}}function ls(e){let t,n;return t=new mi({props:{coa:e[0],ordinary:e[27],i:e[23],shieldPath:e[8],t:e[5](e[0].t1),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),256&n[0]&&(r.shieldPath=e[8]),33&n[0]&&(r.t=e[5](e[0].t1)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function as(e){let t,n;return t=new mi({props:{coa:e[0],ordinary:e[27],i:e[23],shieldPath:e[8],t:e[5](e[27].t),t2:e[5](e[27].t2),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),256&n[0]&&(r.shieldPath=e[8]),32&n[0]&&(r.t=e[5](e[27].t)),32&n[0]&&(r.t2=e[5](e[27].t2)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function cs(e){let t,n,r,o;const i=[as,ls],s=[];return~(t=function(e,t){return"division"===e[27].divided?0:"counter"===e[27].divided?1:-1}(e))&&(n=s[t]=i[t](e)),{c(){n&&n.c(),r=P()},m(e,n){~t&&s[t].m(e,n),C(e,r,n),o=!0},p(e,t){n&&n.p(e,t)},i(e){o||(we(n),o=!0)},o(e){ke(n),o=!1},d(e){~t&&s[t].d(e),e&&L(r)}}}function us(e){let t,n;return{c(){t=z("rect"),j(t,"class","diaper"),j(t,"x","0"),j(t,"y","0"),j(t,"width","200"),j(t,"height","200"),j(t,"fill",n="url(#"+e[4]+")"),q(t,"pointer-events","none")},m(e,n){C(e,t,n)},p(e,r){16&r[0]&&n!==(n="url(#"+e[4]+")")&&j(t,"fill",n)},d(e){e&&L(t)}}}function ds(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[0].t1),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),33&n[0]&&(r.t=e[5](e[0].t1)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function ps(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[24].t),t2:e[5](e[24].t2),t3:e[5](e[24].t3),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[24].t)),32&n[0]&&(r.t2=e[5](e[24].t2)),32&n[0]&&(r.t3=e[5](e[24].t3)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function hs(e){let t,n,r,o;const i=[ps,ds],s=[];return~(t=function(e,t){return"division"===e[24].divided?0:"counter"===e[24].divided?1:-1}(e))&&(n=s[t]=i[t](e)),{c(){n&&n.c(),r=P()},m(e,n){~t&&s[t].m(e,n),C(e,r,n),o=!0},p(e,t){n&&n.p(e,t)},i(e){o||(we(n),o=!0)},o(e){ke(n),o=!1},d(e){~t&&s[t].d(e),e&&L(r)}}}function fs(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[0].t1),hideBackground:!0,type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),33&n[0]&&(r.t=e[5](e[0].t1)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function ms(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[24].t),t2:e[5](e[24].t2),t3:e[5](e[24].t3),hideBackground:!0,type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[24].t)),32&n[0]&&(r.t2=e[5](e[24].t2)),32&n[0]&&(r.t3=e[5](e[24].t3)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function gs(e){let t,n,r,o;const i=[ms,fs],s=[];return~(t=function(e,t){return"division"===e[24].divided&&e[24].layered?0:"counter"===e[24].divided&&e[24].layered?1:-1}(e))&&(n=s[t]=i[t](e)),{c(){n&&n.c(),r=P()},m(e,n){~t&&s[t].m(e,n),C(e,r,n),o=!0},p(e,t){n&&n.p(e,t)},i(e){o||(we(n),o=!0)},o(e){ke(n),o=!1},d(e){~t&&s[t].d(e),e&&L(r)}}}function $s(e){let t,n;return t=new mi({props:{coa:e[0],ordinary:e[27],i:e[23],shieldPath:e[8],t:e[5](e[0].t1),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),256&n[0]&&(r.shieldPath=e[8]),33&n[0]&&(r.t=e[5](e[0].t1)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function vs(e){let t,n;return t=new mi({props:{coa:e[0],ordinary:e[27],i:e[23],shieldPath:e[8],t:e[5](e[27].t),t2:e[5](e[27].t2),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),256&n[0]&&(r.shieldPath=e[8]),32&n[0]&&(r.t=e[5](e[27].t)),32&n[0]&&(r.t2=e[5](e[27].t2)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function ys(e){let t,n,r,o;const i=[vs,$s],s=[];return~(t=function(e,t){return"division"===e[27].divided?0:"counter"===e[27].divided?1:-1}(e))&&(n=s[t]=i[t](e)),{c(){n&&n.c(),r=P()},m(e,n){~t&&s[t].m(e,n),C(e,r,n),o=!0},p(e,t){n&&n.p(e,t)},i(e){o||(we(n),o=!0)},o(e){ke(n),o=!1},d(e){~t&&s[t].d(e),e&&L(r)}}}function bs(e){let t,n,r=!e[27].divided&&function(e){let t,n;return t=new mi({props:{coa:e[0],ordinary:e[27],i:e[23],shieldPath:e[8],t:e[5](e[27].t),t2:e[5](e[27].t2),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),256&n[0]&&(r.shieldPath=e[8]),32&n[0]&&(r.t=e[5](e[27].t)),32&n[0]&&(r.t2=e[5](e[27].t2)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}(e);return{c(){r&&r.c(),t=P()},m(e,o){r&&r.m(e,o),C(e,t,o),n=!0},p(e,t){e[27].divided||r.p(e,t)},i(e){n||(we(r),n=!0)},o(e){ke(r),n=!1},d(e){r&&r.d(e),e&&L(t)}}}function ws(e){let t,n;return{c(){t=z("rect"),j(t,"class","diaper"),j(t,"x","0"),j(t,"y","0"),j(t,"width","200"),j(t,"height","200"),j(t,"fill",n="url(#"+e[4]+")"),q(t,"pointer-events","none")},m(e,n){C(e,t,n)},p(e,r){16&r[0]&&n!==(n="url(#"+e[4]+")")&&j(t,"fill",n)},d(e){e&&L(t)}}}function ks(e){let t,n,r=!e[24].outside&&(!e[24].divided||!e[10])&&function(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[24].t),t2:e[5](e[24].t2),t3:e[5](e[24].t3),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[24].t)),32&n[0]&&(r.t2=e[5](e[24].t2)),32&n[0]&&(r.t3=e[5](e[24].t3)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}(e);return{c(){r&&r.c(),t=P()},m(e,o){r&&r.m(e,o),C(e,t,o),n=!0},p(e,t){e[24].outside||e[24].divided&&e[10]||r.p(e,t)},i(e){n||(we(r),n=!0)},o(e){ke(r),n=!1},d(e){r&&r.d(e),e&&L(t)}}}function xs(e){let t,n,r=!e[24].outside&&(!e[24].divided||!e[10])&&e[24].layered&&function(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[24].t),t2:e[5](e[24].t2),t3:e[5](e[24].t3),hideBackground:!0,type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[24].t)),32&n[0]&&(r.t2=e[5](e[24].t2)),32&n[0]&&(r.t3=e[5](e[24].t3)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}(e);return{c(){r&&r.c(),t=P()},m(e,o){r&&r.m(e,o),C(e,t,o),n=!0},p(e,t){e[24].outside||e[24].divided&&e[10]||!e[24].layered||r.p(e,t)},i(e){n||(we(r),n=!0)},o(e){ke(r),n=!1},d(e){r&&r.d(e),e&&L(t)}}}function _s(e){let t,n,r=!e[27].divided&&function(e){let t,n;return t=new mi({props:{coa:e[0],ordinary:e[27],i:e[23],shieldPath:e[8],t:e[5](e[27].t),t2:e[5](e[27].t2),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),256&n[0]&&(r.shieldPath=e[8]),32&n[0]&&(r.t=e[5](e[27].t)),32&n[0]&&(r.t2=e[5](e[27].t2)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}(e);return{c(){r&&r.c(),t=P()},m(e,o){r&&r.m(e,o),C(e,t,o),n=!0},p(e,t){e[27].divided||r.p(e,t)},i(e){n||(we(r),n=!0)},o(e){ke(r),n=!1},d(e){r&&r.d(e),e&&L(t)}}}function Es(e){let t,n,r="above"===e[24].outside&&function(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[24].t),t2:e[5](e[24].t2),t3:e[5](e[24].t3),type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[24].t)),32&n[0]&&(r.t2=e[5](e[24].t2)),32&n[0]&&(r.t3=e[5](e[24].t3)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}(e);return{c(){r&&r.c(),t=P()},m(e,o){r&&r.m(e,o),C(e,t,o),n=!0},p(e,t){"above"===e[24].outside&&r.p(e,t)},i(e){n||(we(r),n=!0)},o(e){ke(r),n=!1},d(e){r&&r.d(e),e&&L(t)}}}function Ss(e){let t,n,r=("above"===e[24].outside&&e[24].layered||"around"===e[24].outside)&&function(e){let t,n;return t=new bi({props:{coa:e[0],charge:e[24],i:e[23],t:e[5](e[24].t),t2:e[5](e[24].t2),t3:e[5](e[24].t3),hideBackground:!0,type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),32&n[0]&&(r.t=e[5](e[24].t)),32&n[0]&&(r.t2=e[5](e[24].t2)),32&n[0]&&(r.t3=e[5](e[24].t3)),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}(e);return{c(){r&&r.c(),t=P()},m(e,o){r&&r.m(e,o),C(e,t,o),n=!0},p(e,t){("above"===e[24].outside&&e[24].layered||"around"===e[24].outside)&&r.p(e,t)},i(e){n||(we(r),n=!0)},o(e){ke(r),n=!1},d(e){r&&r.d(e),e&&L(t)}}}function Cs(e){let t,n;return t=new Li({props:{coa:e[0],inscription:e[21],i:e[23],pathId:"inscription_"+e[9]+"_"+e[23],type:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.coa=e[0]),8&n[0]&&(r.type=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Ls(t){let n,r,o,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w,k,x,E,S=t[10]&&"no"!==t[10].division&&function(t){let n,r,o=Wo(Ke.data[t[10].division],t[10].line)+"";return{c(){n=z("clipPath"),j(n,"id",r="division_"+t[9])},m(e,t){C(e,n,t),n.innerHTML=o},p:e,d(e){e&&L(n)}}}(t),I=t[11],T=[];for(let e=0;e<I.length;e+=1)T[e]=Vi(Hi(t,I,e));const N=e=>ke(T[e],1,1,(()=>{T[e]=null}));let B=t[11],D=[];for(let e=0;e<B.length;e+=1)D[e]=Ji(Fi(t,B,e));const U=e=>ke(D[e],1,1,(()=>{D[e]=null}));let R=t[10]&&"no"!==t[10].division&&function(e){let t,n,r,o,i,s,l,a,c,u,d,p,h,f=e[13],m=[];for(let t=0;t<f.length;t+=1)m[t]=Wi(Gi(e,f,t));const g=e=>ke(m[e],1,1,(()=>{m[e]=null}));let $="field"===e[7]&&Xi(e),v=e[11],y=[];for(let t=0;t<v.length;t+=1)y[t]=es(qi(e,v,t));const b=e=>ke(y[e],1,1,(()=>{y[e]=null}));let w=e[11],k=[];for(let t=0;t<w.length;t+=1)k[t]=rs(Ri(e,w,t));const x=e=>ke(k[e],1,1,(()=>{k[e]=null}));let E=e[14],S=[];for(let t=0;t<E.length;t+=1)S[t]=ss(Ui(e,E,t));const I=e=>ke(S[e],1,1,(()=>{S[e]=null}));let M=e[13],O=[];for(let t=0;t<M.length;t+=1)O[t]=cs(Di(e,M,t));const T=e=>ke(O[e],1,1,(()=>{O[e]=null}));let N="division"===e[7]&&us(e),B=e[11],D=[];for(let t=0;t<B.length;t+=1)D[t]=hs(Bi(e,B,t));const U=e=>ke(D[e],1,1,(()=>{D[e]=null}));let R=e[11],q=[];for(let t=0;t<R.length;t+=1)q[t]=gs(ji(e,R,t));const G=e=>ke(q[e],1,1,(()=>{q[e]=null}));let F=e[14],H=[];for(let t=0;t<F.length;t+=1)H[t]=ys(Ni(e,F,t));const V=e=>ke(H[e],1,1,(()=>{H[e]=null}));return{c(){for(let e=0;e<m.length;e+=1)m[e].c();t=P(),$&&$.c(),n=P();for(let e=0;e<y.length;e+=1)y[e].c();r=P();for(let e=0;e<k.length;e+=1)k[e].c();o=P();for(let e=0;e<S.length;e+=1)S[e].c();i=z("g"),s=z("rect");for(let e=0;e<O.length;e+=1)O[e].c();a=P(),N&&N.c(),c=P();for(let e=0;e<D.length;e+=1)D[e].c();u=P();for(let e=0;e<q.length;e+=1)q[e].c();d=P();for(let e=0;e<H.length;e+=1)H[e].c();j(s,"x","0"),j(s,"y","0"),j(s,"width","200"),j(s,"height","200"),j(s,"fill",l=e[5](e[10].t)),j(i,"class","division"),j(i,"clip-path",p="url(#division_"+e[9]+")")},m(e,l){for(let t=0;t<m.length;t+=1)m[t].m(e,l);C(e,t,l),$&&$.m(e,l),C(e,n,l);for(let t=0;t<y.length;t+=1)y[t].m(e,l);C(e,r,l);for(let t=0;t<k.length;t+=1)k[t].m(e,l);C(e,o,l);for(let t=0;t<S.length;t+=1)S[t].m(e,l);C(e,i,l),_(i,s);for(let e=0;e<O.length;e+=1)O[e].m(i,null);_(i,a),N&&N.m(i,null),_(i,c);for(let e=0;e<D.length;e+=1)D[e].m(i,null);_(i,u);for(let e=0;e<q.length;e+=1)q[e].m(i,null);_(i,d);for(let e=0;e<H.length;e+=1)H[e].m(i,null);h=!0},p(e,p){if(9513&p[0]){let n;for(f=e[13],n=0;n<f.length;n+=1){const r=Gi(e,f,n);m[n]?(m[n].p(r,p),we(m[n],1)):(m[n]=Wi(r),m[n].c(),we(m[n],1),m[n].m(t.parentNode,t))}for(ye(),n=f.length;n<m.length;n+=1)g(n);be()}if("field"===e[7]?$?$.p(e,p):($=Xi(e),$.c(),$.m(n.parentNode,n)):$&&($.d(1),$=null),3113&p[0]){let t;for(v=e[11],t=0;t<v.length;t+=1){const n=qi(e,v,t);y[t]?(y[t].p(n,p),we(y[t],1)):(y[t]=es(n),y[t].c(),we(y[t],1),y[t].m(r.parentNode,r))}for(ye(),t=v.length;t<y.length;t+=1)b(t);be()}if(3113&p[0]){let t;for(w=e[11],t=0;t<w.length;t+=1){const n=Ri(e,w,t);k[t]?(k[t].p(n,p),we(k[t],1)):(k[t]=rs(n),k[t].c(),we(k[t],1),k[t].m(o.parentNode,o))}for(ye(),t=w.length;t<k.length;t+=1)x(t);be()}if(17705&p[0]){let t;for(E=e[14],t=0;t<E.length;t+=1){const n=Ui(e,E,t);S[t]?(S[t].p(n,p),we(S[t],1)):(S[t]=ss(n),S[t].c(),we(S[t],1),S[t].m(i.parentNode,i))}for(ye(),t=E.length;t<S.length;t+=1)I(t);be()}if((!h||32&p[0]&&l!==(l=e[5](e[10].t)))&&j(s,"fill",l),8489&p[0]){let t;for(M=e[13],t=0;t<M.length;t+=1){const n=Di(e,M,t);O[t]?(O[t].p(n,p),we(O[t],1)):(O[t]=cs(n),O[t].c(),we(O[t],1),O[t].m(i,a))}for(ye(),t=M.length;t<O.length;t+=1)T(t);be()}if("division"===e[7]?N?N.p(e,p):(N=us(e),N.c(),N.m(i,c)):N&&(N.d(1),N=null),2089&p[0]){let t;for(B=e[11],t=0;t<B.length;t+=1){const n=Bi(e,B,t);D[t]?(D[t].p(n,p),we(D[t],1)):(D[t]=hs(n),D[t].c(),we(D[t],1),D[t].m(i,u))}for(ye(),t=B.length;t<D.length;t+=1)U(t);be()}if(2089&p[0]){let t;for(R=e[11],t=0;t<R.length;t+=1){const n=ji(e,R,t);q[t]?(q[t].p(n,p),we(q[t],1)):(q[t]=gs(n),q[t].c(),we(q[t],1),q[t].m(i,d))}for(ye(),t=R.length;t<q.length;t+=1)G(t);be()}if(16681&p[0]){let t;for(F=e[14],t=0;t<F.length;t+=1){const n=Ni(e,F,t);H[t]?(H[t].p(n,p),we(H[t],1)):(H[t]=ys(n),H[t].c(),we(H[t],1),H[t].m(i,null))}for(ye(),t=F.length;t<H.length;t+=1)V(t);be()}},i(e){if(!h){for(let e=0;e<f.length;e+=1)we(m[e]);for(let e=0;e<v.length;e+=1)we(y[e]);for(let e=0;e<w.length;e+=1)we(k[e]);for(let e=0;e<E.length;e+=1)we(S[e]);for(let e=0;e<M.length;e+=1)we(O[e]);for(let e=0;e<B.length;e+=1)we(D[e]);for(let e=0;e<R.length;e+=1)we(q[e]);for(let e=0;e<F.length;e+=1)we(H[e]);h=!0}},o(e){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)ke(m[e]);y=y.filter(Boolean);for(let e=0;e<y.length;e+=1)ke(y[e]);k=k.filter(Boolean);for(let e=0;e<k.length;e+=1)ke(k[e]);S=S.filter(Boolean);for(let e=0;e<S.length;e+=1)ke(S[e]);O=O.filter(Boolean);for(let e=0;e<O.length;e+=1)ke(O[e]);D=D.filter(Boolean);for(let e=0;e<D.length;e+=1)ke(D[e]);q=q.filter(Boolean);for(let e=0;e<q.length;e+=1)ke(q[e]);H=H.filter(Boolean);for(let e=0;e<H.length;e+=1)ke(H[e]);h=!1},d(e){A(m,e),e&&L(t),$&&$.d(e),e&&L(n),A(y,e),e&&L(r),A(k,e),e&&L(o),A(S,e),e&&L(i),A(O,e),N&&N.d(),A(D,e),A(q,e),A(H,e)}}}(t),G=t[13],F=[];for(let e=0;e<G.length;e+=1)F[e]=bs(Ti(t,G,e));const H=e=>ke(F[e],1,1,(()=>{F[e]=null}));let V="overall"===t[7]&&ws(t),J=t[11],Z=[];for(let e=0;e<J.length;e+=1)Z[e]=ks(Pi(t,J,e));const K=e=>ke(Z[e],1,1,(()=>{Z[e]=null}));let W=t[11],X=[];for(let e=0;e<W.length;e+=1)X[e]=xs(Oi(t,W,e));const Y=e=>ke(X[e],1,1,(()=>{X[e]=null}));let Q=t[14],ee=[];for(let e=0;e<Q.length;e+=1)ee[e]=_s(Mi(t,Q,e));const te=e=>ke(ee[e],1,1,(()=>{ee[e]=null}));let ne=t[11],re=[];for(let e=0;e<ne.length;e+=1)re[e]=Es(zi(t,ne,e));const oe=e=>ke(re[e],1,1,(()=>{re[e]=null}));let ie=t[11],se=[];for(let e=0;e<ie.length;e+=1)se[e]=Ss(Ii(t,ie,e));const le=e=>ke(se[e],1,1,(()=>{se[e]=null}));let ae=t[12],ce=[];for(let e=0;e<ae.length;e+=1)ce[e]=Cs(Ai(t,ae,e));const ue=e=>ke(ce[e],1,1,(()=>{ce[e]=null}));return{c(){n=z("defs"),r=z("clipPath"),o=z("path"),S&&S.c(),i=z("style"),s=M(".secondary {\n      fill: var(--secondary);\n    }\n    .tertiary {\n      fill: var(--tertiary);\n    }\n    .pseudostroke {\n      fill: var(--stroke);\n    }\n    .background {\n      display: var(--background);\n    }"),l=O();for(let e=0;e<T.length;e+=1)T[e].c();a=O();for(let e=0;e<D.length;e+=1)D[e].c();c=O(),u=z("g"),d=z("rect"),R&&R.c(),h=P();for(let e=0;e<F.length;e+=1)F[e].c();f=P(),V&&V.c(),m=P();for(let e=0;e<Z.length;e+=1)Z[e].c();g=P();for(let e=0;e<X.length;e+=1)X[e].c();$=P();for(let e=0;e<ee.length;e+=1)ee[e].c();v=O(),y=z("path"),b=O();for(let e=0;e<re.length;e+=1)re[e].c();w=O();for(let e=0;e<se.length;e+=1)se[e].c();k=O();for(let e=0;e<ce.length;e+=1)ce[e].c();x=P(),j(o,"d",t[8]),j(r,"id","shield_"+t[9]),j(d,"class","field"),j(d,"x","0"),j(d,"y","0"),j(d,"width","200"),j(d,"height","200"),j(d,"fill",p=t[5](t[0].t1)),j(u,"clip-path","url(#shield_"+t[9]+")"),j(y,"class","grad"),j(y,"d",t[8]),j(y,"fill",t[6]),j(y,"stroke",t[1]),j(y,"stroke-width",t[2]),q(y,"pointer-events","none")},m(e,t){C(e,n,t),_(n,r),_(r,o),S&&S.m(n,null),_(n,i),_(i,s),C(e,l,t);for(let n=0;n<T.length;n+=1)T[n].m(e,t);C(e,a,t);for(let n=0;n<D.length;n+=1)D[n].m(e,t);C(e,c,t),C(e,u,t),_(u,d),R&&R.m(u,null),_(u,h);for(let e=0;e<F.length;e+=1)F[e].m(u,null);_(u,f),V&&V.m(u,null),_(u,m);for(let e=0;e<Z.length;e+=1)Z[e].m(u,null);_(u,g);for(let e=0;e<X.length;e+=1)X[e].m(u,null);_(u,$);for(let e=0;e<ee.length;e+=1)ee[e].m(u,null);C(e,v,t),C(e,y,t),C(e,b,t);for(let n=0;n<re.length;n+=1)re[n].m(e,t);C(e,w,t);for(let n=0;n<se.length;n+=1)se[n].m(e,t);C(e,k,t);for(let n=0;n<ce.length;n+=1)ce[n].m(e,t);C(e,x,t),E=!0},p(e,t){if((!E||256&t[0])&&j(o,"d",e[8]),e[10]&&"no"!==e[10].division&&S.p(e,t),2089&t[0]){let n;for(I=e[11],n=0;n<I.length;n+=1){const r=Hi(e,I,n);T[n]?(T[n].p(r,t),we(T[n],1)):(T[n]=Vi(r),T[n].c(),we(T[n],1),T[n].m(a.parentNode,a))}for(ye(),n=I.length;n<T.length;n+=1)N(n);be()}if(2089&t[0]){let n;for(B=e[11],n=0;n<B.length;n+=1){const r=Fi(e,B,n);D[n]?(D[n].p(r,t),we(D[n],1)):(D[n]=Ji(r),D[n].c(),we(D[n],1),D[n].m(c.parentNode,c))}for(ye(),n=B.length;n<D.length;n+=1)U(n);be()}if((!E||33&t[0]&&p!==(p=e[5](e[0].t1)))&&j(d,"fill",p),e[10]&&"no"!==e[10].division&&R.p(e,t),8489&t[0]){let n;for(G=e[13],n=0;n<G.length;n+=1){const r=Ti(e,G,n);F[n]?(F[n].p(r,t),we(F[n],1)):(F[n]=bs(r),F[n].c(),we(F[n],1),F[n].m(u,f))}for(ye(),n=G.length;n<F.length;n+=1)H(n);be()}if("overall"===e[7]?V?V.p(e,t):(V=ws(e),V.c(),V.m(u,m)):V&&(V.d(1),V=null),3113&t[0]){let n;for(J=e[11],n=0;n<J.length;n+=1){const r=Pi(e,J,n);Z[n]?(Z[n].p(r,t),we(Z[n],1)):(Z[n]=ks(r),Z[n].c(),we(Z[n],1),Z[n].m(u,g))}for(ye(),n=J.length;n<Z.length;n+=1)K(n);be()}if(3113&t[0]){let n;for(W=e[11],n=0;n<W.length;n+=1){const r=Oi(e,W,n);X[n]?(X[n].p(r,t),we(X[n],1)):(X[n]=xs(r),X[n].c(),we(X[n],1),X[n].m(u,$))}for(ye(),n=W.length;n<X.length;n+=1)Y(n);be()}if(16681&t[0]){let n;for(Q=e[14],n=0;n<Q.length;n+=1){const r=Mi(e,Q,n);ee[n]?(ee[n].p(r,t),we(ee[n],1)):(ee[n]=_s(r),ee[n].c(),we(ee[n],1),ee[n].m(u,null))}for(ye(),n=Q.length;n<ee.length;n+=1)te(n);be()}if((!E||256&t[0])&&j(y,"d",e[8]),(!E||64&t[0])&&j(y,"fill",e[6]),(!E||2&t[0])&&j(y,"stroke",e[1]),(!E||4&t[0])&&j(y,"stroke-width",e[2]),2089&t[0]){let n;for(ne=e[11],n=0;n<ne.length;n+=1){const r=zi(e,ne,n);re[n]?(re[n].p(r,t),we(re[n],1)):(re[n]=Es(r),re[n].c(),we(re[n],1),re[n].m(w.parentNode,w))}for(ye(),n=ne.length;n<re.length;n+=1)oe(n);be()}if(2089&t[0]){let n;for(ie=e[11],n=0;n<ie.length;n+=1){const r=Ii(e,ie,n);se[n]?(se[n].p(r,t),we(se[n],1)):(se[n]=Ss(r),se[n].c(),we(se[n],1),se[n].m(k.parentNode,k))}for(ye(),n=ie.length;n<se.length;n+=1)le(n);be()}if(4617&t[0]){let n;for(ae=e[12],n=0;n<ae.length;n+=1){const r=Ai(e,ae,n);ce[n]?(ce[n].p(r,t),we(ce[n],1)):(ce[n]=Cs(r),ce[n].c(),we(ce[n],1),ce[n].m(x.parentNode,x))}for(ye(),n=ae.length;n<ce.length;n+=1)ue(n);be()}},i(e){if(!E){for(let e=0;e<I.length;e+=1)we(T[e]);for(let e=0;e<B.length;e+=1)we(D[e]);we(R);for(let e=0;e<G.length;e+=1)we(F[e]);for(let e=0;e<J.length;e+=1)we(Z[e]);for(let e=0;e<W.length;e+=1)we(X[e]);for(let e=0;e<Q.length;e+=1)we(ee[e]);for(let e=0;e<ne.length;e+=1)we(re[e]);for(let e=0;e<ie.length;e+=1)we(se[e]);for(let e=0;e<ae.length;e+=1)we(ce[e]);E=!0}},o(e){T=T.filter(Boolean);for(let e=0;e<T.length;e+=1)ke(T[e]);D=D.filter(Boolean);for(let e=0;e<D.length;e+=1)ke(D[e]);ke(R),F=F.filter(Boolean);for(let e=0;e<F.length;e+=1)ke(F[e]);Z=Z.filter(Boolean);for(let e=0;e<Z.length;e+=1)ke(Z[e]);X=X.filter(Boolean);for(let e=0;e<X.length;e+=1)ke(X[e]);ee=ee.filter(Boolean);for(let e=0;e<ee.length;e+=1)ke(ee[e]);re=re.filter(Boolean);for(let e=0;e<re.length;e+=1)ke(re[e]);se=se.filter(Boolean);for(let e=0;e<se.length;e+=1)ke(se[e]);ce=ce.filter(Boolean);for(let e=0;e<ce.length;e+=1)ke(ce[e]);E=!1},d(e){e&&L(n),S&&S.d(),e&&L(l),A(T,e),e&&L(a),A(D,e),e&&L(c),e&&L(u),R&&R.d(),A(F,e),V&&V.d(),A(Z,e),A(X,e),A(ee,e),e&&L(v),e&&L(y),e&&L(b),A(re,e),e&&L(w),A(se,e),e&&L(k),A(ce,e),e&&L(x)}}}function As(e,t,n){let r,o,i,s,l,a,u,d,p;c(e,yt,(e=>n(15,a=e))),c(e,gt,(e=>n(16,u=e))),c(e,$t,(e=>n(17,d=e))),c(e,vt,(e=>n(18,p=e)));let{coa:h}=t,{border:f}=t,{borderWidth:m}=t,{type:g}=t;const $=h.seed||Math.floor(1e9*Math.random()),{division:v,ordinaries:y=[],charges:b=[],inscriptions:w=[]}=h,k=y.filter((e=>!e.above)),x=y.filter((e=>e.above));return b.forEach((({charge:e})=>Yo(e))),e.$$set=e=>{"coa"in e&&n(0,h=e.coa),"border"in e&&n(1,f=e.border),"borderWidth"in e&&n(2,m=e.borderWidth),"type"in e&&n(3,g=e.type)},e.$$.update=()=>{262145&e.$$.dirty[0]&&n(8,r=qe.data[h.shield||p].path),131081&e.$$.dirty[0]&&n(4,o="menuItem"===g?null:h.diaper||d),16&e.$$.dirty[0]&&n(7,i=function(e){if(!e||"no"===e)return null;const t=!h.t1.includes("-"),n=!v?.t.includes("-");return t&&n?"overall":t?"field":n?"division":null}(o)),65536&e.$$.dirty[0]&&n(6,s=u&&"no"!==u?`url(#${u})`:"none"),32768&e.$$.dirty[0]&&n(5,l=e=>e?a[e]?a[e]:e.includes("-")?(Xo(e),"url(#"+e+")"):(console.warn(`Tincture ${e} not found, fallback to black`),"#000000"):null)},[h,f,m,g,o,l,s,i,r,$,v,b,w,k,x,a,u,d,p]}class Is extends je{constructor(e){super(),Ne(this,e,As,Ls,s,{coa:0,border:1,borderWidth:2,type:3},null,[-1,-1])}}function zs(e){let t,n,r,o;n=new Is({props:{coa:e[0],border:e[6],borderWidth:e[7],type:e[1]}});let i=e[8]&&function(e){let t,n,r;return t=new Po({}),n=new Ro({props:{shield:e[0].shield||e[4]}}),{c(){Oe(t.$$.fragment),Oe(n.$$.fragment)},m(e,o){Pe(t,e,o),Pe(n,e,o),r=!0},p(e,t){const r={};17&t&&(r.shield=e[0].shield||e[4]),n.$set(r)},i(e){r||(we(t.$$.fragment,e),we(n.$$.fragment,e),r=!0)},o(e){ke(t.$$.fragment,e),ke(n.$$.fragment,e),r=!1},d(e){Te(t,e),Te(n,e)}}}(e);return{c(){t=z("svg"),Oe(n.$$.fragment),i&&i.c(),j(t,"id",r="coa"+e[1]),j(t,"class","coa"),j(t,"width",e[2]),j(t,"height",e[3]),j(t,"viewBox",e[5]),j(t,"xmlns","http://www.w3.org/2000/svg"),j(t,"xmlns:xlink","http://www.w3.org/1999/xlink"),j(t,"xmlns:dc","http://purl.org/dc/elements/1.1/"),j(t,"xmlns:rdf","http://www.w3.org/1999/02/22-rdf-syntax-ns#")},m(e,r){C(e,t,r),Pe(n,t,null),i&&i.m(t,null),o=!0},p(e,[s]){const l={};1&s&&(l.coa=e[0]),64&s&&(l.border=e[6]),128&s&&(l.borderWidth=e[7]),2&s&&(l.type=e[1]),n.$set(l),e[8]&&i.p(e,s),(!o||2&s&&r!==(r="coa"+e[1]))&&j(t,"id",r),(!o||4&s)&&j(t,"width",e[2]),(!o||8&s)&&j(t,"height",e[3]),(!o||32&s)&&j(t,"viewBox",e[5])},i(e){o||(we(n.$$.fragment,e),we(i),o=!0)},o(e){ke(n.$$.fragment,e),ke(i),o=!1},d(e){e&&L(t),Te(n),i&&i.d()}}}function Ms(e,t,n){let r,o,i,s;c(e,vt,(e=>n(4,o=e))),c(e,Et,(e=>n(6,i=e))),c(e,St,(e=>n(7,s=e)));let{coa:l}=t,{i:a}=t,{width:u="100%"}=t,{height:d="100%"}=t;const p="Edit"===a;return e.$$set=e=>{"coa"in e&&n(0,l=e.coa),"i"in e&&n(1,a=e.i),"width"in e&&n(2,u=e.width),"height"in e&&n(3,d=e.height)},e.$$.update=()=>{17&e.$$.dirty&&n(5,r=function(e,t){const n=qe.data[e].box||Re,[r,o,i,s]=n.split(" "),l=Math.round(1*i/t),a=Math.round(1*s/t);return`${r-l/2+100} ${o-a/2+100} ${l} ${a}`}(l.shield||o,l.zoom||1))},[l,a,u,d,o,r,i,s,p]}class Os extends je{constructor(e){super(),Ne(this,e,Ms,zs,s,{coa:0,i:1,width:2,height:3})}}function Ps(t){let n,r,o,i,s,l,a;return{c(){n=I("div"),r=I("input"),o=O(),i=I("label"),s=M("Switch"),j(r,"id",t[1]),j(r,"class","switch-input svelte-1cmzv6a"),j(r,"type","checkbox"),j(i,"for",t[1]),j(i,"class","switch-label svelte-1cmzv6a"),j(n,"class","switch svelte-1cmzv6a")},m(e,c){C(e,n,c),_(n,r),r.checked=t[0],_(n,o),_(n,i),_(i,s),l||(a=T(r,"change",t[2]),l=!0)},p(e,[t]){1&t&&(r.checked=e[0])},i:e,o:e,d(e){e&&L(n),l=!1,a()}}}function Ts(e,t,n){let{checked:r=!1}=t;const o="switch"+Math.floor(1e6*Math.random());return e.$$set=e=>{"checked"in e&&n(0,r=e.checked)},[r,o,function(){r=this.checked,n(0,r)}]}class Ns extends je{constructor(e){super(),Ne(this,e,Ts,Ps,s,{checked:0})}}const js=a(to),Bs=e=>{if(!e.dataset.tooltip)return;const t="ontouchstart"in window,n=document.createElement("div");let r;const o=e.dataset.gesture,i=e.dataset.hotkey;function s(){var e,t;e=".tooltip",t=e=>e.remove(),Array.from(document.querySelectorAll(e)).forEach((e=>{t(e)}))}return e.on("mouseenter",(function(){s();let l=e.dataset.tooltip;t&&o&&(l=`${l}. ${js("tooltip.gesture")}: ${o}`),!t&&i&&(l=`${l}. ${js("tooltip.hotkey")}: ${i}`),n.textContent=l,n.className="tooltip",document.body.appendChild(n);const a=n.getBoundingClientRect();r=[window.innerWidth-a.width,window.innerHeight-a.height]})),e.on("mousemove",(function(e){n.style.left=`${Math.min(e.pageX+10,r[0])}px`,n.style.top=`${Math.min(e.pageY+10,r[1])}px`})),e.on("mouseleave",s),{destroy(){s()}}};function Ds(e){let t,n,r,o,i,s,l,a,c,u,d,p=e[1]("editor.aboveCharges")+"";function h(t){e[2](t)}let f={};return void 0!==e[0]&&(f.checked=e[0]),s=new Ns({props:f}),ne.push((()=>Me(s,"checked",h))),{c(){t=I("span"),n=I("span"),r=M(p),o=M(":"),i=O(),Oe(s.$$.fragment),q(n,"margin-left","1em"),j(t,"data-tooltip",a=e[1]("tooltip.aboveCharges"))},m(e,l){C(e,t,l),_(t,n),_(n,r),_(n,o),_(t,i),Pe(s,t,null),c=!0,u||(d=$(Bs.call(null,t)),u=!0)},p(e,[n]){(!c||2&n)&&p!==(p=e[1]("editor.aboveCharges")+"")&&U(r,p);const o={};!l&&1&n&&(l=!0,o.checked=e[0],ce((()=>l=!1))),s.$set(o),(!c||2&n&&a!==(a=e[1]("tooltip.aboveCharges")))&&j(t,"data-tooltip",a)},i(e){c||(we(s.$$.fragment,e),c=!0)},o(e){ke(s.$$.fragment,e),c=!1},d(e){e&&L(t),Te(s),u=!1,d()}}}function Us(e,t,n){let r;c(e,to,(e=>n(1,r=e)));let{above:o}=t;return e.$$set=e=>{"above"in e&&n(0,o=e.above)},[o,r,function(e){o=e,n(0,o)}]}class Rs extends je{constructor(e){super(),Ne(this,e,Us,Ds,s,{above:0})}}function qs(e){let t,n,r,o,i;return n=new Is({props:{coa:e[0],border:"#333",borderWidth:2,type:"menuItem"}}),{c(){t=z("svg"),Oe(n.$$.fragment),j(t,"class","menuItem"),j(t,"width","100%"),j(t,"height","100%"),j(t,"viewBox",Re),j(t,"data-tooltip",e[1])},m(e,s){C(e,t,s),Pe(n,t,null),r=!0,o||(i=$(Bs.call(null,t)),o=!0)},p(e,[o]){const i={};1&o&&(i.coa=e[0]),n.$set(i),(!r||2&o)&&j(t,"data-tooltip",e[1])},i(e){r||(we(n.$$.fragment,e),r=!0)},o(e){ke(n.$$.fragment,e),r=!1},d(e){e&&L(t),Te(n),o=!1,i()}}}function Gs(e,t,n){let{coa:r}=t,{tip:o}=t;return e.$$set=e=>{"coa"in e&&n(0,r=e.coa),"tip"in e&&n(1,o=e.tip)},[r,o]}class Fs extends je{constructor(e){super(),Ne(this,e,Gs,qs,s,{coa:0,tip:1})}}function Hs(e,t,n){const r=e.slice();return r[33]=t[n],r}function Vs(e,t,n){const r=e.slice();return r[1]=t[n],r}function Js(e){let t,n,r,o=e[4](`categories.${e[1]}`)+"";return{c(){t=I("option"),n=M(o),t.__value=r=e[1],t.value=t.__value},m(e,r){C(e,t,r),_(t,n)},p(e,t){16&t[0]&&o!==(o=e[4](`categories.${e[1]}`)+"")&&U(n,o)},d(e){e&&L(t)}}}function Zs(e){let t,n,r,i,s,l;function a(){return e[23](e[33])}return{c(){t=I("div"),n=z("svg"),r=z("use"),j(r,"href","#remove-icon"),j(n,"class","remove svelte-litrte"),j(n,"data-tooltip",i=e[4]("tooltip.removeUploaded")),j(t,"class","controls")},m(e,o){C(e,t,o),_(t,n),_(n,r),s||(l=[T(n,"click",a),$(Bs.call(null,n))],s=!0)},p(t,r){e=t,16&r[0]&&i!==(i=e[4]("tooltip.removeUploaded"))&&j(n,"data-tooltip",i)},d(e){e&&L(t),s=!1,o(l)}}}function Ks(e,t){let n,r,o,i,s,l,a,c;function u(){return t[22](t[33])}o=new Fs({props:{coa:t[33],tip:t[9](t[33].charge)}});let d=t[6][t[33].charge]&&Zs(t);return{key:e,first:null,c(){n=I("div"),r=I("div"),Oe(o.$$.fragment),i=O(),d&&d.c(),s=O(),j(r,"class","item"),H(r,"selected",t[0]===t[33].charge),j(n,"class","wrapper"),this.first=n},m(e,t){C(e,n,t),_(n,r),Pe(o,r,null),_(n,i),d&&d.m(n,null),_(n,s),l=!0,a||(c=T(r,"click",u),a=!0)},p(e,i){t=e;const l={};32&i[0]&&(l.coa=t[33]),32&i[0]&&(l.tip=t[9](t[33].charge)),o.$set(l),33&i[0]&&H(r,"selected",t[0]===t[33].charge),t[6][t[33].charge]?d?d.p(t,i):(d=Zs(t),d.c(),d.m(n,s)):d&&(d.d(1),d=null)},i(e){l||(we(o.$$.fragment,e),l=!0)},o(e){ke(o.$$.fragment,e),l=!1},d(e){e&&L(n),Te(o),d&&d.d(),a=!1,c()}}}function Ws(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,$,v=e[4]("editor.category")+"",y=e[4]("editor.search")+"",b=[],w=new Map,k=e[7],x=[];for(let t=0;t<k.length;t+=1)x[t]=Js(Vs(e,k,t));let E=e[5];const S=e=>e[33];for(let t=0;t<E.length;t+=1){let n=Hs(e,E,t),r=S(n);w.set(r,b[t]=Ks(r,n))}return{c(){t=I("span"),n=M(v),r=M(":"),i=O(),s=I("select");for(let e=0;e<x.length;e+=1)x[e].c();l=O(),a=I("span"),c=M(y),u=M(":"),d=O(),p=I("input"),h=O(),f=I("div");for(let e=0;e<b.length;e+=1)b[e].c();j(t,"class","svelte-litrte"),H(t,"indented",e[2]),j(s,"class","svelte-litrte"),void 0===e[1]&&ae((()=>e[20].call(s))),H(s,"inactive",e[3]),j(a,"class","svelte-litrte"),H(a,"indented",!0),j(p,"class","svelte-litrte"),H(p,"inactive",!e[3]),j(f,"class","items")},m(o,v){C(o,t,v),_(t,n),_(t,r),C(o,i,v),C(o,s,v);for(let e=0;e<x.length;e+=1)x[e].m(s,null);G(s,e[1]),C(o,l,v),C(o,a,v),_(a,c),_(a,u),C(o,d,v),C(o,p,v),R(p,e[3]),C(o,h,v),C(o,f,v);for(let e=0;e<b.length;e+=1)b[e].m(f,null);m=!0,g||($=[T(s,"change",e[20]),T(s,"input",e[8]),T(p,"input",e[21])],g=!0)},p(e,r){if((!m||16&r[0])&&v!==(v=e[4]("editor.category")+"")&&U(n,v),4&r[0]&&H(t,"indented",e[2]),144&r[0]){let t;for(k=e[7],t=0;t<k.length;t+=1){const n=Vs(e,k,t);x[t]?x[t].p(n,r):(x[t]=Js(n),x[t].c(),x[t].m(s,null))}for(;t<x.length;t+=1)x[t].d(1);x.length=k.length}130&r[0]&&G(s,e[1]),8&r[0]&&H(s,"inactive",e[3]),(!m||16&r[0])&&y!==(y=e[4]("editor.search")+"")&&U(c,y),8&r[0]&&p.value!==e[3]&&R(p,e[3]),8&r[0]&&H(p,"inactive",!e[3]),1649&r[0]&&(E=e[5],ye(),b=ze(b,r,S,1,e,E,w,f,Ae,Ks,null,Hs),be())},i(e){if(!m){for(let e=0;e<E.length;e+=1)we(b[e]);m=!0}},o(e){for(let e=0;e<b.length;e+=1)ke(b[e]);m=!1},d(e){e&&L(t),e&&L(i),e&&L(s),A(x,e),e&&L(l),e&&L(a),e&&L(d),e&&L(p),e&&L(h),e&&L(f);for(let e=0;e<b.length;e+=1)b[e].d();g=!1,o($)}}}function Xs(e,t,n){let r,o,i,s,l;c(e,At,(e=>n(6,o=e))),c(e,to,(e=>n(4,i=e))),c(e,Gr,(e=>n(26,s=e))),c(e,xr,(e=>n(27,l=e)));let a,u,{charge:d}=t,{type:p}=t,{category:h}=t,{t1:f}=t,{t2:m}=t,{t3:g}=t,{t4:$}=t,{size:v=null}=t,{sinister:y=null}=t,{reversed:b=null}=t,{division:w=!1}=t,{shield:k}=t,x=[];const _=Object.keys(Be.types),E=_.map((e=>Object.keys(Be[e]))).flat();function S(){const e=Object.keys(Be[h]);n(5,x=e.map((e=>({charge:e,shield:k,t1:f,charges:C(e)}))))}function C(e){return[{charge:e,t:m,t2:g,t3:$,p:"e",size:1.5,sinister:y,reversed:b}]}function L(e){delete Be.data[e],function(e,t){delete Be[t][e],delete Be[t].array,0===Object.keys(Be[t]).length&&(Be.types[t]=0,delete Be.types.array,Be.single[t]=0,delete Be.single.array)}(e,o[e].category),S(),delete o[e],localStorage.setItem("uploaded",JSON.stringify(o)),ei(e)}return e.$$set=e=>{"charge"in e&&n(0,d=e.charge),"type"in e&&n(11,p=e.type),"category"in e&&n(1,h=e.category),"t1"in e&&n(12,f=e.t1),"t2"in e&&n(13,m=e.t2),"t3"in e&&n(14,g=e.t3),"t4"in e&&n(15,$=e.t4),"size"in e&&n(16,v=e.size),"sinister"in e&&n(17,y=e.sinister),"reversed"in e&&n(18,b=e.reversed),"division"in e&&n(2,w=e.division),"shield"in e&&n(19,k=e.shield)},e.$$.update=()=>{16&e.$$.dirty[0]&&(r=E.map((e=>i(`charges.${e}`)))),1044482&e.$$.dirty[0]&&S(),8&e.$$.dirty[0]&&function(e){if(e||e===u||S(),u=e,!e)return;const t=new RegExp(e.replaceAll(" ",""),"i"),o=E.filter(((e,n)=>t.test(r[n])));n(5,x=o.map((e=>({charge:e,shield:k,t1:f,charges:C(e)}))))}(a)},[d,h,w,a,i,x,o,_,function(){n(3,a="")},function(e){const t=((e,t)=>{const n=l?.[s]?.[e]?.[t];return n?i(`${e}.${t}`):t})("charges",e);return"semy"===p?`${i("editor.semyOf")} ${t}`:`${i("tinctures.charge")}: ${t}`},L,p,f,m,g,$,v,y,b,k,function(){h=F(this),n(1,h),n(7,_)},function(){a=this.value,n(3,a)},e=>n(0,d=e.charge),e=>L(e.charge)]}class Ys extends je{constructor(e){super(),Ne(this,e,Xs,Ws,s,{charge:0,type:11,category:1,t1:12,t2:13,t3:14,t4:15,size:16,sinister:17,reversed:18,division:2,shield:19},null,[-1,-1])}}function Qs(e){let t,n,r=e[2]&&e[8](e[1],e[0][e[2]-1]),o=e[2]+1<e[0].length&&e[8](e[1],e[0][e[2]+1]),i=r&&el(e),s=o&&tl(e);return{c(){i&&i.c(),t=O(),s&&s.c(),n=P()},m(e,r){i&&i.m(e,r),C(e,t,r),s&&s.m(e,r),C(e,n,r)},p(e,l){7&l&&(r=e[2]&&e[8](e[1],e[0][e[2]-1])),r?i?i.p(e,l):(i=el(e),i.c(),i.m(t.parentNode,t)):i&&(i.d(1),i=null),7&l&&(o=e[2]+1<e[0].length&&e[8](e[1],e[0][e[2]+1])),o?s?s.p(e,l):(s=tl(e),s.c(),s.m(n.parentNode,n)):s&&(s.d(1),s=null)},d(e){i&&i.d(e),e&&L(t),s&&s.d(e),e&&L(n)}}}function el(e){let t,n,r,i,s;return{c(){t=z("svg"),n=z("use"),j(n,"href","#up-icon"),j(t,"data-tooltip",r=e[3]("editor.backward")),j(t,"class","svelte-1rbk6h")},m(r,o){C(r,t,o),_(t,n),i||(s=[T(t,"click",e[7]),$(Bs.call(null,t))],i=!0)},p(e,n){8&n&&r!==(r=e[3]("editor.backward"))&&j(t,"data-tooltip",r)},d(e){e&&L(t),i=!1,o(s)}}}function tl(e){let t,n,r,i,s;return{c(){t=z("svg"),n=z("use"),j(n,"href","#down-icon"),j(t,"data-tooltip",r=e[3]("editor.forward")),j(t,"class","svelte-1rbk6h")},m(r,o){C(r,t,o),_(t,n),i||(s=[T(t,"click",e[6]),$(Bs.call(null,t))],i=!0)},p(e,n){8&n&&r!==(r=e[3]("editor.forward"))&&j(t,"data-tooltip",r)},d(e){e&&L(t),i=!1,o(s)}}}function nl(t){let n,r,i,s,l,a,c,u,d,p,h,f=t[0].length>1&&Qs(t);return{c(){n=I("span"),r=z("svg"),i=z("use"),l=O(),f&&f.c(),a=O(),c=z("svg"),u=z("use"),j(i,"href","#clone-icon"),j(r,"data-tooltip",s=t[3]("editor.clone")),j(r,"class","svelte-1rbk6h"),j(u,"href","#remove-icon"),j(c,"data-tooltip",d=t[3]("editor.remove")),j(c,"class","svelte-1rbk6h"),j(n,"class","svelte-1rbk6h")},m(e,o){C(e,n,o),_(n,r),_(r,i),_(n,l),f&&f.m(n,null),_(n,a),_(n,c),_(c,u),p||(h=[T(r,"click",t[5]),$(Bs.call(null,r)),T(c,"click",t[4]),$(Bs.call(null,c))],p=!0)},p(e,[t]){8&t&&s!==(s=e[3]("editor.clone"))&&j(r,"data-tooltip",s),e[0].length>1?f?f.p(e,t):(f=Qs(e),f.c(),f.m(n,a)):f&&(f.d(1),f=null),8&t&&d!==(d=e[3]("editor.remove"))&&j(c,"data-tooltip",d)},i:e,o:e,d(e){e&&L(n),f&&f.d(),p=!1,o(h)}}}function rl(e,t,n){let r;c(e,to,(e=>n(3,r=e)));let{els:o}=t,{el:i}=t,{i:s}=t;return e.$$set=e=>{"els"in e&&n(0,o=e.els),"el"in e&&n(1,i=e.el),"i"in e&&n(2,s=e.i)},[o,i,s,r,e=>{e.stopPropagation(),n(0,o=o.filter(((e,t)=>t!==s)))},e=>{e.stopPropagation();const t=JSON.parse(JSON.stringify(i));n(0,o=[...o,t])},e=>{e.stopPropagation(),n(0,[o[s],o[s+1]]=[o[s+1],o[s]],o)},e=>{e.stopPropagation(),n(0,[o[s],o[s-1]]=[o[s-1],o[s]],o)},(e,t)=>JSON.stringify(e)!==JSON.stringify(t)]}class ol extends je{constructor(e){super(),Ne(this,e,rl,nl,s,{els:0,el:1,i:2})}}function il(e){let t,n,r=e[2]("editor.counterchanged")+"";return{c(){t=I("option"),n=M(r),t.__value="counter",t.value=t.__value},m(e,r){C(e,t,r),_(t,n)},p(e,t){4&t&&r!==(r=e[2]("editor.counterchanged")+"")&&U(n,r)},d(e){e&&L(t)}}}function sl(t){let n,r,o,i,s,l,a,c,u,d,p,h,f,m=t[2]("editor.divided")+"",g=t[2]("editor.notDivided")+"",$=t[2]("editor.cropByField")+"",v=t[2]("editor.cropByDivision")+"",y=!t[1]&&il(t);return{c(){n=I("span"),r=M(m),o=M(":"),i=O(),s=I("select"),l=I("option"),a=M(g),c=I("option"),u=M($),d=I("option"),p=M(v),y&&y.c(),l.__value="",l.value=l.__value,c.__value="field",c.value=c.__value,d.__value="division",d.value=d.__value,void 0===t[0]&&ae((()=>t[3].call(s)))},m(e,m){C(e,n,m),_(n,r),_(n,o),C(e,i,m),C(e,s,m),_(s,l),_(l,a),_(s,c),_(c,u),_(s,d),_(d,p),y&&y.m(s,null),G(s,t[0]),h||(f=T(s,"change",t[3]),h=!0)},p(e,[t]){4&t&&m!==(m=e[2]("editor.divided")+"")&&U(r,m),4&t&&g!==(g=e[2]("editor.notDivided")+"")&&U(a,g),4&t&&$!==($=e[2]("editor.cropByField")+"")&&U(u,$),4&t&&v!==(v=e[2]("editor.cropByDivision")+"")&&U(p,v),e[1]?y&&(y.d(1),y=null):y?y.p(e,t):(y=il(e),y.c(),y.m(s,null)),1&t&&G(s,e[0])},i:e,o:e,d(e){e&&L(n),e&&L(i),e&&L(s),y&&y.d(),h=!1,f()}}}function ll(e,t,n){let r;c(e,to,(e=>n(2,r=e)));let{divided:o}=t,{raster:i=!1}=t;return e.$$set=e=>{"divided"in e&&n(0,o=e.divided),"raster"in e&&n(1,i=e.raster)},[o,i,r,function(){o=F(this),n(0,o)}]}class al extends je{constructor(e){super(),Ne(this,e,ll,sl,s,{divided:0,raster:1})}}function cl(e,t,n){const r=e.slice();return r[10]=t[n],r}function ul(e,t){let n,r,o,s,l,a;return r=new Fs({props:{coa:t[10],tip:t[2](t[10].division.division)}}),{key:e,first:null,c(){n=I("div"),Oe(r.$$.fragment),o=O(),j(n,"class","item"),H(n,"selected",t[0]===t[10].division.division),this.first=n},m(e,c){C(e,n,c),Pe(r,n,null),_(n,o),s=!0,l||(a=T(n,"click",(function(){i(t[3](t[10].division.division))&&t[3](t[10].division.division).apply(this,arguments)})),l=!0)},p(e,o){t=e;const i={};2&o&&(i.coa=t[10]),2&o&&(i.tip=t[2](t[10].division.division)),r.$set(i),3&o&&H(n,"selected",t[0]===t[10].division.division)},i(e){s||(we(r.$$.fragment,e),s=!0)},o(e){ke(r.$$.fragment,e),s=!1},d(e){e&&L(n),Te(r),l=!1,a()}}}function dl(e){let t,n,r=[],o=new Map,i=e[1];const s=e=>e[10];for(let t=0;t<i.length;t+=1){let n=cl(e,i,t),l=s(n);o.set(l,r[t]=ul(l,n))}return{c(){t=I("div");for(let e=0;e<r.length;e+=1)r[e].c();j(t,"class","items")},m(e,o){C(e,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,[n]){15&n&&(i=e[1],ye(),r=ze(r,n,s,1,e,i,o,t,Ae,ul,null,cl),be())},i(e){if(!n){for(let e=0;e<i.length;e+=1)we(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)ke(r[e]);n=!1},d(e){e&&L(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function pl(e,t,n){let r,o;c(e,to,(e=>n(8,o=e)));let{division:i}=t,{t1:s}=t,{t2:l}=t,{line:a}=t,{shield:u}=t;const d=["no"].concat(Object.keys(Ke.variants));return e.$$set=e=>{"division"in e&&n(0,i=e.division),"t1"in e&&n(4,s=e.t1),"t2"in e&&n(5,l=e.t2),"line"in e&&n(6,a=e.line),"shield"in e&&n(7,u=e.shield)},e.$$.update=()=>{240&e.$$.dirty&&n(1,r=d.map((e=>({t1:s,shield:u,division:{division:e,t:l,line:a}}))))},[i,r,e=>{const t=o(`divisions.${e}`);return`${o("editor.division")}: ${t}`},e=>()=>{n(0,i=e)},s,l,a,u]}class hl extends je{constructor(e){super(),Ne(this,e,pl,dl,s,{division:0,t1:4,t2:5,line:6,shield:7})}}function fl(e,t,n){const r=e.slice();return r[10]=t[n].coa,r[11]=t[n].tip,r}function ml(e){let t,n,r,o,s,l;return n=new Fs({props:{coa:e[10],tip:e[11]}}),{c(){t=I("div"),Oe(n.$$.fragment),r=O(),j(t,"class","item"),H(t,"selected",e[0]===e[10].pattern)},m(a,c){C(a,t,c),Pe(n,t,null),_(t,r),o=!0,s||(l=T(t,"click",(function(){i(e[3](e[10].pattern))&&e[3](e[10].pattern).apply(this,arguments)})),s=!0)},p(r,o){e=r;const i={};4&o&&(i.coa=e[10]),4&o&&(i.tip=e[11]),n.$set(i),5&o&&H(t,"selected",e[0]===e[10].pattern)},i(e){o||(we(n.$$.fragment,e),o=!0)},o(e){ke(n.$$.fragment,e),o=!1},d(e){e&&L(t),Te(n),s=!1,l()}}}function gl(e){let t,n,r,o,i=e[1]("editor.pattern")+"",s=e[2],l=[];for(let t=0;t<s.length;t+=1)l[t]=ml(fl(e,s,t));const a=e=>ke(l[e],1,1,(()=>{l[e]=null}));return{c(){t=M(i),n=M(":\n"),r=I("div");for(let e=0;e<l.length;e+=1)l[e].c();j(r,"class","items")},m(e,i){C(e,t,i),C(e,n,i),C(e,r,i);for(let e=0;e<l.length;e+=1)l[e].m(r,null);o=!0},p(e,[n]){if((!o||2&n)&&i!==(i=e[1]("editor.pattern")+"")&&U(t,i),13&n){let t;for(s=e[2],t=0;t<s.length;t+=1){const o=fl(e,s,t);l[t]?(l[t].p(o,n),we(l[t],1)):(l[t]=ml(o),l[t].c(),we(l[t],1),l[t].m(r,null))}for(ye(),t=s.length;t<l.length;t+=1)a(t);be()}},i(e){if(!o){for(let e=0;e<s.length;e+=1)we(l[e]);o=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)ke(l[e]);o=!1},d(e){e&&L(t),e&&L(n),e&&L(r),A(l,e)}}}function $l(e,t,n){let r,o;c(e,to,(e=>n(1,o=e)));let{pattern:i}=t,{t1:s}=t,{t2:l}=t,{size:a}=t,{shield:u}=t;const d=Object.keys(nt.patterns).filter((e=>"semy"!==e)),p=new Set;document.querySelectorAll("[fill]").forEach((function(e){const t=e.getAttribute("fill").match(/url\(#(.+)\)/);t&&p.add(t[1])})),document.querySelectorAll("#patterns pattern").forEach((function(e){p.has(e.getAttribute("id"))||e.remove()}));return e.$$set=e=>{"pattern"in e&&n(0,i=e.pattern),"t1"in e&&n(4,s=e.t1),"t2"in e&&n(5,l=e.t2),"size"in e&&n(6,a=e.size),"shield"in e&&n(7,u=e.shield)},e.$$.update=()=>{242&e.$$.dirty&&n(2,r=d.map((e=>{let t=`${e}-${s}-${l}`;"standard"!==a&&(t+=`-${a}`);const n=o(`patterns.${e}`);return{coa:{pattern:e,shield:u,t1:t},tip:n}})))},[i,o,r,e=>()=>{n(0,i=e)},s,l,a,u]}class vl extends je{constructor(e){super(),Ne(this,e,$l,gl,s,{pattern:0,t1:4,t2:5,size:6,shield:7})}}function yl(t){let n,r,o,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w=t[1]("editor.size")+"",k=t[1]("editor.bigger")+"",x=t[1]("editor.big")+"",E=t[1]("editor.standard")+"",S=t[1]("editor.small")+"",A=t[1]("editor.smaller")+"",z=t[1]("editor.smallest")+"";return{c(){n=I("span"),r=M(w),o=M(":"),i=O(),s=I("select"),l=I("option"),a=M(k),c=I("option"),u=M(x),d=I("option"),p=M(E),h=I("option"),f=M(S),m=I("option"),g=M(A),$=I("option"),v=M(z),q(n,"margin-left","1em"),l.__value="bigger",l.value=l.__value,c.__value="big",c.value=c.__value,d.__value="standard",d.value=d.__value,h.__value="small",h.value=h.__value,m.__value="smaller",m.value=m.__value,$.__value="smallest",$.value=$.__value,void 0===t[0]&&ae((()=>t[2].call(s)))},m(e,w){C(e,n,w),_(n,r),_(n,o),C(e,i,w),C(e,s,w),_(s,l),_(l,a),_(s,c),_(c,u),_(s,d),_(d,p),_(s,h),_(h,f),_(s,m),_(m,g),_(s,$),_($,v),G(s,t[0]),y||(b=T(s,"change",t[2]),y=!0)},p(e,[t]){2&t&&w!==(w=e[1]("editor.size")+"")&&U(r,w),2&t&&k!==(k=e[1]("editor.bigger")+"")&&U(a,k),2&t&&x!==(x=e[1]("editor.big")+"")&&U(u,x),2&t&&E!==(E=e[1]("editor.standard")+"")&&U(p,E),2&t&&S!==(S=e[1]("editor.small")+"")&&U(f,S),2&t&&A!==(A=e[1]("editor.smaller")+"")&&U(g,A),2&t&&z!==(z=e[1]("editor.smallest")+"")&&U(v,z),1&t&&G(s,e[0])},i:e,o:e,d(e){e&&L(n),e&&L(i),e&&L(s),y=!1,b()}}}function bl(e,t,n){let r;c(e,to,(e=>n(1,r=e)));let{size:o}=t;return e.$$set=e=>{"size"in e&&n(0,o=e.size)},[o,r,function(){o=F(this),n(0,o)}]}class wl extends je{constructor(e){super(),Ne(this,e,bl,yl,s,{size:0})}}function kl(e,t,n){const r=e.slice();return r[14]=t[n].coa,r[15]=t[n].tip,r[16]=t,r[17]=n,r}function xl(e){let t,n,r,i,s;function l(){return e[12](e[14])}return{c(){t=z("svg"),n=z("use"),j(n,"href","#undo-icon"),j(t,"class","undo svelte-sq8yxz"),j(t,"data-tooltip",r=e[2]("tooltip.undoColorChange"))},m(e,r){C(e,t,r),_(t,n),i||(s=[T(t,"click",l),$(Bs.call(null,t))],i=!0)},p(n,o){e=n,4&o&&r!==(r=e[2]("tooltip.undoColorChange"))&&j(t,"data-tooltip",r)},d(e){e&&L(t),i=!1,o(s)}}}function _l(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,v,y,b=e[4](e[14].t1);function w(){return e[11](e[14])}r=new Fs({props:{coa:e[14],tip:e[15]}});let k=b&&xl(e);function x(){e[13].call(c,e[14])}return{c(){t=I("div"),n=I("div"),Oe(r.$$.fragment),i=O(),s=I("div"),k&&k.c(),l=O(),a=I("div"),c=I("input"),u=O(),d=z("svg"),p=z("use"),m=O(),j(n,"class","item"),H(n,"selected",e[0]===e[14].t1),j(c,"type","color"),j(c,"class","svelte-sq8yxz"),j(p,"href","#pencil-icon"),j(d,"class","edit svelte-sq8yxz"),j(d,"data-tooltip",h=e[2]("tooltip.changeColor")),j(s,"class","controls"),j(t,"class","wrapper")},m(o,h){C(o,t,h),_(t,n),Pe(r,n,null),_(t,i),_(t,s),k&&k.m(s,null),_(s,l),_(s,a),_(a,c),R(c,e[1][e[14].t1]),_(a,u),_(a,d),_(d,p),_(t,m),g=!0,v||(y=[T(n,"click",w),T(c,"input",x),T(d,"click",Sl),$(f=Bs.call(null,d))],v=!0)},p(t,o){e=t;const i={};8&o&&(i.coa=e[14]),8&o&&(i.tip=e[15]),r.$set(i),9&o&&H(n,"selected",e[0]===e[14].t1),24&o&&(b=e[4](e[14].t1)),b?k?k.p(e,o):(k=xl(e),k.c(),k.m(s,l)):k&&(k.d(1),k=null),10&o&&R(c,e[1][e[14].t1]),(!g||4&o&&h!==(h=e[2]("tooltip.changeColor")))&&j(d,"data-tooltip",h)},i(e){g||(we(r.$$.fragment,e),g=!0)},o(e){ke(r.$$.fragment,e),g=!1},d(e){e&&L(t),Te(r),k&&k.d(),v=!1,o(y)}}}function El(e){let t,n,r,o,i=e[2]("editor.tincture")+"",s=e[3],l=[];for(let t=0;t<s.length;t+=1)l[t]=_l(kl(e,s,t));const a=e=>ke(l[e],1,1,(()=>{l[e]=null}));return{c(){t=M(i),n=M(":\n"),r=I("div");for(let e=0;e<l.length;e+=1)l[e].c();j(r,"class","items")},m(e,i){C(e,t,i),C(e,n,i),C(e,r,i);for(let e=0;e<l.length;e+=1)l[e].m(r,null);o=!0},p(e,[n]){if((!o||4&n)&&i!==(i=e[2]("editor.tincture")+"")&&U(t,i),127&n){let t;for(s=e[3],t=0;t<s.length;t+=1){const o=kl(e,s,t);l[t]?(l[t].p(o,n),we(l[t],1)):(l[t]=_l(o),l[t].c(),we(l[t],1),l[t].m(r,null))}for(ye(),t=s.length;t<l.length;t+=1)a(t);be()}},i(e){if(!o){for(let e=0;e<s.length;e+=1)we(l[e]);o=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)ke(l[e]);o=!1},d(e){e&&L(t),e&&L(n),e&&L(r),A(l,e)}}}function Sl(){this.previousElementSibling?.click()}function Cl(e,t,n){let r,o,i,s,l,a,u;c(e,yt,(e=>n(1,i=e))),c(e,to,(e=>n(2,s=e))),c(e,Gr,(e=>n(8,l=e))),c(e,xr,(e=>n(9,a=e))),c(e,bt,(e=>n(10,u=e)));let{t1:d}=t,{shield:p}=t;const h=e=>{n(0,d=e)};function f(e){g(yt,i[e]=tt[e],i)}return e.$$set=e=>{"t1"in e&&n(0,d=e.t1),"shield"in e&&n(7,p=e.shield)},e.$$.update=()=>{2&e.$$.dirty&&localStorage.setItem("colors",JSON.stringify(i)),2&e.$$.dirty&&n(4,r=e=>tt[e]&&i[e]!==tt[e]),1924&e.$$.dirty&&n(3,o=["metals","colours","stains"].map((e=>Object.keys(u[e]).map((t=>{const n=a[l]?.tinctures?.[t]?s(`tinctures.${t}`):t,r=s(`editor.${e.slice(0,-1)}`);return{coa:{t1:t,shield:p},tip:`${r}: ${n}`}})))).flat())},[d,i,s,o,r,h,f,p,l,a,u,e=>h(e.t1),e=>f(e.t1),function(e){i[e.t1]=this.value,yt.set(i),n(3,o),n(10,u),n(9,a),n(8,l),n(2,s),n(7,p)}]}class Ll extends je{constructor(e){super(),Ne(this,e,Cl,El,s,{t1:0,shield:7})}}function Al(t){let n,r,o,i,s,l,a,c,u,d,p,h=t[1]("editor.type")+"",f=t[1]("editor.tincture")+"",m=t[1]("editor.pattern")+"",g=t[1]("editor.semy")+"";return{c(){n=M(h),r=M(":\n"),o=I("select"),i=I("option"),s=M(f),l=I("option"),a=M(m),c=I("option"),u=M(g),i.__value="tincture",i.value=i.__value,l.__value="pattern",l.value=l.__value,c.__value="semy",c.value=c.__value,void 0===t[0]&&ae((()=>t[2].call(o)))},m(e,h){C(e,n,h),C(e,r,h),C(e,o,h),_(o,i),_(i,s),_(o,l),_(l,a),_(o,c),_(c,u),G(o,t[0]),d||(p=T(o,"change",t[2]),d=!0)},p(e,[t]){2&t&&h!==(h=e[1]("editor.type")+"")&&U(n,h),2&t&&f!==(f=e[1]("editor.tincture")+"")&&U(s,f),2&t&&m!==(m=e[1]("editor.pattern")+"")&&U(a,m),2&t&&g!==(g=e[1]("editor.semy")+"")&&U(u,g),1&t&&G(o,e[0])},i:e,o:e,d(e){e&&L(n),e&&L(r),e&&L(o),d=!1,p()}}}function Il(e,t,n){let r;c(e,to,(e=>n(1,r=e)));let{type:o}=t;return e.$$set=e=>{"type"in e&&n(0,o=e.type)},[o,r,function(){o=F(this),n(0,o)}]}class zl extends je{constructor(e){super(),Ne(this,e,Il,Al,s,{type:0})}}function Ml(e){let t,n,r;function o(t){e[3](t)}let i={};return void 0!==e[0].size&&(i.size=e[0].size),t=new wl({props:i}),ne.push((()=>Me(t,"size",o))),{c(){Oe(t.$$.fragment)},m(e,n){Pe(t,e,n),r=!0},p(e,r){const o={};!n&&1&r&&(n=!0,o.size=e[0].size,ce((()=>n=!1))),t.$set(o)},i(e){r||(we(t.$$.fragment,e),r=!0)},o(e){ke(t.$$.fragment,e),r=!1},d(e){Te(t,e)}}}function Ol(e){let t,n,r,o;function i(t){e[5](t)}let s={shield:e[1]};return void 0!==e[0].t2&&(s.t1=e[0].t2),n=new Ll({props:s}),ne.push((()=>Me(n,"t1",i))),{c(){t=I("div"),Oe(n.$$.fragment),j(t,"class","subsection")},m(e,r){C(e,t,r),Pe(n,t,null),o=!0},p(e,t){const o={};2&t&&(o.shield=e[1]),!r&&1&t&&(r=!0,o.t1=e[0].t2,ce((()=>r=!1))),n.$set(o)},i(e){o||(we(n.$$.fragment,e),o=!0)},o(e){ke(n.$$.fragment,e),o=!1},d(e){e&&L(t),Te(n)}}}function Pl(e){let t,n,r,o;function i(t){e[6](t)}let s={t1:e[0].t1,t2:e[0].t2,size:e[0].size,shield:e[1]};return void 0!==e[0].pattern&&(s.pattern=e[0].pattern),n=new vl({props:s}),ne.push((()=>Me(n,"pattern",i))),{c(){t=I("div"),Oe(n.$$.fragment),j(t,"class","subsection")},m(e,r){C(e,t,r),Pe(n,t,null),o=!0},p(e,t){const o={};1&t&&(o.t1=e[0].t1),1&t&&(o.t2=e[0].t2),1&t&&(o.size=e[0].size),2&t&&(o.shield=e[1]),!r&&1&t&&(r=!0,o.pattern=e[0].pattern,ce((()=>r=!1))),n.$set(o)},i(e){o||(we(n.$$.fragment,e),o=!0)},o(e){ke(n.$$.fragment,e),o=!1},d(e){e&&L(t),Te(n)}}}function Tl(e){let t,n,r,o,i;function s(t){e[7](t)}function l(t){e[8](t)}let a={type:"semy",t1:e[0].t1,t2:e[0].t2,size:e[0].size,shield:e[1]};return void 0!==e[0].charge&&(a.charge=e[0].charge),void 0!==e[0].category&&(a.category=e[0].category),n=new Ys({props:a}),ne.push((()=>Me(n,"charge",s))),ne.push((()=>Me(n,"category",l))),{c(){t=I("div"),Oe(n.$$.fragment),j(t,"class","subsection")},m(e,r){C(e,t,r),Pe(n,t,null),i=!0},p(e,t){const i={};1&t&&(i.t1=e[0].t1),1&t&&(i.t2=e[0].t2),1&t&&(i.size=e[0].size),2&t&&(i.shield=e[1]),!r&&1&t&&(r=!0,i.charge=e[0].charge,ce((()=>r=!1))),!o&&1&t&&(o=!0,i.category=e[0].category,ce((()=>o=!1))),n.$set(i)},i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){ke(n.$$.fragment,e),i=!1},d(e){e&&L(t),Te(n)}}}function Nl(e){let t,n,r,o,i,s,l,a,c,u,d,p,h;function f(t){e[2](t)}let m={};void 0!==e[0].type&&(m.type=e[0].type),n=new zl({props:m}),ne.push((()=>Me(n,"type",f)));let g="tincture"!==e[0].type&&Ml(e);function $(t){e[4](t)}let v={shield:e[1]};void 0!==e[0].t1&&(v.t1=e[0].t1),l=new Ll({props:v}),ne.push((()=>Me(l,"t1",$)));let y="tincture"!==e[0].type&&Ol(e),b="pattern"===e[0].type&&Pl(e),w="semy"===e[0].type&&Tl(e);return{c(){t=I("div"),Oe(n.$$.fragment),o=O(),g&&g.c(),i=O(),s=I("div"),Oe(l.$$.fragment),c=O(),y&&y.c(),u=O(),b&&b.c(),d=O(),w&&w.c(),p=P(),j(t,"class","subsection"),j(s,"class","subsection")},m(e,r){C(e,t,r),Pe(n,t,null),_(t,o),g&&g.m(t,null),C(e,i,r),C(e,s,r),Pe(l,s,null),C(e,c,r),y&&y.m(e,r),C(e,u,r),b&&b.m(e,r),C(e,d,r),w&&w.m(e,r),C(e,p,r),h=!0},p(e,[o]){const i={};!r&&1&o&&(r=!0,i.type=e[0].type,ce((()=>r=!1))),n.$set(i),"tincture"!==e[0].type?g?(g.p(e,o),1&o&&we(g,1)):(g=Ml(e),g.c(),we(g,1),g.m(t,null)):g&&(ye(),ke(g,1,1,(()=>{g=null})),be());const s={};2&o&&(s.shield=e[1]),!a&&1&o&&(a=!0,s.t1=e[0].t1,ce((()=>a=!1))),l.$set(s),"tincture"!==e[0].type?y?(y.p(e,o),1&o&&we(y,1)):(y=Ol(e),y.c(),we(y,1),y.m(u.parentNode,u)):y&&(ye(),ke(y,1,1,(()=>{y=null})),be()),"pattern"===e[0].type?b?(b.p(e,o),1&o&&we(b,1)):(b=Pl(e),b.c(),we(b,1),b.m(d.parentNode,d)):b&&(ye(),ke(b,1,1,(()=>{b=null})),be()),"semy"===e[0].type?w?(w.p(e,o),1&o&&we(w,1)):(w=Tl(e),w.c(),we(w,1),w.m(p.parentNode,p)):w&&(ye(),ke(w,1,1,(()=>{w=null})),be())},i(e){h||(we(n.$$.fragment,e),we(g),we(l.$$.fragment,e),we(y),we(b),we(w),h=!0)},o(e){ke(n.$$.fragment,e),ke(g),ke(l.$$.fragment,e),ke(y),ke(b),ke(w),h=!1},d(e){e&&L(t),Te(n),g&&g.d(),e&&L(i),e&&L(s),Te(l),e&&L(c),y&&y.d(e),e&&L(u),b&&b.d(e),e&&L(d),w&&w.d(e),e&&L(p)}}}function jl(e,t,n){let{field:r}=t,{shield:o}=t;return e.$$set=e=>{"field"in e&&n(0,r=e.field),"shield"in e&&n(1,o=e.shield)},[r,o,function(t){e.$$.not_equal(r.type,t)&&(r.type=t,n(0,r))},function(t){e.$$.not_equal(r.size,t)&&(r.size=t,n(0,r))},function(t){e.$$.not_equal(r.t1,t)&&(r.t1=t,n(0,r))},function(t){e.$$.not_equal(r.t2,t)&&(r.t2=t,n(0,r))},function(t){e.$$.not_equal(r.pattern,t)&&(r.pattern=t,n(0,r))},function(t){e.$$.not_equal(r.charge,t)&&(r.charge=t,n(0,r))},function(t){e.$$.not_equal(r.category,t)&&(r.category=t,n(0,r))}]}class Bl extends je{constructor(e){super(),Ne(this,e,jl,Nl,s,{field:0,shield:1})}}function Dl(t){let n,r,i,s,l,a,c,u,d,p,h,f,m,g,v,y,b,w,k,x=t[2]("editor.name")+"",E=t[2]("editor.zoom")+"";return{c(){n=I("div"),r=I("span"),i=I("span"),s=M(x),l=M(":"),a=O(),c=I("input"),d=O(),p=I("div"),h=I("span"),f=I("span"),m=M(E),g=M(":"),v=O(),y=I("input"),j(c,"type","text"),j(r,"data-tooltip",u=t[2]("tooltip.coaName")),j(n,"class","subsection"),j(y,"type","number"),j(y,"min","0.1"),j(y,"max","1"),j(y,"step","0.1"),j(y,"class","svelte-17wdl8q"),j(h,"data-tooltip",b=t[2]("tooltip.zoom")),j(p,"class","subsection")},m(e,o){C(e,n,o),_(n,r),_(r,i),_(i,s),_(i,l),_(r,a),_(r,c),R(c,t[0]),C(e,d,o),C(e,p,o),_(p,h),_(h,f),_(f,m),_(f,g),_(h,v),_(h,y),R(y,t[1]),w||(k=[T(c,"input",t[3]),$(Bs.call(null,r)),T(y,"input",t[4]),$(Bs.call(null,h))],w=!0)},p(e,[t]){4&t&&x!==(x=e[2]("editor.name")+"")&&U(s,x),1&t&&c.value!==e[0]&&R(c,e[0]),4&t&&u!==(u=e[2]("tooltip.coaName"))&&j(r,"data-tooltip",u),4&t&&E!==(E=e[2]("editor.zoom")+"")&&U(m,E),2&t&&D(y.value)!==e[1]&&R(y,e[1]),4&t&&b!==(b=e[2]("tooltip.zoom"))&&j(h,"data-tooltip",b)},i:e,o:e,d(e){e&&L(n),e&&L(d),e&&L(p),w=!1,o(k)}}}function Ul(e,t,n){let r;c(e,to,(e=>n(2,r=e)));let{name:o}=t,{zoom:i}=t;return e.$$set=e=>{"name"in e&&n(0,o=e.name),"zoom"in e&&n(1,i=e.zoom)},[o,i,r,function(){o=this.value,n(0,o)},function(){i=D(this.value),n(1,i)}]}class Rl extends je{constructor(e){super(),Ne(this,e,Ul,Dl,s,{name:0,zoom:1})}}function ql(e,t,n){const r=e.slice();return r[12]=t[n],r}function Gl(e){let t,n,r,o=e[12]+"";return{c(){t=I("option"),n=M(o),t.__value=r=e[12],t.value=t.__value,q(t,"font-family",e[12])},m(e,r){C(e,t,r),_(t,n)},p(e,i){4&i&&o!==(o=e[12]+"")&&U(n,o),4&i&&r!==(r=e[12])&&(t.__value=r,t.value=t.__value),4&i&&q(t,"font-family",e[12])},d(e){e&&L(t)}}}function Fl(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,v,y,b,w,k,x,E,S,P,N,B,q,F,H,V,J,Z,K,W,X,Y,Q,ee,te,re,oe,ie,se,le,ue,de,pe,he,fe,me,ge,$e,ve,ye,be,xe,_e,Ee,Se,Ce,Le,Ae,Ie,ze=e[1]("editor.inscriptions.text")+"",Ne=e[1]("editor.inscriptions.font")+"",je=e[1]("editor.inscriptions.size")+"",Be=e[1]("editor.inscriptions.bold")+"",De=e[1]("editor.inscriptions.italic")+"",Ue=e[1]("editor.inscriptions.spacing")+"",Re=e[1]("editor.inscriptions.color")+"",qe=Object.keys(e[2]),Ge=[];for(let t=0;t<qe.length;t+=1)Ge[t]=Gl(ql(e,qe,t));function Fe(t){e[8](t)}let He={};function Ve(t){e[9](t)}void 0!==e[0].bold&&(He.checked=e[0].bold),X=new Ns({props:He}),ne.push((()=>Me(X,"checked",Fe)));let Je={};return void 0!==e[0].italic&&(Je.checked=e[0].italic),se=new Ns({props:Je}),ne.push((()=>Me(se,"checked",Ve))),{c(){t=I("span"),n=I("span"),r=M(ze),i=M(":"),s=O(),l=I("input"),c=O(),u=I("span"),d=I("span"),p=M(Ne),h=M(":"),f=O(),m=I("select");for(let e=0;e<Ge.length;e+=1)Ge[e].c();v=O(),y=I("button"),b=z("svg"),w=z("use"),x=O(),E=I("span"),S=I("span"),P=M(je),N=M(":"),B=O(),q=I("input"),H=O(),V=I("span"),J=I("span"),Z=M(Be),K=M(":"),W=O(),Oe(X.$$.fragment),Q=O(),ee=I("span"),te=I("span"),re=M(De),oe=M(":"),ie=O(),Oe(se.$$.fragment),ue=O(),de=I("span"),pe=I("span"),he=M(Ue),fe=M(":"),me=O(),ge=I("input"),ve=O(),ye=I("span"),be=I("span"),xe=M(Re),_e=M(":"),Ee=O(),Se=I("input"),j(n,"class","svelte-h0hkf1"),j(l,"type","text"),j(t,"data-tooltip",a=e[1]("tooltip.inscriptions.text")),j(t,"class","svelte-h0hkf1"),j(d,"class","svelte-h0hkf1"),j(m,"data-tooltip",g=e[1]("tooltip.inscriptions.font")),void 0===e[0].font&&ae((()=>e[5].call(m))),j(w,"href","#plus-icon"),j(b,"class","icon svelte-h0hkf1"),j(y,"data-tooltip",k=e[1]("tooltip.inscriptions.addFont")),j(u,"class","svelte-h0hkf1"),j(S,"class","svelte-h0hkf1"),j(q,"type","number"),j(q,"min","1"),j(q,"max","100"),j(q,"class","svelte-h0hkf1"),j(E,"data-tooltip",F=e[1]("tooltip.inscriptions.size")),j(E,"class","svelte-h0hkf1"),j(J,"class","svelte-h0hkf1"),j(V,"class","svelte-h0hkf1"),j(te,"class","svelte-h0hkf1"),j(ee,"class","svelte-h0hkf1"),j(pe,"class","svelte-h0hkf1"),j(ge,"type","number"),j(ge,"min","-2"),j(ge,"max","10"),j(ge,"step","0.1"),j(ge,"class","svelte-h0hkf1"),j(de,"data-tooltip",$e=e[1]("tooltip.inscriptions.spacing")),j(de,"class","svelte-h0hkf1"),j(be,"class","svelte-h0hkf1"),j(Se,"type","color"),j(Se,"class","svelte-h0hkf1"),j(ye,"data-tooltip",Ce=e[1]("tooltip.inscriptions.color")),j(ye,"class","svelte-h0hkf1")},m(o,a){C(o,t,a),_(t,n),_(n,r),_(n,i),_(t,s),_(t,l),R(l,e[0].text),C(o,c,a),C(o,u,a),_(u,d),_(d,p),_(d,h),_(u,f),_(u,m);for(let e=0;e<Ge.length;e+=1)Ge[e].m(m,null);G(m,e[0].font),_(u,v),_(u,y),_(y,b),_(b,w),C(o,x,a),C(o,E,a),_(E,S),_(S,P),_(S,N),_(E,B),_(E,q),R(q,e[0].size),C(o,H,a),C(o,V,a),_(V,J),_(J,Z),_(J,K),_(V,W),Pe(X,V,null),C(o,Q,a),C(o,ee,a),_(ee,te),_(te,re),_(te,oe),_(ee,ie),Pe(se,ee,null),C(o,ue,a),C(o,de,a),_(de,pe),_(pe,he),_(pe,fe),_(de,me),_(de,ge),R(ge,e[0].spacing),C(o,ve,a),C(o,ye,a),_(ye,be),_(be,xe),_(be,_e),_(ye,Ee),_(ye,Se),R(Se,e[0].color),Le=!0,Ae||(Ie=[T(l,"input",e[4]),$(Bs.call(null,t)),T(m,"change",e[5]),$(Bs.call(null,m)),T(y,"click",e[6]),$(Bs.call(null,y)),T(q,"input",e[7]),$(Bs.call(null,E)),T(ge,"input",e[10]),$(Bs.call(null,de)),T(Se,"input",e[11]),$(Bs.call(null,ye))],Ae=!0)},p(e,[n]){if((!Le||2&n)&&ze!==(ze=e[1]("editor.inscriptions.text")+"")&&U(r,ze),5&n&&l.value!==e[0].text&&R(l,e[0].text),(!Le||2&n&&a!==(a=e[1]("tooltip.inscriptions.text")))&&j(t,"data-tooltip",a),(!Le||2&n)&&Ne!==(Ne=e[1]("editor.inscriptions.font")+"")&&U(p,Ne),4&n){let t;for(qe=Object.keys(e[2]),t=0;t<qe.length;t+=1){const r=ql(e,qe,t);Ge[t]?Ge[t].p(r,n):(Ge[t]=Gl(r),Ge[t].c(),Ge[t].m(m,null))}for(;t<Ge.length;t+=1)Ge[t].d(1);Ge.length=qe.length}(!Le||2&n&&g!==(g=e[1]("tooltip.inscriptions.font")))&&j(m,"data-tooltip",g),5&n&&G(m,e[0].font),(!Le||2&n&&k!==(k=e[1]("tooltip.inscriptions.addFont")))&&j(y,"data-tooltip",k),(!Le||2&n)&&je!==(je=e[1]("editor.inscriptions.size")+"")&&U(P,je),5&n&&D(q.value)!==e[0].size&&R(q,e[0].size),(!Le||2&n&&F!==(F=e[1]("tooltip.inscriptions.size")))&&j(E,"data-tooltip",F),(!Le||2&n)&&Be!==(Be=e[1]("editor.inscriptions.bold")+"")&&U(Z,Be);const o={};!Y&&1&n&&(Y=!0,o.checked=e[0].bold,ce((()=>Y=!1))),X.$set(o),(!Le||2&n)&&De!==(De=e[1]("editor.inscriptions.italic")+"")&&U(re,De);const i={};!le&&1&n&&(le=!0,i.checked=e[0].italic,ce((()=>le=!1))),se.$set(i),(!Le||2&n)&&Ue!==(Ue=e[1]("editor.inscriptions.spacing")+"")&&U(he,Ue),5&n&&D(ge.value)!==e[0].spacing&&R(ge,e[0].spacing),(!Le||2&n&&$e!==($e=e[1]("tooltip.inscriptions.spacing")))&&j(de,"data-tooltip",$e),(!Le||2&n)&&Re!==(Re=e[1]("editor.inscriptions.color")+"")&&U(xe,Re),5&n&&R(Se,e[0].color),(!Le||2&n&&Ce!==(Ce=e[1]("tooltip.inscriptions.color")))&&j(ye,"data-tooltip",Ce)},i(e){Le||(we(X.$$.fragment,e),we(se.$$.fragment,e),Le=!0)},o(e){ke(X.$$.fragment,e),ke(se.$$.fragment,e),Le=!1},d(e){e&&L(t),e&&L(c),e&&L(u),A(Ge,e),e&&L(x),e&&L(E),e&&L(H),e&&L(V),Te(X),e&&L(Q),e&&L(ee),Te(se),e&&L(ue),e&&L(de),e&&L(ve),e&&L(ye),Ae=!1,o(Ie)}}}function Hl(e,t,n){let r,o,i;c(e,to,(e=>n(1,r=e))),c(e,wt,(e=>n(2,o=e))),c(e,Ot,(e=>n(3,i=e)));let{inscription:s}=t;return e.$$set=e=>{"inscription"in e&&n(0,s=e.inscription)},[s,r,o,i,function(){s.text=this.value,n(0,s)},function(){s.font=F(this),n(0,s)},()=>g(Ot,i.fonts=1,i),function(){s.size=D(this.value),n(0,s)},function(t){e.$$.not_equal(s.bold,t)&&(s.bold=t,n(0,s))},function(t){e.$$.not_equal(s.italic,t)&&(s.italic=t,n(0,s))},function(){s.spacing=D(this.value),n(0,s)},function(){s.color=this.value,n(0,s)}]}class Vl extends je{constructor(e){super(),Ne(this,e,Hl,Fl,s,{inscription:0})}}function Jl(e){let t,n,r,o,i,s,l,a,c,u,d,p=e[1]("editor.layered")+"";function h(t){e[2](t)}let f={};return void 0!==e[0]&&(f.checked=e[0]),s=new Ns({props:f}),ne.push((()=>Me(s,"checked",h))),{c(){t=I("span"),n=I("span"),r=M(p),o=M(":"),i=O(),Oe(s.$$.fragment),q(n,"margin-left","1em"),j(t,"data-tooltip",a=e[1]("tooltip.layered"))},m(e,l){C(e,t,l),_(t,n),_(n,r),_(n,o),_(t,i),Pe(s,t,null),c=!0,u||(d=$(Bs.call(null,t)),u=!0)},p(e,[n]){(!c||2&n)&&p!==(p=e[1]("editor.layered")+"")&&U(r,p);const o={};!l&&1&n&&(l=!0,o.checked=e[0],ce((()=>l=!1))),s.$set(o),(!c||2&n&&a!==(a=e[1]("tooltip.layered")))&&j(t,"data-tooltip",a)},i(e){c||(we(s.$$.fragment,e),c=!0)},o(e){ke(s.$$.fragment,e),c=!1},d(e){e&&L(t),Te(s),u=!1,d()}}}function Zl(e,t,n){let r;c(e,to,(e=>n(1,r=e)));let{layered:o}=t;return e.$$set=e=>{"layered"in e&&n(0,o=e.layered)},[o,r,function(e){o=e,n(0,o)}]}class Kl extends je{constructor(e){super(),Ne(this,e,Zl,Jl,s,{layered:0})}}function Wl(e,t,n){const r=e.slice();return r[11]=t[n].coa,r[12]=t[n].newLine,r}function Xl(e,t){let n,r,o,s,l,a;return r=new Fs({props:{coa:t[11],tip:t[3](t[12])}}),{key:e,first:null,c(){n=I("div"),Oe(r.$$.fragment),o=O(),j(n,"class","item"),H(n,"selected",t[0]===t[12]),this.first=n},m(e,c){C(e,n,c),Pe(r,n,null),_(n,o),s=!0,l||(a=T(n,"click",(function(){i(t[4](t[12]))&&t[4](t[12]).apply(this,arguments)})),l=!0)},p(e,o){t=e;const i={};2&o&&(i.coa=t[11]),2&o&&(i.tip=t[3](t[12])),r.$set(i),3&o&&H(n,"selected",t[0]===t[12])},i(e){s||(we(r.$$.fragment,e),s=!0)},o(e){ke(r.$$.fragment,e),s=!1},d(e){e&&L(n),Te(r),l=!1,a()}}}function Yl(e){let t,n,r,o,i=e[2]("editor.line")+"",s=[],l=new Map,a=e[1];const c=e=>e[11];for(let t=0;t<a.length;t+=1){let n=Wl(e,a,t),r=c(n);l.set(r,s[t]=Xl(r,n))}return{c(){t=M(i),n=M(":\n"),r=I("div");for(let e=0;e<s.length;e+=1)s[e].c();j(r,"class","items")},m(e,i){C(e,t,i),C(e,n,i),C(e,r,i);for(let e=0;e<s.length;e+=1)s[e].m(r,null);o=!0},p(e,[n]){(!o||4&n)&&i!==(i=e[2]("editor.line")+"")&&U(t,i),27&n&&(a=e[1],ye(),s=ze(s,n,c,1,e,a,l,r,Ae,Xl,null,Wl),be())},i(e){if(!o){for(let e=0;e<a.length;e+=1)we(s[e]);o=!0}},o(e){for(let e=0;e<s.length;e+=1)ke(s[e]);o=!1},d(e){e&&L(t),e&&L(n),e&&L(r);for(let e=0;e<s.length;e+=1)s[e].d()}}}function Ql(e,t,n){let r,o;c(e,to,(e=>n(2,o=e)));let{line:i}=t,{division:s=null}=t,{ordinary:l=null}=t,{t1:a}=t,{t2:u}=t,{shield:d}=t;const p=Object.keys(Je.variants);return e.$$set=e=>{"line"in e&&n(0,i=e.line),"division"in e&&n(5,s=e.division),"ordinary"in e&&n(6,l=e.ordinary),"t1"in e&&n(7,a=e.t1),"t2"in e&&n(8,u=e.t2),"shield"in e&&n(9,d=e.shield)},e.$$.update=()=>{992&e.$$.dirty&&n(1,r=s?p.map((e=>({coa:{t1:a,shield:d,division:{division:s,t:u,line:e}},newLine:e}))):p.map((e=>({coa:{t1:a,shield:d,ordinaries:[{ordinary:l,t:u,line:e}]},newLine:e}))))},[i,r,o,e=>`${o("editor.line")}: ${o(`lines.${e}`)}`,e=>()=>{n(0,i=e)},s,l,a,u,d]}class ea extends je{constructor(e){super(),Ne(this,e,Ql,Yl,s,{line:0,division:5,ordinary:6,t1:7,t2:8,shield:9})}}function ta(e,t,n){const r=e.slice();return r[10]=t[n].coa,r[11]=t[n].ordinaryName,r}function na(e,t){let n,r,o,s,l,a;return r=new Fs({props:{coa:t[10],tip:t[2](t[11])}}),{key:e,first:null,c(){n=I("div"),Oe(r.$$.fragment),o=O(),j(n,"class","item"),H(n,"selected",t[0]===t[11]),this.first=n},m(e,c){C(e,n,c),Pe(r,n,null),_(n,o),s=!0,l||(a=T(n,"click",(function(){i(t[3](t[11]))&&t[3](t[11]).apply(this,arguments)})),l=!0)},p(e,o){t=e;const i={};2&o&&(i.coa=t[10]),2&o&&(i.tip=t[2](t[11])),r.$set(i),3&o&&H(n,"selected",t[0]===t[11])},i(e){s||(we(r.$$.fragment,e),s=!0)},o(e){ke(r.$$.fragment,e),s=!1},d(e){e&&L(n),Te(r),l=!1,a()}}}function ra(e){let t,n,r=[],o=new Map,i=e[1];const s=e=>e[10];for(let t=0;t<i.length;t+=1){let n=ta(e,i,t),l=s(n);o.set(l,r[t]=na(l,n))}return{c(){t=I("div");for(let e=0;e<r.length;e+=1)r[e].c();j(t,"class","items")},m(e,o){C(e,t,o);for(let e=0;e<r.length;e+=1)r[e].m(t,null);n=!0},p(e,[n]){15&n&&(i=e[1],ye(),r=ze(r,n,s,1,e,i,o,t,Ae,na,null,ta),be())},i(e){if(!n){for(let e=0;e<i.length;e+=1)we(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)ke(r[e]);n=!1},d(e){e&&L(t);for(let e=0;e<r.length;e+=1)r[e].d()}}}function oa(e,t,n){let r,o;c(e,to,(e=>n(8,o=e)));let{ordinary:i}=t,{line:s}=t,{t1:l}=t,{t2:a}=t,{shield:u}=t;const d=Object.keys(Ue.lined).concat(Object.keys(Ue.straight));return e.$$set=e=>{"ordinary"in e&&n(0,i=e.ordinary),"line"in e&&n(4,s=e.line),"t1"in e&&n(5,l=e.t1),"t2"in e&&n(6,a=e.t2),"shield"in e&&n(7,u=e.shield)},e.$$.update=()=>{240&e.$$.dirty&&n(1,r=d.map((e=>({coa:{t1:l,shield:u,ordinaries:[{ordinary:e,line:s,t:a}]},ordinaryName:e}))))},[i,r,e=>{const t=o(`ordinaries.${e}`);return`${o("editor.ordinary")}: ${t}`},e=>()=>{n(0,i=e)},s,l,a,u]}class ia extends je{constructor(e){super(),Ne(this,e,oa,ra,s,{ordinary:0,line:4,t1:5,t2:6,shield:7})}}function sa(e){let t,n,r=e[2]("editor.aroundShield")+"";return{c(){t=I("option"),n=M(r),t.__value="around",t.value=t.__value},m(e,r){C(e,t,r),_(t,n)},p(e,t){4&t&&r!==(r=e[2]("editor.aroundShield")+"")&&U(n,r)},d(e){e&&L(t)}}}function la(t){let n,r,i,s,l,a,c,u,d,p,h,f,m,g,v,y=t[2]("editor.outsideShield")+"",b=t[2]("editor.notOutside")+"",w=t[2]("editor.aboveShield")+"",k=t[2]("editor.belowShield")+"",x=Be.data[t[1]]?.layered&&sa(t);return{c(){n=I("span"),r=I("span"),i=M(y),s=M(":"),l=O(),a=I("select"),c=I("option"),u=M(b),d=I("option"),p=M(w),h=I("option"),f=M(k),x&&x.c(),q(r,"margin-left","1em"),c.__value="",c.value=c.__value,d.__value="above",d.value=d.__value,h.__value="below",h.value=h.__value,void 0===t[0]&&ae((()=>t[3].call(a))),j(n,"data-tooltip",m=t[2]("tooltip.outsideShield"))},m(e,o){C(e,n,o),_(n,r),_(r,i),_(r,s),_(n,l),_(n,a),_(a,c),_(c,u),_(a,d),_(d,p),_(a,h),_(h,f),x&&x.m(a,null),G(a,t[0]),g||(v=[T(a,"change",t[3]),$(Bs.call(null,n))],g=!0)},p(e,[t]){4&t&&y!==(y=e[2]("editor.outsideShield")+"")&&U(i,y),4&t&&b!==(b=e[2]("editor.notOutside")+"")&&U(u,b),4&t&&w!==(w=e[2]("editor.aboveShield")+"")&&U(p,w),4&t&&k!==(k=e[2]("editor.belowShield")+"")&&U(f,k),Be.data[e[1]]?.layered?x?x.p(e,t):(x=sa(e),x.c(),x.m(a,null)):x&&(x.d(1),x=null),1&t&&G(a,e[0]),4&t&&m!==(m=e[2]("tooltip.outsideShield"))&&j(n,"data-tooltip",m)},i:e,o:e,d(e){e&&L(n),x&&x.d(),g=!1,o(v)}}}function aa(e,t,n){let r;c(e,to,(e=>n(2,r=e)));let{charge:o}=t,{outside:i}=t;return e.$$set=e=>{"charge"in e&&n(1,o=e.charge),"outside"in e&&n(0,i=e.outside)},[i,o,r,function(){i=F(this),n(0,i)}]}class ca extends je{constructor(e){super(),Ne(this,e,aa,la,s,{charge:1,outside:0})}}function ua(e){let t,n,r;return{c(){t=I("input"),j(t,"type","text"),t.value=e[0],j(t,"class","svelte-n767ga")},m(o,i){C(o,t,i),n||(r=T(t,"blur",e[9]),n=!0)},p(e,n){1&n&&t.value!==e[0]&&(t.value=e[0])},d(e){e&&L(t),n=!1,r()}}}function da(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,v,y,b,w,k,x,E,S,A=e[4]("editor.shift")+"",z=e[4]("editor.inscriptions.all")+"",P=e[4]("editor.inscriptions.start")+"",N=e[4]("editor.inscriptions.end")+"",B="curve"===e[2].type&&pa(e);return{c(){t=I("span"),n=I("span"),r=M(A),i=M(":"),s=O(),l=I("select"),a=I("option"),c=M(z),u=I("option"),d=M(P),p=I("option"),h=M(N),B&&B.c(),m=O(),g=I("input"),y=O(),b=I("input"),j(n,"class","svelte-n767ga"),a.__value="-1",a.value=a.__value,u.__value="0",u.value=u.__value,p.__value="1",p.value=p.__value,j(g,"type","number"),j(g,"min","-100"),j(g,"max","100"),j(g,"step",e[5]),g.value=v=e[2].points[-1==e[3]?0:e[3]].x,j(g,"class","svelte-n767ga"),j(b,"type","number"),j(b,"min","-100"),j(b,"max","100"),j(b,"step",e[5]),b.value=w=e[2].points[-1==e[3]?0:e[3]].y,j(b,"class","svelte-n767ga"),j(t,"data-tooltip",k=e[4]("tooltip.shift")),j(t,"class","svelte-n767ga")},m(o,f){C(o,t,f),_(t,n),_(n,r),_(n,i),_(t,s),_(t,l),_(l,a),_(a,c),_(l,u),_(u,d),_(l,p),_(p,h),B&&B.m(l,null),G(l,e[3].toString()),_(t,m),_(t,g),_(t,y),_(t,b),E||(S=[T(l,"change",e[10]),T(g,"change",e[11]),T(b,"change",e[12]),$(x=Bs.call(null,t))],E=!0)},p(e,n){16&n&&A!==(A=e[4]("editor.shift")+"")&&U(r,A),16&n&&z!==(z=e[4]("editor.inscriptions.all")+"")&&U(c,z),16&n&&P!==(P=e[4]("editor.inscriptions.start")+"")&&U(d,P),16&n&&N!==(N=e[4]("editor.inscriptions.end")+"")&&U(h,N),"curve"===e[2].type?B?B.p(e,n):(B=pa(e),B.c(),B.m(l,null)):B&&(B.d(1),B=null),8&n&&f!==(f=e[3].toString())&&G(l,e[3].toString()),32&n&&j(g,"step",e[5]),12&n&&v!==(v=e[2].points[-1==e[3]?0:e[3]].x)&&(g.value=v),32&n&&j(b,"step",e[5]),12&n&&w!==(w=e[2].points[-1==e[3]?0:e[3]].y)&&(b.value=w),16&n&&k!==(k=e[4]("tooltip.shift"))&&j(t,"data-tooltip",k)},d(e){e&&L(t),B&&B.d(),E=!1,o(S)}}}function pa(e){let t,n,r=e[4]("editor.inscriptions.control")+"";return{c(){t=I("option"),n=M(r),t.__value="2",t.value=t.__value},m(e,r){C(e,t,r),_(t,n)},p(e,t){16&t&&r!==(r=e[4]("editor.inscriptions.control")+"")&&U(n,r)},d(e){e&&L(t)}}}function ha(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,v,y,b,w,k,x,E,S,A,z,P,N,B,q,F,H,V,J=e[4]("editor.inscriptions.path")+"",Z=e[4]("editor.inscriptions.line")+"",K=e[4]("editor.inscriptions.curve")+"",W=e[4]("editor.inscriptions.custom")+"",X=e[4]("editor.step")+"",Y="custom"===e[2].type&&ua(e),Q="custom"!==e[2].type&&da(e);function ee(t){e[14](t)}let te={};return void 0!==e[6]&&(te.checked=e[6]),N=new Ns({props:te}),ne.push((()=>Me(N,"checked",ee))),{c(){t=I("span"),n=I("span"),r=M(J),i=M(":"),s=O(),l=I("select"),a=I("option"),c=M(Z),u=I("option"),d=M(K),p=I("option"),h=M(W),m=O(),Y&&Y.c(),v=O(),Q&&Q.c(),y=O(),b=I("span"),w=I("span"),k=M(X),x=M(":"),E=O(),S=I("input"),z=O(),P=I("span"),Oe(N.$$.fragment),j(n,"class","svelte-n767ga"),a.__value="line",a.value=a.__value,u.__value="curve",u.value=u.__value,p.__value="custom",p.value=p.__value,j(t,"data-tooltip",g=e[4]("tooltip.inscriptions.path")),j(t,"class","svelte-n767ga"),j(w,"class","svelte-n767ga"),j(S,"type","number"),j(S,"min","1"),j(S,"max","50"),j(S,"class","svelte-n767ga"),j(b,"data-tooltip",A=e[4]("tooltip.step")),j(b,"class","svelte-n767ga"),j(P,"data-tooltip",q=e[4]("tooltip.showGrid"))},m(o,f){C(o,t,f),_(t,n),_(n,r),_(n,i),_(t,s),_(t,l),_(l,a),_(a,c),_(l,u),_(u,d),_(l,p),_(p,h),G(l,e[2].type),_(t,m),Y&&Y.m(t,null),C(o,v,f),Q&&Q.m(o,f),C(o,y,f),C(o,b,f),_(b,w),_(w,k),_(w,x),_(b,E),_(b,S),R(S,e[5]),C(o,z,f),C(o,P,f),Pe(N,P,null),F=!0,H||(V=[T(l,"change",e[7]),$(Bs.call(null,t)),T(S,"input",e[13]),$(Bs.call(null,b)),$(Bs.call(null,P))],H=!0)},p(e,[n]){(!F||16&n)&&J!==(J=e[4]("editor.inscriptions.path")+"")&&U(r,J),(!F||16&n)&&Z!==(Z=e[4]("editor.inscriptions.line")+"")&&U(c,Z),(!F||16&n)&&K!==(K=e[4]("editor.inscriptions.curve")+"")&&U(d,K),(!F||16&n)&&W!==(W=e[4]("editor.inscriptions.custom")+"")&&U(h,W),(!F||4&n&&f!==(f=e[2].type))&&G(l,e[2].type),"custom"===e[2].type?Y?Y.p(e,n):(Y=ua(e),Y.c(),Y.m(t,null)):Y&&(Y.d(1),Y=null),(!F||16&n&&g!==(g=e[4]("tooltip.inscriptions.path")))&&j(t,"data-tooltip",g),"custom"!==e[2].type?Q?Q.p(e,n):(Q=da(e),Q.c(),Q.m(y.parentNode,y)):Q&&(Q.d(1),Q=null),(!F||16&n)&&X!==(X=e[4]("editor.step")+"")&&U(k,X),32&n&&D(S.value)!==e[5]&&R(S,e[5]),(!F||16&n&&A!==(A=e[4]("tooltip.step")))&&j(b,"data-tooltip",A);const o={};!B&&64&n&&(B=!0,o.checked=e[6],ce((()=>B=!1))),N.$set(o),(!F||16&n&&q!==(q=e[4]("tooltip.showGrid")))&&j(P,"data-tooltip",q)},i(e){F||(we(N.$$.fragment,e),F=!0)},o(e){ke(N.$$.fragment,e),F=!1},d(e){e&&L(t),Y&&Y.d(),e&&L(v),Q&&Q.d(e),e&&L(y),e&&L(b),e&&L(z),e&&L(P),Te(N),H=!1,o(V)}}}function fa(e,t,n){let r,o,i,s;c(e,Ot,(e=>n(1,r=e))),c(e,to,(e=>n(4,o=e))),c(e,Ct,(e=>n(5,i=e))),c(e,Lt,(e=>n(6,s=e)));let l,a,u,{path:d}=t;function p(e){if(-1!=u)void 0!==e.x&&n(2,l.points[u].x=e.x,l),void 0!==e.y&&n(2,l.points[u].y=e.y,l);else{const t=void 0===e.x?0:e.x-l.points[0].x,n=void 0===e.y?0:e.y-l.points[0].y;l.points.forEach((function(e){e.x+=t,e.y+=n}))}n(0,d=ii(l.type,l.points))}return e.$$set=e=>{"path"in e&&n(0,d=e.path)},e.$$.update=()=>{1&e.$$.dirty&&(n(2,l=oi(d)),a=l.type),3&e.$$.dirty&&(r.pathChangeMode,n(3,u=r.pathChangeMode),("line"===a&&2===u||void 0===u)&&n(3,u=-1))},[d,r,l,u,o,i,s,function(e){if(n(2,l.type=e.target.value,l),"line"==l.type&&("curve"===a?(2===u&&g(Ot,r.pathChangeMode=-1,r),n(0,d=ii("line",l.points))):"custom"===a&&n(0,d="M-50 0 L50 0")),"curve"===l.type)if("line"===a){const e=l.points;n(0,d=ii("curve",[e[0],e[1],{x:Math.floor((e[0].x+e[1].x)/2),y:Math.floor((e[0].y+e[1].y)/2)}]))}else"custom"===a&&n(0,d="M-50 0 Q0 -20 50 0")},p,e=>n(0,d=e.target.value),e=>g(Ot,r.pathChangeMode=parseInt(e.target.value),r),e=>p({x:e.target.value}),e=>p({y:e.target.value}),function(){i=D(this.value),Ct.set(i)},function(e){s=e,Lt.set(s)}]}class ma extends je{constructor(e){super(),Ne(this,e,fa,ha,s,{path:0})}}function ga(e,t,n){const r=e.slice();return r[10]=t[n],r}function $a(t){let n,r,o,i=t[10]+"";return{c(){n=I("option"),r=M(i),n.__value=o=t[10],n.value=n.__value},m(e,t){C(e,n,t),_(n,r)},p:e,d(e){e&&L(n)}}}function va(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,v,y,b,w,k,x,E,S,z,P,N,B,D,F=e[1]("editor.positions")+"",H=e[1]("editor.sinister")+"",V=e[1]("editor.reversed")+"",J=Fe,Z=[];for(let t=0;t<J.length;t+=1)Z[t]=$a(ga(e,J,t));function K(t){e[7](t)}let W={};function X(t){e[8](t)}void 0!==e[0].sinister&&(W.checked=e[0].sinister),m=new Ns({props:W}),ne.push((()=>Me(m,"checked",K)));let Y={};return void 0!==e[0].reversed&&(Y.checked=e[0].reversed),S=new Ns({props:Y}),ne.push((()=>Me(S,"checked",X))),{c(){t=I("span"),n=M(F),r=M(":\n  "),i=I("input"),s=O(),l=I("select");for(let e=0;e<Z.length;e+=1)Z[e].c();c=O(),u=I("span"),d=I("span"),p=M(H),h=M(":"),f=O(),Oe(m.$$.fragment),y=O(),b=I("span"),w=I("span"),k=M(V),x=M(":"),E=O(),Oe(S.$$.fragment),j(i,"class","svelte-gqtmdl"),j(l,"class","svelte-gqtmdl"),void 0===e[0].p&&ae((()=>e[6].call(l))),j(t,"data-tooltip",a=e[1]("tooltip.positions")),q(d,"margin-left","1em"),j(d,"class","svelte-gqtmdl"),j(u,"data-tooltip",v=e[1]("tooltip.sinister")),j(u,"class","svelte-gqtmdl"),q(w,"margin-left","1em"),j(w,"class","svelte-gqtmdl"),j(b,"data-tooltip",P=e[1]("tooltip.reversed")),j(b,"class","svelte-gqtmdl")},m(o,a){C(o,t,a),_(t,n),_(t,r),_(t,i),R(i,e[0].p),_(t,s),_(t,l);for(let e=0;e<Z.length;e+=1)Z[e].m(l,null);G(l,e[0].p),C(o,c,a),C(o,u,a),_(u,d),_(d,p),_(d,h),_(u,f),Pe(m,u,null),C(o,y,a),C(o,b,a),_(b,w),_(w,k),_(w,x),_(b,E),Pe(S,b,null),N=!0,B||(D=[T(i,"input",e[5]),T(i,"input",e[2]),T(i,"focus",e[2]),T(i,"blur",e[3]),T(l,"change",e[6]),T(l,"change",e[4]),T(l,"focus",e[2]),T(l,"blur",e[3]),$(Bs.call(null,t)),$(Bs.call(null,u)),$(Bs.call(null,b))],B=!0)},p(e,[r]){if((!N||2&r)&&F!==(F=e[1]("editor.positions")+"")&&U(n,F),1&r&&i.value!==e[0].p&&R(i,e[0].p),0&r){let t;for(J=Fe,t=0;t<J.length;t+=1){const n=ga(e,J,t);Z[t]?Z[t].p(n,r):(Z[t]=$a(n),Z[t].c(),Z[t].m(l,null))}for(;t<Z.length;t+=1)Z[t].d(1);Z.length=J.length}1&r&&G(l,e[0].p),(!N||2&r&&a!==(a=e[1]("tooltip.positions")))&&j(t,"data-tooltip",a),(!N||2&r)&&H!==(H=e[1]("editor.sinister")+"")&&U(p,H);const o={};!g&&1&r&&(g=!0,o.checked=e[0].sinister,ce((()=>g=!1))),m.$set(o),(!N||2&r&&v!==(v=e[1]("tooltip.sinister")))&&j(u,"data-tooltip",v),(!N||2&r)&&V!==(V=e[1]("editor.reversed")+"")&&U(k,V);const s={};!z&&1&r&&(z=!0,s.checked=e[0].reversed,ce((()=>z=!1))),S.$set(s),(!N||2&r&&P!==(P=e[1]("tooltip.reversed")))&&j(b,"data-tooltip",P)},i(e){N||(we(m.$$.fragment,e),we(S.$$.fragment,e),N=!0)},o(e){ke(m.$$.fragment,e),ke(S.$$.fragment,e),N=!1},d(e){e&&L(t),A(Z,e),e&&L(c),e&&L(u),Te(m),e&&L(y),e&&L(b),Te(S),B=!1,o(D)}}}function ya(e,t,n){let r,o;c(e,Ot,(e=>n(9,r=e))),c(e,to,(e=>n(1,o=e)));let{charge:i}=t;function s(){g(Ot,r.transform=`rotate(${i.angle||0}) translate(${i.x||0}, ${i.y||0})`,r),g(Ot,r.positions=i.p,r)}return e.$$set=e=>{"charge"in e&&n(0,i=e.charge)},[i,o,s,function(){g(Ot,r.positions=0,r)},function(){s(),n(0,i.size=xo(i.p),i)},function(){i.p=this.value,n(0,i)},function(){i.p=F(this),n(0,i)},function(t){e.$$.not_equal(i.sinister,t)&&(i.sinister=t,n(0,i))},function(t){e.$$.not_equal(i.reversed,t)&&(i.reversed=t,n(0,i))}]}class ba extends je{constructor(e){super(),Ne(this,e,ya,va,s,{charge:0})}}function wa(t){let n,r,i,s,l,a;return{c(){n=I("span"),r=z("svg"),i=z("use"),j(i,"href","#undo-icon"),j(r,"data-tooltip",s=t[0]("editor.default")),j(r,"class","svelte-1rbk6h"),j(n,"class","svelte-1rbk6h")},m(e,o){C(e,n,o),_(n,r),_(r,i),l||(a=[T(r,"click",t[1]),$(Bs.call(null,r))],l=!0)},p(e,[t]){1&t&&s!==(s=e[0]("editor.default"))&&j(r,"data-tooltip",s)},i:e,o:e,d(e){e&&L(n),l=!1,o(a)}}}function ka(e,t,n){let r;c(e,to,(e=>n(0,r=e)));let{callback:o}=t;return e.$$set=e=>{"callback"in e&&n(2,o=e.callback)},[r,function(e){e.stopPropagation(),o()},o]}class xa extends je{constructor(e){super(),Ne(this,e,ka,wa,s,{callback:2})}}function _a(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,v,y,b,w,k,x,E,S,A,z,P,N,B,q,G,F=e[2]("editor.shift")+"",H=e[2]("editor.inscriptions.blur")+"",V=e[2]("editor.inscriptions.color")+"";return{c(){t=I("span"),n=I("span"),r=M(F),i=M(":"),s=O(),l=I("input"),a=O(),c=I("input"),p=O(),h=I("span"),f=I("span"),m=M(H),g=M(":"),v=O(),y=I("input"),k=O(),x=I("span"),E=I("span"),S=M(V),A=M(":"),z=O(),P=I("input"),j(n,"class","svelte-1it4oxt"),j(l,"type","number"),j(l,"min","-100"),j(l,"max","100"),j(l,"class","svelte-1it4oxt"),j(c,"type","number"),j(c,"min","-100"),j(c,"max","100"),j(c,"class","svelte-1it4oxt"),j(t,"data-tooltip",u=e[2]("tooltip.shift")),j(t,"class","svelte-1it4oxt"),j(f,"class","svelte-1it4oxt"),j(y,"type","number"),j(y,"min","0"),j(y,"max","10"),j(y,"class","svelte-1it4oxt"),j(h,"data-tooltip",b=e[2]("tooltip.inscriptions.shadowBlur")),j(h,"class","svelte-1it4oxt"),j(E,"class","svelte-1it4oxt"),j(P,"type","color"),j(P,"class","svelte-1it4oxt"),j(x,"data-tooltip",N=e[2]("tooltip.inscriptions.shadowColor")),j(x,"class","svelte-1it4oxt")},m(o,u){C(o,t,u),_(t,n),_(n,r),_(n,i),_(t,s),_(t,l),R(l,e[0].x),_(t,a),_(t,c),R(c,e[0].y),C(o,p,u),C(o,h,u),_(h,f),_(f,m),_(f,g),_(h,v),_(h,y),R(y,e[0].blur),C(o,k,u),C(o,x,u),_(x,E),_(E,S),_(E,A),_(x,z),_(x,P),R(P,e[0].color),q||(G=[T(l,"input",e[4]),T(c,"input",e[5]),$(d=Bs.call(null,t)),T(y,"input",e[6]),$(w=Bs.call(null,h)),T(P,"input",e[7]),$(B=Bs.call(null,x))],q=!0)},p(e,n){4&n&&F!==(F=e[2]("editor.shift")+"")&&U(r,F),1&n&&D(l.value)!==e[0].x&&R(l,e[0].x),1&n&&D(c.value)!==e[0].y&&R(c,e[0].y),4&n&&u!==(u=e[2]("tooltip.shift"))&&j(t,"data-tooltip",u),4&n&&H!==(H=e[2]("editor.inscriptions.blur")+"")&&U(m,H),1&n&&D(y.value)!==e[0].blur&&R(y,e[0].blur),4&n&&b!==(b=e[2]("tooltip.inscriptions.shadowBlur"))&&j(h,"data-tooltip",b),4&n&&V!==(V=e[2]("editor.inscriptions.color")+"")&&U(S,V),1&n&&R(P,e[0].color),4&n&&N!==(N=e[2]("tooltip.inscriptions.shadowColor"))&&j(x,"data-tooltip",N)},d(e){e&&L(t),e&&L(p),e&&L(h),e&&L(k),e&&L(x),q=!1,o(G)}}}function Ea(e){let t,n,r,o,i,s,l,a,c,u,d,p,h,f=e[2]("editor.inscriptions.shadow")+"";function m(t){e[3](t)}let g={};void 0!==e[1]&&(g.checked=e[1]),s=new Ns({props:g}),ne.push((()=>Me(s,"checked",m)));let v=e[1]&&_a(e);return{c(){t=I("span"),n=I("span"),r=M(f),o=M(":"),i=O(),Oe(s.$$.fragment),c=O(),v&&v.c(),u=P(),j(n,"class","svelte-1it4oxt"),j(t,"data-tooltip",a=e[2]("tooltip.inscriptions.shadow")),j(t,"class","svelte-1it4oxt")},m(e,l){C(e,t,l),_(t,n),_(n,r),_(n,o),_(t,i),Pe(s,t,null),C(e,c,l),v&&v.m(e,l),C(e,u,l),d=!0,p||(h=$(Bs.call(null,t)),p=!0)},p(e,[n]){(!d||4&n)&&f!==(f=e[2]("editor.inscriptions.shadow")+"")&&U(r,f);const o={};!l&&2&n&&(l=!0,o.checked=e[1],ce((()=>l=!1))),s.$set(o),(!d||4&n&&a!==(a=e[2]("tooltip.inscriptions.shadow")))&&j(t,"data-tooltip",a),e[1]?v?v.p(e,n):(v=_a(e),v.c(),v.m(u.parentNode,u)):v&&(v.d(1),v=null)},i(e){d||(we(s.$$.fragment,e),d=!0)},o(e){ke(s.$$.fragment,e),d=!1},d(e){e&&L(t),Te(s),e&&L(c),v&&v.d(e),e&&L(u),p=!1,h()}}}function Sa(e,t,n){let r;c(e,to,(e=>n(2,r=e)));let{shadow:o}=t,i=!!o;return e.$$set=e=>{"shadow"in e&&n(0,o=e.shadow)},e.$$.update=()=>{3&e.$$.dirty&&(i&&!o?n(0,o={x:1,y:1,blur:0,color:"#333333"}):i||n(0,o=null))},[o,i,r,function(e){i=e,n(1,i)},function(){o.x=D(this.value),n(0,o),n(1,i)},function(){o.y=D(this.value),n(0,o),n(1,i)},function(){o.blur=D(this.value),n(0,o),n(1,i)},function(){o.color=this.value,n(0,o),n(1,i)}]}class Ca extends je{constructor(e){super(),Ne(this,e,Sa,Ea,s,{shadow:0})}}function La(e,t,n){const r=e.slice();return r[18]=t[n],r}function Aa(e,t,n){const r=e.slice();return r[3]=t[n],r}function Ia(e){let t,n,r,o=e[2](`shield.types.${e[3]}`)+"";return{c(){t=I("option"),n=M(o),t.__value=r=e[3],t.value=t.__value},m(e,r){C(e,t,r),_(t,n)},p(e,t){4&t&&o!==(o=e[2](`shield.types.${e[3]}`)+"")&&U(n,o)},d(e){e&&L(t)}}}function za(e,t){let n,r,o,i,s,l;function a(){return t[10](t[18])}return r=new Fs({props:{coa:t[18],tip:t[6](t[18].shield)}}),{key:e,first:null,c(){n=I("div"),Oe(r.$$.fragment),o=O(),j(n,"class","item"),H(n,"selected",t[0]===t[18].shield),this.first=n},m(e,t){C(e,n,t),Pe(r,n,null),_(n,o),i=!0,s||(l=T(n,"click",a),s=!0)},p(e,o){t=e;const i={};16&o&&(i.coa=t[18]),16&o&&(i.tip=t[6](t[18].shield)),r.$set(i),17&o&&H(n,"selected",t[0]===t[18].shield)},i(e){i||(we(r.$$.fragment,e),i=!0)},o(e){ke(r.$$.fragment,e),i=!1},d(e){e&&L(n),Te(r),s=!1,l()}}}function Ma(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,$,v=e[2]("editor.category")+"",y=e[2]("editor.search")+"",b=[],w=new Map,k=Ge,x=[];for(let t=0;t<k.length;t+=1)x[t]=Ia(Aa(e,k,t));let E=e[4];const S=e=>e[18];for(let t=0;t<E.length;t+=1){let n=La(e,E,t),r=S(n);w.set(r,b[t]=za(r,n))}return{c(){t=I("span"),n=M(v),r=M(":"),i=O(),s=I("select");for(let e=0;e<x.length;e+=1)x[e].c();l=O(),a=I("span"),c=M(y),u=M(":"),d=O(),p=I("input"),h=O(),f=I("div");for(let e=0;e<b.length;e+=1)b[e].c();j(t,"class","svelte-mg0vr7"),H(t,"indented",!0),j(s,"class","svelte-mg0vr7"),void 0===e[3]&&ae((()=>e[8].call(s))),H(s,"inactive",e[1]),j(a,"class","svelte-mg0vr7"),H(a,"indented",!0),j(p,"class","svelte-mg0vr7"),H(p,"inactive",!e[1]),j(f,"class","items")},m(o,v){C(o,t,v),_(t,n),_(t,r),C(o,i,v),C(o,s,v);for(let e=0;e<x.length;e+=1)x[e].m(s,null);G(s,e[3]),C(o,l,v),C(o,a,v),_(a,c),_(a,u),C(o,d,v),C(o,p,v),R(p,e[1]),C(o,h,v),C(o,f,v);for(let e=0;e<b.length;e+=1)b[e].m(f,null);m=!0,g||($=[T(s,"change",e[8]),T(s,"input",e[5]),T(p,"input",e[9])],g=!0)},p(e,[t]){if((!m||4&t)&&v!==(v=e[2]("editor.category")+"")&&U(n,v),4&t){let n;for(k=Ge,n=0;n<k.length;n+=1){const r=Aa(e,k,n);x[n]?x[n].p(r,t):(x[n]=Ia(r),x[n].c(),x[n].m(s,null))}for(;n<x.length;n+=1)x[n].d(1);x.length=k.length}8&t&&G(s,e[3]),2&t&&H(s,"inactive",e[1]),(!m||4&t)&&y!==(y=e[2]("editor.search")+"")&&U(c,y),2&t&&p.value!==e[1]&&R(p,e[1]),2&t&&H(p,"inactive",!e[1]),81&t&&(E=e[4],ye(),b=ze(b,t,S,1,e,E,w,f,Ae,za,null,La),be())},i(e){if(!m){for(let e=0;e<E.length;e+=1)we(b[e]);m=!0}},o(e){for(let e=0;e<b.length;e+=1)ke(b[e]);m=!1},d(e){e&&L(t),e&&L(i),e&&L(s),A(x,e),e&&L(l),e&&L(a),e&&L(d),e&&L(p),e&&L(h),e&&L(f);for(let e=0;e<b.length;e+=1)b[e].d();g=!1,o($)}}}function Oa(e,t,n){let r,o,i;c(e,to,(e=>n(2,o=e))),c(e,vt,(e=>n(13,i=e)));let s,l,{shield:a}=t,{t1:u}=t,d=[],p=m(a||i);const h=Ge.map((e=>Object.keys(qe[e]))).flat();function f(){const e=Object.keys(qe[p]);n(4,d=e.map((e=>({shield:e,t1:u}))))}function m(e){return Ge.find((t=>void 0!==qe[t][e]))}return e.$$set=e=>{"shield"in e&&n(0,a=e.shield),"t1"in e&&n(7,u=e.t1)},e.$$.update=()=>{4&e.$$.dirty&&(r=Ge.map((e=>Object.keys(qe[e]).map((t=>o(`shield.${e}.${t}`))))).flat()),136&e.$$.dirty&&f(),2&e.$$.dirty&&function(e){if(e||e===l||f(),l=e,!e)return;const t=new RegExp(e.replaceAll(" ",""),"i"),o=h.filter(((e,n)=>t.test(r[n])));n(4,d=o.map((e=>({shield:e,t1:u}))))}(s)},[a,s,o,p,d,function(){n(1,s="")},function(e){const t=m(e),n=o(`shield.${t}.${e}`);return`${o("editor.shield")}: ${n}`},u,function(){p=F(this),n(3,p)},function(){s=this.value,n(1,s)},e=>n(0,a=e.shield)]}class Pa extends je{constructor(e){super(),Ne(this,e,Oa,Ma,s,{shield:0,t1:7})}}function Ta(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,v,y,b,w,k,x,E,S,A,z,P,N,B,q,G,F,H,V,J,Z,K,W,X,Y,Q,ee,te,re,oe,ie,se,le,ae,ue,de=e[1]("editor.size")+"",pe=e[1]("editor.stretch")+"",he=e[1]("editor.rotation")+"",fe=e[1]("editor.shift")+"",me=e[1]("editor.step")+"";function ge(t){e[11](t)}let $e={};return void 0!==e[3]&&($e.checked=e[3]),oe=new Ns({props:$e}),ne.push((()=>Me(oe,"checked",ge))),{c(){t=I("span"),n=M(de),r=M(":\n  "),i=I("input"),a=O(),c=I("span"),u=I("span"),d=M(pe),p=M(":"),h=O(),f=I("input"),v=O(),y=I("span"),b=I("span"),w=M(he),k=M(":"),x=O(),E=I("input"),A=O(),z=I("span"),P=I("span"),N=M(fe),B=M(":"),q=O(),G=I("input"),F=O(),H=I("input"),J=O(),Z=I("span"),K=I("span"),W=M(me),X=M(":"),Y=O(),Q=I("input"),te=O(),re=I("span"),Oe(oe.$$.fragment),j(i,"type","number"),j(i,"min","1"),j(i,"max","500"),j(i,"step","1"),i.value=s=0|Math.round(100*e[0].size),j(i,"class","svelte-wggx8m"),j(t,"data-tooltip",l=e[1]("tooltip.size")),j(u,"class","svelte-wggx8m"),j(f,"type","number"),j(f,"min","-1000"),j(f,"max","1000"),j(f,"step","1"),f.value=m=0|Math.round(100*e[0].stretch),j(f,"class","svelte-wggx8m"),j(c,"data-tooltip",g=e[1]("tooltip.stretch")),j(c,"class","svelte-wggx8m"),j(b,"class","svelte-wggx8m"),j(E,"type","number"),j(E,"min","-180"),j(E,"max","180"),j(E,"class","svelte-wggx8m"),j(y,"data-tooltip",S=e[1]("tooltip.rotation")),j(y,"class","svelte-wggx8m"),j(P,"class","svelte-wggx8m"),j(G,"type","number"),j(G,"min","-100"),j(G,"max","100"),j(G,"step",e[2]),j(G,"class","svelte-wggx8m"),j(H,"type","number"),j(H,"min","-100"),j(H,"max","100"),j(H,"step",e[2]),j(H,"class","svelte-wggx8m"),j(z,"data-tooltip",V=e[1]("tooltip.shift")),j(z,"class","svelte-wggx8m"),j(K,"class","svelte-wggx8m"),j(Q,"type","number"),j(Q,"min","1"),j(Q,"max","50"),j(Q,"class","svelte-wggx8m"),j(Z,"data-tooltip",ee=e[1]("tooltip.step")),j(Z,"class","svelte-wggx8m"),j(re,"data-tooltip",se=e[1]("tooltip.showGrid"))},m(o,s){C(o,t,s),_(t,n),_(t,r),_(t,i),C(o,a,s),C(o,c,s),_(c,u),_(u,d),_(u,p),_(c,h),_(c,f),C(o,v,s),C(o,y,s),_(y,b),_(b,w),_(b,k),_(y,x),_(y,E),R(E,e[0].angle),C(o,A,s),C(o,z,s),_(z,P),_(P,N),_(P,B),_(z,q),_(z,G),R(G,e[0].x),_(z,F),_(z,H),R(H,e[0].y),C(o,J,s),C(o,Z,s),_(Z,K),_(K,W),_(K,X),_(Z,Y),_(Z,Q),R(Q,e[2]),C(o,te,s),C(o,re,s),Pe(oe,re,null),le=!0,ae||(ue=[T(i,"input",e[4]),$(Bs.call(null,t)),T(f,"input",e[5]),$(Bs.call(null,c)),T(E,"input",e[7]),T(E,"change",e[6]),$(Bs.call(null,y)),T(G,"input",e[8]),T(H,"input",e[9]),$(Bs.call(null,z)),T(Q,"input",e[10]),$(Bs.call(null,Z)),$(Bs.call(null,re))],ae=!0)},p(e,[r]){(!le||2&r)&&de!==(de=e[1]("editor.size")+"")&&U(n,de),(!le||1&r&&s!==(s=0|Math.round(100*e[0].size)))&&(i.value=s),(!le||2&r&&l!==(l=e[1]("tooltip.size")))&&j(t,"data-tooltip",l),(!le||2&r)&&pe!==(pe=e[1]("editor.stretch")+"")&&U(d,pe),(!le||1&r&&m!==(m=0|Math.round(100*e[0].stretch)))&&(f.value=m),(!le||2&r&&g!==(g=e[1]("tooltip.stretch")))&&j(c,"data-tooltip",g),(!le||2&r)&&he!==(he=e[1]("editor.rotation")+"")&&U(w,he),1&r&&D(E.value)!==e[0].angle&&R(E,e[0].angle),(!le||2&r&&S!==(S=e[1]("tooltip.rotation")))&&j(y,"data-tooltip",S),(!le||2&r)&&fe!==(fe=e[1]("editor.shift")+"")&&U(N,fe),(!le||4&r)&&j(G,"step",e[2]),1&r&&D(G.value)!==e[0].x&&R(G,e[0].x),(!le||4&r)&&j(H,"step",e[2]),1&r&&D(H.value)!==e[0].y&&R(H,e[0].y),(!le||2&r&&V!==(V=e[1]("tooltip.shift")))&&j(z,"data-tooltip",V),(!le||2&r)&&me!==(me=e[1]("editor.step")+"")&&U(W,me),4&r&&D(Q.value)!==e[2]&&R(Q,e[2]),(!le||2&r&&ee!==(ee=e[1]("tooltip.step")))&&j(Z,"data-tooltip",ee);const o={};!ie&&8&r&&(ie=!0,o.checked=e[3],ce((()=>ie=!1))),oe.$set(o),(!le||2&r&&se!==(se=e[1]("tooltip.showGrid")))&&j(re,"data-tooltip",se)},i(e){le||(we(oe.$$.fragment,e),le=!0)},o(e){ke(oe.$$.fragment,e),le=!1},d(e){e&&L(t),e&&L(a),e&&L(c),e&&L(v),e&&L(y),e&&L(A),e&&L(z),e&&L(J),e&&L(Z),e&&L(te),e&&L(re),Te(oe),ae=!1,o(ue)}}}function Na(e,t,n){let r,o,i,s;c(e,Ot,(e=>n(12,r=e))),c(e,to,(e=>n(1,o=e))),c(e,Ct,(e=>n(2,i=e))),c(e,Lt,(e=>n(3,s=e)));let{element:l}=t;return e.$$set=e=>{"element"in e&&n(0,l=e.element)},[l,o,i,s,e=>{const t=e.target;n(0,l.size=parseInt(t.value)/100,l)},e=>{const t=e.target;n(0,l.stretch=parseInt(t.value)/100,l)},()=>{g(Ot,r.transform=`rotate(${l.angle||0})`,r)},function(){l.angle=D(this.value),n(0,l)},function(){l.x=D(this.value),n(0,l)},function(){l.y=D(this.value),n(0,l)},function(){i=D(this.value),Ct.set(i)},function(e){s=e,Lt.set(s)}]}class ja extends je{constructor(e){super(),Ne(this,e,Na,Ta,s,{element:0})}}function Ba(e){let t,n,r,i,s,l,a,c=e[3]("editor.gyronnyNumber")+"";return{c(){t=I("span"),n=M(c),r=M(":\n    "),i=I("input"),j(i,"type","number"),j(i,"min","4"),j(i,"max","100"),j(i,"step","2"),j(i,"class","svelte-1tdvq7x"),j(t,"data-tooltip",s=e[3]("tooltip.gyronnyNumber")),j(t,"class","svelte-1tdvq7x")},m(o,s){C(o,t,s),_(t,n),_(t,r),_(t,i),R(i,e[1]),l||(a=[T(i,"input",e[7]),$(Bs.call(null,t))],l=!0)},p(e,r){8&r&&c!==(c=e[3]("editor.gyronnyNumber")+"")&&U(n,c),2&r&&D(i.value)!==e[1]&&R(i,e[1]),8&r&&s!==(s=e[3]("tooltip.gyronnyNumber"))&&j(t,"data-tooltip",s)},d(e){e&&L(t),l=!1,o(a)}}}function Da(e){let t,n,r,i,s,l,a,c=e[3]("editor.componySize")+"";return{c(){t=I("span"),n=M(c),r=M(":\n    "),i=I("input"),j(i,"type","number"),j(i,"min","5"),j(i,"max","100"),j(i,"step","1"),j(i,"class","svelte-1tdvq7x"),j(t,"data-tooltip",s=e[3]("tooltip.componySize")),j(t,"class","svelte-1tdvq7x")},m(o,s){C(o,t,s),_(t,n),_(t,r),_(t,i),R(i,e[0]),l||(a=[T(i,"input",e[6]),$(Bs.call(null,t))],l=!0)},p(e,r){8&r&&c!==(c=e[3]("editor.componySize")+"")&&U(n,c),1&r&&D(i.value)!==e[0]&&R(i,e[0]),8&r&&s!==(s=e[3]("tooltip.componySize"))&&j(t,"data-tooltip",s)},d(e){e&&L(t),l=!1,o(a)}}}function Ua(t){let n,r,i,s,l,a,c,u,d,p,h,f,m,g,$,v=t[3]("editor.striped")+"",y=t[3]("editor.notStriped")+"",b=t[3]("editor.compony")+"",w=t[3]("editor.gyronny")+"";function k(e,t){return"compony"===e[2]?Da:"gyronny"===e[2]?Ba:void 0}let x=k(t),E=x&&x(t);return{c(){n=I("span"),r=M(v),i=M(":"),s=O(),l=I("select"),a=I("option"),c=M(y),u=I("option"),d=M(b),p=I("option"),h=M(w),f=O(),E&&E.c(),m=P(),j(n,"class","svelte-1tdvq7x"),a.__value="",a.value=a.__value,u.__value="compony",u.value=u.__value,p.__value="gyronny",p.value=p.__value,void 0===t[2]&&ae((()=>t[5].call(l)))},m(e,o){C(e,n,o),_(n,r),_(n,i),C(e,s,o),C(e,l,o),_(l,a),_(a,c),_(l,u),_(u,d),_(l,p),_(p,h),G(l,t[2]),C(e,f,o),E&&E.m(e,o),C(e,m,o),g||($=[T(l,"change",t[5]),T(l,"change",t[4])],g=!0)},p(e,[t]){8&t&&v!==(v=e[3]("editor.striped")+"")&&U(r,v),8&t&&y!==(y=e[3]("editor.notStriped")+"")&&U(c,y),8&t&&b!==(b=e[3]("editor.compony")+"")&&U(d,b),8&t&&w!==(w=e[3]("editor.gyronny")+"")&&U(h,w),4&t&&G(l,e[2]),x===(x=k(e))&&E?E.p(e,t):(E&&E.d(1),E=x&&x(e),E&&(E.c(),E.m(m.parentNode,m)))},i:e,o:e,d(e){e&&L(n),e&&L(s),e&&L(l),e&&L(f),E&&E.d(e),e&&L(m),g=!1,o($)}}}function Ra(e,t,n){let r;c(e,to,(e=>n(3,r=e)));let{compony:o=0}=t,{gyronny:i=0}=t,s=o?"compony":i?"gyronny":"";return e.$$set=e=>{"compony"in e&&n(0,o=e.compony),"gyronny"in e&&n(1,i=e.gyronny)},[o,i,s,r,function(e){n(0,o=0),n(1,i=0),"compony"===s?n(0,o=25):"gyronny"===s&&n(1,i=8)},function(){s=F(this),n(2,s)},function(){o=D(this.value),n(0,o)},function(){i=D(this.value),n(1,i)}]}class qa extends je{constructor(e){super(),Ne(this,e,Ra,Ua,s,{compony:0,gyronny:1})}}function Ga(e){let t,n,r,o,i,s,l,a,c,u=e[1]("editor.color")+"",d=e[0].ordinary&&Fa(e);return{c(){t=I("span"),n=M(u),r=M(":"),o=O(),i=I("input"),s=O(),d&&d.c(),l=P(),q(t,"margin-left","1em"),j(i,"type","color"),j(i,"class","svelte-ex5ti9")},m(u,p){C(u,t,p),_(t,n),_(t,r),C(u,o,p),C(u,i,p),R(i,e[0].stroke),C(u,s,p),d&&d.m(u,p),C(u,l,p),a||(c=T(i,"input",e[3]),a=!0)},p(e,t){2&t&&u!==(u=e[1]("editor.color")+"")&&U(n,u),1&t&&R(i,e[0].stroke),e[0].ordinary?d?d.p(e,t):(d=Fa(e),d.c(),d.m(l.parentNode,l)):d&&(d.d(1),d=null)},d(e){e&&L(t),e&&L(o),e&&L(i),e&&L(s),d&&d.d(e),e&&L(l),a=!1,c()}}}function Fa(e){let t,n,r,o,i,s,l,a=e[1]("editor.width")+"";return{c(){t=I("span"),n=M(a),r=M(":"),o=O(),i=I("input"),q(t,"margin-left","1em"),j(i,"type","number"),j(i,"min",".1"),j(i,"max","99"),j(i,"step",".1"),j(i,"class","svelte-ex5ti9")},m(a,c){C(a,t,c),_(t,n),_(t,r),C(a,o,c),C(a,i,c),R(i,e[0].strokeWidth),s||(l=T(i,"input",e[4]),s=!0)},p(e,t){2&t&&a!==(a=e[1]("editor.width")+"")&&U(n,a),1&t&&D(i.value)!==e[0].strokeWidth&&R(i,e[0].strokeWidth)},d(e){e&&L(t),e&&L(o),e&&L(i),s=!1,l()}}}function Ha(e){let t,n,r,o,i,s,l,a,c,u,d,p,h=e[1]("editor.stroke")+"";function f(t){e[2](t)}let m={};void 0!==e[0].showStroke&&(m.checked=e[0].showStroke),s=new Ns({props:m}),ne.push((()=>Me(s,"checked",f)));let g=e[0].showStroke&&Ga(e);return{c(){t=I("span"),n=I("span"),r=M(h),o=M(":"),i=O(),Oe(s.$$.fragment),a=O(),g&&g.c(),j(t,"data-tooltip",c=e[1]("tooltip.stroke"))},m(e,l){C(e,t,l),_(t,n),_(n,r),_(n,o),_(t,i),Pe(s,t,null),_(t,a),g&&g.m(t,null),u=!0,d||(p=$(Bs.call(null,t)),d=!0)},p(e,[n]){(!u||2&n)&&h!==(h=e[1]("editor.stroke")+"")&&U(r,h);const o={};!l&&1&n&&(l=!0,o.checked=e[0].showStroke,ce((()=>l=!1))),s.$set(o),e[0].showStroke?g?g.p(e,n):(g=Ga(e),g.c(),g.m(t,null)):g&&(g.d(1),g=null),(!u||2&n&&c!==(c=e[1]("tooltip.stroke")))&&j(t,"data-tooltip",c)},i(e){u||(we(s.$$.fragment,e),u=!0)},o(e){ke(s.$$.fragment,e),u=!1},d(e){e&&L(t),Te(s),g&&g.d(),d=!1,p()}}}function Va(e,t,n){let r;c(e,to,(e=>n(1,r=e)));let{element:o}=t;return e.$$set=e=>{"element"in e&&n(0,o=e.element)},[o,r,function(t){e.$$.not_equal(o.showStroke,t)&&(o.showStroke=t,n(0,o))},function(){o.stroke=this.value,n(0,o)},function(){o.strokeWidth=D(this.value),n(0,o)}]}class Ja extends je{constructor(e){super(),Ne(this,e,Va,Ha,s,{element:0})}}const{Boolean:Za}=Ce;function Ka(e,t,n){const r=e.slice();return r[72]=t[n],r[73]=t,r[74]=n,r}function Wa(e,t,n){const r=e.slice();return r[75]=t[n],r[76]=t,r[74]=n,r}function Xa(e,t,n){const r=e.slice();return r[77]=t[n],r[78]=t,r[74]=n,r}function Ya(e){let t,n;return t=new Os({props:{coa:e[1],i:"Edit"}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};2&n[0]&&(r.coa=e[1]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Qa(e){let t,n,r,o,i,s,l,a=e[2]("editor.unselect")+"";return{c(){t=I("div"),n=I("button"),r=M(a),j(n,"class","svelte-1uv2v4w"),j(t,"class","bottom svelte-1uv2v4w")},m(o,a){C(o,t,a),_(t,n),_(n,r),i=!0,s||(l=T(n,"click",e[21]),s=!0)},p(e,t){(!i||4&t[0])&&a!==(a=e[2]("editor.unselect")+"")&&U(r,a)},i(e){i||(ae((()=>{o||(o=Se(t,so,{y:1e3,duration:400},!0)),o.run(1)})),i=!0)},o(e){o||(o=Se(t,so,{y:1e3,duration:400},!1)),o.run(0),i=!1},d(e){e&&L(t),e&&o&&o.end(),s=!1,l()}}}function ec(e){let t,n=e[2]("editor.general")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){4&r[0]&&n!==(n=e[2]("editor.general")+"")&&U(t,n)},d(e){e&&L(t)}}}function tc(e){let t,n,r,o,i,s;function l(t){e[22](t)}function a(t){e[23](t)}let c={};return void 0!==e[0].name&&(c.name=e[0].name),void 0!==e[0].zoom&&(c.zoom=e[0].zoom),n=new Rl({props:c}),ne.push((()=>Me(n,"name",l))),ne.push((()=>Me(n,"zoom",a))),{c(){t=I("div"),Oe(n.$$.fragment),j(t,"class","panel svelte-1uv2v4w")},m(e,r){C(e,t,r),Pe(n,t,null),s=!0},p(e,t){const i={};!r&&1&t[0]&&(r=!0,i.name=e[0].name,ce((()=>r=!1))),!o&&1&t[0]&&(o=!0,i.zoom=e[0].zoom,ce((()=>o=!1))),n.$set(i)},i(e){s||(we(n.$$.fragment,e),ae((()=>{i||(i=Se(t,lo,{},!0)),i.run(1)})),s=!0)},o(e){ke(n.$$.fragment,e),i||(i=Se(t,lo,{},!1)),i.run(0),s=!1},d(e){e&&L(t),Te(n),e&&i&&i.end()}}}function nc(e){let t,n,r,o,i,s,l=e[2]("editor.shield")+"",a=(e[1].shield?e[2](`shield.${e[9](e[1].shield)}.${e[1].shield}`):e[2]("editor.default"))+"",c=e[1].shield&&rc(e);return{c(){t=M(l),n=M(": "),r=M(a),o=O(),c&&c.c(),i=P()},m(e,l){C(e,t,l),C(e,n,l),C(e,r,l),C(e,o,l),c&&c.m(e,l),C(e,i,l),s=!0},p(e,n){(!s||4&n[0])&&l!==(l=e[2]("editor.shield")+"")&&U(t,l),(!s||6&n[0])&&a!==(a=(e[1].shield?e[2](`shield.${e[9](e[1].shield)}.${e[1].shield}`):e[2]("editor.default"))+"")&&U(r,a),e[1].shield?c?(c.p(e,n),2&n[0]&&we(c,1)):(c=rc(e),c.c(),we(c,1),c.m(i.parentNode,i)):c&&(ye(),ke(c,1,1,(()=>{c=null})),be())},i(e){s||(we(c),s=!0)},o(e){ke(c),s=!1},d(e){e&&L(t),e&&L(n),e&&L(r),e&&L(o),c&&c.d(e),e&&L(i)}}}function rc(e){let t,n;return t=new xa({props:{callback:e[24]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n[0]&&(r.callback=e[24]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function oc(e){let t,n,r,o,i,s;function l(t){e[25](t)}let a={t1:e[1].t1};return void 0!==e[0].shield&&(a.shield=e[0].shield),r=new Pa({props:a}),ne.push((()=>Me(r,"shield",l))),{c(){t=I("div"),n=I("div"),Oe(r.$$.fragment),j(n,"class","subsection"),j(t,"class","panel svelte-1uv2v4w")},m(e,o){C(e,t,o),_(t,n),Pe(r,n,null),s=!0},p(e,t){const n={};2&t[0]&&(n.t1=e[1].t1),!o&&1&t[0]&&(o=!0,n.shield=e[0].shield,ce((()=>o=!1))),r.$set(n)},i(e){s||(we(r.$$.fragment,e),ae((()=>{i||(i=Se(t,lo,{},!0)),i.run(1)})),s=!0)},o(e){ke(r.$$.fragment,e),i||(i=Se(t,lo,{},!1)),i.run(0),s=!1},d(e){e&&L(t),Te(r),e&&i&&i.end()}}}function ic(e){let t,n=e[2]("tinctures.field")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){4&r[0]&&n!==(n=e[2]("tinctures.field")+"")&&U(t,n)},d(e){e&&L(t)}}}function sc(e){let t,n,r,o,i;function s(t){e[26](t)}let l={shield:e[1].shield};return void 0!==e[0].field&&(l.field=e[0].field),n=new Bl({props:l}),ne.push((()=>Me(n,"field",s))),{c(){t=I("div"),Oe(n.$$.fragment),j(t,"class","panel svelte-1uv2v4w")},m(e,r){C(e,t,r),Pe(n,t,null),i=!0},p(e,t){const o={};2&t[0]&&(o.shield=e[1].shield),!r&&1&t[0]&&(r=!0,o.field=e[0].field,ce((()=>r=!1))),n.$set(o)},i(e){i||(we(n.$$.fragment,e),ae((()=>{o||(o=Se(t,lo,{},!0)),o.run(1)})),i=!0)},o(e){ke(n.$$.fragment,e),o||(o=Se(t,lo,{},!1)),o.run(0),i=!1},d(e){e&&L(t),Te(n),e&&o&&o.end()}}}function lc(e){let t,n,r,o=e[2]("tinctures.division")+"",i=e[4]("divisions",e[0].division.division)+"";return{c(){t=M(o),n=M(": "),r=M(i)},m(e,o){C(e,t,o),C(e,n,o),C(e,r,o)},p(e,n){4&n[0]&&o!==(o=e[2]("tinctures.division")+"")&&U(t,o),17&n[0]&&i!==(i=e[4]("divisions",e[0].division.division)+"")&&U(r,i)},d(e){e&&L(t),e&&L(n),e&&L(r)}}}function ac(e){let t,n,r,o,i,s,l,a;function c(t){e[27](t)}let u={t1:e[1].t1,t2:e[1].division?e[1].division.t:e[0].division.t1,line:e[0].division.line,shield:e[1].shield};void 0!==e[0].division.division&&(u.division=e[0].division.division),r=new hl({props:u}),ne.push((()=>Me(r,"division",c)));let d=Ke.data[e[1].division?.division]?.templateLined&&cc(e),p=e[1].division&&uc(e);return{c(){t=I("div"),n=I("div"),Oe(r.$$.fragment),i=O(),d&&d.c(),s=O(),p&&p.c(),j(n,"class","subsection"),j(t,"class","panel svelte-1uv2v4w")},m(e,o){C(e,t,o),_(t,n),Pe(r,n,null),_(t,i),d&&d.m(t,null),_(t,s),p&&p.m(t,null),a=!0},p(e,n){const i={};2&n[0]&&(i.t1=e[1].t1),3&n[0]&&(i.t2=e[1].division?e[1].division.t:e[0].division.t1),1&n[0]&&(i.line=e[0].division.line),2&n[0]&&(i.shield=e[1].shield),!o&&1&n[0]&&(o=!0,i.division=e[0].division.division,ce((()=>o=!1))),r.$set(i),Ke.data[e[1].division?.division]?.templateLined?d?(d.p(e,n),2&n[0]&&we(d,1)):(d=cc(e),d.c(),we(d,1),d.m(t,s)):d&&(ye(),ke(d,1,1,(()=>{d=null})),be()),e[1].division?p?(p.p(e,n),2&n[0]&&we(p,1)):(p=uc(e),p.c(),we(p,1),p.m(t,null)):p&&(ye(),ke(p,1,1,(()=>{p=null})),be())},i(e){a||(we(r.$$.fragment,e),we(d),we(p),ae((()=>{l||(l=Se(t,lo,{},!0)),l.run(1)})),a=!0)},o(e){ke(r.$$.fragment,e),ke(d),ke(p),l||(l=Se(t,lo,{},!1)),l.run(0),a=!1},d(e){e&&L(t),Te(r),d&&d.d(),p&&p.d(),e&&l&&l.end()}}}function cc(e){let t,n,r,o;function i(t){e[28](t)}let s={division:e[0].division.division,t1:e[1].t1,t2:e[1].division?e[1].division.t:e[0].division.t1,shield:e[1].shield};return void 0!==e[0].division.line&&(s.line=e[0].division.line),n=new ea({props:s}),ne.push((()=>Me(n,"line",i))),{c(){t=I("div"),Oe(n.$$.fragment),j(t,"class","subsection")},m(e,r){C(e,t,r),Pe(n,t,null),o=!0},p(e,t){const o={};1&t[0]&&(o.division=e[0].division.division),2&t[0]&&(o.t1=e[1].t1),3&t[0]&&(o.t2=e[1].division?e[1].division.t:e[0].division.t1),2&t[0]&&(o.shield=e[1].shield),!r&&1&t[0]&&(r=!0,o.line=e[0].division.line,ce((()=>r=!1))),n.$set(o)},i(e){o||(we(n.$$.fragment,e),o=!0)},o(e){ke(n.$$.fragment,e),o=!1},d(e){e&&L(t),Te(n)}}}function uc(e){let t,n,r;function o(t){e[29](t)}let i={shield:e[1].shield};return void 0!==e[0].division&&(i.field=e[0].division),t=new Bl({props:i}),ne.push((()=>Me(t,"field",o))),{c(){Oe(t.$$.fragment)},m(e,n){Pe(t,e,n),r=!0},p(e,r){const o={};2&r[0]&&(o.shield=e[1].shield),!n&&1&r[0]&&(n=!0,o.field=e[0].division,ce((()=>n=!1))),t.$set(o)},i(e){r||(we(t.$$.fragment,e),r=!0)},o(e){ke(t.$$.fragment,e),r=!1},d(e){Te(t,e)}}}function dc(e){let t,n,r,o,i,s,l,a,c,u=e[2]("editor.ordinary")+"",d=e[0].ordinaries.length>1?` ${e[74]+1}`:"",p=e[4]("ordinaries",e[77].ordinary)+"",h=e[77].above&&pc(e);function f(t){e[30](t)}let m={el:e[77],i:e[74]};return void 0!==e[0].ordinaries&&(m.els=e[0].ordinaries),l=new ol({props:m}),ne.push((()=>Me(l,"els",f))),{c(){t=M(u),n=M(d),r=M(": "),o=M(p),i=O(),h&&h.c(),s=O(),Oe(l.$$.fragment)},m(e,a){C(e,t,a),C(e,n,a),C(e,r,a),C(e,o,a),C(e,i,a),h&&h.m(e,a),C(e,s,a),Pe(l,e,a),c=!0},p(e,r){(!c||4&r[0])&&u!==(u=e[2]("editor.ordinary")+"")&&U(t,u),(!c||1&r[0])&&d!==(d=e[0].ordinaries.length>1?` ${e[74]+1}`:"")&&U(n,d),(!c||17&r[0])&&p!==(p=e[4]("ordinaries",e[77].ordinary)+"")&&U(o,p),e[77].above?h?h.p(e,r):(h=pc(e),h.c(),h.m(s.parentNode,s)):h&&(h.d(1),h=null);const i={};1&r[0]&&(i.el=e[77]),!a&&1&r[0]&&(a=!0,i.els=e[0].ordinaries,ce((()=>a=!1))),l.$set(i)},i(e){c||(we(l.$$.fragment,e),c=!0)},o(e){ke(l.$$.fragment,e),c=!1},d(e){e&&L(t),e&&L(n),e&&L(r),e&&L(o),e&&L(i),h&&h.d(e),e&&L(s),Te(l,e)}}}function pc(e){let t,n,r,o,i=e[2]("editor.aboveCharges")+"";return{c(){t=I("i"),n=M("["),r=M(i),o=M("]"),j(t,"class","svelte-1uv2v4w")},m(e,i){C(e,t,i),_(t,n),_(t,r),_(t,o)},p(e,t){4&t[0]&&i!==(i=e[2]("editor.aboveCharges")+"")&&U(r,i)},d(e){e&&L(t)}}}function hc(e){let t,n,r,o,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w="counter"!==e[77].divided&&["bordure","orle"].includes(e[77].ordinary),k=!["bordure","orle"].includes(e[77].ordinary),x=e[1].division&&fc(e);function E(t){e[32](t,e[77])}let S={t1:e[1].t1,line:e[77].line,t2:e[77].field.t1,shield:e[1].shield};void 0!==e[77].ordinary&&(S.ordinary=e[77].ordinary),o=new ia({props:S}),ne.push((()=>Me(o,"ordinary",E)));let A=w&&mc(e),z=Ue.lined[e[77].ordinary]&&gc(e),M="counter"!==e[77].divided&&$c(e),P=k&&bc(e);function T(t){e[40](t,e[77])}let N={};function B(t){e[41](t,e[77],e[78],e[74])}void 0!==e[77].above&&(N.above=e[77].above),p=new Rs({props:N}),ne.push((()=>Me(p,"above",T)));let D={};return void 0!==e[77]&&(D.element=e[77]),g=new ja({props:D}),ne.push((()=>Me(g,"element",B))),{c(){t=I("div"),x&&x.c(),n=O(),r=I("div"),Oe(o.$$.fragment),s=O(),A&&A.c(),l=O(),z&&z.c(),a=O(),M&&M.c(),c=O(),u=I("div"),P&&P.c(),d=O(),Oe(p.$$.fragment),f=O(),m=I("div"),Oe(g.$$.fragment),v=O(),j(r,"class","subsection"),j(u,"class","subsection"),j(m,"class","subsection"),j(t,"class","panel svelte-1uv2v4w")},m(e,i){C(e,t,i),x&&x.m(t,null),_(t,n),_(t,r),Pe(o,r,null),_(t,s),A&&A.m(t,null),_(t,l),z&&z.m(t,null),_(t,a),M&&M.m(t,null),_(t,c),_(t,u),P&&P.m(u,null),_(u,d),Pe(p,u,null),_(t,f),_(t,m),Pe(g,m,null),_(t,v),b=!0},p(r,s){(e=r)[1].division?x?(x.p(e,s),2&s[0]&&we(x,1)):(x=fc(e),x.c(),we(x,1),x.m(t,n)):x&&(ye(),ke(x,1,1,(()=>{x=null})),be());const f={};2&s[0]&&(f.t1=e[1].t1),1&s[0]&&(f.line=e[77].line),1&s[0]&&(f.t2=e[77].field.t1),2&s[0]&&(f.shield=e[1].shield),!i&&1&s[0]&&(i=!0,f.ordinary=e[77].ordinary,ce((()=>i=!1))),o.$set(f),1&s[0]&&(w="counter"!==e[77].divided&&["bordure","orle"].includes(e[77].ordinary)),w?A?(A.p(e,s),1&s[0]&&we(A,1)):(A=mc(e),A.c(),we(A,1),A.m(t,l)):A&&(ye(),ke(A,1,1,(()=>{A=null})),be()),Ue.lined[e[77].ordinary]?z?(z.p(e,s),1&s[0]&&we(z,1)):(z=gc(e),z.c(),we(z,1),z.m(t,a)):z&&(ye(),ke(z,1,1,(()=>{z=null})),be()),"counter"!==e[77].divided?M?(M.p(e,s),1&s[0]&&we(M,1)):(M=$c(e),M.c(),we(M,1),M.m(t,c)):M&&(ye(),ke(M,1,1,(()=>{M=null})),be()),1&s[0]&&(k=!["bordure","orle"].includes(e[77].ordinary)),k?P?(P.p(e,s),1&s[0]&&we(P,1)):(P=bc(e),P.c(),we(P,1),P.m(u,d)):P&&(ye(),ke(P,1,1,(()=>{P=null})),be());const m={};!h&&1&s[0]&&(h=!0,m.above=e[77].above,ce((()=>h=!1))),p.$set(m);const v={};!$&&1&s[0]&&($=!0,v.element=e[77],ce((()=>$=!1))),g.$set(v)},i(e){b||(we(x),we(o.$$.fragment,e),we(A),we(z),we(M),we(P),we(p.$$.fragment,e),we(g.$$.fragment,e),ae((()=>{y||(y=Se(t,lo,{},!0)),y.run(1)})),b=!0)},o(e){ke(x),ke(o.$$.fragment,e),ke(A),ke(z),ke(M),ke(P),ke(p.$$.fragment,e),ke(g.$$.fragment,e),y||(y=Se(t,lo,{},!1)),y.run(0),b=!1},d(e){e&&L(t),x&&x.d(),Te(o),A&&A.d(),z&&z.d(),M&&M.d(),P&&P.d(),Te(p),Te(g),e&&y&&y.end()}}}function fc(e){let t,n,r,o;function i(t){e[31](t,e[77])}let s={};return void 0!==e[77].divided&&(s.divided=e[77].divided),n=new al({props:s}),ne.push((()=>Me(n,"divided",i))),{c(){t=I("div"),Oe(n.$$.fragment),j(t,"class","subsection")},m(e,r){C(e,t,r),Pe(n,t,null),o=!0},p(t,o){e=t;const i={};!r&&1&o[0]&&(r=!0,i.divided=e[77].divided,ce((()=>r=!1))),n.$set(i)},i(e){o||(we(n.$$.fragment,e),o=!0)},o(e){ke(n.$$.fragment,e),o=!1},d(e){e&&L(t),Te(n)}}}function mc(e){let t,n,r,o,i;function s(t){e[33](t,e[77])}function l(t){e[34](t,e[77])}let a={};return void 0!==e[77].compony&&(a.compony=e[77].compony),void 0!==e[77].gyronny&&(a.gyronny=e[77].gyronny),n=new qa({props:a}),ne.push((()=>Me(n,"compony",s))),ne.push((()=>Me(n,"gyronny",l))),{c(){t=I("div"),Oe(n.$$.fragment),j(t,"class","subsection")},m(e,r){C(e,t,r),Pe(n,t,null),i=!0},p(t,i){e=t;const s={};!r&&1&i[0]&&(r=!0,s.compony=e[77].compony,ce((()=>r=!1))),!o&&1&i[0]&&(o=!0,s.gyronny=e[77].gyronny,ce((()=>o=!1))),n.$set(s)},i(e){i||(we(n.$$.fragment,e),i=!0)},o(e){ke(n.$$.fragment,e),i=!1},d(e){e&&L(t),Te(n)}}}function gc(e){let t,n,r,o;function i(t){e[35](t,e[77])}let s={ordinary:e[77].ordinary,t1:e[1].t1,t2:e[77].field.t1,shield:e[1].shield};return void 0!==e[77].line&&(s.line=e[77].line),n=new ea({props:s}),ne.push((()=>Me(n,"line",i))),{c(){t=I("div"),Oe(n.$$.fragment),j(t,"class","subsection")},m(e,r){C(e,t,r),Pe(n,t,null),o=!0},p(t,o){e=t;const i={};1&o[0]&&(i.ordinary=e[77].ordinary),2&o[0]&&(i.t1=e[1].t1),1&o[0]&&(i.t2=e[77].field.t1),2&o[0]&&(i.shield=e[1].shield),!r&&1&o[0]&&(r=!0,i.line=e[77].line,ce((()=>r=!1))),n.$set(i)},i(e){o||(we(n.$$.fragment,e),o=!0)},o(e){ke(n.$$.fragment,e),o=!1},d(e){e&&L(t),Te(n)}}}function $c(e){let t,n,r,o,i;const s=[yc,vc],l=[];function a(e,n){return(null==t||1&n[0])&&(t=!(!["bordure","orle"].includes(e[77].ordinary)||!e[77].compony&&!e[77].gyronny)),t?0:1}return n=a(e,[-1,-1,-1]),r=l[n]=s[n](e),{c(){r.c(),o=P()},m(e,t){l[n].m(e,t),C(e,o,t),i=!0},p(e,t){let i=n;n=a(e,t),n===i?l[n].p(e,t):(ye(),ke(l[i],1,1,(()=>{l[i]=null})),be(),r=l[n],r?r.p(e,t):(r=l[n]=s[n](e),r.c()),we(r,1),r.m(o.parentNode,o))},i(e){i||(we(r),i=!0)},o(e){ke(r),i=!1},d(e){l[n].d(e),e&&L(o)}}}function vc(e){let t,n,r,o;function i(t){e[38](t,e[77])}let s={shield:e[1].shield};return void 0!==e[77].field&&(s.field=e[77].field),n=new Bl({props:s}),ne.push((()=>Me(n,"field",i))),{c(){t=I("div"),Oe(n.$$.fragment),j(t,"class","subsection")},m(e,r){C(e,t,r),Pe(n,t,null),o=!0},p(t,o){e=t;const i={};2&o[0]&&(i.shield=e[1].shield),!r&&1&o[0]&&(r=!0,i.field=e[77].field,ce((()=>r=!1))),n.$set(i)},i(e){o||(we(n.$$.fragment,e),o=!0)},o(e){ke(n.$$.fragment,e),o=!1},d(e){e&&L(t),Te(n)}}}function yc(e){let t,n,r,o,i,s,l,a;function c(t){e[36](t,e[77])}let u={shield:e[1].shield};function d(t){e[37](t,e[77])}void 0!==e[77].field.t1&&(u.t1=e[77].field.t1),n=new Ll({props:u}),ne.push((()=>Me(n,"t1",c)));let p={shield:e[1].shield};return void 0!==e[77].field2.t1&&(p.t1=e[77].field2.t1),s=new Ll({props:p}),ne.push((()=>Me(s,"t1",d))),{c(){t=I("div"),Oe(n.$$.fragment),o=O(),i=I("div"),Oe(s.$$.fragment),j(t,"class","subsection"),j(i,"class","subsection")},m(e,r){C(e,t,r),Pe(n,t,null),C(e,o,r),C(e,i,r),Pe(s,i,null),a=!0},p(t,o){e=t;const i={};2&o[0]&&(i.shield=e[1].shield),!r&&1&o[0]&&(r=!0,i.t1=e[77].field.t1,ce((()=>r=!1))),n.$set(i);const a={};2&o[0]&&(a.shield=e[1].shield),!l&&1&o[0]&&(l=!0,a.t1=e[77].field2.t1,ce((()=>l=!1))),s.$set(a)},i(e){a||(we(n.$$.fragment,e),we(s.$$.fragment,e),a=!0)},o(e){ke(n.$$.fragment,e),ke(s.$$.fragment,e),a=!1},d(e){e&&L(t),Te(n),e&&L(o),e&&L(i),Te(s)}}}function bc(e){let t,n,r;function o(t){e[39](t,e[77],e[78],e[74])}let i={};return void 0!==e[77]&&(i.element=e[77]),t=new Ja({props:i}),ne.push((()=>Me(t,"element",o))),{c(){Oe(t.$$.fragment)},m(e,n){Pe(t,e,n),r=!0},p(r,o){e=r;const i={};!n&&1&o[0]&&(n=!0,i.element=e[77],ce((()=>n=!1))),t.$set(i)},i(e){r||(we(t.$$.fragment,e),r=!0)},o(e){ke(t.$$.fragment,e),r=!1},d(e){Te(t,e)}}}function wc(e){let t,n,r,i,s,l,a,c,u=e[6]&&dc(e),d=e[3].ordinary[e[74]]&&hc(e);return{c(){t=I("div"),u&&u.c(),i=O(),d&&d.c(),s=P(),j(t,"id",n="ordinary_"+e[74]),j(t,"class","section svelte-1uv2v4w"),H(t,"expanded",e[3].ordinary[e[74]])},m(n,r){C(n,t,r),u&&u.m(t,null),C(n,i,r),d&&d.m(n,r),C(n,s,r),l=!0,a||(c=[T(t,"click",e[8]("ordinary",e[74])),T(t,"mouseenter",Ao("shield","ordinary",e[74])),T(t,"mouseleave",Io("shield","ordinary",e[74]))],a=!0)},p(n,r){(e=n)[6]?u?(u.p(e,r),64&r[0]&&we(u,1)):(u=dc(e),u.c(),we(u,1),u.m(t,null)):u&&(ye(),ke(u,1,1,(()=>{u=null})),be()),8&r[0]&&H(t,"expanded",e[3].ordinary[e[74]]),e[3].ordinary[e[74]]?d?(d.p(e,r),8&r[0]&&we(d,1)):(d=hc(e),d.c(),we(d,1),d.m(s.parentNode,s)):d&&(ye(),ke(d,1,1,(()=>{d=null})),be())},i(e){l||(we(u),ae((()=>{r||(r=Se(t,lo,{},!0)),r.run(1)})),we(d),l=!0)},o(e){ke(u),r||(r=Se(t,lo,{},!1)),r.run(0),ke(d),l=!1},d(e){e&&L(t),u&&u.d(),e&&r&&r.end(),e&&L(i),d&&d.d(e),e&&L(s),a=!1,o(c)}}}function kc(e){let t,n,r,o,i,s,l,a,c,u=e[2]("tinctures.charge")+"",d=e[0].charges.length>1?` ${e[74]+1}`:"",p=e[4]("charges",e[75].charge)+"";function h(e,t){return"above"===e[75].outside?Ec:"below"===e[75].outside?_c:"around"===e[75].outside?xc:void 0}let f=h(e),m=f&&f(e);function g(t){e[42](t)}let $={el:e[75],i:e[74]};return void 0!==e[0].charges&&($.els=e[0].charges),l=new ol({props:$}),ne.push((()=>Me(l,"els",g))),{c(){t=M(u),n=M(d),r=M(": "),o=M(p),i=O(),m&&m.c(),s=O(),Oe(l.$$.fragment)},m(e,a){C(e,t,a),C(e,n,a),C(e,r,a),C(e,o,a),C(e,i,a),m&&m.m(e,a),C(e,s,a),Pe(l,e,a),c=!0},p(e,r){(!c||4&r[0])&&u!==(u=e[2]("tinctures.charge")+"")&&U(t,u),(!c||1&r[0])&&d!==(d=e[0].charges.length>1?` ${e[74]+1}`:"")&&U(n,d),(!c||17&r[0])&&p!==(p=e[4]("charges",e[75].charge)+"")&&U(o,p),f===(f=h(e))&&m?m.p(e,r):(m&&m.d(1),m=f&&f(e),m&&(m.c(),m.m(s.parentNode,s)));const i={};1&r[0]&&(i.el=e[75]),!a&&1&r[0]&&(a=!0,i.els=e[0].charges,ce((()=>a=!1))),l.$set(i)},i(e){c||(we(l.$$.fragment,e),c=!0)},o(e){ke(l.$$.fragment,e),c=!1},d(e){e&&L(t),e&&L(n),e&&L(r),e&&L(o),e&&L(i),m&&m.d(e),e&&L(s),Te(l,e)}}}function xc(e){let t,n,r,o,i=e[2]("editor.aroundShield")+"";return{c(){t=I("i"),n=M("["),r=M(i),o=M("]"),j(t,"class","svelte-1uv2v4w")},m(e,i){C(e,t,i),_(t,n),_(t,r),_(t,o)},p(e,t){4&t[0]&&i!==(i=e[2]("editor.aroundShield")+"")&&U(r,i)},d(e){e&&L(t)}}}function _c(e){let t,n,r,o,i=e[2]("editor.belowShield")+"";return{c(){t=I("i"),n=M("["),r=M(i),o=M("]"),j(t,"class","svelte-1uv2v4w")},m(e,i){C(e,t,i),_(t,n),_(t,r),_(t,o)},p(e,t){4&t[0]&&i!==(i=e[2]("editor.belowShield")+"")&&U(r,i)},d(e){e&&L(t)}}}function Ec(e){let t,n,r,o,i=e[2]("editor.aboveShield")+"";return{c(){t=I("i"),n=M("["),r=M(i),o=M("]"),j(t,"class","svelte-1uv2v4w")},m(e,i){C(e,t,i),_(t,n),_(t,r),_(t,o)},p(e,t){4&t[0]&&i!==(i=e[2]("editor.aboveShield")+"")&&U(r,i)},d(e){e&&L(t)}}}function Sc(e){let t,n,r,o,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w,k,x,E,S=!Uc(e[75].charge)&&"counter"!==e[75].divided,A=e[1].division&&!e[75].outside&&Cc(e);function z(t){e[44](t,e[75])}function M(t){e[45](t,e[75])}let P={type:"charge",t1:e[1].t1,t2:e[75].field1.t1,t3:e[75].field2?.t1,t4:e[75].field3?.t1,sinister:e[75].sinister,reversed:e[75].reversed,division:e[1].division,shield:e[1].shield};void 0!==e[75].charge&&(P.charge=e[75].charge),void 0!==e[75].type&&(P.category=e[75].type),o=new Ys({props:P}),ne.push((()=>Me(o,"charge",z))),ne.push((()=>Me(o,"category",M)));let T=S&&Lc(e);function N(t){e[50](t,e[75],e[76],e[74])}let B={};function D(t){e[51](t,e[75],e[76],e[74])}void 0!==e[75]&&(B.element=e[75]),u=new Ja({props:B}),ne.push((()=>Me(u,"element",N)));let U={};void 0!==e[75]&&(U.charge=e[75]),f=new ba({props:U}),ne.push((()=>Me(f,"charge",D)));let R=Be.data[e[75].charge]?.layered&&"around"!==e[75].outside&&Mc(e),q=!e[75].divided&&Oc(e);function G(t){e[54](t,e[75],e[76],e[74])}let F={};return void 0!==e[75]&&(F.element=e[75]),b=new ja({props:F}),ne.push((()=>Me(b,"element",G))),{c(){t=I("div"),n=I("div"),A&&A.c(),r=O(),Oe(o.$$.fragment),l=O(),T&&T.c(),a=O(),c=I("div"),Oe(u.$$.fragment),p=O(),h=I("div"),Oe(f.$$.fragment),g=O(),R&&R.c(),$=O(),q&&q.c(),v=O(),y=I("div"),Oe(b.$$.fragment),k=O(),j(n,"class","subsection"),j(c,"class","subsection"),j(h,"class","subsection"),j(y,"class","subsection"),j(t,"class","panel svelte-1uv2v4w")},m(e,i){C(e,t,i),_(t,n),A&&A.m(n,null),_(n,r),Pe(o,n,null),_(t,l),T&&T.m(t,null),_(t,a),_(t,c),Pe(u,c,null),_(t,p),_(t,h),Pe(f,h,null),_(h,g),R&&R.m(h,null),_(h,$),q&&q.m(h,null),_(t,v),_(t,y),Pe(b,y,null),_(t,k),E=!0},p(l,c){(e=l)[1].division&&!e[75].outside?A?(A.p(e,c),3&c[0]&&we(A,1)):(A=Cc(e),A.c(),we(A,1),A.m(n,r)):A&&(ye(),ke(A,1,1,(()=>{A=null})),be());const p={};2&c[0]&&(p.t1=e[1].t1),1&c[0]&&(p.t2=e[75].field1.t1),1&c[0]&&(p.t3=e[75].field2?.t1),1&c[0]&&(p.t4=e[75].field3?.t1),1&c[0]&&(p.sinister=e[75].sinister),1&c[0]&&(p.reversed=e[75].reversed),2&c[0]&&(p.division=e[1].division),2&c[0]&&(p.shield=e[1].shield),!i&&1&c[0]&&(i=!0,p.charge=e[75].charge,ce((()=>i=!1))),!s&&1&c[0]&&(s=!0,p.category=e[75].type,ce((()=>s=!1))),o.$set(p),1&c[0]&&(S=!Uc(e[75].charge)&&"counter"!==e[75].divided),S?T?(T.p(e,c),1&c[0]&&we(T,1)):(T=Lc(e),T.c(),we(T,1),T.m(t,a)):T&&(ye(),ke(T,1,1,(()=>{T=null})),be());const g={};!d&&1&c[0]&&(d=!0,g.element=e[75],ce((()=>d=!1))),u.$set(g);const v={};!m&&1&c[0]&&(m=!0,v.charge=e[75],ce((()=>m=!1))),f.$set(v),Be.data[e[75].charge]?.layered&&"around"!==e[75].outside?R?(R.p(e,c),1&c[0]&&we(R,1)):(R=Mc(e),R.c(),we(R,1),R.m(h,$)):R&&(ye(),ke(R,1,1,(()=>{R=null})),be()),e[75].divided?q&&(ye(),ke(q,1,1,(()=>{q=null})),be()):q?(q.p(e,c),1&c[0]&&we(q,1)):(q=Oc(e),q.c(),we(q,1),q.m(h,null));const y={};!w&&1&c[0]&&(w=!0,y.element=e[75],ce((()=>w=!1))),b.$set(y)},i(e){E||(we(A),we(o.$$.fragment,e),we(T),we(u.$$.fragment,e),we(f.$$.fragment,e),we(R),we(q),we(b.$$.fragment,e),ae((()=>{x||(x=Se(t,lo,{},!0)),x.run(1)})),E=!0)},o(e){ke(A),ke(o.$$.fragment,e),ke(T),ke(u.$$.fragment,e),ke(f.$$.fragment,e),ke(R),ke(q),ke(b.$$.fragment,e),x||(x=Se(t,lo,{},!1)),x.run(0),E=!1},d(e){e&&L(t),A&&A.d(),Te(o),T&&T.d(),Te(u),Te(f),R&&R.d(),q&&q.d(),Te(b),e&&x&&x.end()}}}function Cc(e){let t,n,r;function o(t){e[43](t,e[75])}let i={raster:Uc(e[75].charge)};return void 0!==e[75].divided&&(i.divided=e[75].divided),t=new al({props:i}),ne.push((()=>Me(t,"divided",o))),{c(){Oe(t.$$.fragment)},m(e,n){Pe(t,e,n),r=!0},p(r,o){e=r;const i={};1&o[0]&&(i.raster=Uc(e[75].charge)),!n&&1&o[0]&&(n=!0,i.divided=e[75].divided,ce((()=>n=!1))),t.$set(i)},i(e){r||(we(t.$$.fragment,e),r=!0)},o(e){ke(t.$$.fragment,e),r=!1},d(e){Te(t,e)}}}function Lc(e){let t,n,r,o;const i=[Ic,Ac],s=[];function l(e,t){return Be.data[e[75].charge]?.colors>1?0:1}return t=l(e),n=s[t]=i[t](e),{c(){n.c(),r=P()},m(e,n){s[t].m(e,n),C(e,r,n),o=!0},p(e,o){let a=t;t=l(e),t===a?s[t].p(e,o):(ye(),ke(s[a],1,1,(()=>{s[a]=null})),be(),n=s[t],n?n.p(e,o):(n=s[t]=i[t](e),n.c()),we(n,1),n.m(r.parentNode,r))},i(e){o||(we(n),o=!0)},o(e){ke(n),o=!1},d(e){s[t].d(e),e&&L(r)}}}function Ac(e){let t,n,r;function o(t){e[49](t,e[75])}let i={shield:e[1].shield};return void 0!==e[75].field1&&(i.field=e[75].field1),t=new Bl({props:i}),ne.push((()=>Me(t,"field",o))),{c(){Oe(t.$$.fragment)},m(e,n){Pe(t,e,n),r=!0},p(r,o){e=r;const i={};2&o[0]&&(i.shield=e[1].shield),!n&&1&o[0]&&(n=!0,i.field=e[75].field1,ce((()=>n=!1))),t.$set(i)},i(e){r||(we(t.$$.fragment,e),r=!0)},o(e){ke(t.$$.fragment,e),r=!1},d(e){Te(t,e)}}}function Ic(e){let t,n,r,o,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y=e[2]("editor.primary")+"",b=e[2]("editor.secondary")+"";function w(t){e[46](t,e[75])}let k={shield:e[1].shield};function x(t){e[47](t,e[75])}void 0!==e[75].field1&&(k.field=e[75].field1),s=new Bl({props:k}),ne.push((()=>Me(s,"field",w)));let E={shield:e[1].shield};void 0!==e[75].field2&&(E.field=e[75].field2),f=new Bl({props:E}),ne.push((()=>Me(f,"field",x)));let S=Be.data[e[75].charge]?.colors>2&&zc(e);return{c(){t=I("div"),n=M(y),r=M(":"),o=O(),i=I("div"),Oe(s.$$.fragment),a=O(),c=I("div"),u=M(b),d=M(":"),p=O(),h=I("div"),Oe(f.$$.fragment),g=O(),S&&S.c(),$=P(),j(t,"class","subsection"),j(i,"class","subsection"),j(c,"class","subsection"),j(h,"class","subsection")},m(e,l){C(e,t,l),_(t,n),_(t,r),C(e,o,l),C(e,i,l),Pe(s,i,null),C(e,a,l),C(e,c,l),_(c,u),_(c,d),C(e,p,l),C(e,h,l),Pe(f,h,null),C(e,g,l),S&&S.m(e,l),C(e,$,l),v=!0},p(t,r){e=t,(!v||4&r[0])&&y!==(y=e[2]("editor.primary")+"")&&U(n,y);const o={};2&r[0]&&(o.shield=e[1].shield),!l&&1&r[0]&&(l=!0,o.field=e[75].field1,ce((()=>l=!1))),s.$set(o),(!v||4&r[0])&&b!==(b=e[2]("editor.secondary")+"")&&U(u,b);const i={};2&r[0]&&(i.shield=e[1].shield),!m&&1&r[0]&&(m=!0,i.field=e[75].field2,ce((()=>m=!1))),f.$set(i),Be.data[e[75].charge]?.colors>2?S?(S.p(e,r),1&r[0]&&we(S,1)):(S=zc(e),S.c(),we(S,1),S.m($.parentNode,$)):S&&(ye(),ke(S,1,1,(()=>{S=null})),be())},i(e){v||(we(s.$$.fragment,e),we(f.$$.fragment,e),we(S),v=!0)},o(e){ke(s.$$.fragment,e),ke(f.$$.fragment,e),ke(S),v=!1},d(e){e&&L(t),e&&L(o),e&&L(i),Te(s),e&&L(a),e&&L(c),e&&L(p),e&&L(h),Te(f),e&&L(g),S&&S.d(e),e&&L($)}}}function zc(e){let t,n,r,o,i,s,l,a,c=e[2]("editor.tertiary")+"";function u(t){e[48](t,e[75])}let d={shield:e[1].shield};return void 0!==e[75].field3&&(d.field=e[75].field3),s=new Bl({props:d}),ne.push((()=>Me(s,"field",u))),{c(){t=I("div"),n=M(c),r=M(":"),o=O(),i=I("div"),Oe(s.$$.fragment),j(t,"class","subsection"),j(i,"class","subsection")},m(e,l){C(e,t,l),_(t,n),_(t,r),C(e,o,l),C(e,i,l),Pe(s,i,null),a=!0},p(t,r){e=t,(!a||4&r[0])&&c!==(c=e[2]("editor.tertiary")+"")&&U(n,c);const o={};2&r[0]&&(o.shield=e[1].shield),!l&&1&r[0]&&(l=!0,o.field=e[75].field3,ce((()=>l=!1))),s.$set(o)},i(e){a||(we(s.$$.fragment,e),a=!0)},o(e){ke(s.$$.fragment,e),a=!1},d(e){e&&L(t),e&&L(o),e&&L(i),Te(s)}}}function Mc(e){let t,n,r;function o(t){e[52](t,e[75])}let i={};return void 0!==e[75].layered&&(i.layered=e[75].layered),t=new Kl({props:i}),ne.push((()=>Me(t,"layered",o))),{c(){Oe(t.$$.fragment)},m(e,n){Pe(t,e,n),r=!0},p(r,o){e=r;const i={};!n&&1&o[0]&&(n=!0,i.layered=e[75].layered,ce((()=>n=!1))),t.$set(i)},i(e){r||(we(t.$$.fragment,e),r=!0)},o(e){ke(t.$$.fragment,e),r=!1},d(e){Te(t,e)}}}function Oc(e){let t,n,r;function o(t){e[53](t,e[75])}let i={charge:e[75].charge};return void 0!==e[75].outside&&(i.outside=e[75].outside),t=new ca({props:i}),ne.push((()=>Me(t,"outside",o))),{c(){Oe(t.$$.fragment)},m(e,n){Pe(t,e,n),r=!0},p(r,o){e=r;const i={};1&o[0]&&(i.charge=e[75].charge),!n&&1&o[0]&&(n=!0,i.outside=e[75].outside,ce((()=>n=!1))),t.$set(i)},i(e){r||(we(t.$$.fragment,e),r=!0)},o(e){ke(t.$$.fragment,e),r=!1},d(e){Te(t,e)}}}function Pc(e){let t,n,r,i,s,l,a,c,u=e[6]&&kc(e),d=e[3].charge[e[74]]&&Sc(e);return{c(){t=I("div"),u&&u.c(),i=O(),d&&d.c(),s=P(),j(t,"id",n="charge_"+e[74]),j(t,"class","section svelte-1uv2v4w"),H(t,"expanded",e[3].charge[e[74]])},m(n,r){C(n,t,r),u&&u.m(t,null),C(n,i,r),d&&d.m(n,r),C(n,s,r),l=!0,a||(c=[T(t,"click",e[8]("charge",e[74])),T(t,"mouseenter",Ao("shield","charge",e[74])),T(t,"mouseleave",Io("shield","charge",e[74]))],a=!0)},p(n,r){(e=n)[6]?u?(u.p(e,r),64&r[0]&&we(u,1)):(u=kc(e),u.c(),we(u,1),u.m(t,null)):u&&(ye(),ke(u,1,1,(()=>{u=null})),be()),8&r[0]&&H(t,"expanded",e[3].charge[e[74]]),e[3].charge[e[74]]?d?(d.p(e,r),8&r[0]&&we(d,1)):(d=Sc(e),d.c(),we(d,1),d.m(s.parentNode,s)):d&&(ye(),ke(d,1,1,(()=>{d=null})),be())},i(e){l||(we(u),ae((()=>{r||(r=Se(t,lo,{},!0)),r.run(1)})),we(d),l=!0)},o(e){ke(u),r||(r=Se(t,lo,{},!1)),r.run(0),ke(d),l=!1},d(e){e&&L(t),u&&u.d(),e&&r&&r.end(),e&&L(i),d&&d.d(e),e&&L(s),a=!1,o(c)}}}function Tc(e){let t,n,r,o,i,s,l,a,c=e[2]("editor.inscription")+"",u=e[0].inscriptions.length>1?` ${e[74]+1}`:"",d=e[72].text+"";function p(t){e[55](t)}let h={el:e[72],i:e[74]};return void 0!==e[0].inscriptions&&(h.els=e[0].inscriptions),s=new ol({props:h}),ne.push((()=>Me(s,"els",p))),{c(){t=M(c),n=M(u),r=M(": "),o=M(d),i=O(),Oe(s.$$.fragment)},m(e,l){C(e,t,l),C(e,n,l),C(e,r,l),C(e,o,l),C(e,i,l),Pe(s,e,l),a=!0},p(e,r){(!a||4&r[0])&&c!==(c=e[2]("editor.inscription")+"")&&U(t,c),(!a||1&r[0])&&u!==(u=e[0].inscriptions.length>1?` ${e[74]+1}`:"")&&U(n,u),(!a||1&r[0])&&d!==(d=e[72].text+"")&&U(o,d);const i={};1&r[0]&&(i.el=e[72]),!l&&1&r[0]&&(l=!0,i.els=e[0].inscriptions,ce((()=>l=!1))),s.$set(i)},i(e){a||(we(s.$$.fragment,e),a=!0)},o(e){ke(s.$$.fragment,e),a=!1},d(e){e&&L(t),e&&L(n),e&&L(r),e&&L(o),e&&L(i),Te(s,e)}}}function Nc(e){let t,n,r,o,i,s,l,a,c,u,d,p,h,f;function m(t){e[56](t,e[72],e[73],e[74])}let g={};function $(t){e[57](t,e[72])}void 0!==e[72]&&(g.inscription=e[72]),r=new Vl({props:g}),ne.push((()=>Me(r,"inscription",m)));let v={};function y(t){e[58](t,e[72])}void 0!==e[72].shadow&&(v.shadow=e[72].shadow),l=new Ca({props:v}),ne.push((()=>Me(l,"shadow",$)));let b={};return void 0!==e[72].path&&(b.path=e[72].path),d=new ma({props:b}),ne.push((()=>Me(d,"path",y))),{c(){t=I("div"),n=I("div"),Oe(r.$$.fragment),i=O(),s=I("div"),Oe(l.$$.fragment),c=O(),u=I("div"),Oe(d.$$.fragment),j(n,"class","subsection"),j(s,"class","subsection"),j(u,"class","subsection"),j(t,"class","panel svelte-1uv2v4w")},m(e,o){C(e,t,o),_(t,n),Pe(r,n,null),_(t,i),_(t,s),Pe(l,s,null),_(t,c),_(t,u),Pe(d,u,null),f=!0},p(t,n){e=t;const i={};!o&&1&n[0]&&(o=!0,i.inscription=e[72],ce((()=>o=!1))),r.$set(i);const s={};!a&&1&n[0]&&(a=!0,s.shadow=e[72].shadow,ce((()=>a=!1))),l.$set(s);const c={};!p&&1&n[0]&&(p=!0,c.path=e[72].path,ce((()=>p=!1))),d.$set(c)},i(e){f||(we(r.$$.fragment,e),we(l.$$.fragment,e),we(d.$$.fragment,e),ae((()=>{h||(h=Se(t,lo,{},!0)),h.run(1)})),f=!0)},o(e){ke(r.$$.fragment,e),ke(l.$$.fragment,e),ke(d.$$.fragment,e),h||(h=Se(t,lo,{},!1)),h.run(0),f=!1},d(e){e&&L(t),Te(r),Te(l),Te(d),e&&h&&h.end()}}}function jc(e){let t,n,r,i,s,l,a,c,u=e[6]&&Tc(e),d=e[3].inscription[e[74]]&&Nc(e);return{c(){t=I("div"),u&&u.c(),i=O(),d&&d.c(),s=P(),j(t,"id",n="inscription_"+e[74]),j(t,"class","section svelte-1uv2v4w"),H(t,"expanded",e[3].inscription[e[74]])},m(n,r){C(n,t,r),u&&u.m(t,null),C(n,i,r),d&&d.m(n,r),C(n,s,r),l=!0,a||(c=[T(t,"click",e[8]("inscription",e[74])),T(t,"mouseenter",Ao("shield","inscription",e[74])),T(t,"mouseleave",Io("shield","inscription",e[74]))],a=!0)},p(n,r){(e=n)[6]?u?(u.p(e,r),64&r[0]&&we(u,1)):(u=Tc(e),u.c(),we(u,1),u.m(t,null)):u&&(ye(),ke(u,1,1,(()=>{u=null})),be()),8&r[0]&&H(t,"expanded",e[3].inscription[e[74]]),e[3].inscription[e[74]]?d?(d.p(e,r),8&r[0]&&we(d,1)):(d=Nc(e),d.c(),we(d,1),d.m(s.parentNode,s)):d&&(ye(),ke(d,1,1,(()=>{d=null})),be())},i(e){l||(we(u),ae((()=>{r||(r=Se(t,lo,{},!0)),r.run(1)})),we(d),l=!0)},o(e){ke(u),r||(r=Se(t,lo,{},!1)),r.run(0),ke(d),l=!1},d(e){e&&L(t),u&&u.d(),e&&r&&r.end(),e&&L(i),d&&d.d(e),e&&L(s),a=!1,o(c)}}}function Bc(e){let t,n,r,i,s,l,a,c,u,d,p=e[2]("editor.addOrdinary")+"",h=e[2]("editor.addCharge")+"",f=e[2]("editor.addInscription")+"";return{c(){t=I("div"),n=M(p),r=O(),i=I("div"),s=M(h),l=O(),a=I("div"),c=M(f),j(t,"class","buttonLine svelte-1uv2v4w"),j(i,"class","buttonLine svelte-1uv2v4w"),j(a,"class","buttonLine svelte-1uv2v4w")},m(o,p){C(o,t,p),_(t,n),C(o,r,p),C(o,i,p),_(i,s),C(o,l,p),C(o,a,p),_(a,c),u||(d=[T(t,"click",e[10]),T(i,"click",e[11]),T(a,"click",e[12])],u=!0)},p(e,t){4&t[0]&&p!==(p=e[2]("editor.addOrdinary")+"")&&U(n,p),4&t[0]&&h!==(h=e[2]("editor.addCharge")+"")&&U(s,h),4&t[0]&&f!==(f=e[2]("editor.addInscription")+"")&&U(c,f)},d(e){e&&L(t),e&&L(r),e&&L(i),e&&L(l),e&&L(a),u=!1,o(d)}}}function Dc(t){let n,r,i,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w,k,x,E,S,z,M,P,N,B=t[1],D=Ya(t),U=-1!==t[5].selectedPath&&Qa(t),R=t[6]&&ec(t),q=t[3].general&&tc(t),G=t[6]&&nc(t),F=t[3].shield&&oc(t),V=t[6]&&ic(t),J=t[3].field&&sc(t),Z=t[6]&&lc(t),K=t[3].division&&ac(t),W=t[0].ordinaries,X=[];for(let e=0;e<W.length;e+=1)X[e]=wc(Xa(t,W,e));const Y=e=>ke(X[e],1,1,(()=>{X[e]=null}));let Q=t[0].charges,ee=[];for(let e=0;e<Q.length;e+=1)ee[e]=Pc(Wa(t,Q,e));const te=e=>ke(ee[e],1,1,(()=>{ee[e]=null}));let ne=t[0].inscriptions,re=[];for(let e=0;e<ne.length;e+=1)re[e]=jc(Ka(t,ne,e));const oe=e=>ke(re[e],1,1,(()=>{re[e]=null}));let ie=t[6]&&Bc(t);return{c(){n=I("main"),r=I("div"),D.c(),i=O(),U&&U.c(),a=O(),c=I("div"),u=I("div"),R&&R.c(),d=O(),q&&q.c(),p=O(),h=I("div"),G&&G.c(),f=O(),F&&F.c(),m=O(),g=I("div"),V&&V.c(),$=O(),J&&J.c(),v=O(),y=I("div"),Z&&Z.c(),b=O(),K&&K.c(),w=O();for(let e=0;e<X.length;e+=1)X[e].c();k=O();for(let e=0;e<ee.length;e+=1)ee[e].c();x=O();for(let e=0;e<re.length;e+=1)re[e].c();E=O(),ie&&ie.c(),j(r,"class","coaContainer svelte-1uv2v4w"),j(u,"class","section svelte-1uv2v4w"),H(u,"expanded",t[3].general),j(h,"class","section svelte-1uv2v4w"),H(h,"expanded",t[3].shield),j(g,"class","section svelte-1uv2v4w"),H(g,"expanded",t[3].field),j(y,"class","section svelte-1uv2v4w"),H(y,"expanded",t[3].division),j(c,"id","menu"),j(c,"class","svelte-1uv2v4w"),j(n,"class","svelte-1uv2v4w")},m(e,o){C(e,n,o),_(n,r),D.m(r,null),_(r,i),U&&U.m(r,null),_(n,a),_(n,c),_(c,u),R&&R.m(u,null),_(c,d),q&&q.m(c,null),_(c,p),_(c,h),G&&G.m(h,null),_(c,f),F&&F.m(c,null),_(c,m),_(c,g),V&&V.m(g,null),_(c,$),J&&J.m(c,null),_(c,v),_(c,y),Z&&Z.m(y,null),_(c,b),K&&K.m(c,null),_(c,w);for(let e=0;e<X.length;e+=1)X[e].m(c,null);_(c,k);for(let e=0;e<ee.length;e+=1)ee[e].m(c,null);_(c,x);for(let e=0;e<re.length;e+=1)re[e].m(c,null);_(c,E),ie&&ie.m(c,null),M=!0,P||(N=[T(u,"click",t[8]("general")),T(h,"click",t[8]("shield")),T(g,"click",t[8]("field")),T(y,"click",t[8]("division"))],P=!0)},p(n,o){if(t=n,2&o[0]&&s(B,B=t[1])?(ye(),ke(D,1,1,e),be(),D=Ya(t),D.c(),we(D),D.m(r,i)):D.p(t,o),-1!==t[5].selectedPath?U?(U.p(t,o),32&o[0]&&we(U,1)):(U=Qa(t),U.c(),we(U,1),U.m(r,null)):U&&(ye(),ke(U,1,1,(()=>{U=null})),be()),t[6]?R?R.p(t,o):(R=ec(t),R.c(),R.m(u,null)):R&&(R.d(1),R=null),8&o[0]&&H(u,"expanded",t[3].general),t[3].general?q?(q.p(t,o),8&o[0]&&we(q,1)):(q=tc(t),q.c(),we(q,1),q.m(c,p)):q&&(ye(),ke(q,1,1,(()=>{q=null})),be()),t[6]?G?(G.p(t,o),64&o[0]&&we(G,1)):(G=nc(t),G.c(),we(G,1),G.m(h,null)):G&&(ye(),ke(G,1,1,(()=>{G=null})),be()),8&o[0]&&H(h,"expanded",t[3].shield),t[3].shield?F?(F.p(t,o),8&o[0]&&we(F,1)):(F=oc(t),F.c(),we(F,1),F.m(c,m)):F&&(ye(),ke(F,1,1,(()=>{F=null})),be()),t[6]?V?V.p(t,o):(V=ic(t),V.c(),V.m(g,null)):V&&(V.d(1),V=null),8&o[0]&&H(g,"expanded",t[3].field),t[3].field?J?(J.p(t,o),8&o[0]&&we(J,1)):(J=sc(t),J.c(),we(J,1),J.m(c,v)):J&&(ye(),ke(J,1,1,(()=>{J=null})),be()),t[6]?Z?Z.p(t,o):(Z=lc(t),Z.c(),Z.m(y,null)):Z&&(Z.d(1),Z=null),8&o[0]&&H(y,"expanded",t[3].division),t[3].division?K?(K.p(t,o),8&o[0]&&we(K,1)):(K=ac(t),K.c(),we(K,1),K.m(c,w)):K&&(ye(),ke(K,1,1,(()=>{K=null})),be()),351&o[0]){let e;for(W=t[0].ordinaries,e=0;e<W.length;e+=1){const n=Xa(t,W,e);X[e]?(X[e].p(n,o),we(X[e],1)):(X[e]=wc(n),X[e].c(),we(X[e],1),X[e].m(c,k))}for(ye(),e=W.length;e<X.length;e+=1)Y(e);be()}if(351&o[0]){let e;for(Q=t[0].charges,e=0;e<Q.length;e+=1){const n=Wa(t,Q,e);ee[e]?(ee[e].p(n,o),we(ee[e],1)):(ee[e]=Pc(n),ee[e].c(),we(ee[e],1),ee[e].m(c,x))}for(ye(),e=Q.length;e<ee.length;e+=1)te(e);be()}if(333&o[0]){let e;for(ne=t[0].inscriptions,e=0;e<ne.length;e+=1){const n=Ka(t,ne,e);re[e]?(re[e].p(n,o),we(re[e],1)):(re[e]=jc(n),re[e].c(),we(re[e],1),re[e].m(c,E))}for(ye(),e=ne.length;e<re.length;e+=1)oe(e);be()}t[6]?ie?ie.p(t,o):(ie=Bc(t),ie.c(),ie.m(c,null)):ie&&(ie.d(1),ie=null)},i(e){if(!M){we(D),we(U),l||ae((()=>{l=_e(r,so,{x:t[7]?0:1e3,y:t[7]?1e3:0,duration:800}),l.start()})),we(q),we(G),we(F),we(J),we(K);for(let e=0;e<W.length;e+=1)we(X[e]);for(let e=0;e<Q.length;e+=1)we(ee[e]);for(let e=0;e<ne.length;e+=1)we(re[e]);S||ae((()=>{S=_e(c,so,{x:t[7]?1e3:0,y:t[7]?0:1e3,duration:1e3}),S.start()})),z&&z.end(1),M=!0}},o(e){ke(D),ke(U),ke(q),ke(G),ke(F),ke(J),ke(K),X=X.filter(Za);for(let e=0;e<X.length;e+=1)ke(X[e]);ee=ee.filter(Za);for(let e=0;e<ee.length;e+=1)ke(ee[e]);re=re.filter(Za);for(let e=0;e<re.length;e+=1)ke(re[e]);z=Ee(n,io,{}),M=!1},d(e){e&&L(n),D.d(e),U&&U.d(),R&&R.d(),q&&q.d(),G&&G.d(),F&&F.d(),V&&V.d(),J&&J.d(),Z&&Z.d(),K&&K.d(),A(X,e),A(ee,e),A(re,e),ie&&ie.d(),e&&z&&z.end(),P=!1,o(N)}}}function Uc(e){const t=document.getElementById(e);return!!t&&"image"===t.tagName}function Rc(e,t,n){let r,o,i,s,l,a,u,d,p,h,f,m,$;c(e,to,(e=>n(2,o=e))),c(e,Gr,(e=>n(15,i=e))),c(e,xr,(e=>n(16,s=e))),c(e,Tt,(e=>n(59,l=e))),c(e,bt,(e=>n(60,a=e))),c(e,Ot,(e=>n(5,u=e))),c(e,Nt,(e=>n(17,d=e))),c(e,It,(e=>n(61,p=e))),c(e,Lt,(e=>n(18,h=e))),c(e,Ct,(e=>n(19,f=e))),c(e,At,(e=>n(20,m=e))),c(e,ht,(e=>n(6,$=e)));let{historyId:v,seed:y}=t,b={},w={field:0,division:0,ordinary:[],charge:[],inscription:[]};const k=innerWidth>innerHeight;g(Ot,u.transform=null,u),g(Ot,u.positions=null,u);let x=p[v]||ko(y||void 0);function _(){function e(e){if("tincture"===e.type)return e.t1;const t=["semy"===e.type?"semy_of_"+e.charge:e.pattern,e.t1,e.t2];return"standard"!==e.size&&t.push(e.size),t.join("-")}delete x.seed,n(1,x.shield=b.shield,x),b.name?n(1,x.name=b.name,x):delete x.name,1!==b.zoom?n(1,x.zoom=b.zoom,x):delete x.zoom,n(1,x.t1=e(b.field),x),b.division.division&&"no"!==b.division.division?(n(1,x.division={division:b.division.division},x),Ke.data[b.division.division].templateLined&&n(1,x.division.line=b.division.line,x),n(1,x.division.t=e(b.division),x)):(delete x.division,b.charges.forEach((e=>e.divided="")),b.ordinaries.forEach((e=>e.divided=""))),b.ordinaries.length?n(1,x.ordinaries=b.ordinaries.map((t=>{t.compony||t.gyronny?t.field2||=E(t.field.t1):delete t.field2;const n={ordinary:t.ordinary,t:e(t.field)};return Ue.lined[t.ordinary]&&(n.line=t.line),x.division&&t.divided&&(n.divided=t.divided),t.showStroke&&(n.stroke=t.stroke),t.showStroke&&1!==t.strokeWidth&&(n.strokeWidth=t.strokeWidth),t.size&&1!==t.size&&(n.size=t.size),t.stretch&&(n.stretch=t.stretch),(t.x||t.y)&&(n.x=t.x,n.y=t.y),t.angle&&(n.angle=t.angle),t.above&&(n.above=!0),["bordure","orle"].includes(t.ordinary)&&(t.compony&&(n.compony=t.compony),t.gyronny&&(n.gyronny=t.gyronny),(t.compony||t.gyronny)&&t.field2&&(n.t2=e(t.field2))),n})),x):delete x.ordinaries,b.charges.length?n(1,x.charges=b.charges.map((t=>{!function(e){const t=Be.data[e.charge]?.colors||1;1===t?(delete e.field2,delete e.field3):2===t?(e.field2||=E(e.field1.t1),delete e.field3):(e.field2||=E(e.field1.t1),e.field3||=E(e.field1.t1))}(t);const n={charge:t.charge,t:e(t.field1),p:t.p,size:t.size};if(Be.data[t.charge]?.colors>1&&t.field2){const r=e(t.field2);r!==n.t&&(n.t2=r)}if(Be.data[t.charge]?.colors>2&&t.field3){const r=e(t.field3);r!==n.t&&(n.t3=r)}return t.showStroke?"#000000"!==t.stroke&&(n.stroke=t.stroke):n.stroke="none",t.divided&&(n.divided=t.divided),t.sinister&&(n.sinister=1),t.reversed&&(n.reversed=1),t.layered&&Be.data[t.charge]?.layered&&"around"!==t.outside&&(n.layered=1),t.outside&&(Be.data[t.charge]?.layered||"around"!==t.outside)&&(n.outside=t.outside),t.stretch&&(n.stretch=t.stretch),(t.x||t.y)&&(n.x=t.x,n.y=t.y),t.angle&&(n.angle=t.angle),n})),x):delete x.charges,b.inscriptions.length?n(1,x.inscriptions=b.inscriptions.map((e=>{const t={text:e.text,font:e.font,size:e.size,path:e.path};return e.bold&&(t.bold=1),e.italic&&(t.italic=1),"#000000"!==e.color&&(t.color=e.color),0!==e.spacing&&(t.spacing=e.spacing),e.shadow&&(t.shadow=e.shadow),t})),x):delete x.inscriptions}function E(e){const t="semy"===e?.slice(0,4)?"semy":function(e){return e?.includes("-")}(e)?"pattern":"tincture";let n,r,o="vair",i="lozenge",s="conventional",l="standard";const a=e.split("-");return"tincture"===t?(n=e,r=L(e)):(n=a[1],r=a[2],l=a[3]||"standard"),"pattern"===t?o=a[0]:"semy"===t&&(i=a[0].split("_of_")[1],s=C(i)),{type:t,t1:n,t2:r,pattern:o,charge:i,category:s,size:l}}function S(){return n(0,b.shield=x.shield,b),n(0,b.name=x.name,b),n(0,b.zoom=x.zoom||1,b),n(0,b.field=E(x.t1),b),x.division?(n(0,b.division=E(x.division.t),b),n(0,b.division.division=x.division.division,b),n(0,b.division.line=x.division.line||"straight",b)):(n(0,b.division=E(L(b.field.t1)),b),n(0,b.division.division="no",b),n(0,b.division.line="straight",b)),n(0,b.ordinaries=function(){if(!x.ordinaries)return[];const e=x.ordinaries.map((e=>{const{ordinary:t,t:n,t2:r}=e,o=E(n),i=e.line||"straight",s=Boolean(e.stroke),l=e.stroke||"#000000",a=e.strokeWidth||1,c=e.size||1,d=e.stretch||0,p=e.x||0,h=e.y||0,f=e.angle||0,m=e.divided||"",$=e.above||!1,v=e.compony||0,y=e.gyronny||0;f&&g(Ot,u.transform=`rotate(${f})`,u);const b={ordinary:t,field:o,line:i,showStroke:s,stroke:l,strokeWidth:a,size:c,stretch:d,x:p,y:h,angle:f,divided:m,above:$,compony:v,gyronny:y};return(v||y)&&r&&(b.field2=E(r)),b}));return e}(),b),n(0,b.charges=x.charges?x.charges.map((e=>{const{charge:t,t:n,t2:r,t3:o,p:i,size:s}=e,l=C(t),a="none"!==e.stroke,c=a&&e.stroke?e.stroke:"#000000",d=e.divided||"",p=e.sinister||!1,h=e.reversed||!1,f=e.layered||!1,m=e.outside||"",$=e.stretch||0,v=e.x||0,y=e.y||0,b=e.angle||0;b&&g(Ot,u.transform=`rotate(${b})`,u);const w={charge:t,type:l,showStroke:a,stroke:c,divided:d,field1:E(n),p:i,size:s,stretch:$,sinister:p,reversed:h,layered:f,outside:m,x:v,y:y,angle:b};return Be.data[t]?.colors>1&&(w.field2=E(r||n)),Be.data[t]?.colors>2&&(w.field3=E(o||n)),w})):[],b),n(0,b.inscriptions=function(){if(!x.inscriptions)return[];const e=x.inscriptions.map((e=>{const{text:t,font:n,size:r,shadow:o}=e,i=e.bold||!1,s=e.italic||!1,l=e.color||"#000000";return{text:t,font:n,size:r,bold:i,italic:s,spacing:e.spacing||0,color:l,path:e.path||"M-50 0 L50 0",shadow:o}}));return e}(),b),b}function C(e){if("inescutcheon"===e)return e;return Object.keys(Be.types).find((t=>void 0!==Be[t][e]))||"uploaded"}function L(e){return it("argent"===e||"or"===e?a.colours:a.metals)}function A(){return Lo(wo(),"charge",[],x.t1)}"ontouchstart"in window||!x.ordinaries&&!x.charges||l||Tt.info("info.tipEditControls");return e.$$set=e=>{"historyId"in e&&n(13,v=e.historyId),"seed"in e&&n(14,y=e.seed)},e.$$.update=()=>{131072&e.$$.dirty[0]&&Nt.length()&&(n(1,x=JSON.parse(d[0])),S()),8192&e.$$.dirty[0]&&function(e){n(1,x=p[e]||ko(y||void 0)),p[e]||p.push(x),Nt.reset(),S()}(v),1048577&e.$$.dirty[0]&&_(),2&e.$$.dirty[0]&&function(e){Nt.add(JSON.stringify(e))}(x),524288&e.$$.dirty[0]&&localStorage.setItem("grid",f),262144&e.$$.dirty[0]&&localStorage.setItem("showGrid",h),98308&e.$$.dirty[0]&&n(4,r=(e,t)=>{const n=s?.[i]?.[e]?.[t];return n?o(`${e}.${t}`):t})},[b,x,o,w,r,u,$,k,(e,t)=>async()=>{void 0!==t?(n(3,w[e][t]=!w[e][t],w),await(le(),ie),Ao("shield",e,t)()):n(3,w[e]=!w[e],w)},function(e){return Object.keys(qe.types).find((t=>void 0!==qe[t][e]))},function(){const e={ordinary:ot(Object.keys(Ue.lined).concat(Object.keys(Ue.straight))),field:E(A()),showStroke:!1,stroke:"#000000",strokeWidth:1,line:"straight",size:1,above:!1,x:0,y:0,angle:0,divided:""};n(0,b.ordinaries=[...b.ordinaries,e],b)},function(){const e=it(Be.single),t=it(Be[e]),r=A(),o={charge:t,field1:E(r),p:"e",showStroke:!0,stroke:"#000000",type:e,size:1.5,sinister:!1,reversed:!1,layered:!1,x:0,y:0,angle:0,divided:"",outside:""};Be.data[t]?.colors>1&&(o.field2=E(st(.25)?A():r)),Be.data[t]?.colors>2&&(o.field3=E(st(.5)?A():r)),n(0,b.charges=[...b.charges,o],b)},function(){n(0,b.inscriptions=[...b.inscriptions,{text:"Armoria",font:"Cinzel",size:20,bold:!1,italic:!1,spacing:0,color:"#000000",path:"M-50 0 L50 0"}],b)},v,y,i,s,d,h,f,m,()=>g(Ot,u.selectedPath=-1,u),function(t){e.$$.not_equal(b.name,t)&&(b.name=t,n(0,b))},function(t){e.$$.not_equal(b.zoom,t)&&(b.zoom=t,n(0,b))},()=>n(0,b.shield=void 0,b),function(t){e.$$.not_equal(b.shield,t)&&(b.shield=t,n(0,b))},function(t){e.$$.not_equal(b.field,t)&&(b.field=t,n(0,b))},function(t){e.$$.not_equal(b.division.division,t)&&(b.division.division=t,n(0,b))},function(t){e.$$.not_equal(b.division.line,t)&&(b.division.line=t,n(0,b))},function(t){e.$$.not_equal(b.division,t)&&(b.division=t,n(0,b))},function(t){e.$$.not_equal(b.ordinaries,t)&&(b.ordinaries=t,n(0,b))},function(t,r){e.$$.not_equal(r.divided,t)&&(r.divided=t,n(0,b))},function(t,r){e.$$.not_equal(r.ordinary,t)&&(r.ordinary=t,n(0,b))},function(t,r){e.$$.not_equal(r.compony,t)&&(r.compony=t,n(0,b))},function(t,r){e.$$.not_equal(r.gyronny,t)&&(r.gyronny=t,n(0,b))},function(t,r){e.$$.not_equal(r.line,t)&&(r.line=t,n(0,b))},function(t,r){e.$$.not_equal(r.field.t1,t)&&(r.field.t1=t,n(0,b))},function(t,r){e.$$.not_equal(r.field2.t1,t)&&(r.field2.t1=t,n(0,b))},function(t,r){e.$$.not_equal(r.field,t)&&(r.field=t,n(0,b))},function(e,t,r,o){r[o]=e,n(0,b)},function(t,r){e.$$.not_equal(r.above,t)&&(r.above=t,n(0,b))},function(e,t,r,o){r[o]=e,n(0,b)},function(t){e.$$.not_equal(b.charges,t)&&(b.charges=t,n(0,b))},function(t,r){e.$$.not_equal(r.divided,t)&&(r.divided=t,n(0,b))},function(t,r){e.$$.not_equal(r.charge,t)&&(r.charge=t,n(0,b))},function(t,r){e.$$.not_equal(r.type,t)&&(r.type=t,n(0,b))},function(t,r){e.$$.not_equal(r.field1,t)&&(r.field1=t,n(0,b))},function(t,r){e.$$.not_equal(r.field2,t)&&(r.field2=t,n(0,b))},function(t,r){e.$$.not_equal(r.field3,t)&&(r.field3=t,n(0,b))},function(t,r){e.$$.not_equal(r.field1,t)&&(r.field1=t,n(0,b))},function(e,t,r,o){r[o]=e,n(0,b)},function(e,t,r,o){r[o]=e,n(0,b)},function(t,r){e.$$.not_equal(r.layered,t)&&(r.layered=t,n(0,b))},function(t,r){e.$$.not_equal(r.outside,t)&&(r.outside=t,n(0,b))},function(e,t,r,o){r[o]=e,n(0,b)},function(t){e.$$.not_equal(b.inscriptions,t)&&(b.inscriptions=t,n(0,b))},function(e,t,r,o){r[o]=e,n(0,b)},function(t,r){e.$$.not_equal(r.shadow,t)&&(r.shadow=t,n(0,b))},function(t,r){e.$$.not_equal(r.path,t)&&(r.path=t,n(0,b))}]}class qc extends je{constructor(e){super(),Ne(this,e,Rc,Dc,s,{historyId:13,seed:14},null,[-1,-1,-1])}}function Gc(t){let n,r,o,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b;return{c(){n=z("svg"),r=z("defs"),o=z("clipPath"),i=z("path"),s=z("g"),l=z("path"),c=z("path"),d=z("g"),p=z("rect"),f=z("path"),g=z("rect"),v=z("g"),y=z("path"),j(i,"d",qe.data.heater.path),j(o,"id","shieldAbout"),j(l,"stroke-width","1"),j(l,"d","M25,25 h150 v50 a150,150,0,0,1,-75,125 a150,150,0,0,1,-75,-125 z"),j(c,"d",t[7][t[6]][0]),j(p,"x","0"),j(p,"y","0"),j(p,"width","200"),j(p,"height","200"),j(p,"fill",h=t[2][t[4]]),j(f,"d",t[7][t[6]][1]),j(f,"fill",m=t[2][t[5]]),j(g,"x","0"),j(g,"y","0"),j(g,"width","200"),j(g,"height","200"),j(g,"fill","url(#nourse)"),j(d,"stroke","none"),j(s,"clip-path","url(#shieldAbout)"),j(s,"stroke","#fff"),j(s,"stroke-width",".5"),j(y,"d",qe.data.heater.path),j(v,"stroke","#000"),j(v,"fill","url(#backlight)"),j(n,"width",t[1]),j(n,"height",t[1]),j(n,"viewBox",Re)},m(e,t){C(e,n,t),_(n,r),_(r,o),_(o,i),_(n,s),_(s,l),_(s,c),_(s,d),_(d,p),_(d,f),_(d,g),_(n,v),_(v,y)},p(e,[r]){t=e,4&r&&h!==(h=t[2][t[4]])&&j(p,"fill",h),4&r&&m!==(m=t[2][t[5]])&&j(f,"fill",m),2&r&&j(n,"width",t[1]),2&r&&j(n,"height",t[1])},i(e){a||ae((()=>{a=_e(l,ao,{duration:t[0]}),a.start()})),u||ae((()=>{u=_e(c,ao,{delay:t[0]}),u.start()})),$||ae((()=>{$=_e(d,io,{delay:t[3],duration:t[0]}),$.start()})),b||ae((()=>{b=_e(y,ao,{delay:t[3],duration:t[0]}),b.start()}))},o:e,d(e){e&&L(n)}}}function Fc(e,t,n){let r;c(e,yt,(e=>n(2,r=e)));let{duration:o}=t;const i=2.6*o,s={argent:3,or:2},l={gules:5,sable:3,azure:4,vert:2,purpure:3},a=Math.random()>.5,u=it(a?s:l),d=it(a?l:s),p=it({perPale:2,perFess:2,perBend:2,perBendSinister:1,perCross:6,perChevron:1,perChevronReversed:1,perPile:2,perSaltire:5,gyronny:1,chevronny:1});let h=window.innerWidth<600?.9*window.innerWidth:500;return window.innerHeight<600&&(h*=.5),e.$$set=e=>{"duration"in e&&n(0,o=e.duration)},[o,h,r,i,u,d,p,{perPale:["M100,25 v175","M100,0 v200 h100 v-200 Z"],perFess:["M27.5,100 h145","M0,100 h200 v100 h-200 Z"],perBend:["M0,0 l200,200","M0,0 l200,200 h-200 Z"],perBendSinister:["M200,0 L0,200","M200,0 L0,200 h200 Z"],perCross:["M100,25 v175 M27.5,100 h145","M100,0 v200 h-100 v-100 h200 v-100 Z"],perChevron:["M0,0 l100,100 l100,-100","M0,0 l100,100 l100,-100 Z"],perChevronReversed:["M0,200 l100,-100 l100,100","M0,200 l100,-100 l100,100 Z"],perPile:["M15,0 l85,200 l85,-200","M15,0 l85,200 l85,-200 Z"],perSaltire:["M0,0 L200,200 M200,0 l-200,200","M0,0 L200,200 v-200 l-200,200 Z"],gyronny:["M0,0 l200,200 M200,100 h-200 M100,0 v200 M0,200 l200,-200","M0,0 l200,200 v-100 h-200 h-100 M100,0 v200, h-100 l200,-200 h-100"],chevronny:["","M0,80 100,-15 200,80 200,120 100,25 0,120z M0,160 100,65 200,160 200,200 100,105 0,200z M0,240 100,145 200,240 0,240z"]}]}class Hc extends je{constructor(e){super(),Ne(this,e,Fc,Gc,s,{duration:0})}}function Vc(e){let t,n,r,o,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w,k,x,E,S,A,z,P,N,B=e[1]("about.title")+"",D=e[1]("about.tutorial")+"",R=e[1]("about.discord")+"",q=e[1]("about.gitHub")+"",G=e[1]("about.api")+"",F=e[1]("about.patreon")+"";return o=new Hc({props:{duration:Jc}}),{c(){t=I("div"),n=I("span"),n.textContent="",r=O(),Oe(o.$$.fragment),i=O(),s=I("div"),l=I("div"),a=M(B),c=O(),u=I("div"),d=I("a"),p=M(D),h=O(),f=I("a"),m=M(R),g=O(),$=I("a"),v=M(q),y=O(),b=I("a"),w=M(G),k=O(),x=I("a"),E=M(F),j(n,"class","close svelte-389sj5"),j(l,"class","title svelte-389sj5"),j(d,"target","_blank"),j(d,"href","https://github.com/Azgaar/Armoria/wiki/Armoria-Tutorial"),j(d,"class","svelte-389sj5"),j(f,"target","_blank"),j(f,"href","https://discord.com/invite/X7E84HU"),j(f,"class","svelte-389sj5"),j($,"target","_blank"),j($,"href","https://github.com/Azgaar/Armoria"),j($,"class","svelte-389sj5"),j(b,"target","_blank"),j(b,"href","https://github.com/Azgaar/armoria-api#readme"),j(b,"class","svelte-389sj5"),j(x,"target","_blank"),j(x,"href","https://www.patreon.com/azgaar"),j(x,"class","svelte-389sj5"),j(u,"class","links svelte-389sj5"),j(s,"class","content svelte-389sj5"),j(t,"id","about"),j(t,"class","svelte-389sj5")},m(S,L){C(S,t,L),_(t,n),_(t,r),Pe(o,t,null),_(t,i),_(t,s),_(s,l),_(l,a),_(s,c),_(s,u),_(u,d),_(d,p),_(u,h),_(u,f),_(f,m),_(u,g),_(u,$),_($,v),_(u,y),_(u,b),_(b,w),_(u,k),_(u,x),_(x,E),z=!0,P||(N=T(n,"click",e[2]),P=!0)},p(t,[n]){e=t,(!z||2&n)&&B!==(B=e[1]("about.title")+"")&&U(a,B),(!z||2&n)&&D!==(D=e[1]("about.tutorial")+"")&&U(p,D),(!z||2&n)&&R!==(R=e[1]("about.discord")+"")&&U(m,R),(!z||2&n)&&q!==(q=e[1]("about.gitHub")+"")&&U(v,q),(!z||2&n)&&G!==(G=e[1]("about.api")+"")&&U(w,G),(!z||2&n)&&F!==(F=e[1]("about.patreon")+"")&&U(E,F)},i(e){z||(we(o.$$.fragment,e),S||ae((()=>{S=_e(s,so,{y:200,delay:Jc,duration:Jc}),S.start()})),ae((()=>{A||(A=Se(t,io,{},!0)),A.run(1)})),z=!0)},o(e){ke(o.$$.fragment,e),A||(A=Se(t,io,{},!1)),A.run(0),z=!1},d(e){e&&L(t),Te(o),e&&A&&A.end(),P=!1,N()}}}const Jc=1e3;function Zc(e,t,n){let r,o;c(e,Ot,(e=>n(0,r=e))),c(e,to,(e=>n(1,o=e)));return[r,o,()=>g(Ot,r.about=0,r)]}class Kc extends je{constructor(e){super(),Ne(this,e,Zc,Vc,s,{})}}function Wc(t){let n,r,o,i,s,l,a,c,u,d=t[4]("fonts.url")+"";return{c(){n=I("div"),r=I("label"),o=M(d),i=M(":"),s=O(),l=I("input"),j(r,"for","fontUrl"),j(l,"id","fontUrl"),j(n,"class","input svelte-1or9sdo")},m(e,a){C(e,n,a),_(n,r),_(r,o),_(r,i),_(n,s),_(n,l),R(l,t[2]),c||(u=T(l,"input",t[10]),c=!0)},p(e,t){16&t&&d!==(d=e[4]("fonts.url")+"")&&U(o,d),4&t&&l.value!==e[2]&&R(l,e[2])},i(e){e&&(a||ae((()=>{a=_e(n,so,{}),a.start()})))},o:e,d(e){e&&L(n),c=!1,u()}}}function Xc(e){let t,n,r,o,i=e[4]("fonts.restoreDefault")+"";return{c(){t=I("button"),n=M(i),j(t,"type","button"),j(t,"class","linkButton svelte-1or9sdo")},m(i,s){C(i,t,s),_(t,n),r||(o=T(t,"click",e[6]),r=!0)},p(e,t){16&t&&i!==(i=e[4]("fonts.restoreDefault")+"")&&U(n,i)},d(e){e&&L(t),r=!1,o()}}}function Yc(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w,k,x,E,S,A,z,P,B,D,q,F,H,V,J,Z,K,W=e[4]("fonts.type")+"",X=e[4]("fonts.local")+"",Y=e[4]("fonts.web")+"",Q=e[4](`fonts.name_${e[1]}`)+"",ee=no(e[4]("fonts.tip_local"))+"",te=no(e[4]("fonts.tip_web"))+"",ne=e[4]("fonts.confirm")+"",re=e[4]("fonts.close")+"",oe=Object.keys(e[3]).length!==Object.keys(rt).length,ie="web"===e[1]&&Wc(e),se=oe&&Xc(e);return{c(){t=I("div"),n=I("form"),r=I("div"),i=I("label"),s=M(W),l=M(":"),a=O(),c=I("select"),u=I("option"),d=M(X),p=I("option"),h=M(Y),f=O(),m=I("div"),g=I("label"),$=M(Q),v=M(":"),y=O(),b=I("input"),w=O(),ie&&ie.c(),k=O(),x=I("div"),E=O(),S=I("div"),A=O(),z=I("div"),P=I("button"),B=M(ne),D=O(),q=I("button"),F=M(re),H=O(),se&&se.c(),j(i,"for","fontType"),u.__value="local",u.value=u.__value,p.__value="web",p.value=p.__value,j(c,"id","fontType"),void 0===e[1]&&ae((()=>e[8].call(c))),j(r,"class","input svelte-1or9sdo"),j(g,"for","fontName"),j(b,"id","fontName"),j(m,"class","input svelte-1or9sdo"),j(P,"type","submit"),j(q,"type","button"),j(z,"class","controls svelte-1or9sdo"),j(n,"name","add font"),j(n,"class","svelte-1or9sdo"),j(t,"id","fonts"),j(t,"class","svelte-1or9sdo")},m(o,L){C(o,t,L),_(t,n),_(n,r),_(r,i),_(i,s),_(i,l),_(r,a),_(r,c),_(c,u),_(u,d),_(c,p),_(p,h),G(c,e[1]),_(n,f),_(n,m),_(m,g),_(g,$),_(g,v),_(m,y),_(m,b),R(b,e[0]),_(n,w),ie&&ie.m(n,null),_(n,k),_(n,x),x.innerHTML=ee,_(n,E),_(n,S),S.innerHTML=te,_(n,A),_(n,z),_(z,P),_(P,B),_(z,D),_(z,q),_(q,F),_(n,H),se&&se.m(n,null),J=!0,Z||(K=[T(c,"change",e[8]),T(b,"input",e[9]),T(q,"click",e[7]),T(n,"submit",N(e[5]))],Z=!0)},p(e,[t]){(!J||16&t)&&W!==(W=e[4]("fonts.type")+"")&&U(s,W),(!J||16&t)&&X!==(X=e[4]("fonts.local")+"")&&U(d,X),(!J||16&t)&&Y!==(Y=e[4]("fonts.web")+"")&&U(h,Y),2&t&&G(c,e[1]),(!J||18&t)&&Q!==(Q=e[4](`fonts.name_${e[1]}`)+"")&&U($,Q),1&t&&b.value!==e[0]&&R(b,e[0]),"web"===e[1]?ie?(ie.p(e,t),2&t&&we(ie,1)):(ie=Wc(e),ie.c(),we(ie,1),ie.m(n,k)):ie&&(ie.d(1),ie=null),(!J||16&t)&&ee!==(ee=no(e[4]("fonts.tip_local"))+"")&&(x.innerHTML=ee),(!J||16&t)&&te!==(te=no(e[4]("fonts.tip_web"))+"")&&(S.innerHTML=te),(!J||16&t)&&ne!==(ne=e[4]("fonts.confirm")+"")&&U(B,ne),(!J||16&t)&&re!==(re=e[4]("fonts.close")+"")&&U(F,re),8&t&&(oe=Object.keys(e[3]).length!==Object.keys(rt).length),oe?se?se.p(e,t):(se=Xc(e),se.c(),se.m(n,null)):se&&(se.d(1),se=null)},i(e){J||(we(ie),e&&ae((()=>{V||(V=Se(n,io,{},!0)),V.run(1)})),J=!0)},o(e){e&&(V||(V=Se(n,io,{},!1)),V.run(0)),J=!1},d(e){e&&L(t),ie&&ie.d(),se&&se.d(),e&&V&&V.end(),Z=!1,o(K)}}}function Qc(e,t,n){let r,o,i;c(e,Ot,(e=>n(11,r=e))),c(e,wt,(e=>n(3,o=e))),c(e,to,(e=>n(4,i=e)));let s="",l="local",a="";function u(e,t){g(wt,o[e]=t,o),localStorage.setItem("fonts",JSON.stringify(o)),Tt.info(i("success.fontAdded")),d()}function d(){g(Ot,r.fonts=0,r)}return[s,l,a,o,i,function(){if(!s)return Tt.error(i("error.emptyName"));if(o[s])return Tt.error(i("error.notUniqueName"));if("web"===l){if(!a)return Tt.error(i("error.emptyFontURL"));const e=new FontFace(s,`url(${a})`);e.load().then((()=>{document.fonts.add(e),u(s,{url:a})}),(e=>{console.error(e),Tt.error(i("error.loadingFont"))}))}else u(s,{})},function(){g(wt,o=rt,o),localStorage.removeItem("fonts")},d,function(){l=F(this),n(1,l)},function(){s=this.value,n(0,s)},function(){a=this.value,n(2,a)}]}class eu extends je{constructor(e){super(),Ne(this,e,Qc,Yc,s,{})}}function tu(e,t,n){const r=e.slice();return r[15]=t[n],r[17]=n,r}function nu(e){let t,n;return t=new Os({props:{coa:e[15],i:e[17],width:e[0],height:e[1]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.coa=e[15]),1&n&&(r.width=e[0]),2&n&&(r.height=e[1]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function ru(t){let n,r,i,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w,k=(t[15].name||"")+"",x=t[15],E=nu(t);function S(){return t[9](t[17])}function A(){return t[10](t[17])}function P(){return t[11](t[17])}return{c(){n=I("div"),r=I("div"),i=M(k),l=O(),E.c(),a=O(),c=I("div"),u=z("svg"),d=z("use"),p=O(),h=z("svg"),f=z("use"),m=O(),g=z("svg"),$=z("use"),v=O(),j(r,"class","name svelte-1s8ib81"),j(d,"href","#dice-icon"),j(u,"class","svelte-1s8ib81"),j(f,"href","#pencil-icon"),j(h,"class","svelte-1s8ib81"),j($,"href","#download-icon"),j(g,"class","svelte-1s8ib81"),j(c,"class","control svelte-1s8ib81"),j(n,"class","svelte-1s8ib81")},m(e,t){C(e,n,t),_(n,r),_(r,i),_(n,l),E.m(n,null),_(n,a),_(n,c),_(c,u),_(u,d),_(c,p),_(c,h),_(h,f),_(c,m),_(c,g),_(g,$),_(n,v),y=!0,b||(w=[T(u,"click",S),T(h,"click",A),T(g,"click",P)],b=!0)},p(r,o){t=r,(!y||4&o)&&k!==(k=(t[15].name||"")+"")&&U(i,k),4&o&&s(x,x=t[15])?(ye(),ke(E,1,1,e),be(),E=nu(t),E.c(),we(E),E.m(n,a)):E.p(t,o)},i(e){y||(we(E),y=!0)},o(e){ke(E),y=!1},d(e){e&&L(n),E.d(e),b=!1,o(w)}}}function ou(e){let t,n,r,o=e[2],i=[];for(let t=0;t<o.length;t+=1)i[t]=ru(tu(e,o,t));const s=e=>ke(i[e],1,1,(()=>{i[e]=null}));return{c(){t=I("main");for(let e=0;e<i.length;e+=1)i[e].c();q(t,"color",e[4]),q(t,"font-size",e[3]+"px"),j(t,"class","svelte-1s8ib81")},m(e,n){C(e,t,n);for(let e=0;e<i.length;e+=1)i[e].m(t,null);r=!0},p(e,[n]){if(103&n){let r;for(o=e[2],r=0;r<o.length;r+=1){const s=tu(e,o,r);i[r]?(i[r].p(s,n),we(i[r],1)):(i[r]=ru(s),i[r].c(),we(i[r],1),i[r].m(t,null))}for(ye(),r=o.length;r<i.length;r+=1)s(r);be()}(!r||16&n)&&q(t,"color",e[4]),(!r||8&n)&&q(t,"font-size",e[3]+"px")},i(e){if(!r){for(let e=0;e<o.length;e+=1)we(i[e]);ae((()=>{n||(n=Se(t,io,{duration:500},!0)),n.run(1)})),r=!0}},o(e){i=i.filter(Boolean);for(let e=0;e<i.length;e+=1)ke(i[e]);n||(n=Se(t,io,{duration:500},!1)),n.run(0),r=!1},d(e){e&&L(t),A(i,e),e&&n&&n.end()}}}function iu(e,t,n){let r,o,i,s,l,a,u;c(e,Ot,(e=>n(12,i=e))),c(e,It,(e=>n(8,s=e))),c(e,Mt,(e=>n(13,l=e))),c(e,zt,(e=>n(14,a=e))),c(e,xt,(e=>n(4,u=e)));let{gallery:d}=t,{width:p}=t,{height:h}=t;function f(e){g(Ot,i.i=e,i),g(Mt,l++,l),g(zt,a[l]=a[l-1].slice(),a),g(zt,a[l][i.i]=s.length,a)}function m(e){g(Ot,i.edit=1,i),g(Ot,i.c=d[e],i),g(Ot,i.i=e,i)}return e.$$set=e=>{"gallery"in e&&n(7,d=e.gallery),"width"in e&&n(0,p=e.width),"height"in e&&n(1,h=e.height)},e.$$.update=()=>{var t,i,l;1&e.$$.dirty&&n(3,(t=p/20,i=6,l=12,r=Math.max(Math.min(Math.round(t),l),i))),384&e.$$.dirty&&n(2,o=d.map((e=>(s[e]||g(It,s[e]=ko(),s),s[e]))))},[p,h,o,r,u,f,m,d,s,e=>f(e),e=>m(e),e=>fo(e)]}class su extends je{constructor(e){super(),Ne(this,e,iu,ou,s,{gallery:7,width:0,height:1})}}function lu(e,t,n){const r=e.slice();return r[9]=t[n].charge,r[21]=t[n].license,r[22]=t[n].source,r}function au(e){let t,n=e[7],r=[];for(let t=0;t<n.length;t+=1)r[t]=uu(lu(e,n,t));return{c(){t=I("div");for(let e=0;e<r.length;e+=1)r[e].c();j(t,"class","chargesList svelte-1b7i60q")},m(e,n){C(e,t,n);for(let e=0;e<r.length;e+=1)r[e].m(t,null)},p(e,o){if(128&o){let i;for(n=e[7],i=0;i<n.length;i+=1){const s=lu(e,n,i);r[i]?r[i].p(s,o):(r[i]=uu(s),r[i].c(),r[i].m(t,null))}for(;i<r.length;i+=1)r[i].d(1);r.length=n.length}},d(e){e&&L(t),A(r,e)}}}function cu(e){let t,n,r,o,i,s,l=(e[7].length>1?e[0]("license.charges"):e[9].charge)+"",a=e[9].license+"",c=e[9].source+"";return{c(){t=I("h3"),n=M(l),r=M(": "),o=new V,i=M(", "),s=new V,o.a=i,s.a=null},m(e,l){C(e,t,l),_(t,n),_(t,r),o.m(a,t),_(t,i),s.m(c,t)},p(e,t){1&t&&l!==(l=(e[7].length>1?e[0]("license.charges"):e[9].charge)+"")&&U(n,l)},d(e){e&&L(t)}}}function uu(t){let n,r,o,i,s,l,a,c=t[9]+"",u=t[21]+"",d=t[22]+"";return{c(){n=I("div"),r=I("span"),o=M(c),i=M(": "),s=new V,l=M(", "),a=new V,j(r,"class","charge svelte-1b7i60q"),s.a=l,a.a=null},m(e,t){C(e,n,t),_(n,r),_(r,o),_(n,i),s.m(u,n),_(n,l),a.m(d,n)},p:e,d(e){e&&L(n)}}}function du(e){let t,n=e[0]("license.wetaShield")+"";return{c(){t=I("p")},m(e,r){C(e,t,r),t.innerHTML=n},p(e,r){1&r&&n!==(n=e[0]("license.wetaShield")+"")&&(t.innerHTML=n)},d(e){e&&L(t)}}}function pu(e){let t,n,r,o,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w,k,x,E,S,A,z,P,N,B,D,R,q,G,F,H,J,Z=e[0]("license.armoriaLicense")+"",K=e[3](e[2]),W=e[0]("license.code")+"",X=e[0]("license.textMain")+"",Y=e[0]("license.textRest")+"",Q=e[0]("license.icons")+"",ee=e[7].length&&function(e){let t,n,r,o,i=e[0]("license.currentCoas")+"";return{c(){t=I("hr"),n=O(),r=I("h2"),o=M(i),j(t,"class","svelte-1b7i60q")},m(e,i){C(e,t,i),C(e,n,i),C(e,r,i),_(r,o)},p(e,t){1&t&&i!==(i=e[0]("license.currentCoas")+"")&&U(o,i)},d(e){e&&L(t),e&&L(n),e&&L(r)}}}(e);let te=function(e,t){return e[8]?cu:au}(e),ne=te(e),re=K&&du(e);return{c(){t=I("div"),n=I("span"),n.textContent="",r=O(),o=I("div"),i=I("h1"),s=M(Z),l=O(),ee&&ee.c(),a=O(),ne.c(),c=O(),re&&re.c(),u=O(),d=I("hr"),p=O(),h=I("h2"),f=M(W),m=M(": MIT License, "),g=new V,$=O(),v=I("p"),y=M(X),b=O(),w=I("p"),k=M(Y),x=O(),E=I("hr"),S=O(),A=I("h2"),z=M(Q),P=M(": "),N=new V,B=M(", "),D=new V,R=O(),q=I("br"),j(n,"class","close svelte-1b7i60q"),j(d,"class","svelte-1b7i60q"),g.a=null,j(E,"class","svelte-1b7i60q"),N.a=B,D.a=null,j(o,"id","licenseContainer"),j(o,"class","svelte-1b7i60q"),j(t,"id","license"),j(t,"class","svelte-1b7i60q")},m(L,I){C(L,t,I),_(t,n),_(t,r),_(t,o),_(o,i),_(i,s),_(o,l),ee&&ee.m(o,null),_(o,a),ne.m(o,null),_(o,c),re&&re.m(o,null),_(o,u),_(o,d),_(o,p),_(o,h),_(h,f),_(h,m),g.m(e[4],h),_(o,$),_(o,v),_(v,y),_(o,b),_(o,w),_(w,k),_(o,x),_(o,E),_(o,S),_(o,A),_(A,z),_(A,P),N.m(e[5],A),_(A,B),D.m(e[6],A),_(o,R),_(o,q),F=!0,H||(J=T(n,"click",e[10]),H=!0)},p(e,[t]){(!F||1&t)&&Z!==(Z=e[0]("license.armoriaLicense")+"")&&U(s,Z),e[7].length&&ee.p(e,t),ne.p(e,t),4&t&&(K=e[3](e[2])),K?re?re.p(e,t):(re=du(e),re.c(),re.m(o,u)):re&&(re.d(1),re=null),(!F||1&t)&&W!==(W=e[0]("license.code")+"")&&U(f,W),(!F||1&t)&&X!==(X=e[0]("license.textMain")+"")&&U(y,X),(!F||1&t)&&Y!==(Y=e[0]("license.textRest")+"")&&U(k,Y),(!F||1&t)&&Q!==(Q=e[0]("license.icons")+"")&&U(z,Q)},i(e){F||(ae((()=>{G||(G=Se(t,io,{},!0)),G.run(1)})),F=!0)},o(e){G||(G=Se(t,io,{},!1)),G.run(0),F=!1},d(e){e&&L(t),ee&&ee.d(),ne.d(),re&&re.d(),e&&G&&G.end(),H=!1,J()}}}function hu(e,t,n){let r,o,i,s,l;c(e,to,(e=>n(0,r=e))),c(e,Gr,(e=>n(11,o=e))),c(e,xr,(e=>n(12,i=e))),c(e,Ot,(e=>n(1,s=e))),c(e,vt,(e=>n(2,l=e)));const a=Array.from(document.querySelectorAll("svg.coa")).map((e=>Array.from(e.querySelectorAll(".charge[charge]")).map((e=>e.getAttribute("charge"))))).flat(),u=r("license.noLicenseData"),d=r("license.noSourceData"),p=r("license.publicDomain"),h=r("license.fairUse"),f=at("https://github.com/Azgaar/Armoria","Azgaar"),m=at("https://creativecommons.org/licenses/by/4.0/","CC BY 4.0"),$=at("https://fontawesome.com/license/free","Font Awesome"),v=(e,t)=>{const n=i?.[o]?.[e]?.[t];return n?r(`${e}.${t}`):t},y=[...new Set(a)].map((e=>{const t=document.getElementById(e),n=t.getAttribute("license"),r=function(e){return e?e.includes("publicdomain")?p:e.includes("by-nc-sa")?"CC BY-NC-SA":e.includes("by-nc-nd")?"CC BY-NC-ND":e.includes("by-nc")?"CC BY-NC":e.includes("by-nd")?"CC BY-ND":e.includes("by-sa")?"CC BY-SA":e.includes("by")?"CC BY":e.includes("Fair")?h:e:null}(n),o=t.getAttribute("source"),i=t.getAttribute("author")||(o?new URL(o).host:null),s=n&&r?at(n,r):u,l=o?at(o,i):i||d;return{charge:v("charges",e),license:s,source:l}})).sort(((e,t)=>e.license<t.license?-1:1)),b=1===[...new Set(y.map((e=>[e.license,e.source].join(","))))].length,w=b?y[0]:null;return[r,s,l,e=>["noldor","gondor","easterling","ironHills","urukHai","moriaOrc"].includes(e),f,m,$,y,b,w,()=>g(Ot,s.license=0,s)]}class fu extends je{constructor(e){super(),Ne(this,e,hu,pu,s,{})}}function mu(e,{from:t,to:n},r={}){const o=getComputedStyle(e),s="none"===o.transform?"":o.transform,[l,a]=o.transformOrigin.split(" ").map(parseFloat),c=t.left+t.width*l/n.width-(n.left+l),u=t.top+t.height*a/n.height-(n.top+a),{delay:d=0,duration:p=(e=>120*Math.sqrt(e)),easing:h=oo}=r;return{delay:d,duration:i(p)?p(Math.sqrt(c*c+u*u)):p,easing:h,css:(e,r)=>{const o=r*c,i=r*u,l=e+r*t.width/n.width,a=e+r*t.height/n.height;return`transform: ${s} translate(${o}px, ${i}px) scale(${l}, ${a});`}}}function gu(e,t,n){const r=e.slice();return r[29]=t[n].t,r[30]=t[n].type,r[31]=t,r[32]=n,r}function $u(e,t,n){const r=e.slice();return r[33]=t[n],r}function vu(e,t,n){const r=e.slice();return r[36]=t[n],r}function yu(e,t,n){const r=e.slice();return r[30]=t[n],r}function bu(e,t,n){const r=e.slice();return r[30]=t[n],r}function wu(e,t){let n,r,o=t[5](`tinctures.${t[30]}`)+"";return{key:e,first:null,c(){n=I("th"),r=M(o),this.first=n},m(e,t){C(e,n,t),_(n,r)},p(e,n){t=e,34&n[0]&&o!==(o=t[5](`tinctures.${t[30]}`)+"")&&U(r,o)},d(e){e&&L(n)}}}function ku(e,t){let n,r,o,i,s,l,a,c,u,d,p=t[3](t[36])+"";function h(...e){return t[16](t[36],t[30],...e)}return{key:e,first:null,c(){n=I("td"),r=I("input"),s=O(),l=I("span"),a=M("/ "),c=M(p),j(r,"type","number"),j(r,"min",o=t[6].includes(t[30])?1:0),j(r,"max","100"),j(r,"step","1"),r.value=i=t[1][t[36]][t[30]],j(r,"class","svelte-lk1zeb"),j(l,"class","totalChance svelte-lk1zeb"),j(n,"class","svelte-lk1zeb"),this.first=n},m(e,t){C(e,n,t),_(n,r),_(n,s),_(n,l),_(l,a),_(l,c),u||(d=T(r,"change",h),u=!0)},p(e,n){t=e,2&n[0]&&o!==(o=t[6].includes(t[30])?1:0)&&j(r,"min",o),2&n[0]&&i!==(i=t[1][t[36]][t[30]])&&(r.value=i),8&n[0]&&p!==(p=t[3](t[36])+"")&&U(c,p)},d(e){e&&L(n),u=!1,d()}}}function xu(e,t){let n,r,o,i,s,l=t[5](`tinctures.${t[36]}`)+"",a=[],c=new Map,u=Object.keys(t[1][t[36]]);const d=e=>e[30];for(let e=0;e<u.length;e+=1){let n=yu(t,u,e),r=d(n);c.set(r,a[e]=ku(r,n))}return{key:e,first:null,c(){n=I("tr"),r=I("td"),o=M(l),i=O();for(let e=0;e<a.length;e+=1)a[e].c();s=O(),j(r,"class","svelte-lk1zeb"),this.first=n},m(e,t){C(e,n,t),_(n,r),_(r,o),_(n,i);for(let e=0;e<a.length;e+=1)a[e].m(n,null);_(n,s)},p(e,r){t=e,32&r[0]&&l!==(l=t[5](`tinctures.${t[36]}`)+"")&&U(o,l),202&r[0]&&(u=Object.keys(t[1][t[36]]),a=ze(a,r,d,1,t,u,c,n,Le,ku,s,yu))},d(e){e&&L(n);for(let e=0;e<a.length;e+=1)a[e].d()}}}function _u(e){let t,n,r,o,i=e[5]("tinctures.add")+"";return{c(){t=I("button"),n=M(i)},m(i,s){C(i,t,s),_(t,n),r||(o=T(t,"click",e[10]),r=!0)},p(e,t){32&t[0]&&i!==(i=e[5]("tinctures.add")+"")&&U(n,i)},d(e){e&&L(t),r=!1,o()}}}function Eu(e){let t,n,r,o,i=e[5]("tinctures.apply")+"";return{c(){t=I("button"),n=M(i)},m(i,s){C(i,t,s),_(t,n),r||(o=T(t,"click",e[13]),r=!0)},p(e,t){32&t[0]&&i!==(i=e[5]("tinctures.apply")+"")&&U(n,i)},d(e){e&&L(t),r=!1,o()}}}function Su(e){let t,n,r=e[5](`tinctures.${e[33]}`)+"";return{c(){t=I("th"),n=M(r)},m(e,r){C(e,t,r),_(t,n)},p(e,t){32&t[0]&&r!==(r=e[5](`tinctures.${e[33]}`)+"")&&U(n,r)},d(e){e&&L(t)}}}function Cu(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w,k,x,E,S,A,z,P=e[5]("tinctures.metals")+"",N=e[5]("tinctures.colours")+"",B=e[5]("tinctures.stains")+"";return{c(){t=I("tr"),n=I("td"),r=I("input"),s=O(),l=I("td"),a=I("select"),c=I("option"),u=M(P),d=I("option"),p=M(N),h=I("option"),f=M(B),m=O(),g=I("td"),$=I("input"),v=O(),y=I("td"),b=I("input"),w=O(),k=I("td"),x=I("span"),x.textContent="",j(r,"type","text"),j(r,"placeholder",i=e[5]("tinctures.name")),j(r,"class","svelte-lk1zeb"),j(n,"class","svelte-lk1zeb"),c.__value="metals",c.value=c.__value,d.__value="colours",d.value=d.__value,h.__value="stains",h.value=h.__value,j(a,"class","svelte-lk1zeb"),void 0===e[2].type&&ae((()=>e[18].call(a))),j(l,"class","svelte-lk1zeb"),j($,"type","color"),j($,"class","svelte-lk1zeb"),j(g,"class","svelte-lk1zeb"),j(b,"type","number"),j(b,"min","0"),j(b,"max","100"),j(b,"step","1"),j(b,"class","svelte-lk1zeb"),j(y,"class","svelte-lk1zeb"),j(x,"class","actionButton svelte-lk1zeb"),j(k,"class","svelte-lk1zeb")},m(o,i){C(o,t,i),_(t,n),_(n,r),R(r,e[2].name),_(t,s),_(t,l),_(l,a),_(a,c),_(c,u),_(a,d),_(d,p),_(a,h),_(h,f),G(a,e[2].type),_(t,m),_(t,g),_(g,$),R($,e[2].color),_(t,v),_(t,y),_(y,b),R(b,e[2].chance),_(t,w),_(t,k),_(k,x),S=!0,A||(z=[T(r,"input",e[17]),T(a,"change",e[18]),T($,"input",e[19]),T(b,"input",e[20]),T(x,"click",e[11])],A=!0)},p(e,t){(!S||32&t[0]&&i!==(i=e[5]("tinctures.name")))&&j(r,"placeholder",i),4&t[0]&&r.value!==e[2].name&&R(r,e[2].name),(!S||32&t[0])&&P!==(P=e[5]("tinctures.metals")+"")&&U(u,P),(!S||32&t[0])&&N!==(N=e[5]("tinctures.colours")+"")&&U(p,N),(!S||32&t[0])&&B!==(B=e[5]("tinctures.stains")+"")&&U(f,B),4&t[0]&&G(a,e[2].type),4&t[0]&&R($,e[2].color),4&t[0]&&D(b.value)!==e[2].chance&&R(b,e[2].chance)},i(e){S||(ae((()=>{E||(E=Se(t,io,{},!0)),E.run(1)})),S=!0)},o(e){E||(E=Se(t,io,{},!1)),E.run(0),S=!1},d(e){e&&L(t),e&&E&&E.end(),A=!1,o(z)}}}function Lu(e){let t,n,r,i,s;function l(){return e[22](e[29])}return{c(){t=z("svg"),n=z("use"),j(n,"href","#undo-icon"),j(t,"width","12"),j(t,"height","12"),j(t,"data-tooltip",r=e[5]("tooltip.undoColorChange")),j(t,"class","svelte-lk1zeb")},m(e,r){C(e,t,r),_(t,n),i||(s=[T(t,"click",l),$(Bs.call(null,t))],i=!0)},p(n,o){e=n,32&o[0]&&r!==(r=e[5]("tooltip.undoColorChange"))&&j(t,"data-tooltip",r)},d(e){e&&L(t),i=!1,o(s)}}}function Au(e){let t,n,r;function o(){return e[24](e[29],e[30])}return{c(){t=I("span"),t.textContent="",j(t,"class","actionButton svelte-lk1zeb")},m(e,i){C(e,t,i),n||(r=T(t,"click",o),n=!0)},p(t,n){e=t},d(e){e&&L(t),n=!1,r()}}}function Iu(e){let t,n,r,o,i;return{c(){t=I("span"),n=M(""),j(t,"class","disabledButton svelte-lk1zeb"),j(t,"data-tooltip",r=e[5]("tooltip.defaultColor"))},m(e,r){C(e,t,r),_(t,n),o||(i=$(Bs.call(null,t)),o=!0)},p(e,n){32&n[0]&&r!==(r=e[5]("tooltip.defaultColor"))&&j(t,"data-tooltip",r)},d(e){e&&L(t),o=!1,i()}}}function zu(n,r){let i,s,l,a,c,u,d,p,h,f,m,g,v,b,w,k,E,S,A,z,P,N,B,D,q,G,F=r[15](r[29])+"",H=r[5](`tinctures.${r[30]}`)+"",V=r[3](r[30])+"",J=e;function Z(){r[21].call(h,r[29])}let K=tt[r[29]]&&r[0][r[29]]!==tt[r[29]]&&Lu(r);function Q(...e){return r[23](r[30],r[29],...e)}function ee(e,t){return tt[e[29]]?Iu:Au}let te=ee(r),ne=te(r);return{key:n,first:null,c(){i=I("tr"),s=I("td"),l=M(F),a=O(),c=I("td"),u=M(H),d=O(),p=I("td"),h=I("input"),g=O(),K&&K.c(),v=O(),b=I("td"),w=I("input"),E=O(),S=I("span"),A=M("/ "),z=M(V),P=O(),N=I("td"),ne.c(),B=O(),j(s,"class","svelte-lk1zeb"),j(c,"class","svelte-lk1zeb"),j(h,"type","color"),j(h,"data-tooltip",f=r[5]("tooltip.changeColor")),j(h,"class","svelte-lk1zeb"),j(p,"class","svelte-lk1zeb"),j(w,"type","number"),j(w,"min","0"),j(w,"max","100"),j(w,"step","1"),w.value=k=r[1][r[30]][r[29]],j(w,"class","svelte-lk1zeb"),j(S,"class","totalChance svelte-lk1zeb"),j(b,"class","svelte-lk1zeb"),j(N,"class","svelte-lk1zeb"),this.first=i},m(e,t){C(e,i,t),_(i,s),_(s,l),_(i,a),_(i,c),_(c,u),_(i,d),_(i,p),_(p,h),R(h,r[0][r[29]]),_(p,g),K&&K.m(p,null),_(i,v),_(i,b),_(b,w),_(b,E),_(b,S),_(S,A),_(S,z),_(i,P),_(i,N),ne.m(N,null),_(i,B),q||(G=[T(h,"input",Z),$(m=Bs.call(null,h)),T(w,"change",Q)],q=!0)},p(e,t){r=e,16&t[0]&&F!==(F=r[15](r[29])+"")&&U(l,F),48&t[0]&&H!==(H=r[5](`tinctures.${r[30]}`)+"")&&U(u,H),32&t[0]&&f!==(f=r[5]("tooltip.changeColor"))&&j(h,"data-tooltip",f),17&t[0]&&R(h,r[0][r[29]]),tt[r[29]]&&r[0][r[29]]!==tt[r[29]]?K?K.p(r,t):(K=Lu(r),K.c(),K.m(p,null)):K&&(K.d(1),K=null),18&t[0]&&k!==(k=r[1][r[30]][r[29]])&&(w.value=k),24&t[0]&&V!==(V=r[3](r[30])+"")&&U(z,V),te===(te=ee(r))&&ne?ne.p(r,t):(ne.d(1),ne=te(r),ne&&(ne.c(),ne.m(N,null)))},r(){D=i.getBoundingClientRect()},f(){Y(i),J()},a(){J(),J=function(n,r,o,i){if(!r)return e;const s=n.getBoundingClientRect();if(r.left===s.left&&r.right===s.right&&r.top===s.top&&r.bottom===s.bottom)return e;const{delay:l=0,duration:a=300,easing:c=t,start:u=y()+l,end:d=u+a,tick:p=e,css:h}=o(n,{from:r,to:s},i);let f,m=!0,g=!1;function $(){h&&X(n,f),m=!1}return x((e=>{if(!g&&e>=u&&(g=!0),g&&e>=d&&(p(1,0),$()),!m)return!1;if(g){const t=0+1*c((e-u)/a);p(t,1-t)}return!0})),h&&(f=W(n,0,1,a,l,c,h)),l||(g=!0),p(0,1),$}(i,D,mu,{})},d(e){e&&L(i),K&&K.d(),ne.d(),q=!1,o(G)}}}function Mu(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w,k,x,E,S,z,P,N,B,D,R,q,G,F,H=[],V=new Map,J=[],Z=new Map,K=e[5]("tinctures.restore")+"",W=[],X=new Map,Y=Object.keys(e[1].field);const Q=e=>e[30];for(let t=0;t<Y.length;t+=1){let n=bu(e,Y,t),r=Q(n);V.set(r,H[t]=wu(r,n))}let ee=["field","division","charge"];const te=e=>e[36];for(let t=0;t<3;t+=1){let n=vu(e,ee,t),r=te(n);Z.set(r,J[t]=xu(r,n))}function ne(e,t){return e[2].show?Eu:_u}let re=ne(e),oe=re(e),ie=["name","type","color","chance","remove"],se=[];for(let t=0;t<5;t+=1)se[t]=Su($u(e,ie,t));let le=e[2].show&&Cu(e),ce=e[4];const ue=e=>e[29];for(let t=0;t<ce.length;t+=1){let n=gu(e,ce,t),r=ue(n);X.set(r,W[t]=zu(r,n))}return{c(){t=I("div"),n=I("span"),n.textContent="",r=O(),i=I("div"),s=I("table"),l=I("thead"),a=I("tr"),c=I("th"),u=O();for(let e=0;e<H.length;e+=1)H[e].c();d=O(),p=I("tbody");for(let e=0;e<3;e+=1)J[e].c();h=O(),f=I("tfoot"),m=I("tr"),g=I("td"),$=O(),v=I("td"),oe.c(),y=O(),b=I("td"),w=I("button"),k=M(K),x=O(),E=I("div"),S=I("table"),z=I("thead"),P=I("tr");for(let e=0;e<5;e+=1)se[e].c();N=O(),B=I("tbody"),le&&le.c(),D=O();for(let e=0;e<W.length;e+=1)W[e].c();j(n,"class","close svelte-lk1zeb"),j(g,"class","svelte-lk1zeb"),j(v,"colspan","2"),j(v,"class","svelte-lk1zeb"),j(b,"colspan","2"),j(b,"class","svelte-lk1zeb"),j(f,"class","svelte-lk1zeb"),j(s,"class","svelte-lk1zeb"),j(i,"id","left"),j(S,"id","tincturesTable"),j(S,"class","svelte-lk1zeb"),j(E,"id","right"),j(t,"id","tinctures"),j(t,"class","svelte-lk1zeb")},m(o,L){C(o,t,L),_(t,n),_(t,r),_(t,i),_(i,s),_(s,l),_(l,a),_(a,c),_(a,u);for(let e=0;e<H.length;e+=1)H[e].m(a,null);_(s,d),_(s,p);for(let e=0;e<3;e+=1)J[e].m(p,null);_(s,h),_(s,f),_(f,m),_(m,g),_(m,$),_(m,v),oe.m(v,null),_(m,y),_(m,b),_(b,w),_(w,k),_(t,x),_(t,E),_(E,S),_(S,z),_(z,P);for(let e=0;e<5;e+=1)se[e].m(P,null);_(S,N),_(S,B),le&&le.m(B,null),_(B,D);for(let e=0;e<W.length;e+=1)W[e].m(B,null);q=!0,G||(F=[T(n,"click",e[12]),T(w,"click",e[14])],G=!0)},p(e,t){if(34&t[0]&&(Y=Object.keys(e[1].field),H=ze(H,t,Q,1,e,Y,V,a,Le,wu,null,bu)),234&t[0]&&(ee=["field","division","charge"],J=ze(J,t,te,1,e,ee,Z,p,Le,xu,null,vu)),re===(re=ne(e))&&oe?oe.p(e,t):(oe.d(1),oe=re(e),oe&&(oe.c(),oe.m(v,null))),(!q||32&t[0])&&K!==(K=e[5]("tinctures.restore")+"")&&U(k,K),32&t[0]){let n;for(ie=["name","type","color","chance","remove"],n=0;n<5;n+=1){const r=$u(e,ie,n);se[n]?se[n].p(r,t):(se[n]=Su(r),se[n].c(),se[n].m(P,null))}for(;n<5;n+=1)se[n].d(1)}if(e[2].show?le?(le.p(e,t),4&t[0]&&we(le,1)):(le=Cu(e),le.c(),we(le,1),le.m(B,D)):le&&(ye(),ke(le,1,1,(()=>{le=null})),be()),33595&t[0]){ce=e[4];for(let e=0;e<W.length;e+=1)W[e].r();W=ze(W,t,ue,1,e,ce,X,B,Ie,zu,null,gu);for(let e=0;e<W.length;e+=1)W[e].a()}},i(e){q||(we(le),e&&ae((()=>{R||(R=Se(t,io,{},!0)),R.run(1)})),q=!0)},o(e){ke(le),e&&(R||(R=Se(t,io,{},!1)),R.run(0)),q=!1},d(e){e&&L(t);for(let e=0;e<H.length;e+=1)H[e].d();for(let e=0;e<3;e+=1)J[e].d();oe.d(),A(se,e),le&&le.d();for(let e=0;e<W.length;e+=1)W[e].d();e&&R&&R.end(),G=!1,o(F)}}}function Ou(e,t,n){let r,o,i,s,l,a;c(e,to,(e=>n(5,i=e))),c(e,yt,(e=>n(0,s=e))),c(e,bt,(e=>n(1,l=e))),c(e,Ot,(e=>n(26,a=e)));const u={show:!1,name:"",type:"colours",color:"#96C8FA",chance:3};for(const e in l)delete l[e].array;const d=["metals","colours","stains"];let p=[];function h(e,t){p.includes(e)?localStorage.setItem(e,JSON.stringify(t)):p.push(e)}function f(e,t,n){const r=n.target,o=+r.value,i=+r.min;if(!isNaN(o))return o<i?(Tt.error("error.valueCannotBeThatLow"),void(r.value=String(i))):void g(bt,l[e][t]=o,l);Tt.error("error.mustBeNumber")}function m(e,t,n){const r=n.target,o=+r.value;if(isNaN(o))Tt.error("error.mustBeNumber");else{if(o<1){const n={...l[e]};n[t]=0;const o=Object.values(n).reduce(((e,t)=>e+t),0);if(o<1)return Tt.error("error.totalChanceMustNotBeZero"),void(r.value=String(1))}g(bt,l[e][t]=o,l)}}function $(e,t){delete l[t][e],bt.set(l),delete s[e],yt.set(s)}return e.$$.update=()=>{2&e.$$.dirty[0]&&n(4,r=d.map((e=>Object.keys(l[e]).map((t=>({t:t,type:e}))))).flat()),2&e.$$.dirty[0]&&h("tinctures",l),1&e.$$.dirty[0]&&h("colors",s),2&e.$$.dirty[0]&&n(3,o=e=>Object.values(l[e]).reduce(((e,t)=>e+t),0))},[s,l,u,o,r,i,["metals","colours"],f,m,$,function(){n(2,u.show=!0,u),Tt.info("info.tipAddTincture",8e3)},function(){n(2,u.show=!1,u)},function(){g(Ot,a.tinctures=0,a)},function(){const e=lt(u.name);e&&!s[e]?(g(bt,l[u.type][e]=u.chance,l),g(yt,s[e]=u.color,s),n(2,u.show=!1,u),n(2,u.name="",u),Tt.info("success.tinctureAdded")):Tt.error("error.nonUniqueTincture")},function(){g(bt,l=JSON.parse(JSON.stringify(nt)),l),g(yt,s=JSON.parse(JSON.stringify(tt)),s),localStorage.removeItem("tinctures"),localStorage.removeItem("colors"),p=[],Tt.info("info.restoredDefaults")},function(e){const t=i(`tinctures.${e}`);return t.startsWith("tinctures.")?e:t},(e,t,n)=>f(e,t,n),function(){u.name=this.value,n(2,u)},function(){u.type=F(this),n(2,u)},function(){u.color=this.value,n(2,u)},function(){u.chance=D(this.value),n(2,u)},function(e){s[e]=this.value,yt.set(s),n(4,r),n(1,l)},e=>g(yt,s[e]=tt[e],s),(e,t,n)=>m(e,t,n),(e,t)=>$(e,t)]}class Pu extends je{constructor(e){super(),Ne(this,e,Ou,Mu,s,{},null,[-1,-1])}}const Tu=e=>({dragging:1&e}),Nu=e=>({dragging:e[0]});function ju(e){let t,n,r,i,s,l,a,c,d,m;const g=e[4].default,$=u(g,e,e[3],Nu),v=$||function(e){let t;return{c(){t=I("div"),t.innerHTML="Drag &amp; Drop JSON file here or <b>browse</b>"},m(e,n){C(e,t,n)},d(e){e&&L(t)}}}();return{c(){t=I("div"),n=I("span"),n.textContent="",r=O(),i=I("div"),s=I("label"),v&&v.c(),l=O(),a=I("input"),j(n,"class","close svelte-qwj3sm"),j(a,"type","file"),j(a,"accept",".json"),j(a,"class","svelte-qwj3sm"),j(s,"class","dragging svelte-qwj3sm"),j(i,"class","container svelte-qwj3sm"),j(t,"id","jsonUpload"),j(t,"class","svelte-qwj3sm")},m(o,u){C(o,t,u),_(t,n),_(t,r),_(t,i),_(i,s),v&&v.m(s,null),_(s,l),_(s,a),c=!0,d||(m=[T(n,"click",e[5]),T(a,"input",e[2](Du)),T(t,"drop",N(e[2](Bu))),T(t,"dragover",N(e[6])),T(t,"dragleave",N(e[7]))],d=!0)},p(e,[t]){$&&$.p&&(!c||9&t)&&h($,g,e,e[3],c?p(g,e[3],t,Tu):f(e[3]),Nu)},i(e){c||(we(v,e),c=!0)},o(e){ke(v,e),c=!1},d(e){e&&L(t),v&&v.d(e),d=!1,o(m)}}}function Bu({dataTransfer:{files:e,items:t}}){return e.length?[...e]:t.filter((({kind:e})=>"file"===e)).map((({getAsFile:e})=>e()))}function Du({target:e}){const t=e.files?[...e.files]:[];return e.value="",t}function Uu(e,t,n){let r,o,i,s;c(e,Ot,(e=>n(1,r=e))),c(e,Mt,(e=>n(8,o=e))),c(e,zt,(e=>n(9,i=e))),c(e,It,(e=>n(10,s=e)));let{$$slots:l={},$$scope:a}=t,u=!1;return e.$$set=e=>{"$$scope"in e&&n(3,a=e.$$scope)},[u,r,e=>t=>{n(0,u=!1);const l=e(t),a=l.length?l[0]:[];a.type.match(/text|json/)?function(e){const t=new FileReader;t.onload=function(){let e;try{e=JSON.parse(this.result)}catch(e){return void Tt.error("error.loadingCoa")}if(r.edit)Nt.add(JSON.stringify(e[0]));else{const t=s.length;for(const[n,r]of e.entries())g(It,s[t+n]=r,s);const n=i[o].length;g(Mt,o++,o),g(zt,i[o]=Array.from({length:e.length},((e,n)=>t+n++)),i);for(let r=e.length;r<n;r++)g(It,s[t+r]={t1:"argent"},s),i[o].push(t+r)}g(Ot,r.import=0,r),Tt.success("success.coaLoaded")},t.readAsText(e)}(a):Tt.error("error.notJsonOrText")},a,l,()=>g(Ot,r.import=0,r),()=>n(0,u=!0),()=>n(0,u=!1)]}class Ru extends je{constructor(e){super(),Ne(this,e,Uu,ju,s,{})}}function qu(t){let n,r,o,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y=t[1]("license.unknown")+"",b=t[1]("license.proprietary")+"",w=t[1]("license.copyleft")+"",k=t[1]("license.publicDomain")+"";return{c(){n=I("select"),r=I("option"),o=M(y),i=I("option"),s=M(b),l=I("option"),a=M(w),c=I("option"),u=M(k),d=I("option"),d.textContent="CC BY",p=I("option"),p.textContent="CC BY-SA",h=I("option"),h.textContent="CC BY-NC",f=I("option"),f.textContent="CC BY-ND",m=I("option"),m.textContent="CC BY-NC-SA",g=I("option"),g.textContent="CC BY-NC-ND",r.__value="Unknown",r.value=r.__value,r.selected=!0,i.__value="Proprietary",i.value=i.__value,l.__value="Copyright Free",l.value=l.__value,c.__value="https://creativecommons.org/publicdomain/zero/1.0",c.value=c.__value,d.__value="https://creativecommons.org/licenses/by/4.0",d.value=d.__value,p.__value="https://creativecommons.org/licenses/by-sa/4.0",p.value=p.__value,h.__value="https://creativecommons.org/licenses/by-nc/4.0",h.value=h.__value,f.__value="https://creativecommons.org/licenses/by-nd/4.0",f.value=f.__value,m.__value="https://creativecommons.org/licenses/by-nc-sa/4.0",m.value=m.__value,g.__value="https://creativecommons.org/licenses/by-nc-nd/4.0",g.value=g.__value,q(n,"width","10em"),void 0===t[0]&&ae((()=>t[2].call(n)))},m(e,y){C(e,n,y),_(n,r),_(r,o),_(n,i),_(i,s),_(n,l),_(l,a),_(n,c),_(c,u),_(n,d),_(n,p),_(n,h),_(n,f),_(n,m),_(n,g),G(n,t[0]),$||(v=T(n,"change",t[2]),$=!0)},p(e,[t]){2&t&&y!==(y=e[1]("license.unknown")+"")&&U(o,y),2&t&&b!==(b=e[1]("license.proprietary")+"")&&U(s,b),2&t&&w!==(w=e[1]("license.copyleft")+"")&&U(a,w),2&t&&k!==(k=e[1]("license.publicDomain")+"")&&U(u,k),1&t&&G(n,e[0])},i:e,o:e,d(e){e&&L(n),$=!1,v()}}}function Gu(e,t,n){let r;c(e,to,(e=>n(1,r=e)));let{license:o}=t;return e.$$set=e=>{"license"in e&&n(0,o=e.license)},[o,r,function(){o=F(this),n(0,o)}]}class Fu extends je{constructor(e){super(),Ne(this,e,Gu,qu,s,{license:0})}}const Hu=document.querySelector.bind(document);document.querySelectorAll.bind(document),Node.prototype.on=window.on=function(e,t){this.addEventListener(e,t)},Node.prototype.off=window.off=function(e,t){this.removeEventListener(e,t)};const Vu=e=>({dragging:1&e[0]}),Ju=e=>({dragging:e[0]});function Zu(e,t,n){const r=e.slice();return r[29]=t[n],r}function Ku(e){let t,n,r,o,i,s;const l=e[15].default,a=u(l,e,e[14],Ju),c=a||function(e){let t;return{c(){t=I("div"),t.innerHTML="Drag &amp; Drop image here or <b>browse</b>"},m(e,n){C(e,t,n)},d(e){e&&L(t)}}}();return{c(){t=I("label"),c&&c.c(),n=O(),r=I("input"),j(r,"type","file"),j(r,"accept","image/*"),j(r,"class","svelte-846jl0"),j(t,"class","dragging svelte-846jl0")},m(l,a){C(l,t,a),c&&c.m(t,null),_(t,n),_(t,r),o=!0,i||(s=T(r,"input",e[12](ed)),i=!0)},p(e,t){a&&a.p&&(!o||16385&t[0])&&h(a,l,e,e[14],o?p(l,e[14],t,Vu):f(e[14]),Ju)},i(e){o||(we(c,e),o=!0)},o(e){ke(c,e),o=!1},d(e){e&&L(t),c&&c.d(e),i=!1,s()}}}function Wu(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,v,y,b,w,k,x,E,S,M,P,N,B,U,q,F,H,V,J,Z,K,W,X,Y,Q,ee,te,re,oe,ie,se,le,ue,de,pe,he,fe,me,ge,$e,ve,ye,be,xe,_e,Ee;function Se(t){e[22](t)}let Ce={};void 0!==e[8]&&(Ce.license=e[8]),te=new Fu({props:Ce}),ne.push((()=>Me(te,"license",Se)));let Le=Object.keys(Be.types),Ae=[];for(let t=0;t<Le.length;t+=1)Ae[t]=Xu(Zu(e,Le,t));return{c(){t=z("svg"),n=z("g"),r=z("image"),c=z("path"),d=z("rect"),p=O(),h=I("div"),f=I("div"),m=I("div"),m.textContent="Size:",g=O(),v=I("input"),y=O(),b=I("div"),w=I("div"),w.textContent="Offset X:",k=O(),x=I("input"),E=O(),S=I("div"),M=I("div"),M.textContent="Offset Y:",P=O(),N=I("input"),B=O(),U=I("div"),q=I("div"),q.textContent="Source:",F=O(),H=I("input"),V=O(),J=I("div"),Z=I("div"),Z.textContent="Author:",K=O(),W=I("input"),X=O(),Y=I("div"),Q=I("div"),Q.textContent="License:",ee=O(),Oe(te.$$.fragment),oe=O(),ie=I("div"),se=I("div"),se.textContent="Name:",le=O(),ue=I("input"),de=O(),pe=I("div"),he=I("div"),he.textContent="Category:",fe=O(),me=I("select");for(let e=0;e<Ae.length;e+=1)Ae[e].c();ge=O(),$e=I("div"),ve=I("button"),ve.textContent="Add",ye=O(),be=I("button"),be.textContent="Cancel",j(r,"id","imageLoaded"),j(r,"x",i=(100-e[2])/2+e[3]+"%"),j(r,"y",s=(100-e[2])/2+e[4]+"%"),j(r,"width",l=e[2]+"%"),j(r,"height",a=e[2]+"%"),j(c,"d",u=qe.data[e[11]].path),j(d,"x","60"),j(d,"y","60"),j(d,"width","80"),j(d,"height","80"),j(n,"fill","#fff"),j(n,"fill-opacity",".05"),j(n,"stroke","#fff"),j(n,"stroke-width",".5"),j(t,"width","100%"),j(t,"height","100%"),j(t,"stroke","#000"),j(t,"stroke-width","1"),j(t,"viewBox",Re),j(t,"data-tooltip","Fit image into the rectangle for best result"),j(m,"class","label"),j(v,"type","number"),j(v,"class","svelte-846jl0"),j(f,"data-tooltip","Image size in percents"),j(w,"class","label"),j(x,"type","number"),j(x,"class","svelte-846jl0"),j(b,"data-tooltip","Offset by X axis in pixels"),j(M,"class","label"),j(N,"type","number"),j(N,"class","svelte-846jl0"),j(S,"data-tooltip","Offset by Y axis in pixels"),j(q,"class","label"),j(H,"class","svelte-846jl0"),j(U,"data-tooltip","Link to the image source"),j(Z,"class","label"),j(W,"class","svelte-846jl0"),j(J,"data-tooltip","Image author or source portal name"),j(Q,"class","label"),j(Y,"data-tooltip","Image license"),j(se,"class","label"),j(ue,"placeholder","Charge id"),ue.required=!0,j(ue,"class","svelte-846jl0"),j(ie,"data-tooltip","Charge unique name (id)"),j(he,"class","label"),j(me,"class","svelte-846jl0"),void 0===e[6]&&ae((()=>e[24].call(me))),j(pe,"data-tooltip","Category to put a charge"),j(ve,"class","svelte-846jl0"),j(be,"class","svelte-846jl0"),j($e,"class","buttons svelte-846jl0"),j(h,"class","inputs svelte-846jl0")},m(o,i){C(o,t,i),_(t,n),_(n,r),_(n,c),_(n,d),C(o,p,i),C(o,h,i),_(h,f),_(f,m),_(f,g),_(f,v),R(v,e[2]),_(h,y),_(h,b),_(b,w),_(b,k),_(b,x),R(x,e[3]),_(h,E),_(h,S),_(S,M),_(S,P),_(S,N),R(N,e[4]),_(h,B),_(h,U),_(U,q),_(U,F),_(U,H),R(H,e[7]),_(h,V),_(h,J),_(J,Z),_(J,K),_(J,W),R(W,e[9]),_(h,X),_(h,Y),_(Y,Q),_(Y,ee),Pe(te,Y,null),_(h,oe),_(h,ie),_(ie,se),_(ie,le),_(ie,ue),R(ue,e[5]),_(h,de),_(h,pe),_(pe,he),_(pe,fe),_(pe,me);for(let e=0;e<Ae.length;e+=1)Ae[e].m(me,null);G(me,e[6]),_(h,ge),_(h,$e),_($e,ve),_($e,ye),_($e,be),xe=!0,_e||(Ee=[$(Bs.call(null,t)),T(v,"input",e[17]),$(Bs.call(null,f)),T(x,"input",e[18]),$(Bs.call(null,b)),T(N,"input",e[19]),$(Bs.call(null,S)),T(H,"input",e[20]),$(Bs.call(null,U)),T(W,"input",e[21]),$(Bs.call(null,J)),$(Bs.call(null,Y)),T(ue,"input",e[23]),$(Bs.call(null,ie)),T(me,"change",e[24]),$(Bs.call(null,pe)),T(ve,"click",e[13]),T(be,"click",e[25])],_e=!0)},p(e,t){(!xe||12&t[0]&&i!==(i=(100-e[2])/2+e[3]+"%"))&&j(r,"x",i),(!xe||20&t[0]&&s!==(s=(100-e[2])/2+e[4]+"%"))&&j(r,"y",s),(!xe||4&t[0]&&l!==(l=e[2]+"%"))&&j(r,"width",l),(!xe||4&t[0]&&a!==(a=e[2]+"%"))&&j(r,"height",a),(!xe||2048&t[0]&&u!==(u=qe.data[e[11]].path))&&j(c,"d",u),4&t[0]&&D(v.value)!==e[2]&&R(v,e[2]),8&t[0]&&D(x.value)!==e[3]&&R(x,e[3]),16&t[0]&&D(N.value)!==e[4]&&R(N,e[4]),128&t[0]&&H.value!==e[7]&&R(H,e[7]),512&t[0]&&W.value!==e[9]&&R(W,e[9]);const n={};if(!re&&256&t[0]&&(re=!0,n.license=e[8],ce((()=>re=!1))),te.$set(n),32&t[0]&&ue.value!==e[5]&&R(ue,e[5]),0&t){let n;for(Le=Object.keys(Be.types),n=0;n<Le.length;n+=1){const r=Zu(e,Le,n);Ae[n]?Ae[n].p(r,t):(Ae[n]=Xu(r),Ae[n].c(),Ae[n].m(me,null))}for(;n<Ae.length;n+=1)Ae[n].d(1);Ae.length=Le.length}64&t[0]&&G(me,e[6])},i(e){xe||(we(te.$$.fragment,e),xe=!0)},o(e){ke(te.$$.fragment,e),xe=!1},d(e){e&&L(t),e&&L(p),e&&L(h),Te(te),A(Ae,e),_e=!1,o(Ee)}}}function Xu(t){let n,r,o,i=t[29]+"";return{c(){n=I("option"),r=M(i),n.__value=o=t[29],n.value=n.__value},m(e,t){C(e,n,t),_(n,r)},p:e,d(e){e&&L(n)}}}function Yu(e){let t,n,r,i,s,l,a,c,u;const d=[Wu,Ku],p=[];function h(e,t){return e[1]?0:1}return s=h(e),l=p[s]=d[s](e),{c(){t=I("div"),n=I("span"),n.textContent="",r=O(),i=I("div"),l.c(),j(n,"class","close svelte-846jl0"),j(i,"class","container svelte-846jl0"),j(t,"id","rasterUpload"),j(t,"class","svelte-846jl0")},m(o,l){C(o,t,l),_(t,n),_(t,r),_(t,i),p[s].m(i,null),a=!0,c||(u=[T(n,"click",e[16]),T(t,"drop",N(e[12](Qu))),T(t,"dragover",N(e[26])),T(t,"dragleave",N(e[27]))],c=!0)},p(e,t){let n=s;s=h(e),s===n?p[s].p(e,t):(ye(),ke(p[n],1,1,(()=>{p[n]=null})),be(),l=p[s],l?l.p(e,t):(l=p[s]=d[s](e),l.c()),we(l,1),l.m(i,null))},i(e){a||(we(l),a=!0)},o(e){ke(l),a=!1},d(e){e&&L(t),p[s].d(),c=!1,o(u)}}}function Qu({dataTransfer:{files:e,items:t}}){return e.length?[...e]:t.filter((({kind:e})=>"file"===e)).map((({getAsFile:e})=>e()))}function ed({target:e}){const t=e.files?[...e.files]:[];return e.value="",t}function td(e,t,n){let r,o,i;c(e,Ot,(e=>n(10,r=e))),c(e,At,(e=>n(28,o=e))),c(e,vt,(e=>n(11,i=e)));let s,l,a,u,{$$slots:d={},$$scope:p}=t,h=!1,f=!1,m=50,$=0,v=0,y="uploaded";return e.$$set=e=>{"$$scope"in e&&n(14,p=e.$$scope)},[h,f,m,$,v,s,y,l,a,u,r,i,e=>t=>{n(0,h=!1);const r=e(t),o=r.length?r[0]:[];o.type.match(/image.*/)?(n(1,f=!0),Tt.info("info.tipUploadImageSize"),n(5,s=lt(o.name)),function(e){const t=new FileReader;t.onload=function(e){const t=e.target.result;document.getElementById("rasterUpload").querySelector("svg image").setAttribute("href",t)},t.readAsDataURL(e)}(o)):Tt.error("error.notAnImage")},function(){const e=Object.keys(Be.types).map((e=>Object.keys(Be[e]))).flat();if(n(5,s=lt(s)),!s||document.getElementById(s)||e.includes(s))return void Tt.error("error.notUniqueName");De(s,y,5);const t=Hu("#rasterUpload svg image").cloneNode(!0);t.id=s,l&&t.setAttribute("source",l),a&&t.setAttribute("license",a),u&&t.setAttribute("author",u),g(At,o[s]={category:y,type:"raster",content:t.outerHTML},o),localStorage.setItem("uploaded",JSON.stringify(o)),ti(s),n(1,f=!1),g(Ot,r.raster=0,r),Tt.success("success.chargeAdded")},p,d,()=>g(Ot,r.raster=0,r),function(){m=D(this.value),n(2,m)},function(){$=D(this.value),n(3,$)},function(){v=D(this.value),n(4,v)},function(){l=this.value,n(7,l)},function(){u=this.value,n(9,u)},function(e){a=e,n(8,a)},function(){s=this.value,n(5,s)},function(){y=F(this),n(6,y)},()=>n(1,f=!1),()=>n(0,h=!0),()=>n(0,h=!1)]}class nd extends je{constructor(e){super(),Ne(this,e,td,Yu,s,{},null,[-1,-1])}}const rd=e=>({dragging:4&e[0]}),od=e=>({dragging:e[2]});function id(e,t,n){const r=e.slice();return r[38]=t[n],r}function sd(e,t,n){const r=e.slice();return r[41]=t[n],r}function ld(e){let t,n,r,i,s,l,a,c;const d=e[18].default,m=u(d,e,e[17],od),g=m||function(e){let t;return{c(){t=I("div"),t.innerHTML="Drag &amp; Drop svg file here or <b>browse</b>"},m(e,n){C(e,t,n)},d(e){e&&L(t)}}}();return{c(){t=I("label"),g&&g.c(),n=O(),r=I("input"),i=O(),s=I("button"),s.textContent="Download Template",j(r,"type","file"),j(r,"accept",".svg"),j(r,"class","svelte-1jxwqtv"),j(t,"class","dragging svelte-1jxwqtv"),j(s,"class","template svelte-1jxwqtv")},m(o,u){C(o,t,u),g&&g.m(t,null),_(t,n),_(t,r),C(o,i,u),C(o,s,u),l=!0,a||(c=[T(r,"input",e[15](hd)),T(s,"click",fd)],a=!0)},p(e,t){m&&m.p&&(!l||131076&t[0])&&h(m,d,e,e[17],l?p(d,e[17],t,rd):f(e[17]),od)},i(e){l||(we(g,e),l=!0)},o(e){ke(g,e),l=!1},d(e){e&&L(t),g&&g.d(e),e&&L(i),e&&L(s),a=!1,o(c)}}}function ad(e){let t,n,r,i,s,l,a,c,u,d,p,h,f,m,g,v,y,b,w,k,x,E,S,M,P,N,B,U,q,F,H,V,J,Z,K,W,X,Y,Q,ee,te,re,oe,ie,se,le,ue,de,pe,he,fe,me,ge,$e,ve,ye,be,xe,_e,Ee,Se,Ce,Le,Ae,Ie,ze=e[14],Ne=[];for(let t=0;t<ze.length;t+=1)Ne[t]=cd(sd(e,ze,t));function je(t){e[28](t)}let Be={};void 0!==e[9]&&(Be.license=e[9]),le=new Fu({props:Be}),ne.push((()=>Me(le,"license",je)));let De=Object.keys(e[1].types),Ue=[];for(let t=0;t<De.length;t+=1)Ue[t]=ud(id(e,De,t));return{c(){t=z("svg"),n=z("g"),r=z("path"),s=z("rect"),l=z("g"),a=O(),c=I("div"),u=I("div"),u.textContent="SVG Markup:",d=O(),p=I("textarea"),h=O(),f=I("div"),m=I("div"),g=I("div"),g.textContent="Translate:",v=O(),y=I("input"),b=O(),w=I("input"),k=O(),x=I("div"),E=I("div"),E.textContent="Scale:",S=O(),M=I("input"),P=O(),N=I("input"),B=O(),U=I("div"),q=I("div"),q.textContent="Tincture:",F=O(),H=I("select");for(let e=0;e<Ne.length;e+=1)Ne[e].c();V=O(),J=I("div"),Z=I("div"),Z.textContent="Source:",K=O(),W=I("input"),X=O(),Y=I("div"),Q=I("div"),Q.textContent="Author:",ee=O(),te=I("input"),re=O(),oe=I("div"),ie=I("div"),ie.textContent="License:",se=O(),Oe(le.$$.fragment),de=O(),pe=I("div"),he=I("div"),he.textContent="Name:",fe=O(),me=I("input"),ge=O(),$e=I("div"),ve=I("div"),ve.textContent="Category:",ye=O(),be=I("select");for(let e=0;e<Ue.length;e+=1)Ue[e].c();xe=O(),_e=I("div"),Ee=I("button"),Ee.textContent="Upload",Se=O(),Ce=I("button"),Ce.textContent="Cancel",j(r,"d",i=qe.data[e[12]].path),j(s,"x","60"),j(s,"y","60"),j(s,"width","80"),j(s,"height","80"),j(n,"fill","#fff"),j(n,"fill-opacity",".05"),j(n,"stroke","#fff"),j(n,"stroke-width",".5"),j(t,"width","100%"),j(t,"height","100%"),j(t,"fill",e[7]),j(t,"stroke","#000"),j(t,"stroke-width","1"),j(t,"viewBox",Re),j(t,"data-tooltip","Fit image into the rectangle for best result"),j(u,"class","label"),j(p,"rows","5"),j(p,"class","svelte-1jxwqtv"),j(g,"class","label"),j(y,"type","number"),j(y,"step",".1"),j(y,"class","paired svelte-1jxwqtv"),j(w,"type","number"),j(w,"step",".1"),j(w,"class","paired svelte-1jxwqtv"),j(m,"data-tooltip","Charge translate: X and Y px"),j(E,"class","label"),j(M,"type","number"),j(M,"step",".01"),j(M,"class","paired svelte-1jxwqtv"),j(N,"type","number"),j(N,"step",".01"),j(N,"class","paired svelte-1jxwqtv"),j(x,"data-tooltip","Charge scale: X and Y, where 1 is default size"),j(q,"class","label"),j(H,"class","svelte-1jxwqtv"),void 0===e[7]&&ae((()=>e[25].call(H))),j(U,"data-tooltip","Tincture preview color, does not affect uploaded actual color. Charges must not have exact color defined. In this case charge will support all tinctures"),j(Z,"class","label"),j(W,"class","svelte-1jxwqtv"),j(J,"data-tooltip","Link to the image source"),j(Q,"class","label"),j(te,"class","svelte-1jxwqtv"),j(Y,"data-tooltip","Image author or source portal name"),j(ie,"class","label"),j(oe,"data-tooltip","Image license"),j(he,"class","label"),j(me,"placeholder","Charge id"),me.required=!0,j(me,"class","svelte-1jxwqtv"),j(pe,"data-tooltip","Charge unique name (id)"),j(ve,"class","label"),j(be,"class","svelte-1jxwqtv"),void 0===e[6]&&ae((()=>e[30].call(be))),j($e,"data-tooltip","Category to put a charge"),j(Ee,"class","svelte-1jxwqtv"),j(Ce,"class","svelte-1jxwqtv"),j(_e,"class","buttons svelte-1jxwqtv"),j(f,"class","inputs svelte-1jxwqtv")},m(o,i){C(o,t,i),_(t,n),_(n,r),_(n,s),_(t,l),l.innerHTML=e[4],C(o,a,i),C(o,c,i),_(c,u),_(c,d),_(c,p),R(p,e[4]),C(o,h,i),C(o,f,i),_(f,m),_(m,g),_(m,v),_(m,y),R(y,e[0].e),_(m,b),_(m,w),R(w,e[0].f),_(f,k),_(f,x),_(x,E),_(x,S),_(x,M),R(M,e[0].a),_(x,P),_(x,N),R(N,e[0].d),_(f,B),_(f,U),_(U,q),_(U,F),_(U,H);for(let e=0;e<Ne.length;e+=1)Ne[e].m(H,null);G(H,e[7]),_(f,V),_(f,J),_(J,Z),_(J,K),_(J,W),R(W,e[8]),_(f,X),_(f,Y),_(Y,Q),_(Y,ee),_(Y,te),R(te,e[10]),_(f,re),_(f,oe),_(oe,ie),_(oe,se),Pe(le,oe,null),_(f,de),_(f,pe),_(pe,he),_(pe,fe),_(pe,me),R(me,e[5]),_(f,ge),_(f,$e),_($e,ve),_($e,ye),_($e,be);for(let e=0;e<Ue.length;e+=1)Ue[e].m(be,null);G(be,e[6]),_(f,xe),_(f,_e),_(_e,Ee),_(_e,Se),_(_e,Ce),Le=!0,Ae||(Ie=[$(Bs.call(null,t)),T(p,"input",e[20]),T(y,"input",e[21]),T(w,"input",e[22]),$(Bs.call(null,m)),T(M,"input",e[23]),T(N,"input",e[24]),$(Bs.call(null,x)),T(H,"change",e[25]),$(Bs.call(null,U)),T(W,"input",e[26]),$(Bs.call(null,J)),T(te,"input",e[27]),$(Bs.call(null,Y)),$(Bs.call(null,oe)),T(me,"input",e[29]),$(Bs.call(null,pe)),T(be,"change",e[30]),$(Bs.call(null,$e)),T(Ee,"click",e[16]),T(Ce,"click",e[31])],Ae=!0)},p(e,n){if((!Le||4096&n[0]&&i!==(i=qe.data[e[12]].path))&&j(r,"d",i),(!Le||16&n[0])&&(l.innerHTML=e[4]),(!Le||24704&n[0])&&j(t,"fill",e[7]),16&n[0]&&R(p,e[4]),1&n[0]&&D(y.value)!==e[0].e&&R(y,e[0].e),1&n[0]&&D(w.value)!==e[0].f&&R(w,e[0].f),1&n[0]&&D(M.value)!==e[0].a&&R(M,e[0].a),1&n[0]&&D(N.value)!==e[0].d&&R(N,e[0].d),24576&n[0]){let t;for(ze=e[14],t=0;t<ze.length;t+=1){const r=sd(e,ze,t);Ne[t]?Ne[t].p(r,n):(Ne[t]=cd(r),Ne[t].c(),Ne[t].m(H,null))}for(;t<Ne.length;t+=1)Ne[t].d(1);Ne.length=ze.length}24704&n[0]&&G(H,e[7]),256&n[0]&&W.value!==e[8]&&R(W,e[8]),1024&n[0]&&te.value!==e[10]&&R(te,e[10]);const o={};if(!ue&&512&n[0]&&(ue=!0,o.license=e[9],ce((()=>ue=!1))),le.$set(o),32&n[0]&&me.value!==e[5]&&R(me,e[5]),2&n[0]){let t;for(De=Object.keys(e[1].types),t=0;t<De.length;t+=1){const r=id(e,De,t);Ue[t]?Ue[t].p(r,n):(Ue[t]=ud(r),Ue[t].c(),Ue[t].m(be,null))}for(;t<Ue.length;t+=1)Ue[t].d(1);Ue.length=De.length}66&n[0]&&G(be,e[6])},i(e){Le||(we(le.$$.fragment,e),Le=!0)},o(e){ke(le.$$.fragment,e),Le=!1},d(e){e&&L(t),e&&L(a),e&&L(c),e&&L(h),e&&L(f),A(Ne,e),Te(le),A(Ue,e),Ae=!1,o(Ie)}}}function cd(e){let t,n,r,o=e[41]+"";return{c(){t=I("option"),n=M(o),t.__value=r=e[13][e[41]],t.value=t.__value},m(e,r){C(e,t,r),_(t,n)},p(e,n){8192&n[0]&&r!==(r=e[13][e[41]])&&(t.__value=r,t.value=t.__value)},d(e){e&&L(t)}}}function ud(e){let t,n,r,o=e[38]+"";return{c(){t=I("option"),n=M(o),t.__value=r=e[38],t.value=t.__value},m(e,r){C(e,t,r),_(t,n)},p(e,i){2&i[0]&&o!==(o=e[38]+"")&&U(n,o),2&i[0]&&r!==(r=e[38])&&(t.__value=r,t.value=t.__value)},d(e){e&&L(t)}}}function dd(e){let t,n,r,i,s,l,a,c,u;const d=[ad,ld],p=[];function h(e,t){return e[3]?0:1}return s=h(e),l=p[s]=d[s](e),{c(){t=I("div"),n=I("span"),n.textContent="",r=O(),i=I("div"),l.c(),j(n,"class","close svelte-1jxwqtv"),j(i,"class","container svelte-1jxwqtv"),j(t,"id","vectorUpload"),j(t,"class","svelte-1jxwqtv")},m(o,l){C(o,t,l),_(t,n),_(t,r),_(t,i),p[s].m(i,null),a=!0,c||(u=[T(n,"click",e[19]),T(t,"drop",N(e[15](pd))),T(t,"dragover",N(e[32])),T(t,"dragleave",N(e[33]))],c=!0)},p(e,t){let n=s;s=h(e),s===n?p[s].p(e,t):(ye(),ke(p[n],1,1,(()=>{p[n]=null})),be(),l=p[s],l?l.p(e,t):(l=p[s]=d[s](e),l.c()),we(l,1),l.m(i,null))},i(e){a||(we(l),a=!0)},o(e){ke(l),a=!1},d(e){e&&L(t),p[s].d(),c=!1,o(u)}}}function pd({dataTransfer:{files:e,items:t}}){return e.length?[...e]:t.filter((({kind:e})=>"file"===e)).map((({getAsFile:e})=>e()))}function hd({target:e}){const t=e.files?[...e.files]:[];return e.value="",t}function fd(){fetch("charges/template.svg").then((e=>e.blob().then((e=>{const t=document.createElement("a");t.href=URL.createObjectURL(e),t.setAttribute("download","armoriaChargeTemplate.txt"),t.click()}))))}function md(e,t,n){let r,o,i,s,l;c(e,Ot,(e=>n(11,r=e))),c(e,At,(e=>n(34,o=e))),c(e,bt,(e=>n(35,i=e))),c(e,vt,(e=>n(12,s=e))),c(e,yt,(e=>n(13,l=e)));let a,u,d,p,h,{$$slots:f={},$$scope:m}=t,$=!1,v=!1,y={a:1,b:0,c:0,d:1,e:0,f:0},b="uploaded",w="#d7374a";const k=["metals","colours","stains"].map((e=>Object.keys(i[e]))).flat();return e.$$set=e=>{"$$scope"in e&&n(17,m=e.$$scope)},e.$$.update=()=>{1&e.$$.dirty[0]&&function(e){if(!a)return;const t=document.createElement("html");t.innerHTML=a;const r=t.querySelector("g"),o=Object.values(e).join(" ");"1 0 0 1 0 0"===o?r.removeAttribute("transform"):r.setAttribute("transform","matrix("+o+")"),n(4,a=r.outerHTML)}(y)},[y,Be,$,v,a,u,b,w,d,p,h,r,s,l,k,e=>t=>{n(2,$=!1);const r=e(t),o=r.length?r[0]:[];o.type.match(/text.*|svg.*/)?(n(3,v=!0),n(5,u=lt(o.name)),function(e){const t=new FileReader;t.onload=function(e){const t=e.target.result,r=document.createElement("html");r.innerHTML=t,r.querySelectorAll("*").forEach((e=>{e.getAttributeNames().forEach((t=>{(t.includes("inkscape")||t.includes("sodipodi"))&&e.removeAttribute(t)}))}));const o=r.querySelector("g");if(!o)return Tt.error("error.incorrectSvg"),void n(3,v=!1);const i=o.transform.baseVal.consolidate();if(i){const{a:e,b:t,c:r,d:o,e:s,f:l}=i.matrix,a=e=>+e.toFixed(4);n(0,y=Object.assign(y,{a:a(e),b:a(t),c:a(r),d:a(o),e:a(s),f:a(l)}))}o.removeAttribute("id"),n(4,a=o.outerHTML)},t.readAsText(e)}(o)):Tt.error("error.notSvgOrText")},function(){const e=Object.keys(Be.types).map((e=>Object.keys(Be[e]))).flat();if(n(5,u=lt(u)),!u||document.getElementById(u)||e.includes(u))return void Tt.error("error.notUniqueName");De(u,b,5);const t=a.includes("tertiary")?3:a.includes("secondary")?2:1;n(1,Be.data[u]={colors:t},Be);const i=document.createElement("html");i.innerHTML=a;const s=i.querySelector("g");s.id=u,d&&s.setAttribute("source",d),p&&s.setAttribute("license",p),h&&s.setAttribute("author",h),g(At,o[u]={category:b,type:"vector",data:{colors:t},content:s.outerHTML},o),localStorage.setItem("uploaded",JSON.stringify(o)),ti(u),n(3,v=!1),g(Ot,r.vector=0,r),Tt.success("success.chargeAdded")},m,f,()=>g(Ot,r.vector=0,r),function(){a=this.value,n(4,a)},function(){y.e=D(this.value),n(0,y)},function(){y.f=D(this.value),n(0,y)},function(){y.a=D(this.value),n(0,y)},function(){y.d=D(this.value),n(0,y)},function(){w=F(this),n(7,w),n(14,k)},function(){d=this.value,n(8,d)},function(){h=this.value,n(10,h)},function(e){p=e,n(9,p)},function(){u=this.value,n(5,u)},function(){b=F(this),n(6,b),n(1,Be)},()=>n(3,v=!1),()=>n(2,$=!0),()=>n(2,$=!1)]}class gd extends je{constructor(e){super(),Ne(this,e,md,dd,s,{},null,[-1,-1])}}function $d(e){let t,n,r,o,i;return n=new Os({props:{coa:e[1],i:"View",width:e[0],height:e[0]}}),{c(){t=I("div"),Oe(n.$$.fragment),j(t,"id","viewer")},m(e,s){C(e,t,s),Pe(n,t,null),r=!0,o||(i=T(t,"click",vd),o=!0)},p(e,[t]){const r={};1&t&&(r.width=e[0]),1&t&&(r.height=e[0]),n.$set(r)},i(e){r||(we(n.$$.fragment,e),r=!0)},o(e){ke(n.$$.fragment,e),r=!1},d(e){e&&L(t),Te(n),o=!1,i()}}}function vd(){if(new URLSearchParams(window.location.search).has("noedit"))return;const e=window.location.href.replace("view=1","view=0");window.open(e,"_blank").focus()}function yd(e,t,n){let r;c(e,It,(e=>n(4,r=e)));let{c:o,seed:i,coaSize:s}=t,l=r[o]||ko(i||void 0);return e.$$set=e=>{"c"in e&&n(2,o=e.c),"seed"in e&&n(3,i=e.seed),"coaSize"in e&&n(0,s=e.coaSize)},[s,l,o,i]}class bd extends je{constructor(e){super(),Ne(this,e,yd,$d,s,{c:2,seed:3,coaSize:0})}}function wd(t){let n,r,o,i,s;return{c(){n=I("li"),r=z("svg"),o=z("path"),j(o,"fill","#fff"),j(o,"stroke","none"),j(o,"d","m 46,3 0.6,1.4 c -1.5,0.7 -2.6,1.4 -3.3,2.2 -0.7,0.7 -1.2,1.5 -1.5,2.4 -0.3,0.9 -0.4,2.2 -0.4,3.9 0,0.6 0,1.3 0,2.2 l 0.5,23.2 c 0,2.5 0.3,4.2 0.8,5 0.4,0.6 0.8,0.8 1.3,0.8 0.6,0 1.5,-0.6 2.8,-1.8 l 0.9,1.1 -5.8,4.9 -1.9,1.6 C 38.4,49.2 37.2,48.2 36.5,46.9 35.8,45.7 35.3,36.7 35.2,34 c -7.6,0.1 -20.2,0 -20.2,0 0,0 -7.4,9.1 -7.4,11.1 0,0.6 0.2,1.1 0.6,1.8 0.5,0.9 0.8,1.4 0.8,1.7 0,0.4 -0.1,0.7 -0.4,1 -0.3,0.3 -0.6,0.4 -1.1,0.4 -0.5,0 -0.9,-0.2 -1.2,-0.6 -0.5,-0.6 -0.7,-1.3 -0.7,-2.2 0,-1 0.3,-2.1 0.8,-3.3 C 8.8,39.9 11.3,36.7 14.1,32.9 11.1,30.7 9,28.5 7.8,26.4 6.6,24.4 6,22.1 6,19.5 c 0,-3 0.8,-5.7 2.3,-8.3 1.5,-2.5 3.8,-4.5 6.9,-6 3.1,-1.5 6.2,-2.2 9.4,-2.2 4.9,0 9.7,1.7 14.3,5.1 1.1,-1.2 2.2,-2.1 3.2,-2.9 1,-0.8 2.4,-1.5 4,-2.3 z M 30.7,10.2 c -2.6,-1.3 -5.2,-1.9 -7.8,-1.9 -2.7,0 -5.3,0.6 -7.8,1.8 -2.4,1.2 -4.2,2.8 -5.4,4.7 -1.2,1.9 -1.8,3.9 -1.8,5.9 0,4.2 2.3,8 6.9,11.3 L 25.2,17.7 c -1.6,-0.8 -2.9,-1.3 -4.2,-1.3 -1.7,0 -3.1,0.8 -4.2,2.4 -0.4,0.7 -1,0.5 -1.1,-0.2 0,-0.6 0.3,-1.5 1,-2.7 0.7,-1.1 1.6,-2.1 2.9,-2.8 1.3,-0.7 2.6,-1.1 4,-1.1 1.4,0 3.1,0.4 4.9,1.1 z m 4,3.2 C 34,12.4 32.8,11.5 32,11 L 18.4,29.4 h 16.7 z"),j(r,"width","35"),j(r,"height","35"),j(r,"viewBox","-2 -1 55 55"),j(r,"class","svelte-1fl894"),j(n,"class","svelte-1fl894")},m(e,l){C(e,n,l),_(n,r),_(r,o),i||(s=T(r,"click",t[1]),i=!0)},p:e,d(e){e&&L(n),i=!1,s()}}}function kd(t){let n,r=!t[0]&&wd(t);return{c(){r&&r.c(),n=P()},m(e,t){r&&r.m(e,t),C(e,n,t)},p(e,[t]){e[0]?r&&(r.d(1),r=null):r?r.p(e,t):(r=wd(e),r.c(),r.m(n.parentNode,n))},i:e,o:e,d(e){r&&r.d(e),e&&L(n)}}}function xd(e,t,n){let r;c(e,Pt,(e=>n(0,r=e)));return[r,()=>{location.href=location.origin+location.pathname}]}class _d extends je{constructor(e){super(),Ne(this,e,xd,kd,s,{})}}function Ed(t){let n,r,o;return{c(){n=I("span"),r=M(t[0])},m(e,t){C(e,n,t),_(n,r)},p(e,t){1&t&&U(r,e[0])},i(e){o||ae((()=>{o=_e(n,io,{duration:100}),o.start()}))},o:e,d(e){e&&L(n)}}}function Sd(t){let n,r=t[0]&&Ed(t);return{c(){r&&r.c(),n=P()},m(e,t){r&&r.m(e,t),C(e,n,t)},p(e,[t]){e[0]?r?(r.p(e,t),1&t&&we(r,1)):(r=Ed(e),r.c(),we(r,1),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i(e){we(r)},o:e,d(e){r&&r.d(e),e&&L(n)}}}function Cd(e,t,n){let{label:r}=t;return e.$$set=e=>{"label"in e&&n(0,r=e.label)},[r]}class Ld extends je{constructor(e){super(),Ne(this,e,Cd,Sd,s,{label:0})}}function Ad(e){let t,n;return t=new Ld({props:{label:e[1]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.label=e[1]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Id(t){let n,r,o;return{c(){n=z("svg"),r=z("use"),j(r,"href",o="#"+t[0]+"-icon"),j(n,"class","svelte-1cyv4ar")},m(e,t){C(e,n,t),_(n,r)},p(e,t){1&t&&o!==(o="#"+e[0]+"-icon")&&j(r,"href",o)},i:e,o:e,d(e){e&&L(n)}}}function zd(e){let t,n,r,o,i,s,l;const a=[Id,Ad],c=[];function d(e,t){return e[0]&&e[4]?0:1}n=d(e),r=c[n]=a[n](e);const m=e[6].default,g=u(m,e,e[5],null);return{c(){t=I("li"),r.c(),o=O(),g&&g.c(),j(t,"data-tooltip",e[2]),j(t,"class","svelte-1cyv4ar"),H(t,"wide",e[3])},m(e,r){C(e,t,r),c[n].m(t,null),_(t,o),g&&g.m(t,null),i=!0,s||(l=$(Bs.call(null,t)),s=!0)},p(e,[s]){let l=n;n=d(e),n===l?c[n].p(e,s):(ye(),ke(c[l],1,1,(()=>{c[l]=null})),be(),r=c[n],r?r.p(e,s):(r=c[n]=a[n](e),r.c()),we(r,1),r.m(t,o)),g&&g.p&&(!i||32&s)&&h(g,m,e,e[5],i?p(m,e[5],s,null):f(e[5]),null),(!i||4&s)&&j(t,"data-tooltip",e[2]),8&s&&H(t,"wide",e[3])},i(e){i||(we(r),we(g,e),i=!0)},o(e){ke(r),ke(g,e),i=!1},d(e){e&&L(t),c[n].d(),g&&g.d(e),s=!1,l()}}}function Md(e,t,n){let r;c(e,Pt,(e=>n(4,r=e)));let{$$slots:o={},$$scope:i}=t,{value:s}=t,{label:l}=t,{tip:a}=t,{wide:u=!1}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,l=e.label),"tip"in e&&n(2,a=e.tip),"wide"in e&&n(3,u=e.wide),"$$scope"in e&&n(5,i=e.$$scope)},[s,l,a,u,r,i,o]}class Od extends je{constructor(e){super(),Ne(this,e,Md,zd,s,{value:0,label:1,tip:2,wide:3})}}function Pd(e){let t,n;return t=new Ld({props:{label:e[1]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.label=e[1]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Td(t){let n,r,o;return{c(){n=z("svg"),r=z("use"),j(r,"href",o="#"+t[0]+"-icon"),j(n,"class","svelte-5uhu10")},m(e,t){C(e,n,t),_(n,r)},p(e,t){1&t&&o!==(o="#"+e[0]+"-icon")&&j(r,"href",o)},i:e,o:e,d(e){e&&L(n)}}}function Nd(e){let t,n,r,i,s,l,a;const c=[Td,Pd],d=[];function m(e,t){return e[0]&&e[9]?0:1}n=m(e),r=d[n]=c[n](e);const g=e[13].default,v=u(g,e,e[12],null);return{c(){t=I("li"),r.c(),i=O(),v&&v.c(),j(t,"data-tooltip",e[2]),j(t,"data-gesture",e[3]),j(t,"data-hotkey",e[4]),j(t,"class","svelte-5uhu10"),H(t,"disabled",e[5]),H(t,"selected",e[6]),H(t,"flutter",e[7]),H(t,"right",e[8])},m(r,o){C(r,t,o),d[n].m(t,null),_(t,i),v&&v.m(t,null),s=!0,l||(a=[T(t,"click",e[10]),$(Bs.call(null,t))],l=!0)},p(e,[o]){let l=n;n=m(e),n===l?d[n].p(e,o):(ye(),ke(d[l],1,1,(()=>{d[l]=null})),be(),r=d[n],r?r.p(e,o):(r=d[n]=c[n](e),r.c()),we(r,1),r.m(t,i)),v&&v.p&&(!s||4096&o)&&h(v,g,e,e[12],s?p(g,e[12],o,null):f(e[12]),null),(!s||4&o)&&j(t,"data-tooltip",e[2]),(!s||8&o)&&j(t,"data-gesture",e[3]),(!s||16&o)&&j(t,"data-hotkey",e[4]),32&o&&H(t,"disabled",e[5]),64&o&&H(t,"selected",e[6]),128&o&&H(t,"flutter",e[7]),256&o&&H(t,"right",e[8])},i(e){s||(we(r),we(v,e),s=!0)},o(e){ke(r),ke(v,e),s=!1},d(e){e&&L(t),d[n].d(),v&&v.d(e),l=!1,o(a)}}}function jd(e,t,n){let r;c(e,Pt,(e=>n(9,r=e)));let{$$slots:o={},$$scope:i}=t,{value:s}=t,{label:l}=t,{tip:a}=t,{gesture:u}=t,{hotkey:d}=t,{disabled:p=!1}=t,{selected:h=!1}=t,{flutter:f=!1}=t,{right:m=!1}=t,{onclick:g}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"label"in e&&n(1,l=e.label),"tip"in e&&n(2,a=e.tip),"gesture"in e&&n(3,u=e.gesture),"hotkey"in e&&n(4,d=e.hotkey),"disabled"in e&&n(5,p=e.disabled),"selected"in e&&n(6,h=e.selected),"flutter"in e&&n(7,f=e.flutter),"right"in e&&n(8,m=e.right),"onclick"in e&&n(11,g=e.onclick),"$$scope"in e&&n(12,i=e.$$scope)},[s,l,a,u,d,p,h,f,m,r,e=>{e.stopPropagation(),g()},g,i,o]}class Bd extends je{constructor(e){super(),Ne(this,e,jd,Nd,s,{value:0,label:1,tip:2,gesture:3,hotkey:4,disabled:5,selected:6,flutter:7,right:8,onclick:11})}}function Dd(e){let t,n,r,i;return{c(){t=I("span"),n=M(""),j(t,"data-tooltip",e[1]),j(t,"class","svelte-e703nl")},m(o,s){C(o,t,s),_(t,n),r||(i=[T(t,"click",e[2]),$(Bs.call(null,t))],r=!0)},p(e,n){2&n&&j(t,"data-tooltip",e[1])},d(e){e&&L(t),r=!1,o(i)}}}function Ud(t){let n,r=Boolean(t[0]),o=r&&Dd(t);return{c(){o&&o.c(),n=P()},m(e,t){o&&o.m(e,t),C(e,n,t)},p(e,[t]){1&t&&(r=Boolean(e[0])),r?o?o.p(e,t):(o=Dd(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},i:e,o:e,d(e){o&&o.d(e),e&&L(n)}}}function Rd(e,t,n){let r,o,i;c(e,to,(e=>n(4,i=e)));let{key:s}=t;return e.$$set=e=>{"key"in e&&n(3,s=e.key)},e.$$.update=()=>{8&e.$$.dirty&&n(0,r=localStorage.getItem(s)),16&e.$$.dirty&&n(1,o=i("tooltip.locked"))},[r,o,function(e){e.stopPropagation(),localStorage.removeItem(s),n(0,r="")},s,i]}class qd extends je{constructor(e){super(),Ne(this,e,Rd,Ud,s,{key:3})}}function Gd(e,t,n){const r=e.slice();return r[5]=t[n],r}function Fd(e,t,n){const r=e.slice();return r[8]=t[n],r}function Hd(e){let t,n,r,o,i,s=e[1](`shield.${e[5]}.${e[8]}`)+"";return{c(){t=z("svg"),n=z("path"),r=O(),o=M(s),i=O(),j(n,"d",qe.data[e[8]].path),j(t,"width","26"),j(t,"height","26"),j(t,"viewBox","0 0 200 210"),j(t,"class","svelte-ljo27"),H(t,"selected",e[8]===e[0])},m(e,s){C(e,t,s),_(t,n),C(e,r,s),C(e,o,s),C(e,i,s)},p(e,n){9&n&&H(t,"selected",e[8]===e[0]),2&n&&s!==(s=e[1](`shield.${e[5]}.${e[8]}`)+"")&&U(o,s)},d(e){e&&L(t),e&&L(r),e&&L(o),e&&L(i)}}}function Vd(e){let t,n;return t=new Bd({props:{onclick:function(){return e[4](e[8])},$$slots:{default:[Hd]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(n,r){e=n;const o={};2051&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Jd(e){let t,n=e[1](`shield.types.${e[5]}`)+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){2&r&&n!==(n=e[1](`shield.types.${e[5]}`)+"")&&U(t,n)},d(e){e&&L(t)}}}function Zd(e){let t,n,r,o,i,s,l=e[3](e[5]),a=[];for(let t=0;t<l.length;t+=1)a[t]=Vd(Fd(e,l,t));const c=e=>ke(a[e],1,1,(()=>{a[e]=null}));return o=new Od({props:{$$slots:{default:[Jd]},$$scope:{ctx:e}}}),{c(){t=I("div"),n=I("div");for(let e=0;e<a.length;e+=1)a[e].c();r=O(),Oe(o.$$.fragment),i=O(),j(n,"class","dropdown level3 iconed svelte-ljo27"),j(t,"class","container")},m(e,l){C(e,t,l),_(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);_(t,r),Pe(o,t,null),_(t,i),s=!0},p(e,t){if(15&t){let r;for(l=e[3](e[5]),r=0;r<l.length;r+=1){const o=Fd(e,l,r);a[r]?(a[r].p(o,t),we(a[r],1)):(a[r]=Vd(o),a[r].c(),we(a[r],1),a[r].m(n,null))}for(ye(),r=l.length;r<a.length;r+=1)c(r);be()}const r={};2050&t&&(r.$$scope={dirty:t,ctx:e}),o.$set(r)},i(e){if(!s){for(let e=0;e<l.length;e+=1)we(a[e]);we(o.$$.fragment,e),s=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)ke(a[e]);ke(o.$$.fragment,e),s=!1},d(e){e&&L(t),A(a,e),Te(o)}}}function Kd(e){let t,n,r,o,i=e[1]("menu.shield")+"";return t=new qd({props:{key:"shield"}}),{c(){Oe(t.$$.fragment),n=O(),r=M(i)},m(e,i){Pe(t,e,i),C(e,n,i),C(e,r,i),o=!0},p(e,t){(!o||2&t)&&i!==(i=e[1]("menu.shield")+"")&&U(r,i)},i(e){o||(we(t.$$.fragment,e),o=!0)},o(e){ke(t.$$.fragment,e),o=!1},d(e){Te(t,e),e&&L(n),e&&L(r)}}}function Wd(e){let t,n;return t=new Od({props:{tip:e[1]("tooltip.shield"),$$slots:{default:[Kd]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.tip=e[1]("tooltip.shield")),2050&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Xd(t){let n,r,o,i,l=t[0],a=Ge,c=[];for(let e=0;e<a.length;e+=1)c[e]=Zd(Gd(t,a,e));const u=e=>ke(c[e],1,1,(()=>{c[e]=null}));let d=Wd(t);return{c(){n=I("div"),r=I("div");for(let e=0;e<c.length;e+=1)c[e].c();o=O(),d.c(),j(r,"class","dropdown level2"),j(n,"class","container")},m(e,t){C(e,n,t),_(n,r);for(let e=0;e<c.length;e+=1)c[e].m(r,null);_(n,o),d.m(n,null),i=!0},p(t,[o]){if(15&o){let e;for(a=Ge,e=0;e<a.length;e+=1){const n=Gd(t,a,e);c[e]?(c[e].p(n,o),we(c[e],1)):(c[e]=Zd(n),c[e].c(),we(c[e],1),c[e].m(r,null))}for(ye(),e=a.length;e<c.length;e+=1)u(e);be()}1&o&&s(l,l=t[0])?(ye(),ke(d,1,1,e),be(),d=Wd(t),d.c(),we(d),d.m(n,null)):d.p(t,o)},i(e){if(!i){for(let e=0;e<a.length;e+=1)we(c[e]);we(d),i=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)ke(c[e]);ke(d),i=!1},d(e){e&&L(n),A(c,e),d.d(e)}}}function Yd(e,t,n){let r,o;c(e,vt,(e=>n(0,r=e))),c(e,to,(e=>n(1,o=e)));const i=e=>{vt.set(e),localStorage.setItem("shield",e)};return[r,o,i,e=>Object.keys(qe[e]),e=>i(e)]}class Qd extends je{constructor(e){super(),Ne(this,e,Yd,Xd,s,{})}}function ep(e){let t,n,r,o,i,s,l=e[0]("menu.colors")+"";return t=new qd({props:{key:"tinctures"}}),r=new qd({props:{key:"colors"}}),{c(){Oe(t.$$.fragment),n=O(),Oe(r.$$.fragment),o=O(),i=M(l)},m(e,l){Pe(t,e,l),C(e,n,l),Pe(r,e,l),C(e,o,l),C(e,i,l),s=!0},p(e,t){(!s||1&t)&&l!==(l=e[0]("menu.colors")+"")&&U(i,l)},i(e){s||(we(t.$$.fragment,e),we(r.$$.fragment,e),s=!0)},o(e){ke(t.$$.fragment,e),ke(r.$$.fragment,e),s=!1},d(e){Te(t,e),e&&L(n),Te(r,e),e&&L(o),e&&L(i)}}}function tp(e){let t,n;return t=new Bd({props:{onclick:e[1],tip:e[0]("tooltip.colors"),$$slots:{default:[ep]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.tip=e[0]("tooltip.colors")),9&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function np(e,t,n){let r,o;c(e,Ot,(e=>n(2,r=e))),c(e,to,(e=>n(0,o=e)));return[o,()=>{g(Ot,r.tinctures=1,r)}]}class rp extends je{constructor(e){super(),Ne(this,e,np,tp,s,{})}}const op=[[80,"giant"],[100,"huge"],[150,"large"],[200,"medium"],[300,"small"],[400,"tiny"]],ip=["no","luster","spotlight","backlight","brink"],sp=["no","nourse","tessellation","sennwald","sulzbach"];function lp(e,t,n){const r=e.slice();return r[4]=t[n],r}function ap(e){let t,n,r=e[1](`gradient.${e[4]}`)+"";return{c(){t=M(r),n=O()},m(e,r){C(e,t,r),C(e,n,r)},p(e,n){2&n&&r!==(r=e[1](`gradient.${e[4]}`)+"")&&U(t,r)},d(e){e&&L(t),e&&L(n)}}}function cp(e){let t,n;return t=new Bd({props:{selected:e[4]===e[0],onclick:function(){return e[3](e[4])},$$slots:{default:[ap]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(n,r){e=n;const o={};1&r&&(o.selected=e[4]===e[0]),130&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function up(e){let t,n,r,o,i=e[1]("menu.gradient")+"";return t=new qd({props:{key:"grad"}}),{c(){Oe(t.$$.fragment),n=O(),r=M(i)},m(e,i){Pe(t,e,i),C(e,n,i),C(e,r,i),o=!0},p(e,t){(!o||2&t)&&i!==(i=e[1]("menu.gradient")+"")&&U(r,i)},i(e){o||(we(t.$$.fragment,e),o=!0)},o(e){ke(t.$$.fragment,e),o=!1},d(e){Te(t,e),e&&L(n),e&&L(r)}}}function dp(e){let t,n;return t=new Od({props:{tip:e[1]("tooltip.gradient"),$$slots:{default:[up]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.tip=e[1]("tooltip.gradient")),130&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function pp(t){let n,r,o,i,l=t[0],a=ip,c=[];for(let e=0;e<a.length;e+=1)c[e]=cp(lp(t,a,e));const u=e=>ke(c[e],1,1,(()=>{c[e]=null}));let d=dp(t);return{c(){n=I("div"),r=I("div");for(let e=0;e<c.length;e+=1)c[e].c();o=O(),d.c(),j(r,"class","dropdown level2"),j(n,"class","container")},m(e,t){C(e,n,t),_(n,r);for(let e=0;e<c.length;e+=1)c[e].m(r,null);_(n,o),d.m(n,null),i=!0},p(t,[o]){if(7&o){let e;for(a=ip,e=0;e<a.length;e+=1){const n=lp(t,a,e);c[e]?(c[e].p(n,o),we(c[e],1)):(c[e]=cp(n),c[e].c(),we(c[e],1),c[e].m(r,null))}for(ye(),e=a.length;e<c.length;e+=1)u(e);be()}1&o&&s(l,l=t[0])?(ye(),ke(d,1,1,e),be(),d=dp(t),d.c(),we(d),d.m(n,null)):d.p(t,o)},i(e){if(!i){for(let e=0;e<a.length;e+=1)we(c[e]);we(d),i=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)ke(c[e]);ke(d),i=!1},d(e){e&&L(n),A(c,e),d.d(e)}}}function hp(e,t,n){let r,o;c(e,gt,(e=>n(0,r=e))),c(e,to,(e=>n(1,o=e)));const i=e=>{gt.set(e),localStorage.setItem("grad",e)};return[r,o,i,e=>i(e)]}class fp extends je{constructor(e){super(),Ne(this,e,hp,pp,s,{})}}function mp(e,t,n){const r=e.slice();return r[4]=t[n],r}function gp(e){let t,n,r=e[1](`diaper.${e[4]}`)+"";return{c(){t=M(r),n=O()},m(e,r){C(e,t,r),C(e,n,r)},p(e,n){2&n&&r!==(r=e[1](`diaper.${e[4]}`)+"")&&U(t,r)},d(e){e&&L(t),e&&L(n)}}}function $p(e){let t,n;return t=new Bd({props:{selected:e[4]===e[0],onclick:function(){return e[3](e[4])},$$slots:{default:[gp]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(n,r){e=n;const o={};1&r&&(o.selected=e[4]===e[0]),130&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function vp(e){let t,n,r,o,i=e[1]("menu.damasking")+"";return t=new qd({props:{key:"diaper"}}),{c(){Oe(t.$$.fragment),n=O(),r=M(i)},m(e,i){Pe(t,e,i),C(e,n,i),C(e,r,i),o=!0},p(e,t){(!o||2&t)&&i!==(i=e[1]("menu.damasking")+"")&&U(r,i)},i(e){o||(we(t.$$.fragment,e),o=!0)},o(e){ke(t.$$.fragment,e),o=!1},d(e){Te(t,e),e&&L(n),e&&L(r)}}}function yp(e){let t,n;return t=new Od({props:{tip:e[1]("tooltip.damasking"),$$slots:{default:[vp]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.tip=e[1]("tooltip.damasking")),130&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function bp(t){let n,r,o,i,l=t[0],a=sp,c=[];for(let e=0;e<a.length;e+=1)c[e]=$p(mp(t,a,e));const u=e=>ke(c[e],1,1,(()=>{c[e]=null}));let d=yp(t);return{c(){n=I("div"),r=I("div");for(let e=0;e<c.length;e+=1)c[e].c();o=O(),d.c(),j(r,"class","dropdown level2"),j(n,"class","container")},m(e,t){C(e,n,t),_(n,r);for(let e=0;e<c.length;e+=1)c[e].m(r,null);_(n,o),d.m(n,null),i=!0},p(t,[o]){if(7&o){let e;for(a=sp,e=0;e<a.length;e+=1){const n=mp(t,a,e);c[e]?(c[e].p(n,o),we(c[e],1)):(c[e]=$p(n),c[e].c(),we(c[e],1),c[e].m(r,null))}for(ye(),e=a.length;e<c.length;e+=1)u(e);be()}1&o&&s(l,l=t[0])?(ye(),ke(d,1,1,e),be(),d=yp(t),d.c(),we(d),d.m(n,null)):d.p(t,o)},i(e){if(!i){for(let e=0;e<a.length;e+=1)we(c[e]);we(d),i=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)ke(c[e]);ke(d),i=!1},d(e){e&&L(n),A(c,e),d.d(e)}}}function wp(e,t,n){let r,o;c(e,$t,(e=>n(0,r=e))),c(e,to,(e=>n(1,o=e)));const i=e=>{$t.set(e),localStorage.setItem("diaper",e)};return[r,o,i,e=>i(e)]}class kp extends je{constructor(e){super(),Ne(this,e,wp,bp,s,{})}}function xp(e,t,n){const r=e.slice();return r[4]=t[n][0],r[5]=t[n][1],r}function _p(e){let t,n,r=e[1](`gallery.${e[5]}`)+"";return{c(){t=M(r),n=O()},m(e,r){C(e,t,r),C(e,n,r)},p(e,n){2&n&&r!==(r=e[1](`gallery.${e[5]}`)+"")&&U(t,r)},d(e){e&&L(t),e&&L(n)}}}function Ep(e){let t,n;return t=new Bd({props:{selected:e[4]===e[0],onclick:function(){return e[3](e[4])},$$slots:{default:[_p]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(n,r){e=n;const o={};1&r&&(o.selected=e[4]===e[0]),258&r&&(o.$$scope={dirty:r,ctx:e}),t.$set(o)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Sp(e){let t,n,r,o,i=e[1]("menu.gallery")+"";return t=new qd({props:{key:"size"}}),{c(){Oe(t.$$.fragment),n=O(),r=M(i)},m(e,i){Pe(t,e,i),C(e,n,i),C(e,r,i),o=!0},p(e,t){(!o||2&t)&&i!==(i=e[1]("menu.gallery")+"")&&U(r,i)},i(e){o||(we(t.$$.fragment,e),o=!0)},o(e){ke(t.$$.fragment,e),o=!1},d(e){Te(t,e),e&&L(n),e&&L(r)}}}function Cp(e){let t,n;return t=new Od({props:{tip:e[1]("tooltip.gallery"),$$slots:{default:[Sp]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.tip=e[1]("tooltip.gallery")),258&n&&(r.$$scope={dirty:n,ctx:e}),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Lp(t){let n,r,o,i,l=t[0],a=op,c=[];for(let e=0;e<a.length;e+=1)c[e]=Ep(xp(t,a,e));const u=e=>ke(c[e],1,1,(()=>{c[e]=null}));let d=Cp(t);return{c(){n=I("div"),r=I("div");for(let e=0;e<c.length;e+=1)c[e].c();o=O(),d.c(),j(r,"class","dropdown level2"),j(n,"class","container")},m(e,t){C(e,n,t),_(n,r);for(let e=0;e<c.length;e+=1)c[e].m(r,null);_(n,o),d.m(n,null),i=!0},p(t,[o]){if(7&o){let e;for(a=op,e=0;e<a.length;e+=1){const n=xp(t,a,e);c[e]?(c[e].p(n,o),we(c[e],1)):(c[e]=Ep(n),c[e].c(),we(c[e],1),c[e].m(r,null))}for(ye(),e=a.length;e<c.length;e+=1)u(e);be()}1&o&&s(l,l=t[0])?(ye(),ke(d,1,1,e),be(),d=Cp(t),d.c(),we(d),d.m(n,null)):d.p(t,o)},i(e){if(!i){for(let e=0;e<a.length;e+=1)we(c[e]);we(d),i=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)ke(c[e]);ke(d),i=!1},d(e){e&&L(n),A(c,e),d.d(e)}}}function Ap(e,t,n){let r,o;c(e,mt,(e=>n(0,r=e))),c(e,to,(e=>n(1,o=e)));const i=e=>{"number"==typeof e&&(mt.set(e),localStorage.setItem("size",String(e)))};return[r,o,i,e=>i(e)]}class Ip extends je{constructor(e){super(),Ne(this,e,Ap,Lp,s,{})}}function zp(t){let n,r,i,s,l;return{c(){n=z("svg"),r=z("use"),j(r,"href",i="#"+t[0]+"-icon"),j(n,"data-tooltip",t[1]),j(n,"class","svelte-m0cv10")},m(e,o){C(e,n,o),_(n,r),s||(l=[T(n,"click",t[2]),$(Bs.call(null,n))],s=!0)},p(e,[t]){1&t&&i!==(i="#"+e[0]+"-icon")&&j(r,"href",i),2&t&&j(n,"data-tooltip",e[1])},i:e,o:e,d(e){e&&L(n),s=!1,o(l)}}}function Mp(e,t,n){let{icon:r}=t,{tip:o}=t,{onclick:i}=t;return e.$$set=e=>{"icon"in e&&n(0,r=e.icon),"tip"in e&&n(1,o=e.tip),"onclick"in e&&n(3,i=e.onclick)},[r,o,e=>{e.stopPropagation(),i()},i]}class Op extends je{constructor(e){super(),Ne(this,e,Mp,zp,s,{icon:0,tip:1,onclick:3})}}function Pp(t){let n,r,o;return{c(){n=I("input"),j(n,"type","color"),n.value=t[0],j(n,"class","svelte-sqg2wx")},m(e,i){C(e,n,i),r||(o=T(n,"input",t[1]),r=!0)},p(e,[t]){1&t&&(n.value=e[0])},i:e,o:e,d(e){e&&L(n),r=!1,o()}}}function Tp(e,t,n){let{value:r}=t,{oninput:o}=t;return e.$$set=e=>{"value"in e&&n(0,r=e.value),"oninput"in e&&n(2,o=e.oninput)},[r,e=>{const t=e.target.value;o(t)},o]}class Np extends je{constructor(e){super(),Ne(this,e,Tp,Pp,s,{value:0,oninput:2})}}function jp(t){let n,r,o;return{c(){n=I("input"),j(n,"type","number"),j(n,"min",t[1]),j(n,"max",t[2]),j(n,"step",t[3]),n.value=t[0],j(n,"class","svelte-1h78xtb")},m(e,i){C(e,n,i),r||(o=T(n,"input",t[4]),r=!0)},p(e,[t]){2&t&&j(n,"min",e[1]),4&t&&j(n,"max",e[2]),8&t&&j(n,"step",e[3]),1&t&&(n.value=e[0])},i:e,o:e,d(e){e&&L(n),r=!1,o()}}}function Bp(e,t,n){let{value:r}=t,{oninput:o}=t,{min:i=0}=t,{max:s=1/0}=t,{step:l=1}=t;return e.$$set=e=>{"value"in e&&n(0,r=e.value),"oninput"in e&&n(5,o=e.oninput),"min"in e&&n(1,i=e.min),"max"in e&&n(2,s=e.max),"step"in e&&n(3,l=e.step)},[r,i,s,l,e=>{const t=e.target.value;o(+t)},o]}class Dp extends je{constructor(e){super(),Ne(this,e,Bp,jp,s,{value:0,oninput:5,min:1,max:2,step:3})}}function Up(e){let t,n;return t=new Op({props:{icon:"undo",tip:e[0]("tooltip.undoColorChange"),onclick:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.tip=e[0]("tooltip.undoColorChange")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Rp(e){let t,n,r,o,i,s=e[0]("menu.color")+"",l=e[1]!==Ye&&Up(e);return o=new Np({props:{value:e[1],oninput:e[6]}}),{c(){t=M(s),n=O(),l&&l.c(),r=O(),Oe(o.$$.fragment)},m(e,s){C(e,t,s),C(e,n,s),l&&l.m(e,s),C(e,r,s),Pe(o,e,s),i=!0},p(e,n){(!i||1&n)&&s!==(s=e[0]("menu.color")+"")&&U(t,s),e[1]!==Ye?l?(l.p(e,n),2&n&&we(l,1)):(l=Up(e),l.c(),we(l,1),l.m(r.parentNode,r)):l&&(ye(),ke(l,1,1,(()=>{l=null})),be());const a={};2&n&&(a.value=e[1]),o.$set(a)},i(e){i||(we(l),we(o.$$.fragment,e),i=!0)},o(e){ke(l),ke(o.$$.fragment,e),i=!1},d(e){e&&L(t),e&&L(n),l&&l.d(e),e&&L(r),Te(o,e)}}}function qp(e){let t,n;return t=new Op({props:{icon:"undo",tip:e[0]("tooltip.undoBorderWidthChange"),onclick:e[4]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.tip=e[0]("tooltip.undoBorderWidthChange")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Gp(e){let t,n,r,o,i,s=e[0]("menu.width")+"",l=1!==e[2]&&qp(e);return o=new Dp({props:{min:0,max:4,step:.4,value:e[2],oninput:e[5]}}),{c(){t=M(s),n=O(),l&&l.c(),r=O(),Oe(o.$$.fragment)},m(e,s){C(e,t,s),C(e,n,s),l&&l.m(e,s),C(e,r,s),Pe(o,e,s),i=!0},p(e,n){(!i||1&n)&&s!==(s=e[0]("menu.width")+"")&&U(t,s),1!==e[2]?l?(l.p(e,n),4&n&&we(l,1)):(l=qp(e),l.c(),we(l,1),l.m(r.parentNode,r)):l&&(ye(),ke(l,1,1,(()=>{l=null})),be());const a={};4&n&&(a.value=e[2]),o.$set(a)},i(e){i||(we(l),we(o.$$.fragment,e),i=!0)},o(e){ke(l),ke(o.$$.fragment,e),i=!1},d(e){e&&L(t),e&&L(n),l&&l.d(e),e&&L(r),Te(o,e)}}}function Fp(e){let t,n=e[0]("menu.border")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("menu.border")+"")&&U(t,n)},d(e){e&&L(t)}}}function Hp(e){let t,n,r,o,i,s,l,a;return r=new Od({props:{$$slots:{default:[Rp]},$$scope:{ctx:e}}}),i=new Od({props:{$$slots:{default:[Gp]},$$scope:{ctx:e}}}),l=new Od({props:{tip:e[0]("tooltip.border"),$$slots:{default:[Fp]},$$scope:{ctx:e}}}),{c(){t=I("div"),n=I("div"),Oe(r.$$.fragment),o=O(),Oe(i.$$.fragment),s=O(),Oe(l.$$.fragment),j(n,"class","dropdown level2"),j(t,"class","container")},m(e,c){C(e,t,c),_(t,n),Pe(r,n,null),_(n,o),Pe(i,n,null),_(t,s),Pe(l,t,null),a=!0},p(e,[t]){const n={};131&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};133&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o);const s={};1&t&&(s.tip=e[0]("tooltip.border")),129&t&&(s.$$scope={dirty:t,ctx:e}),l.$set(s)},i(e){a||(we(r.$$.fragment,e),we(i.$$.fragment,e),we(l.$$.fragment,e),a=!0)},o(e){ke(r.$$.fragment,e),ke(i.$$.fragment,e),ke(l.$$.fragment,e),a=!1},d(e){e&&L(t),Te(r),Te(i),Te(l)}}}function Vp(e,t,n){let r,o,i;c(e,to,(e=>n(0,r=e))),c(e,Et,(e=>n(1,o=e))),c(e,St,(e=>n(2,i=e)));return[r,o,i,()=>{Et.set(Ye),localStorage.removeItem("border")},()=>{St.set(1),localStorage.removeItem("borderWidth")},e=>{St.set(e),localStorage.setItem("borderWidth",String(e))},e=>{Et.set(e),localStorage.setItem("border",e)}]}class Jp extends je{constructor(e){super(),Ne(this,e,Vp,Hp,s,{})}}function Zp(e){let t,n;return t=new Op({props:{icon:"undo",tip:e[0]("tooltip.undoColorChange"),onclick:e[2]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.tip=e[0]("tooltip.undoColorChange")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Kp(e){let t,n,r,o,i,s,l,a=e[0]("menu.color")+"";r=new Op({props:{icon:"random",tip:e[0]("tooltip.randomColor"),onclick:e[3]}});let c=e[1]!==Qe&&Zp(e);return s=new Np({props:{value:e[1],oninput:e[4]}}),{c(){t=M(a),n=O(),Oe(r.$$.fragment),o=O(),c&&c.c(),i=O(),Oe(s.$$.fragment)},m(e,a){C(e,t,a),C(e,n,a),Pe(r,e,a),C(e,o,a),c&&c.m(e,a),C(e,i,a),Pe(s,e,a),l=!0},p(e,n){(!l||1&n)&&a!==(a=e[0]("menu.color")+"")&&U(t,a);const o={};1&n&&(o.tip=e[0]("tooltip.randomColor")),r.$set(o),e[1]!==Qe?c?(c.p(e,n),2&n&&we(c,1)):(c=Zp(e),c.c(),we(c,1),c.m(i.parentNode,i)):c&&(ye(),ke(c,1,1,(()=>{c=null})),be());const u={};2&n&&(u.value=e[1]),s.$set(u)},i(e){l||(we(r.$$.fragment,e),we(c),we(s.$$.fragment,e),l=!0)},o(e){ke(r.$$.fragment,e),ke(c),ke(s.$$.fragment,e),l=!1},d(e){e&&L(t),e&&L(n),Te(r,e),e&&L(o),c&&c.d(e),e&&L(i),Te(s,e)}}}function Wp(e){let t,n=e[0]("menu.background")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("menu.background")+"")&&U(t,n)},d(e){e&&L(t)}}}function Xp(e){let t,n,r,o,i,s;return r=new Od({props:{$$slots:{default:[Kp]},$$scope:{ctx:e}}}),i=new Od({props:{tip:e[0]("tooltip.background"),$$slots:{default:[Wp]},$$scope:{ctx:e}}}),{c(){t=I("div"),n=I("div"),Oe(r.$$.fragment),o=O(),Oe(i.$$.fragment),j(n,"class","dropdown level2"),j(t,"class","container")},m(e,l){C(e,t,l),_(t,n),Pe(r,n,null),_(t,o),Pe(i,t,null),s=!0},p(e,[t]){const n={};35&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};1&t&&(o.tip=e[0]("tooltip.background")),33&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o)},i(e){s||(we(r.$$.fragment,e),we(i.$$.fragment,e),s=!0)},o(e){ke(r.$$.fragment,e),ke(i.$$.fragment,e),s=!1},d(e){e&&L(t),Te(r),Te(i)}}}function Yp(e,t,n){let r,o;c(e,to,(e=>n(0,r=e))),c(e,kt,(e=>n(1,o=e)));return[r,o,()=>{kt.set(Qe),localStorage.removeItem("background")},()=>{const e="#"+[0,0,0,0,0,0].map((()=>"0123456789ABCDEF"[Math.floor(16*Math.random())])).join("");kt.set(e),localStorage.setItem("background",e)},e=>{kt.set(e),localStorage.setItem("background",e)}]}class Qp extends je{constructor(e){super(),Ne(this,e,Yp,Xp,s,{})}}function eh(e){let t,n;return t=new Op({props:{icon:"undo",tip:e[0]("tooltip.undoColorChange"),onclick:e[2]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.tip=e[0]("tooltip.undoColorChange")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function th(e){let t,n,r,o,i,s,l,a=e[0]("menu.color")+"";r=new Op({props:{icon:"random",tip:e[0]("tooltip.randomColor"),onclick:e[3]}});let c=e[1]!==et&&eh(e);return s=new Np({props:{value:e[1],oninput:e[4]}}),{c(){t=M(a),n=O(),Oe(r.$$.fragment),o=O(),c&&c.c(),i=O(),Oe(s.$$.fragment)},m(e,a){C(e,t,a),C(e,n,a),Pe(r,e,a),C(e,o,a),c&&c.m(e,a),C(e,i,a),Pe(s,e,a),l=!0},p(e,n){(!l||1&n)&&a!==(a=e[0]("menu.color")+"")&&U(t,a);const o={};1&n&&(o.tip=e[0]("tooltip.randomColor")),r.$set(o),e[1]!==et?c?(c.p(e,n),2&n&&we(c,1)):(c=eh(e),c.c(),we(c,1),c.m(i.parentNode,i)):c&&(ye(),ke(c,1,1,(()=>{c=null})),be());const u={};2&n&&(u.value=e[1]),s.$set(u)},i(e){l||(we(r.$$.fragment,e),we(c),we(s.$$.fragment,e),l=!0)},o(e){ke(r.$$.fragment,e),ke(c),ke(s.$$.fragment,e),l=!1},d(e){e&&L(t),e&&L(n),Te(r,e),e&&L(o),c&&c.d(e),e&&L(i),Te(s,e)}}}function nh(e){let t,n=e[0]("menu.fontColor")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("menu.fontColor")+"")&&U(t,n)},d(e){e&&L(t)}}}function rh(e){let t,n,r,o,i,s;return r=new Od({props:{$$slots:{default:[th]},$$scope:{ctx:e}}}),i=new Od({props:{tip:e[0]("tooltip.fontColor"),$$slots:{default:[nh]},$$scope:{ctx:e}}}),{c(){t=I("div"),n=I("div"),Oe(r.$$.fragment),o=O(),Oe(i.$$.fragment),j(n,"class","dropdown level2"),j(t,"class","container")},m(e,l){C(e,t,l),_(t,n),Pe(r,n,null),_(t,o),Pe(i,t,null),s=!0},p(e,[t]){const n={};35&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};1&t&&(o.tip=e[0]("tooltip.fontColor")),33&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o)},i(e){s||(we(r.$$.fragment,e),we(i.$$.fragment,e),s=!0)},o(e){ke(r.$$.fragment,e),ke(i.$$.fragment,e),s=!1},d(e){e&&L(t),Te(r),Te(i)}}}function oh(e,t,n){let r,o;c(e,to,(e=>n(0,r=e))),c(e,xt,(e=>n(1,o=e)));return[r,o,()=>{xt.set(et),localStorage.removeItem("fontColor")},()=>{const e="#"+[0,0,0,0,0,0].map((()=>"0123456789ABCDEF"[Math.floor(16*Math.random())])).join("");xt.set(e),localStorage.setItem("fontColor",e)},e=>{xt.set(e),localStorage.setItem("fontColor",e)}]}class ih extends je{constructor(e){super(),Ne(this,e,oh,rh,s,{})}}function sh(t){let n,r,i,s,l;return{c(){n=I("input"),r=O(),i=I("input"),j(n,"type","range"),j(n,"min",t[1]),j(n,"max",t[2]),j(n,"step",t[3]),n.value=t[0],j(n,"class","svelte-1cxyc7"),j(i,"type","number"),j(i,"min",t[1]),j(i,"max",t[2]),j(i,"step",t[3]),i.value=t[0],j(i,"class","svelte-1cxyc7")},m(e,o){C(e,n,o),C(e,r,o),C(e,i,o),s||(l=[T(n,"input",t[4]),T(i,"input",t[4])],s=!0)},p(e,[t]){2&t&&j(n,"min",e[1]),4&t&&j(n,"max",e[2]),8&t&&j(n,"step",e[3]),1&t&&(n.value=e[0]),2&t&&j(i,"min",e[1]),4&t&&j(i,"max",e[2]),8&t&&j(i,"step",e[3]),1&t&&(i.value=e[0])},i:e,o:e,d(e){e&&L(n),e&&L(r),e&&L(i),s=!1,o(l)}}}function lh(e,t,n){let{value:r}=t,{oninput:o}=t,{min:i=0}=t,{max:s=1/0}=t,{step:l=1}=t;return e.$$set=e=>{"value"in e&&n(0,r=e.value),"oninput"in e&&n(5,o=e.oninput),"min"in e&&n(1,i=e.min),"max"in e&&n(2,s=e.max),"step"in e&&n(3,l=e.step)},[r,i,s,l,e=>{const t=e.target.value;o(+t)},o]}class ah extends je{constructor(e){super(),Ne(this,e,lh,sh,s,{value:0,oninput:5,min:1,max:2,step:3})}}function ch(e){let t,n;return t=new ah({props:{min:1,max:4,step:.1,value:e[0],oninput:e[2]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};1&n&&(r.value=e[0]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function uh(e){let t,n=e[1]("menu.scale")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("menu.scale")+"")&&U(t,n)},d(e){e&&L(t)}}}function dh(e){let t,n,r,o,i,s;return r=new Od({props:{wide:!0,$$slots:{default:[ch]},$$scope:{ctx:e}}}),i=new Od({props:{tip:e[1]("tooltip.scale"),$$slots:{default:[uh]},$$scope:{ctx:e}}}),{c(){t=I("div"),n=I("div"),Oe(r.$$.fragment),o=O(),Oe(i.$$.fragment),j(n,"class","dropdown level2"),j(t,"class","container")},m(e,l){C(e,t,l),_(t,n),Pe(r,n,null),_(t,o),Pe(i,t,null),s=!0},p(e,[t]){const n={};9&t&&(n.$$scope={dirty:t,ctx:e}),r.$set(n);const o={};2&t&&(o.tip=e[1]("tooltip.scale")),10&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o)},i(e){s||(we(r.$$.fragment,e),we(i.$$.fragment,e),s=!0)},o(e){ke(r.$$.fragment,e),ke(i.$$.fragment,e),s=!1},d(e){e&&L(t),Te(r),Te(i)}}}function ph(e,t,n){let r,o;c(e,_t,(e=>n(0,r=e))),c(e,to,(e=>n(1,o=e)));return[r,o,e=>{_t.set(e),localStorage.setItem("scale",String(r))}]}class hh extends je{constructor(e){super(),Ne(this,e,ph,dh,s,{})}}function fh(e){let t,n,r,o,i,s,l,a,c,u,d,p,h,f,m,g,$,v,y,b,w,k;return n=new Od({props:{value:"options",label:e[0]("menu.options")}}),i=new Qd({}),l=new rp({}),c=new fp({}),d=new kp({}),h=new Ip({}),m=new Jp({}),$=new Qp({}),y=new ih({}),w=new hh({}),{c(){t=I("div"),Oe(n.$$.fragment),r=O(),o=I("div"),Oe(i.$$.fragment),s=O(),Oe(l.$$.fragment),a=O(),Oe(c.$$.fragment),u=O(),Oe(d.$$.fragment),p=O(),Oe(h.$$.fragment),f=O(),Oe(m.$$.fragment),g=O(),Oe($.$$.fragment),v=O(),Oe(y.$$.fragment),b=O(),Oe(w.$$.fragment),j(o,"class","dropdown level1"),j(t,"class","container")},m(e,x){C(e,t,x),Pe(n,t,null),_(t,r),_(t,o),Pe(i,o,null),_(o,s),Pe(l,o,null),_(o,a),Pe(c,o,null),_(o,u),Pe(d,o,null),_(o,p),Pe(h,o,null),_(o,f),Pe(m,o,null),_(o,g),Pe($,o,null),_(o,v),Pe(y,o,null),_(o,b),Pe(w,o,null),k=!0},p(e,[t]){const r={};1&t&&(r.label=e[0]("menu.options")),n.$set(r)},i(e){k||(we(n.$$.fragment,e),we(i.$$.fragment,e),we(l.$$.fragment,e),we(c.$$.fragment,e),we(d.$$.fragment,e),we(h.$$.fragment,e),we(m.$$.fragment,e),we($.$$.fragment,e),we(y.$$.fragment,e),we(w.$$.fragment,e),k=!0)},o(e){ke(n.$$.fragment,e),ke(i.$$.fragment,e),ke(l.$$.fragment,e),ke(c.$$.fragment,e),ke(d.$$.fragment,e),ke(h.$$.fragment,e),ke(m.$$.fragment,e),ke($.$$.fragment,e),ke(y.$$.fragment,e),ke(w.$$.fragment,e),k=!1},d(e){e&&L(t),Te(n),Te(i),Te(l),Te(c),Te(d),Te(h),Te(m),Te($),Te(y),Te(w)}}}function mh(e,t,n){let r;return c(e,to,(e=>n(0,r=e))),[r]}class gh extends je{constructor(e){super(),Ne(this,e,mh,fh,s,{})}}function $h(e){let t,n;return t=new Bd({props:{value:"rollback",label:e[1]("menu.rollback"),disabled:!e[0],onclick:e[3],tip:e[1](e[2].edit?"tooltip.rollbackEdit":"tooltip.rollback"),gesture:e[1]("tooltip.swipeUp"),hotkey:"Backspace"}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.label=e[1]("menu.rollback")),1&n&&(r.disabled=!e[0]),6&n&&(r.tip=e[1](e[2].edit?"tooltip.rollbackEdit":"tooltip.rollback")),2&n&&(r.gesture=e[1]("tooltip.swipeUp")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function vh(e,t,n){let r,o,i;c(e,Mt,(e=>n(0,r=e))),c(e,to,(e=>n(1,o=e))),c(e,Ot,(e=>n(2,i=e)));return[r,o,i,()=>{g(Mt,r-=1,r)}]}class yh extends je{constructor(e){super(),Ne(this,e,vh,$h,s,{})}}function bh(e){let t,n;return t=new Bd({props:{value:"reroll",label:e[0]("menu.reroll"),onclick:e[2],tip:e[0](e[1].edit?"tooltip.rerollEdit":"tooltip.reroll"),gesture:e[0]("tooltip.swipeDown"),hotkey:"Enter"}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.label=e[0]("menu.reroll")),3&n&&(r.tip=e[0](e[1].edit?"tooltip.rerollEdit":"tooltip.reroll")),1&n&&(r.gesture=e[0]("tooltip.swipeDown")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function wh(e,t,n){let r,o,i;c(e,Mt,(e=>n(3,r=e))),c(e,to,(e=>n(0,o=e))),c(e,Ot,(e=>n(1,i=e)));return[o,i,()=>{g(Mt,r+=1,r)}]}class kh extends je{constructor(e){super(),Ne(this,e,wh,bh,s,{})}}function xh(e){let t,n=e[1]("menu.downloadSVG")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("menu.downloadSVG")+"")&&U(t,n)},d(e){e&&L(t)}}}function _h(e){let t,n=e[1]("menu.downloadPNG")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("menu.downloadPNG")+"")&&U(t,n)},d(e){e&&L(t)}}}function Eh(e){let t,n=e[1]("menu.downloadJPEG")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("menu.downloadJPEG")+"")&&U(t,n)},d(e){e&&L(t)}}}function Sh(e){let t,n=e[1]("menu.exportJSON")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("menu.exportJSON")+"")&&U(t,n)},d(e){e&&L(t)}}}function Ch(e){let t,n,r,o,i,s;return t=new Bd({props:{onclick:e[3],tip:e[1]("tooltip.copyEditLink"),$$slots:{default:[Lh]},$$scope:{ctx:e}}}),r=new Bd({props:{onclick:e[4],tip:e[1]("tooltip.copyApiLink"),$$slots:{default:[Ah]},$$scope:{ctx:e}}}),i=new Bd({props:{onclick:e[5],tip:e[1]("tooltip.copyCoaString"),$$slots:{default:[Ih]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment),n=O(),Oe(r.$$.fragment),o=O(),Oe(i.$$.fragment)},m(e,l){Pe(t,e,l),C(e,n,l),Pe(r,e,l),C(e,o,l),Pe(i,e,l),s=!0},p(e,n){const o={};2&n&&(o.tip=e[1]("tooltip.copyEditLink")),16386&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const s={};2&n&&(s.tip=e[1]("tooltip.copyApiLink")),16386&n&&(s.$$scope={dirty:n,ctx:e}),r.$set(s);const l={};2&n&&(l.tip=e[1]("tooltip.copyCoaString")),16386&n&&(l.$$scope={dirty:n,ctx:e}),i.$set(l)},i(e){s||(we(t.$$.fragment,e),we(r.$$.fragment,e),we(i.$$.fragment,e),s=!0)},o(e){ke(t.$$.fragment,e),ke(r.$$.fragment,e),ke(i.$$.fragment,e),s=!1},d(e){Te(t,e),e&&L(n),Te(r,e),e&&L(o),Te(i,e)}}}function Lh(e){let t,n=e[1]("menu.copyEditLink")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("menu.copyEditLink")+"")&&U(t,n)},d(e){e&&L(t)}}}function Ah(e){let t,n=e[1]("menu.copyApiLink")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("menu.copyApiLink")+"")&&U(t,n)},d(e){e&&L(t)}}}function Ih(e){let t,n=e[1]("menu.copyCoaString")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){2&r&&n!==(n=e[1]("menu.copyCoaString")+"")&&U(t,n)},d(e){e&&L(t)}}}function zh(e){let t,n,r,o,i,s,l,a,c,u,d,p,h;n=new Od({props:{value:"save",label:e[1]("menu.save")}}),i=new Bd({props:{onclick:e[6],tip:e[1]("tooltip.downloadSVG"),hotkey:"Ctrl + S",$$slots:{default:[xh]},$$scope:{ctx:e}}}),l=new Bd({props:{onclick:e[7],tip:e[1]("tooltip.downloadPNG"),hotkey:"Ctrl + P",$$slots:{default:[_h]},$$scope:{ctx:e}}}),c=new Bd({props:{onclick:e[8],tip:e[1]("tooltip.downloadJPEG"),hotkey:"Ctrl + J",$$slots:{default:[Eh]},$$scope:{ctx:e}}}),d=new Bd({props:{onclick:e[2],tip:e[1]("tooltip.exportJSON"),$$slots:{default:[Sh]},$$scope:{ctx:e}}});let f=e[0].edit&&Ch(e);return{c(){t=I("div"),Oe(n.$$.fragment),r=O(),o=I("div"),Oe(i.$$.fragment),s=O(),Oe(l.$$.fragment),a=O(),Oe(c.$$.fragment),u=O(),Oe(d.$$.fragment),p=O(),f&&f.c(),j(o,"class","dropdown level1"),j(t,"class","container")},m(e,m){C(e,t,m),Pe(n,t,null),_(t,r),_(t,o),Pe(i,o,null),_(o,s),Pe(l,o,null),_(o,a),Pe(c,o,null),_(o,u),Pe(d,o,null),_(o,p),f&&f.m(o,null),h=!0},p(e,[t]){const r={};2&t&&(r.label=e[1]("menu.save")),n.$set(r);const s={};2&t&&(s.tip=e[1]("tooltip.downloadSVG")),16386&t&&(s.$$scope={dirty:t,ctx:e}),i.$set(s);const a={};2&t&&(a.tip=e[1]("tooltip.downloadPNG")),16386&t&&(a.$$scope={dirty:t,ctx:e}),l.$set(a);const u={};2&t&&(u.tip=e[1]("tooltip.downloadJPEG")),16386&t&&(u.$$scope={dirty:t,ctx:e}),c.$set(u);const p={};2&t&&(p.tip=e[1]("tooltip.exportJSON")),16386&t&&(p.$$scope={dirty:t,ctx:e}),d.$set(p),e[0].edit?f?(f.p(e,t),1&t&&we(f,1)):(f=Ch(e),f.c(),we(f,1),f.m(o,null)):f&&(ye(),ke(f,1,1,(()=>{f=null})),be())},i(e){h||(we(n.$$.fragment,e),we(i.$$.fragment,e),we(l.$$.fragment,e),we(c.$$.fragment,e),we(d.$$.fragment,e),we(f),h=!0)},o(e){ke(n.$$.fragment,e),ke(i.$$.fragment,e),ke(l.$$.fragment,e),ke(c.$$.fragment,e),ke(d.$$.fragment,e),ke(f),h=!1},d(e){e&&L(t),Te(n),Te(i),Te(l),Te(c),Te(d),f&&f.d()}}}function Mh(e,t,n){let r,o,i,s,l,a;function u(e,t){Tt.clear(),navigator.clipboard.writeText(e).then((()=>{setTimeout((()=>{Tt.success(t)}),500)}),(e=>{Tt.error("error.copyToClipboard"),console.error(e)}))}c(e,Nt,(e=>n(9,r=e))),c(e,It,(e=>n(10,o=e))),c(e,Mt,(e=>n(11,i=e))),c(e,zt,(e=>n(12,s=e))),c(e,Ot,(e=>n(0,l=e))),c(e,to,(e=>n(1,a=e)));return[l,a,function(){if(l.edit)fo([JSON.parse(r[0])],"json");else{const e=[];for(const t of s[i]){const n={...o[t]};delete n.seed,e.push(n)}fo(e,"json")}},function(){const e=r[0].replaceAll("#","%23");u(location.origin+location.pathname+"?coa="+e,"success.copyEditLink")},function(){u(`https://armoria.herokuapp.com/?size=500&format=png&coa=${encodeURI(r[0])}`,"success.copyApiLink")},function(){u(encodeURI(r[0]),"success.copyCoaString")},()=>fo(null,"svg"),()=>fo(null,"png"),()=>fo(null,"jpeg")]}class Oh extends je{constructor(e){super(),Ne(this,e,Mh,zh,s,{})}}function Ph(e){let t,n=e[0]("menu.importJSON")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("menu.importJSON")+"")&&U(t,n)},d(e){e&&L(t)}}}function Th(e){let t,n=e[0]("menu.rasterCharge")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("menu.rasterCharge")+"")&&U(t,n)},d(e){e&&L(t)}}}function Nh(e){let t,n=e[0]("menu.vectorCharge")+"";return{c(){t=M(n)},m(e,n){C(e,t,n)},p(e,r){1&r&&n!==(n=e[0]("menu.vectorCharge")+"")&&U(t,n)},d(e){e&&L(t)}}}function jh(e){let t,n,r,o,i,s,l,a,c,u;return n=new Od({props:{value:"upload",label:e[0]("menu.upload")}}),i=new Bd({props:{onclick:e[1],tip:e[0]("tooltip.importJSON"),$$slots:{default:[Ph]},$$scope:{ctx:e}}}),l=new Bd({props:{onclick:e[2],tip:e[0]("tooltip.rasterCharge"),$$slots:{default:[Th]},$$scope:{ctx:e}}}),c=new Bd({props:{onclick:e[3],tip:e[0]("tooltip.vectorCharge"),$$slots:{default:[Nh]},$$scope:{ctx:e}}}),{c(){t=I("div"),Oe(n.$$.fragment),r=O(),o=I("div"),Oe(i.$$.fragment),s=O(),Oe(l.$$.fragment),a=O(),Oe(c.$$.fragment),j(o,"class","dropdown level1"),j(t,"class","container")},m(e,d){C(e,t,d),Pe(n,t,null),_(t,r),_(t,o),Pe(i,o,null),_(o,s),Pe(l,o,null),_(o,a),Pe(c,o,null),u=!0},p(e,[t]){const r={};1&t&&(r.label=e[0]("menu.upload")),n.$set(r);const o={};1&t&&(o.tip=e[0]("tooltip.importJSON")),33&t&&(o.$$scope={dirty:t,ctx:e}),i.$set(o);const s={};1&t&&(s.tip=e[0]("tooltip.rasterCharge")),33&t&&(s.$$scope={dirty:t,ctx:e}),l.$set(s);const a={};1&t&&(a.tip=e[0]("tooltip.vectorCharge")),33&t&&(a.$$scope={dirty:t,ctx:e}),c.$set(a)},i(e){u||(we(n.$$.fragment,e),we(i.$$.fragment,e),we(l.$$.fragment,e),we(c.$$.fragment,e),u=!0)},o(e){ke(n.$$.fragment,e),ke(i.$$.fragment,e),ke(l.$$.fragment,e),ke(c.$$.fragment,e),u=!1},d(e){e&&L(t),Te(n),Te(i),Te(l),Te(c)}}}function Bh(e,t,n){let r,o;c(e,Ot,(e=>n(4,r=e))),c(e,to,(e=>n(0,o=e)));return[o,()=>{g(Ot,r.import=1,r)},()=>{g(Ot,r.raster=1,r)},()=>{g(Ot,r.vector=1,r)}]}class Dh extends je{constructor(e){super(),Ne(this,e,Bh,jh,s,{})}}function Uh(e){let t,n;return t=new Bd({props:{value:"install",label:e[1]("menu.install"),onclick:e[2],flutter:!0,tip:e[1]("tooltip.install")}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};2&n&&(r.label=e[1]("menu.install")),2&n&&(r.tip=e[1]("tooltip.install")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Rh(e){let t,n,r=e[0]&&Uh(e);return{c(){r&&r.c(),t=P()},m(e,o){r&&r.m(e,o),C(e,t,o),n=!0},p(e,[n]){e[0]?r?(r.p(e,n),1&n&&we(r,1)):(r=Uh(e),r.c(),we(r,1),r.m(t.parentNode,t)):r&&(ye(),ke(r,1,1,(()=>{r=null})),be())},i(e){n||(we(r),n=!0)},o(e){ke(r),n=!1},d(e){r&&r.d(e),e&&L(t)}}}function qh(e,t,n){let r;c(e,to,(e=>n(1,r=e)));let o=!1,i=null;return window.addEventListener("beforeinstallprompt",(e=>{i=e,n(0,o=!0)})),window.addEventListener("appinstalled",(()=>{Tt.success("success.install")})),[o,r,function(){n(0,o=!1),i.prompt(),i.userChoice.then((()=>{i=null}))}]}class Gh extends je{constructor(e){super(),Ne(this,e,qh,Rh,s,{})}}function Fh(e){let t,n,r,o,i;n=new Od({props:{value:"other"}});const s=e[1].default,l=u(s,e,e[0],null);return{c(){t=I("div"),Oe(n.$$.fragment),r=O(),o=I("div"),l&&l.c(),j(o,"class","dropdown horizontal short svelte-1deb0ry"),j(t,"class","container")},m(e,s){C(e,t,s),Pe(n,t,null),_(t,r),_(t,o),l&&l.m(o,null),i=!0},p(e,[t]){l&&l.p&&(!i||1&t)&&h(l,s,e,e[0],i?p(s,e[0],t,null):f(e[0]),null)},i(e){i||(we(n.$$.fragment,e),we(l,e),i=!0)},o(e){ke(n.$$.fragment,e),ke(l,e),i=!1},d(e){e&&L(t),Te(n),l&&l.d(e)}}}function Hh(e,t,n){let{$$slots:r={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,r]}class Vh extends je{constructor(e){super(),Ne(this,e,Hh,Fh,s,{})}}function Jh(e){let t,n;return t=new Bd({props:{value:"undo",label:e[1]("menu.undo"),disabled:!e[0],onclick:Nt.undo,tip:e[1]("tooltip.undo"),gesture:e[1]("tooltip.swipeLeft"),hotkey:"Z"}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.label=e[1]("menu.undo")),1&n&&(r.disabled=!e[0]),2&n&&(r.tip=e[1]("tooltip.undo")),2&n&&(r.gesture=e[1]("tooltip.swipeLeft")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Zh(e,t,n){let r,o,i;return c(e,Nt,(e=>n(2,o=e))),c(e,to,(e=>n(1,i=e))),e.$$.update=()=>{4&e.$$.dirty&&n(0,r=o[1])},[r,i,o]}class Kh extends je{constructor(e){super(),Ne(this,e,Zh,Jh,s,{})}}function Wh(e){let t,n;return t=new Bd({props:{value:"redo",label:e[1]("menu.redo"),disabled:!e[0],onclick:Nt.redo,tip:e[1]("tooltip.redo"),gesture:e[1]("tooltip.swipeRight"),hotkey:"X"}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};2&n&&(r.label=e[1]("menu.redo")),1&n&&(r.disabled=!e[0]),2&n&&(r.tip=e[1]("tooltip.redo")),2&n&&(r.gesture=e[1]("tooltip.swipeRight")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Xh(e,t,n){let r,o,i;return c(e,Nt,(e=>n(2,o=e))),c(e,to,(e=>n(1,i=e))),e.$$.update=()=>{4&e.$$.dirty&&n(0,r=o[1]<Nt.length()-1)},[r,i,o]}class Yh extends je{constructor(e){super(),Ne(this,e,Xh,Wh,s,{})}}function Qh(e){let t,n;return t=new Bd({props:{value:"license",label:e[0]("menu.license"),onclick:e[1],tip:e[0]("tooltip.license")}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.label=e[0]("menu.license")),1&n&&(r.tip=e[0]("tooltip.license")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function ef(e,t,n){let r,o;c(e,Ot,(e=>n(2,r=e))),c(e,to,(e=>n(0,o=e)));return[o,()=>{g(Ot,r.license=1,r)}]}class tf extends je{constructor(e){super(),Ne(this,e,ef,Qh,s,{})}}function nf(e){let t,n;return t=new Bd({props:{value:"about",label:e[0]("menu.about"),onclick:e[1],tip:e[0]("tooltip.about"),hotkey:"F1"}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.label=e[0]("menu.about")),1&n&&(r.tip=e[0]("tooltip.about")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function rf(e,t,n){let r,o;c(e,Ot,(e=>n(2,r=e))),c(e,to,(e=>n(0,o=e)));return[o,()=>{g(Ot,r.about=1,r)}]}class of extends je{constructor(e){super(),Ne(this,e,rf,nf,s,{})}}function sf(e){let t,n;return t=new Bd({props:{value:"support",label:e[0]("menu.support"),onclick:e[1],tip:e[0]("tooltip.support")}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.label=e[0]("menu.support")),1&n&&(r.tip=e[0]("tooltip.support")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function lf(e,t,n){let r;c(e,to,(e=>n(0,r=e)));return[r,()=>{var e;e="https://www.patreon.com/azgaar",window.open(e,"_blank")}]}class af extends je{constructor(e){super(),Ne(this,e,lf,sf,s,{})}}function cf(e,t,n){const r=e.slice();return r[5]=t[n],r}function uf(e){let t,n;return t=new Bd({props:{selected:e[2]===e[5],label:e[4](e[5]),onclick:e[3](e[5])}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};6&n&&(r.selected=e[2]===e[5]),2&n&&(r.label=e[4](e[5])),2&n&&(r.onclick=e[3](e[5])),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function df(e){let t,n,r,o,i;n=new Od({props:{value:"language",label:e[0]("menu.language"),tip:e[0]("tooltip.language")}});let s=e[1],l=[];for(let t=0;t<s.length;t+=1)l[t]=uf(cf(e,s,t));const a=e=>ke(l[e],1,1,(()=>{l[e]=null}));return{c(){t=I("div"),Oe(n.$$.fragment),r=O(),o=I("div");for(let e=0;e<l.length;e+=1)l[e].c();j(o,"class","dropdown level1"),j(t,"class","container")},m(e,s){C(e,t,s),Pe(n,t,null),_(t,r),_(t,o);for(let e=0;e<l.length;e+=1)l[e].m(o,null);i=!0},p(e,[t]){const r={};if(1&t&&(r.label=e[0]("menu.language")),1&t&&(r.tip=e[0]("tooltip.language")),n.$set(r),30&t){let n;for(s=e[1],n=0;n<s.length;n+=1){const r=cf(e,s,n);l[n]?(l[n].p(r,t),we(l[n],1)):(l[n]=uf(r),l[n].c(),we(l[n],1),l[n].m(o,null))}for(ye(),n=s.length;n<l.length;n+=1)a(n);be()}},i(e){if(!i){we(n.$$.fragment,e);for(let e=0;e<s.length;e+=1)we(l[e]);i=!0}},o(e){ke(n.$$.fragment,e),l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)ke(l[e]);i=!1},d(e){e&&L(t),Te(n),A(l,e)}}}function pf(e,t,n){let r,o,i;c(e,to,(e=>n(0,r=e))),c(e,Sr,(e=>n(1,o=e))),c(e,Gr,(e=>n(2,i=e)));return[r,o,i,e=>()=>{Gr.set(e),localStorage.setItem("locale",e)},e=>{const t=new Intl.DisplayNames([e],{type:"language"});return(n=t.of(e)).charAt(0).toUpperCase()+n.slice(1);var n}]}class hf extends je{constructor(e){super(),Ne(this,e,pf,df,s,{})}}function ff(e){let t,n;return t=new Bd({props:{right:!0,value:"back",label:e[0]("menu.back"),onclick:e[1],tip:e[0]("tooltip.back"),hotkey:"Escape"}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,[n]){const r={};1&n&&(r.label=e[0]("menu.back")),1&n&&(r.tip=e[0]("tooltip.back")),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function mf(e,t,n){let r,o,i,s;c(e,Ot,(e=>n(2,r=e))),c(e,Nt,(e=>n(3,o=e))),c(e,It,(e=>n(4,i=e))),c(e,to,(e=>n(0,s=e)));return[s,()=>{g(It,i[r.c]=JSON.parse(o[0]),i),g(Ot,r.edit=0,r),g(Ot,r.selectedPath=-1,r)}]}class gf extends je{constructor(e){super(),Ne(this,e,mf,ff,s,{})}}function $f(e){let t,n,r,o,i,s,l,a,c,u,d,p,h,f,m;t=new gh({}),r=new yh({}),i=new kh({}),l=new Oh({});const g=[yf,vf],$=[];function v(e,t){return e[1]?0:1}c=v(e),u=$[c]=g[c](e),p=new Gh({});let y=e[2].edit&&_f();return{c(){Oe(t.$$.fragment),n=O(),Oe(r.$$.fragment),o=O(),Oe(i.$$.fragment),s=O(),Oe(l.$$.fragment),a=O(),u.c(),d=O(),Oe(p.$$.fragment),h=O(),y&&y.c(),f=P()},m(e,u){Pe(t,e,u),C(e,n,u),Pe(r,e,u),C(e,o,u),Pe(i,e,u),C(e,s,u),Pe(l,e,u),C(e,a,u),$[c].m(e,u),C(e,d,u),Pe(p,e,u),C(e,h,u),y&&y.m(e,u),C(e,f,u),m=!0},p(e,t){let n=c;c=v(e),c===n?$[c].p(e,t):(ye(),ke($[n],1,1,(()=>{$[n]=null})),be(),u=$[c],u?u.p(e,t):(u=$[c]=g[c](e),u.c()),we(u,1),u.m(d.parentNode,d)),e[2].edit?y?4&t&&we(y,1):(y=_f(),y.c(),we(y,1),y.m(f.parentNode,f)):y&&(ye(),ke(y,1,1,(()=>{y=null})),be())},i(e){m||(we(t.$$.fragment,e),we(r.$$.fragment,e),we(i.$$.fragment,e),we(l.$$.fragment,e),we(u),we(p.$$.fragment,e),we(y),m=!0)},o(e){ke(t.$$.fragment,e),ke(r.$$.fragment,e),ke(i.$$.fragment,e),ke(l.$$.fragment,e),ke(u),ke(p.$$.fragment,e),ke(y),m=!1},d(e){Te(t,e),e&&L(n),Te(r,e),e&&L(o),Te(i,e),e&&L(s),Te(l,e),e&&L(a),$[c].d(e),e&&L(d),Te(p,e),e&&L(h),y&&y.d(e),e&&L(f)}}}function vf(t){let n,r,o,i,s,l,a,c,u,d;return n=new Dh({}),o=new hf({}),s=new tf({}),a=new af({}),u=new of({}),{c(){Oe(n.$$.fragment),r=O(),Oe(o.$$.fragment),i=O(),Oe(s.$$.fragment),l=O(),Oe(a.$$.fragment),c=O(),Oe(u.$$.fragment)},m(e,t){Pe(n,e,t),C(e,r,t),Pe(o,e,t),C(e,i,t),Pe(s,e,t),C(e,l,t),Pe(a,e,t),C(e,c,t),Pe(u,e,t),d=!0},p:e,i(e){d||(we(n.$$.fragment,e),we(o.$$.fragment,e),we(s.$$.fragment,e),we(a.$$.fragment,e),we(u.$$.fragment,e),d=!0)},o(e){ke(n.$$.fragment,e),ke(o.$$.fragment,e),ke(s.$$.fragment,e),ke(a.$$.fragment,e),ke(u.$$.fragment,e),d=!1},d(e){Te(n,e),e&&L(r),Te(o,e),e&&L(i),Te(s,e),e&&L(l),Te(a,e),e&&L(c),Te(u,e)}}}function yf(e){let t,n,r,o;const i=[wf,bf],s=[];function l(e,t){return e[2].edit?0:1}return t=l(e),n=s[t]=i[t](e),{c(){n.c(),r=P()},m(e,n){s[t].m(e,n),C(e,r,n),o=!0},p(e,o){let a=t;t=l(e),t!==a&&(ye(),ke(s[a],1,1,(()=>{s[a]=null})),be(),n=s[t],n||(n=s[t]=i[t](e),n.c()),we(n,1),n.m(r.parentNode,r))},i(e){o||(we(n),o=!0)},o(e){ke(n),o=!1},d(e){s[t].d(e),e&&L(r)}}}function bf(e){let t,n,r,o,i,s,l,a;return t=new Dh({}),r=new hf({}),i=new af({}),l=new Vh({props:{$$slots:{default:[kf]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment),n=O(),Oe(r.$$.fragment),o=O(),Oe(i.$$.fragment),s=O(),Oe(l.$$.fragment)},m(e,c){Pe(t,e,c),C(e,n,c),Pe(r,e,c),C(e,o,c),Pe(i,e,c),C(e,s,c),Pe(l,e,c),a=!0},i(e){a||(we(t.$$.fragment,e),we(r.$$.fragment,e),we(i.$$.fragment,e),we(l.$$.fragment,e),a=!0)},o(e){ke(t.$$.fragment,e),ke(r.$$.fragment,e),ke(i.$$.fragment,e),ke(l.$$.fragment,e),a=!1},d(e){Te(t,e),e&&L(n),Te(r,e),e&&L(o),Te(i,e),e&&L(s),Te(l,e)}}}function wf(e){let t,n;return t=new Vh({props:{$$slots:{default:[xf]},$$scope:{ctx:e}}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function kf(e){let t,n,r,o;return t=new tf({}),r=new of({}),{c(){Oe(t.$$.fragment),n=O(),Oe(r.$$.fragment)},m(e,i){Pe(t,e,i),C(e,n,i),Pe(r,e,i),o=!0},i(e){o||(we(t.$$.fragment,e),we(r.$$.fragment,e),o=!0)},o(e){ke(t.$$.fragment,e),ke(r.$$.fragment,e),o=!1},d(e){Te(t,e),e&&L(n),Te(r,e)}}}function xf(e){let t,n,r,o,i,s,l,a,c,u;return t=new Dh({}),r=new hf({}),i=new tf({}),l=new af({}),c=new of({}),{c(){Oe(t.$$.fragment),n=O(),Oe(r.$$.fragment),o=O(),Oe(i.$$.fragment),s=O(),Oe(l.$$.fragment),a=O(),Oe(c.$$.fragment)},m(e,d){Pe(t,e,d),C(e,n,d),Pe(r,e,d),C(e,o,d),Pe(i,e,d),C(e,s,d),Pe(l,e,d),C(e,a,d),Pe(c,e,d),u=!0},i(e){u||(we(t.$$.fragment,e),we(r.$$.fragment,e),we(i.$$.fragment,e),we(l.$$.fragment,e),we(c.$$.fragment,e),u=!0)},o(e){ke(t.$$.fragment,e),ke(r.$$.fragment,e),ke(i.$$.fragment,e),ke(l.$$.fragment,e),ke(c.$$.fragment,e),u=!1},d(e){Te(t,e),e&&L(n),Te(r,e),e&&L(o),Te(i,e),e&&L(s),Te(l,e),e&&L(a),Te(c,e)}}}function _f(e){let t,n,r,o,i,s;return t=new Kh({}),r=new Yh({}),i=new gf({}),{c(){Oe(t.$$.fragment),n=O(),Oe(r.$$.fragment),o=O(),Oe(i.$$.fragment)},m(e,l){Pe(t,e,l),C(e,n,l),Pe(r,e,l),C(e,o,l),Pe(i,e,l),s=!0},i(e){s||(we(t.$$.fragment,e),we(r.$$.fragment,e),we(i.$$.fragment,e),s=!0)},o(e){ke(t.$$.fragment,e),ke(r.$$.fragment,e),ke(i.$$.fragment,e),s=!1},d(e){Te(t,e),e&&L(n),Te(r,e),e&&L(o),Te(i,e)}}}function Ef(e){let t,n,r,o;n=new _d({});let i=e[0]&&$f(e);return{c(){t=I("nav"),Oe(n.$$.fragment),r=O(),i&&i.c(),j(t,"class","svelte-1sxoqy9")},m(e,s){C(e,t,s),Pe(n,t,null),_(t,r),i&&i.m(t,null),o=!0},p(e,[n]){e[0]?i?(i.p(e,n),1&n&&we(i,1)):(i=$f(e),i.c(),we(i,1),i.m(t,null)):i&&(ye(),ke(i,1,1,(()=>{i=null})),be())},i(e){o||(we(n.$$.fragment,e),we(i),o=!0)},o(e){ke(n.$$.fragment,e),ke(i),o=!1},d(e){e&&L(t),Te(n),i&&i.d()}}}function Sf(e,t,n){let r,o,i;return c(e,ht,(e=>n(0,r=e))),c(e,Pt,(e=>n(1,o=e))),c(e,Ot,(e=>n(2,i=e))),[r,o,i]}class Cf extends je{constructor(e){super(),Ne(this,e,Sf,Ef,s,{})}}function Lf(e){let t,n,r,o,i,s,l,a,c,u,d,p,h,f,m;r=new Cf({});const g=[zf,If],$=[];function v(e,t){return e[5].edit?0:1}i=v(e),s=$[i]=g[i](e);let y=e[5].about&&Mf(),b=e[5].license&&Of(),w=e[5].import&&Pf(),k=e[5].raster&&Tf(),x=e[5].vector&&Nf(),E=e[5].tinctures&&jf(),S=e[5].fonts&&Bf(),A=e[7]&&e[8]&&Df();return{c(){t=I("div"),n=I("header"),Oe(r.$$.fragment),o=O(),s.c(),l=O(),y&&y.c(),a=O(),b&&b.c(),c=O(),w&&w.c(),u=O(),k&&k.c(),d=O(),x&&x.c(),p=O(),E&&E.c(),h=O(),S&&S.c(),f=O(),A&&A.c(),q(t,"background-color",e[6]),j(t,"class","svelte-flez0f")},m(e,s){C(e,t,s),_(t,n),Pe(r,n,null),_(t,o),$[i].m(t,null),_(t,l),y&&y.m(t,null),_(t,a),b&&b.m(t,null),_(t,c),w&&w.m(t,null),_(t,u),k&&k.m(t,null),_(t,d),x&&x.m(t,null),_(t,p),E&&E.m(t,null),_(t,h),S&&S.m(t,null),_(t,f),A&&A.m(t,null),m=!0},p(e,n){let r=i;i=v(e),i===r?$[i].p(e,n):(ye(),ke($[r],1,1,(()=>{$[r]=null})),be(),s=$[i],s?s.p(e,n):(s=$[i]=g[i](e),s.c()),we(s,1),s.m(t,l)),e[5].about?y?32&n&&we(y,1):(y=Mf(),y.c(),we(y,1),y.m(t,a)):y&&(ye(),ke(y,1,1,(()=>{y=null})),be()),e[5].license?b?32&n&&we(b,1):(b=Of(),b.c(),we(b,1),b.m(t,c)):b&&(ye(),ke(b,1,1,(()=>{b=null})),be()),e[5].import?w?32&n&&we(w,1):(w=Pf(),w.c(),we(w,1),w.m(t,u)):w&&(ye(),ke(w,1,1,(()=>{w=null})),be()),e[5].raster?k?32&n&&we(k,1):(k=Tf(),k.c(),we(k,1),k.m(t,d)):k&&(ye(),ke(k,1,1,(()=>{k=null})),be()),e[5].vector?x?32&n&&we(x,1):(x=Nf(),x.c(),we(x,1),x.m(t,p)):x&&(ye(),ke(x,1,1,(()=>{x=null})),be()),e[5].tinctures?E?32&n&&we(E,1):(E=jf(),E.c(),we(E,1),E.m(t,h)):E&&(ye(),ke(E,1,1,(()=>{E=null})),be()),e[5].fonts?S?32&n&&we(S,1):(S=Bf(),S.c(),we(S,1),S.m(t,f)):S&&(ye(),ke(S,1,1,(()=>{S=null})),be()),e[7]&&e[8]?A?384&n&&we(A,1):(A=Df(),A.c(),we(A,1),A.m(t,null)):A&&(ye(),ke(A,1,1,(()=>{A=null})),be()),(!m||64&n)&&q(t,"background-color",e[6])},i(e){m||(we(r.$$.fragment,e),we(s),we(y),we(b),we(w),we(k),we(x),we(E),we(S),we(A),m=!0)},o(e){ke(r.$$.fragment,e),ke(s),ke(y),ke(b),ke(w),ke(k),ke(x),ke(E),ke(S),ke(A),m=!1},d(e){e&&L(t),Te(r),$[i].d(),y&&y.d(),b&&b.d(),w&&w.d(),k&&k.d(),x&&x.d(),E&&E.d(),S&&S.d(),A&&A.d()}}}function Af(e){let t,n;return t=new bd({props:{c:e[5].c,seed:e[3],coaSize:e[4]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.c=e[5].c),8&n&&(r.seed=e[3]),16&n&&(r.coaSize=e[4]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function If(e){let t,n;return t=new su({props:{gallery:e[2],width:e[0],height:e[1]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};4&n&&(r.gallery=e[2]),1&n&&(r.width=e[0]),2&n&&(r.height=e[1]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function zf(e){let t,n;return t=new qc({props:{historyId:e[5].c,seed:e[3]}}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},p(e,n){const r={};32&n&&(r.historyId=e[5].c),8&n&&(r.seed=e[3]),t.$set(r)},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Mf(e){let t,n;return t=new Kc({}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Of(e){let t,n;return t=new fu({}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Pf(e){let t,n;return t=new Ru({}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Tf(e){let t,n;return t=new nd({}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Nf(e){let t,n;return t=new gd({}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function jf(e){let t,n;return t=new Pu({}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Bf(e){let t,n;return t=new eu({}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Df(e){let t,n;return t=new po({}),{c(){Oe(t.$$.fragment)},m(e,r){Pe(t,e,r),n=!0},i(e){n||(we(t.$$.fragment,e),n=!0)},o(e){ke(t.$$.fragment,e),n=!1},d(e){Te(t,e)}}}function Uf(e){let t,n,r,o,i;const s=[Af,Lf],l=[];function a(e,t){return e[5].view?0:1}return t=a(e),n=l[t]=s[t](e),o=new bo({}),{c(){n.c(),r=O(),Oe(o.$$.fragment)},m(e,n){l[t].m(e,n),C(e,r,n),Pe(o,e,n),i=!0},p(e,[o]){let i=t;t=a(e),t===i?l[t].p(e,o):(ye(),ke(l[i],1,1,(()=>{l[i]=null})),be(),n=l[t],n?n.p(e,o):(n=l[t]=s[t](e),n.c()),we(n,1),n.m(r.parentNode,r))},i(e){i||(we(n),we(o.$$.fragment,e),i=!0)},o(e){ke(n),ke(o.$$.fragment,e),i=!1},d(e){l[t].d(e),e&&L(r),Te(o,e)}}}function Rf(e,t,n){let r,o,i,s,l,a,u,d,p,h,f,m,$,v,y;c(e,Ot,(e=>n(5,r=e))),c(e,zt,(e=>n(13,o=e))),c(e,It,(e=>n(14,i=e))),c(e,At,(e=>n(15,s=e))),c(e,wt,(e=>n(16,l=e))),c(e,vt,(e=>n(17,a=e))),c(e,mt,(e=>n(9,u=e))),c(e,Mt,(e=>n(10,d=e))),c(e,Gr,(e=>n(18,p=e))),c(e,kt,(e=>n(6,h=e))),c(e,Tt,(e=>n(7,f=e))),c(e,ht,(e=>n(8,m=e)));let b,w=[],k=200;return g(Gr,p="en",p),Object.entries(l).forEach((([e,{url:t}])=>{if(t){const n=new FontFace(e,`url(${t})`);document.fonts.add(n)}})),Object.entries(s).forEach((([e,{category:t,type:n,data:r,content:o}])=>{De(e,t,5),r&&(Be.data[e]=r)})),function(){const e=new URL(window.location.href),t="1"===e.searchParams.get("view"),s=+e.searchParams.get("size"),l=e.searchParams.get("coa"),a=e.searchParams.get("seed"),c=e.searchParams.get("from");if(!l&&!a)return;if(l){if(!function(e){try{return JSON.parse(e),!0}catch(e){return console.error(e),Tt.error(e.message),!1}}(l))return;i.push(JSON.parse(l))}else a&&n(3,b=a);(l||a)&&("FMG"===c&&Tt.info("info.tipFromFmg",1e4),g(zt,o[0]=[0],o),t?(s&&n(4,k=s),g(Ot,r.view=1,r)):g(Ot,r.edit=1,r))}(),e.$$.update=()=>{512&e.$$.dirty&&n(0,[$,v,y]=function(e){const t=window.innerWidth,n=window.innerHeight-60,r=Math.ceil(t/e),o=Math.floor(t/r),i=Math.floor(n/o);return[r*i,o,Math.floor(n/i)]}(u),v,(n(1,y),n(9,u))),1536&e.$$.dirty&&function(e,t){const s=i.length;if(o[e]||(r.edit?(g(zt,o[e]=o[e-1].slice(),o),g(zt,o[e][r.i]=s,o),n(3,b=void 0)):g(zt,o[e]=Array.from({length:$},((e,t)=>s+t++)),o),localStorage.getItem("shield")||g(vt,a=it(qe[it(qe.types)]),a)),o[e].length<$){const t=o[e];g(zt,o[e]=[...Array($).keys()].map((e=>void 0!==t[e]?t[e]:s+e)),o)}n(2,w=o[e].slice(0,$)),(r.edit||r.view)&&g(Ot,r.c=o[e][r.i],r)}(d)},[v,y,w,b,k,r,h,f,m,u,d]}"serviceWorker"in navigator&&navigator.serviceWorker.register("./sw.js");const qf=new class extends je{constructor(e){super(),Ne(this,e,Rf,Uf,s,{})}}({target:document.body,props:{}});return qf}();
//# sourceMappingURL=bundle.js.map
